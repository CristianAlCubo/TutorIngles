(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m_={exports:{}},F0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gB;function Ere(){if(gB)return F0;gB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return F0.Fragment=t,F0.jsx=n,F0.jsxs=n,F0}var mB;function Tre(){return mB||(mB=1,m_.exports=Ere()),m_.exports}var F=Tre(),v_={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vB;function Rre(){if(vB)return Zt;vB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function C(L,ae,W){this.props=L,this.context=ae,this.refs=w,this.updater=W||m}C.prototype.isReactComponent={},C.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=C.prototype;function R(L,ae,W){this.props=L,this.context=ae,this.refs=w,this.updater=W||m}var E=R.prototype=new S;E.constructor=R,y(E,C.prototype),E.isPureReactComponent=!0;var P=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function D(L,ae,W,V,X,te){return W=te.ref,{$$typeof:e,type:L,key:ae,ref:W!==void 0?W:null,props:te}}function k(L,ae){return D(L.type,ae,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function B(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(W){return ae[W]})}var N=/\/+/g;function H(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):ae.toString(36)}function G(){}function oe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(G,G):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function le(L,ae,W,V,X){var te=typeof L;(te==="undefined"||te==="boolean")&&(L=null);var he=!1;if(L===null)he=!0;else switch(te){case"bigint":case"string":case"number":he=!0;break;case"object":switch(L.$$typeof){case e:case t:he=!0;break;case d:return he=L._init,le(he(L._payload),ae,W,V,X)}}if(he)return X=X(L),he=V===""?"."+H(L,0):V,P(X)?(W="",he!=null&&(W=he.replace(N,"$&/")+"/"),le(X,ae,W,"",function(_e){return _e})):X!=null&&(I(X)&&(X=k(X,W+(X.key==null||L&&L.key===X.key?"":(""+X.key).replace(N,"$&/")+"/")+he)),ae.push(X)),1;he=0;var Be=V===""?".":V+":";if(P(L))for(var Fe=0;Fe<L.length;Fe++)V=L[Fe],te=Be+H(V,Fe),he+=le(V,ae,W,te,X);else if(Fe=p(L),typeof Fe=="function")for(L=Fe.call(L),Fe=0;!(V=L.next()).done;)V=V.value,te=Be+H(V,Fe++),he+=le(V,ae,W,te,X);else if(te==="object"){if(typeof L.then=="function")return le(oe(L),ae,W,V,X);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return he}function Z(L,ae,W){if(L==null)return L;var V=[],X=0;return le(L,V,"","",function(te){return ae.call(W,te,X++)}),V}function se(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(W){(L._status===0||L._status===-1)&&(L._status=1,L._result=W)},function(W){(L._status===0||L._status===-1)&&(L._status=2,L._result=W)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ne(){}return Zt.Children={map:Z,forEach:function(L,ae,W){Z(L,function(){ae.apply(this,arguments)},W)},count:function(L){var ae=0;return Z(L,function(){ae++}),ae},toArray:function(L){return Z(L,function(ae){return ae})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Zt.Component=C,Zt.Fragment=n,Zt.Profiler=i,Zt.PureComponent=R,Zt.StrictMode=r,Zt.Suspense=l,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return M.H.useMemoCache(L)}},Zt.cache=function(L){return function(){return L.apply(null,arguments)}},Zt.cloneElement=function(L,ae,W){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var V=y({},L.props),X=L.key,te=void 0;if(ae!=null)for(he in ae.ref!==void 0&&(te=void 0),ae.key!==void 0&&(X=""+ae.key),ae)!A.call(ae,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ae.ref===void 0||(V[he]=ae[he]);var he=arguments.length-2;if(he===1)V.children=W;else if(1<he){for(var Be=Array(he),Fe=0;Fe<he;Fe++)Be[Fe]=arguments[Fe+2];V.children=Be}return D(L.type,X,void 0,void 0,te,V)},Zt.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Zt.createElement=function(L,ae,W){var V,X={},te=null;if(ae!=null)for(V in ae.key!==void 0&&(te=""+ae.key),ae)A.call(ae,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(X[V]=ae[V]);var he=arguments.length-2;if(he===1)X.children=W;else if(1<he){for(var Be=Array(he),Fe=0;Fe<he;Fe++)Be[Fe]=arguments[Fe+2];X.children=Be}if(L&&L.defaultProps)for(V in he=L.defaultProps,he)X[V]===void 0&&(X[V]=he[V]);return D(L,te,void 0,void 0,null,X)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(L){return{$$typeof:a,render:L}},Zt.isValidElement=I,Zt.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:se}},Zt.memo=function(L,ae){return{$$typeof:c,type:L,compare:ae===void 0?null:ae}},Zt.startTransition=function(L){var ae=M.T,W={};M.T=W;try{var V=L(),X=M.S;X!==null&&X(W,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ne,fe)}catch(te){fe(te)}finally{M.T=ae}},Zt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Zt.use=function(L){return M.H.use(L)},Zt.useActionState=function(L,ae,W){return M.H.useActionState(L,ae,W)},Zt.useCallback=function(L,ae){return M.H.useCallback(L,ae)},Zt.useContext=function(L){return M.H.useContext(L)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(L,ae){return M.H.useDeferredValue(L,ae)},Zt.useEffect=function(L,ae,W){var V=M.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(L,ae)},Zt.useId=function(){return M.H.useId()},Zt.useImperativeHandle=function(L,ae,W){return M.H.useImperativeHandle(L,ae,W)},Zt.useInsertionEffect=function(L,ae){return M.H.useInsertionEffect(L,ae)},Zt.useLayoutEffect=function(L,ae){return M.H.useLayoutEffect(L,ae)},Zt.useMemo=function(L,ae){return M.H.useMemo(L,ae)},Zt.useOptimistic=function(L,ae){return M.H.useOptimistic(L,ae)},Zt.useReducer=function(L,ae,W){return M.H.useReducer(L,ae,W)},Zt.useRef=function(L){return M.H.useRef(L)},Zt.useState=function(L){return M.H.useState(L)},Zt.useSyncExternalStore=function(L,ae,W){return M.H.useSyncExternalStore(L,ae,W)},Zt.useTransition=function(){return M.H.useTransition()},Zt.version="19.1.1",Zt}var yB;function j1(){return yB||(yB=1,v_.exports=Rre()),v_.exports}var T=j1();const ue=rm(T);var y_={exports:{}},I0={},w_={exports:{}},C_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wB;function _re(){return wB||(wB=1,function(e){function t(Z,se){var fe=Z.length;Z.push(se);e:for(;0<fe;){var ne=fe-1>>>1,L=Z[ne];if(0<i(L,se))Z[ne]=se,Z[fe]=L,fe=ne;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var se=Z[0],fe=Z.pop();if(fe!==se){Z[0]=fe;e:for(var ne=0,L=Z.length,ae=L>>>1;ne<ae;){var W=2*(ne+1)-1,V=Z[W],X=W+1,te=Z[X];if(0>i(V,fe))X<L&&0>i(te,V)?(Z[ne]=te,Z[X]=fe,ne=X):(Z[ne]=V,Z[W]=fe,ne=W);else if(X<L&&0>i(te,fe))Z[ne]=te,Z[X]=fe,ne=X;else break e}}return se}function i(Z,se){var fe=Z.sortIndex-se.sortIndex;return fe!==0?fe:Z.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,y=!1,w=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function P(Z){for(var se=n(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=Z)r(c),se.sortIndex=se.expirationTime,t(l,se);else break;se=n(c)}}function M(Z){if(w=!1,P(Z),!y)if(n(l)!==null)y=!0,A||(A=!0,H());else{var se=n(c);se!==null&&le(M,se.startTime-Z)}}var A=!1,D=-1,k=5,I=-1;function B(){return C?!0:!(e.unstable_now()-I<k)}function N(){if(C=!1,A){var Z=e.unstable_now();I=Z;var se=!0;try{e:{y=!1,w&&(w=!1,R(D),D=-1),m=!0;var fe=p;try{t:{for(P(Z),f=n(l);f!==null&&!(f.expirationTime>Z&&B());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var L=ne(f.expirationTime<=Z);if(Z=e.unstable_now(),typeof L=="function"){f.callback=L,P(Z),se=!0;break t}f===n(l)&&r(l),P(Z)}else r(l);f=n(l)}if(f!==null)se=!0;else{var ae=n(c);ae!==null&&le(M,ae.startTime-Z),se=!1}}break e}finally{f=null,p=fe,m=!1}se=void 0}}finally{se?H():A=!1}}}var H;if(typeof E=="function")H=function(){E(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,oe=G.port2;G.port1.onmessage=N,H=function(){oe.postMessage(null)}}else H=function(){S(N,0)};function le(Z,se){D=S(function(){Z(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(Z){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var fe=p;p=se;try{return Z()}finally{p=fe}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var fe=p;p=Z;try{return se()}finally{p=fe}},e.unstable_scheduleCallback=function(Z,se,fe){var ne=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ne+fe:ne):fe=ne,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,Z={id:d++,callback:se,priorityLevel:Z,startTime:fe,expirationTime:L,sortIndex:-1},fe>ne?(Z.sortIndex=fe,t(c,Z),n(l)===null&&Z===n(c)&&(w?(R(D),D=-1):w=!0,le(M,fe-ne))):(Z.sortIndex=L,t(l,Z),y||m||(y=!0,A||(A=!0,H()))),Z},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(Z){var se=p;return function(){var fe=p;p=se;try{return Z.apply(this,arguments)}finally{p=fe}}}}(C_)),C_}var CB;function Are(){return CB||(CB=1,w_.exports=_re()),w_.exports}var b_={exports:{}},es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB;function Dre(){if(bB)return es;bB=1;var e=j1();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,es.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,d)},es.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},es.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},es.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},es.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},es.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},es.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},es.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},es.requestFormReset=function(l){r.d.r(l)},es.unstable_batchedUpdates=function(l,c){return l(c)},es.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},es.useFormStatus=function(){return o.H.useHostTransitionStatus()},es.version="19.1.1",es}var xB;function Tz(){if(xB)return b_.exports;xB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),b_.exports=Dre(),b_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SB;function Pre(){if(SB)return I0;SB=1;var e=Are(),t=j1(),n=Tz();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function a(u){if(s(u)!==u)throw Error(r(188))}function l(u){var h=u.alternate;if(!h){if(h=s(u),h===null)throw Error(r(188));return h!==u?null:u}for(var g=u,v=h;;){var x=g.return;if(x===null)break;var _=x.alternate;if(_===null){if(v=x.return,v!==null){g=v;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===g)return a(x),u;if(_===v)return a(x),h;_=_.sibling}throw Error(r(188))}if(g.return!==v.return)g=x,v=_;else{for(var z=!1,Y=x.child;Y;){if(Y===g){z=!0,g=x,v=_;break}if(Y===v){z=!0,v=x,g=_;break}Y=Y.sibling}if(!z){for(Y=_.child;Y;){if(Y===g){z=!0,g=_,v=x;break}if(Y===v){z=!0,v=_,g=x;break}Y=Y.sibling}if(!z)throw Error(r(189))}}if(g.alternate!==v)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:h}function c(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=c(u),h!==null)return h;u=u.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=N&&u[N]||u["@@iterator"],typeof u=="function"?u:null)}var G=Symbol.for("react.client.reference");function oe(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===G?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case y:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case A:return"SuspenseList";case I:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case m:return"Portal";case E:return(u.displayName||"Context")+".Provider";case R:return(u._context.displayName||"Context")+".Consumer";case P:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case D:return h=u.displayName||null,h!==null?h:oe(u.type)||"Memo";case k:h=u._payload,u=u._init;try{return oe(u(h))}catch{}}return null}var le=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ne=[],L=-1;function ae(u){return{current:u}}function W(u){0>L||(u.current=ne[L],ne[L]=null,L--)}function V(u,h){L++,ne[L]=u.current,u.current=h}var X=ae(null),te=ae(null),he=ae(null),Be=ae(null);function Fe(u,h){switch(V(he,h),V(te,u),V(X,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?z4(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=z4(h),u=j4(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}W(X),V(X,u)}function _e(){W(X),W(te),W(he)}function Pe(u){u.memoizedState!==null&&V(Be,u);var h=X.current,g=j4(h,u.type);h!==g&&(V(te,u),V(X,g))}function nt(u){te.current===u&&(W(X),W(te)),Be.current===u&&(W(Be),_0._currentValue=fe)}var re=Object.prototype.hasOwnProperty,St=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Je=e.unstable_shouldYield,et=e.unstable_requestPaint,Me=e.unstable_now,ft=e.unstable_getCurrentPriorityLevel,kt=e.unstable_ImmediatePriority,Ct=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,Vt=e.unstable_LowPriority,Kt=e.unstable_IdlePriority,Jt=e.log,An=e.unstable_setDisableYieldValue,ve=null,Le=null;function Xe(u){if(typeof Jt=="function"&&An(u),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(ve,u)}catch{}}var ht=Math.clz32?Math.clz32:Fn,gt=Math.log,Yt=Math.LN2;function Fn(u){return u>>>=0,u===0?32:31-(gt(u)/Yt|0)|0}var nn=256,gr=4194304;function Ar(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ar(u,h,g){var v=u.pendingLanes;if(v===0)return 0;var x=0,_=u.suspendedLanes,z=u.pingedLanes;u=u.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~_,v!==0?x=Ar(v):(z&=Y,z!==0?x=Ar(z):g||(g=Y&~u,g!==0&&(x=Ar(g))))):(Y=v&~_,Y!==0?x=Ar(Y):z!==0?x=Ar(z):g||(g=v&~u,g!==0&&(x=Ar(g)))),x===0?0:h!==0&&h!==x&&(h&_)===0&&(_=x&-x,g=h&-h,_>=g||_===32&&(g&4194048)!==0)?h:x}function Br(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function Vr(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var u=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),u}function Ka(){var u=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),u}function Os(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function to(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function no(u,h,g,v,x,_){var z=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Y=u.entanglements,ce=u.expirationTimes,Re=u.hiddenUpdates;for(g=z&~g;0<g;){var He=31-ht(g),We=1<<He;Y[He]=0,ce[He]=-1;var ke=Re[He];if(ke!==null)for(Re[He]=null,He=0;He<ke.length;He++){var Ie=ke[He];Ie!==null&&(Ie.lane&=-536870913)}g&=~We}v!==0&&Oi(u,v,0),_!==0&&x===0&&u.tag!==0&&(u.suspendedLanes|=_&~(z&~h))}function Oi(u,h,g){u.pendingLanes|=h,u.suspendedLanes&=~h;var v=31-ht(h);u.entangledLanes|=h,u.entanglements[v]=u.entanglements[v]|1073741824|g&4194090}function Oo(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var v=31-ht(g),x=1<<v;x&h|u[v]&h&&(u[v]|=h),g&=~x}}function Lo(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Ya(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function de(){var u=se.p;return u!==0?u:(u=window.event,u===void 0?32:cB(u.type))}function be(u,h){var g=se.p;try{return se.p=u,h()}finally{se.p=g}}var Ee=Math.random().toString(36).slice(2),je="__reactFiber$"+Ee,Qe="__reactProps$"+Ee,mt="__reactContainer$"+Ee,bt="__reactEvents$"+Ee,yt="__reactListeners$"+Ee,j="__reactHandles$"+Ee,Q="__reactResources$"+Ee,q="__reactMarker$"+Ee;function K(u){delete u[je],delete u[Qe],delete u[bt],delete u[yt],delete u[j]}function ee(u){var h=u[je];if(h)return h;for(var g=u.parentNode;g;){if(h=g[mt]||g[je]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=K4(u);u!==null;){if(g=u[je])return g;u=K4(u)}return h}u=g,g=u.parentNode}return null}function ie(u){if(u=u[je]||u[mt]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function we(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function De(u){var h=u[Q];return h||(h=u[Q]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function me(u){u[q]=!0}var ye=new Set,Te={};function $e(u,h){Ze(u,h),Ze(u+"Capture",h)}function Ze(u,h){for(Te[u]=h,u=0;u<h.length;u++)ye.add(h[u])}var ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},it={};function Dt(u){return re.call(it,u)?!0:re.call(tt,u)?!1:ut.test(u)?it[u]=!0:(tt[u]=!0,!1)}function un(u,h,g){if(Dt(h))if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var v=h.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+g)}}function rn(u,h,g){if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+g)}}function xt(u,h,g,v){if(v===null)u.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(h,g,""+v)}}var Nn,ys;function Hr(u){if(Nn===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);Nn=h&&h[1]||"",ys=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nn+u+ys}var yn=!1;function ws(u,h){if(!u||yn)return"";yn=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(h){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ie){var ke=Ie}Reflect.construct(u,[],We)}else{try{We.call()}catch(Ie){ke=Ie}u.call(We.prototype)}}else{try{throw Error()}catch(Ie){ke=Ie}(We=u())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ie){if(Ie&&ke&&typeof Ie.stack=="string")return[Ie.stack,ke.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=v.DetermineComponentFrameRoot(),z=_[0],Y=_[1];if(z&&Y){var ce=z.split(`
`),Re=Y.split(`
`);for(x=v=0;v<ce.length&&!ce[v].includes("DetermineComponentFrameRoot");)v++;for(;x<Re.length&&!Re[x].includes("DetermineComponentFrameRoot");)x++;if(v===ce.length||x===Re.length)for(v=ce.length-1,x=Re.length-1;1<=v&&0<=x&&ce[v]!==Re[x];)x--;for(;1<=v&&0<=x;v--,x--)if(ce[v]!==Re[x]){if(v!==1||x!==1)do if(v--,x--,0>x||ce[v]!==Re[x]){var He=`
`+ce[v].replace(" at new "," at ");return u.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",u.displayName)),He}while(1<=v&&0<=x);break}}}finally{yn=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?Hr(g):""}function wi(u){switch(u.tag){case 26:case 27:case 5:return Hr(u.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return ws(u.type,!1);case 11:return ws(u.type.render,!1);case 1:return ws(u.type,!0);case 31:return Hr("Activity");default:return""}}function su(u){try{var h="";do h+=wi(u),u=u.return;while(u);return h}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Cs(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Om(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function CT(u){var h=Om(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),v=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,_=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return x.call(this)},set:function(z){v=""+z,_.call(this,z)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(z){v=""+z},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function jf(u){u._valueTracker||(u._valueTracker=CT(u))}function Lm(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),v="";return u&&(v=Om(u)?u.checked?"true":"false":u.value),u=v,u!==g?(h.setValue(u),!0):!1}function Hd(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var bT=/[\n"\\]/g;function Jr(u){return u.replace(bT,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function ro(u,h,g,v,x,_,z,Y){u.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?u.type=z:u.removeAttribute("type"),h!=null?z==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+Cs(h)):u.value!==""+Cs(h)&&(u.value=""+Cs(h)):z!=="submit"&&z!=="reset"||u.removeAttribute("value"),h!=null?ou(u,z,Cs(h)):g!=null?ou(u,z,Cs(g)):v!=null&&u.removeAttribute("value"),x==null&&_!=null&&(u.defaultChecked=!!_),x!=null&&(u.checked=x&&typeof x!="function"&&typeof x!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?u.name=""+Cs(Y):u.removeAttribute("name")}function Gd(u,h,g,v,x,_,z,Y){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(u.type=_),h!=null||g!=null){if(!(_!=="submit"&&_!=="reset"||h!=null))return;g=g!=null?""+Cs(g):"",h=h!=null?""+Cs(h):g,Y||h===u.value||(u.value=h),u.defaultValue=h}v=v??x,v=typeof v!="function"&&typeof v!="symbol"&&!!v,u.checked=Y?u.checked:!!v,u.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(u.name=z)}function ou(u,h,g){h==="number"&&Hd(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ec(u,h,g,v){if(u=u.options,h){h={};for(var x=0;x<g.length;x++)h["$"+g[x]]=!0;for(g=0;g<u.length;g++)x=h.hasOwnProperty("$"+u[g].value),u[g].selected!==x&&(u[g].selected=x),x&&v&&(u[g].defaultSelected=!0)}else{for(g=""+Cs(g),h=null,x=0;x<u.length;x++){if(u[x].value===g){u[x].selected=!0,v&&(u[x].defaultSelected=!0);return}h!==null||u[x].disabled||(h=u[x])}h!==null&&(h.selected=!0)}}function Kn(u,h,g){if(h!=null&&(h=""+Cs(h),h!==u.value&&(u.value=h),g==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=g!=null?""+Cs(g):""}function Ud(u,h,g,v){if(h==null){if(v!=null){if(g!=null)throw Error(r(92));if(le(v)){if(1<v.length)throw Error(r(93));v=v[0]}g=v}g==null&&(g=""),h=g}g=Cs(h),u.defaultValue=g,v=u.textContent,v===g&&v!==""&&v!==null&&(u.value=v)}function No(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var zd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gC(u,h,g){var v=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":v?u.setProperty(h,g):typeof g!="number"||g===0||zd.has(h)?h==="float"?u.cssFloat=g:u[h]=(""+g).trim():u[h]=g+"px"}function Nm(u,h,g){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||h!=null&&h.hasOwnProperty(v)||(v.indexOf("--")===0?u.setProperty(v,""):v==="float"?u.cssFloat="":u[v]="");for(var x in h)v=h[x],h.hasOwnProperty(x)&&g[x]!==v&&gC(u,x,v)}else for(var _ in h)h.hasOwnProperty(_)&&gC(u,_,h[_])}function Bm(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ST=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wf(u){return ST.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var tc=null;function Bo(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var nc=null,rc=null;function Vm(u){var h=ie(u);if(h&&(u=h.stateNode)){var g=u[Qe]||null;e:switch(u=h.stateNode,h.type){case"input":if(ro(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Jr(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var v=g[h];if(v!==u&&v.form===u.form){var x=v[Qe]||null;if(!x)throw Error(r(90));ro(v,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(h=0;h<g.length;h++)v=g[h],v.form===u.form&&Lm(v)}break e;case"textarea":Kn(u,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&ec(u,!!g.multiple,h,!1)}}}var Xa=!1;function mC(u,h,g){if(Xa)return u(h,g);Xa=!0;try{var v=u(h);return v}finally{if(Xa=!1,(nc!==null||rc!==null)&&(cb(),nc&&(h=nc,u=rc,rc=nc=null,Vm(h),u)))for(h=0;h<u.length;h++)Vm(u[h])}}function jd(u,h){var g=u.stateNode;if(g===null)return null;var v=g[Qe]||null;if(v===null)return null;g=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(u=u.type,v=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!v;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,h,typeof g));return g}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=!1;if(Ra)try{var Wd={};Object.defineProperty(Wd,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{Vo=!1}var Qa=null,au=null,ic=null;function Hm(){if(ic)return ic;var u,h=au,g=h.length,v,x="value"in Qa?Qa.value:Qa.textContent,_=x.length;for(u=0;u<g&&h[u]===x[u];u++);var z=g-u;for(v=1;v<=z&&h[g-v]===x[_-v];v++);return ic=x.slice(u,1<v?1-v:void 0)}function Ja(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Za(){return!0}function Gm(){return!1}function Ci(u){function h(g,v,x,_,z){this._reactName=g,this._targetInst=x,this.type=v,this.nativeEvent=_,this.target=z,this.currentTarget=null;for(var Y in u)u.hasOwnProperty(Y)&&(g=u[Y],this[Y]=g?g(_):_[Y]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Za:Gm,this.isPropagationStopped=Gm,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),h}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=Ci(Bn),$d=d({},Bn,{view:0,detail:0}),vC=Ci($d),qf,Kf,el,qd=d({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==el&&(el&&u.type==="mousemove"?(qf=u.screenX-el.screenX,Kf=u.screenY-el.screenY):Kf=qf=0,el=u),qf)},movementY:function(u){return"movementY"in u?u.movementY:Kf}}),Ho=Ci(qd),yC=d({},qd,{dataTransfer:0}),ET=Ci(yC),Kd=d({},$d,{relatedTarget:0}),Yf=Ci(Kd),Um=d({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xf=Ci(Um),wC=d({},Bn,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Qf=Ci(wC),TT=d({},Bn,{data:0}),zm=Ci(TT),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jm(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=bC[u])?!!h[u]:!1}function Xd(){return jm}var xC=d({},$d,{key:function(u){if(u.key){var h=Yd[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ja(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?CC[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(u){return u.type==="keypress"?Ja(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ja(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Jf=Ci(xC),SC=d({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wm=Ci(SC),sc=d({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),EC=Ci(sc),TC=d({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),RC=Ci(TC),_C=d({},qd,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Zf=Ci(_C),bs=d({},Bn,{newState:0,oldState:0}),AC=Ci(bs),DC=[9,13,27,32],tl=Ra&&"CompositionEvent"in window,b=null;Ra&&"documentMode"in document&&(b=document.documentMode);var O=Ra&&"TextEvent"in window&&!b,U=Ra&&(!tl||b&&8<b&&11>=b),J=" ",xe=!1;function Ne(u,h){switch(u){case"keyup":return DC.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var wn=!1;function di(u,h){switch(u){case"compositionend":return at(h);case"keypress":return h.which!==32?null:(xe=!0,J);case"textInput":return u=h.data,u===J&&xe?null:u;default:return null}}function Cn(u,h){if(wn)return u==="compositionend"||!tl&&Ne(u,h)?(u=Hm(),ic=au=Qa=null,wn=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return U&&h.locale!=="ko"?null:h.data;default:return null}}var bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hi(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!bi[u.type]:h==="textarea"}function oc(u,h,g,v){nc?rc?rc.push(v):rc=[v]:nc=v,h=gb(h,"onChange"),0<h.length&&(g=new $f("onChange","change",null,g,v),u.push({event:g,listeners:h}))}var Li=null,nl=null;function $m(u){B4(u,0)}function PC(u){var h=we(u);if(Lm(h))return u}function sL(u,h){if(u==="change")return h}var oL=!1;if(Ra){var RT;if(Ra){var _T="oninput"in document;if(!_T){var aL=document.createElement("div");aL.setAttribute("oninput","return;"),_T=typeof aL.oninput=="function"}RT=_T}else RT=!1;oL=RT&&(!document.documentMode||9<document.documentMode)}function lL(){Li&&(Li.detachEvent("onpropertychange",cL),nl=Li=null)}function cL(u){if(u.propertyName==="value"&&PC(nl)){var h=[];oc(h,nl,u,Bo(u)),mC($m,h)}}function ene(u,h,g){u==="focusin"?(lL(),Li=h,nl=g,Li.attachEvent("onpropertychange",cL)):u==="focusout"&&lL()}function tne(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return PC(nl)}function nne(u,h){if(u==="click")return PC(h)}function rne(u,h){if(u==="input"||u==="change")return PC(h)}function ine(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var io=typeof Object.is=="function"?Object.is:ine;function qm(u,h){if(io(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),v=Object.keys(h);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var x=g[v];if(!re.call(h,x)||!io(u[x],h[x]))return!1}return!0}function uL(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function dL(u,h){var g=uL(u);u=0;for(var v;g;){if(g.nodeType===3){if(v=u+g.textContent.length,u<=h&&v>=h)return{node:g,offset:h-u};u=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=uL(g)}}function hL(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?hL(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function fL(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Hd(u.document);h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=Hd(u.document)}return h}function AT(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var sne=Ra&&"documentMode"in document&&11>=document.documentMode,ep=null,DT=null,Km=null,PT=!1;function pL(u,h,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;PT||ep==null||ep!==Hd(v)||(v=ep,"selectionStart"in v&&AT(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Km&&qm(Km,v)||(Km=v,v=gb(DT,"onSelect"),0<v.length&&(h=new $f("onSelect","select",null,h,g),u.push({event:h,listeners:v}),h.target=ep)))}function Qd(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var tp={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionrun:Qd("Transition","TransitionRun"),transitionstart:Qd("Transition","TransitionStart"),transitioncancel:Qd("Transition","TransitionCancel"),transitionend:Qd("Transition","TransitionEnd")},kT={},gL={};Ra&&(gL=document.createElement("div").style,"AnimationEvent"in window||(delete tp.animationend.animation,delete tp.animationiteration.animation,delete tp.animationstart.animation),"TransitionEvent"in window||delete tp.transitionend.transition);function Jd(u){if(kT[u])return kT[u];if(!tp[u])return u;var h=tp[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in gL)return kT[u]=h[g];return u}var mL=Jd("animationend"),vL=Jd("animationiteration"),yL=Jd("animationstart"),one=Jd("transitionrun"),ane=Jd("transitionstart"),lne=Jd("transitioncancel"),wL=Jd("transitionend"),CL=new Map,FT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");FT.push("scrollEnd");function _a(u,h){CL.set(u,h),$e(h,[u])}var bL=new WeakMap;function Go(u,h){if(typeof u=="object"&&u!==null){var g=bL.get(u);return g!==void 0?g:(h={value:u,source:h,stack:su(h)},bL.set(u,h),h)}return{value:u,source:h,stack:su(h)}}var Uo=[],np=0,IT=0;function kC(){for(var u=np,h=IT=np=0;h<u;){var g=Uo[h];Uo[h++]=null;var v=Uo[h];Uo[h++]=null;var x=Uo[h];Uo[h++]=null;var _=Uo[h];if(Uo[h++]=null,v!==null&&x!==null){var z=v.pending;z===null?x.next=x:(x.next=z.next,z.next=x),v.pending=x}_!==0&&xL(g,x,_)}}function FC(u,h,g,v){Uo[np++]=u,Uo[np++]=h,Uo[np++]=g,Uo[np++]=v,IT|=v,u.lanes|=v,u=u.alternate,u!==null&&(u.lanes|=v)}function MT(u,h,g,v){return FC(u,h,g,v),IC(u)}function rp(u,h){return FC(u,null,null,h),IC(u)}function xL(u,h,g){u.lanes|=g;var v=u.alternate;v!==null&&(v.lanes|=g);for(var x=!1,_=u.return;_!==null;)_.childLanes|=g,v=_.alternate,v!==null&&(v.childLanes|=g),_.tag===22&&(u=_.stateNode,u===null||u._visibility&1||(x=!0)),u=_,_=_.return;return u.tag===3?(_=u.stateNode,x&&h!==null&&(x=31-ht(g),u=_.hiddenUpdates,v=u[x],v===null?u[x]=[h]:v.push(h),h.lane=g|536870912),_):null}function IC(u){if(50<w0)throw w0=0,HR=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var ip={};function cne(u,h,g,v){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(u,h,g,v){return new cne(u,h,g,v)}function OT(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ac(u,h){var g=u.alternate;return g===null?(g=so(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&65011712,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function SL(u,h){u.flags&=65011714;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,h=g.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function MC(u,h,g,v,x,_){var z=0;if(v=u,typeof u=="function")OT(u)&&(z=1);else if(typeof u=="string")z=dre(u,g,X.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case I:return u=so(31,g,h,x),u.elementType=I,u.lanes=_,u;case y:return Zd(g.children,x,_,h);case w:z=8,x|=24;break;case C:return u=so(12,g,h,x|2),u.elementType=C,u.lanes=_,u;case M:return u=so(13,g,h,x),u.elementType=M,u.lanes=_,u;case A:return u=so(19,g,h,x),u.elementType=A,u.lanes=_,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:case E:z=10;break e;case R:z=9;break e;case P:z=11;break e;case D:z=14;break e;case k:z=16,v=null;break e}z=29,g=Error(r(130,u===null?"null":typeof u,"")),v=null}return h=so(z,g,h,x),h.elementType=u,h.type=v,h.lanes=_,h}function Zd(u,h,g,v){return u=so(7,u,v,h),u.lanes=g,u}function LT(u,h,g){return u=so(6,u,null,h),u.lanes=g,u}function NT(u,h,g){return h=so(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var sp=[],op=0,OC=null,LC=0,zo=[],jo=0,eh=null,lc=1,cc="";function th(u,h){sp[op++]=LC,sp[op++]=OC,OC=u,LC=h}function EL(u,h,g){zo[jo++]=lc,zo[jo++]=cc,zo[jo++]=eh,eh=u;var v=lc;u=cc;var x=32-ht(v)-1;v&=~(1<<x),g+=1;var _=32-ht(h)+x;if(30<_){var z=x-x%5;_=(v&(1<<z)-1).toString(32),v>>=z,x-=z,lc=1<<32-ht(h)+x|g<<x|v,cc=_+u}else lc=1<<_|g<<x|v,cc=u}function BT(u){u.return!==null&&(th(u,1),EL(u,1,0))}function VT(u){for(;u===OC;)OC=sp[--op],sp[op]=null,LC=sp[--op],sp[op]=null;for(;u===eh;)eh=zo[--jo],zo[jo]=null,cc=zo[--jo],zo[jo]=null,lc=zo[--jo],zo[jo]=null}var xs=null,Dr=null,In=!1,nh=null,rl=!1,HT=Error(r(519));function rh(u){var h=Error(r(418,""));throw Qm(Go(h,u)),HT}function TL(u){var h=u.stateNode,g=u.type,v=u.memoizedProps;switch(h[je]=u,h[Qe]=v,g){case"dialog":hn("cancel",h),hn("close",h);break;case"iframe":case"object":case"embed":hn("load",h);break;case"video":case"audio":for(g=0;g<b0.length;g++)hn(b0[g],h);break;case"source":hn("error",h);break;case"img":case"image":case"link":hn("error",h),hn("load",h);break;case"details":hn("toggle",h);break;case"input":hn("invalid",h),Gd(h,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),jf(h);break;case"select":hn("invalid",h);break;case"textarea":hn("invalid",h),Ud(h,v.value,v.defaultValue,v.children),jf(h)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||v.suppressHydrationWarning===!0||U4(h.textContent,g)?(v.popover!=null&&(hn("beforetoggle",h),hn("toggle",h)),v.onScroll!=null&&hn("scroll",h),v.onScrollEnd!=null&&hn("scrollend",h),v.onClick!=null&&(h.onclick=mb),h=!0):h=!1,h||rh(u)}function RL(u){for(xs=u.return;xs;)switch(xs.tag){case 5:case 13:rl=!1;return;case 27:case 3:rl=!0;return;default:xs=xs.return}}function Ym(u){if(u!==xs)return!1;if(!In)return RL(u),In=!0,!1;var h=u.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||n_(u.type,u.memoizedProps)),g=!g),g&&Dr&&rh(u),RL(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(h===0){Dr=Da(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++;u=u.nextSibling}Dr=null}}else h===27?(h=Dr,Su(u.type)?(u=o_,o_=null,Dr=u):Dr=h):Dr=xs?Da(u.stateNode.nextSibling):null;return!0}function Xm(){Dr=xs=null,In=!1}function _L(){var u=nh;return u!==null&&(Bs===null?Bs=u:Bs.push.apply(Bs,u),nh=null),u}function Qm(u){nh===null?nh=[u]:nh.push(u)}var GT=ae(null),ih=null,uc=null;function lu(u,h,g){V(GT,h._currentValue),h._currentValue=g}function dc(u){u._currentValue=GT.current,W(GT)}function UT(u,h,g){for(;u!==null;){var v=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),u===g)break;u=u.return}}function zT(u,h,g,v){var x=u.child;for(x!==null&&(x.return=u);x!==null;){var _=x.dependencies;if(_!==null){var z=x.child;_=_.firstContext;e:for(;_!==null;){var Y=_;_=x;for(var ce=0;ce<h.length;ce++)if(Y.context===h[ce]){_.lanes|=g,Y=_.alternate,Y!==null&&(Y.lanes|=g),UT(_.return,g,u),v||(z=null);break e}_=Y.next}}else if(x.tag===18){if(z=x.return,z===null)throw Error(r(341));z.lanes|=g,_=z.alternate,_!==null&&(_.lanes|=g),UT(z,g,u),z=null}else z=x.child;if(z!==null)z.return=x;else for(z=x;z!==null;){if(z===u){z=null;break}if(x=z.sibling,x!==null){x.return=z.return,z=x;break}z=z.return}x=z}}function Jm(u,h,g,v){u=null;for(var x=h,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var z=x.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var Y=x.type;io(x.pendingProps.value,z.value)||(u!==null?u.push(Y):u=[Y])}}else if(x===Be.current){if(z=x.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(u!==null?u.push(_0):u=[_0])}x=x.return}u!==null&&zT(h,u,g,v),h.flags|=262144}function NC(u){for(u=u.firstContext;u!==null;){if(!io(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function sh(u){ih=u,uc=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Zi(u){return AL(ih,u)}function BC(u,h){return ih===null&&sh(u),AL(u,h)}function AL(u,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},uc===null){if(u===null)throw Error(r(308));uc=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else uc=uc.next=h;return g}var une=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(g,v){u.push(v)}};this.abort=function(){h.aborted=!0,u.forEach(function(g){return g()})}},dne=e.unstable_scheduleCallback,hne=e.unstable_NormalPriority,fi={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jT(){return{controller:new une,data:new Map,refCount:0}}function Zm(u){u.refCount--,u.refCount===0&&dne(hne,function(){u.controller.abort()})}var e0=null,WT=0,ap=0,lp=null;function fne(u,h){if(e0===null){var g=e0=[];WT=0,ap=qR(),lp={status:"pending",value:void 0,then:function(v){g.push(v)}}}return WT++,h.then(DL,DL),h}function DL(){if(--WT===0&&e0!==null){lp!==null&&(lp.status="fulfilled");var u=e0;e0=null,ap=0,lp=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function pne(u,h){var g=[],v={status:"pending",value:null,reason:null,then:function(x){g.push(x)}};return u.then(function(){v.status="fulfilled",v.value=h;for(var x=0;x<g.length;x++)(0,g[x])(h)},function(x){for(v.status="rejected",v.reason=x,x=0;x<g.length;x++)(0,g[x])(void 0)}),v}var PL=Z.S;Z.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&fne(u,h),PL!==null&&PL(u,h)};var oh=ae(null);function $T(){var u=oh.current;return u!==null?u:ir.pooledCache}function VC(u,h){h===null?V(oh,oh.current):V(oh,h.pool)}function kL(){var u=$T();return u===null?null:{parent:fi._currentValue,pool:u}}var t0=Error(r(460)),FL=Error(r(474)),HC=Error(r(542)),qT={then:function(){}};function IL(u){return u=u.status,u==="fulfilled"||u==="rejected"}function GC(){}function ML(u,h,g){switch(g=u[g],g===void 0?u.push(h):g!==h&&(h.then(GC,GC),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,LL(u),u;default:if(typeof h.status=="string")h.then(GC,GC);else{if(u=ir,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(v){if(h.status==="pending"){var x=h;x.status="fulfilled",x.value=v}},function(v){if(h.status==="pending"){var x=h;x.status="rejected",x.reason=v}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,LL(u),u}throw n0=h,t0}}var n0=null;function OL(){if(n0===null)throw Error(r(459));var u=n0;return n0=null,u}function LL(u){if(u===t0||u===HC)throw Error(r(483))}var cu=!1;function KT(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function YT(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function uu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function du(u,h,g){var v=u.updateQueue;if(v===null)return null;if(v=v.shared,(zn&2)!==0){var x=v.pending;return x===null?h.next=h:(h.next=x.next,x.next=h),v.pending=h,h=IC(u),xL(u,null,g),h}return FC(u,v,h,g),IC(u)}function r0(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var v=h.lanes;v&=u.pendingLanes,g|=v,h.lanes=g,Oo(u,g)}}function XT(u,h){var g=u.updateQueue,v=u.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var x=null,_=null;if(g=g.firstBaseUpdate,g!==null){do{var z={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};_===null?x=_=z:_=_.next=z,g=g.next}while(g!==null);_===null?x=_=h:_=_.next=h}else x=_=h;g={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:v.shared,callbacks:v.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}var QT=!1;function i0(){if(QT){var u=lp;if(u!==null)throw u}}function s0(u,h,g,v){QT=!1;var x=u.updateQueue;cu=!1;var _=x.firstBaseUpdate,z=x.lastBaseUpdate,Y=x.shared.pending;if(Y!==null){x.shared.pending=null;var ce=Y,Re=ce.next;ce.next=null,z===null?_=Re:z.next=Re,z=ce;var He=u.alternate;He!==null&&(He=He.updateQueue,Y=He.lastBaseUpdate,Y!==z&&(Y===null?He.firstBaseUpdate=Re:Y.next=Re,He.lastBaseUpdate=ce))}if(_!==null){var We=x.baseState;z=0,He=Re=ce=null,Y=_;do{var ke=Y.lane&-536870913,Ie=ke!==Y.lane;if(Ie?(bn&ke)===ke:(v&ke)===ke){ke!==0&&ke===ap&&(QT=!0),He!==null&&(He=He.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var jt=u,Ot=Y;ke=h;var Qn=g;switch(Ot.tag){case 1:if(jt=Ot.payload,typeof jt=="function"){We=jt.call(Qn,We,ke);break e}We=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Ot.payload,ke=typeof jt=="function"?jt.call(Qn,We,ke):jt,ke==null)break e;We=d({},We,ke);break e;case 2:cu=!0}}ke=Y.callback,ke!==null&&(u.flags|=64,Ie&&(u.flags|=8192),Ie=x.callbacks,Ie===null?x.callbacks=[ke]:Ie.push(ke))}else Ie={lane:ke,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},He===null?(Re=He=Ie,ce=We):He=He.next=Ie,z|=ke;if(Y=Y.next,Y===null){if(Y=x.shared.pending,Y===null)break;Ie=Y,Y=Ie.next,Ie.next=null,x.lastBaseUpdate=Ie,x.shared.pending=null}}while(!0);He===null&&(ce=We),x.baseState=ce,x.firstBaseUpdate=Re,x.lastBaseUpdate=He,_===null&&(x.shared.lanes=0),wu|=z,u.lanes=z,u.memoizedState=We}}function NL(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function BL(u,h){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)NL(g[u],h)}var cp=ae(null),UC=ae(0);function VL(u,h){u=yc,V(UC,u),V(cp,h),yc=u|h.baseLanes}function JT(){V(UC,yc),V(cp,cp.current)}function ZT(){yc=UC.current,W(cp),W(UC)}var hu=0,sn=null,Yn=null,Zr=null,zC=!1,up=!1,ah=!1,jC=0,o0=0,dp=null,gne=0;function Gr(){throw Error(r(321))}function eR(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!io(u[g],h[g]))return!1;return!0}function tR(u,h,g,v,x,_){return hu=_,sn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Z.H=u===null||u.memoizedState===null?xN:SN,ah=!1,_=g(v,x),ah=!1,up&&(_=GL(h,g,v,x)),HL(u),_}function HL(u){Z.H=XC;var h=Yn!==null&&Yn.next!==null;if(hu=0,Zr=Yn=sn=null,zC=!1,o0=0,dp=null,h)throw Error(r(300));u===null||xi||(u=u.dependencies,u!==null&&NC(u)&&(xi=!0))}function GL(u,h,g,v){sn=u;var x=0;do{if(up&&(dp=null),o0=0,up=!1,25<=x)throw Error(r(301));if(x+=1,Zr=Yn=null,u.updateQueue!=null){var _=u.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Z.H=xne,_=h(g,v)}while(up);return _}function mne(){var u=Z.H,h=u.useState()[0];return h=typeof h.then=="function"?a0(h):h,u=u.useState()[0],(Yn!==null?Yn.memoizedState:null)!==u&&(sn.flags|=1024),h}function nR(){var u=jC!==0;return jC=0,u}function rR(u,h,g){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~g}function iR(u){if(zC){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}zC=!1}hu=0,Zr=Yn=sn=null,up=!1,o0=jC=0,dp=null}function Ls(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?sn.memoizedState=Zr=u:Zr=Zr.next=u,Zr}function ei(){if(Yn===null){var u=sn.alternate;u=u!==null?u.memoizedState:null}else u=Yn.next;var h=Zr===null?sn.memoizedState:Zr.next;if(h!==null)Zr=h,Yn=u;else{if(u===null)throw sn.alternate===null?Error(r(467)):Error(r(310));Yn=u,u={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},Zr===null?sn.memoizedState=Zr=u:Zr=Zr.next=u}return Zr}function sR(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function a0(u){var h=o0;return o0+=1,dp===null&&(dp=[]),u=ML(dp,u,h),h=sn,(Zr===null?h.memoizedState:Zr.next)===null&&(h=h.alternate,Z.H=h===null||h.memoizedState===null?xN:SN),u}function WC(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return a0(u);if(u.$$typeof===E)return Zi(u)}throw Error(r(438,String(u)))}function oR(u){var h=null,g=sn.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var v=sn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(h={data:v.data.map(function(x){return x.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=sR(),sn.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(u),v=0;v<u;v++)g[v]=B;return h.index++,g}function hc(u,h){return typeof h=="function"?h(u):h}function $C(u){var h=ei();return aR(h,Yn,u)}function aR(u,h,g){var v=u.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=g;var x=u.baseQueue,_=v.pending;if(_!==null){if(x!==null){var z=x.next;x.next=_.next,_.next=z}h.baseQueue=x=_,v.pending=null}if(_=u.baseState,x===null)u.memoizedState=_;else{h=x.next;var Y=z=null,ce=null,Re=h,He=!1;do{var We=Re.lane&-536870913;if(We!==Re.lane?(bn&We)===We:(hu&We)===We){var ke=Re.revertLane;if(ke===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),We===ap&&(He=!0);else if((hu&ke)===ke){Re=Re.next,ke===ap&&(He=!0);continue}else We={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ce===null?(Y=ce=We,z=_):ce=ce.next=We,sn.lanes|=ke,wu|=ke;We=Re.action,ah&&g(_,We),_=Re.hasEagerState?Re.eagerState:g(_,We)}else ke={lane:We,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ce===null?(Y=ce=ke,z=_):ce=ce.next=ke,sn.lanes|=We,wu|=We;Re=Re.next}while(Re!==null&&Re!==h);if(ce===null?z=_:ce.next=Y,!io(_,u.memoizedState)&&(xi=!0,He&&(g=lp,g!==null)))throw g;u.memoizedState=_,u.baseState=z,u.baseQueue=ce,v.lastRenderedState=_}return x===null&&(v.lanes=0),[u.memoizedState,v.dispatch]}function lR(u){var h=ei(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var v=g.dispatch,x=g.pending,_=h.memoizedState;if(x!==null){g.pending=null;var z=x=x.next;do _=u(_,z.action),z=z.next;while(z!==x);io(_,h.memoizedState)||(xi=!0),h.memoizedState=_,h.baseQueue===null&&(h.baseState=_),g.lastRenderedState=_}return[_,v]}function UL(u,h,g){var v=sn,x=ei(),_=In;if(_){if(g===void 0)throw Error(r(407));g=g()}else g=h();var z=!io((Yn||x).memoizedState,g);z&&(x.memoizedState=g,xi=!0),x=x.queue;var Y=WL.bind(null,v,x,u);if(l0(2048,8,Y,[u]),x.getSnapshot!==h||z||Zr!==null&&Zr.memoizedState.tag&1){if(v.flags|=2048,hp(9,qC(),jL.bind(null,v,x,g,h),null),ir===null)throw Error(r(349));_||(hu&124)!==0||zL(v,h,g)}return g}function zL(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=sn.updateQueue,h===null?(h=sR(),sn.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function jL(u,h,g,v){h.value=g,h.getSnapshot=v,$L(h)&&qL(u)}function WL(u,h,g){return g(function(){$L(h)&&qL(u)})}function $L(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!io(u,g)}catch{return!0}}function qL(u){var h=rp(u,2);h!==null&&uo(h,u,2)}function cR(u){var h=Ls();if(typeof u=="function"){var g=u;if(u=g(),ah){Xe(!0);try{g()}finally{Xe(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:u},h}function KL(u,h,g,v){return u.baseState=g,aR(u,Yn,typeof v=="function"?v:hc)}function vne(u,h,g,v,x){if(YC(u))throw Error(r(485));if(u=h.action,u!==null){var _={payload:x,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){_.listeners.push(z)}};Z.T!==null?g(!0):_.isTransition=!1,v(_),g=h.pending,g===null?(_.next=h.pending=_,YL(h,_)):(_.next=g.next,h.pending=g.next=_)}}function YL(u,h){var g=h.action,v=h.payload,x=u.state;if(h.isTransition){var _=Z.T,z={};Z.T=z;try{var Y=g(x,v),ce=Z.S;ce!==null&&ce(z,Y),XL(u,h,Y)}catch(Re){uR(u,h,Re)}finally{Z.T=_}}else try{_=g(x,v),XL(u,h,_)}catch(Re){uR(u,h,Re)}}function XL(u,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){QL(u,h,v)},function(v){return uR(u,h,v)}):QL(u,h,g)}function QL(u,h,g){h.status="fulfilled",h.value=g,JL(h),u.state=g,h=u.pending,h!==null&&(g=h.next,g===h?u.pending=null:(g=g.next,h.next=g,YL(u,g)))}function uR(u,h,g){var v=u.pending;if(u.pending=null,v!==null){v=v.next;do h.status="rejected",h.reason=g,JL(h),h=h.next;while(h!==v)}u.action=null}function JL(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function ZL(u,h){return h}function eN(u,h){if(In){var g=ir.formState;if(g!==null){e:{var v=sn;if(In){if(Dr){t:{for(var x=Dr,_=rl;x.nodeType!==8;){if(!_){x=null;break t}if(x=Da(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){Dr=Da(x.nextSibling),v=x.data==="F!";break e}}rh(v)}v=!1}v&&(h=g[0])}}return g=Ls(),g.memoizedState=g.baseState=h,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZL,lastRenderedState:h},g.queue=v,g=wN.bind(null,sn,v),v.dispatch=g,v=cR(!1),_=gR.bind(null,sn,!1,v.queue),v=Ls(),x={state:h,dispatch:null,action:u,pending:null},v.queue=x,g=vne.bind(null,sn,x,_,g),x.dispatch=g,v.memoizedState=u,[h,g,!1]}function tN(u){var h=ei();return nN(h,Yn,u)}function nN(u,h,g){if(h=aR(u,h,ZL)[0],u=$C(hc)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var v=a0(h)}catch(z){throw z===t0?HC:z}else v=h;h=ei();var x=h.queue,_=x.dispatch;return g!==h.memoizedState&&(sn.flags|=2048,hp(9,qC(),yne.bind(null,x,g),null)),[v,_,u]}function yne(u,h){u.action=h}function rN(u){var h=ei(),g=Yn;if(g!==null)return nN(h,g,u);ei(),h=h.memoizedState,g=ei();var v=g.queue.dispatch;return g.memoizedState=u,[h,v,!1]}function hp(u,h,g,v){return u={tag:u,create:g,deps:v,inst:h,next:null},h=sn.updateQueue,h===null&&(h=sR(),sn.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=u.next=u:(v=g.next,g.next=u,u.next=v,h.lastEffect=u),u}function qC(){return{destroy:void 0,resource:void 0}}function iN(){return ei().memoizedState}function KC(u,h,g,v){var x=Ls();v=v===void 0?null:v,sn.flags|=u,x.memoizedState=hp(1|h,qC(),g,v)}function l0(u,h,g,v){var x=ei();v=v===void 0?null:v;var _=x.memoizedState.inst;Yn!==null&&v!==null&&eR(v,Yn.memoizedState.deps)?x.memoizedState=hp(h,_,g,v):(sn.flags|=u,x.memoizedState=hp(1|h,_,g,v))}function sN(u,h){KC(8390656,8,u,h)}function oN(u,h){l0(2048,8,u,h)}function aN(u,h){return l0(4,2,u,h)}function lN(u,h){return l0(4,4,u,h)}function cN(u,h){if(typeof h=="function"){u=u();var g=h(u);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function uN(u,h,g){g=g!=null?g.concat([u]):null,l0(4,4,cN.bind(null,h,u),g)}function dR(){}function dN(u,h){var g=ei();h=h===void 0?null:h;var v=g.memoizedState;return h!==null&&eR(h,v[1])?v[0]:(g.memoizedState=[u,h],u)}function hN(u,h){var g=ei();h=h===void 0?null:h;var v=g.memoizedState;if(h!==null&&eR(h,v[1]))return v[0];if(v=u(),ah){Xe(!0);try{u()}finally{Xe(!1)}}return g.memoizedState=[v,h],v}function hR(u,h,g){return g===void 0||(hu&1073741824)!==0?u.memoizedState=h:(u.memoizedState=g,u=g4(),sn.lanes|=u,wu|=u,g)}function fN(u,h,g,v){return io(g,h)?g:cp.current!==null?(u=hR(u,g,v),io(u,h)||(xi=!0),u):(hu&42)===0?(xi=!0,u.memoizedState=g):(u=g4(),sn.lanes|=u,wu|=u,h)}function pN(u,h,g,v,x){var _=se.p;se.p=_!==0&&8>_?_:8;var z=Z.T,Y={};Z.T=Y,gR(u,!1,h,g);try{var ce=x(),Re=Z.S;if(Re!==null&&Re(Y,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var He=pne(ce,v);c0(u,h,He,co(u))}else c0(u,h,v,co(u))}catch(We){c0(u,h,{then:function(){},status:"rejected",reason:We},co())}finally{se.p=_,Z.T=z}}function wne(){}function fR(u,h,g,v){if(u.tag!==5)throw Error(r(476));var x=gN(u).queue;pN(u,x,h,fe,g===null?wne:function(){return mN(u),g(v)})}function gN(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:fe},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:g},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function mN(u){var h=gN(u).next.queue;c0(u,h,{},co())}function pR(){return Zi(_0)}function vN(){return ei().memoizedState}function yN(){return ei().memoizedState}function Cne(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var g=co();u=uu(g);var v=du(h,u,g);v!==null&&(uo(v,h,g),r0(v,h,g)),h={cache:jT()},u.payload=h;return}h=h.return}}function bne(u,h,g){var v=co();g={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},YC(u)?CN(h,g):(g=MT(u,h,g,v),g!==null&&(uo(g,u,v),bN(g,h,v)))}function wN(u,h,g){var v=co();c0(u,h,g,v)}function c0(u,h,g,v){var x={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(YC(u))CN(h,x);else{var _=u.alternate;if(u.lanes===0&&(_===null||_.lanes===0)&&(_=h.lastRenderedReducer,_!==null))try{var z=h.lastRenderedState,Y=_(z,g);if(x.hasEagerState=!0,x.eagerState=Y,io(Y,z))return FC(u,h,x,0),ir===null&&kC(),!1}catch{}finally{}if(g=MT(u,h,x,v),g!==null)return uo(g,u,v),bN(g,h,v),!0}return!1}function gR(u,h,g,v){if(v={lane:2,revertLane:qR(),action:v,hasEagerState:!1,eagerState:null,next:null},YC(u)){if(h)throw Error(r(479))}else h=MT(u,g,v,2),h!==null&&uo(h,u,2)}function YC(u){var h=u.alternate;return u===sn||h!==null&&h===sn}function CN(u,h){up=zC=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function bN(u,h,g){if((g&4194048)!==0){var v=h.lanes;v&=u.pendingLanes,g|=v,h.lanes=g,Oo(u,g)}}var XC={readContext:Zi,use:WC,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr},xN={readContext:Zi,use:WC,useCallback:function(u,h){return Ls().memoizedState=[u,h===void 0?null:h],u},useContext:Zi,useEffect:sN,useImperativeHandle:function(u,h,g){g=g!=null?g.concat([u]):null,KC(4194308,4,cN.bind(null,h,u),g)},useLayoutEffect:function(u,h){return KC(4194308,4,u,h)},useInsertionEffect:function(u,h){KC(4,2,u,h)},useMemo:function(u,h){var g=Ls();h=h===void 0?null:h;var v=u();if(ah){Xe(!0);try{u()}finally{Xe(!1)}}return g.memoizedState=[v,h],v},useReducer:function(u,h,g){var v=Ls();if(g!==void 0){var x=g(h);if(ah){Xe(!0);try{g(h)}finally{Xe(!1)}}}else x=h;return v.memoizedState=v.baseState=x,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:x},v.queue=u,u=u.dispatch=bne.bind(null,sn,u),[v.memoizedState,u]},useRef:function(u){var h=Ls();return u={current:u},h.memoizedState=u},useState:function(u){u=cR(u);var h=u.queue,g=wN.bind(null,sn,h);return h.dispatch=g,[u.memoizedState,g]},useDebugValue:dR,useDeferredValue:function(u,h){var g=Ls();return hR(g,u,h)},useTransition:function(){var u=cR(!1);return u=pN.bind(null,sn,u.queue,!0,!1),Ls().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,g){var v=sn,x=Ls();if(In){if(g===void 0)throw Error(r(407));g=g()}else{if(g=h(),ir===null)throw Error(r(349));(bn&124)!==0||zL(v,h,g)}x.memoizedState=g;var _={value:g,getSnapshot:h};return x.queue=_,sN(WL.bind(null,v,_,u),[u]),v.flags|=2048,hp(9,qC(),jL.bind(null,v,_,g,h),null),g},useId:function(){var u=Ls(),h=ir.identifierPrefix;if(In){var g=cc,v=lc;g=(v&~(1<<32-ht(v)-1)).toString(32)+g,h=""+h+"R"+g,g=jC++,0<g&&(h+="H"+g.toString(32)),h+=""}else g=gne++,h=""+h+"r"+g.toString(32)+"";return u.memoizedState=h},useHostTransitionStatus:pR,useFormState:eN,useActionState:eN,useOptimistic:function(u){var h=Ls();h.memoizedState=h.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=gR.bind(null,sn,!0,g),g.dispatch=h,[u,h]},useMemoCache:oR,useCacheRefresh:function(){return Ls().memoizedState=Cne.bind(null,sn)}},SN={readContext:Zi,use:WC,useCallback:dN,useContext:Zi,useEffect:oN,useImperativeHandle:uN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:hN,useReducer:$C,useRef:iN,useState:function(){return $C(hc)},useDebugValue:dR,useDeferredValue:function(u,h){var g=ei();return fN(g,Yn.memoizedState,u,h)},useTransition:function(){var u=$C(hc)[0],h=ei().memoizedState;return[typeof u=="boolean"?u:a0(u),h]},useSyncExternalStore:UL,useId:vN,useHostTransitionStatus:pR,useFormState:tN,useActionState:tN,useOptimistic:function(u,h){var g=ei();return KL(g,Yn,u,h)},useMemoCache:oR,useCacheRefresh:yN},xne={readContext:Zi,use:WC,useCallback:dN,useContext:Zi,useEffect:oN,useImperativeHandle:uN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:hN,useReducer:lR,useRef:iN,useState:function(){return lR(hc)},useDebugValue:dR,useDeferredValue:function(u,h){var g=ei();return Yn===null?hR(g,u,h):fN(g,Yn.memoizedState,u,h)},useTransition:function(){var u=lR(hc)[0],h=ei().memoizedState;return[typeof u=="boolean"?u:a0(u),h]},useSyncExternalStore:UL,useId:vN,useHostTransitionStatus:pR,useFormState:rN,useActionState:rN,useOptimistic:function(u,h){var g=ei();return Yn!==null?KL(g,Yn,u,h):(g.baseState=u,[u,g.queue.dispatch])},useMemoCache:oR,useCacheRefresh:yN},fp=null,u0=0;function QC(u){var h=u0;return u0+=1,fp===null&&(fp=[]),ML(fp,u,h)}function d0(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function JC(u,h){throw h.$$typeof===f?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function EN(u){var h=u._init;return h(u._payload)}function TN(u){function h(Ce,ge){if(u){var Se=Ce.deletions;Se===null?(Ce.deletions=[ge],Ce.flags|=16):Se.push(ge)}}function g(Ce,ge){if(!u)return null;for(;ge!==null;)h(Ce,ge),ge=ge.sibling;return null}function v(Ce){for(var ge=new Map;Ce!==null;)Ce.key!==null?ge.set(Ce.key,Ce):ge.set(Ce.index,Ce),Ce=Ce.sibling;return ge}function x(Ce,ge){return Ce=ac(Ce,ge),Ce.index=0,Ce.sibling=null,Ce}function _(Ce,ge,Se){return Ce.index=Se,u?(Se=Ce.alternate,Se!==null?(Se=Se.index,Se<ge?(Ce.flags|=67108866,ge):Se):(Ce.flags|=67108866,ge)):(Ce.flags|=1048576,ge)}function z(Ce){return u&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Y(Ce,ge,Se,Ue){return ge===null||ge.tag!==6?(ge=LT(Se,Ce.mode,Ue),ge.return=Ce,ge):(ge=x(ge,Se),ge.return=Ce,ge)}function ce(Ce,ge,Se,Ue){var wt=Se.type;return wt===y?He(Ce,ge,Se.props.children,Ue,Se.key):ge!==null&&(ge.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===k&&EN(wt)===ge.type)?(ge=x(ge,Se.props),d0(ge,Se),ge.return=Ce,ge):(ge=MC(Se.type,Se.key,Se.props,null,Ce.mode,Ue),d0(ge,Se),ge.return=Ce,ge)}function Re(Ce,ge,Se,Ue){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Se.containerInfo||ge.stateNode.implementation!==Se.implementation?(ge=NT(Se,Ce.mode,Ue),ge.return=Ce,ge):(ge=x(ge,Se.children||[]),ge.return=Ce,ge)}function He(Ce,ge,Se,Ue,wt){return ge===null||ge.tag!==7?(ge=Zd(Se,Ce.mode,Ue,wt),ge.return=Ce,ge):(ge=x(ge,Se),ge.return=Ce,ge)}function We(Ce,ge,Se){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=LT(""+ge,Ce.mode,Se),ge.return=Ce,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case p:return Se=MC(ge.type,ge.key,ge.props,null,Ce.mode,Se),d0(Se,ge),Se.return=Ce,Se;case m:return ge=NT(ge,Ce.mode,Se),ge.return=Ce,ge;case k:var Ue=ge._init;return ge=Ue(ge._payload),We(Ce,ge,Se)}if(le(ge)||H(ge))return ge=Zd(ge,Ce.mode,Se,null),ge.return=Ce,ge;if(typeof ge.then=="function")return We(Ce,QC(ge),Se);if(ge.$$typeof===E)return We(Ce,BC(Ce,ge),Se);JC(Ce,ge)}return null}function ke(Ce,ge,Se,Ue){var wt=ge!==null?ge.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return wt!==null?null:Y(Ce,ge,""+Se,Ue);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case p:return Se.key===wt?ce(Ce,ge,Se,Ue):null;case m:return Se.key===wt?Re(Ce,ge,Se,Ue):null;case k:return wt=Se._init,Se=wt(Se._payload),ke(Ce,ge,Se,Ue)}if(le(Se)||H(Se))return wt!==null?null:He(Ce,ge,Se,Ue,null);if(typeof Se.then=="function")return ke(Ce,ge,QC(Se),Ue);if(Se.$$typeof===E)return ke(Ce,ge,BC(Ce,Se),Ue);JC(Ce,Se)}return null}function Ie(Ce,ge,Se,Ue,wt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ce=Ce.get(Se)||null,Y(ge,Ce,""+Ue,wt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case p:return Ce=Ce.get(Ue.key===null?Se:Ue.key)||null,ce(ge,Ce,Ue,wt);case m:return Ce=Ce.get(Ue.key===null?Se:Ue.key)||null,Re(ge,Ce,Ue,wt);case k:var an=Ue._init;return Ue=an(Ue._payload),Ie(Ce,ge,Se,Ue,wt)}if(le(Ue)||H(Ue))return Ce=Ce.get(Se)||null,He(ge,Ce,Ue,wt,null);if(typeof Ue.then=="function")return Ie(Ce,ge,Se,QC(Ue),wt);if(Ue.$$typeof===E)return Ie(Ce,ge,Se,BC(ge,Ue),wt);JC(ge,Ue)}return null}function jt(Ce,ge,Se,Ue){for(var wt=null,an=null,Rt=ge,Nt=ge=0,Ei=null;Rt!==null&&Nt<Se.length;Nt++){Rt.index>Nt?(Ei=Rt,Rt=null):Ei=Rt.sibling;var Dn=ke(Ce,Rt,Se[Nt],Ue);if(Dn===null){Rt===null&&(Rt=Ei);break}u&&Rt&&Dn.alternate===null&&h(Ce,Rt),ge=_(Dn,ge,Nt),an===null?wt=Dn:an.sibling=Dn,an=Dn,Rt=Ei}if(Nt===Se.length)return g(Ce,Rt),In&&th(Ce,Nt),wt;if(Rt===null){for(;Nt<Se.length;Nt++)Rt=We(Ce,Se[Nt],Ue),Rt!==null&&(ge=_(Rt,ge,Nt),an===null?wt=Rt:an.sibling=Rt,an=Rt);return In&&th(Ce,Nt),wt}for(Rt=v(Rt);Nt<Se.length;Nt++)Ei=Ie(Rt,Ce,Nt,Se[Nt],Ue),Ei!==null&&(u&&Ei.alternate!==null&&Rt.delete(Ei.key===null?Nt:Ei.key),ge=_(Ei,ge,Nt),an===null?wt=Ei:an.sibling=Ei,an=Ei);return u&&Rt.forEach(function(Au){return h(Ce,Au)}),In&&th(Ce,Nt),wt}function Ot(Ce,ge,Se,Ue){if(Se==null)throw Error(r(151));for(var wt=null,an=null,Rt=ge,Nt=ge=0,Ei=null,Dn=Se.next();Rt!==null&&!Dn.done;Nt++,Dn=Se.next()){Rt.index>Nt?(Ei=Rt,Rt=null):Ei=Rt.sibling;var Au=ke(Ce,Rt,Dn.value,Ue);if(Au===null){Rt===null&&(Rt=Ei);break}u&&Rt&&Au.alternate===null&&h(Ce,Rt),ge=_(Au,ge,Nt),an===null?wt=Au:an.sibling=Au,an=Au,Rt=Ei}if(Dn.done)return g(Ce,Rt),In&&th(Ce,Nt),wt;if(Rt===null){for(;!Dn.done;Nt++,Dn=Se.next())Dn=We(Ce,Dn.value,Ue),Dn!==null&&(ge=_(Dn,ge,Nt),an===null?wt=Dn:an.sibling=Dn,an=Dn);return In&&th(Ce,Nt),wt}for(Rt=v(Rt);!Dn.done;Nt++,Dn=Se.next())Dn=Ie(Rt,Ce,Nt,Dn.value,Ue),Dn!==null&&(u&&Dn.alternate!==null&&Rt.delete(Dn.key===null?Nt:Dn.key),ge=_(Dn,ge,Nt),an===null?wt=Dn:an.sibling=Dn,an=Dn);return u&&Rt.forEach(function(Sre){return h(Ce,Sre)}),In&&th(Ce,Nt),wt}function Qn(Ce,ge,Se,Ue){if(typeof Se=="object"&&Se!==null&&Se.type===y&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case p:e:{for(var wt=Se.key;ge!==null;){if(ge.key===wt){if(wt=Se.type,wt===y){if(ge.tag===7){g(Ce,ge.sibling),Ue=x(ge,Se.props.children),Ue.return=Ce,Ce=Ue;break e}}else if(ge.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===k&&EN(wt)===ge.type){g(Ce,ge.sibling),Ue=x(ge,Se.props),d0(Ue,Se),Ue.return=Ce,Ce=Ue;break e}g(Ce,ge);break}else h(Ce,ge);ge=ge.sibling}Se.type===y?(Ue=Zd(Se.props.children,Ce.mode,Ue,Se.key),Ue.return=Ce,Ce=Ue):(Ue=MC(Se.type,Se.key,Se.props,null,Ce.mode,Ue),d0(Ue,Se),Ue.return=Ce,Ce=Ue)}return z(Ce);case m:e:{for(wt=Se.key;ge!==null;){if(ge.key===wt)if(ge.tag===4&&ge.stateNode.containerInfo===Se.containerInfo&&ge.stateNode.implementation===Se.implementation){g(Ce,ge.sibling),Ue=x(ge,Se.children||[]),Ue.return=Ce,Ce=Ue;break e}else{g(Ce,ge);break}else h(Ce,ge);ge=ge.sibling}Ue=NT(Se,Ce.mode,Ue),Ue.return=Ce,Ce=Ue}return z(Ce);case k:return wt=Se._init,Se=wt(Se._payload),Qn(Ce,ge,Se,Ue)}if(le(Se))return jt(Ce,ge,Se,Ue);if(H(Se)){if(wt=H(Se),typeof wt!="function")throw Error(r(150));return Se=wt.call(Se),Ot(Ce,ge,Se,Ue)}if(typeof Se.then=="function")return Qn(Ce,ge,QC(Se),Ue);if(Se.$$typeof===E)return Qn(Ce,ge,BC(Ce,Se),Ue);JC(Ce,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,ge!==null&&ge.tag===6?(g(Ce,ge.sibling),Ue=x(ge,Se),Ue.return=Ce,Ce=Ue):(g(Ce,ge),Ue=LT(Se,Ce.mode,Ue),Ue.return=Ce,Ce=Ue),z(Ce)):g(Ce,ge)}return function(Ce,ge,Se,Ue){try{u0=0;var wt=Qn(Ce,ge,Se,Ue);return fp=null,wt}catch(Rt){if(Rt===t0||Rt===HC)throw Rt;var an=so(29,Rt,null,Ce.mode);return an.lanes=Ue,an.return=Ce,an}finally{}}}var pp=TN(!0),RN=TN(!1),Wo=ae(null),il=null;function fu(u){var h=u.alternate;V(pi,pi.current&1),V(Wo,u),il===null&&(h===null||cp.current!==null||h.memoizedState!==null)&&(il=u)}function _N(u){if(u.tag===22){if(V(pi,pi.current),V(Wo,u),il===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(il=u)}}else pu()}function pu(){V(pi,pi.current),V(Wo,Wo.current)}function fc(u){W(Wo),il===u&&(il=null),W(pi)}var pi=ae(0);function ZC(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||s_(g)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function mR(u,h,g,v){h=u.memoizedState,g=g(v,h),g=g==null?h:d({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var vR={enqueueSetState:function(u,h,g){u=u._reactInternals;var v=co(),x=uu(v);x.payload=h,g!=null&&(x.callback=g),h=du(u,x,v),h!==null&&(uo(h,u,v),r0(h,u,v))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var v=co(),x=uu(v);x.tag=1,x.payload=h,g!=null&&(x.callback=g),h=du(u,x,v),h!==null&&(uo(h,u,v),r0(h,u,v))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=co(),v=uu(g);v.tag=2,h!=null&&(v.callback=h),h=du(u,v,g),h!==null&&(uo(h,u,g),r0(h,u,g))}};function AN(u,h,g,v,x,_,z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(v,_,z):h.prototype&&h.prototype.isPureReactComponent?!qm(g,v)||!qm(x,_):!0}function DN(u,h,g,v){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,v),h.state!==u&&vR.enqueueReplaceState(h,h.state,null)}function lh(u,h){var g=h;if("ref"in h){g={};for(var v in h)v!=="ref"&&(g[v]=h[v])}if(u=u.defaultProps){g===h&&(g=d({},g));for(var x in u)g[x]===void 0&&(g[x]=u[x])}return g}var eb=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function PN(u){eb(u)}function kN(u){console.error(u)}function FN(u){eb(u)}function tb(u,h){try{var g=u.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(v){setTimeout(function(){throw v})}}function IN(u,h,g){try{var v=u.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function yR(u,h,g){return g=uu(g),g.tag=3,g.payload={element:null},g.callback=function(){tb(u,h)},g}function MN(u){return u=uu(u),u.tag=3,u}function ON(u,h,g,v){var x=g.type.getDerivedStateFromError;if(typeof x=="function"){var _=v.value;u.payload=function(){return x(_)},u.callback=function(){IN(h,g,v)}}var z=g.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(u.callback=function(){IN(h,g,v),typeof x!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function Sne(u,h,g,v,x){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(h=g.alternate,h!==null&&Jm(h,g,x,!0),g=Wo.current,g!==null){switch(g.tag){case 13:return il===null?UR():g.alternate===null&&Pr===0&&(Pr=3),g.flags&=-257,g.flags|=65536,g.lanes=x,v===qT?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([v]):h.add(v),jR(u,v,x)),!1;case 22:return g.flags|=65536,v===qT?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([v]):g.add(v)),jR(u,v,x)),!1}throw Error(r(435,g.tag))}return jR(u,v,x),UR(),!1}if(In)return h=Wo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=x,v!==HT&&(u=Error(r(422),{cause:v}),Qm(Go(u,g)))):(v!==HT&&(h=Error(r(423),{cause:v}),Qm(Go(h,g))),u=u.current.alternate,u.flags|=65536,x&=-x,u.lanes|=x,v=Go(v,g),x=yR(u.stateNode,v,x),XT(u,x),Pr!==4&&(Pr=2)),!1;var _=Error(r(520),{cause:v});if(_=Go(_,g),y0===null?y0=[_]:y0.push(_),Pr!==4&&(Pr=2),h===null)return!0;v=Go(v,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,u=x&-x,g.lanes|=u,u=yR(g.stateNode,v,u),XT(g,u),!1;case 1:if(h=g.type,_=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cu===null||!Cu.has(_))))return g.flags|=65536,x&=-x,g.lanes|=x,x=MN(x),ON(x,u,g,v),XT(g,x),!1}g=g.return}while(g!==null);return!1}var LN=Error(r(461)),xi=!1;function Ni(u,h,g,v){h.child=u===null?RN(h,null,g,v):pp(h,u.child,g,v)}function NN(u,h,g,v,x){g=g.render;var _=h.ref;if("ref"in v){var z={};for(var Y in v)Y!=="ref"&&(z[Y]=v[Y])}else z=v;return sh(h),v=tR(u,h,g,z,_,x),Y=nR(),u!==null&&!xi?(rR(u,h,x),pc(u,h,x)):(In&&Y&&BT(h),h.flags|=1,Ni(u,h,v,x),h.child)}function BN(u,h,g,v,x){if(u===null){var _=g.type;return typeof _=="function"&&!OT(_)&&_.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=_,VN(u,h,_,v,x)):(u=MC(g.type,null,v,h,h.mode,x),u.ref=h.ref,u.return=h,h.child=u)}if(_=u.child,!RR(u,x)){var z=_.memoizedProps;if(g=g.compare,g=g!==null?g:qm,g(z,v)&&u.ref===h.ref)return pc(u,h,x)}return h.flags|=1,u=ac(_,v),u.ref=h.ref,u.return=h,h.child=u}function VN(u,h,g,v,x){if(u!==null){var _=u.memoizedProps;if(qm(_,v)&&u.ref===h.ref)if(xi=!1,h.pendingProps=v=_,RR(u,x))(u.flags&131072)!==0&&(xi=!0);else return h.lanes=u.lanes,pc(u,h,x)}return wR(u,h,g,v,x)}function HN(u,h,g){var v=h.pendingProps,x=v.children,_=u!==null?u.memoizedState:null;if(v.mode==="hidden"){if((h.flags&128)!==0){if(v=_!==null?_.baseLanes|g:g,u!==null){for(x=h.child=u.child,_=0;x!==null;)_=_|x.lanes|x.childLanes,x=x.sibling;h.childLanes=_&~v}else h.childLanes=0,h.child=null;return GN(u,h,v,g)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&VC(h,_!==null?_.cachePool:null),_!==null?VL(h,_):JT(),_N(h);else return h.lanes=h.childLanes=536870912,GN(u,h,_!==null?_.baseLanes|g:g,g)}else _!==null?(VC(h,_.cachePool),VL(h,_),pu(),h.memoizedState=null):(u!==null&&VC(h,null),JT(),pu());return Ni(u,h,x,g),h.child}function GN(u,h,g,v){var x=$T();return x=x===null?null:{parent:fi._currentValue,pool:x},h.memoizedState={baseLanes:g,cachePool:x},u!==null&&VC(h,null),JT(),_N(h),u!==null&&Jm(u,h,v,!0),null}function nb(u,h){var g=h.ref;if(g===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(h.flags|=4194816)}}function wR(u,h,g,v,x){return sh(h),g=tR(u,h,g,v,void 0,x),v=nR(),u!==null&&!xi?(rR(u,h,x),pc(u,h,x)):(In&&v&&BT(h),h.flags|=1,Ni(u,h,g,x),h.child)}function UN(u,h,g,v,x,_){return sh(h),h.updateQueue=null,g=GL(h,v,g,x),HL(u),v=nR(),u!==null&&!xi?(rR(u,h,_),pc(u,h,_)):(In&&v&&BT(h),h.flags|=1,Ni(u,h,g,_),h.child)}function zN(u,h,g,v,x){if(sh(h),h.stateNode===null){var _=ip,z=g.contextType;typeof z=="object"&&z!==null&&(_=Zi(z)),_=new g(v,_),h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=vR,h.stateNode=_,_._reactInternals=h,_=h.stateNode,_.props=v,_.state=h.memoizedState,_.refs={},KT(h),z=g.contextType,_.context=typeof z=="object"&&z!==null?Zi(z):ip,_.state=h.memoizedState,z=g.getDerivedStateFromProps,typeof z=="function"&&(mR(h,g,z,v),_.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(z=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),z!==_.state&&vR.enqueueReplaceState(_,_.state,null),s0(h,v,_,x),i0(),_.state=h.memoizedState),typeof _.componentDidMount=="function"&&(h.flags|=4194308),v=!0}else if(u===null){_=h.stateNode;var Y=h.memoizedProps,ce=lh(g,Y);_.props=ce;var Re=_.context,He=g.contextType;z=ip,typeof He=="object"&&He!==null&&(z=Zi(He));var We=g.getDerivedStateFromProps;He=typeof We=="function"||typeof _.getSnapshotBeforeUpdate=="function",Y=h.pendingProps!==Y,He||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(Y||Re!==z)&&DN(h,_,v,z),cu=!1;var ke=h.memoizedState;_.state=ke,s0(h,v,_,x),i0(),Re=h.memoizedState,Y||ke!==Re||cu?(typeof We=="function"&&(mR(h,g,We,v),Re=h.memoizedState),(ce=cu||AN(h,g,ce,v,ke,Re,z))?(He||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(h.flags|=4194308)):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=Re),_.props=v,_.state=Re,_.context=z,v=ce):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{_=h.stateNode,YT(u,h),z=h.memoizedProps,He=lh(g,z),_.props=He,We=h.pendingProps,ke=_.context,Re=g.contextType,ce=ip,typeof Re=="object"&&Re!==null&&(ce=Zi(Re)),Y=g.getDerivedStateFromProps,(Re=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(z!==We||ke!==ce)&&DN(h,_,v,ce),cu=!1,ke=h.memoizedState,_.state=ke,s0(h,v,_,x),i0();var Ie=h.memoizedState;z!==We||ke!==Ie||cu||u!==null&&u.dependencies!==null&&NC(u.dependencies)?(typeof Y=="function"&&(mR(h,g,Y,v),Ie=h.memoizedState),(He=cu||AN(h,g,He,v,ke,Ie,ce)||u!==null&&u.dependencies!==null&&NC(u.dependencies))?(Re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(v,Ie,ce),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(v,Ie,ce)),typeof _.componentDidUpdate=="function"&&(h.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof _.componentDidUpdate!="function"||z===u.memoizedProps&&ke===u.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||z===u.memoizedProps&&ke===u.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=Ie),_.props=v,_.state=Ie,_.context=ce,v=He):(typeof _.componentDidUpdate!="function"||z===u.memoizedProps&&ke===u.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||z===u.memoizedProps&&ke===u.memoizedState||(h.flags|=1024),v=!1)}return _=v,nb(u,h),v=(h.flags&128)!==0,_||v?(_=h.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:_.render(),h.flags|=1,u!==null&&v?(h.child=pp(h,u.child,null,x),h.child=pp(h,null,g,x)):Ni(u,h,g,x),h.memoizedState=_.state,u=h.child):u=pc(u,h,x),u}function jN(u,h,g,v){return Xm(),h.flags|=256,Ni(u,h,g,v),h.child}var CR={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bR(u){return{baseLanes:u,cachePool:kL()}}function xR(u,h,g){return u=u!==null?u.childLanes&~g:0,h&&(u|=$o),u}function WN(u,h,g){var v=h.pendingProps,x=!1,_=(h.flags&128)!==0,z;if((z=_)||(z=u!==null&&u.memoizedState===null?!1:(pi.current&2)!==0),z&&(x=!0,h.flags&=-129),z=(h.flags&32)!==0,h.flags&=-33,u===null){if(In){if(x?fu(h):pu(),In){var Y=Dr,ce;if(ce=Y){e:{for(ce=Y,Y=rl;ce.nodeType!==8;){if(!Y){Y=null;break e}if(ce=Da(ce.nextSibling),ce===null){Y=null;break e}}Y=ce}Y!==null?(h.memoizedState={dehydrated:Y,treeContext:eh!==null?{id:lc,overflow:cc}:null,retryLane:536870912,hydrationErrors:null},ce=so(18,null,null,0),ce.stateNode=Y,ce.return=h,h.child=ce,xs=h,Dr=null,ce=!0):ce=!1}ce||rh(h)}if(Y=h.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return s_(Y)?h.lanes=32:h.lanes=536870912,null;fc(h)}return Y=v.children,v=v.fallback,x?(pu(),x=h.mode,Y=rb({mode:"hidden",children:Y},x),v=Zd(v,x,g,null),Y.return=h,v.return=h,Y.sibling=v,h.child=Y,x=h.child,x.memoizedState=bR(g),x.childLanes=xR(u,z,g),h.memoizedState=CR,v):(fu(h),SR(h,Y))}if(ce=u.memoizedState,ce!==null&&(Y=ce.dehydrated,Y!==null)){if(_)h.flags&256?(fu(h),h.flags&=-257,h=ER(u,h,g)):h.memoizedState!==null?(pu(),h.child=u.child,h.flags|=128,h=null):(pu(),x=v.fallback,Y=h.mode,v=rb({mode:"visible",children:v.children},Y),x=Zd(x,Y,g,null),x.flags|=2,v.return=h,x.return=h,v.sibling=x,h.child=v,pp(h,u.child,null,g),v=h.child,v.memoizedState=bR(g),v.childLanes=xR(u,z,g),h.memoizedState=CR,h=x);else if(fu(h),s_(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var Re=z.dgst;z=Re,v=Error(r(419)),v.stack="",v.digest=z,Qm({value:v,source:null,stack:null}),h=ER(u,h,g)}else if(xi||Jm(u,h,g,!1),z=(g&u.childLanes)!==0,xi||z){if(z=ir,z!==null&&(v=g&-g,v=(v&42)!==0?1:Lo(v),v=(v&(z.suspendedLanes|g))!==0?0:v,v!==0&&v!==ce.retryLane))throw ce.retryLane=v,rp(u,v),uo(z,u,v),LN;Y.data==="$?"||UR(),h=ER(u,h,g)}else Y.data==="$?"?(h.flags|=192,h.child=u.child,h=null):(u=ce.treeContext,Dr=Da(Y.nextSibling),xs=h,In=!0,nh=null,rl=!1,u!==null&&(zo[jo++]=lc,zo[jo++]=cc,zo[jo++]=eh,lc=u.id,cc=u.overflow,eh=h),h=SR(h,v.children),h.flags|=4096);return h}return x?(pu(),x=v.fallback,Y=h.mode,ce=u.child,Re=ce.sibling,v=ac(ce,{mode:"hidden",children:v.children}),v.subtreeFlags=ce.subtreeFlags&65011712,Re!==null?x=ac(Re,x):(x=Zd(x,Y,g,null),x.flags|=2),x.return=h,v.return=h,v.sibling=x,h.child=v,v=x,x=h.child,Y=u.child.memoizedState,Y===null?Y=bR(g):(ce=Y.cachePool,ce!==null?(Re=fi._currentValue,ce=ce.parent!==Re?{parent:Re,pool:Re}:ce):ce=kL(),Y={baseLanes:Y.baseLanes|g,cachePool:ce}),x.memoizedState=Y,x.childLanes=xR(u,z,g),h.memoizedState=CR,v):(fu(h),g=u.child,u=g.sibling,g=ac(g,{mode:"visible",children:v.children}),g.return=h,g.sibling=null,u!==null&&(z=h.deletions,z===null?(h.deletions=[u],h.flags|=16):z.push(u)),h.child=g,h.memoizedState=null,g)}function SR(u,h){return h=rb({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function rb(u,h){return u=so(22,u,null,h),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function ER(u,h,g){return pp(h,u.child,null,g),u=SR(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function $N(u,h,g){u.lanes|=h;var v=u.alternate;v!==null&&(v.lanes|=h),UT(u.return,h,g)}function TR(u,h,g,v,x){var _=u.memoizedState;_===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:x}:(_.isBackwards=h,_.rendering=null,_.renderingStartTime=0,_.last=v,_.tail=g,_.tailMode=x)}function qN(u,h,g){var v=h.pendingProps,x=v.revealOrder,_=v.tail;if(Ni(u,h,v.children,g),v=pi.current,(v&2)!==0)v=v&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&$N(u,g,h);else if(u.tag===19)$N(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}v&=1}switch(V(pi,v),x){case"forwards":for(g=h.child,x=null;g!==null;)u=g.alternate,u!==null&&ZC(u)===null&&(x=g),g=g.sibling;g=x,g===null?(x=h.child,h.child=null):(x=g.sibling,g.sibling=null),TR(h,!1,x,g,_);break;case"backwards":for(g=null,x=h.child,h.child=null;x!==null;){if(u=x.alternate,u!==null&&ZC(u)===null){h.child=x;break}u=x.sibling,x.sibling=g,g=x,x=u}TR(h,!0,g,null,_);break;case"together":TR(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function pc(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),wu|=h.lanes,(g&h.childLanes)===0)if(u!==null){if(Jm(u,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,g=ac(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=ac(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function RR(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&NC(u)))}function Ene(u,h,g){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),lu(h,fi,u.memoizedState.cache),Xm();break;case 27:case 5:Pe(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:lu(h,h.type,h.memoizedProps.value);break;case 13:var v=h.memoizedState;if(v!==null)return v.dehydrated!==null?(fu(h),h.flags|=128,null):(g&h.child.childLanes)!==0?WN(u,h,g):(fu(h),u=pc(u,h,g),u!==null?u.sibling:null);fu(h);break;case 19:var x=(u.flags&128)!==0;if(v=(g&h.childLanes)!==0,v||(Jm(u,h,g,!1),v=(g&h.childLanes)!==0),x){if(v)return qN(u,h,g);h.flags|=128}if(x=h.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),V(pi,pi.current),v)break;return null;case 22:case 23:return h.lanes=0,HN(u,h,g);case 24:lu(h,fi,u.memoizedState.cache)}return pc(u,h,g)}function KN(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps)xi=!0;else{if(!RR(u,g)&&(h.flags&128)===0)return xi=!1,Ene(u,h,g);xi=(u.flags&131072)!==0}else xi=!1,In&&(h.flags&1048576)!==0&&EL(h,LC,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var v=h.elementType,x=v._init;if(v=x(v._payload),h.type=v,typeof v=="function")OT(v)?(u=lh(v,u),h.tag=1,h=zN(null,h,v,u,g)):(h.tag=0,h=wR(null,h,v,u,g));else{if(v!=null){if(x=v.$$typeof,x===P){h.tag=11,h=NN(null,h,v,u,g);break e}else if(x===D){h.tag=14,h=BN(null,h,v,u,g);break e}}throw h=oe(v)||v,Error(r(306,h,""))}}return h;case 0:return wR(u,h,h.type,h.pendingProps,g);case 1:return v=h.type,x=lh(v,h.pendingProps),zN(u,h,v,x,g);case 3:e:{if(Fe(h,h.stateNode.containerInfo),u===null)throw Error(r(387));v=h.pendingProps;var _=h.memoizedState;x=_.element,YT(u,h),s0(h,v,null,g);var z=h.memoizedState;if(v=z.cache,lu(h,fi,v),v!==_.cache&&zT(h,[fi],g,!0),i0(),v=z.element,_.isDehydrated)if(_={element:v,isDehydrated:!1,cache:z.cache},h.updateQueue.baseState=_,h.memoizedState=_,h.flags&256){h=jN(u,h,v,g);break e}else if(v!==x){x=Go(Error(r(424)),h),Qm(x),h=jN(u,h,v,g);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Dr=Da(u.firstChild),xs=h,In=!0,nh=null,rl=!0,g=RN(h,null,v,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Xm(),v===x){h=pc(u,h,g);break e}Ni(u,h,v,g)}h=h.child}return h;case 26:return nb(u,h),u===null?(g=J4(h.type,null,h.pendingProps,null))?h.memoizedState=g:In||(g=h.type,u=h.pendingProps,v=vb(he.current).createElement(g),v[je]=h,v[Qe]=u,Vi(v,g,u),me(v),h.stateNode=v):h.memoizedState=J4(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return Pe(h),u===null&&In&&(v=h.stateNode=Y4(h.type,h.pendingProps,he.current),xs=h,rl=!0,x=Dr,Su(h.type)?(o_=x,Dr=Da(v.firstChild)):Dr=x),Ni(u,h,h.pendingProps.children,g),nb(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&In&&((x=v=Dr)&&(v=Jne(v,h.type,h.pendingProps,rl),v!==null?(h.stateNode=v,xs=h,Dr=Da(v.firstChild),rl=!1,x=!0):x=!1),x||rh(h)),Pe(h),x=h.type,_=h.pendingProps,z=u!==null?u.memoizedProps:null,v=_.children,n_(x,_)?v=null:z!==null&&n_(x,z)&&(h.flags|=32),h.memoizedState!==null&&(x=tR(u,h,mne,null,null,g),_0._currentValue=x),nb(u,h),Ni(u,h,v,g),h.child;case 6:return u===null&&In&&((u=g=Dr)&&(g=Zne(g,h.pendingProps,rl),g!==null?(h.stateNode=g,xs=h,Dr=null,u=!0):u=!1),u||rh(h)),null;case 13:return WN(u,h,g);case 4:return Fe(h,h.stateNode.containerInfo),v=h.pendingProps,u===null?h.child=pp(h,null,v,g):Ni(u,h,v,g),h.child;case 11:return NN(u,h,h.type,h.pendingProps,g);case 7:return Ni(u,h,h.pendingProps,g),h.child;case 8:return Ni(u,h,h.pendingProps.children,g),h.child;case 12:return Ni(u,h,h.pendingProps.children,g),h.child;case 10:return v=h.pendingProps,lu(h,h.type,v.value),Ni(u,h,v.children,g),h.child;case 9:return x=h.type._context,v=h.pendingProps.children,sh(h),x=Zi(x),v=v(x),h.flags|=1,Ni(u,h,v,g),h.child;case 14:return BN(u,h,h.type,h.pendingProps,g);case 15:return VN(u,h,h.type,h.pendingProps,g);case 19:return qN(u,h,g);case 31:return v=h.pendingProps,g=h.mode,v={mode:v.mode,children:v.children},u===null?(g=rb(v,g),g.ref=h.ref,h.child=g,g.return=h,h=g):(g=ac(u.child,v),g.ref=h.ref,h.child=g,g.return=h,h=g),h;case 22:return HN(u,h,g);case 24:return sh(h),v=Zi(fi),u===null?(x=$T(),x===null&&(x=ir,_=jT(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=g),x=_),h.memoizedState={parent:v,cache:x},KT(h),lu(h,fi,x)):((u.lanes&g)!==0&&(YT(u,h),s0(h,null,null,g),i0()),x=u.memoizedState,_=h.memoizedState,x.parent!==v?(x={parent:v,cache:v},h.memoizedState=x,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=x),lu(h,fi,v)):(v=_.cache,lu(h,fi,v),v!==x.cache&&zT(h,[fi],g,!0))),Ni(u,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function gc(u){u.flags|=4}function YN(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!rB(h)){if(h=Wo.current,h!==null&&((bn&4194048)===bn?il!==null:(bn&62914560)!==bn&&(bn&536870912)===0||h!==il))throw n0=qT,FL;u.flags|=8192}}function ib(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?Ka():536870912,u.lanes|=h,yp|=h)}function h0(u,h){if(!In)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:v.sibling=null}}function yr(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,v=0;if(h)for(var x=u.child;x!==null;)g|=x.lanes|x.childLanes,v|=x.subtreeFlags&65011712,v|=x.flags&65011712,x.return=u,x=x.sibling;else for(x=u.child;x!==null;)g|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=u,x=x.sibling;return u.subtreeFlags|=v,u.childLanes=g,h}function Tne(u,h,g){var v=h.pendingProps;switch(VT(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(h),null;case 1:return yr(h),null;case 3:return g=h.stateNode,v=null,u!==null&&(v=u.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),dc(fi),_e(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(Ym(h)?gc(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,_L())),yr(h),null;case 26:return g=h.memoizedState,u===null?(gc(h),g!==null?(yr(h),YN(h,g)):(yr(h),h.flags&=-16777217)):g?g!==u.memoizedState?(gc(h),yr(h),YN(h,g)):(yr(h),h.flags&=-16777217):(u.memoizedProps!==v&&gc(h),yr(h),h.flags&=-16777217),null;case 27:nt(h),g=he.current;var x=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==v&&gc(h);else{if(!v){if(h.stateNode===null)throw Error(r(166));return yr(h),null}u=X.current,Ym(h)?TL(h):(u=Y4(x,v,g),h.stateNode=u,gc(h))}return yr(h),null;case 5:if(nt(h),g=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==v&&gc(h);else{if(!v){if(h.stateNode===null)throw Error(r(166));return yr(h),null}if(u=X.current,Ym(h))TL(h);else{switch(x=vb(he.current),u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof v.is=="string"?x.createElement("select",{is:v.is}):x.createElement("select"),v.multiple?u.multiple=!0:v.size&&(u.size=v.size);break;default:u=typeof v.is=="string"?x.createElement(g,{is:v.is}):x.createElement(g)}}u[je]=h,u[Qe]=v;e:for(x=h.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break e;for(;x.sibling===null;){if(x.return===null||x.return===h)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}h.stateNode=u;e:switch(Vi(u,g,v),g){case"button":case"input":case"select":case"textarea":u=!!v.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gc(h)}}return yr(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==v&&gc(h);else{if(typeof v!="string"&&h.stateNode===null)throw Error(r(166));if(u=he.current,Ym(h)){if(u=h.stateNode,g=h.memoizedProps,v=null,x=xs,x!==null)switch(x.tag){case 27:case 5:v=x.memoizedProps}u[je]=h,u=!!(u.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||U4(u.nodeValue,g)),u||rh(h)}else u=vb(u).createTextNode(v),u[je]=h,h.stateNode=u}return yr(h),null;case 13:if(v=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(x=Ym(h),v!==null&&v.dehydrated!==null){if(u===null){if(!x)throw Error(r(318));if(x=h.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[je]=h}else Xm(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;yr(h),x=!1}else x=_L(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=x),x=!0;if(!x)return h.flags&256?(fc(h),h):(fc(h),null)}if(fc(h),(h.flags&128)!==0)return h.lanes=g,h;if(g=v!==null,u=u!==null&&u.memoizedState!==null,g){v=h.child,x=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(x=v.alternate.memoizedState.cachePool.pool);var _=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(_=v.memoizedState.cachePool.pool),_!==x&&(v.flags|=2048)}return g!==u&&g&&(h.child.flags|=8192),ib(h,h.updateQueue),yr(h),null;case 4:return _e(),u===null&&QR(h.stateNode.containerInfo),yr(h),null;case 10:return dc(h.type),yr(h),null;case 19:if(W(pi),x=h.memoizedState,x===null)return yr(h),null;if(v=(h.flags&128)!==0,_=x.rendering,_===null)if(v)h0(x,!1);else{if(Pr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(_=ZC(u),_!==null){for(h.flags|=128,h0(x,!1),u=_.updateQueue,h.updateQueue=u,ib(h,u),h.subtreeFlags=0,u=g,g=h.child;g!==null;)SL(g,u),g=g.sibling;return V(pi,pi.current&1|2),h.child}u=u.sibling}x.tail!==null&&Me()>ab&&(h.flags|=128,v=!0,h0(x,!1),h.lanes=4194304)}else{if(!v)if(u=ZC(_),u!==null){if(h.flags|=128,v=!0,u=u.updateQueue,h.updateQueue=u,ib(h,u),h0(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!In)return yr(h),null}else 2*Me()-x.renderingStartTime>ab&&g!==536870912&&(h.flags|=128,v=!0,h0(x,!1),h.lanes=4194304);x.isBackwards?(_.sibling=h.child,h.child=_):(u=x.last,u!==null?u.sibling=_:h.child=_,x.last=_)}return x.tail!==null?(h=x.tail,x.rendering=h,x.tail=h.sibling,x.renderingStartTime=Me(),h.sibling=null,u=pi.current,V(pi,v?u&1|2:u&1),h):(yr(h),null);case 22:case 23:return fc(h),ZT(),v=h.memoizedState!==null,u!==null?u.memoizedState!==null!==v&&(h.flags|=8192):v&&(h.flags|=8192),v?(g&536870912)!==0&&(h.flags&128)===0&&(yr(h),h.subtreeFlags&6&&(h.flags|=8192)):yr(h),g=h.updateQueue,g!==null&&ib(h,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048),u!==null&&W(oh),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),dc(fi),yr(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Rne(u,h){switch(VT(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return dc(fi),_e(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return nt(h),null;case 13:if(fc(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Xm()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return W(pi),null;case 4:return _e(),null;case 10:return dc(h.type),null;case 22:case 23:return fc(h),ZT(),u!==null&&W(oh),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return dc(fi),null;case 25:return null;default:return null}}function XN(u,h){switch(VT(h),h.tag){case 3:dc(fi),_e();break;case 26:case 27:case 5:nt(h);break;case 4:_e();break;case 13:fc(h);break;case 19:W(pi);break;case 10:dc(h.type);break;case 22:case 23:fc(h),ZT(),u!==null&&W(oh);break;case 24:dc(fi)}}function f0(u,h){try{var g=h.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var x=v.next;g=x;do{if((g.tag&u)===u){v=void 0;var _=g.create,z=g.inst;v=_(),z.destroy=v}g=g.next}while(g!==x)}}catch(Y){nr(h,h.return,Y)}}function gu(u,h,g){try{var v=h.updateQueue,x=v!==null?v.lastEffect:null;if(x!==null){var _=x.next;v=_;do{if((v.tag&u)===u){var z=v.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,x=h;var ce=g,Re=Y;try{Re()}catch(He){nr(x,ce,He)}}}v=v.next}while(v!==_)}}catch(He){nr(h,h.return,He)}}function QN(u){var h=u.updateQueue;if(h!==null){var g=u.stateNode;try{BL(h,g)}catch(v){nr(u,u.return,v)}}}function JN(u,h,g){g.props=lh(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(v){nr(u,h,v)}}function p0(u,h){try{var g=u.ref;if(g!==null){switch(u.tag){case 26:case 27:case 5:var v=u.stateNode;break;case 30:v=u.stateNode;break;default:v=u.stateNode}typeof g=="function"?u.refCleanup=g(v):g.current=v}}catch(x){nr(u,h,x)}}function sl(u,h){var g=u.ref,v=u.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(x){nr(u,h,x)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(x){nr(u,h,x)}else g.current=null}function ZN(u){var h=u.type,g=u.memoizedProps,v=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(x){nr(u,u.return,x)}}function _R(u,h,g){try{var v=u.stateNode;qne(v,u.type,g,h),v[Qe]=h}catch(x){nr(u,u.return,x)}}function e4(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Su(u.type)||u.tag===4}function AR(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||e4(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Su(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function DR(u,h,g){var v=u.tag;if(v===5||v===6)u=u.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(u,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(u),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=mb));else if(v!==4&&(v===27&&Su(u.type)&&(g=u.stateNode,h=null),u=u.child,u!==null))for(DR(u,h,g),u=u.sibling;u!==null;)DR(u,h,g),u=u.sibling}function sb(u,h,g){var v=u.tag;if(v===5||v===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(v!==4&&(v===27&&Su(u.type)&&(g=u.stateNode),u=u.child,u!==null))for(sb(u,h,g),u=u.sibling;u!==null;)sb(u,h,g),u=u.sibling}function t4(u){var h=u.stateNode,g=u.memoizedProps;try{for(var v=u.type,x=h.attributes;x.length;)h.removeAttributeNode(x[0]);Vi(h,v,g),h[je]=u,h[Qe]=g}catch(_){nr(u,u.return,_)}}var mc=!1,Ur=!1,PR=!1,n4=typeof WeakSet=="function"?WeakSet:Set,Si=null;function _ne(u,h){if(u=u.containerInfo,e_=Sb,u=fL(u),AT(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var x=v.anchorOffset,_=v.focusNode;v=v.focusOffset;try{g.nodeType,_.nodeType}catch{g=null;break e}var z=0,Y=-1,ce=-1,Re=0,He=0,We=u,ke=null;t:for(;;){for(var Ie;We!==g||x!==0&&We.nodeType!==3||(Y=z+x),We!==_||v!==0&&We.nodeType!==3||(ce=z+v),We.nodeType===3&&(z+=We.nodeValue.length),(Ie=We.firstChild)!==null;)ke=We,We=Ie;for(;;){if(We===u)break t;if(ke===g&&++Re===x&&(Y=z),ke===_&&++He===v&&(ce=z),(Ie=We.nextSibling)!==null)break;We=ke,ke=We.parentNode}We=Ie}g=Y===-1||ce===-1?null:{start:Y,end:ce}}else g=null}g=g||{start:0,end:0}}else g=null;for(t_={focusedElem:u,selectionRange:g},Sb=!1,Si=h;Si!==null;)if(h=Si,u=h.child,(h.subtreeFlags&1024)!==0&&u!==null)u.return=h,Si=u;else for(;Si!==null;){switch(h=Si,_=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&_!==null){u=void 0,g=h,x=_.memoizedProps,_=_.memoizedState,v=g.stateNode;try{var jt=lh(g.type,x,g.elementType===g.type);u=v.getSnapshotBeforeUpdate(jt,_),v.__reactInternalSnapshotBeforeUpdate=u}catch(Ot){nr(g,g.return,Ot)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,g=u.nodeType,g===9)i_(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":i_(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,Si=u;break}Si=h.return}}function r4(u,h,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:mu(u,g),v&4&&f0(5,g);break;case 1:if(mu(u,g),v&4)if(u=g.stateNode,h===null)try{u.componentDidMount()}catch(z){nr(g,g.return,z)}else{var x=lh(g.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(x,h,u.__reactInternalSnapshotBeforeUpdate)}catch(z){nr(g,g.return,z)}}v&64&&QN(g),v&512&&p0(g,g.return);break;case 3:if(mu(u,g),v&64&&(u=g.updateQueue,u!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{BL(u,h)}catch(z){nr(g,g.return,z)}}break;case 27:h===null&&v&4&&t4(g);case 26:case 5:mu(u,g),h===null&&v&4&&ZN(g),v&512&&p0(g,g.return);break;case 12:mu(u,g);break;case 13:mu(u,g),v&4&&o4(u,g),v&64&&(u=g.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(g=Lne.bind(null,g),ere(u,g))));break;case 22:if(v=g.memoizedState!==null||mc,!v){h=h!==null&&h.memoizedState!==null||Ur,x=mc;var _=Ur;mc=v,(Ur=h)&&!_?vu(u,g,(g.subtreeFlags&8772)!==0):mu(u,g),mc=x,Ur=_}break;case 30:break;default:mu(u,g)}}function i4(u){var h=u.alternate;h!==null&&(u.alternate=null,i4(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&K(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var mr=null,Ns=!1;function vc(u,h,g){for(g=g.child;g!==null;)s4(u,h,g),g=g.sibling}function s4(u,h,g){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(ve,g)}catch{}switch(g.tag){case 26:Ur||sl(g,h),vc(u,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ur||sl(g,h);var v=mr,x=Ns;Su(g.type)&&(mr=g.stateNode,Ns=!1),vc(u,h,g),S0(g.stateNode),mr=v,Ns=x;break;case 5:Ur||sl(g,h);case 6:if(v=mr,x=Ns,mr=null,vc(u,h,g),mr=v,Ns=x,mr!==null)if(Ns)try{(mr.nodeType===9?mr.body:mr.nodeName==="HTML"?mr.ownerDocument.body:mr).removeChild(g.stateNode)}catch(_){nr(g,h,_)}else try{mr.removeChild(g.stateNode)}catch(_){nr(g,h,_)}break;case 18:mr!==null&&(Ns?(u=mr,q4(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,g.stateNode),k0(u)):q4(mr,g.stateNode));break;case 4:v=mr,x=Ns,mr=g.stateNode.containerInfo,Ns=!0,vc(u,h,g),mr=v,Ns=x;break;case 0:case 11:case 14:case 15:Ur||gu(2,g,h),Ur||gu(4,g,h),vc(u,h,g);break;case 1:Ur||(sl(g,h),v=g.stateNode,typeof v.componentWillUnmount=="function"&&JN(g,h,v)),vc(u,h,g);break;case 21:vc(u,h,g);break;case 22:Ur=(v=Ur)||g.memoizedState!==null,vc(u,h,g),Ur=v;break;default:vc(u,h,g)}}function o4(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{k0(u)}catch(g){nr(h,h.return,g)}}function Ane(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new n4),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new n4),h;default:throw Error(r(435,u.tag))}}function kR(u,h){var g=Ane(u);h.forEach(function(v){var x=Nne.bind(null,u,v);g.has(v)||(g.add(v),v.then(x,x))})}function oo(u,h){var g=h.deletions;if(g!==null)for(var v=0;v<g.length;v++){var x=g[v],_=u,z=h,Y=z;e:for(;Y!==null;){switch(Y.tag){case 27:if(Su(Y.type)){mr=Y.stateNode,Ns=!1;break e}break;case 5:mr=Y.stateNode,Ns=!1;break e;case 3:case 4:mr=Y.stateNode.containerInfo,Ns=!0;break e}Y=Y.return}if(mr===null)throw Error(r(160));s4(_,z,x),mr=null,Ns=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)a4(h,u),h=h.sibling}var Aa=null;function a4(u,h){var g=u.alternate,v=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:oo(h,u),ao(u),v&4&&(gu(3,u,u.return),f0(3,u),gu(5,u,u.return));break;case 1:oo(h,u),ao(u),v&512&&(Ur||g===null||sl(g,g.return)),v&64&&mc&&(u=u.updateQueue,u!==null&&(v=u.callbacks,v!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var x=Aa;if(oo(h,u),ao(u),v&512&&(Ur||g===null||sl(g,g.return)),v&4){var _=g!==null?g.memoizedState:null;if(v=u.memoizedState,g===null)if(v===null)if(u.stateNode===null){e:{v=u.type,g=u.memoizedProps,x=x.ownerDocument||x;t:switch(v){case"title":_=x.getElementsByTagName("title")[0],(!_||_[q]||_[je]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(v),x.head.insertBefore(_,x.querySelector("head > title"))),Vi(_,v,g),_[je]=u,me(_),v=_;break e;case"link":var z=tB("link","href",x).get(v+(g.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(_=z[Y],_.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&_.getAttribute("rel")===(g.rel==null?null:g.rel)&&_.getAttribute("title")===(g.title==null?null:g.title)&&_.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){z.splice(Y,1);break t}}_=x.createElement(v),Vi(_,v,g),x.head.appendChild(_);break;case"meta":if(z=tB("meta","content",x).get(v+(g.content||""))){for(Y=0;Y<z.length;Y++)if(_=z[Y],_.getAttribute("content")===(g.content==null?null:""+g.content)&&_.getAttribute("name")===(g.name==null?null:g.name)&&_.getAttribute("property")===(g.property==null?null:g.property)&&_.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&_.getAttribute("charset")===(g.charSet==null?null:g.charSet)){z.splice(Y,1);break t}}_=x.createElement(v),Vi(_,v,g),x.head.appendChild(_);break;default:throw Error(r(468,v))}_[je]=u,me(_),v=_}u.stateNode=v}else nB(x,u.type,u.stateNode);else u.stateNode=eB(x,v,u.memoizedProps);else _!==v?(_===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):_.count--,v===null?nB(x,u.type,u.stateNode):eB(x,v,u.memoizedProps)):v===null&&u.stateNode!==null&&_R(u,u.memoizedProps,g.memoizedProps)}break;case 27:oo(h,u),ao(u),v&512&&(Ur||g===null||sl(g,g.return)),g!==null&&v&4&&_R(u,u.memoizedProps,g.memoizedProps);break;case 5:if(oo(h,u),ao(u),v&512&&(Ur||g===null||sl(g,g.return)),u.flags&32){x=u.stateNode;try{No(x,"")}catch(Ie){nr(u,u.return,Ie)}}v&4&&u.stateNode!=null&&(x=u.memoizedProps,_R(u,x,g!==null?g.memoizedProps:x)),v&1024&&(PR=!0);break;case 6:if(oo(h,u),ao(u),v&4){if(u.stateNode===null)throw Error(r(162));v=u.memoizedProps,g=u.stateNode;try{g.nodeValue=v}catch(Ie){nr(u,u.return,Ie)}}break;case 3:if(Cb=null,x=Aa,Aa=yb(h.containerInfo),oo(h,u),Aa=x,ao(u),v&4&&g!==null&&g.memoizedState.isDehydrated)try{k0(h.containerInfo)}catch(Ie){nr(u,u.return,Ie)}PR&&(PR=!1,l4(u));break;case 4:v=Aa,Aa=yb(u.stateNode.containerInfo),oo(h,u),ao(u),Aa=v;break;case 12:oo(h,u),ao(u);break;case 13:oo(h,u),ao(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(NR=Me()),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,kR(u,v)));break;case 22:x=u.memoizedState!==null;var ce=g!==null&&g.memoizedState!==null,Re=mc,He=Ur;if(mc=Re||x,Ur=He||ce,oo(h,u),Ur=He,mc=Re,ao(u),v&8192)e:for(h=u.stateNode,h._visibility=x?h._visibility&-2:h._visibility|1,x&&(g===null||ce||mc||Ur||ch(u)),g=null,h=u;;){if(h.tag===5||h.tag===26){if(g===null){ce=g=h;try{if(_=ce.stateNode,x)z=_.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Y=ce.stateNode;var We=ce.memoizedProps.style,ke=We!=null&&We.hasOwnProperty("display")?We.display:null;Y.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Ie){nr(ce,ce.return,Ie)}}}else if(h.tag===6){if(g===null){ce=h;try{ce.stateNode.nodeValue=x?"":ce.memoizedProps}catch(Ie){nr(ce,ce.return,Ie)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}v&4&&(v=u.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,kR(u,g))));break;case 19:oo(h,u),ao(u),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,kR(u,v)));break;case 30:break;case 21:break;default:oo(h,u),ao(u)}}function ao(u){var h=u.flags;if(h&2){try{for(var g,v=u.return;v!==null;){if(e4(v)){g=v;break}v=v.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var x=g.stateNode,_=AR(u);sb(u,_,x);break;case 5:var z=g.stateNode;g.flags&32&&(No(z,""),g.flags&=-33);var Y=AR(u);sb(u,Y,z);break;case 3:case 4:var ce=g.stateNode.containerInfo,Re=AR(u);DR(u,Re,ce);break;default:throw Error(r(161))}}catch(He){nr(u,u.return,He)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function l4(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;l4(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function mu(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)r4(u,h.alternate,h),h=h.sibling}function ch(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:gu(4,h,h.return),ch(h);break;case 1:sl(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&JN(h,h.return,g),ch(h);break;case 27:S0(h.stateNode);case 26:case 5:sl(h,h.return),ch(h);break;case 22:h.memoizedState===null&&ch(h);break;case 30:ch(h);break;default:ch(h)}u=u.sibling}}function vu(u,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var v=h.alternate,x=u,_=h,z=_.flags;switch(_.tag){case 0:case 11:case 15:vu(x,_,g),f0(4,_);break;case 1:if(vu(x,_,g),v=_,x=v.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Re){nr(v,v.return,Re)}if(v=_,x=v.updateQueue,x!==null){var Y=v.stateNode;try{var ce=x.shared.hiddenCallbacks;if(ce!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ce.length;x++)NL(ce[x],Y)}catch(Re){nr(v,v.return,Re)}}g&&z&64&&QN(_),p0(_,_.return);break;case 27:t4(_);case 26:case 5:vu(x,_,g),g&&v===null&&z&4&&ZN(_),p0(_,_.return);break;case 12:vu(x,_,g);break;case 13:vu(x,_,g),g&&z&4&&o4(x,_);break;case 22:_.memoizedState===null&&vu(x,_,g),p0(_,_.return);break;case 30:break;default:vu(x,_,g)}h=h.sibling}}function FR(u,h){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&Zm(g))}function IR(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Zm(u))}function ol(u,h,g,v){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)c4(u,h,g,v),h=h.sibling}function c4(u,h,g,v){var x=h.flags;switch(h.tag){case 0:case 11:case 15:ol(u,h,g,v),x&2048&&f0(9,h);break;case 1:ol(u,h,g,v);break;case 3:ol(u,h,g,v),x&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Zm(u)));break;case 12:if(x&2048){ol(u,h,g,v),u=h.stateNode;try{var _=h.memoizedProps,z=_.id,Y=_.onPostCommit;typeof Y=="function"&&Y(z,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ce){nr(h,h.return,ce)}}else ol(u,h,g,v);break;case 13:ol(u,h,g,v);break;case 23:break;case 22:_=h.stateNode,z=h.alternate,h.memoizedState!==null?_._visibility&2?ol(u,h,g,v):g0(u,h):_._visibility&2?ol(u,h,g,v):(_._visibility|=2,gp(u,h,g,v,(h.subtreeFlags&10256)!==0)),x&2048&&FR(z,h);break;case 24:ol(u,h,g,v),x&2048&&IR(h.alternate,h);break;default:ol(u,h,g,v)}}function gp(u,h,g,v,x){for(x=x&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var _=u,z=h,Y=g,ce=v,Re=z.flags;switch(z.tag){case 0:case 11:case 15:gp(_,z,Y,ce,x),f0(8,z);break;case 23:break;case 22:var He=z.stateNode;z.memoizedState!==null?He._visibility&2?gp(_,z,Y,ce,x):g0(_,z):(He._visibility|=2,gp(_,z,Y,ce,x)),x&&Re&2048&&FR(z.alternate,z);break;case 24:gp(_,z,Y,ce,x),x&&Re&2048&&IR(z.alternate,z);break;default:gp(_,z,Y,ce,x)}h=h.sibling}}function g0(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=u,v=h,x=v.flags;switch(v.tag){case 22:g0(g,v),x&2048&&FR(v.alternate,v);break;case 24:g0(g,v),x&2048&&IR(v.alternate,v);break;default:g0(g,v)}h=h.sibling}}var m0=8192;function mp(u){if(u.subtreeFlags&m0)for(u=u.child;u!==null;)u4(u),u=u.sibling}function u4(u){switch(u.tag){case 26:mp(u),u.flags&m0&&u.memoizedState!==null&&fre(Aa,u.memoizedState,u.memoizedProps);break;case 5:mp(u);break;case 3:case 4:var h=Aa;Aa=yb(u.stateNode.containerInfo),mp(u),Aa=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=m0,m0=16777216,mp(u),m0=h):mp(u));break;default:mp(u)}}function d4(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function v0(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];Si=v,f4(v,u)}d4(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)h4(u),u=u.sibling}function h4(u){switch(u.tag){case 0:case 11:case 15:v0(u),u.flags&2048&&gu(9,u,u.return);break;case 3:v0(u);break;case 12:v0(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,ob(u)):v0(u);break;default:v0(u)}}function ob(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];Si=v,f4(v,u)}d4(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:gu(8,h,h.return),ob(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,ob(h));break;default:ob(h)}u=u.sibling}}function f4(u,h){for(;Si!==null;){var g=Si;switch(g.tag){case 0:case 11:case 15:gu(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Zm(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,Si=v;else e:for(g=u;Si!==null;){v=Si;var x=v.sibling,_=v.return;if(i4(v),v===g){Si=null;break e}if(x!==null){x.return=_,Si=x;break e}Si=_}}}var Dne={getCacheForType:function(u){var h=Zi(fi),g=h.data.get(u);return g===void 0&&(g=u(),h.data.set(u,g)),g}},Pne=typeof WeakMap=="function"?WeakMap:Map,zn=0,ir=null,dn=null,bn=0,jn=0,lo=null,yu=!1,vp=!1,MR=!1,yc=0,Pr=0,wu=0,uh=0,OR=0,$o=0,yp=0,y0=null,Bs=null,LR=!1,NR=0,ab=1/0,lb=null,Cu=null,Bi=0,bu=null,wp=null,Cp=0,BR=0,VR=null,p4=null,w0=0,HR=null;function co(){if((zn&2)!==0&&bn!==0)return bn&-bn;if(Z.T!==null){var u=ap;return u!==0?u:qR()}return de()}function g4(){$o===0&&($o=(bn&536870912)===0||In?Mo():536870912);var u=Wo.current;return u!==null&&(u.flags|=32),$o}function uo(u,h,g){(u===ir&&(jn===2||jn===9)||u.cancelPendingCommit!==null)&&(bp(u,0),xu(u,bn,$o,!1)),to(u,g),((zn&2)===0||u!==ir)&&(u===ir&&((zn&2)===0&&(uh|=g),Pr===4&&xu(u,bn,$o,!1)),al(u))}function m4(u,h,g){if((zn&6)!==0)throw Error(r(327));var v=!g&&(h&124)===0&&(h&u.expiredLanes)===0||Br(u,h),x=v?Ine(u,h):zR(u,h,!0),_=v;do{if(x===0){vp&&!v&&xu(u,h,0,!1);break}else{if(g=u.current.alternate,_&&!kne(g)){x=zR(u,h,!1),_=!1;continue}if(x===2){if(_=h,u.errorRecoveryDisabledLanes&_)var z=0;else z=u.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){h=z;e:{var Y=u;x=y0;var ce=Y.current.memoizedState.isDehydrated;if(ce&&(bp(Y,z).flags|=256),z=zR(Y,z,!1),z!==2){if(MR&&!ce){Y.errorRecoveryDisabledLanes|=_,uh|=_,x=4;break e}_=Bs,Bs=x,_!==null&&(Bs===null?Bs=_:Bs.push.apply(Bs,_))}x=z}if(_=!1,x!==2)continue}}if(x===1){bp(u,0),xu(u,h,0,!0);break}e:{switch(v=u,_=x,_){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:xu(v,h,$o,!yu);break e;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(x=NR+300-Me(),10<x)){if(xu(v,h,$o,!yu),ar(v,0,!0)!==0)break e;v.timeoutHandle=W4(v4.bind(null,v,g,Bs,lb,LR,h,$o,uh,yp,yu,_,2,-0,0),x);break e}v4(v,g,Bs,lb,LR,h,$o,uh,yp,yu,_,0,-0,0)}}break}while(!0);al(u)}function v4(u,h,g,v,x,_,z,Y,ce,Re,He,We,ke,Ie){if(u.timeoutHandle=-1,We=h.subtreeFlags,(We&8192||(We&16785408)===16785408)&&(R0={stylesheets:null,count:0,unsuspend:hre},u4(h),We=pre(),We!==null)){u.cancelPendingCommit=We(E4.bind(null,u,h,_,g,v,x,z,Y,ce,He,1,ke,Ie)),xu(u,_,z,!Re);return}E4(u,h,_,g,v,x,z,Y,ce)}function kne(u){for(var h=u;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var x=g[v],_=x.getSnapshot;x=x.value;try{if(!io(_(),x))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function xu(u,h,g,v){h&=~OR,h&=~uh,u.suspendedLanes|=h,u.pingedLanes&=~h,v&&(u.warmLanes|=h),v=u.expirationTimes;for(var x=h;0<x;){var _=31-ht(x),z=1<<_;v[_]=-1,x&=~z}g!==0&&Oi(u,g,h)}function cb(){return(zn&6)===0?(C0(0),!1):!0}function GR(){if(dn!==null){if(jn===0)var u=dn.return;else u=dn,uc=ih=null,iR(u),fp=null,u0=0,u=dn;for(;u!==null;)XN(u.alternate,u),u=u.return;dn=null}}function bp(u,h){var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,Yne(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),GR(),ir=u,dn=g=ac(u.current,null),bn=h,jn=0,lo=null,yu=!1,vp=Br(u,h),MR=!1,yp=$o=OR=uh=wu=Pr=0,Bs=y0=null,LR=!1,(h&8)!==0&&(h|=h&32);var v=u.entangledLanes;if(v!==0)for(u=u.entanglements,v&=h;0<v;){var x=31-ht(v),_=1<<x;h|=u[x],v&=~_}return yc=h,kC(),g}function y4(u,h){sn=null,Z.H=XC,h===t0||h===HC?(h=OL(),jn=3):h===FL?(h=OL(),jn=4):jn=h===LN?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,lo=h,dn===null&&(Pr=1,tb(u,Go(h,u.current)))}function w4(){var u=Z.H;return Z.H=XC,u===null?XC:u}function C4(){var u=Z.A;return Z.A=Dne,u}function UR(){Pr=4,yu||(bn&4194048)!==bn&&Wo.current!==null||(vp=!0),(wu&134217727)===0&&(uh&134217727)===0||ir===null||xu(ir,bn,$o,!1)}function zR(u,h,g){var v=zn;zn|=2;var x=w4(),_=C4();(ir!==u||bn!==h)&&(lb=null,bp(u,h)),h=!1;var z=Pr;e:do try{if(jn!==0&&dn!==null){var Y=dn,ce=lo;switch(jn){case 8:GR(),z=6;break e;case 3:case 2:case 9:case 6:Wo.current===null&&(h=!0);var Re=jn;if(jn=0,lo=null,xp(u,Y,ce,Re),g&&vp){z=0;break e}break;default:Re=jn,jn=0,lo=null,xp(u,Y,ce,Re)}}Fne(),z=Pr;break}catch(He){y4(u,He)}while(!0);return h&&u.shellSuspendCounter++,uc=ih=null,zn=v,Z.H=x,Z.A=_,dn===null&&(ir=null,bn=0,kC()),z}function Fne(){for(;dn!==null;)b4(dn)}function Ine(u,h){var g=zn;zn|=2;var v=w4(),x=C4();ir!==u||bn!==h?(lb=null,ab=Me()+500,bp(u,h)):vp=Br(u,h);e:do try{if(jn!==0&&dn!==null){h=dn;var _=lo;t:switch(jn){case 1:jn=0,lo=null,xp(u,h,_,1);break;case 2:case 9:if(IL(_)){jn=0,lo=null,x4(h);break}h=function(){jn!==2&&jn!==9||ir!==u||(jn=7),al(u)},_.then(h,h);break e;case 3:jn=7;break e;case 4:jn=5;break e;case 7:IL(_)?(jn=0,lo=null,x4(h)):(jn=0,lo=null,xp(u,h,_,7));break;case 5:var z=null;switch(dn.tag){case 26:z=dn.memoizedState;case 5:case 27:var Y=dn;if(!z||rB(z)){jn=0,lo=null;var ce=Y.sibling;if(ce!==null)dn=ce;else{var Re=Y.return;Re!==null?(dn=Re,ub(Re)):dn=null}break t}}jn=0,lo=null,xp(u,h,_,5);break;case 6:jn=0,lo=null,xp(u,h,_,6);break;case 8:GR(),Pr=6;break e;default:throw Error(r(462))}}Mne();break}catch(He){y4(u,He)}while(!0);return uc=ih=null,Z.H=v,Z.A=x,zn=g,dn!==null?0:(ir=null,bn=0,kC(),Pr)}function Mne(){for(;dn!==null&&!Je();)b4(dn)}function b4(u){var h=KN(u.alternate,u,yc);u.memoizedProps=u.pendingProps,h===null?ub(u):dn=h}function x4(u){var h=u,g=h.alternate;switch(h.tag){case 15:case 0:h=UN(g,h,h.pendingProps,h.type,void 0,bn);break;case 11:h=UN(g,h,h.pendingProps,h.type.render,h.ref,bn);break;case 5:iR(h);default:XN(g,h),h=dn=SL(h,yc),h=KN(g,h,yc)}u.memoizedProps=u.pendingProps,h===null?ub(u):dn=h}function xp(u,h,g,v){uc=ih=null,iR(h),fp=null,u0=0;var x=h.return;try{if(Sne(u,x,h,g,bn)){Pr=1,tb(u,Go(g,u.current)),dn=null;return}}catch(_){if(x!==null)throw dn=x,_;Pr=1,tb(u,Go(g,u.current)),dn=null;return}h.flags&32768?(In||v===1?u=!0:vp||(bn&536870912)!==0?u=!1:(yu=u=!0,(v===2||v===9||v===3||v===6)&&(v=Wo.current,v!==null&&v.tag===13&&(v.flags|=16384))),S4(h,u)):ub(h)}function ub(u){var h=u;do{if((h.flags&32768)!==0){S4(h,yu);return}u=h.return;var g=Tne(h.alternate,h,yc);if(g!==null){dn=g;return}if(h=h.sibling,h!==null){dn=h;return}dn=h=u}while(h!==null);Pr===0&&(Pr=5)}function S4(u,h){do{var g=Rne(u.alternate,u);if(g!==null){g.flags&=32767,dn=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(u=u.sibling,u!==null)){dn=u;return}dn=u=g}while(u!==null);Pr=6,dn=null}function E4(u,h,g,v,x,_,z,Y,ce){u.cancelPendingCommit=null;do db();while(Bi!==0);if((zn&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(_=h.lanes|h.childLanes,_|=IT,no(u,g,_,z,Y,ce),u===ir&&(dn=ir=null,bn=0),wp=h,bu=u,Cp=g,BR=_,VR=x,p4=v,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Bne(It,function(){return D4(),null})):(u.callbackNode=null,u.callbackPriority=0),v=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||v){v=Z.T,Z.T=null,x=se.p,se.p=2,z=zn,zn|=4;try{_ne(u,h,g)}finally{zn=z,se.p=x,Z.T=v}}Bi=1,T4(),R4(),_4()}}function T4(){if(Bi===1){Bi=0;var u=bu,h=wp,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=Z.T,Z.T=null;var v=se.p;se.p=2;var x=zn;zn|=4;try{a4(h,u);var _=t_,z=fL(u.containerInfo),Y=_.focusedElem,ce=_.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&hL(Y.ownerDocument.documentElement,Y)){if(ce!==null&&AT(Y)){var Re=ce.start,He=ce.end;if(He===void 0&&(He=Re),"selectionStart"in Y)Y.selectionStart=Re,Y.selectionEnd=Math.min(He,Y.value.length);else{var We=Y.ownerDocument||document,ke=We&&We.defaultView||window;if(ke.getSelection){var Ie=ke.getSelection(),jt=Y.textContent.length,Ot=Math.min(ce.start,jt),Qn=ce.end===void 0?Ot:Math.min(ce.end,jt);!Ie.extend&&Ot>Qn&&(z=Qn,Qn=Ot,Ot=z);var Ce=dL(Y,Ot),ge=dL(Y,Qn);if(Ce&&ge&&(Ie.rangeCount!==1||Ie.anchorNode!==Ce.node||Ie.anchorOffset!==Ce.offset||Ie.focusNode!==ge.node||Ie.focusOffset!==ge.offset)){var Se=We.createRange();Se.setStart(Ce.node,Ce.offset),Ie.removeAllRanges(),Ot>Qn?(Ie.addRange(Se),Ie.extend(ge.node,ge.offset)):(Se.setEnd(ge.node,ge.offset),Ie.addRange(Se))}}}}for(We=[],Ie=Y;Ie=Ie.parentNode;)Ie.nodeType===1&&We.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<We.length;Y++){var Ue=We[Y];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Sb=!!e_,t_=e_=null}finally{zn=x,se.p=v,Z.T=g}}u.current=h,Bi=2}}function R4(){if(Bi===2){Bi=0;var u=bu,h=wp,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=Z.T,Z.T=null;var v=se.p;se.p=2;var x=zn;zn|=4;try{r4(u,h.alternate,h)}finally{zn=x,se.p=v,Z.T=g}}Bi=3}}function _4(){if(Bi===4||Bi===3){Bi=0,et();var u=bu,h=wp,g=Cp,v=p4;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Bi=5:(Bi=0,wp=bu=null,A4(u,u.pendingLanes));var x=u.pendingLanes;if(x===0&&(Cu=null),Ya(g),h=h.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(ve,h,void 0,(h.current.flags&128)===128)}catch{}if(v!==null){h=Z.T,x=se.p,se.p=2,Z.T=null;try{for(var _=u.onRecoverableError,z=0;z<v.length;z++){var Y=v[z];_(Y.value,{componentStack:Y.stack})}}finally{Z.T=h,se.p=x}}(Cp&3)!==0&&db(),al(u),x=u.pendingLanes,(g&4194090)!==0&&(x&42)!==0?u===HR?w0++:(w0=0,HR=u):w0=0,C0(0)}}function A4(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Zm(h)))}function db(u){return T4(),R4(),_4(),D4()}function D4(){if(Bi!==5)return!1;var u=bu,h=BR;BR=0;var g=Ya(Cp),v=Z.T,x=se.p;try{se.p=32>g?32:g,Z.T=null,g=VR,VR=null;var _=bu,z=Cp;if(Bi=0,wp=bu=null,Cp=0,(zn&6)!==0)throw Error(r(331));var Y=zn;if(zn|=4,h4(_.current),c4(_,_.current,z,g),zn=Y,C0(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(ve,_)}catch{}return!0}finally{se.p=x,Z.T=v,A4(u,h)}}function P4(u,h,g){h=Go(g,h),h=yR(u.stateNode,h,2),u=du(u,h,2),u!==null&&(to(u,2),al(u))}function nr(u,h,g){if(u.tag===3)P4(u,u,g);else for(;h!==null;){if(h.tag===3){P4(h,u,g);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Cu===null||!Cu.has(v))){u=Go(g,u),g=MN(2),v=du(h,g,2),v!==null&&(ON(g,v,h,u),to(v,2),al(v));break}}h=h.return}}function jR(u,h,g){var v=u.pingCache;if(v===null){v=u.pingCache=new Pne;var x=new Set;v.set(h,x)}else x=v.get(h),x===void 0&&(x=new Set,v.set(h,x));x.has(g)||(MR=!0,x.add(g),u=One.bind(null,u,h,g),h.then(u,u))}function One(u,h,g){var v=u.pingCache;v!==null&&v.delete(h),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,ir===u&&(bn&g)===g&&(Pr===4||Pr===3&&(bn&62914560)===bn&&300>Me()-NR?(zn&2)===0&&bp(u,0):OR|=g,yp===bn&&(yp=0)),al(u)}function k4(u,h){h===0&&(h=Ka()),u=rp(u,h),u!==null&&(to(u,h),al(u))}function Lne(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),k4(u,g)}function Nne(u,h){var g=0;switch(u.tag){case 13:var v=u.stateNode,x=u.memoizedState;x!==null&&(g=x.retryLane);break;case 19:v=u.stateNode;break;case 22:v=u.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(h),k4(u,g)}function Bne(u,h){return St(u,h)}var hb=null,Sp=null,WR=!1,fb=!1,$R=!1,dh=0;function al(u){u!==Sp&&u.next===null&&(Sp===null?hb=Sp=u:Sp=Sp.next=u),fb=!0,WR||(WR=!0,Hne())}function C0(u,h){if(!$R&&fb){$R=!0;do for(var g=!1,v=hb;v!==null;){if(u!==0){var x=v.pendingLanes;if(x===0)var _=0;else{var z=v.suspendedLanes,Y=v.pingedLanes;_=(1<<31-ht(42|u)+1)-1,_&=x&~(z&~Y),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(g=!0,O4(v,_))}else _=bn,_=ar(v,v===ir?_:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(_&3)===0||Br(v,_)||(g=!0,O4(v,_));v=v.next}while(g);$R=!1}}function Vne(){F4()}function F4(){fb=WR=!1;var u=0;dh!==0&&(Kne()&&(u=dh),dh=0);for(var h=Me(),g=null,v=hb;v!==null;){var x=v.next,_=I4(v,h);_===0?(v.next=null,g===null?hb=x:g.next=x,x===null&&(Sp=g)):(g=v,(u!==0||(_&3)!==0)&&(fb=!0)),v=x}C0(u)}function I4(u,h){for(var g=u.suspendedLanes,v=u.pingedLanes,x=u.expirationTimes,_=u.pendingLanes&-62914561;0<_;){var z=31-ht(_),Y=1<<z,ce=x[z];ce===-1?((Y&g)===0||(Y&v)!==0)&&(x[z]=Vr(Y,h)):ce<=h&&(u.expiredLanes|=Y),_&=~Y}if(h=ir,g=bn,g=ar(u,u===h?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),v=u.callbackNode,g===0||u===h&&(jn===2||jn===9)||u.cancelPendingCommit!==null)return v!==null&&v!==null&&ze(v),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||Br(u,g)){if(h=g&-g,h===u.callbackPriority)return h;switch(v!==null&&ze(v),Ya(g)){case 2:case 8:g=Ct;break;case 32:g=It;break;case 268435456:g=Kt;break;default:g=It}return v=M4.bind(null,u),g=St(g,v),u.callbackPriority=h,u.callbackNode=g,h}return v!==null&&v!==null&&ze(v),u.callbackPriority=2,u.callbackNode=null,2}function M4(u,h){if(Bi!==0&&Bi!==5)return u.callbackNode=null,u.callbackPriority=0,null;var g=u.callbackNode;if(db()&&u.callbackNode!==g)return null;var v=bn;return v=ar(u,u===ir?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),v===0?null:(m4(u,v,h),I4(u,Me()),u.callbackNode!=null&&u.callbackNode===g?M4.bind(null,u):null)}function O4(u,h){if(db())return null;m4(u,h,!0)}function Hne(){Xne(function(){(zn&6)!==0?St(kt,Vne):F4()})}function qR(){return dh===0&&(dh=Mo()),dh}function L4(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Wf(""+u)}function N4(u,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,u.id&&g.setAttribute("form",u.id),h.parentNode.insertBefore(g,h),u=new FormData(u),g.parentNode.removeChild(g),u}function Gne(u,h,g,v,x){if(h==="submit"&&g&&g.stateNode===x){var _=L4((x[Qe]||null).action),z=v.submitter;z&&(h=(h=z[Qe]||null)?L4(h.formAction):z.getAttribute("formAction"),h!==null&&(_=h,z=null));var Y=new $f("action","action",null,v,x);u.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(dh!==0){var ce=z?N4(x,z):new FormData(x);fR(g,{pending:!0,data:ce,method:x.method,action:_},null,ce)}}else typeof _=="function"&&(Y.preventDefault(),ce=z?N4(x,z):new FormData(x),fR(g,{pending:!0,data:ce,method:x.method,action:_},_,ce))},currentTarget:x}]})}}for(var KR=0;KR<FT.length;KR++){var YR=FT[KR],Une=YR.toLowerCase(),zne=YR[0].toUpperCase()+YR.slice(1);_a(Une,"on"+zne)}_a(mL,"onAnimationEnd"),_a(vL,"onAnimationIteration"),_a(yL,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(one,"onTransitionRun"),_a(ane,"onTransitionStart"),_a(lne,"onTransitionCancel"),_a(wL,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var b0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(b0));function B4(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var v=u[g],x=v.event;v=v.listeners;e:{var _=void 0;if(h)for(var z=v.length-1;0<=z;z--){var Y=v[z],ce=Y.instance,Re=Y.currentTarget;if(Y=Y.listener,ce!==_&&x.isPropagationStopped())break e;_=Y,x.currentTarget=Re;try{_(x)}catch(He){eb(He)}x.currentTarget=null,_=ce}else for(z=0;z<v.length;z++){if(Y=v[z],ce=Y.instance,Re=Y.currentTarget,Y=Y.listener,ce!==_&&x.isPropagationStopped())break e;_=Y,x.currentTarget=Re;try{_(x)}catch(He){eb(He)}x.currentTarget=null,_=ce}}}}function hn(u,h){var g=h[bt];g===void 0&&(g=h[bt]=new Set);var v=u+"__bubble";g.has(v)||(V4(h,u,2,!1),g.add(v))}function XR(u,h,g){var v=0;h&&(v|=4),V4(g,u,v,h)}var pb="_reactListening"+Math.random().toString(36).slice(2);function QR(u){if(!u[pb]){u[pb]=!0,ye.forEach(function(g){g!=="selectionchange"&&(jne.has(g)||XR(g,!1,u),XR(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[pb]||(h[pb]=!0,XR("selectionchange",!1,h))}}function V4(u,h,g,v){switch(cB(h)){case 2:var x=vre;break;case 8:x=yre;break;default:x=d_}g=x.bind(null,h,g,u),x=void 0,!Vo||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(x=!0),v?x!==void 0?u.addEventListener(h,g,{capture:!0,passive:x}):u.addEventListener(h,g,!0):x!==void 0?u.addEventListener(h,g,{passive:x}):u.addEventListener(h,g,!1)}function JR(u,h,g,v,x){var _=v;if((h&1)===0&&(h&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var Y=v.stateNode.containerInfo;if(Y===x)break;if(z===4)for(z=v.return;z!==null;){var ce=z.tag;if((ce===3||ce===4)&&z.stateNode.containerInfo===x)return;z=z.return}for(;Y!==null;){if(z=ee(Y),z===null)return;if(ce=z.tag,ce===5||ce===6||ce===26||ce===27){v=_=z;continue e}Y=Y.parentNode}}v=v.return}mC(function(){var Re=_,He=Bo(g),We=[];e:{var ke=CL.get(u);if(ke!==void 0){var Ie=$f,jt=u;switch(u){case"keypress":if(Ja(g)===0)break e;case"keydown":case"keyup":Ie=Jf;break;case"focusin":jt="focus",Ie=Yf;break;case"focusout":jt="blur",Ie=Yf;break;case"beforeblur":case"afterblur":Ie=Yf;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=ET;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=EC;break;case mL:case vL:case yL:Ie=Xf;break;case wL:Ie=RC;break;case"scroll":case"scrollend":Ie=vC;break;case"wheel":Ie=Zf;break;case"copy":case"cut":case"paste":Ie=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Wm;break;case"toggle":case"beforetoggle":Ie=AC}var Ot=(h&4)!==0,Qn=!Ot&&(u==="scroll"||u==="scrollend"),Ce=Ot?ke!==null?ke+"Capture":null:ke;Ot=[];for(var ge=Re,Se;ge!==null;){var Ue=ge;if(Se=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Se===null||Ce===null||(Ue=jd(ge,Ce),Ue!=null&&Ot.push(x0(ge,Ue,Se))),Qn)break;ge=ge.return}0<Ot.length&&(ke=new Ie(ke,jt,null,g,He),We.push({event:ke,listeners:Ot}))}}if((h&7)===0){e:{if(ke=u==="mouseover"||u==="pointerover",Ie=u==="mouseout"||u==="pointerout",ke&&g!==tc&&(jt=g.relatedTarget||g.fromElement)&&(ee(jt)||jt[mt]))break e;if((Ie||ke)&&(ke=He.window===He?He:(ke=He.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ie?(jt=g.relatedTarget||g.toElement,Ie=Re,jt=jt?ee(jt):null,jt!==null&&(Qn=s(jt),Ot=jt.tag,jt!==Qn||Ot!==5&&Ot!==27&&Ot!==6)&&(jt=null)):(Ie=null,jt=Re),Ie!==jt)){if(Ot=Ho,Ue="onMouseLeave",Ce="onMouseEnter",ge="mouse",(u==="pointerout"||u==="pointerover")&&(Ot=Wm,Ue="onPointerLeave",Ce="onPointerEnter",ge="pointer"),Qn=Ie==null?ke:we(Ie),Se=jt==null?ke:we(jt),ke=new Ot(Ue,ge+"leave",Ie,g,He),ke.target=Qn,ke.relatedTarget=Se,Ue=null,ee(He)===Re&&(Ot=new Ot(Ce,ge+"enter",jt,g,He),Ot.target=Se,Ot.relatedTarget=Qn,Ue=Ot),Qn=Ue,Ie&&jt)t:{for(Ot=Ie,Ce=jt,ge=0,Se=Ot;Se;Se=Ep(Se))ge++;for(Se=0,Ue=Ce;Ue;Ue=Ep(Ue))Se++;for(;0<ge-Se;)Ot=Ep(Ot),ge--;for(;0<Se-ge;)Ce=Ep(Ce),Se--;for(;ge--;){if(Ot===Ce||Ce!==null&&Ot===Ce.alternate)break t;Ot=Ep(Ot),Ce=Ep(Ce)}Ot=null}else Ot=null;Ie!==null&&H4(We,ke,Ie,Ot,!1),jt!==null&&Qn!==null&&H4(We,Qn,jt,Ot,!0)}}e:{if(ke=Re?we(Re):window,Ie=ke.nodeName&&ke.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ke.type==="file")var wt=sL;else if(hi(ke))if(oL)wt=rne;else{wt=tne;var an=ene}else Ie=ke.nodeName,!Ie||Ie.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Re&&Bm(Re.elementType)&&(wt=sL):wt=nne;if(wt&&(wt=wt(u,Re))){oc(We,wt,g,He);break e}an&&an(u,ke,Re),u==="focusout"&&Re&&ke.type==="number"&&Re.memoizedProps.value!=null&&ou(ke,"number",ke.value)}switch(an=Re?we(Re):window,u){case"focusin":(hi(an)||an.contentEditable==="true")&&(ep=an,DT=Re,Km=null);break;case"focusout":Km=DT=ep=null;break;case"mousedown":PT=!0;break;case"contextmenu":case"mouseup":case"dragend":PT=!1,pL(We,g,He);break;case"selectionchange":if(sne)break;case"keydown":case"keyup":pL(We,g,He)}var Rt;if(tl)e:{switch(u){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else wn?Ne(u,g)&&(Nt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(Nt="onCompositionStart");Nt&&(U&&g.locale!=="ko"&&(wn||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&wn&&(Rt=Hm()):(Qa=He,au="value"in Qa?Qa.value:Qa.textContent,wn=!0)),an=gb(Re,Nt),0<an.length&&(Nt=new zm(Nt,u,null,g,He),We.push({event:Nt,listeners:an}),Rt?Nt.data=Rt:(Rt=at(g),Rt!==null&&(Nt.data=Rt)))),(Rt=O?di(u,g):Cn(u,g))&&(Nt=gb(Re,"onBeforeInput"),0<Nt.length&&(an=new zm("onBeforeInput","beforeinput",null,g,He),We.push({event:an,listeners:Nt}),an.data=Rt)),Gne(We,u,Re,g,He)}B4(We,h)})}function x0(u,h,g){return{instance:u,listener:h,currentTarget:g}}function gb(u,h){for(var g=h+"Capture",v=[];u!==null;){var x=u,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=jd(u,g),x!=null&&v.unshift(x0(u,x,_)),x=jd(u,h),x!=null&&v.push(x0(u,x,_))),u.tag===3)return v;u=u.return}return[]}function Ep(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function H4(u,h,g,v,x){for(var _=h._reactName,z=[];g!==null&&g!==v;){var Y=g,ce=Y.alternate,Re=Y.stateNode;if(Y=Y.tag,ce!==null&&ce===v)break;Y!==5&&Y!==26&&Y!==27||Re===null||(ce=Re,x?(Re=jd(g,_),Re!=null&&z.unshift(x0(g,Re,ce))):x||(Re=jd(g,_),Re!=null&&z.push(x0(g,Re,ce)))),g=g.return}z.length!==0&&u.push({event:h,listeners:z})}var Wne=/\r\n?/g,$ne=/\u0000|\uFFFD/g;function G4(u){return(typeof u=="string"?u:""+u).replace(Wne,`
`).replace($ne,"")}function U4(u,h){return h=G4(h),G4(u)===h}function mb(){}function Xn(u,h,g,v,x,_){switch(g){case"children":typeof v=="string"?h==="body"||h==="textarea"&&v===""||No(u,v):(typeof v=="number"||typeof v=="bigint")&&h!=="body"&&No(u,""+v);break;case"className":rn(u,"class",v);break;case"tabIndex":rn(u,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":rn(u,g,v);break;case"style":Nm(u,v,_);break;case"data":if(h!=="object"){rn(u,"data",v);break}case"src":case"href":if(v===""&&(h!=="a"||g!=="href")){u.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(g);break}v=Wf(""+v),u.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(g==="formAction"?(h!=="input"&&Xn(u,h,"name",x.name,x,null),Xn(u,h,"formEncType",x.formEncType,x,null),Xn(u,h,"formMethod",x.formMethod,x,null),Xn(u,h,"formTarget",x.formTarget,x,null)):(Xn(u,h,"encType",x.encType,x,null),Xn(u,h,"method",x.method,x,null),Xn(u,h,"target",x.target,x,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(g);break}v=Wf(""+v),u.setAttribute(g,v);break;case"onClick":v!=null&&(u.onclick=mb);break;case"onScroll":v!=null&&hn("scroll",u);break;case"onScrollEnd":v!=null&&hn("scrollend",u);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(x.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":u.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){u.removeAttribute("xlink:href");break}g=Wf(""+v),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(g,""+v):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":v===!0?u.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(g,v):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?u.setAttribute(g,v):u.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?u.removeAttribute(g):u.setAttribute(g,v);break;case"popover":hn("beforetoggle",u),hn("toggle",u),un(u,"popover",v);break;case"xlinkActuate":xt(u,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":xt(u,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":xt(u,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":xt(u,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":xt(u,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":xt(u,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":xt(u,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":xt(u,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":xt(u,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":un(u,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=xT.get(g)||g,un(u,g,v))}}function ZR(u,h,g,v,x,_){switch(g){case"style":Nm(u,v,_);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(x.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof v=="string"?No(u,v):(typeof v=="number"||typeof v=="bigint")&&No(u,""+v);break;case"onScroll":v!=null&&hn("scroll",u);break;case"onScrollEnd":v!=null&&hn("scrollend",u);break;case"onClick":v!=null&&(u.onclick=mb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Te.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(x=g.endsWith("Capture"),h=g.slice(2,x?g.length-7:void 0),_=u[Qe]||null,_=_!=null?_[g]:null,typeof _=="function"&&u.removeEventListener(h,_,x),typeof v=="function")){typeof _!="function"&&_!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(h,v,x);break e}g in u?u[g]=v:v===!0?u.setAttribute(g,""):un(u,g,v)}}}function Vi(u,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",u),hn("load",u);var v=!1,x=!1,_;for(_ in g)if(g.hasOwnProperty(_)){var z=g[_];if(z!=null)switch(_){case"src":v=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Xn(u,h,_,z,g,null)}}x&&Xn(u,h,"srcSet",g.srcSet,g,null),v&&Xn(u,h,"src",g.src,g,null);return;case"input":hn("invalid",u);var Y=_=z=x=null,ce=null,Re=null;for(v in g)if(g.hasOwnProperty(v)){var He=g[v];if(He!=null)switch(v){case"name":x=He;break;case"type":z=He;break;case"checked":ce=He;break;case"defaultChecked":Re=He;break;case"value":_=He;break;case"defaultValue":Y=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,h));break;default:Xn(u,h,v,He,g,null)}}Gd(u,_,Y,ce,Re,z,x,!1),jf(u);return;case"select":hn("invalid",u),v=z=_=null;for(x in g)if(g.hasOwnProperty(x)&&(Y=g[x],Y!=null))switch(x){case"value":_=Y;break;case"defaultValue":z=Y;break;case"multiple":v=Y;default:Xn(u,h,x,Y,g,null)}h=_,g=z,u.multiple=!!v,h!=null?ec(u,!!v,h,!1):g!=null&&ec(u,!!v,g,!0);return;case"textarea":hn("invalid",u),_=x=v=null;for(z in g)if(g.hasOwnProperty(z)&&(Y=g[z],Y!=null))switch(z){case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":_=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Xn(u,h,z,Y,g,null)}Ud(u,v,x,_),jf(u);return;case"option":for(ce in g)if(g.hasOwnProperty(ce)&&(v=g[ce],v!=null))switch(ce){case"selected":u.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Xn(u,h,ce,v,g,null)}return;case"dialog":hn("beforetoggle",u),hn("toggle",u),hn("cancel",u),hn("close",u);break;case"iframe":case"object":hn("load",u);break;case"video":case"audio":for(v=0;v<b0.length;v++)hn(b0[v],u);break;case"image":hn("error",u),hn("load",u);break;case"details":hn("toggle",u);break;case"embed":case"source":case"link":hn("error",u),hn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in g)if(g.hasOwnProperty(Re)&&(v=g[Re],v!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Xn(u,h,Re,v,g,null)}return;default:if(Bm(h)){for(He in g)g.hasOwnProperty(He)&&(v=g[He],v!==void 0&&ZR(u,h,He,v,g,void 0));return}}for(Y in g)g.hasOwnProperty(Y)&&(v=g[Y],v!=null&&Xn(u,h,Y,v,g,null))}function qne(u,h,g,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,z=null,Y=null,ce=null,Re=null,He=null;for(Ie in g){var We=g[Ie];if(g.hasOwnProperty(Ie)&&We!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ce=We;default:v.hasOwnProperty(Ie)||Xn(u,h,Ie,null,v,We)}}for(var ke in v){var Ie=v[ke];if(We=g[ke],v.hasOwnProperty(ke)&&(Ie!=null||We!=null))switch(ke){case"type":_=Ie;break;case"name":x=Ie;break;case"checked":Re=Ie;break;case"defaultChecked":He=Ie;break;case"value":z=Ie;break;case"defaultValue":Y=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,h));break;default:Ie!==We&&Xn(u,h,ke,Ie,v,We)}}ro(u,z,Y,ce,Re,He,_,x);return;case"select":Ie=z=Y=ke=null;for(_ in g)if(ce=g[_],g.hasOwnProperty(_)&&ce!=null)switch(_){case"value":break;case"multiple":Ie=ce;default:v.hasOwnProperty(_)||Xn(u,h,_,null,v,ce)}for(x in v)if(_=v[x],ce=g[x],v.hasOwnProperty(x)&&(_!=null||ce!=null))switch(x){case"value":ke=_;break;case"defaultValue":Y=_;break;case"multiple":z=_;default:_!==ce&&Xn(u,h,x,_,v,ce)}h=Y,g=z,v=Ie,ke!=null?ec(u,!!g,ke,!1):!!v!=!!g&&(h!=null?ec(u,!!g,h,!0):ec(u,!!g,g?[]:"",!1));return;case"textarea":Ie=ke=null;for(Y in g)if(x=g[Y],g.hasOwnProperty(Y)&&x!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Xn(u,h,Y,null,v,x)}for(z in v)if(x=v[z],_=g[z],v.hasOwnProperty(z)&&(x!=null||_!=null))switch(z){case"value":ke=x;break;case"defaultValue":Ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==_&&Xn(u,h,z,x,v,_)}Kn(u,ke,Ie);return;case"option":for(var jt in g)if(ke=g[jt],g.hasOwnProperty(jt)&&ke!=null&&!v.hasOwnProperty(jt))switch(jt){case"selected":u.selected=!1;break;default:Xn(u,h,jt,null,v,ke)}for(ce in v)if(ke=v[ce],Ie=g[ce],v.hasOwnProperty(ce)&&ke!==Ie&&(ke!=null||Ie!=null))switch(ce){case"selected":u.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Xn(u,h,ce,ke,v,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in g)ke=g[Ot],g.hasOwnProperty(Ot)&&ke!=null&&!v.hasOwnProperty(Ot)&&Xn(u,h,Ot,null,v,ke);for(Re in v)if(ke=v[Re],Ie=g[Re],v.hasOwnProperty(Re)&&ke!==Ie&&(ke!=null||Ie!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,h));break;default:Xn(u,h,Re,ke,v,Ie)}return;default:if(Bm(h)){for(var Qn in g)ke=g[Qn],g.hasOwnProperty(Qn)&&ke!==void 0&&!v.hasOwnProperty(Qn)&&ZR(u,h,Qn,void 0,v,ke);for(He in v)ke=v[He],Ie=g[He],!v.hasOwnProperty(He)||ke===Ie||ke===void 0&&Ie===void 0||ZR(u,h,He,ke,v,Ie);return}}for(var Ce in g)ke=g[Ce],g.hasOwnProperty(Ce)&&ke!=null&&!v.hasOwnProperty(Ce)&&Xn(u,h,Ce,null,v,ke);for(We in v)ke=v[We],Ie=g[We],!v.hasOwnProperty(We)||ke===Ie||ke==null&&Ie==null||Xn(u,h,We,ke,v,Ie)}var e_=null,t_=null;function vb(u){return u.nodeType===9?u:u.ownerDocument}function z4(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j4(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function n_(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var r_=null;function Kne(){var u=window.event;return u&&u.type==="popstate"?u===r_?!1:(r_=u,!0):(r_=null,!1)}var W4=typeof setTimeout=="function"?setTimeout:void 0,Yne=typeof clearTimeout=="function"?clearTimeout:void 0,$4=typeof Promise=="function"?Promise:void 0,Xne=typeof queueMicrotask=="function"?queueMicrotask:typeof $4<"u"?function(u){return $4.resolve(null).then(u).catch(Qne)}:W4;function Qne(u){setTimeout(function(){throw u})}function Su(u){return u==="head"}function q4(u,h){var g=h,v=0,x=0;do{var _=g.nextSibling;if(u.removeChild(g),_&&_.nodeType===8)if(g=_.data,g==="/$"){if(0<v&&8>v){g=v;var z=u.ownerDocument;if(g&1&&S0(z.documentElement),g&2&&S0(z.body),g&4)for(g=z.head,S0(g),z=g.firstChild;z;){var Y=z.nextSibling,ce=z.nodeName;z[q]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&z.rel.toLowerCase()==="stylesheet"||g.removeChild(z),z=Y}}if(x===0){u.removeChild(_),k0(h);return}x--}else g==="$"||g==="$?"||g==="$!"?x++:v=g.charCodeAt(0)-48;else v=0;g=_}while(g);k0(h)}function i_(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":i_(g),K(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function Jne(u,h,g,v){for(;u.nodeType===1;){var x=g;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!v&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(v){if(!u[q])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(_=u.getAttribute("rel"),_==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(_!==x.rel||u.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||u.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||u.getAttribute("title")!==(x.title==null?null:x.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(_=u.getAttribute("src"),(_!==(x.src==null?null:x.src)||u.getAttribute("type")!==(x.type==null?null:x.type)||u.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&u.getAttribute("name")===_)return u}else return u;if(u=Da(u.nextSibling),u===null)break}return null}function Zne(u,h,g){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=Da(u.nextSibling),u===null))return null;return u}function s_(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function ere(u,h){var g=u.ownerDocument;if(u.data!=="$?"||g.readyState==="complete")h();else{var v=function(){h(),g.removeEventListener("DOMContentLoaded",v)};g.addEventListener("DOMContentLoaded",v),u._reactRetry=v}}function Da(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}var o_=null;function K4(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}function Y4(u,h,g){switch(h=vb(g),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function S0(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);K(u)}var qo=new Map,X4=new Set;function yb(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var wc=se.d;se.d={f:tre,r:nre,D:rre,C:ire,L:sre,m:ore,X:lre,S:are,M:cre};function tre(){var u=wc.f(),h=cb();return u||h}function nre(u){var h=ie(u);h!==null&&h.tag===5&&h.type==="form"?mN(h):wc.r(u)}var Tp=typeof document>"u"?null:document;function Q4(u,h,g){var v=Tp;if(v&&typeof h=="string"&&h){var x=Jr(h);x='link[rel="'+u+'"][href="'+x+'"]',typeof g=="string"&&(x+='[crossorigin="'+g+'"]'),X4.has(x)||(X4.add(x),u={rel:u,crossOrigin:g,href:h},v.querySelector(x)===null&&(h=v.createElement("link"),Vi(h,"link",u),me(h),v.head.appendChild(h)))}}function rre(u){wc.D(u),Q4("dns-prefetch",u,null)}function ire(u,h){wc.C(u,h),Q4("preconnect",u,h)}function sre(u,h,g){wc.L(u,h,g);var v=Tp;if(v&&u&&h){var x='link[rel="preload"][as="'+Jr(h)+'"]';h==="image"&&g&&g.imageSrcSet?(x+='[imagesrcset="'+Jr(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(x+='[imagesizes="'+Jr(g.imageSizes)+'"]')):x+='[href="'+Jr(u)+'"]';var _=x;switch(h){case"style":_=Rp(u);break;case"script":_=_p(u)}qo.has(_)||(u=d({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:u,as:h},g),qo.set(_,u),v.querySelector(x)!==null||h==="style"&&v.querySelector(E0(_))||h==="script"&&v.querySelector(T0(_))||(h=v.createElement("link"),Vi(h,"link",u),me(h),v.head.appendChild(h)))}}function ore(u,h){wc.m(u,h);var g=Tp;if(g&&u){var v=h&&typeof h.as=="string"?h.as:"script",x='link[rel="modulepreload"][as="'+Jr(v)+'"][href="'+Jr(u)+'"]',_=x;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=_p(u)}if(!qo.has(_)&&(u=d({rel:"modulepreload",href:u},h),qo.set(_,u),g.querySelector(x)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(T0(_)))return}v=g.createElement("link"),Vi(v,"link",u),me(v),g.head.appendChild(v)}}}function are(u,h,g){wc.S(u,h,g);var v=Tp;if(v&&u){var x=De(v).hoistableStyles,_=Rp(u);h=h||"default";var z=x.get(_);if(!z){var Y={loading:0,preload:null};if(z=v.querySelector(E0(_)))Y.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":h},g),(g=qo.get(_))&&a_(u,g);var ce=z=v.createElement("link");me(ce),Vi(ce,"link",u),ce._p=new Promise(function(Re,He){ce.onload=Re,ce.onerror=He}),ce.addEventListener("load",function(){Y.loading|=1}),ce.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,wb(z,h,v)}z={type:"stylesheet",instance:z,count:1,state:Y},x.set(_,z)}}}function lre(u,h){wc.X(u,h);var g=Tp;if(g&&u){var v=De(g).hoistableScripts,x=_p(u),_=v.get(x);_||(_=g.querySelector(T0(x)),_||(u=d({src:u,async:!0},h),(h=qo.get(x))&&l_(u,h),_=g.createElement("script"),me(_),Vi(_,"link",u),g.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},v.set(x,_))}}function cre(u,h){wc.M(u,h);var g=Tp;if(g&&u){var v=De(g).hoistableScripts,x=_p(u),_=v.get(x);_||(_=g.querySelector(T0(x)),_||(u=d({src:u,async:!0,type:"module"},h),(h=qo.get(x))&&l_(u,h),_=g.createElement("script"),me(_),Vi(_,"link",u),g.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},v.set(x,_))}}function J4(u,h,g,v){var x=(x=he.current)?yb(x):null;if(!x)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=Rp(g.href),g=De(x).hoistableStyles,v=g.get(h),v||(v={type:"style",instance:null,count:0,state:null},g.set(h,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=Rp(g.href);var _=De(x).hoistableStyles,z=_.get(u);if(z||(x=x.ownerDocument||x,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(u,z),(_=x.querySelector(E0(u)))&&!_._p&&(z.instance=_,z.state.loading=5),qo.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},qo.set(u,g),_||ure(x,u,g,z.state))),h&&v===null)throw Error(r(528,""));return z}if(h&&v!==null)throw Error(r(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=_p(g),g=De(x).hoistableScripts,v=g.get(h),v||(v={type:"script",instance:null,count:0,state:null},g.set(h,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Rp(u){return'href="'+Jr(u)+'"'}function E0(u){return'link[rel="stylesheet"]['+u+"]"}function Z4(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function ure(u,h,g,v){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?v.loading=1:(h=u.createElement("link"),v.preload=h,h.addEventListener("load",function(){return v.loading|=1}),h.addEventListener("error",function(){return v.loading|=2}),Vi(h,"link",g),me(h),u.head.appendChild(h))}function _p(u){return'[src="'+Jr(u)+'"]'}function T0(u){return"script[async]"+u}function eB(u,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var v=u.querySelector('style[data-href~="'+Jr(g.href)+'"]');if(v)return h.instance=v,me(v),v;var x=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(u.ownerDocument||u).createElement("style"),me(v),Vi(v,"style",x),wb(v,g.precedence,u),h.instance=v;case"stylesheet":x=Rp(g.href);var _=u.querySelector(E0(x));if(_)return h.state.loading|=4,h.instance=_,me(_),_;v=Z4(g),(x=qo.get(x))&&a_(v,x),_=(u.ownerDocument||u).createElement("link"),me(_);var z=_;return z._p=new Promise(function(Y,ce){z.onload=Y,z.onerror=ce}),Vi(_,"link",v),h.state.loading|=4,wb(_,g.precedence,u),h.instance=_;case"script":return _=_p(g.src),(x=u.querySelector(T0(_)))?(h.instance=x,me(x),x):(v=g,(x=qo.get(_))&&(v=d({},g),l_(v,x)),u=u.ownerDocument||u,x=u.createElement("script"),me(x),Vi(x,"link",v),u.head.appendChild(x),h.instance=x);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(v=h.instance,h.state.loading|=4,wb(v,g.precedence,u));return h.instance}function wb(u,h,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=v.length?v[v.length-1]:null,_=x,z=0;z<v.length;z++){var Y=v[z];if(Y.dataset.precedence===h)_=Y;else if(_!==x)break}_?_.parentNode.insertBefore(u,_.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(u,h.firstChild))}function a_(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function l_(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Cb=null;function tB(u,h,g){if(Cb===null){var v=new Map,x=Cb=new Map;x.set(g,v)}else x=Cb,v=x.get(g),v||(v=new Map,x.set(g,v));if(v.has(u))return v;for(v.set(u,null),g=g.getElementsByTagName(u),x=0;x<g.length;x++){var _=g[x];if(!(_[q]||_[je]||u==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var z=_.getAttribute(h)||"";z=u+z;var Y=v.get(z);Y?Y.push(_):v.set(z,[_])}}return v}function nB(u,h,g){u=u.ownerDocument||u,u.head.insertBefore(g,h==="title"?u.querySelector("head > title"):null)}function dre(u,h,g){if(g===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function rB(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var R0=null;function hre(){}function fre(u,h,g){if(R0===null)throw Error(r(475));var v=R0;if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var x=Rp(g.href),_=u.querySelector(E0(x));if(_){u=_._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(v.count++,v=bb.bind(v),u.then(v,v)),h.state.loading|=4,h.instance=_,me(_);return}_=u.ownerDocument||u,g=Z4(g),(x=qo.get(x))&&a_(g,x),_=_.createElement("link"),me(_);var z=_;z._p=new Promise(function(Y,ce){z.onload=Y,z.onerror=ce}),Vi(_,"link",g),h.instance=_}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(v.count++,h=bb.bind(v),u.addEventListener("load",h),u.addEventListener("error",h))}}function pre(){if(R0===null)throw Error(r(475));var u=R0;return u.stylesheets&&u.count===0&&c_(u,u.stylesheets),0<u.count?function(h){var g=setTimeout(function(){if(u.stylesheets&&c_(u,u.stylesheets),u.unsuspend){var v=u.unsuspend;u.unsuspend=null,v()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(g)}}:null}function bb(){if(this.count--,this.count===0){if(this.stylesheets)c_(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var xb=null;function c_(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,xb=new Map,h.forEach(gre,u),xb=null,bb.call(u))}function gre(u,h){if(!(h.state.loading&4)){var g=xb.get(u);if(g)var v=g.get(null);else{g=new Map,xb.set(u,g);for(var x=u.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var z=x[_];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(g.set(z.dataset.precedence,z),v=z)}v&&g.set(null,v)}x=h.instance,z=x.getAttribute("data-precedence"),_=g.get(z)||v,_===v&&g.set(null,x),g.set(z,x),this.count++,v=bb.bind(this),x.addEventListener("load",v),x.addEventListener("error",v),_?_.parentNode.insertBefore(x,_.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(x,u.firstChild)),h.state.loading|=4}}var _0={$$typeof:E,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function mre(u,h,g,v,x,_,z,Y){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=v,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function iB(u,h,g,v,x,_,z,Y,ce,Re,He,We){return u=new mre(u,h,g,z,Y,ce,Re,We),h=1,_===!0&&(h|=24),_=so(3,null,null,h),u.current=_,_.stateNode=u,h=jT(),h.refCount++,u.pooledCache=h,h.refCount++,_.memoizedState={element:v,isDehydrated:g,cache:h},KT(_),u}function sB(u){return u?(u=ip,u):ip}function oB(u,h,g,v,x,_){x=sB(x),v.context===null?v.context=x:v.pendingContext=x,v=uu(h),v.payload={element:g},_=_===void 0?null:_,_!==null&&(v.callback=_),g=du(u,v,h),g!==null&&(uo(g,u,h),r0(g,u,h))}function aB(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function u_(u,h){aB(u,h),(u=u.alternate)&&aB(u,h)}function lB(u){if(u.tag===13){var h=rp(u,67108864);h!==null&&uo(h,u,67108864),u_(u,67108864)}}var Sb=!0;function vre(u,h,g,v){var x=Z.T;Z.T=null;var _=se.p;try{se.p=2,d_(u,h,g,v)}finally{se.p=_,Z.T=x}}function yre(u,h,g,v){var x=Z.T;Z.T=null;var _=se.p;try{se.p=8,d_(u,h,g,v)}finally{se.p=_,Z.T=x}}function d_(u,h,g,v){if(Sb){var x=h_(v);if(x===null)JR(u,h,v,Eb,g),uB(u,v);else if(Cre(x,u,h,g,v))v.stopPropagation();else if(uB(u,v),h&4&&-1<wre.indexOf(u)){for(;x!==null;){var _=ie(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var z=Ar(_.pendingLanes);if(z!==0){var Y=_;for(Y.pendingLanes|=2,Y.entangledLanes|=2;z;){var ce=1<<31-ht(z);Y.entanglements[1]|=ce,z&=~ce}al(_),(zn&6)===0&&(ab=Me()+500,C0(0))}}break;case 13:Y=rp(_,2),Y!==null&&uo(Y,_,2),cb(),u_(_,2)}if(_=h_(v),_===null&&JR(u,h,v,Eb,g),_===x)break;x=_}x!==null&&v.stopPropagation()}else JR(u,h,v,null,g)}}function h_(u){return u=Bo(u),f_(u)}var Eb=null;function f_(u){if(Eb=null,u=ee(u),u!==null){var h=s(u);if(h===null)u=null;else{var g=h.tag;if(g===13){if(u=o(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return Eb=u,null}function cB(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case kt:return 2;case Ct:return 8;case It:case Vt:return 32;case Kt:return 268435456;default:return 32}default:return 32}}var p_=!1,Eu=null,Tu=null,Ru=null,A0=new Map,D0=new Map,_u=[],wre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uB(u,h){switch(u){case"focusin":case"focusout":Eu=null;break;case"dragenter":case"dragleave":Tu=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":A0.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":D0.delete(h.pointerId)}}function P0(u,h,g,v,x,_){return u===null||u.nativeEvent!==_?(u={blockedOn:h,domEventName:g,eventSystemFlags:v,nativeEvent:_,targetContainers:[x]},h!==null&&(h=ie(h),h!==null&&lB(h)),u):(u.eventSystemFlags|=v,h=u.targetContainers,x!==null&&h.indexOf(x)===-1&&h.push(x),u)}function Cre(u,h,g,v,x){switch(h){case"focusin":return Eu=P0(Eu,u,h,g,v,x),!0;case"dragenter":return Tu=P0(Tu,u,h,g,v,x),!0;case"mouseover":return Ru=P0(Ru,u,h,g,v,x),!0;case"pointerover":var _=x.pointerId;return A0.set(_,P0(A0.get(_)||null,u,h,g,v,x)),!0;case"gotpointercapture":return _=x.pointerId,D0.set(_,P0(D0.get(_)||null,u,h,g,v,x)),!0}return!1}function dB(u){var h=ee(u.target);if(h!==null){var g=s(h);if(g!==null){if(h=g.tag,h===13){if(h=o(g),h!==null){u.blockedOn=h,be(u.priority,function(){if(g.tag===13){var v=co();v=Lo(v);var x=rp(g,v);x!==null&&uo(x,g,v),u_(g,v)}});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Tb(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=h_(u.nativeEvent);if(g===null){g=u.nativeEvent;var v=new g.constructor(g.type,g);tc=v,g.target.dispatchEvent(v),tc=null}else return h=ie(g),h!==null&&lB(h),u.blockedOn=g,!1;h.shift()}return!0}function hB(u,h,g){Tb(u)&&g.delete(h)}function bre(){p_=!1,Eu!==null&&Tb(Eu)&&(Eu=null),Tu!==null&&Tb(Tu)&&(Tu=null),Ru!==null&&Tb(Ru)&&(Ru=null),A0.forEach(hB),D0.forEach(hB)}function Rb(u,h){u.blockedOn===h&&(u.blockedOn=null,p_||(p_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bre)))}var _b=null;function fB(u){_b!==u&&(_b=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_b===u&&(_b=null);for(var h=0;h<u.length;h+=3){var g=u[h],v=u[h+1],x=u[h+2];if(typeof v!="function"){if(f_(v||g)===null)continue;break}var _=ie(g);_!==null&&(u.splice(h,3),h-=3,fR(_,{pending:!0,data:x,method:g.method,action:v},v,x))}}))}function k0(u){function h(ce){return Rb(ce,u)}Eu!==null&&Rb(Eu,u),Tu!==null&&Rb(Tu,u),Ru!==null&&Rb(Ru,u),A0.forEach(h),D0.forEach(h);for(var g=0;g<_u.length;g++){var v=_u[g];v.blockedOn===u&&(v.blockedOn=null)}for(;0<_u.length&&(g=_u[0],g.blockedOn===null);)dB(g),g.blockedOn===null&&_u.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var x=g[v],_=g[v+1],z=x[Qe]||null;if(typeof _=="function")z||fB(g);else if(z){var Y=null;if(_&&_.hasAttribute("formAction")){if(x=_,z=_[Qe]||null)Y=z.formAction;else if(f_(x)!==null)continue}else Y=z.action;typeof Y=="function"?g[v+1]=Y:(g.splice(v,3),v-=3),fB(g)}}}function g_(u){this._internalRoot=u}Ab.prototype.render=g_.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var g=h.current,v=co();oB(g,v,u,h,null,null)},Ab.prototype.unmount=g_.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;oB(u.current,2,null,u,null,null),cb(),h[mt]=null}};function Ab(u){this._internalRoot=u}Ab.prototype.unstable_scheduleHydration=function(u){if(u){var h=de();u={blockedOn:null,target:u,priority:h};for(var g=0;g<_u.length&&h!==0&&h<_u[g].priority;g++);_u.splice(g,0,u),g===0&&dB(u)}};var pB=t.version;if(pB!=="19.1.1")throw Error(r(527,pB,"19.1.1"));se.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=l(h),u=u!==null?c(u):null,u=u===null?null:u.stateNode,u};var xre={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Db=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Db.isDisabled&&Db.supportsFiber)try{ve=Db.inject(xre),Le=Db}catch{}}return I0.createRoot=function(u,h){if(!i(u))throw Error(r(299));var g=!1,v="",x=PN,_=kN,z=FN,Y=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(x=h.onUncaughtError),h.onCaughtError!==void 0&&(_=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Y=h.unstable_transitionCallbacks)),h=iB(u,1,!1,null,null,g,v,x,_,z,Y,null),u[mt]=h.current,QR(u),new g_(h)},I0.hydrateRoot=function(u,h,g){if(!i(u))throw Error(r(299));var v=!1,x="",_=PN,z=kN,Y=FN,ce=null,Re=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(x=g.identifierPrefix),g.onUncaughtError!==void 0&&(_=g.onUncaughtError),g.onCaughtError!==void 0&&(z=g.onCaughtError),g.onRecoverableError!==void 0&&(Y=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ce=g.unstable_transitionCallbacks),g.formState!==void 0&&(Re=g.formState)),h=iB(u,1,!0,h,g??null,v,x,_,z,Y,ce,Re),h.context=sB(null),g=h.current,v=co(),v=Lo(v),x=uu(v),x.callback=null,du(g,x,v),g=v,h.current.lanes=g,to(h,g),al(h),u[mt]=h.current,QR(u),new Ab(h)},I0.version="19.1.1",I0}var EB;function kre(){if(EB)return y_.exports;EB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),y_.exports=Pre(),y_.exports}var Fre=kre();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rz=e=>{throw TypeError(e)},Ire=(e,t,n)=>t.has(e)||Rz("Cannot "+n),x_=(e,t,n)=>(Ire(e,t,"read from private field"),n?n.call(e):t.get(e)),Mre=(e,t,n)=>t.has(e)?Rz("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),TB="popstate";function Ore(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=Jc(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Jv("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:od(s))}function r(i,s){Ir(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Nre(t,n,r,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ir(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lre(){return Math.random().toString(36).substring(2,10)}function RB(e,t){return{usr:e.state,key:e.key,idx:t}}function Jv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jc(t):t,state:n,key:t&&t.key||r||Lre()}}function od({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Jc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Nre(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let C=d(),S=C==null?null:C-c;c=C,l&&l({action:a,location:w.location,delta:S})}function p(C,S){a="PUSH";let R=Jv(w.location,C,S);n&&n(R,C),c=d()+1;let E=RB(R,c),P=w.createHref(R);try{o.pushState(E,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&l&&l({action:a,location:w.location,delta:1})}function m(C,S){a="REPLACE";let R=Jv(w.location,C,S);n&&n(R,C),c=d();let E=RB(R,c),P=w.createHref(R);o.replaceState(E,"",P),s&&l&&l({action:a,location:w.location,delta:0})}function y(C){return _z(C)}let w={get action(){return a},get location(){return e(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TB,f),l=C,()=>{i.removeEventListener(TB,f),l=null}},createHref(C){return t(i,C)},createURL:y,encodeLocation(C){let S=y(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:m,go(C){return o.go(C)}};return w}function _z(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:od(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ev,_B=class{constructor(e){if(Mre(this,ev,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(x_(this,ev).has(e))return x_(this,ev).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){x_(this,ev).set(e,t)}};ev=new WeakMap;var Bre=new Set(["lazy","caseSensitive","path","id","index","children"]);function Vre(e){return Bre.has(e)}var Hre=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Gre(e){return Hre.has(e)}function Ure(e){return e.index===!0}function Zv(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(cn(s.index!==!0||!s.children,"Cannot specify children on an index route"),cn(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),Ure(s)){let c={...s,...t(s),id:l};return r[l]=c,c}else{let c={...s,...t(s),id:l,children:void 0};return r[l]=c,s.children&&(c.children=Zv(s.children,t,a,r,i)),c}})}function Vu(e,t,n="/"){return _x(e,t,n,!1)}function _x(e,t,n,r){let i=typeof t=="string"?Jc(t):t,s=ma(i.pathname||"/",n);if(s==null)return null;let o=Az(e);jre(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=tie(s);a=Zre(o[l],c,r)}return a}function zre(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Az(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(cn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Tl([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Az(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Qre(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of Dz(s.path))i(s,o,a)}),t}function Dz(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Dz(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function jre(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Jre(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Wre=/^:[\w-]+$/,$re=3,qre=2,Kre=1,Yre=10,Xre=-2,AB=e=>e==="*";function Qre(e,t){let n=e.split("/"),r=n.length;return n.some(AB)&&(r+=Xre),t&&(r+=qre),n.filter(i=>!AB(i)).reduce((i,s)=>i+(Wre.test(s)?$re:s===""?Kre:Yre),r)}function Jre(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Zre(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=uS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=uS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Tl([s,f.pathname]),pathnameBase:sie(Tl([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Tl([s,f.pathnameBase]))}return o}function uS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=eie(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function eie(e,t=!1,n=!0){Ir(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function tie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ir(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ma(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function nie({basename:e,pathname:t}){return t==="/"?e:Tl([e,t])}function rie(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Jc(e):e;return{pathname:n?n.startsWith("/")?n:iie(n,t):t,search:oie(r),hash:aie(i)}}function iie(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function S_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function W1(e){let t=Pz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function $1(e,t,n,r=!1){let i;typeof e=="string"?i=Jc(e):(i={...e},cn(!i.pathname||!i.pathname.includes("?"),S_("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),S_("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),S_("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=rie(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Tl=e=>e.join("/").replace(/\/\/+/g,"/"),sie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,dS=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ey(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var kz=["POST","PUT","PATCH","DELETE"],lie=new Set(kz),cie=["GET",...kz],uie=new Set(cie),die=new Set([301,302,303,307,308]),hie=new Set([307,308]),E_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fie={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},M0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pF=e=>pie.test(e),gie=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Fz="remix-router-transitions",Iz=Symbol("ResetLoaderData");function mie(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";cn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||gie,s={},o=Zv(e.routes,i,void 0,s),a,l=e.basename||"/",c=e.dataStrategy||bie,d={unstable_middleware:!1,...e.future},f=null,p=new Set,m=null,y=null,w=null,C=e.hydrationData!=null,S=Vu(o,e.history.location,l),R=!1,E=null,P;if(S==null&&!e.patchRoutesOnNavigation){let de=ia(404,{pathname:e.history.location.pathname}),{matches:be,route:Ee}=HB(o);P=!0,S=be,E={[Ee.id]:de}}else if(S&&!e.hydrationData&&Oi(S,o,e.history.location.pathname).active&&(S=null),S)if(S.some(de=>de.route.lazy))P=!1;else if(!S.some(de=>de.route.loader))P=!0;else{let de=e.hydrationData?e.hydrationData.loaderData:null,be=e.hydrationData?e.hydrationData.errors:null;if(be){let Ee=S.findIndex(je=>be[je.route.id]!==void 0);P=S.slice(0,Ee+1).every(je=>!FD(je.route,de,be))}else P=S.every(Ee=>!FD(Ee.route,de,be))}else{P=!1,S=[];let de=Oi(null,o,e.history.location.pathname);de.active&&de.matches&&(R=!0,S=de.matches)}let M,A={historyAction:e.history.action,location:e.history.location,matches:S,initialized:P,navigation:E_,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},D="POP",k=!1,I,B=!1,N=new Map,H=null,G=!1,oe=!1,le=new Set,Z=new Map,se=0,fe=-1,ne=new Map,L=new Set,ae=new Map,W=new Map,V=new Set,X=new Map,te,he=null;function Be(){if(f=e.history.listen(({action:de,location:be,delta:Ee})=>{if(te){te(),te=void 0;return}Ir(X.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let je=Vr({currentLocation:A.location,nextLocation:be,historyAction:de});if(je&&Ee!=null){let Qe=new Promise(mt=>{te=mt});e.history.go(Ee*-1),Br(je,{state:"blocked",location:be,proceed(){Br(je,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Qe.then(()=>e.history.go(Ee))},reset(){let mt=new Map(A.blockers);mt.set(je,M0),Pe({blockers:mt})}});return}return ze(de,be)}),n){Fie(t,N);let de=()=>Iie(t,N);t.addEventListener("pagehide",de),H=()=>t.removeEventListener("pagehide",de)}return A.initialized||ze("POP",A.location,{initialHydration:!0}),M}function Fe(){f&&f(),H&&H(),p.clear(),I&&I.abort(),A.fetchers.forEach((de,be)=>ht(be)),A.blockers.forEach((de,be)=>ar(be))}function _e(de){return p.add(de),()=>p.delete(de)}function Pe(de,be={}){de.matches&&(de.matches=de.matches.map(Qe=>{let mt=s[Qe.route.id],bt=Qe.route;return bt.element!==mt.element||bt.errorElement!==mt.errorElement||bt.hydrateFallbackElement!==mt.hydrateFallbackElement?{...Qe,route:mt}:Qe})),A={...A,...de};let Ee=[],je=[];A.fetchers.forEach((Qe,mt)=>{Qe.state==="idle"&&(V.has(mt)?Ee.push(mt):je.push(mt))}),V.forEach(Qe=>{!A.fetchers.has(Qe)&&!Z.has(Qe)&&Ee.push(Qe)}),[...p].forEach(Qe=>Qe(A,{deletedFetchers:Ee,viewTransitionOpts:be.viewTransitionOpts,flushSync:be.flushSync===!0})),Ee.forEach(Qe=>ht(Qe)),je.forEach(Qe=>A.fetchers.delete(Qe))}function nt(de,be,{flushSync:Ee}={}){let je=A.actionData!=null&&A.navigation.formMethod!=null&&zs(A.navigation.formMethod)&&A.navigation.state==="loading"&&de.state?._isRedirect!==!0,Qe;be.actionData?Object.keys(be.actionData).length>0?Qe=be.actionData:Qe=null:je?Qe=A.actionData:Qe=null;let mt=be.loaderData?BB(A.loaderData,be.loaderData,be.matches||[],be.errors):A.loaderData,bt=A.blockers;bt.size>0&&(bt=new Map(bt),bt.forEach((q,K)=>bt.set(K,M0)));let yt=G?!1:no(de,be.matches||A.matches),j=k===!0||A.navigation.formMethod!=null&&zs(A.navigation.formMethod)&&de.state?._isRedirect!==!0;a&&(o=a,a=void 0),G||D==="POP"||(D==="PUSH"?e.history.push(de,de.state):D==="REPLACE"&&e.history.replace(de,de.state));let Q;if(D==="POP"){let q=N.get(A.location.pathname);q&&q.has(de.pathname)?Q={currentLocation:A.location,nextLocation:de}:N.has(de.pathname)&&(Q={currentLocation:de,nextLocation:A.location})}else if(B){let q=N.get(A.location.pathname);q?q.add(de.pathname):(q=new Set([de.pathname]),N.set(A.location.pathname,q)),Q={currentLocation:A.location,nextLocation:de}}Pe({...be,actionData:Qe,loaderData:mt,historyAction:D,location:de,initialized:!0,navigation:E_,revalidation:"idle",restoreScrollPosition:yt,preventScrollReset:j,blockers:bt},{viewTransitionOpts:Q,flushSync:Ee===!0}),D="POP",k=!1,B=!1,G=!1,oe=!1,he?.resolve(),he=null}async function re(de,be){if(typeof de=="number"){e.history.go(de);return}let Ee=kD(A.location,A.matches,l,de,be?.fromRouteId,be?.relative),{path:je,submission:Qe,error:mt}=DB(!1,Ee,be),bt=A.location,yt=Jv(A.location,je,be&&be.state);yt={...yt,...e.history.encodeLocation(yt)};let j=be&&be.replace!=null?be.replace:void 0,Q="PUSH";j===!0?Q="REPLACE":j===!1||Qe!=null&&zs(Qe.formMethod)&&Qe.formAction===A.location.pathname+A.location.search&&(Q="REPLACE");let q=be&&"preventScrollReset"in be?be.preventScrollReset===!0:void 0,K=(be&&be.flushSync)===!0,ee=Vr({currentLocation:bt,nextLocation:yt,historyAction:Q});if(ee){Br(ee,{state:"blocked",location:yt,proceed(){Br(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:yt}),re(de,be)},reset(){let ie=new Map(A.blockers);ie.set(ee,M0),Pe({blockers:ie})}});return}await ze(Q,yt,{submission:Qe,pendingError:mt,preventScrollReset:q,replace:be&&be.replace,enableViewTransition:be&&be.viewTransition,flushSync:K})}function St(){he||(he=Mie()),An(),Pe({revalidation:"loading"});let de=he.promise;return A.navigation.state==="submitting"?de:A.navigation.state==="idle"?(ze(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),de):(ze(D||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:B===!0}),de)}async function ze(de,be,Ee){I&&I.abort(),I=null,D=de,G=(Ee&&Ee.startUninterruptedRevalidation)===!0,to(A.location,A.matches),k=(Ee&&Ee.preventScrollReset)===!0,B=(Ee&&Ee.enableViewTransition)===!0;let je=a||o,Qe=Ee&&Ee.overrideNavigation,mt=Ee?.initialHydration&&A.matches&&A.matches.length>0&&!R?A.matches:Vu(je,be,l),bt=(Ee&&Ee.flushSync)===!0;if(mt&&A.initialized&&!oe&&_ie(A.location,be)&&!(Ee&&Ee.submission&&zs(Ee.submission.formMethod))){nt(be,{matches:mt},{flushSync:bt});return}let yt=Oi(mt,je,be.pathname);if(yt.active&&yt.matches&&(mt=yt.matches),!mt){let{error:De,notFoundMatches:me,route:ye}=Mo(be.pathname);nt(be,{matches:me,loaderData:{},errors:{[ye.id]:De}},{flushSync:bt});return}I=new AbortController;let j=Bp(e.history,be,I.signal,Ee&&Ee.submission),Q=new _B(e.unstable_getContext?await e.unstable_getContext():void 0),q;if(Ee&&Ee.pendingError)q=[Ch(mt).route.id,{type:"error",error:Ee.pendingError}];else if(Ee&&Ee.submission&&zs(Ee.submission.formMethod)){let De=await Je(j,be,Ee.submission,mt,Q,yt.active,Ee&&Ee.initialHydration===!0,{replace:Ee.replace,flushSync:bt});if(De.shortCircuited)return;if(De.pendingActionResult){let[me,ye]=De.pendingActionResult;if(fo(ye)&&ey(ye.error)&&ye.error.status===404){I=null,nt(be,{matches:De.matches,loaderData:{},errors:{[me]:ye.error}});return}}mt=De.matches||mt,q=De.pendingActionResult,Qe=T_(be,Ee.submission),bt=!1,yt.active=!1,j=Bp(e.history,j.url,j.signal)}let{shortCircuited:K,matches:ee,loaderData:ie,errors:we}=await et(j,be,mt,Q,yt.active,Qe,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,bt,q);K||(I=null,nt(be,{matches:ee||mt,...VB(q),loaderData:ie,errors:we}))}async function Je(de,be,Ee,je,Qe,mt,bt,yt={}){An();let j=Pie(be,Ee);if(Pe({navigation:j},{flushSync:yt.flushSync===!0}),mt){let K=await Oo(je,be.pathname,de.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let ee=Ch(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[ee,{type:"error",error:K.error}]}}else if(K.matches)je=K.matches;else{let{notFoundMatches:ee,error:ie,route:we}=Mo(be.pathname);return{matches:ee,pendingActionResult:[we.id,{type:"error",error:ie}]}}}let Q,q=Ax(je,be);if(!q.route.action&&!q.route.lazy)Q={type:"error",error:ia(405,{method:de.method,pathname:be.pathname,routeId:q.route.id})};else{let K=ng(i,s,de,je,q,bt?[]:r,Qe),ee=await Kt(de,K,Qe,null);if(Q=ee[q.route.id],!Q){for(let ie of je)if(ee[ie.route.id]){Q=ee[ie.route.id];break}}if(de.signal.aborted)return{shortCircuited:!0}}if(Sh(Q)){let K;return yt&&yt.replace!=null?K=yt.replace:K=OB(Q.response.headers.get("Location"),new URL(de.url),l)===A.location.pathname+A.location.search,await Vt(de,Q,!0,{submission:Ee,replace:K}),{shortCircuited:!0}}if(fo(Q)){let K=Ch(je,q.route.id);return(yt&&yt.replace)!==!0&&(D="PUSH"),{matches:je,pendingActionResult:[K.route.id,Q,q.route.id]}}return{matches:je,pendingActionResult:[q.route.id,Q]}}async function et(de,be,Ee,je,Qe,mt,bt,yt,j,Q,q,K){let ee=mt||T_(be,bt),ie=bt||yt||UB(ee),we=!G&&!Q;if(Qe){if(we){let Nn=Me(K);Pe({navigation:ee,...Nn!==void 0?{actionData:Nn}:{}},{flushSync:q})}let xt=await Oo(Ee,be.pathname,de.signal);if(xt.type==="aborted")return{shortCircuited:!0};if(xt.type==="error"){let Nn=Ch(xt.partialMatches).route.id;return{matches:xt.partialMatches,loaderData:{},errors:{[Nn]:xt.error}}}else if(xt.matches)Ee=xt.matches;else{let{error:Nn,notFoundMatches:ys,route:Hr}=Mo(be.pathname);return{matches:ys,loaderData:{},errors:{[Hr.id]:Nn}}}}let De=a||o,{dsMatches:me,revalidatingFetchers:ye}=PB(de,je,i,s,e.history,A,Ee,ie,be,Q?[]:r,Q===!0,oe,le,V,ae,L,De,l,e.patchRoutesOnNavigation!=null,K);if(fe=++se,!e.dataStrategy&&!me.some(xt=>xt.shouldLoad)&&ye.length===0){let xt=nn();return nt(be,{matches:Ee,loaderData:{},errors:K&&fo(K[1])?{[K[0]]:K[1].error}:null,...VB(K),...xt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:q}),{shortCircuited:!0}}if(we){let xt={};if(!Qe){xt.navigation=ee;let Nn=Me(K);Nn!==void 0&&(xt.actionData=Nn)}ye.length>0&&(xt.fetchers=ft(ye)),Pe(xt,{flushSync:q})}ye.forEach(xt=>{Yt(xt.key),xt.controller&&Z.set(xt.key,xt.controller)});let Te=()=>ye.forEach(xt=>Yt(xt.key));I&&I.signal.addEventListener("abort",Te);let{loaderResults:$e,fetcherResults:Ze}=await Jt(me,ye,de,je);if(de.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Te),ye.forEach(xt=>Z.delete(xt.key));let ut=Pb($e);if(ut)return await Vt(de,ut.result,!0,{replace:j}),{shortCircuited:!0};if(ut=Pb(Ze),ut)return L.add(ut.key),await Vt(de,ut.result,!0,{replace:j}),{shortCircuited:!0};let{loaderData:tt,errors:it}=NB(A,Ee,$e,K,ye,Ze);Q&&A.errors&&(it={...A.errors,...it});let Dt=nn(),un=gr(fe),rn=Dt||un||ye.length>0;return{matches:Ee,loaderData:tt,errors:it,...rn?{fetchers:new Map(A.fetchers)}:{}}}function Me(de){if(de&&!fo(de[1]))return{[de[0]]:de[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function ft(de){return de.forEach(be=>{let Ee=A.fetchers.get(be.key),je=O0(void 0,Ee?Ee.data:void 0);A.fetchers.set(be.key,je)}),new Map(A.fetchers)}async function kt(de,be,Ee,je){Yt(de);let Qe=(je&&je.flushSync)===!0,mt=a||o,bt=kD(A.location,A.matches,l,Ee,be,je?.relative),yt=Vu(mt,bt,l),j=Oi(yt,mt,bt);if(j.active&&j.matches&&(yt=j.matches),!yt){Le(de,be,ia(404,{pathname:bt}),{flushSync:Qe});return}let{path:Q,submission:q,error:K}=DB(!0,bt,je);if(K){Le(de,be,K,{flushSync:Qe});return}let ee=new _B(e.unstable_getContext?await e.unstable_getContext():void 0),ie=(je&&je.preventScrollReset)===!0;if(q&&zs(q.formMethod)){await Ct(de,be,Q,yt,ee,j.active,Qe,ie,q);return}ae.set(de,{routeId:be,path:Q}),await It(de,be,Q,yt,ee,j.active,Qe,ie,q)}async function Ct(de,be,Ee,je,Qe,mt,bt,yt,j){An(),ae.delete(de);let Q=A.fetchers.get(de);ve(de,kie(j,Q),{flushSync:bt});let q=new AbortController,K=Bp(e.history,Ee,q.signal,j);if(mt){let yn=await Oo(je,new URL(K.url).pathname,K.signal,de);if(yn.type==="aborted")return;if(yn.type==="error"){Le(de,be,yn.error,{flushSync:bt});return}else if(yn.matches)je=yn.matches;else{Le(de,be,ia(404,{pathname:Ee}),{flushSync:bt});return}}let ee=Ax(je,Ee);if(!ee.route.action&&!ee.route.lazy){let yn=ia(405,{method:j.formMethod,pathname:Ee,routeId:be});Le(de,be,yn,{flushSync:bt});return}Z.set(de,q);let ie=se,we=ng(i,s,K,je,ee,r,Qe),me=(await Kt(K,we,Qe,de))[ee.route.id];if(K.signal.aborted){Z.get(de)===q&&Z.delete(de);return}if(V.has(de)){if(Sh(me)||fo(me)){ve(de,Ou(void 0));return}}else{if(Sh(me))if(Z.delete(de),fe>ie){ve(de,Ou(void 0));return}else return L.add(de),ve(de,O0(j)),Vt(K,me,!1,{fetcherSubmission:j,preventScrollReset:yt});if(fo(me)){Le(de,be,me.error);return}}let ye=A.navigation.location||A.location,Te=Bp(e.history,ye,q.signal),$e=a||o,Ze=A.navigation.state!=="idle"?Vu($e,A.navigation.location,l):A.matches;cn(Ze,"Didn't find any matches after fetcher action");let ut=++se;ne.set(de,ut);let tt=O0(j,me.data);A.fetchers.set(de,tt);let{dsMatches:it,revalidatingFetchers:Dt}=PB(Te,Qe,i,s,e.history,A,Ze,j,ye,r,!1,oe,le,V,ae,L,$e,l,e.patchRoutesOnNavigation!=null,[ee.route.id,me]);Dt.filter(yn=>yn.key!==de).forEach(yn=>{let ws=yn.key,wi=A.fetchers.get(ws),su=O0(void 0,wi?wi.data:void 0);A.fetchers.set(ws,su),Yt(ws),yn.controller&&Z.set(ws,yn.controller)}),Pe({fetchers:new Map(A.fetchers)});let un=()=>Dt.forEach(yn=>Yt(yn.key));q.signal.addEventListener("abort",un);let{loaderResults:rn,fetcherResults:xt}=await Jt(it,Dt,Te,Qe);if(q.signal.aborted)return;if(q.signal.removeEventListener("abort",un),ne.delete(de),Z.delete(de),Dt.forEach(yn=>Z.delete(yn.key)),A.fetchers.has(de)){let yn=Ou(me.data);A.fetchers.set(de,yn)}let Nn=Pb(rn);if(Nn)return Vt(Te,Nn.result,!1,{preventScrollReset:yt});if(Nn=Pb(xt),Nn)return L.add(Nn.key),Vt(Te,Nn.result,!1,{preventScrollReset:yt});let{loaderData:ys,errors:Hr}=NB(A,Ze,rn,void 0,Dt,xt);gr(ut),A.navigation.state==="loading"&&ut>fe?(cn(D,"Expected pending action"),I&&I.abort(),nt(A.navigation.location,{matches:Ze,loaderData:ys,errors:Hr,fetchers:new Map(A.fetchers)})):(Pe({errors:Hr,loaderData:BB(A.loaderData,ys,Ze,Hr),fetchers:new Map(A.fetchers)}),oe=!1)}async function It(de,be,Ee,je,Qe,mt,bt,yt,j){let Q=A.fetchers.get(de);ve(de,O0(j,Q?Q.data:void 0),{flushSync:bt});let q=new AbortController,K=Bp(e.history,Ee,q.signal);if(mt){let ye=await Oo(je,new URL(K.url).pathname,K.signal,de);if(ye.type==="aborted")return;if(ye.type==="error"){Le(de,be,ye.error,{flushSync:bt});return}else if(ye.matches)je=ye.matches;else{Le(de,be,ia(404,{pathname:Ee}),{flushSync:bt});return}}let ee=Ax(je,Ee);Z.set(de,q);let ie=se,we=ng(i,s,K,je,ee,r,Qe),me=(await Kt(K,we,Qe,de))[ee.route.id];if(Z.get(de)===q&&Z.delete(de),!K.signal.aborted){if(V.has(de)){ve(de,Ou(void 0));return}if(Sh(me))if(fe>ie){ve(de,Ou(void 0));return}else{L.add(de),await Vt(K,me,!1,{preventScrollReset:yt});return}if(fo(me)){Le(de,be,me.error);return}ve(de,Ou(me.data))}}async function Vt(de,be,Ee,{submission:je,fetcherSubmission:Qe,preventScrollReset:mt,replace:bt}={}){be.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let yt=be.response.headers.get("Location");cn(yt,"Expected a Location header on the redirect Response"),yt=OB(yt,new URL(de.url),l);let j=Jv(A.location,yt,{_isRedirect:!0});if(n){let we=!1;if(be.response.headers.has("X-Remix-Reload-Document"))we=!0;else if(pF(yt)){const De=_z(yt,!0);we=De.origin!==t.location.origin||ma(De.pathname,l)==null}if(we){bt?t.location.replace(yt):t.location.assign(yt);return}}I=null;let Q=bt===!0||be.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:q,formAction:K,formEncType:ee}=A.navigation;!je&&!Qe&&q&&K&&ee&&(je=UB(A.navigation));let ie=je||Qe;if(hie.has(be.response.status)&&ie&&zs(ie.formMethod))await ze(Q,j,{submission:{...ie,formAction:yt},preventScrollReset:mt||k,enableViewTransition:Ee?B:void 0});else{let we=T_(j,je);await ze(Q,j,{overrideNavigation:we,fetcherSubmission:Qe,preventScrollReset:mt||k,enableViewTransition:Ee?B:void 0})}}async function Kt(de,be,Ee,je){let Qe,mt={};try{Qe=await xie(c,de,be,je,Ee,!1)}catch(bt){return be.filter(yt=>yt.shouldLoad).forEach(yt=>{mt[yt.route.id]={type:"error",error:bt}}),mt}if(de.signal.aborted)return mt;for(let[bt,yt]of Object.entries(Qe))if(Aie(yt)){let j=yt.result;mt[bt]={type:"redirect",response:Tie(j,de,bt,be,l)}}else mt[bt]=await Eie(yt);return mt}async function Jt(de,be,Ee,je){let Qe=Kt(Ee,de,je,null),mt=Promise.all(be.map(async j=>{if(j.matches&&j.match&&j.request&&j.controller){let q=(await Kt(j.request,j.matches,je,j.key))[j.match.route.id];return{[j.key]:q}}else return Promise.resolve({[j.key]:{type:"error",error:ia(404,{pathname:j.path})}})})),bt=await Qe,yt=(await mt).reduce((j,Q)=>Object.assign(j,Q),{});return{loaderResults:bt,fetcherResults:yt}}function An(){oe=!0,ae.forEach((de,be)=>{Z.has(be)&&le.add(be),Yt(be)})}function ve(de,be,Ee={}){A.fetchers.set(de,be),Pe({fetchers:new Map(A.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Le(de,be,Ee,je={}){let Qe=Ch(A.matches,be);ht(de),Pe({errors:{[Qe.route.id]:Ee},fetchers:new Map(A.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function Xe(de){return W.set(de,(W.get(de)||0)+1),V.has(de)&&V.delete(de),A.fetchers.get(de)||fie}function ht(de){let be=A.fetchers.get(de);Z.has(de)&&!(be&&be.state==="loading"&&ne.has(de))&&Yt(de),ae.delete(de),ne.delete(de),L.delete(de),V.delete(de),le.delete(de),A.fetchers.delete(de)}function gt(de){let be=(W.get(de)||0)-1;be<=0?(W.delete(de),V.add(de)):W.set(de,be),Pe({fetchers:new Map(A.fetchers)})}function Yt(de){let be=Z.get(de);be&&(be.abort(),Z.delete(de))}function Fn(de){for(let be of de){let Ee=Xe(be),je=Ou(Ee.data);A.fetchers.set(be,je)}}function nn(){let de=[],be=!1;for(let Ee of L){let je=A.fetchers.get(Ee);cn(je,`Expected fetcher: ${Ee}`),je.state==="loading"&&(L.delete(Ee),de.push(Ee),be=!0)}return Fn(de),be}function gr(de){let be=[];for(let[Ee,je]of ne)if(je<de){let Qe=A.fetchers.get(Ee);cn(Qe,`Expected fetcher: ${Ee}`),Qe.state==="loading"&&(Yt(Ee),ne.delete(Ee),be.push(Ee))}return Fn(be),be.length>0}function Ar(de,be){let Ee=A.blockers.get(de)||M0;return X.get(de)!==be&&X.set(de,be),Ee}function ar(de){A.blockers.delete(de),X.delete(de)}function Br(de,be){let Ee=A.blockers.get(de)||M0;cn(Ee.state==="unblocked"&&be.state==="blocked"||Ee.state==="blocked"&&be.state==="blocked"||Ee.state==="blocked"&&be.state==="proceeding"||Ee.state==="blocked"&&be.state==="unblocked"||Ee.state==="proceeding"&&be.state==="unblocked",`Invalid blocker state transition: ${Ee.state} -> ${be.state}`);let je=new Map(A.blockers);je.set(de,be),Pe({blockers:je})}function Vr({currentLocation:de,nextLocation:be,historyAction:Ee}){if(X.size===0)return;X.size>1&&Ir(!1,"A router only supports one blocker at a time");let je=Array.from(X.entries()),[Qe,mt]=je[je.length-1],bt=A.blockers.get(Qe);if(!(bt&&bt.state==="proceeding")&&mt({currentLocation:de,nextLocation:be,historyAction:Ee}))return Qe}function Mo(de){let be=ia(404,{pathname:de}),Ee=a||o,{matches:je,route:Qe}=HB(Ee);return{notFoundMatches:je,route:Qe,error:be}}function Ka(de,be,Ee){if(m=de,w=be,y=Ee||null,!C&&A.navigation===E_){C=!0;let je=no(A.location,A.matches);je!=null&&Pe({restoreScrollPosition:je})}return()=>{m=null,w=null,y=null}}function Os(de,be){return y&&y(de,be.map(je=>zre(je,A.loaderData)))||de.key}function to(de,be){if(m&&w){let Ee=Os(de,be);m[Ee]=w()}}function no(de,be){if(m){let Ee=Os(de,be),je=m[Ee];if(typeof je=="number")return je}return null}function Oi(de,be,Ee){if(e.patchRoutesOnNavigation)if(de){if(Object.keys(de[0].params).length>0)return{active:!0,matches:_x(be,Ee,l,!0)}}else return{active:!0,matches:_x(be,Ee,l,!0)||[]};return{active:!1,matches:null}}async function Oo(de,be,Ee,je){if(!e.patchRoutesOnNavigation)return{type:"success",matches:de};let Qe=de;for(;;){let mt=a==null,bt=a||o,yt=s;try{await e.patchRoutesOnNavigation({signal:Ee,path:be,matches:Qe,fetcherKey:je,patch:(q,K)=>{Ee.aborted||kB(q,K,bt,yt,i,!1)}})}catch(q){return{type:"error",error:q,partialMatches:Qe}}finally{mt&&!Ee.aborted&&(o=[...o])}if(Ee.aborted)return{type:"aborted"};let j=Vu(bt,be,l);if(j)return{type:"success",matches:j};let Q=_x(bt,be,l,!0);if(!Q||Qe.length===Q.length&&Qe.every((q,K)=>q.route.id===Q[K].route.id))return{type:"success",matches:null};Qe=Q}}function Lo(de){s={},a=Zv(de,i,void 0,s)}function Ya(de,be,Ee=!1){let je=a==null;kB(de,be,a||o,s,i,Ee),je&&(o=[...o],Pe({}))}return M={get basename(){return l},get future(){return d},get state(){return A},get routes(){return o},get window(){return t},initialize:Be,subscribe:_e,enableScrollRestoration:Ka,navigate:re,fetch:kt,revalidate:St,createHref:de=>e.history.createHref(de),encodeLocation:de=>e.history.encodeLocation(de),getFetcher:Xe,deleteFetcher:gt,dispose:Fe,getBlocker:Ar,deleteBlocker:ar,patchRoutes:Ya,_internalFetchControllers:Z,_internalSetRoutes:Lo,_internalSetStateDoNotUseOrYouWillBreakYourApp(de){Pe(de)}},M}function vie(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function kD(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=$1(r||".",W1(o),ma(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=gF(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let d=new URLSearchParams(l.search),f=d.getAll("index");d.delete("index"),f.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=nie({basename:n,pathname:l.pathname})),od(l)}function DB(e,t,n){if(!n||!vie(n))return{path:t};if(n.formMethod&&!Die(n.formMethod))return{path:t,error:ia(405,{method:n.formMethod})};let r=()=>({path:t,error:ia(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=Vz(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!zs(s))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,y])=>`${p}${m}=${y}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!zs(s))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}cn(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=MD(n.formData),l=n.formData;else if(n.body instanceof FormData)a=MD(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=LB(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=LB(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(zs(c.formMethod))return{path:t,submission:c};let d=Jc(t);return e&&d.search&&gF(d.search)&&a.append("index",""),d.search=`?${a}`,{path:od(d),submission:c}}function PB(e,t,n,r,i,s,o,a,l,c,d,f,p,m,y,w,C,S,R,E){let P=E?fo(E[1])?E[1].error:E[1].data:void 0,M=i.createURL(s.location),A=i.createURL(l),D;if(d&&s.errors){let G=Object.keys(s.errors)[0];D=o.findIndex(oe=>oe.route.id===G)}else if(E&&fo(E[1])){let G=E[0];D=o.findIndex(oe=>oe.route.id===G)-1}let k=E?E[1].statusCode:void 0,I=k&&k>=400,B={currentUrl:M,currentParams:s.matches[0]?.params||{},nextUrl:A,nextParams:o[0].params,...a,actionResult:P,actionStatus:k},N=o.map((G,oe)=>{let{route:le}=G,Z=null;if(D!=null&&oe>D?Z=!1:le.lazy?Z=!0:le.loader==null?Z=!1:d?Z=FD(le,s.loaderData,s.errors):yie(s.loaderData,s.matches[oe],G)&&(Z=!0),Z!==null)return ID(n,r,e,G,c,t,Z);let se=I?!1:f||M.pathname+M.search===A.pathname+A.search||M.search!==A.search||wie(s.matches[oe],G),fe={...B,defaultShouldRevalidate:se},ne=hS(G,fe);return ID(n,r,e,G,c,t,ne,fe)}),H=[];return y.forEach((G,oe)=>{if(d||!o.some(W=>W.route.id===G.routeId)||m.has(oe))return;let le=s.fetchers.get(oe),Z=le&&le.state!=="idle"&&le.data===void 0,se=Vu(C,G.path,S);if(!se){if(R&&Z)return;H.push({key:oe,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(w.has(oe))return;let fe=Ax(se,G.path),ne=new AbortController,L=Bp(i,G.path,ne.signal),ae=null;if(p.has(oe))p.delete(oe),ae=ng(n,r,L,se,fe,c,t);else if(Z)f&&(ae=ng(n,r,L,se,fe,c,t));else{let W={...B,defaultShouldRevalidate:I?!1:f};hS(fe,W)&&(ae=ng(n,r,L,se,fe,c,t,W))}ae&&H.push({key:oe,routeId:G.routeId,path:G.path,matches:ae,match:fe,request:L,controller:ne})}),{dsMatches:N,revalidatingFetchers:H}}function FD(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function yie(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function wie(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function hS(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function kB(e,t,n,r,i,s){let o;if(e){let c=r[e];cn(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let d=o.find(f=>Mz(c,f));d?l.push({existingRoute:d,newRoute:c}):a.push(c)}),a.length>0){let c=Zv(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:d,newRoute:f}=l[c],p=d,[m]=Zv([f],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function Mz(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>Mz(n,i))):!1}var FB=new WeakMap,Oz=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(cn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=FB.get(i);o||(o={},FB.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=Vre(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Ir(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(f)Ir(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await s();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},IB=new WeakMap;function Cie(e,t,n,r,i){let s=n[e.id];if(cn(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=IB.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{cn(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let y in p){let w=p[y];if(w===void 0)continue;let C=Gre(y),R=s[y]!==void 0&&y!=="hasErrorBoundary";C?Ir(!C,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?Ir(!R,`Route "${s.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=w}Object.assign(s,m),Object.assign(s,{...r(s),lazy:void 0})})();return IB.set(s,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(e.lazy),a=[],l;for(let d of o){if(i&&i.includes(d))continue;let f=Oz({key:d,route:e,manifest:n,mapRouteProperties:r});f&&(a.push(f),d===t&&(l=f))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function MB(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function bie(e){return e.matches.some(t=>t.route.unstable_middleware)?Lz(e,!1,()=>MB(e),(t,n)=>({[n]:{type:"error",result:t}})):MB(e)}async function Lz(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let c=i.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(p=>[f.route.id,p]):[]),d=await Nz({request:s,params:o,context:a},c,t,l,n);return t?d:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let d=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,d):d}}async function Nz(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,c]=a,d=!1,f,p=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await Nz(e,t,n,r,i,s+1)};try{let m=await c({request:e.request,params:e.params,context:e.context},p);return d?m===void 0?f:m:p()}catch(m){throw r.middlewareError?r.middlewareError.error!==m&&(r.middlewareError={routeId:l,error:m}):r.middlewareError={routeId:l,error:m},m}}function Bz(e,t,n,r,i){let s=Oz({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=Cie(r.route,zs(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function ID(e,t,n,r,i,s,o,a=null){let l=!1,c=Bz(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(d){return l=!0,a?typeof d=="boolean"?hS(r,{...a,defaultShouldRevalidate:d}):hS(r,a):o},resolve(d){return l||o||d&&!zs(n.method)&&(r.route.lazy||r.route.loader)?Sie({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:d,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function ng(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:Bz(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ID(e,t,n,l,s,o,!0,a))}async function xie(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let d=o;return Lz(d,!1,()=>c({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(f,p)=>({[p]:{type:"error",result:f}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function Sie({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=zs(e.method),c=l?"action":"loader",d=f=>{let p,m=new Promise((C,S)=>p=S);a=()=>p(),e.signal.addEventListener("abort",a);let y=C=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:s},...C!==void 0?[C]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(S=>y(S)):y())}}catch(C){return{type:"error",result:C}}})();return Promise.race([w,m])};try{let f=l?t.route.action:t.route.loader;if(n||r)if(f){let p,[m]=await Promise.all([d(f).catch(y=>{p=y}),n,r]);if(p!==void 0)throw p;o=m}else{await n;let p=l?t.route.action:t.route.loader;if(p)[o]=await Promise.all([d(p),r]);else if(c==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw ia(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(f)o=await d(f);else{let p=new URL(e.url),m=p.pathname+p.search;throw ia(404,{pathname:m})}}catch(f){return{type:"error",result:f}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Eie(e){let{result:t,type:n}=e;if(Hz(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new dS(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?GB(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new dS(t.init?.status||500,void 0,t.data),statusCode:ey(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ey(t)?t.status:void 0}:GB(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Tie(e,t,n,r,i){let s=e.headers.get("Location");if(cn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!pF(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=kD(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function OB(e,t,n){if(pF(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=ma(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Bp(e,t,n,r){let i=e.createURL(Vz(t)).toString(),s={signal:n};if(r&&zs(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=MD(r.formData):s.body=r.formData}return new Request(i,s)}function MD(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function LB(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Rie(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},d=n&&fo(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let p=f.route.id,m=t[p];if(cn(!Sh(m),"Cannot handle redirect results in processLoaderData"),fo(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),o=o||{},i)o[p]=y;else{let w=Ch(e,p);o[w.route.id]==null&&(o[w.route.id]=y)}r||(s[p]=Iz),l||(l=!0,a=ey(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else s[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[p]=m.headers)}),d!==void 0&&n&&(o={[n[0]]:d},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function NB(e,t,n,r,i,s){let{loaderData:o,errors:a}=Rie(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:d,controller:f}=l,p=s[c];if(cn(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(fo(p)){let m=Ch(e.matches,d?.route.id);a&&a[m.route.id]||(a={...a,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(Sh(p))cn(!1,"Unhandled fetcher revalidation redirect");else{let m=Ou(p.data);e.fetchers.set(c,m)}}),{loaderData:o,errors:a}}function BB(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==Iz).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function VB(e){return e?fo(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ch(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function HB(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ia(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new dS(e||500,o,new Error(a),!0)}function Pb(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Sh(i))return{key:r,result:i}}}function Vz(e){let t=typeof e=="string"?Jc(e):e;return od({...t,hash:""})}function _ie(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Aie(e){return Hz(e.result)&&die.has(e.result.status)}function fo(e){return e.type==="error"}function Sh(e){return(e&&e.type)==="redirect"}function GB(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Hz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Die(e){return uie.has(e.toUpperCase())}function zs(e){return lie.has(e.toUpperCase())}function gF(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ax(e,t){let n=typeof t=="string"?Jc(t).search:t.search;if(e[e.length-1].route.index&&gF(n||""))return e[e.length-1];let r=Pz(e);return r[r.length-1]}function UB(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function T_(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Pie(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function O0(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function kie(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ou(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Fie(e,t){try{let n=e.sessionStorage.getItem(Fz);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function Iie(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Fz,JSON.stringify(n))}catch(r){Ir(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Mie(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Ef=T.createContext(null);Ef.displayName="DataRouter";var ww=T.createContext(null);ww.displayName="DataRouterState";T.createContext(!1);var mF=T.createContext({isTransitioning:!1});mF.displayName="ViewTransition";var Gz=T.createContext(new Map);Gz.displayName="Fetchers";var Oie=T.createContext(null);Oie.displayName="Await";var ja=T.createContext(null);ja.displayName="Navigation";var q1=T.createContext(null);q1.displayName="Location";var Sa=T.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var vF=T.createContext(null);vF.displayName="RouteError";function Lie(e,{relative:t}={}){cn(im(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ja),{hash:i,pathname:s,search:o}=Cw(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Tl([n,s])),r.createHref({pathname:a,search:o,hash:i})}function im(){return T.useContext(q1)!=null}function Yl(){return cn(im(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(q1).location}var Uz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zz(e){T.useContext(ja).static||T.useLayoutEffect(e)}function yF(){let{isDataRoute:e}=T.useContext(Sa);return e?Jie():Nie()}function Nie(){cn(im(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Ef),{basename:t,navigator:n}=T.useContext(ja),{matches:r}=T.useContext(Sa),{pathname:i}=Yl(),s=JSON.stringify(W1(r)),o=T.useRef(!1);return zz(()=>{o.current=!0}),T.useCallback((l,c={})=>{if(Ir(o.current,Uz),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=$1(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Tl([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}var Bie=T.createContext(null);function Vie(e){let t=T.useContext(Sa).outlet;return t&&T.createElement(Bie.Provider,{value:e},t)}function Hie(){let{matches:e}=T.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function Cw(e,{relative:t}={}){let{matches:n}=T.useContext(Sa),{pathname:r}=Yl(),i=JSON.stringify(W1(n));return T.useMemo(()=>$1(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Gie(e,t,n,r){cn(im(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(ja),{matches:s}=T.useContext(Sa),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let S=d&&d.path||"";jz(l,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let f=Yl(),p;p=f;let m=p.pathname||"/",y=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=Vu(e,{pathname:y});return Ir(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ir(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$ie(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Tl([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Tl([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r)}function Uie(){let e=Qie(),t=ey(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,o)}var zie=T.createElement(Uie,null),jie=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Sa.Provider,{value:this.props.routeContext},T.createElement(vF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wie({routeContext:e,match:t,children:n}){let r=T.useContext(Ef);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Sa.Provider,{value:e},n)}function $ie(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);cn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:f}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let f,p=!1,m=null,y=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||zie,o&&(a<0&&d===0?(jz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===d&&(p=!0,y=c.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,d+1)),C=()=>{let S;return f?S=m:p?S=y:c.route.Component?S=T.createElement(c.route.Component,null):c.route.element?S=c.route.element:S=l,T.createElement(Wie,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:S})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?T.createElement(jie,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function wF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qie(e){let t=T.useContext(Ef);return cn(t,wF(e)),t}function Kie(e){let t=T.useContext(ww);return cn(t,wF(e)),t}function Yie(e){let t=T.useContext(Sa);return cn(t,wF(e)),t}function CF(e){let t=Yie(e),n=t.matches[t.matches.length-1];return cn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Xie(){return CF("useRouteId")}function Qie(){let e=T.useContext(vF),t=Kie("useRouteError"),n=CF("useRouteError");return e!==void 0?e:t.errors?.[n]}function Jie(){let{router:e}=qie("useNavigate"),t=CF("useNavigate"),n=T.useRef(!1);return zz(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Ir(n.current,Uz),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var zB={};function jz(e,t,n){!t&&!zB[e]&&(zB[e]=!0,Ir(!1,n))}var jB={};function WB(e,t){!e&&!jB[t]&&(jB[t]=!0,console.warn(t))}function Zie(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ir(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:T.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ir(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:T.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ir(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:T.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var ese=["HydrateFallback","hydrateFallbackElement"],tse=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function nse({router:e,flushSync:t}){let[n,r]=T.useState(e.state),[i,s]=T.useState(),[o,a]=T.useState({isTransitioning:!1}),[l,c]=T.useState(),[d,f]=T.useState(),[p,m]=T.useState(),y=T.useRef(new Map),w=T.useCallback((E,{deletedFetchers:P,flushSync:M,viewTransitionOpts:A})=>{E.fetchers.forEach((k,I)=>{k.data!==void 0&&y.current.set(I,k.data)}),P.forEach(k=>y.current.delete(k)),WB(M===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(WB(A==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!D){t&&M?t(()=>r(E)):T.startTransition(()=>r(E));return}if(t&&M){t(()=>{d&&(l&&l.resolve(),d.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let k=e.window.document.startViewTransition(()=>{t(()=>r(E))});k.finished.finally(()=>{t(()=>{c(void 0),f(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>f(k));return}d?(l&&l.resolve(),d.skipTransition(),m({state:E,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(s(E),a({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[e.window,t,d,l]);T.useLayoutEffect(()=>e.subscribe(w),[e,w]),T.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new tse)},[o]),T.useEffect(()=>{if(l&&i&&e.window){let E=i,P=l.promise,M=e.window.document.startViewTransition(async()=>{T.startTransition(()=>r(E)),await P});M.finished.finally(()=>{c(void 0),f(void 0),s(void 0),a({isTransitioning:!1})}),f(M)}},[i,l,e.window]),T.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,d,n.location,i]),T.useEffect(()=>{!o.isTransitioning&&p&&(s(p.state),a({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[o.isTransitioning,p]);let C=T.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:E=>e.navigate(E),push:(E,P,M)=>e.navigate(E,{state:P,preventScrollReset:M?.preventScrollReset}),replace:(E,P,M)=>e.navigate(E,{replace:!0,state:P,preventScrollReset:M?.preventScrollReset})}),[e]),S=e.basename||"/",R=T.useMemo(()=>({router:e,navigator:C,static:!1,basename:S}),[e,C,S]);return T.createElement(T.Fragment,null,T.createElement(Ef.Provider,{value:R},T.createElement(ww.Provider,{value:n},T.createElement(Gz.Provider,{value:y.current},T.createElement(mF.Provider,{value:o},T.createElement(ose,{basename:S,location:n.location,navigationType:n.historyAction,navigator:C},T.createElement(rse,{routes:e.routes,future:e.future,state:n})))))),null)}var rse=T.memo(ise);function ise({routes:e,future:t,state:n}){return Gie(e,void 0,n,t)}function rg({to:e,replace:t,state:n,relative:r}){cn(im(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(ja);Ir(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Sa),{pathname:o}=Yl(),a=yF(),l=$1(e,W1(s),o,r==="path"),c=JSON.stringify(l);return T.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function sse(e){return Vie(e.context)}function ose({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){cn(!im(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Jc(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,m=T.useMemo(()=>{let y=ma(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:p},navigationType:r}},[o,l,c,d,f,p,r]);return Ir(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:T.createElement(ja.Provider,{value:a},T.createElement(q1.Provider,{children:t,value:m}))}var Dx="get",Px="application/x-www-form-urlencoded";function K1(e){return e!=null&&typeof e.tagName=="string"}function ase(e){return K1(e)&&e.tagName.toLowerCase()==="button"}function lse(e){return K1(e)&&e.tagName.toLowerCase()==="form"}function cse(e){return K1(e)&&e.tagName.toLowerCase()==="input"}function use(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dse(e,t){return e.button===0&&(!t||t==="_self")&&!use(e)}var kb=null;function hse(){if(kb===null)try{new FormData(document.createElement("form"),0),kb=!1}catch{kb=!0}return kb}var fse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function R_(e){return e!=null&&!fse.has(e)?(Ir(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Px}"`),null):e}function pse(e,t){let n,r,i,s,o;if(lse(e)){let a=e.getAttribute("action");r=a?ma(a,t):null,n=e.getAttribute("method")||Dx,i=R_(e.getAttribute("enctype"))||Px,s=new FormData(e)}else if(ase(e)||cse(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?ma(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Dx,i=R_(e.getAttribute("formenctype"))||R_(a.getAttribute("enctype"))||Px,s=new FormData(a,e),!hse()){let{name:c,type:d,value:f}=e;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(K1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dx,r=null,i=Px,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bF(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gse(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ma(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function mse(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vse(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yse(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await mse(s,n);return o.links?o.links():[]}return[]}));return xse(r.flat(1).filter(vse).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $B(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function wse(e,t,{includeHydrateFallback:n}={}){return Cse(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Cse(e){return[...new Set(e)]}function bse(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function xse(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(bse(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Wz(){let e=T.useContext(Ef);return bF(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Sse(){let e=T.useContext(ww);return bF(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xF=T.createContext(void 0);xF.displayName="FrameworkContext";function $z(){let e=T.useContext(xF);return bF(e,"You must render this element inside a <HydratedRouter> element"),e}function Ese(e,t){let n=T.useContext(xF),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,p=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=S=>{S.forEach(R=>{o(R.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[e]),T.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:L0(a,m),onBlur:L0(l,y),onMouseEnter:L0(c,m),onMouseLeave:L0(d,y),onTouchStart:L0(f,m)}]:[!1,p,{}]}function L0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Tse({page:e,...t}){let{router:n}=Wz(),r=T.useMemo(()=>Vu(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(_se,{page:e,matches:r,...t}):null}function Rse(e){let{manifest:t,routeModules:n}=$z(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return yse(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function _se({page:e,matches:t,...n}){let r=Yl(),{manifest:i,routeModules:s}=$z(),{basename:o}=Wz(),{loaderData:a,matches:l}=Sse(),c=T.useMemo(()=>$B(e,t,l,i,r,"data"),[e,t,l,i,r]),d=T.useMemo(()=>$B(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(t.forEach(S=>{let R=i.routes[S.route.id];!R||!R.hasLoader||(!c.some(E=>E.route.id===S.route.id)&&S.route.id in a&&s[S.route.id]?.shouldRevalidate||R.hasClientLoader?w=!0:y.add(S.route.id))}),y.size===0)return[];let C=gse(e,o,"data");return w&&y.size>0&&C.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,c,t,e,s]),p=T.useMemo(()=>wse(d,i),[d,i]),m=Rse(d);return T.createElement(T.Fragment,null,f.map(y=>T.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>T.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:w})=>T.createElement("link",{key:y,...w})))}function Ase(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qz&&(window.__reactRouterVersion="7.7.1")}catch{}function Dse(e,t){return mie({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Ore({window:t?.window}),hydrationData:Pse(),routes:e,mapRouteProperties:Zie,hydrationRouteProperties:ese,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function Pse(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:kse(e.errors)}),e}function kse(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new dS(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var Kz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yz=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},m){let{basename:y}=T.useContext(ja),w=typeof c=="string"&&Kz.test(c),C,S=!1;if(typeof c=="string"&&w&&(C=c,qz))try{let I=new URL(window.location.href),B=c.startsWith("//")?new URL(I.protocol+c):new URL(c),N=ma(B.pathname,y);B.origin===I.origin&&N!=null?c=N+B.search+B.hash:S=!0}catch{Ir(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=Lie(c,{relative:i}),[E,P,M]=Ese(r,p),A=Ose(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function D(I){t&&t(I),I.defaultPrevented||A(I)}let k=T.createElement("a",{...p,...M,href:C||R,onClick:S||s?t:D,ref:Ase(m,P),target:l,"data-discover":!w&&n==="render"?"true":void 0});return E&&!w?T.createElement(T.Fragment,null,k,T.createElement(Tse,{page:R})):k});Yz.displayName="Link";var Fse=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=Cw(o,{relative:c.relative}),p=Yl(),m=T.useContext(ww),{navigator:y,basename:w}=T.useContext(ja),C=m!=null&&Hse(f)&&a===!0,S=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,R=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(R=R.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&w&&(E=ma(E,w)||E);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=R===S||!i&&R.startsWith(S)&&R.charAt(P)==="/",A=E!=null&&(E===S||!i&&E.startsWith(S)&&E.charAt(S.length)==="/"),D={isActive:M,isPending:A,isTransitioning:C},k=M?t:void 0,I;typeof r=="function"?I=r(D):I=[r,M?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(D):s;return T.createElement(Yz,{...c,"aria-current":k,className:I,ref:d,style:B,to:o,viewTransition:a},typeof l=="function"?l(D):l)});Fse.displayName="NavLink";var Ise=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Dx,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},m)=>{let y=Bse(),w=Vse(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&Kz.test(a),R=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,M=P?.getAttribute("formmethod")||o;y(P||E.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:m,method:C,action:w,onSubmit:r?l:R,...p,"data-discover":!S&&e==="render"?"true":void 0})});Ise.displayName="Form";function Mse(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xz(e){let t=T.useContext(Ef);return cn(t,Mse(e)),t}function Ose(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=yF(),l=Yl(),c=Cw(e,{relative:s});return T.useCallback(d=>{if(dse(d,t)){d.preventDefault();let f=n!==void 0?n:od(l)===od(c);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var Lse=0,Nse=()=>`__${String(++Lse)}__`;function Bse(){let{router:e}=Xz("useSubmit"),{basename:t}=T.useContext(ja),n=Xie();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=pse(r,t);if(i.navigate===!1){let d=i.fetcherKey||Nse();await e.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Vse(e,{relative:t}={}){let{basename:n}=T.useContext(ja),r=T.useContext(Sa);cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Cw(e||".",{relative:t})},o=Yl();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Tl([n,s.pathname])),od(s)}function Hse(e,{relative:t}={}){let n=T.useContext(mF);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xz("useViewTransitionState"),i=Cw(e,{relative:t});if(!n.isTransitioning)return!1;let s=ma(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ma(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uS(i.pathname,o)!=null||uS(i.pathname,s)!=null}var sm=Tz();const qu=rm(sm);function Gse(e){return T.createElement(nse,{flushSync:sm.flushSync,...e})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $r=function(){return $r=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$r.apply(this,arguments)};function Xh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ps(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function OD(){return OD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OD.apply(this,arguments)}function SF(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Use=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zse=SF(function(e){return Use.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function jse(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Wse(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $se=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Wse(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=jse(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),rs="-ms-",fS="-moz-",Mn="-webkit-",Qz="comm",EF="rule",TF="decl",qse="@import",Jz="@keyframes",Kse=Math.abs,Y1=String.fromCharCode,Yse=Object.assign;function Xse(e,t){return ji(e,0)^45?(((t<<2^ji(e,0))<<2^ji(e,1))<<2^ji(e,2))<<2^ji(e,3):0}function Zz(e){return e.trim()}function Qse(e,t){return(e=t.exec(e))?e[0]:e}function Vn(e,t,n){return e.replace(t,n)}function LD(e,t){return e.indexOf(t)}function ji(e,t){return e.charCodeAt(t)|0}function ty(e,t,n){return e.slice(t,n)}function ml(e){return e.length}function RF(e){return e.length}function Fb(e,t){return t.push(e),e}function Jse(e,t){return e.map(t).join("")}var X1=1,_g=1,e9=0,Xs=0,ai=0,om="";function Q1(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:X1,column:_g,length:o,return:""}}function N0(e,t){return Yse(Q1("",null,null,"",null,null,0),e,{length:-e.length},t)}function Zse(){return ai}function eoe(){return ai=Xs>0?ji(om,--Xs):0,_g--,ai===10&&(_g=1,X1--),ai}function Ro(){return ai=Xs<e9?ji(om,Xs++):0,_g++,ai===10&&(_g=1,X1++),ai}function Rl(){return ji(om,Xs)}function kx(){return Xs}function bw(e,t){return ty(om,e,t)}function ny(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function t9(e){return X1=_g=1,e9=ml(om=e),Xs=0,[]}function n9(e){return om="",e}function Fx(e){return Zz(bw(Xs-1,ND(e===91?e+2:e===40?e+1:e)))}function toe(e){for(;(ai=Rl())&&ai<33;)Ro();return ny(e)>2||ny(ai)>3?"":" "}function noe(e,t){for(;--t&&Ro()&&!(ai<48||ai>102||ai>57&&ai<65||ai>70&&ai<97););return bw(e,kx()+(t<6&&Rl()==32&&Ro()==32))}function ND(e){for(;Ro();)switch(ai){case e:return Xs;case 34:case 39:e!==34&&e!==39&&ND(ai);break;case 40:e===41&&ND(e);break;case 92:Ro();break}return Xs}function roe(e,t){for(;Ro()&&e+ai!==57;)if(e+ai===84&&Rl()===47)break;return"/*"+bw(t,Xs-1)+"*"+Y1(e===47?e:Ro())}function ioe(e){for(;!ny(Rl());)Ro();return bw(e,Xs)}function qB(e){return n9(Ix("",null,null,null,[""],e=t9(e),0,[0],e))}function Ix(e,t,n,r,i,s,o,a,l){for(var c=0,d=0,f=o,p=0,m=0,y=0,w=1,C=1,S=1,R=0,E="",P=i,M=s,A=r,D=E;C;)switch(y=R,R=Ro()){case 40:if(y!=108&&ji(D,f-1)==58){LD(D+=Vn(Fx(R),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:D+=Fx(R);break;case 9:case 10:case 13:case 32:D+=toe(y);break;case 92:D+=noe(kx()-1,7);continue;case 47:switch(Rl()){case 42:case 47:Fb(soe(roe(Ro(),kx()),t,n),l);break;default:D+="/"}break;case 123*w:a[c++]=ml(D)*S;case 125*w:case 59:case 0:switch(R){case 0:case 125:C=0;case 59+d:m>0&&ml(D)-f&&Fb(m>32?YB(D+";",r,n,f-1):YB(Vn(D," ","")+";",r,n,f-2),l);break;case 59:D+=";";default:if(Fb(A=KB(D,t,n,c,d,i,a,E,P=[],M=[],f),s),R===123)if(d===0)Ix(D,t,A,A,P,s,f,a,M);else switch(p===99&&ji(D,3)===110?100:p){case 100:case 109:case 115:Ix(e,A,A,r&&Fb(KB(e,A,A,0,0,i,a,E,i,P=[],f),M),i,M,f,a,r?P:M);break;default:Ix(D,A,A,A,[""],M,0,a,M)}}c=d=m=0,w=S=1,E=D="",f=o;break;case 58:f=1+ml(D),m=y;default:if(w<1){if(R==123)--w;else if(R==125&&w++==0&&eoe()==125)continue}switch(D+=Y1(R),R*w){case 38:S=d>0?1:(D+="\f",-1);break;case 44:a[c++]=(ml(D)-1)*S,S=1;break;case 64:Rl()===45&&(D+=Fx(Ro())),p=Rl(),d=f=ml(E=D+=ioe(kx())),R++;break;case 45:y===45&&ml(D)==2&&(w=0)}}return s}function KB(e,t,n,r,i,s,o,a,l,c,d){for(var f=i-1,p=i===0?s:[""],m=RF(p),y=0,w=0,C=0;y<r;++y)for(var S=0,R=ty(e,f+1,f=Kse(w=o[y])),E=e;S<m;++S)(E=Zz(w>0?p[S]+" "+R:Vn(R,/&\f/g,p[S])))&&(l[C++]=E);return Q1(e,t,n,i===0?EF:a,l,c,d)}function soe(e,t,n){return Q1(e,t,n,Qz,Y1(Zse()),ty(e,2,-2),0)}function YB(e,t,n,r){return Q1(e,t,n,TF,ty(e,0,r),ty(e,r+1,-1),r)}function kh(e,t){for(var n="",r=RF(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function XB(e,t,n,r){switch(e.type){case qse:case TF:return e.return=e.return||e.value;case Qz:return"";case Jz:return e.return=e.value+"{"+kh(e.children,r)+"}";case EF:e.value=e.props.join(",")}return ml(n=kh(e.children,r))?e.return=e.value+"{"+n+"}":""}function QB(e){var t=RF(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function ooe(e){return function(t){t.root||(t=t.return)&&e(t)}}var aoe=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}},loe=function(t,n,r){for(var i=0,s=0;i=s,s=Rl(),i===38&&s===12&&(n[r]=1),!ny(s);)Ro();return bw(t,Xs)},coe=function(t,n){var r=-1,i=44;do switch(ny(i)){case 0:i===38&&Rl()===12&&(n[r]=1),t[r]+=loe(Xs-1,n,r);break;case 2:t[r]+=Fx(i);break;case 4:if(i===44){t[++r]=Rl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Y1(i)}while(i=Ro());return t},uoe=function(t,n){return n9(coe(t9(t),n))},JB=new WeakMap,doe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!JB.get(r))&&!i){JB.set(t,!0);for(var s=[],o=uoe(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},hoe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function r9(e,t){switch(Xse(e,t)){case 5103:return Mn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Mn+e+fS+e+rs+e+e;case 6828:case 4268:return Mn+e+rs+e+e;case 6165:return Mn+e+rs+"flex-"+e+e;case 5187:return Mn+e+Vn(e,/(\w+).+(:[^]+)/,Mn+"box-$1$2"+rs+"flex-$1$2")+e;case 5443:return Mn+e+rs+"flex-item-"+Vn(e,/flex-|-self/,"")+e;case 4675:return Mn+e+rs+"flex-line-pack"+Vn(e,/align-content|flex-|-self/,"")+e;case 5548:return Mn+e+rs+Vn(e,"shrink","negative")+e;case 5292:return Mn+e+rs+Vn(e,"basis","preferred-size")+e;case 6060:return Mn+"box-"+Vn(e,"-grow","")+Mn+e+rs+Vn(e,"grow","positive")+e;case 4554:return Mn+Vn(e,/([^-])(transform)/g,"$1"+Mn+"$2")+e;case 6187:return Vn(Vn(Vn(e,/(zoom-|grab)/,Mn+"$1"),/(image-set)/,Mn+"$1"),e,"")+e;case 5495:case 3959:return Vn(e,/(image-set\([^]*)/,Mn+"$1$`$1");case 4968:return Vn(Vn(e,/(.+:)(flex-)?(.*)/,Mn+"box-pack:$3"+rs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mn+e+e;case 4095:case 3583:case 4068:case 2532:return Vn(e,/(.+)-inline(.+)/,Mn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ml(e)-1-t>6)switch(ji(e,t+1)){case 109:if(ji(e,t+4)!==45)break;case 102:return Vn(e,/(.+:)(.+)-([^]+)/,"$1"+Mn+"$2-$3$1"+fS+(ji(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~LD(e,"stretch")?r9(Vn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ji(e,t+1)!==115)break;case 6444:switch(ji(e,ml(e)-3-(~LD(e,"!important")&&10))){case 107:return Vn(e,":",":"+Mn)+e;case 101:return Vn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mn+(ji(e,14)===45?"inline-":"")+"box$3$1"+Mn+"$2$3$1"+rs+"$2box$3")+e}break;case 5936:switch(ji(e,t+11)){case 114:return Mn+e+rs+Vn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Mn+e+rs+Vn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Mn+e+rs+Vn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Mn+e+rs+e+e}return e}var foe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case TF:t.return=r9(t.value,t.length);break;case Jz:return kh([N0(t,{value:Vn(t.value,"@","@"+Mn)})],i);case EF:if(t.length)return Jse(t.props,function(s){switch(Qse(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kh([N0(t,{props:[Vn(s,/:(read-\w+)/,":"+fS+"$1")]})],i);case"::placeholder":return kh([N0(t,{props:[Vn(s,/:(plac\w+)/,":"+Mn+"input-$1")]}),N0(t,{props:[Vn(s,/:(plac\w+)/,":"+fS+"$1")]}),N0(t,{props:[Vn(s,/:(plac\w+)/,rs+"input-$1")]})],i)}return""})}},Mx=typeof document<"u",poe=Mx?void 0:aoe(function(){return SF(function(){var e={};return function(t){return e[t]}})}),goe=[foe],i9=function(t){var n=t.key;if(Mx&&n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var M=P.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var i=t.stylisPlugins||goe,s={},o,a=[];Mx&&(o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(P){for(var M=P.getAttribute("data-emotion").split(" "),A=1;A<M.length;A++)s[M[A]]=!0;a.push(P)}));var l,c=[doe,hoe];if(Mx){var d,f=[XB,ooe(function(P){d.insert(P)})],p=QB(c.concat(i,f)),m=function(M){return kh(qB(M),p)};l=function(M,A,D,k){d=D,m(M?M+"{"+A.styles+"}":A.styles),k&&(E.inserted[A.name]=!0)}}else{var y=[XB],w=QB(c.concat(i,y)),C=function(M){return kh(qB(M),w)},S=poe(i)(n),R=function(M,A){var D=A.name;return S[D]===void 0&&(S[D]=C(M?M+"{"+A.styles+"}":A.styles)),S[D]};l=function(M,A,D,k){var I=A.name,B=R(M,A);if(E.compat===void 0)return k&&(E.inserted[I]=!0),B;if(k)E.inserted[I]=B;else return B}}var E={key:n,sheet:new $se({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return E.sheet.hydrate(a),E},moe=typeof document<"u",ZB=function(t){return t()},voe=T.useInsertionEffect?T.useInsertionEffect:!1,yoe=moe&&voe||ZB,woe=typeof document<"u",pS=T.createContext(typeof HTMLElement<"u"?i9({key:"css"}):null);pS.Provider;var s9=function(t){return T.forwardRef(function(n,r){var i=T.useContext(pS);return t(n,i,r)})};woe||(s9=function(t){return function(n){var r=T.useContext(pS);return r===null?(r=i9({key:"css"}),T.createElement(pS.Provider,{value:r},t(n,r))):t(n,r)}});var Coe=T.createContext({}),BD=typeof document<"u";function boe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var o9=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||BD===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},xoe=function(t,n,r){o9(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s="",o=n;do{var a=t.insert(n===o?"."+i:"",o,t.sheet,!0);!BD&&a!==void 0&&(s+=a),o=o.next}while(o!==void 0);if(!BD&&s.length!==0)return s}};function Soe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Eoe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Toe=/[A-Z]|^ms/g,Roe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a9=function(t){return t.charCodeAt(1)===45},eV=function(t){return t!=null&&typeof t!="boolean"},__=SF(function(e){return a9(e)?e:e.replace(Toe,"-$&").toLowerCase()}),tV=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Roe,function(r,i,s){return vl={name:i,styles:s,next:vl},i})}return Eoe[t]!==1&&!a9(t)&&typeof n=="number"&&n!==0?n+"px":n};function ry(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return vl={name:n.name,styles:n.styles,next:vl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)vl={name:r.name,styles:r.styles,next:vl},r=r.next;var i=n.styles+";";return i}return _oe(e,t,n)}case"function":{if(e!==void 0){var s=vl,o=n(e);return vl=s,ry(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function _oe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ry(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":eV(o)&&(r+=__(s)+":"+tV(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)eV(o[a])&&(r+=__(s)+":"+tV(s,o[a])+";");else{var l=ry(e,t,o);switch(s){case"animation":case"animationName":{r+=__(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var nV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,vl,Aoe=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";vl=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=ry(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=ry(r,n,t[a]),i&&(s+=o[a]);nV.lastIndex=0;for(var l="",c;(c=nV.exec(s))!==null;)l+="-"+c[1];var d=Soe(s)+l;return{name:d,styles:s,next:vl}},Doe=zse,Poe=function(t){return t!=="theme"},rV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Doe:Poe},iV=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},koe=typeof document<"u",Foe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;o9(n,r,i);var s=yoe(function(){return xoe(n,r,i)});if(!koe&&s!==void 0){for(var o,a=r.name,l=r.next;l!==void 0;)a+=" "+l.name,l=l.next;return T.createElement("style",(o={},o["data-emotion"]=n.key+" "+a,o.dangerouslySetInnerHTML={__html:s},o.nonce=n.sheet.nonce,o))}return null},Ioe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=iV(t,n,r),l=a||rV(i),c=!l("as");return function(){var d=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)f.push(d[m],d[0][m])}var y=s9(function(w,C,S){var R=c&&w.as||i,E="",P=[],M=w;if(w.theme==null){M={};for(var A in w)M[A]=w[A];M.theme=T.useContext(Coe)}typeof w.className=="string"?E=boe(C.registered,P,w.className):w.className!=null&&(E=w.className+" ");var D=Aoe(f.concat(P),C.registered,M);E+=C.key+"-"+D.name,o!==void 0&&(E+=" "+o);var k=c&&a===void 0?rV(R):l,I={};for(var B in w)c&&B==="as"||k(B)&&(I[B]=w[B]);return I.className=E,I.ref=S,T.createElement(T.Fragment,null,T.createElement(Foe,{cache:C,serialized:D,isStringTag:typeof R=="string"}),T.createElement(R,I))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=f,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(w,C){return e(w,OD({},n,C,{shouldForwardProp:iV(y,C,!0)})).apply(void 0,f)},y}},Moe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ii=Ioe.bind();Moe.forEach(function(e){Ii[e]=Ii(e)});var l9={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(l9);var gi=l9.exports,c9=ue.createContext(void 0),Ooe=function(e){var t=e.children,n=ue.useState({collapsed:!1,toggled:!1,broken:!1,rtl:!1,transitionDuration:300}),r=n[0],i=n[1],s=ue.useCallback(function(c){i(function(d){return $r($r({},d),c)})},[]),o=ue.useCallback(function(){i(function(c){return $r($r({},c),{collapsed:!c?.collapsed})})},[]),a=ue.useCallback(function(){i(function(c){return $r($r({},c),{toggled:!c?.toggled})})},[]),l=ue.useMemo(function(){return $r($r({},r),{updateSidebarState:s,updateCollapseState:o,updateToggleState:a})},[r,o,s,a]);return ue.createElement(c9.Provider,{value:l},t)},u9=function(){var e=ue.useContext(c9);return e},Loe=function(e){var t=ue.useState(!!e&&typeof window<"u"&&window.matchMedia(e).matches),n=t[0],r=t[1];return ue.useEffect(function(){if(e){var i=window.matchMedia(e),s=function(){i.matches!==n&&r(i.matches)};return s(),i.addEventListener("change",s),function(){return i.removeEventListener("change",s)}}},[n,e]),n},Wr={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},On={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},Noe=Ii.div(sV||(sV=ps([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),sV,Boe={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},Voe=Ii.aside(oV||(oV=ps([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")},function(e){var t=e.width;return t},function(e){var t=e.width;return t},Wr.collapsed,function(e){var t=e.collapsedWidth;return t},function(e){var t=e.collapsedWidth;return t},Wr.rtl,Wr.broken,function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")},Wr.collapsed,function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")},Wr.toggled,function(e){var t=e.rtl;return t?"":"left: 0;"},Wr.rtl,function(e){var t=e.width;return t},Wr.collapsed,function(e){var t=e.collapsedWidth;return t},Wr.toggled,function(e){var t=e.rootStyles;return t}),Hoe=Ii.div(aV||(aV=ps([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""}),Goe=Ii.img(lV||(lV=ps([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),Wr.image),J1=ue.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),Uoe=ue.forwardRef(function(e,t){var n,r=e.collapsed,i=e.toggled,s=e.onBackdropClick,o=e.onBreakPoint,a=e.width,l=a===void 0?"250px":a,c=e.collapsedWidth,d=c===void 0?"80px":c,f=e.defaultCollapsed,p=e.className,m=e.children,y=e.breakPoint,w=e.customBreakPoint,C=e.backgroundColor,S=C===void 0?"rgb(249, 249, 249, 0.7)":C,R=e.transitionDuration,E=R===void 0?300:R,P=e.image,M=e.rtl,A=e.rootStyles,D=Xh(e,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),k=function(){if(w)return"(max-width: ".concat(w,")");if(y)return["xs","sm","md","lg","xl","xxl"].includes(y)?"(max-width: ".concat(Boe[y],")"):y==="always"||y==="all"?(y==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(y,")")},I=ue.useRef();I.current=function(fe){o?.(fe)};var B=Loe(k()),N=ue.useState(!1),H=N[0],G=N[1],oe=u9(),le=r??(!H&&f?!0:oe?.collapsed),Z=i??oe?.toggled,se=function(){s?.(),oe?.updateSidebarState({toggled:!1})};return ue.useEffect(function(){var fe;(fe=I.current)===null||fe===void 0||fe.call(I,B)},[B]),ue.useEffect(function(){oe?.updateSidebarState({broken:B,rtl:M,transitionDuration:E})},[B,oe?.updateSidebarState,M,E]),ue.useEffect(function(){H||(oe?.updateSidebarState({collapsed:f}),G(!0))},[f,H,oe?.updateSidebarState]),ue.createElement(J1.Provider,{value:{collapsed:le,toggled:Z,rtl:M,transitionDuration:E}},ue.createElement(Voe,$r({ref:t,"data-testid":"".concat(Wr.root,"-test-id"),rtl:M,rootStyles:A,width:l,collapsedWidth:d,transitionDuration:E,className:gi(Wr.root,(n={},n[Wr.collapsed]=le,n[Wr.toggled]=Z,n[Wr.broken]=B,n[Wr.rtl]=M,n),p)},D),ue.createElement(Hoe,{"data-testid":"".concat(Wr.container,"-test-id"),className:Wr.container,backgroundColor:S},m),P&&ue.createElement(Goe,{"data-testid":"".concat(Wr.image,"-test-id"),src:P,alt:"sidebar background",className:Wr.image}),B&&Z&&ue.createElement(Noe,{"data-testid":"".concat(Wr.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:se,onKeyPress:se,className:Wr.backdrop})))}),oV,aV,lV,d9=Ii.ul(cV||(cV=ps([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),cV,zoe=Ii.nav(uV||(uV=ps([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),On.root,function(e){var t=e.rootStyles;return t}),h9=ue.createContext(void 0),gS=ue.createContext(0),joe=function(e,t){var n=e.children,r=e.className,i=e.transitionDuration,s=i===void 0?300:i,o=e.closeOnClick,a=o===void 0?!1:o,l=e.rootStyles,c=e.menuItemStyles,d=e.renderExpandIcon,f=Xh(e,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),p=ue.useMemo(function(){return{transitionDuration:s,closeOnClick:a,menuItemStyles:c,renderExpandIcon:d}},[s,a,c,d]);return ue.createElement(h9.Provider,{value:p},ue.createElement(gS.Provider,{value:0},ue.createElement(zoe,$r({ref:t,className:gi(On.root,r),rootStyles:l},f),ue.createElement(d9,null,n))))},Woe=ue.forwardRef(joe),uV,_F=function(){var e=ue.useContext(h9);if(e===void 0)throw new Error("Menu Component is required!");return e},$oe=Ii.div(dV||(dV=ps([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(e){var t=e.transitionDuration;return t},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(e){var t=e.defaultOpen;return t&&"height: auto;display: block;"},function(e){var t=e.collapsed,n=e.firstLevel,r=e.openWhenCollapsed;return t&&n?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(r?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(e){var t=e.rootStyles;return t}),qoe=function(e,t){var n=e.children,r=e.open,i=e.openWhenCollapsed,s=e.firstLevel,o=e.collapsed,a=e.defaultOpen,l=Xh(e,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),c=_F().transitionDuration,d=ue.useState(a)[0];return ue.createElement($oe,$r({"data-testid":"".concat(On.subMenuContent,"-test-id"),ref:t,firstLevel:s,collapsed:o,open:r,openWhenCollapsed:i,transitionDuration:c,defaultOpen:d},l),ue.createElement(d9,null,n))},Koe=ue.forwardRef(qoe),dV,f9=Ii.span(hV||(hV=ps([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(e){var t=e.rootStyles;return t}),hV,p9=Ii.span(fV||(fV=ps([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 10px;":"margin-right: 10px;"},function(e){var t=e.rootStyles;return t}),fV,g9=Ii.span(pV||(pV=ps([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 5px;":"margin-right: 5px;"},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),pV,m9=Ii.span(gV||(gV=ps([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),gV,Yoe=Ii.span(mV||(mV=ps([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(e){var t=e.collapsed,n=e.level,r=e.rtl;return t&&n===0&&`
    position: absolute;
    `.concat(r?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(e){var t=e.rootStyles;return t}),Xoe=Ii.span(vV||(vV=ps([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(e){var t=e.rtl;return t?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"}),Qoe=Ii.span(yV||(yV=ps([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),mV,vV,yV,$s="top",va="bottom",ya="right",qs="left",AF="auto",xw=[$s,va,ya,qs],Ag="start",iy="end",Joe="clippingParents",v9="viewport",B0="popper",Zoe="reference",wV=xw.reduce(function(e,t){return e.concat([t+"-"+Ag,t+"-"+iy])},[]),y9=[].concat(xw,[AF]).reduce(function(e,t){return e.concat([t,t+"-"+Ag,t+"-"+iy])},[]),eae="beforeRead",tae="read",nae="afterRead",rae="beforeMain",iae="main",sae="afterMain",oae="beforeWrite",aae="write",lae="afterWrite",cae=[eae,tae,nae,rae,iae,sae,oae,aae,lae];function Gl(e){return e?(e.nodeName||"").toLowerCase():null}function Ea(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qh(e){var t=Ea(e).Element;return e instanceof t||e instanceof Element}function ha(e){var t=Ea(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function DF(e){if(typeof ShadowRoot>"u")return!1;var t=Ea(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function uae(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!ha(s)||!Gl(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function dae(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ha(i)||!Gl(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var hae={name:"applyStyles",enabled:!0,phase:"write",fn:uae,effect:dae,requires:["computeStyles"]};function _l(e){return e.split("-")[0]}var Fh=Math.max,mS=Math.min,Dg=Math.round;function VD(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function w9(){return!/^((?!chrome|android).)*safari/i.test(VD())}function Pg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&ha(e)&&(i=e.offsetWidth>0&&Dg(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Dg(r.height)/e.offsetHeight||1);var o=Qh(e)?Ea(e):window,a=o.visualViewport,l=!w9()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,p=r.height/s;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c,x:c,y:d}}function PF(e){var t=Pg(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function C9(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&DF(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vc(e){return Ea(e).getComputedStyle(e)}function fae(e){return["table","td","th"].indexOf(Gl(e))>=0}function Rd(e){return((Qh(e)?e.ownerDocument:e.document)||window.document).documentElement}function Z1(e){return Gl(e)==="html"?e:e.assignedSlot||e.parentNode||(DF(e)?e.host:null)||Rd(e)}function CV(e){return!ha(e)||Vc(e).position==="fixed"?null:e.offsetParent}function pae(e){var t=/firefox/i.test(VD()),n=/Trident/i.test(VD());if(n&&ha(e)){var r=Vc(e);if(r.position==="fixed")return null}var i=Z1(e);for(DF(i)&&(i=i.host);ha(i)&&["html","body"].indexOf(Gl(i))<0;){var s=Vc(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Sw(e){for(var t=Ea(e),n=CV(e);n&&fae(n)&&Vc(n).position==="static";)n=CV(n);return n&&(Gl(n)==="html"||Gl(n)==="body"&&Vc(n).position==="static")?t:n||pae(e)||t}function kF(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function mv(e,t,n){return Fh(e,mS(t,n))}function gae(e,t,n){var r=mv(e,t,n);return r>n?n:r}function b9(){return{top:0,right:0,bottom:0,left:0}}function x9(e){return Object.assign({},b9(),e)}function S9(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var mae=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,x9(typeof t!="number"?t:S9(t,xw))};function vae(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=_l(n.placement),l=kF(a),c=[qs,ya].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var f=mae(i.padding,n),p=PF(s),m=l==="y"?$s:qs,y=l==="y"?va:ya,w=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],C=o[l]-n.rects.reference[l],S=Sw(s),R=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,E=w/2-C/2,P=f[m],M=R-p[d]-f[y],A=R/2-p[d]/2+E,D=mv(P,A,M),k=l;n.modifiersData[r]=(t={},t[k]=D,t.centerOffset=D-A,t)}}function yae(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||C9(t.elements.popper,i)&&(t.elements.arrow=i))}var wae={name:"arrow",enabled:!0,phase:"main",fn:vae,effect:yae,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kg(e){return e.split("-")[1]}var Cae={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bae(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Dg(t*i)/i||0,y:Dg(n*i)/i||0}}function bV(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=o.x,m=p===void 0?0:p,y=o.y,w=y===void 0?0:y,C=typeof d=="function"?d({x:m,y:w}):{x:m,y:w};m=C.x,w=C.y;var S=o.hasOwnProperty("x"),R=o.hasOwnProperty("y"),E=qs,P=$s,M=window;if(c){var A=Sw(n),D="clientHeight",k="clientWidth";if(A===Ea(n)&&(A=Rd(n),Vc(A).position!=="static"&&a==="absolute"&&(D="scrollHeight",k="scrollWidth")),A=A,i===$s||(i===qs||i===ya)&&s===iy){P=va;var I=f&&A===M&&M.visualViewport?M.visualViewport.height:A[D];w-=I-r.height,w*=l?1:-1}if(i===qs||(i===$s||i===va)&&s===iy){E=ya;var B=f&&A===M&&M.visualViewport?M.visualViewport.width:A[k];m-=B-r.width,m*=l?1:-1}}var N=Object.assign({position:a},c&&Cae),H=d===!0?bae({x:m,y:w}):{x:m,y:w};if(m=H.x,w=H.y,l){var G;return Object.assign({},N,(G={},G[P]=R?"0":"",G[E]=S?"0":"",G.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+w+"px)":"translate3d("+m+"px, "+w+"px, 0)",G))}return Object.assign({},N,(t={},t[P]=R?w+"px":"",t[E]=S?m+"px":"",t.transform="",t))}function xae(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:_l(t.placement),variation:kg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,bV(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,bV(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Sae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xae,data:{}},Ib={passive:!0};function Eae(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Ea(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,Ib)}),a&&l.addEventListener("resize",n.update,Ib),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Ib)}),a&&l.removeEventListener("resize",n.update,Ib)}}var Tae={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Eae,data:{}},Rae={left:"right",right:"left",bottom:"top",top:"bottom"};function Ox(e){return e.replace(/left|right|bottom|top/g,function(t){return Rae[t]})}var _ae={start:"end",end:"start"};function xV(e){return e.replace(/start|end/g,function(t){return _ae[t]})}function FF(e){var t=Ea(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function IF(e){return Pg(Rd(e)).left+FF(e).scrollLeft}function Aae(e,t){var n=Ea(e),r=Rd(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=w9();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+IF(e),y:l}}function Dae(e){var t,n=Rd(e),r=FF(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Fh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Fh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+IF(e),l=-r.scrollTop;return Vc(i||n).direction==="rtl"&&(a+=Fh(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function MF(e){var t=Vc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function E9(e){return["html","body","#document"].indexOf(Gl(e))>=0?e.ownerDocument.body:ha(e)&&MF(e)?e:E9(Z1(e))}function vv(e,t){var n;t===void 0&&(t=[]);var r=E9(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ea(r),o=i?[s].concat(s.visualViewport||[],MF(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(vv(Z1(o)))}function HD(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Pae(e,t){var n=Pg(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function SV(e,t,n){return t===v9?HD(Aae(e,n)):Qh(t)?Pae(t,n):HD(Dae(Rd(e)))}function kae(e){var t=vv(Z1(e)),n=["absolute","fixed"].indexOf(Vc(e).position)>=0,r=n&&ha(e)?Sw(e):e;return Qh(r)?t.filter(function(i){return Qh(i)&&C9(i,r)&&Gl(i)!=="body"}):[]}function Fae(e,t,n,r){var i=t==="clippingParents"?kae(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var d=SV(e,c,r);return l.top=Fh(d.top,l.top),l.right=mS(d.right,l.right),l.bottom=mS(d.bottom,l.bottom),l.left=Fh(d.left,l.left),l},SV(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function T9(e){var t=e.reference,n=e.element,r=e.placement,i=r?_l(r):null,s=r?kg(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case $s:l={x:o,y:t.y-n.height};break;case va:l={x:o,y:t.y+t.height};break;case ya:l={x:t.x+t.width,y:a};break;case qs:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?kF(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case Ag:l[c]=l[c]-(t[d]/2-n[d]/2);break;case iy:l[c]=l[c]+(t[d]/2-n[d]/2);break}}return l}function sy(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?Joe:a,c=n.rootBoundary,d=c===void 0?v9:c,f=n.elementContext,p=f===void 0?B0:f,m=n.altBoundary,y=m===void 0?!1:m,w=n.padding,C=w===void 0?0:w,S=x9(typeof C!="number"?C:S9(C,xw)),R=p===B0?Zoe:B0,E=e.rects.popper,P=e.elements[y?R:p],M=Fae(Qh(P)?P:P.contextElement||Rd(e.elements.popper),l,d,o),A=Pg(e.elements.reference),D=T9({reference:A,element:E,placement:i}),k=HD(Object.assign({},E,D)),I=p===B0?k:A,B={top:M.top-I.top+S.top,bottom:I.bottom-M.bottom+S.bottom,left:M.left-I.left+S.left,right:I.right-M.right+S.right},N=e.modifiersData.offset;if(p===B0&&N){var H=N[i];Object.keys(B).forEach(function(G){var oe=[ya,va].indexOf(G)>=0?1:-1,le=[$s,va].indexOf(G)>=0?"y":"x";B[G]+=H[le]*oe})}return B}function Iae(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?y9:l,d=kg(r),f=d?a?wV:wV.filter(function(y){return kg(y)===d}):xw,p=f.filter(function(y){return c.indexOf(y)>=0});p.length===0&&(p=f);var m=p.reduce(function(y,w){return y[w]=sy(e,{placement:w,boundary:i,rootBoundary:s,padding:o})[_l(w)],y},{});return Object.keys(m).sort(function(y,w){return m[y]-m[w]})}function Mae(e){if(_l(e)===AF)return[];var t=Ox(e);return[xV(e),t,xV(t)]}function Oae(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,w=n.allowedAutoPlacements,C=t.options.placement,S=_l(C),R=S===C,E=l||(R||!y?[Ox(C)]:Mae(C)),P=[C].concat(E).reduce(function(X,te){return X.concat(_l(te)===AF?Iae(t,{placement:te,boundary:d,rootBoundary:f,padding:c,flipVariations:y,allowedAutoPlacements:w}):te)},[]),M=t.rects.reference,A=t.rects.popper,D=new Map,k=!0,I=P[0],B=0;B<P.length;B++){var N=P[B],H=_l(N),G=kg(N)===Ag,oe=[$s,va].indexOf(H)>=0,le=oe?"width":"height",Z=sy(t,{placement:N,boundary:d,rootBoundary:f,altBoundary:p,padding:c}),se=oe?G?ya:qs:G?va:$s;M[le]>A[le]&&(se=Ox(se));var fe=Ox(se),ne=[];if(s&&ne.push(Z[H]<=0),a&&ne.push(Z[se]<=0,Z[fe]<=0),ne.every(function(X){return X})){I=N,k=!1;break}D.set(N,ne)}if(k)for(var L=y?3:1,ae=function(te){var he=P.find(function(Be){var Fe=D.get(Be);if(Fe)return Fe.slice(0,te).every(function(_e){return _e})});if(he)return I=he,"break"},W=L;W>0;W--){var V=ae(W);if(V==="break")break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}}var Lae={name:"flip",enabled:!0,phase:"main",fn:Oae,requiresIfExists:["offset"],data:{_skip:!1}};function EV(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function TV(e){return[$s,ya,va,qs].some(function(t){return e[t]>=0})}function Nae(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=sy(t,{elementContext:"reference"}),a=sy(t,{altBoundary:!0}),l=EV(o,r),c=EV(a,i,s),d=TV(l),f=TV(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var Bae={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Nae};function Vae(e,t,n){var r=_l(e),i=[qs,$s].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[qs,ya].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Hae(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=y9.reduce(function(d,f){return d[f]=Vae(f,t.rects,s),d},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var Gae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Hae};function Uae(e){var t=e.state,n=e.name;t.modifiersData[n]=T9({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var zae={name:"popperOffsets",enabled:!0,phase:"read",fn:Uae,data:{}};function jae(e){return e==="x"?"y":"x"}function Wae(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,m=p===void 0?!0:p,y=n.tetherOffset,w=y===void 0?0:y,C=sy(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),S=_l(t.placement),R=kg(t.placement),E=!R,P=kF(S),M=jae(P),A=t.modifiersData.popperOffsets,D=t.rects.reference,k=t.rects.popper,I=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,B=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(A){if(s){var G,oe=P==="y"?$s:qs,le=P==="y"?va:ya,Z=P==="y"?"height":"width",se=A[P],fe=se+C[oe],ne=se-C[le],L=m?-k[Z]/2:0,ae=R===Ag?D[Z]:k[Z],W=R===Ag?-k[Z]:-D[Z],V=t.elements.arrow,X=m&&V?PF(V):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:b9(),he=te[oe],Be=te[le],Fe=mv(0,D[Z],X[Z]),_e=E?D[Z]/2-L-Fe-he-B.mainAxis:ae-Fe-he-B.mainAxis,Pe=E?-D[Z]/2+L+Fe+Be+B.mainAxis:W+Fe+Be+B.mainAxis,nt=t.elements.arrow&&Sw(t.elements.arrow),re=nt?P==="y"?nt.clientTop||0:nt.clientLeft||0:0,St=(G=N?.[P])!=null?G:0,ze=se+_e-St-re,Je=se+Pe-St,et=mv(m?mS(fe,ze):fe,se,m?Fh(ne,Je):ne);A[P]=et,H[P]=et-se}if(a){var Me,ft=P==="x"?$s:qs,kt=P==="x"?va:ya,Ct=A[M],It=M==="y"?"height":"width",Vt=Ct+C[ft],Kt=Ct-C[kt],Jt=[$s,qs].indexOf(S)!==-1,An=(Me=N?.[M])!=null?Me:0,ve=Jt?Vt:Ct-D[It]-k[It]-An+B.altAxis,Le=Jt?Ct+D[It]+k[It]-An-B.altAxis:Kt,Xe=m&&Jt?gae(ve,Ct,Le):mv(m?ve:Vt,Ct,m?Le:Kt);A[M]=Xe,H[M]=Xe-Ct}t.modifiersData[r]=H}}var $ae={name:"preventOverflow",enabled:!0,phase:"main",fn:Wae,requiresIfExists:["offset"]};function qae(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Kae(e){return e===Ea(e)||!ha(e)?FF(e):qae(e)}function Yae(e){var t=e.getBoundingClientRect(),n=Dg(t.width)/e.offsetWidth||1,r=Dg(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Xae(e,t,n){n===void 0&&(n=!1);var r=ha(t),i=ha(t)&&Yae(t),s=Rd(t),o=Pg(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Gl(t)!=="body"||MF(s))&&(a=Kae(t)),ha(t)?(l=Pg(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=IF(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Qae(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function Jae(e){var t=Qae(e);return cae.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Zae(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ele(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var RV={placement:"bottom",modifiers:[],strategy:"absolute"};function _V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function tle(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?RV:i;return function(a,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},RV,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,m={state:d,setOptions:function(S){var R=typeof S=="function"?S(d.options):S;w(),d.options=Object.assign({},s,d.options,R),d.scrollParents={reference:Qh(a)?vv(a):a.contextElement?vv(a.contextElement):[],popper:vv(l)};var E=Jae(ele([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(P){return P.enabled}),y(),m.update()},forceUpdate:function(){if(!p){var S=d.elements,R=S.reference,E=S.popper;if(_V(R,E)){d.rects={reference:Xae(R,Sw(E),d.options.strategy==="fixed"),popper:PF(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(B){return d.modifiersData[B.name]=Object.assign({},B.data)});for(var P=0;P<d.orderedModifiers.length;P++){if(d.reset===!0){d.reset=!1,P=-1;continue}var M=d.orderedModifiers[P],A=M.fn,D=M.options,k=D===void 0?{}:D,I=M.name;typeof A=="function"&&(d=A({state:d,options:k,name:I,instance:m})||d)}}}},update:Zae(function(){return new Promise(function(C){m.forceUpdate(),C(d)})}),destroy:function(){w(),p=!0}};if(!_V(a,l))return m;m.setOptions(c).then(function(C){!p&&c.onFirstUpdate&&c.onFirstUpdate(C)});function y(){d.orderedModifiers.forEach(function(C){var S=C.name,R=C.options,E=R===void 0?{}:R,P=C.effect;if(typeof P=="function"){var M=P({state:d,name:S,instance:m,options:E}),A=function(){};f.push(M||A)}})}function w(){f.forEach(function(C){return C()}),f=[]}return m}}var nle=[Tae,zae,Sae,hae,Gae,Lae,$ae,wae,Bae],rle=tle({defaultModifiers:nle}),ile=function(e){var t=e.level,n=e.buttonRef,r=e.contentRef,i=ue.useContext(J1),s=i.collapsed,o=i.toggled,a=i.transitionDuration,l=ue.useRef();return ue.useEffect(function(){return t===0&&s&&r.current&&n.current&&(l.current=rle(n.current,r.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var c;return(c=l.current)===null||c===void 0?void 0:c.destroy()}},[t,s,r,n]),ue.useEffect(function(){if(r.current&&n.current){var c=new ResizeObserver(function(){var d;(d=l.current)===null||d===void 0||d.update()});c.observe(r.current),c.observe(n.current)}setTimeout(function(){var d;(d=l.current)===null||d===void 0||d.update()},a)},[a,o,r,n]),{popperInstance:l.current}},R9=function(e){var t=e.rtl,n=e.level,r=e.collapsed,i=e.disabled,s=e.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(t?`padding-left: 20px;
           padding-right: `.concat(n===0?20:(r?n:n+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(n===0?20:(r?n:n+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(i&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(s&&"background-color: #e2eef9;",`
  
  `)},sle=function(e,t){var n=e.className,r=e.component,i=e.children,s=Xh(e,["className","component","children"]);if(r){if(typeof r=="string")return ue.createElement(r,$r($r({className:gi(n)},s),{ref:t}),i);var o=r.props,a=o.className,l=Xh(o,["className"]);return ue.cloneElement(r,$r($r($r({className:gi(n,a)},s),l),{ref:t}),i)}else return ue.createElement("a",$r({ref:t,className:gi(n)},s),i)},_9=ue.forwardRef(sle),ole=Ii.li(DV||(DV=ps([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},On.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return R9({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),ale=function(e,t){var n,r=e.children,i=e.className,s=e.label,o=e.icon,a=e.title,l=e.prefix,c=e.suffix,d=e.open,f=e.defaultOpen,p=e.active,m=p===void 0?!1:p,y=e.disabled,w=y===void 0?!1:y,C=e.rootStyles,S=e.component,R=e.onOpenChange,E=e.onClick,P=e.onKeyUp,M=Xh(e,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),A=ue.useContext(gS),D=ue.useContext(J1),k=D.collapsed,I=D.rtl,B=D.transitionDuration,N=_F(),H=N.renderExpandIcon,G=N.closeOnClick,oe=N.menuItemStyles,le=N.transitionDuration,Z=ue.useState(!!f),se=Z[0],fe=Z[1],ne=ue.useState(!1),L=ne[0],ae=ne[1],W=ue.useState(!1),V=W[0],X=W[1],te=ue.useRef(null),he=ue.useRef(null),Be=ue.useRef(),Fe=ile({level:A,buttonRef:te,contentRef:he}).popperInstance,_e=ue.useCallback(function(){var et,Me=he.current;if(Me){var ft=(et=Me?.querySelector(".".concat(On.subMenuContent," > ul")))===null||et===void 0?void 0:et.clientHeight;Me.style.overflow="hidden",Me.style.height="".concat(ft,"px"),Be.current=setTimeout(function(){Me.style.overflow="auto",Me.style.height="auto"},le)}},[le]),Pe=function(){var et,Me=he.current;if(Me){var ft=(et=Me?.querySelector(".".concat(On.subMenuContent," > ul")))===null||et===void 0?void 0:et.clientHeight;Me.style.overflow="hidden",Me.style.height="".concat(ft,"px"),Me.offsetHeight,Me.style.height="0px"}},nt=function(){A===0&&k||(typeof d>"u"?(clearTimeout(Number(Be.current)),se?Pe():_e(),R?.(!se),fe(!se)):R?.(!d))};ue.useEffect(function(){!(A===0&&k)&&typeof d<"u"&&V&&(clearTimeout(Number(Be.current)),d?_e():Pe())},[k,_e,s,A,R,d]);var re=function(et){E?.(et),nt()},St=function(et){P?.(et),et.key==="Enter"&&nt()},ze=function(et){if(oe){var Me={level:A,disabled:w,active:m,isSubmenu:!0,open:d??se},ft=oe.root,kt=oe.button,Ct=oe.label,It=oe.icon,Vt=oe.prefix,Kt=oe.suffix,Jt=oe.subMenuContent,An=oe.SubMenuExpandIcon;switch(et){case"root":return typeof ft=="function"?ft(Me):ft;case"button":return typeof kt=="function"?kt(Me):kt;case"label":return typeof Ct=="function"?Ct(Me):Ct;case"icon":return typeof It=="function"?It(Me):It;case"prefix":return typeof Vt=="function"?Vt(Me):Vt;case"suffix":return typeof Kt=="function"?Kt(Me):Kt;case"SubMenuExpandIcon":return typeof An=="function"?An(Me):An;case"subMenuContent":return typeof Jt=="function"?Jt(Me):Jt;default:return}}};ue.useEffect(function(){setTimeout(function(){return Fe?.update()},B),k&&A===0&&ae(!1)},[k,A,I,B,Fe]),ue.useEffect(function(){var et=function(Ct){var It,Vt,Kt;!L&&(!((It=te.current)===null||It===void 0)&&It.contains(Ct))?ae(!0):(G&&!(!((Vt=Ct.closest(".".concat(On.menuItemRoot)))===null||Vt===void 0)&&Vt.classList.contains(On.subMenuRoot))||!(!((Kt=he.current)===null||Kt===void 0)&&Kt.contains(Ct))&&L)&&ae(!1)},Me=function(Ct){et(Ct.target)},ft=function(Ct){Ct.key==="Enter"?et(Ct.target):Ct.key==="Escape"&&ae(!1)},kt=function(){document.removeEventListener("click",Me),document.removeEventListener("keyup",ft)};return kt(),k&&A===0&&(document.addEventListener("click",Me,!1),document.addEventListener("keyup",ft,!1)),function(){kt()}},[k,A,G,L]),ue.useEffect(function(){X(!0)},[]);var Je=(n={},n[On.active]=m,n[On.disabled]=w,n[On.open]=d??se,n);return ue.createElement(ole,{ref:t,className:gi(On.menuItemRoot,On.subMenuRoot,Je,i),menuItemStyles:ze("root"),level:A,collapsed:k,rtl:I,disabled:w,active:m,buttonStyles:ze("button"),rootStyles:C},ue.createElement(_9,$r({"data-testid":"".concat(On.button,"-test-id"),ref:te,title:a,className:gi(On.button,Je),onClick:re,onKeyUp:St,component:S,tabIndex:0},M),o&&ue.createElement(p9,{rtl:I,className:gi(On.icon,Je),rootStyles:ze("icon")},o),l&&ue.createElement(g9,{collapsed:k,transitionDuration:B,firstLevel:A===0,className:gi(On.prefix,Je),rtl:I,rootStyles:ze("prefix")},l),ue.createElement(f9,{className:gi(On.label,Je),rootStyles:ze("label")},s),c&&ue.createElement(m9,{collapsed:k,transitionDuration:B,firstLevel:A===0,className:gi(On.suffix,Je),rootStyles:ze("suffix")},c),ue.createElement(Yoe,{rtl:I,className:gi(On.SubMenuExpandIcon,Je),collapsed:k,level:A,rootStyles:ze("SubMenuExpandIcon")},H?H({level:A,disabled:w,active:m,open:d??se}):k&&A===0?ue.createElement(Qoe,null):ue.createElement(Xoe,{rtl:I,open:d??se}))),ue.createElement(Koe,{ref:he,openWhenCollapsed:L,open:d??se,firstLevel:A===0,collapsed:k,defaultOpen:d&&!V||f,className:gi(On.subMenuContent,Je),rootStyles:ze("subMenuContent")},ue.createElement(gS.Provider,{value:A+1},r)))},AV=ue.forwardRef(ale),DV,lle=Ii.li(PV||(PV=ps([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},On.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return R9({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),cle=function(e,t){var n,r=e.children,i=e.icon,s=e.className,o=e.prefix,a=e.suffix,l=e.active,c=l===void 0?!1:l,d=e.disabled,f=d===void 0?!1:d,p=e.component,m=e.rootStyles,y=Xh(e,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),w=ue.useContext(gS),C=ue.useContext(J1),S=C.collapsed,R=C.rtl,E=C.transitionDuration,P=_F().menuItemStyles,M=function(D){if(P){var k={level:w,disabled:f,active:c,isSubmenu:!1},I=P.root,B=P.button,N=P.label,H=P.icon,G=P.prefix,oe=P.suffix;switch(D){case"root":return typeof I=="function"?I(k):I;case"button":return typeof B=="function"?B(k):B;case"label":return typeof N=="function"?N(k):N;case"icon":return typeof H=="function"?H(k):H;case"prefix":return typeof G=="function"?G(k):G;case"suffix":return typeof oe=="function"?oe(k):oe;default:return}}},A=(n={},n[On.active]=c,n[On.disabled]=f,n);return ue.createElement(lle,{ref:t,className:gi(On.menuItemRoot,A,s),menuItemStyles:M("root"),level:w,collapsed:S,rtl:R,disabled:f,active:c,buttonStyles:M("button"),rootStyles:m},ue.createElement(_9,$r({className:gi(On.button,A),"data-testid":"".concat(On.button,"-test-id"),component:p,tabIndex:0},y),i&&ue.createElement(p9,{rtl:R,className:gi(On.icon,A),rootStyles:M("icon")},i),o&&ue.createElement(g9,{collapsed:S,transitionDuration:E,firstLevel:w===0,className:gi(On.prefix,A),rtl:R,rootStyles:M("prefix")},o),ue.createElement(f9,{className:gi(On.label,A),rootStyles:M("label")},r),a&&ue.createElement(m9,{collapsed:S,transitionDuration:E,firstLevel:w===0,className:gi(On.suffix,A),rootStyles:M("suffix")},a)))},ll=ue.forwardRef(cle),PV,ule=function(e){var t=e.children;return console.warn("ProSidebarProvider is deprecated and will be removed in the next major release."),ue.createElement(Ooe,null,t)},dle=function(){var e=u9();if(e===void 0)throw new Error("useProSidebar must be used within a ProSidebarProvider. Please wrap your component with a ProSidebarProvider to use this hook.");var t=ue.useCallback(function(r){r===void 0?e.updateCollapseState():e.updateSidebarState({collapsed:r})},[e.updateCollapseState,e.updateSidebarState]),n=ue.useCallback(function(r){r===void 0?e.updateToggleState():e.updateSidebarState({toggled:r})},[e.updateToggleState,e.updateSidebarState]);return ue.useEffect(function(){console.warn("useProSidebar is deprecated and will be removed in the next major release. Please use Sidebar props instead.")},[]),{collapseSidebar:t,toggleSidebar:n,collapsed:!!e.collapsed,broken:!!e.broken,toggled:!!e.toggled,rtl:!!e.rtl}},A_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var kV;function hle(){return kV||(kV=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(A_)),A_.exports}var fle=hle();const Tt=rm(fle);function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(null,arguments)}function A9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FV(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ple(e){var t=gle(e,"string");return typeof t=="symbol"?t:String(t)}function gle(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mle(e,t,n){var r=T.useRef(e!==void 0),i=T.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,T.useCallback(function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];n&&n.apply(void 0,[c].concat(f)),o(c)},[n])]}function OF(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[FV(r)],a=s[r],l=A9(s,[FV(r),r].map(ple)),c=t[r],d=mle(a,o,e[c]),f=d[0],p=d[1];return oy({},l,(i={},i[r]=f,i[c]=p,i))},e)}function GD(e,t){return GD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},GD(e,t)}function vle(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,GD(e,t)}const yle=["xxl","xl","lg","md","sm","xs"],wle="xs",Ew=T.createContext({prefixes:{},breakpoints:yle,minBreakpoint:wle}),{Consumer:prt,Provider:grt}=Ew;function Lt(e,t){const{prefixes:n}=T.useContext(Ew);return e||n[t]||t}function D9(){const{breakpoints:e}=T.useContext(Ew);return e}function P9(){const{minBreakpoint:e}=T.useContext(Ew);return e}function Cle(){const{dir:e}=T.useContext(Ew);return e==="rtl"}function eE(e){return e&&e.ownerDocument||document}function ble(e){var t=eE(e);return t&&t.defaultView||window}function xle(e,t){return ble(e).getComputedStyle(e,t)}var Sle=/([A-Z])/g;function Ele(e){return e.replace(Sle,"-$1").toLowerCase()}var Tle=/^ms-/;function Mb(e){return Ele(e).replace(Tle,"-ms-")}var Rle=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _le(e){return!!(e&&Rle.test(e))}function Dc(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Mb(t))||xle(e).getPropertyValue(Mb(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(Mb(i)):_le(i)?r+=i+"("+s+") ":n+=Mb(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var D_={exports:{}},P_,IV;function Ale(){if(IV)return P_;IV=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P_=e,P_}var k_,MV;function Dle(){if(MV)return k_;MV=1;var e=Ale();function t(){}function n(){}return n.resetWarningCache=t,k_=function(){function r(o,a,l,c,d,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},k_}var OV;function Ple(){return OV||(OV=1,D_.exports=Dle()()),D_.exports}var kle=Ple();const Pc=rm(kle),LV={disabled:!1},k9=ue.createContext(null);var Fle=function(t){return t.scrollTop},tv="unmounted",Nu="exited",Fa="entering",Ec="entered",ay="exiting",Zc=function(e){vle(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Nu,s.appearStatus=Fa):l=Ec:r.unmountOnExit||r.mountOnEnter?l=tv:l=Nu,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===tv?{status:Nu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Fa&&o!==Ec&&(s=Fa):(o===Fa||o===Ec)&&(s=ay)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Fa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:qu.findDOMNode(this);o&&Fle(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nu&&this.setState({status:tv})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qu.findDOMNode(this),a],c=l[0],d=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||LV.disabled){this.safeSetState({status:Ec},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Fa},function(){s.props.onEntering(c,d),s.onTransitionEnd(p,function(){s.safeSetState({status:Ec},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:qu.findDOMNode(this);if(!s||LV.disabled){this.safeSetState({status:Nu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ay},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Nu},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:qu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===tv)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=A9(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ue.createElement(k9.Provider,{value:null},typeof o=="function"?o(i,a):ue.cloneElement(ue.Children.only(o),a))},t}(ue.Component);Zc.contextType=k9;Zc.propTypes={};function Ap(){}Zc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ap,onEntering:Ap,onEntered:Ap,onExit:Ap,onExiting:Ap,onExited:Ap};Zc.UNMOUNTED=tv;Zc.EXITED=Nu;Zc.ENTERING=Fa;Zc.ENTERED=Ec;Zc.EXITING=ay;function Ile(e){return e.code==="Escape"||e.keyCode===27}function Mle(){const e=T.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function am(e){if(!e||typeof e=="function")return null;const{major:t}=Mle();return t>=19?e.props.ref:e.ref}const lm=!!(typeof window<"u"&&window.document&&window.document.createElement);var UD=!1,zD=!1;try{var F_={get passive(){return UD=!0},get once(){return zD=UD=!0}};lm&&(window.addEventListener("test",F_,F_),window.removeEventListener("test",F_,!0))}catch{}function F9(e,t,n,r){if(r&&typeof r!="boolean"&&!zD){var i=r.once,s=r.capture,o=n;!zD&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,UD?r:s)}e.addEventListener(t,n,r)}function jD(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function vS(e,t,n,r){return F9(e,t,n,r),function(){jD(e,t,n,r)}}function Ole(e,t,n,r){if(r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function Lle(e){var t=Dc(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function Nle(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||Ole(e,"transitionend",!0)},t+n),s=vS(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function I9(e,t,n,r){n==null&&(n=Lle(e)||0);var i=Nle(e,n,r),s=vS(e,"transitionend",t);return function(){i(),s()}}function NV(e,t){const n=Dc(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function LF(e,t){const n=NV(e,"transitionDuration"),r=NV(e,"transitionDelay"),i=I9(e,s=>{s.target===e&&(i(),t(s))},n+r)}function V0(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function M9(e){e.offsetHeight}const BV=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Ble(e,t){const n=BV(e),r=BV(t);return i=>{n&&n(i),r&&r(i)}}function O9(e,t){return T.useMemo(()=>Ble(e,t),[e,t])}function Vle(e){return e&&"setState"in e?qu.findDOMNode(e):e??null}const tE=ue.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},d)=>{const f=T.useRef(null),p=O9(f,l),m=A=>{p(Vle(A))},y=A=>D=>{A&&f.current&&A(f.current,D)},w=T.useCallback(y(e),[e]),C=T.useCallback(y(t),[t]),S=T.useCallback(y(n),[n]),R=T.useCallback(y(r),[r]),E=T.useCallback(y(i),[i]),P=T.useCallback(y(s),[s]),M=T.useCallback(y(o),[o]);return F.jsx(Zc,{ref:d,...c,onEnter:w,onEntered:S,onEntering:C,onExit:R,onExited:P,onExiting:E,addEndListener:M,nodeRef:f,children:typeof a=="function"?(A,D)=>a(A,{...D,ref:m}):ue.cloneElement(a,{ref:m})})});tE.displayName="TransitionWrapper";const Hle={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Gle(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=Hle[e];return r+parseInt(Dc(t,i[0]),10)+parseInt(Dc(t,i[1]),10)}const Ule={[Nu]:"collapse",[ay]:"collapsing",[Fa]:"collapsing",[Ec]:"collapse show"},L9=ue.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:p=!1,getDimensionValue:m=Gle,...y},w)=>{const C=typeof a=="function"?a():a,S=T.useMemo(()=>V0(A=>{A.style[C]="0"},e),[C,e]),R=T.useMemo(()=>V0(A=>{const D=`scroll${C[0].toUpperCase()}${C.slice(1)}`;A.style[C]=`${A[D]}px`},t),[C,t]),E=T.useMemo(()=>V0(A=>{A.style[C]=null},n),[C,n]),P=T.useMemo(()=>V0(A=>{A.style[C]=`${m(C,A)}px`,M9(A)},r),[r,m,C]),M=T.useMemo(()=>V0(A=>{A.style[C]=null},i),[C,i]);return F.jsx(tE,{ref:w,addEndListener:LF,...y,"aria-expanded":y.role?l:null,onEnter:S,onEntering:R,onEntered:E,onExit:P,onExiting:M,childRef:am(o),in:l,timeout:c,mountOnEnter:d,unmountOnExit:f,appear:p,children:(A,D)=>ue.cloneElement(o,{...D,className:Tt(s,o.props.className,Ule[A],C==="width"&&"collapse-horizontal")})})});L9.displayName="Collapse";function zle(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e},[e]),t}function ad(e){const t=zle(e);return T.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Tw=e=>T.forwardRef((t,n)=>F.jsx("div",{...t,ref:n,className:Tt(t.className,e)})),N9=Tw("h4");N9.displayName="DivStyledAsH4";const B9=T.forwardRef(({className:e,bsPrefix:t,as:n=N9,...r},i)=>(t=Lt(t,"alert-heading"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));B9.displayName="AlertHeading";function jle(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e},[e]),t}function Tc(e){const t=jle(e);return T.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Wle(){const e=T.useRef(!0),t=T.useRef(()=>e.current);return T.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function $le(e){const t=T.useRef(null);return T.useEffect(()=>{t.current=e}),t.current}const qle=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Kle=typeof document<"u",VV=Kle||qle?T.useLayoutEffect:T.useEffect,Yle=["as","disabled"];function Xle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qle(e){return!e||e.trim()==="#"}function NF({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||r!=null||i!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},c];const d=p=>{if((t||e==="a"&&Qle(n))&&p.preventDefault(),t){p.stopPropagation();return}o?.(p)},f=p=>{p.key===" "&&(p.preventDefault(),d(p))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:d,onKeyDown:f},c]}const V9=T.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=Xle(e,Yle);const[s,{tagName:o}]=NF(Object.assign({tagName:n,disabled:r},i));return F.jsx(o,Object.assign({},i,s,{ref:t}))});V9.displayName="Button";const Jle=["onKeyDown"];function Zle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ece(e){return!e||e.trim()==="#"}const H9=T.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=Zle(e,Jle);const[i]=NF(Object.assign({tagName:"a"},r)),s=Tc(o=>{i.onKeyDown(o),n?.(o)});return ece(r.href)||r.role==="button"?F.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:s})):F.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});H9.displayName="Anchor";const G9=T.forwardRef(({className:e,bsPrefix:t,as:n=H9,...r},i)=>(t=Lt(t,"alert-link"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));G9.displayName="AlertLink";const tce={[Fa]:"show",[Ec]:"show"},Fg=T.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=T.useCallback((l,c)=>{M9(l),r?.(l,c)},[r]);return F.jsx(tE,{ref:s,addEndListener:LF,...o,onEnter:a,childRef:am(t),children:(l,c)=>T.cloneElement(t,{...c,className:Tt("fade",e,t.props.className,tce[l],n[l])})})});Fg.displayName="Fade";const nce={"aria-label":Pc.string,onClick:Pc.func,variant:Pc.oneOf(["white"])},nE=T.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>F.jsx("button",{ref:i,type:"button",className:Tt("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));nE.displayName="CloseButton";nE.propTypes=nce;const U9=T.forwardRef((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:d,transition:f=Fg,...p}=OF(e,{show:"onClose"}),m=Lt(n,"alert"),y=ad(S=>{c&&c(!1,S)}),w=f===!0?Fg:f,C=F.jsxs("div",{role:"alert",...w?void 0:p,ref:t,className:Tt(o,m,l&&`${m}-${l}`,d&&`${m}-dismissible`),children:[d&&F.jsx(nE,{onClick:y,"aria-label":i,variant:s}),a]});return w?F.jsx(w,{unmountOnExit:!0,...p,ref:void 0,in:r,children:C}):r?C:null});U9.displayName="Alert";const yS=Object.assign(U9,{Link:G9,Heading:B9}),WD=T.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:i,as:s="span",...o},a)=>{const l=Lt(e,"badge");return F.jsx(s,{ref:a,...o,className:Tt(i,l,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});WD.displayName="Badge";const Tr=T.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=Lt(t,"btn"),[d,{tagName:f}]=NF({tagName:e,disabled:s,...a}),p=f;return F.jsx(p,{...d,...a,ref:l,disabled:s,className:Tt(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});Tr.displayName="Button";const BF=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Lt(t,"card-body"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));BF.displayName="CardBody";const z9=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Lt(t,"card-footer"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));z9.displayName="CardFooter";const j9=T.createContext(null);j9.displayName="CardHeaderContext";const W9=T.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Lt(e,"card-header"),o=T.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return F.jsx(j9.Provider,{value:o,children:F.jsx(n,{ref:i,...r,className:Tt(t,s)})})});W9.displayName="CardHeader";const $9=T.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},s)=>{const o=Lt(e,"card-img");return F.jsx(r,{ref:s,className:Tt(n?`${o}-${n}`:o,t),...i})});$9.displayName="CardImg";const q9=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Lt(t,"card-img-overlay"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));q9.displayName="CardImgOverlay";const K9=T.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},i)=>(t=Lt(t,"card-link"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));K9.displayName="CardLink";const rce=Tw("h6"),Y9=T.forwardRef(({className:e,bsPrefix:t,as:n=rce,...r},i)=>(t=Lt(t,"card-subtitle"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));Y9.displayName="CardSubtitle";const X9=T.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},i)=>(t=Lt(t,"card-text"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));X9.displayName="CardText";const ice=Tw("h5"),Q9=T.forwardRef(({className:e,bsPrefix:t,as:n=ice,...r},i)=>(t=Lt(t,"card-title"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));Q9.displayName="CardTitle";const J9=T.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const d=Lt(e,"card");return F.jsx(a,{ref:c,...l,className:Tt(t,d,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?F.jsx(BF,{children:o}):o})});J9.displayName="Card";const rr=Object.assign(J9,{Img:$9,Title:Q9,Subtitle:Y9,Body:BF,Link:K9,Text:X9,Header:W9,Footer:z9,ImgOverlay:q9});function sce(e){const t=T.useRef(e);return t.current=e,t}function oce(e){const t=sce(e);T.useEffect(()=>()=>t.current(),[])}function ace(e,t){return T.Children.toArray(e).some(n=>T.isValidElement(n)&&n.type===t)}function lce({as:e,bsPrefix:t,className:n,...r}){t=Lt(t,"col");const i=D9(),s=P9(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let d,f,p;typeof c=="object"&&c!=null?{span:d,offset:f,order:p}=c:d=c;const m=l!==s?`-${l}`:"";d&&o.push(d===!0?`${t}${m}`:`${t}${m}-${d}`),p!=null&&a.push(`order${m}-${p}`),f!=null&&a.push(`offset${m}-${f}`)}),[{...r,className:Tt(n,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const Al=T.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=lce(e);return F.jsx(i,{...r,ref:t,className:Tt(n,!o.length&&s)})});Al.displayName="Col";const ly=T.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...i},s)=>{const o=Lt(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return F.jsx(n,{ref:s,...i,className:Tt(r,t?`${o}${a}`:o)})});ly.displayName="Container";var cce=Function.prototype.bind.call(Function.prototype.call,[].slice);function ph(e,t){return cce(e.querySelectorAll(t))}function uce(){const[,e]=T.useReducer(t=>t+1,0);return e}function HV(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const wS=T.createContext(null),VF=(e,t=null)=>e!=null?String(e):t||null,HF=T.createContext(null);HF.displayName="NavContext";const dce="data-rr-ui-",hce="rrUi";function rE(e){return`${dce}${e}`}function fce(e){return`${hce}${e}`}const Z9=T.createContext(lm?window:void 0);Z9.Provider;function GF(){return T.useContext(Z9)}const pce=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",gce=typeof document<"u",mce=gce||pce?T.useLayoutEffect:T.useEffect,ej=T.createContext(null);ej.displayName="InputGroupContext";const Rw=T.createContext(null);Rw.displayName="NavbarContext";const vce={type:Pc.string,tooltip:Pc.bool,as:Pc.elementType},iE=T.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},s)=>F.jsx(e,{...i,ref:s,className:Tt(t,`${n}-${r?"tooltip":"feedback"}`)}));iE.displayName="Feedback";iE.propTypes=vce;const Hc=T.createContext({}),_w=T.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=T.useContext(Hc);return t=Lt(t,"form-check-input"),F.jsx(o,{...a,ref:l,type:r,id:e||c,className:Tt(n,t,i&&"is-valid",s&&"is-invalid")})});_w.displayName="FormCheckInput";const CS=T.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},i)=>{const{controlId:s}=T.useContext(Hc);return e=Lt(e,"form-check-label"),F.jsx("label",{...r,ref:i,htmlFor:n||s,className:Tt(t,e)})});CS.displayName="FormCheckLabel";const tj=T.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:d,className:f,style:p,title:m="",type:y="checkbox",label:w,children:C,as:S="input",...R},E)=>{t=Lt(t,"form-check"),n=Lt(n,"form-switch");const{controlId:P}=T.useContext(Hc),M=T.useMemo(()=>({controlId:e||P}),[P,e]),A=!C&&w!=null&&w!==!1||ace(C,CS),D=F.jsx(_w,{...R,type:y==="switch"?"checkbox":y,ref:E,isValid:o,isInvalid:a,disabled:s,as:S});return F.jsx(Hc.Provider,{value:M,children:F.jsx("div",{style:p,className:Tt(f,A&&t,r&&`${t}-inline`,i&&`${t}-reverse`,y==="switch"&&n),children:C||F.jsxs(F.Fragment,{children:[D,A&&F.jsx(CS,{title:m,children:w}),c&&F.jsx(iE,{type:d,tooltip:l,children:c})]})})})});tj.displayName="FormCheck";const bS=Object.assign(tj,{Input:_w,Label:CS}),nj=T.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:d="input",...f},p)=>{const{controlId:m}=T.useContext(Hc);return e=Lt(e,"form-control"),F.jsx(d,{...f,type:t,size:r,ref:p,readOnly:c,id:i||m,className:Tt(s,l?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",a&&"is-invalid")})});nj.displayName="FormControl";const yce=Object.assign(nj,{Feedback:iE}),rj=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Lt(t,"form-floating"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));rj.displayName="FormFloating";const UF=T.forwardRef(({controlId:e,as:t="div",...n},r)=>{const i=T.useMemo(()=>({controlId:e}),[e]);return F.jsx(Hc.Provider,{value:i,children:F.jsx(t,{...n,ref:r})})});UF.displayName="FormGroup";const ij=T.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=T.useContext(Hc);t=Lt(t,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=Tt(i,t,r&&"visually-hidden",n&&c);return s=s||l,n?F.jsx(Al,{ref:a,as:"label",className:d,htmlFor:s,...o}):F.jsx(e,{ref:a,className:d,htmlFor:s,...o})});ij.displayName="FormLabel";const sj=T.forwardRef(({bsPrefix:e,className:t,id:n,...r},i)=>{const{controlId:s}=T.useContext(Hc);return e=Lt(e,"form-range"),F.jsx("input",{...r,type:"range",ref:i,className:Tt(t,e),id:n||s})});sj.displayName="FormRange";const oj=T.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=T.useContext(Hc);return e=Lt(e,"form-select"),F.jsx("select",{...a,size:n,ref:l,className:Tt(r,e,t&&`${e}-${t}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});oj.displayName="FormSelect";const aj=T.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...i},s)=>(e=Lt(e,"form-text"),F.jsx(n,{...i,ref:s,className:Tt(t,e,r&&"text-muted")})));aj.displayName="FormText";const lj=T.forwardRef((e,t)=>F.jsx(bS,{...e,ref:t,type:"switch"}));lj.displayName="Switch";const wce=Object.assign(lj,{Input:bS.Input,Label:bS.Label}),xS=T.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:i,...s},o)=>(e=Lt(e,"form-floating"),F.jsxs(UF,{ref:o,className:Tt(t,e),controlId:r,...s,children:[n,F.jsx("label",{htmlFor:r,children:i})]})));xS.displayName="FloatingLabel";const Cce={_ref:Pc.any,validated:Pc.bool,as:Pc.elementType},zF=T.forwardRef(({className:e,validated:t,as:n="form",...r},i)=>F.jsx(n,{...r,ref:i,className:Tt(e,t&&"was-validated")}));zF.displayName="Form";zF.propTypes=Cce;const kn=Object.assign(zF,{Group:UF,Control:yce,Floating:rj,Check:bS,Switch:wce,Label:ij,Text:aj,Range:sj,Select:oj,FloatingLabel:xS}),sE=T.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Lt(t,"input-group-text"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));sE.displayName="InputGroupText";const bce=e=>F.jsx(sE,{children:F.jsx(_w,{type:"checkbox",...e})}),xce=e=>F.jsx(sE,{children:F.jsx(_w,{type:"radio",...e})}),cj=T.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:r,as:i="div",...s},o)=>{e=Lt(e,"input-group");const a=T.useMemo(()=>({}),[]);return F.jsx(ej.Provider,{value:a,children:F.jsx(i,{ref:o,...s,className:Tt(r,e,t&&`${e}-${t}`,n&&"has-validation")})})});cj.displayName="InputGroup";const Eh=Object.assign(cj,{Text:sE,Radio:xce,Checkbox:bce}),GV=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Sce(e,t){const n=GV(e),r=GV(t);return i=>{n&&n(i),r&&r(i)}}function oE(e,t){return T.useMemo(()=>Sce(e,t),[e,t])}const uj=T.createContext(null),Ece=["as","active","eventKey"];function Tce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dj({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=T.useContext(wS),a=T.useContext(HF),l=T.useContext(uj);let c=n;const d={role:i};if(a){!i&&a.role==="tablist"&&(d.role="tab");const f=a.getControllerId(e??null),p=a.getControlledId(e??null);d[rE("event-key")]=e,d.id=f||r,c=n==null&&e!=null?a.activeKey===e:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Tc(f=>{s||(t?.(f),e!=null&&o&&!f.isPropagationStopped()&&o(e,f))}),[d,{isActive:c}]}const hj=T.forwardRef((e,t)=>{let{as:n=V9,active:r,eventKey:i}=e,s=Tce(e,Ece);const[o,a]=dj(Object.assign({key:VF(i,s.href),active:r},s));return o[rE("active")]=a.isActive,F.jsx(n,Object.assign({},s,o,{ref:t}))});hj.displayName="NavItem";const Rce=["as","onSelect","activeKey","role","onKeyDown"];function _ce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const UV=()=>{},zV=rE("event-key"),fj=T.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,a=_ce(e,Rce);const l=uce(),c=T.useRef(!1),d=T.useContext(wS),f=T.useContext(uj);let p,m;f&&(s=s||"tablist",i=f.activeKey,p=f.getControlledId,m=f.getControllerId);const y=T.useRef(null),w=E=>{const P=y.current;if(!P)return null;const M=ph(P,`[${zV}]:not([aria-disabled=true])`),A=P.querySelector("[aria-selected=true]");if(!A||A!==document.activeElement)return null;const D=M.indexOf(A);if(D===-1)return null;let k=D+E;return k>=M.length&&(k=0),k<0&&(k=M.length-1),M[k]},C=(E,P)=>{E!=null&&(r?.(E,P),d?.(E,P))},S=E=>{if(o?.(E),!f)return;let P;switch(E.key){case"ArrowLeft":case"ArrowUp":P=w(-1);break;case"ArrowRight":case"ArrowDown":P=w(1);break;default:return}P&&(E.preventDefault(),C(P.dataset[fce("EventKey")]||null,E),c.current=!0,l())};T.useEffect(()=>{if(y.current&&c.current){const E=y.current.querySelector(`[${zV}][aria-selected=true]`);E?.focus()}c.current=!1});const R=oE(t,y);return F.jsx(wS.Provider,{value:C,children:F.jsx(HF.Provider,{value:{role:s,activeKey:VF(i),getControlledId:p||UV,getControllerId:m||UV},children:F.jsx(n,Object.assign({},a,{onKeyDown:S,ref:R,role:s}))})})});fj.displayName="Nav";const Ace=Object.assign(fj,{Item:hj}),pj=T.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},c)=>{e=Lt(e,"list-group-item");const[d,f]=dj({key:VF(r,l.href),active:t,...l}),p=ad(y=>{if(n){y.preventDefault(),y.stopPropagation();return}d.onClick(y)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const m=a||(o?l.href?"a":"button":"div");return F.jsx(m,{ref:c,...l,...d,onClick:p,className:Tt(i,e,f.isActive&&"active",n&&"disabled",s&&`${e}-${s}`,o&&`${e}-action`)})});pj.displayName="ListGroupItem";const gj=T.forwardRef((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=OF(e,{activeKey:"onSelect"}),c=Lt(r,"list-group");let d;return s&&(d=s===!0?"horizontal":`horizontal-${s}`),F.jsx(Ace,{ref:t,...l,as:a,className:Tt(n,c,i&&`${c}-${i}`,d&&`${c}-${d}`,o&&`${c}-numbered`)})});gj.displayName="ListGroup";const Ia=Object.assign(gj,{Item:pj});var Ob;function jV(e){if((!Ob&&Ob!==0||e)&&lm){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ob=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ob}function Dce(){return T.useState(null)}function I_(e){e===void 0&&(e=eE());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Pce(e){const t=T.useRef(e);return t.current=e,t}function kce(e){const t=Pce(e);T.useEffect(()=>()=>t.current(),[])}function Fce(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const WV=rE("modal-open");class jF{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Fce(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(Dc(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(WV,""),Dc(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(WV),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const M_=(e,t)=>lm?e==null?(t||eE()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Ice(e,t){const n=GF(),[r,i]=T.useState(()=>M_(e,n?.document));if(!r){const s=M_(e);s&&i(s)}return T.useEffect(()=>{},[t,r]),T.useEffect(()=>{const s=M_(e);s!==r&&i(s)},[e,r]),r}function Mce({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=T.useRef(null),o=T.useRef(t),a=Tc(n);T.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const l=oE(s,am(e)),c=T.cloneElement(e,{ref:l});return t?c:i||!o.current&&r?null:c}const Oce=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Lce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nce(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=e,c=Lce(e,Oce);const d=T.useRef(null),f=oE(d,am(l)),p=P=>M=>{P&&d.current&&P(d.current,M)},m=T.useCallback(p(t),[t]),y=T.useCallback(p(n),[n]),w=T.useCallback(p(r),[r]),C=T.useCallback(p(i),[i]),S=T.useCallback(p(s),[s]),R=T.useCallback(p(o),[o]),E=T.useCallback(p(a),[a]);return Object.assign({},c,{nodeRef:d},t&&{onEnter:m},n&&{onEntering:y},r&&{onEntered:w},i&&{onExit:C},s&&{onExiting:S},o&&{onExited:R},a&&{addEndListener:E},{children:typeof l=="function"?(P,M)=>l(P,Object.assign({},M,{ref:f})):T.cloneElement(l,{ref:f})})}const Bce=["component"];function Vce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Hce=T.forwardRef((e,t)=>{let{component:n}=e,r=Vce(e,Bce);const i=Nce(r);return F.jsx(n,Object.assign({ref:t},i))});function Gce({in:e,onTransition:t}){const n=T.useRef(null),r=T.useRef(!0),i=Tc(t);return VV(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),VV(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Uce({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=T.useState(!t);t&&s&&o(!1);const a=Gce({in:!!t,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r?.(c.element,c.initial):(o(!0),n?.(c.element)))};Promise.resolve(i(c)).then(d,f=>{throw c.in||o(!0),f})}}),l=oE(a,am(e));return s&&!t?null:T.cloneElement(e,{ref:l})}function $V(e,t,n){return e?F.jsx(Hce,Object.assign({},n,{component:e})):t?F.jsx(Uce,Object.assign({},n,{transition:t})):F.jsx(Mce,Object.assign({},n))}const zce=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function jce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let O_;function Wce(e){return O_||(O_=new jF({ownerDocument:e?.document})),O_}function $ce(e){const t=GF(),n=e||Wce(t),r=T.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:T.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:T.useCallback(i=>{r.current.backdrop=i},[])})}const mj=T.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:y,autoFocus:w=!0,enforceFocus:C=!0,restoreFocus:S=!0,restoreFocusOptions:R,renderDialog:E,renderBackdrop:P=Je=>F.jsx("div",Object.assign({},Je)),manager:M,container:A,onShow:D,onHide:k=()=>{},onExit:I,onExited:B,onExiting:N,onEnter:H,onEntering:G,onEntered:oe}=e,le=jce(e,zce);const Z=GF(),se=Ice(A),fe=$ce(M),ne=Wle(),L=$le(n),[ae,W]=T.useState(!n),V=T.useRef(null);T.useImperativeHandle(t,()=>fe,[fe]),lm&&!L&&n&&(V.current=I_(Z?.document)),n&&ae&&W(!1);const X=Tc(()=>{if(fe.add(),Pe.current=vS(document,"keydown",Fe),_e.current=vS(document,"focus",()=>setTimeout(he),!0),D&&D(),w){var Je,et;const Me=I_((Je=(et=fe.dialog)==null?void 0:et.ownerDocument)!=null?Je:Z?.document);fe.dialog&&Me&&!HV(fe.dialog,Me)&&(V.current=Me,fe.dialog.focus())}}),te=Tc(()=>{if(fe.remove(),Pe.current==null||Pe.current(),_e.current==null||_e.current(),S){var Je;(Je=V.current)==null||Je.focus==null||Je.focus(R),V.current=null}});T.useEffect(()=>{!n||!se||X()},[n,se,X]),T.useEffect(()=>{ae&&te()},[ae,te]),kce(()=>{te()});const he=Tc(()=>{if(!C||!ne()||!fe.isTopModal())return;const Je=I_(Z?.document);fe.dialog&&Je&&!HV(fe.dialog,Je)&&fe.dialog.focus()}),Be=Tc(Je=>{Je.target===Je.currentTarget&&(c?.(Je),a===!0&&k())}),Fe=Tc(Je=>{l&&Ile(Je)&&fe.isTopModal()&&(d?.(Je),Je.defaultPrevented||k())}),_e=T.useRef(),Pe=T.useRef(),nt=(...Je)=>{W(!0),B?.(...Je)};if(!se)return null;const re=Object.assign({role:r,ref:fe.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},le,{style:s,className:i,tabIndex:-1});let St=E?E(re):F.jsx("div",Object.assign({},re,{children:T.cloneElement(o,{role:"document"})}));St=$V(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:N,onExited:nt,onEnter:H,onEntering:G,onEntered:oe,children:St});let ze=null;return a&&(ze=P({ref:fe.setBackdropRef,onClick:Be}),ze=$V(m,y,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ze})),F.jsx(F.Fragment,{children:qu.createPortal(F.jsxs(F.Fragment,{children:[ze,St]}),se)})});mj.displayName="Modal";const vj=Object.assign(mj,{Manager:jF});function qce(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Kce(e,t){e.classList?e.classList.add(t):qce(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function qV(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Yce(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=qV(e.className,t):e.setAttribute("class",qV(e.className&&e.className.baseVal||"",t))}const Dp={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class yj extends jF{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,Dc(n,{[t]:`${parseFloat(Dc(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],Dc(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Kce(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ph(n,Dp.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),ph(n,Dp.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),ph(n,Dp.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Yce(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ph(n,Dp.FIXED_CONTENT).forEach(s=>this.restore(r,s)),ph(n,Dp.STICKY_CONTENT).forEach(s=>this.restore(i,s)),ph(n,Dp.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let L_;function wj(e){return L_||(L_=new yj(e)),L_}const Cj=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Lt(t,"modal-body"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));Cj.displayName="ModalBody";const WF=T.createContext({onHide(){}}),$F=T.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{e=Lt(e,"modal");const d=`${e}-dialog`,f=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return F.jsx("div",{...l,ref:c,className:Tt(d,t,i&&`${e}-${i}`,r&&`${d}-centered`,a&&`${d}-scrollable`,s&&f),children:F.jsx("div",{className:Tt(`${e}-content`,n),children:o})})});$F.displayName="ModalDialog";const bj=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Lt(t,"modal-footer"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));bj.displayName="ModalFooter";const qF=T.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=T.useContext(WF),l=ad(()=>{a?.onHide(),r?.()});return F.jsxs("div",{ref:o,...s,children:[i,n&&F.jsx(nE,{"aria-label":e,variant:t,onClick:l})]})});qF.displayName="AbstractModalHeader";const xj=T.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Lt(e,"modal-header"),F.jsx(qF,{ref:s,...i,className:Tt(t,e),closeLabel:n,closeButton:r})));xj.displayName="ModalHeader";const Xce=Tw("h4"),Sj=T.forwardRef(({className:e,bsPrefix:t,as:n=Xce,...r},i)=>(t=Lt(t,"modal-title"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));Sj.displayName="ModalTitle";function Qce(e){return F.jsx(Fg,{...e,timeout:null})}function Jce(e){return F.jsx(Fg,{...e,timeout:null})}const Ej=T.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=$F,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":c,"aria-label":d,show:f=!1,animation:p=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:w,onShow:C,onHide:S,container:R,autoFocus:E=!0,enforceFocus:P=!0,restoreFocus:M=!0,restoreFocusOptions:A,onEntered:D,onExit:k,onExiting:I,onEnter:B,onEntering:N,onExited:H,backdropClassName:G,manager:oe,...le},Z)=>{const[se,fe]=T.useState({}),[ne,L]=T.useState(!1),ae=T.useRef(!1),W=T.useRef(!1),V=T.useRef(null),[X,te]=Dce(),he=O9(Z,te),Be=ad(S),Fe=Cle();e=Lt(e,"modal");const _e=T.useMemo(()=>({onHide:Be}),[Be]);function Pe(){return oe||wj({isRTL:Fe})}function nt(ve){if(!lm)return;const Le=Pe().getScrollbarWidth()>0,Xe=ve.scrollHeight>eE(ve).documentElement.clientHeight;fe({paddingRight:Le&&!Xe?jV():void 0,paddingLeft:!Le&&Xe?jV():void 0})}const re=ad(()=>{X&&nt(X.dialog)});oce(()=>{jD(window,"resize",re),V.current==null||V.current()});const St=()=>{ae.current=!0},ze=ve=>{ae.current&&X&&ve.target===X.dialog&&(W.current=!0),ae.current=!1},Je=()=>{L(!0),V.current=I9(X.dialog,()=>{L(!1)})},et=ve=>{ve.target===ve.currentTarget&&Je()},Me=ve=>{if(m==="static"){et(ve);return}if(W.current||ve.target!==ve.currentTarget){W.current=!1;return}S?.()},ft=ve=>{y?w?.(ve):(ve.preventDefault(),m==="static"&&Je())},kt=(ve,Le)=>{ve&&nt(ve),B?.(ve,Le)},Ct=ve=>{V.current==null||V.current(),k?.(ve)},It=(ve,Le)=>{N?.(ve,Le),F9(window,"resize",re)},Vt=ve=>{ve&&(ve.style.display=""),H?.(ve),jD(window,"resize",re)},Kt=T.useCallback(ve=>F.jsx("div",{...ve,className:Tt(`${e}-backdrop`,G,!p&&"show")}),[p,G,e]),Jt={...n,...se};Jt.display="block";const An=ve=>F.jsx("div",{role:"dialog",...ve,style:Jt,className:Tt(t,e,ne&&`${e}-static`,!p&&"show"),onClick:m?Me:void 0,onMouseUp:ze,"data-bs-theme":a,"aria-label":d,"aria-labelledby":l,"aria-describedby":c,children:F.jsx(o,{...le,onMouseDown:St,className:r,contentClassName:i,children:s})});return F.jsx(WF.Provider,{value:_e,children:F.jsx(vj,{show:f,ref:he,backdrop:m,container:R,keyboard:!0,autoFocus:E,enforceFocus:P,restoreFocus:M,restoreFocusOptions:A,onEscapeKeyDown:ft,onShow:C,onHide:S,onEnter:kt,onEntering:It,onEntered:D,onExit:Ct,onExiting:I,onExited:Vt,manager:Pe(),transition:p?Qce:void 0,backdropTransition:p?Jce:void 0,renderBackdrop:Kt,renderDialog:An})})});Ej.displayName="Modal";const wr=Object.assign(Ej,{Body:Cj,Header:xj,Title:Sj,Footer:bj,Dialog:$F,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Tj=T.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=Lt(e,"navbar-brand");const s=n||(r.href?"a":"span");return F.jsx(s,{...r,ref:i,className:Tt(t,e)})});Tj.displayName="NavbarBrand";const Rj=T.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=Lt(t,"navbar-collapse");const i=T.useContext(Rw);return F.jsx(L9,{in:!!(i&&i.expanded),...n,children:F.jsx("div",{ref:r,className:t,children:e})})});Rj.displayName="NavbarCollapse";const _j=T.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{e=Lt(e,"navbar-toggler");const{onToggle:l,expanded:c}=T.useContext(Rw)||{},d=ad(f=>{s&&s(f),l&&l()});return i==="button"&&(o.type="button"),F.jsx(i,{...o,ref:a,onClick:d,"aria-label":r,className:Tt(t,e,!c&&"collapsed"),children:n||F.jsx("span",{className:`${e}-icon`})})});_j.displayName="NavbarToggle";const $D=new WeakMap,KV=(e,t)=>{if(!e||!t)return;const n=$D.get(t)||new Map;$D.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Zce(e,t=typeof window>"u"?void 0:window){const n=KV(e,t),[r,i]=T.useState(()=>n?n.matches:!1);return mce(()=>{let s=KV(e,t);if(!s)return i(!1);let o=$D.get(t);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[e]),r}function eue(e){const t=Object.keys(e);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function i(a){const l=r(a);let c=e[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let l=e[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,c){let d;typeof a=="object"?(d=a,c=l,l=!0):(l=l||!0,d={[a]:l});let f=T.useMemo(()=>Object.entries(d).reduce((p,[m,y])=>((y==="up"||y===!0)&&(p=n(p,s(m))),(y==="down"||y===!0)&&(p=n(p,i(m))),p),""),[JSON.stringify(d)]);return Zce(f,c)}return o}const tue=eue({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Aj=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Lt(t,"offcanvas-body"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));Aj.displayName="OffcanvasBody";const nue={[Fa]:"show",[Ec]:"show"},Dj=T.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(e=Lt(e,"offcanvas"),F.jsx(tE,{ref:l,addEndListener:LF,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:am(n),children:(c,d)=>T.cloneElement(n,{...d,className:Tt(t,n.props.className,(c===Fa||c===ay)&&`${e}-toggling`,nue[c])})})));Dj.displayName="OffcanvasToggling";const Pj=T.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Lt(e,"offcanvas-header"),F.jsx(qF,{ref:s,...i,className:Tt(t,e),closeLabel:n,closeButton:r})));Pj.displayName="OffcanvasHeader";const rue=Tw("h5"),kj=T.forwardRef(({className:e,bsPrefix:t,as:n=rue,...r},i)=>(t=Lt(t,"offcanvas-title"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));kj.displayName="OffcanvasTitle";function iue(e){return F.jsx(Dj,{...e})}function sue(e){return F.jsx(Fg,{...e})}const Fj=T.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:f,onHide:p,container:m,autoFocus:y=!0,enforceFocus:w=!0,restoreFocus:C=!0,restoreFocusOptions:S,onEntered:R,onExit:E,onExiting:P,onEnter:M,onEntering:A,onExited:D,backdropClassName:k,manager:I,renderStaticNode:B=!1,...N},H)=>{const G=T.useRef();e=Lt(e,"offcanvas");const[oe,le]=T.useState(!1),Z=ad(p),se=tue(s||"xs","up");T.useEffect(()=>{le(s?o&&!se:o)},[o,s,se]);const fe=T.useMemo(()=>({onHide:Z}),[Z]);function ne(){return I||(c?(G.current||(G.current=new yj({handleContainerOverflow:!1})),G.current):wj())}const L=(X,...te)=>{X&&(X.style.visibility="visible"),M?.(X,...te)},ae=(X,...te)=>{X&&(X.style.visibility=""),D?.(...te)},W=T.useCallback(X=>F.jsx("div",{...X,className:Tt(`${e}-backdrop`,k)}),[k,e]),V=X=>F.jsx("div",{...X,...N,className:Tt(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return F.jsxs(F.Fragment,{children:[!oe&&(s||B)&&V({}),F.jsx(WF.Provider,{value:fe,children:F.jsx(vj,{show:oe,ref:H,backdrop:a,container:m,keyboard:l,autoFocus:y,enforceFocus:w&&!c,restoreFocus:C,restoreFocusOptions:S,onEscapeKeyDown:d,onShow:f,onHide:Z,onEnter:L,onEntering:A,onEntered:R,onExit:E,onExiting:P,onExited:ae,manager:ne(),transition:iue,backdropTransition:sue,renderBackdrop:W,renderDialog:V})})]})});Fj.displayName="Offcanvas";const nv=Object.assign(Fj,{Body:Aj,Header:Pj,Title:kj}),Ij=T.forwardRef(({onHide:e,...t},n)=>{const r=T.useContext(Rw),i=ad(()=>{r==null||r.onToggle==null||r.onToggle(),e?.()});return F.jsx(nv,{ref:n,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:i})});Ij.displayName="NavbarOffcanvas";const Mj=T.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Lt(t,"navbar-text"),F.jsx(n,{ref:i,className:Tt(e,t),...r})));Mj.displayName="NavbarText";const Oj=T.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:d,onToggle:f,onSelect:p,collapseOnSelect:m=!1,...y}=OF(e,{expanded:"onToggle"}),w=Lt(n,"navbar"),C=T.useCallback((...E)=>{p?.(...E),m&&d&&f?.(!1)},[p,m,d,f]);y.role===void 0&&c!=="nav"&&(y.role="navigation");let S=`${w}-expand`;typeof r=="string"&&(S=`${S}-${r}`);const R=T.useMemo(()=>({onToggle:()=>f?.(!d),bsPrefix:w,expanded:!!d,expand:r}),[w,d,r,f]);return F.jsx(Rw.Provider,{value:R,children:F.jsx(wS.Provider,{value:C,children:F.jsx(c,{ref:t,...y,className:Tt(l,w,r&&S,i&&`${w}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});Oj.displayName="Navbar";const oue=Object.assign(Oj,{Brand:Tj,Collapse:Rj,Offcanvas:Ij,Text:Mj,Toggle:_j}),Ig=T.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Lt(e,"row"),o=D9(),a=P9(),l=`${s}-cols`,c=[];return o.forEach(d=>{const f=r[d];delete r[d];let p;f!=null&&typeof f=="object"?{cols:p}=f:p=f;const m=d!==a?`-${d}`:"";p!=null&&c.push(`${l}${m}-${p}`)}),F.jsx(n,{ref:i,...r,className:Tt(t,s,...c)})});Ig.displayName="Row";const wa=T.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{e=Lt(e,"spinner");const l=`${e}-${n}`;return F.jsx(i,{ref:a,...o,className:Tt(s,l,r&&`${l}-${r}`,t&&`text-${t}`)})});wa.displayName="Spinner";const Lj=T.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...c},d)=>{const f=Lt(e,"table"),p=Tt(t,f,a&&`${f}-${a}`,o&&`${f}-${o}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,i&&`${f}-borderless`,s&&`${f}-hover`),m=F.jsx("table",{...c,className:p,ref:d});if(l){let y=`${f}-responsive`;return typeof l=="string"&&(y=`${y}-${l}`),F.jsx("div",{className:y,children:m})}return m});Lj.displayName="Table";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lue=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),YV=e=>{const t=lue(e);return t.charAt(0).toUpperCase()+t.slice(1)},Nj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),cue=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...uue,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Nj("lucide",i),...!s&&!cue(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=(e,t)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(due,{ref:s,iconNode:t,className:Nj(`lucide-${aue(YV(e))}`,`lucide-${e}`,r),...i}));return n.displayName=YV(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],XV=tr("arrow-right",hue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],QV=tr("book-open",fue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],KF=tr("bot",pue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Lb=tr("box",gue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vue=tr("chevron-left",mue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N_=tr("chevron-right",yue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Cue=tr("circle-plus",wue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xue=tr("eye-off",bue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eue=tr("eye",Sue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Bj=tr("heart",Tue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_ue=tr("image",Rue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Due=tr("info",Aue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kue=tr("layers",Pue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Iue=tr("log-out",Fue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Oue=tr("mail",Mue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Nue=tr("map",Lue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Vue=tr("menu",Bue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vj=tr("message-square",Hue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Aw=tr("plus",Gue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zue=tr("refresh-cw",Uue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wue=tr("save",jue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],YF=tr("search",$ue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Kue=tr("send",que);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aE=tr("trash-2",Yue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Que=tr("upload",Xue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XF=tr("user-plus",Jue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],QF=tr("user",Zue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kc=tr("users",ede),tde=()=>{};var JV={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},nde=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Gj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Hj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nde(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new rde;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ide=function(e){const t=Hj(e);return Gj.encodeByteArray(t,!0)},SS=function(e){return ide(e).replace(/\./g,"")},Uj=function(e){try{return Gj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ode=()=>sde().__FIREBASE_DEFAULTS__,ade=()=>{if(typeof process>"u"||typeof JV>"u")return;const e=JV.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lde=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Uj(e[1]);return t&&JSON.parse(t)},lE=()=>{try{return tde()||ode()||ade()||lde()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},zj=e=>lE()?.emulatorHosts?.[e],jj=e=>{const t=zj(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Wj=()=>lE()?.config,$j=e=>lE()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JF(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[SS(JSON.stringify(n)),SS(JSON.stringify(o)),""].join(".")}const yv={};function ude(){const e={prod:[],emulator:[]};for(const t of Object.keys(yv))yv[t]?e.emulator.push(t):e.prod.push(t);return e}function dde(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ZV=!1;function ZF(e,t){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||yv[e]===t||yv[e]||ZV)return;yv[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=ude().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ZV=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=dde(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),C=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),R=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(C,w);const P=c();l(R,S),E.append(R,y,C,P),document.body.appendChild(E)}s?(y.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hde(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function fde(){const e=lE()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pde(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gde(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mde(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vde(){const e=hs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yde(){return!fde()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wde(){try{return typeof indexedDB=="object"}catch{return!1}}function Cde(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bde="FirebaseError";class Wa extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=bde,Object.setPrototypeOf(this,Wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dw.prototype.create)}}class Dw{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?xde(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wa(i,a,r)}}function xde(e,t){return e.replace(Sde,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Sde=/\{\$([^}]+)}/g;function Ede(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(e3(s)&&e3(o)){if(!Gc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e3(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rv(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function iv(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Tde(e,t){const n=new Rde(e,t);return n.subscribe.bind(n)}class Rde{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_de(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=B_),i.error===void 0&&(i.error=B_),i.complete===void 0&&(i.complete=B_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _de(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function B_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(e){return e&&e._delegate?e._delegate:e}let ld=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ade=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new cde;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Pde(t))try{this.getOrInitializeService({instanceIdentifier:gh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=gh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gh){return this.instances.has(t)}getOptions(t=gh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dde(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=gh){return this.component?this.component.multipleInstances?t:gh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dde(e){return e===gh?void 0:e}function Pde(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kde{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ade(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pn||(pn={}));const Fde={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},Ide=pn.INFO,Mde={[pn.DEBUG]:"log",[pn.VERBOSE]:"log",[pn.INFO]:"info",[pn.WARN]:"warn",[pn.ERROR]:"error"},Ode=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Mde[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eI{constructor(t){this.name=t,this._logLevel=Ide,this._logHandler=Ode,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Fde[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pn.DEBUG,...t),this._logHandler(this,pn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pn.VERBOSE,...t),this._logHandler(this,pn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pn.INFO,...t),this._logHandler(this,pn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pn.WARN,...t),this._logHandler(this,pn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pn.ERROR,...t),this._logHandler(this,pn.ERROR,...t)}}const Lde=(e,t)=>t.some(n=>e instanceof n);let t3,n3;function Nde(){return t3||(t3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bde(){return n3||(n3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kj=new WeakMap,qD=new WeakMap,Yj=new WeakMap,V_=new WeakMap,tI=new WeakMap;function Vde(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qu(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Kj.set(n,e)}).catch(()=>{}),tI.set(t,e),t}function Hde(e){if(qD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});qD.set(e,t)}let KD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qD.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Yj.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qu(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Gde(e){KD=e(KD)}function Ude(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(H_(this),t,...n);return Yj.set(r,t.sort?t.sort():[t]),Qu(r)}:Bde().includes(e)?function(...t){return e.apply(H_(this),t),Qu(Kj.get(this))}:function(...t){return Qu(e.apply(H_(this),t))}}function zde(e){return typeof e=="function"?Ude(e):(e instanceof IDBTransaction&&Hde(e),Lde(e,Nde())?new Proxy(e,KD):e)}function Qu(e){if(e instanceof IDBRequest)return Vde(e);if(V_.has(e))return V_.get(e);const t=zde(e);return t!==e&&(V_.set(e,t),tI.set(t,e)),t}const H_=e=>tI.get(e);function jde(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Qu(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qu(o.result),l.oldVersion,l.newVersion,Qu(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Wde=["get","getKey","getAll","getAllKeys","count"],$de=["put","add","delete","clear"],G_=new Map;function r3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(G_.get(t))return G_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$de.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Wde.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return G_.set(t,s),s}Gde(e=>({...e,get:(t,n,r)=>r3(t,n)||e.get(t,n,r),has:(t,n)=>!!r3(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kde(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kde(e){return e.getComponent()?.type==="VERSION"}const YD="@firebase/app",i3="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new eI("@firebase/app"),Yde="@firebase/app-compat",Xde="@firebase/analytics-compat",Qde="@firebase/analytics",Jde="@firebase/app-check-compat",Zde="@firebase/app-check",ehe="@firebase/auth",the="@firebase/auth-compat",nhe="@firebase/database",rhe="@firebase/data-connect",ihe="@firebase/database-compat",she="@firebase/functions",ohe="@firebase/functions-compat",ahe="@firebase/installations",lhe="@firebase/installations-compat",che="@firebase/messaging",uhe="@firebase/messaging-compat",dhe="@firebase/performance",hhe="@firebase/performance-compat",fhe="@firebase/remote-config",phe="@firebase/remote-config-compat",ghe="@firebase/storage",mhe="@firebase/storage-compat",vhe="@firebase/firestore",yhe="@firebase/ai",whe="@firebase/firestore-compat",Che="firebase",bhe="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="[DEFAULT]",xhe={[YD]:"fire-core",[Yde]:"fire-core-compat",[Qde]:"fire-analytics",[Xde]:"fire-analytics-compat",[Zde]:"fire-app-check",[Jde]:"fire-app-check-compat",[ehe]:"fire-auth",[the]:"fire-auth-compat",[nhe]:"fire-rtdb",[rhe]:"fire-data-connect",[ihe]:"fire-rtdb-compat",[she]:"fire-fn",[ohe]:"fire-fn-compat",[ahe]:"fire-iid",[lhe]:"fire-iid-compat",[che]:"fire-fcm",[uhe]:"fire-fcm-compat",[dhe]:"fire-perf",[hhe]:"fire-perf-compat",[fhe]:"fire-rc",[phe]:"fire-rc-compat",[ghe]:"fire-gcs",[mhe]:"fire-gcs-compat",[vhe]:"fire-fst",[whe]:"fire-fst-compat",[yhe]:"fire-vertex","fire-js":"fire-js",[Che]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map,She=new Map,QD=new Map;function s3(e,t){try{e.container.addComponent(t)}catch(n){Uc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jh(e){const t=e.name;if(QD.has(t))return Uc.debug(`There were multiple attempts to register component ${t}.`),!1;QD.set(t,e);for(const n of ES.values())s3(n,e);for(const n of She.values())s3(n,e);return!0}function cE(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function mo(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ehe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ju=new Dw("app","Firebase",Ehe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class The{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ld("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ju.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=bhe;function Xj(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:XD,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Ju.create("bad-app-name",{appName:String(i)});if(n||(n=Wj()),!n)throw Ju.create("no-options");const s=ES.get(i);if(s){if(Gc(n,s.options)&&Gc(r,s.config))return s;throw Ju.create("duplicate-app",{appName:i})}const o=new kde(i);for(const l of QD.values())o.addComponent(l);const a=new The(n,r,o);return ES.set(i,a),a}function nI(e=XD){const t=ES.get(e);if(!t&&e===XD&&Wj())return Xj();if(!t)throw Ju.create("no-app",{appName:e});return t}function Dl(e,t,n){let r=xhe[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Uc.warn(o.join(" "));return}Jh(new ld(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rhe="firebase-heartbeat-database",_he=1,cy="firebase-heartbeat-store";let U_=null;function Qj(){return U_||(U_=jde(Rhe,_he,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(cy)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ju.create("idb-open",{originalErrorMessage:e.message})})),U_}async function Ahe(e){try{const n=(await Qj()).transaction(cy),r=await n.objectStore(cy).get(Jj(e));return await n.done,r}catch(t){if(t instanceof Wa)Uc.warn(t.message);else{const n=Ju.create("idb-get",{originalErrorMessage:t?.message});Uc.warn(n.message)}}}async function o3(e,t){try{const r=(await Qj()).transaction(cy,"readwrite");await r.objectStore(cy).put(t,Jj(e)),await r.done}catch(n){if(n instanceof Wa)Uc.warn(n.message);else{const r=Ju.create("idb-set",{originalErrorMessage:n?.message});Uc.warn(r.message)}}}function Jj(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dhe=1024,Phe=30;class khe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ihe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=a3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Phe){const i=Mhe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Uc.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a3(),{heartbeatsToSend:n,unsentEntries:r}=Fhe(this._heartbeatsCache.heartbeats),i=SS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Uc.warn(t),""}}}function a3(){return new Date().toISOString().substring(0,10)}function Fhe(e,t=Dhe){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),l3(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l3(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ihe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wde()?Cde().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ahe(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return o3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return o3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function l3(e){return SS(JSON.stringify({version:2,heartbeats:e})).length}function Mhe(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ohe(e){Jh(new ld("platform-logger",t=>new qde(t),"PRIVATE")),Jh(new ld("heartbeat",t=>new khe(t),"PRIVATE")),Dl(YD,i3,e),Dl(YD,i3,"esm2020"),Dl("fire-js","")}Ohe("");var Lhe="firebase",Nhe="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl(Lhe,Nhe,"app");const Bhe="AIzaSyCw5stPCkMrXawbxzgT-aFT8Q3_swl5Ms4",Vhe="tutordecolonial.firebaseapp.com",Hhe="tutordecolonial",Ghe="tutordecolonial.firebasestorage.app",Uhe="1086836762849",zhe="1:1086836762849:web:ed4d9b2715c421e4eeafa0",jhe={apiKey:Bhe,authDomain:Vhe,projectId:Hhe,storageBucket:Ghe,messagingSenderId:Uhe,appId:zhe};function Zj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Whe=Zj,eW=new Dw("auth","Firebase",Zj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new eI("@firebase/auth");function $he(e,...t){TS.logLevel<=pn.WARN&&TS.warn(`Auth (${Tf}): ${e}`,...t)}function Lx(e,...t){TS.logLevel<=pn.ERROR&&TS.error(`Auth (${Tf}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e,...t){throw rI(e,...t)}function Pl(e,...t){return rI(e,...t)}function tW(e,t,n){const r={...Whe(),[t]:n};return new Dw("auth","Firebase",r).create(t,{appName:e.name})}function Fc(e){return tW(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rI(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return eW.create(e,...t)}function zt(e,t,...n){if(!e)throw rI(t,...n)}function Rc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lx(t),new Error(t)}function zc(e,t){e||Rc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return typeof self<"u"&&self.location?.href||""}function qhe(){return c3()==="http:"||c3()==="https:"}function c3(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Khe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qhe()||gde()||"connection"in navigator)?navigator.onLine:!0}function Yhe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,n){this.shortDelay=t,this.longDelay=n,zc(n>t,"Short delay should be less than long delay!"),this.isMobile=hde()||mde()}get(){return Khe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(e,t){zc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qhe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jhe=new kw(3e4,6e4);function Ad(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Dd(e,t,n,r,i={}){return rW(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pw({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...s};return pde()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&_d(e.emulatorConfig.host)&&(c.credentials="include"),nW.fetch()(await iW(e,e.config.apiHost,n,a),c)})}async function rW(e,t,n){e._canInitEmulator=!1;const r={...Xhe,...t};try{const i=new efe(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nb(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nb(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nb(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nb(e,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tW(e,d,c);Ua(e,d)}}catch(i){if(i instanceof Wa)throw i;Ua(e,"network-request-failed",{message:String(i)})}}async function Fw(e,t,n,r,i={}){const s=await Dd(e,t,n,r,i);return"mfaPendingCredential"in s&&Ua(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function iW(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?iI(e.config,i):`${e.config.apiScheme}://${i}`;return Qhe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Zhe(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class efe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pl(this.auth,"network-request-failed")),Jhe.get())})}}function Nb(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pl(e,t,r);return i.customData._tokenResponse=n,i}function u3(e){return e!==void 0&&e.enterprise!==void 0}class tfe{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Zhe(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nfe(e,t){return Dd(e,"GET","/v2/recaptchaConfig",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rfe(e,t){return Dd(e,"POST","/v1/accounts:delete",t)}async function RS(e,t){return Dd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ife(e,t=!1){const n=pr(e),r=await n.getIdToken(t),i=sI(r);zt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wv(z_(i.auth_time)),issuedAtTime:wv(z_(i.iat)),expirationTime:wv(z_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function z_(e){return Number(e)*1e3}function sI(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Lx("JWT malformed, contained fewer than 3 sections"),null;try{const i=Uj(n);return i?JSON.parse(i):(Lx("Failed to decode base64 JWT payload"),null)}catch(i){return Lx("Caught error parsing JWT payload as JSON",i?.toString()),null}}function d3(e){const t=sI(e);return zt(t,"internal-error"),zt(typeof t.exp<"u","internal-error"),zt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uy(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Wa&&sfe(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function sfe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wv(this.lastLoginAt),this.creationTime=wv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(e){const t=e.auth,n=await e.getIdToken(),r=await uy(e,RS(t,{idToken:n}));zt(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?sW(i.providerUserInfo):[],o=lfe(e.providerData,s),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ZD(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function afe(e){const t=pr(e);await _S(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lfe(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function sW(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cfe(e,t){const n=await rW(e,{},async()=>{const r=Pw({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await iW(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&_d(e.emulatorConfig.host)&&(l.credentials="include"),nW.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ufe(e,t){return Dd(e,"POST","/v2/accounts:revokeToken",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){zt(t.idToken,"internal-error"),zt(typeof t.idToken<"u","internal-error"),zt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d3(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){zt(t.length!==0,"internal-error");const n=d3(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cfe(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ig;return r&&(zt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(zt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(zt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ig,this.toJSON())}_performRefresh(){return Rc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(e,t){zt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ma{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ofe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ZD(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await uy(this,this.stsTokenManager.getToken(this.auth,t));return zt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ife(this,t)}reload(){return afe(this)}_assign(t){this!==t&&(zt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ma({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await _S(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mo(this.auth.app))return Promise.reject(Fc(this.auth));const t=await this.getIdToken();return await uy(this,rfe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:w}=n;zt(f&&w,t,"internal-error");const C=ig.fromJSON(this.name,w);zt(typeof f=="string",t,"internal-error"),Du(r,t.name),Du(i,t.name),zt(typeof p=="boolean",t,"internal-error"),zt(typeof m=="boolean",t,"internal-error"),Du(s,t.name),Du(o,t.name),Du(a,t.name),Du(l,t.name),Du(c,t.name),Du(d,t.name);const S=new Ma({uid:f,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:C,createdAt:c,lastLoginAt:d});return y&&Array.isArray(y)&&(S.providerData=y.map(R=>({...R}))),l&&(S._redirectEventId=l),S}static async _fromIdTokenResponse(t,n,r=!1){const i=new ig;i.updateFromServerResponse(n);const s=new Ma({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await _S(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];zt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ig;a.updateFromIdToken(r);const l=new Ma({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ZD(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Map;function _c(e){zc(e instanceof Function,"Expected a class definition");let t=h3.get(e);return t?(zc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,h3.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}oW.type="NONE";const f3=oW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(e,t,n){return`firebase:${e}:${t}:${n}`}class sg{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Nx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nx("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await RS(this.auth,{idToken:t}).catch(()=>{});return n?Ma._fromGetAccountInfoResponse(this.auth,n,t):null}return Ma._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new sg(_c(f3),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||_c(f3);const o=Nx(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await RS(t,{idToken:d}).catch(()=>{});if(!p)break;f=await Ma._fromGetAccountInfoResponse(t,p,d)}else f=Ma._fromJSON(t,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new sg(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new sg(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hW(t))return"Blackberry";if(fW(t))return"Webos";if(lW(t))return"Safari";if((t.includes("chrome/")||cW(t))&&!t.includes("edge/"))return"Chrome";if(dW(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function aW(e=hs()){return/firefox\//i.test(e)}function lW(e=hs()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cW(e=hs()){return/crios\//i.test(e)}function uW(e=hs()){return/iemobile/i.test(e)}function dW(e=hs()){return/android/i.test(e)}function hW(e=hs()){return/blackberry/i.test(e)}function fW(e=hs()){return/webos/i.test(e)}function oI(e=hs()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dfe(e=hs()){return oI(e)&&!!window.navigator?.standalone}function hfe(){return vde()&&document.documentMode===10}function pW(e=hs()){return oI(e)||dW(e)||fW(e)||hW(e)||/windows phone/i.test(e)||uW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(e,t=[]){let n;switch(e){case"Browser":n=p3(hs());break;case"Worker":n=`${p3(hs())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pfe(e,t={}){return Dd(e,"GET","/v2/passwordPolicy",Ad(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe=6;class mfe{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gfe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g3(this),this.idTokenSubscription=new g3(this),this.beforeStateQueue=new ffe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_c(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sg.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await RS(this,{idToken:t}),r=await Ma._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(mo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _S(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Yhe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(mo(this.app))return Promise.reject(Fc(this));const n=t?pr(t):null;return n&&zt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&zt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return mo(this.app)?Promise.reject(Fc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return mo(this.app)?Promise.reject(Fc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_c(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pfe(this),n=new mfe(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dw("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ufe(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_c(t)||this._popupRedirectResolver;zt(n,this,"argument-error"),this.redirectPersistenceManager=await sg.create(this,[_c(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$he(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rf(e){return pr(e)}class g3{constructor(t){this.auth=t,this.observer=null,this.addObserver=Tde(n=>this.observer=n)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yfe(e){uE=e}function mW(e){return uE.loadJS(e)}function wfe(){return uE.recaptchaEnterpriseScript}function Cfe(){return uE.gapiScript}function bfe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class xfe{constructor(){this.enterprise=new Sfe}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Sfe{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Efe="recaptcha-enterprise",vW="NO_RECAPTCHA";class Tfe{constructor(t){this.type=Efe,this.auth=Rf(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{nfe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new tfe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;u3(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(vW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xfe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&u3(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wfe();l.length!==0&&(l+=a),mW(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function m3(e,t,n,r=!1,i=!1){const s=new Tfe(e);let o;if(i)o=vW;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function eP(e,t,n,r,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await m3(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await m3(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rfe(e,t){const n=cE(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gc(s,t??{}))return i;Ua(i,"already-initialized")}return n.initialize({options:t})}function _fe(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_c);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Afe(e,t,n){const r=Rf(e);zt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=yW(t),{host:o,port:a}=Dfe(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){zt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),zt(Gc(c,r.config.emulator)&&Gc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,_d(o)?(JF(`${s}//${o}${l}`),ZF("Auth",!0)):Pfe()}function yW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dfe(e){const t=yW(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v3(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:v3(o)}}}function v3(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Pfe(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Rc("not implemented")}_getIdTokenResponse(t){return Rc("not implemented")}_linkToIdToken(t,n){return Rc("not implemented")}_getReauthenticationResolver(t){return Rc("not implemented")}}async function kfe(e,t){return Dd(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ffe(e,t){return Fw(e,"POST","/v1/accounts:signInWithPassword",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ife(e,t){return Fw(e,"POST","/v1/accounts:signInWithEmailLink",Ad(e,t))}async function Mfe(e,t){return Fw(e,"POST","/v1/accounts:signInWithEmailLink",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends aI{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new dy(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new dy(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eP(t,n,"signInWithPassword",Ffe);case"emailLink":return Ife(t,{email:this._email,oobCode:this._password});default:Ua(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eP(t,r,"signUpPassword",kfe);case"emailLink":return Mfe(t,{idToken:n,email:this._email,oobCode:this._password});default:Ua(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(e,t){return Fw(e,"POST","/v1/accounts:signInWithIdp",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ofe="http://localhost";class Zh extends aI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Zh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ua("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Zh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return og(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,og(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,og(t,n)}buildRequest(){const t={requestUri:Ofe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pw(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lfe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nfe(e){const t=rv(iv(e)).link,n=t?rv(iv(t)).deep_link_id:null,r=rv(iv(e)).deep_link_id;return(r?rv(iv(r)).link:null)||r||n||t||e}class lI{constructor(t){const n=rv(iv(t)),r=n.apiKey??null,i=n.oobCode??null,s=Lfe(n.mode??null);zt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Nfe(t);try{return new lI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.providerId=cm.PROVIDER_ID}static credential(t,n){return dy._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=lI.parseLink(n);return zt(r,"argument-error"),dy._fromEmailAndCode(t,r.code,r.tenantId)}}cm.PROVIDER_ID="password";cm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends wW{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Iw{constructor(){super("facebook.com")}static credential(t){return Zh._fromParams({providerId:Hu.PROVIDER_ID,signInMethod:Hu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hu.credentialFromTaggedObject(t)}static credentialFromError(t){return Hu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hu.credential(t.oauthAccessToken)}catch{return null}}}Hu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Iw{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Zh._fromParams({providerId:Gu.PROVIDER_ID,signInMethod:Gu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Gu.credentialFromTaggedObject(t)}static credentialFromError(t){return Gu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gu.credential(n,r)}catch{return null}}}Gu.GOOGLE_SIGN_IN_METHOD="google.com";Gu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Iw{constructor(){super("github.com")}static credential(t){return Zh._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Uu.credentialFromTaggedObject(t)}static credentialFromError(t){return Uu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Uu.credential(t.oauthAccessToken)}catch{return null}}}Uu.GITHUB_SIGN_IN_METHOD="github.com";Uu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Iw{constructor(){super("twitter.com")}static credential(t,n){return Zh._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zu.credentialFromTaggedObject(t)}static credentialFromError(t){return zu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return zu.credential(n,r)}catch{return null}}}zu.TWITTER_SIGN_IN_METHOD="twitter.com";zu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bfe(e,t){return Fw(e,"POST","/v1/accounts:signUp",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ma._fromIdTokenResponse(t,r,i),o=y3(r);return new ef({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=y3(r);return new ef({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function y3(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends Wa{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,AS.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new AS(t,n,r,i)}}function CW(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?AS._fromErrorAndOperation(e,s,t,r):s})}async function Vfe(e,t,n=!1){const r=await uy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ef._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hfe(e,t,n=!1){const{auth:r}=e;if(mo(r.app))return Promise.reject(Fc(r));const i="reauthenticate";try{const s=await uy(e,CW(r,i,t,e),n);zt(s.idToken,r,"internal-error");const o=sI(s.idToken);zt(o,r,"internal-error");const{sub:a}=o;return zt(e.uid===a,r,"user-mismatch"),ef._forOperation(e,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ua(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(e,t,n=!1){if(mo(e.app))return Promise.reject(Fc(e));const r="signIn",i=await CW(e,r,t),s=await ef._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Gfe(e,t){return bW(Rf(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(e){const t=Rf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ufe(e,t,n){if(mo(e.app))return Promise.reject(Fc(e));const r=Rf(e),o=await eP(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bfe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xW(e),l}),a=await ef._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zfe(e,t,n){return mo(e.app)?Promise.reject(Fc(e)):Gfe(pr(e),cm.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xW(e),r})}function jfe(e,t,n,r){return pr(e).onIdTokenChanged(t,n,r)}function Wfe(e,t,n){return pr(e).beforeAuthStateChanged(t,n)}function $fe(e){return pr(e).signOut()}const DS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(DS,"1"),this.storage.removeItem(DS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qfe=1e3,Kfe=10;class EW extends SW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hfe()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Kfe):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},qfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}EW.type="LOCAL";const Yfe=EW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW extends SW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}TW.type="SESSION";const RW=TW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xfe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new dE(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Xfe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=cI("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(){return window}function Jfe(e){kl().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(){return typeof kl().WorkerGlobalScope<"u"&&typeof kl().importScripts=="function"}async function Zfe(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function epe(){return navigator?.serviceWorker?.controller||null}function tpe(){return _W()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW="firebaseLocalStorageDb",npe=1,PS="firebaseLocalStorage",DW="fbase_key";class Mw{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hE(e,t){return e.transaction([PS],t?"readwrite":"readonly").objectStore(PS)}function rpe(){const e=indexedDB.deleteDatabase(AW);return new Mw(e).toPromise()}function tP(){const e=indexedDB.open(AW,npe);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(PS,{keyPath:DW})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(PS)?t(r):(r.close(),await rpe(),t(await tP()))})})}async function w3(e,t,n){const r=hE(e,!0).put({[DW]:t,value:n});return new Mw(r).toPromise()}async function ipe(e,t){const n=hE(e,!1).get(t),r=await new Mw(n).toPromise();return r===void 0?null:r.value}function C3(e,t){const n=hE(e,!0).delete(t);return new Mw(n).toPromise()}const spe=800,ope=3;class PW{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tP(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>ope)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _W()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dE._getInstance(tpe()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Zfe(),!this.activeServiceWorker)return;this.sender=new Qfe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||epe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tP();return await w3(t,DS,"1"),await C3(t,DS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w3(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>ipe(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>C3(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=hE(i,!1).getAll();return new Mw(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),spe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PW.type="LOCAL";const ape=PW;new kw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lpe(e,t){return t?_c(t):(zt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends aI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return og(t,this._buildIdpRequest())}_linkToIdToken(t,n){return og(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return og(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cpe(e){return bW(e.auth,new uI(e),e.bypassAuthState)}function upe(e){const{auth:t,user:n}=e;return zt(n,t,"internal-error"),Hfe(n,new uI(e),e.bypassAuthState)}async function dpe(e){const{auth:t,user:n}=e;return zt(n,t,"internal-error"),Vfe(n,new uI(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cpe;case"linkViaPopup":case"linkViaRedirect":return dpe;case"reauthViaPopup":case"reauthViaRedirect":return upe;default:Ua(this.auth,"internal-error")}}resolve(t){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hpe=new kw(2e3,1e4);class $p extends kW{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$p.currentPopupAction&&$p.currentPopupAction.cancel(),$p.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return zt(t,this.auth,"internal-error"),t}async onExecution(){zc(this.filter.length===1,"Popup operations only handle one event");const t=cI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$p.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hpe.get())};t()}}$p.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fpe="pendingRedirect",Bx=new Map;class ppe extends kW{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Bx.get(this.auth._key());if(!t){try{const r=await gpe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Bx.set(this.auth._key(),t)}return this.bypassAuthState||Bx.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gpe(e,t){const n=ype(t),r=vpe(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mpe(e,t){Bx.set(e._key(),t)}function vpe(e){return _c(e._redirectPersistence)}function ype(e){return Nx(fpe,e.config.apiKey,e.name)}async function wpe(e,t,n=!1){if(mo(e.app))return Promise.reject(Fc(e));const r=Rf(e),i=lpe(r,t),o=await new ppe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe=600*1e3;class bpe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xpe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!FW(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Pl(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Cpe&&this.cachedEventUids.clear(),this.cachedEventUids.has(b3(t))}saveEventToCache(t){this.cachedEventUids.add(b3(t)),this.lastProcessedEventTime=Date.now()}}function b3(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function FW({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function xpe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FW(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Spe(e,t={}){return Dd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Epe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tpe=/^https?/;async function Rpe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Spe(e);for(const n of t)try{if(_pe(n))return}catch{}Ua(e,"unauthorized-domain")}function _pe(e){const t=JD(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Tpe.test(n))return!1;if(Epe.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ape=new kw(3e4,6e4);function x3(){const e=kl().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Dpe(e){return new Promise((t,n)=>{function r(){x3(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x3(),n(Pl(e,"network-request-failed"))},timeout:Ape.get()})}if(kl().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(kl().gapi?.load)r();else{const i=bfe("iframefcb");return kl()[i]=()=>{gapi.load?r():n(Pl(e,"network-request-failed"))},mW(`${Cfe()}?onload=${i}`).catch(s=>n(s))}}).catch(t=>{throw Vx=null,t})}let Vx=null;function Ppe(e){return Vx=Vx||Dpe(e),Vx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe=new kw(5e3,15e3),Fpe="__/auth/iframe",Ipe="emulator/auth/iframe",Mpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ope=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lpe(e){const t=e.config;zt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?iI(t,Ipe):`https://${e.config.authDomain}/${Fpe}`,r={apiKey:t.apiKey,appName:e.name,v:Tf},i=Ope.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pw(r).slice(1)}`}async function Npe(e){const t=await Ppe(e),n=kl().gapi;return zt(n,e,"internal-error"),t.open({where:document.body,url:Lpe(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mpe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pl(e,"network-request-failed"),a=kl().setTimeout(()=>{s(o)},kpe.get());function l(){kl().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vpe=500,Hpe=600,Gpe="_blank",Upe="http://localhost";class S3{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zpe(e,t,n,r=Vpe,i=Hpe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Bpe,width:r.toString(),height:i.toString(),top:s,left:o},c=hs().toLowerCase();n&&(a=cW(c)?Gpe:n),aW(c)&&(t=t||Upe,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(dfe(c)&&a!=="_self")return jpe(t||"",a),new S3(null);const f=window.open(t||"",a,d);zt(f,e,"popup-blocked");try{f.focus()}catch{}return new S3(f)}function jpe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe="__/auth/handler",$pe="emulator/auth/handler",qpe=encodeURIComponent("fac");async function E3(e,t,n,r,i,s){zt(e.config.authDomain,e,"auth-domain-config-required"),zt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Tf,eventId:i};if(t instanceof wW){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ede(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof Iw){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),c=l?`#${qpe}=${encodeURIComponent(l)}`:"";return`${Kpe(e)}?${Pw(a).slice(1)}${c}`}function Kpe({config:e}){return e.emulator?iI(e,$pe):`https://${e.authDomain}/${Wpe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="webStorageSupport";class Ype{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RW,this._completeRedirectFn=wpe,this._overrideRedirectResult=mpe}async _openPopup(t,n,r,i){zc(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await E3(t,n,r,JD(),i);return zpe(t,s,cI())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await E3(t,n,r,JD(),i);return Jfe(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Npe(t),r=new bpe(t);return n.register("authEvent",i=>(zt(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(j_,{type:j_},i=>{const s=i?.[0]?.[j_];s!==void 0&&n(!!s),Ua(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rpe(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return pW()||lW()||oI()}}const Xpe=Ype;var T3="@firebase/auth",R3="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jpe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zpe(e){Jh(new ld("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;zt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gW(e)},c=new vfe(r,i,s,l);return _fe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Jh(new ld("auth-internal",t=>{const n=Rf(t.getProvider("auth").getImmediate());return(r=>new Qpe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dl(T3,R3,Jpe(e)),Dl(T3,R3,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ege=300,tge=$j("authIdTokenMaxAge")||ege;let _3=null;const nge=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tge)return;const i=n?.token;_3!==i&&(_3=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rge(e=nI()){const t=cE(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Rfe(e,{popupRedirectResolver:Xpe,persistence:[ape,Yfe,RW]}),r=$j("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=nge(s.toString());Wfe(n,o,()=>o(n.currentUser)),jfe(n,a=>o(a))}}const i=zj("auth");return i&&Afe(n,`http://${i}`),n}function ige(){return document.getElementsByTagName("head")?.[0]??document}yfe({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Pl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ige().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zpe("Browser");var A3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zu,IW;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,k){function I(){}I.prototype=k.prototype,D.D=k.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(B,N,H){for(var G=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)G[oe-2]=arguments[oe];return k.prototype[N].apply(B,G)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,k,I){I||(I=0);var B=Array(16);if(typeof k=="string")for(var N=0;16>N;++N)B[N]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(N=0;16>N;++N)B[N]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=D.g[0],I=D.g[1],N=D.g[2];var H=D.g[3],G=k+(H^I&(N^H))+B[0]+3614090360&4294967295;k=I+(G<<7&4294967295|G>>>25),G=H+(N^k&(I^N))+B[1]+3905402710&4294967295,H=k+(G<<12&4294967295|G>>>20),G=N+(I^H&(k^I))+B[2]+606105819&4294967295,N=H+(G<<17&4294967295|G>>>15),G=I+(k^N&(H^k))+B[3]+3250441966&4294967295,I=N+(G<<22&4294967295|G>>>10),G=k+(H^I&(N^H))+B[4]+4118548399&4294967295,k=I+(G<<7&4294967295|G>>>25),G=H+(N^k&(I^N))+B[5]+1200080426&4294967295,H=k+(G<<12&4294967295|G>>>20),G=N+(I^H&(k^I))+B[6]+2821735955&4294967295,N=H+(G<<17&4294967295|G>>>15),G=I+(k^N&(H^k))+B[7]+4249261313&4294967295,I=N+(G<<22&4294967295|G>>>10),G=k+(H^I&(N^H))+B[8]+1770035416&4294967295,k=I+(G<<7&4294967295|G>>>25),G=H+(N^k&(I^N))+B[9]+2336552879&4294967295,H=k+(G<<12&4294967295|G>>>20),G=N+(I^H&(k^I))+B[10]+4294925233&4294967295,N=H+(G<<17&4294967295|G>>>15),G=I+(k^N&(H^k))+B[11]+2304563134&4294967295,I=N+(G<<22&4294967295|G>>>10),G=k+(H^I&(N^H))+B[12]+1804603682&4294967295,k=I+(G<<7&4294967295|G>>>25),G=H+(N^k&(I^N))+B[13]+4254626195&4294967295,H=k+(G<<12&4294967295|G>>>20),G=N+(I^H&(k^I))+B[14]+2792965006&4294967295,N=H+(G<<17&4294967295|G>>>15),G=I+(k^N&(H^k))+B[15]+1236535329&4294967295,I=N+(G<<22&4294967295|G>>>10),G=k+(N^H&(I^N))+B[1]+4129170786&4294967295,k=I+(G<<5&4294967295|G>>>27),G=H+(I^N&(k^I))+B[6]+3225465664&4294967295,H=k+(G<<9&4294967295|G>>>23),G=N+(k^I&(H^k))+B[11]+643717713&4294967295,N=H+(G<<14&4294967295|G>>>18),G=I+(H^k&(N^H))+B[0]+3921069994&4294967295,I=N+(G<<20&4294967295|G>>>12),G=k+(N^H&(I^N))+B[5]+3593408605&4294967295,k=I+(G<<5&4294967295|G>>>27),G=H+(I^N&(k^I))+B[10]+38016083&4294967295,H=k+(G<<9&4294967295|G>>>23),G=N+(k^I&(H^k))+B[15]+3634488961&4294967295,N=H+(G<<14&4294967295|G>>>18),G=I+(H^k&(N^H))+B[4]+3889429448&4294967295,I=N+(G<<20&4294967295|G>>>12),G=k+(N^H&(I^N))+B[9]+568446438&4294967295,k=I+(G<<5&4294967295|G>>>27),G=H+(I^N&(k^I))+B[14]+3275163606&4294967295,H=k+(G<<9&4294967295|G>>>23),G=N+(k^I&(H^k))+B[3]+4107603335&4294967295,N=H+(G<<14&4294967295|G>>>18),G=I+(H^k&(N^H))+B[8]+1163531501&4294967295,I=N+(G<<20&4294967295|G>>>12),G=k+(N^H&(I^N))+B[13]+2850285829&4294967295,k=I+(G<<5&4294967295|G>>>27),G=H+(I^N&(k^I))+B[2]+4243563512&4294967295,H=k+(G<<9&4294967295|G>>>23),G=N+(k^I&(H^k))+B[7]+1735328473&4294967295,N=H+(G<<14&4294967295|G>>>18),G=I+(H^k&(N^H))+B[12]+2368359562&4294967295,I=N+(G<<20&4294967295|G>>>12),G=k+(I^N^H)+B[5]+4294588738&4294967295,k=I+(G<<4&4294967295|G>>>28),G=H+(k^I^N)+B[8]+2272392833&4294967295,H=k+(G<<11&4294967295|G>>>21),G=N+(H^k^I)+B[11]+1839030562&4294967295,N=H+(G<<16&4294967295|G>>>16),G=I+(N^H^k)+B[14]+4259657740&4294967295,I=N+(G<<23&4294967295|G>>>9),G=k+(I^N^H)+B[1]+2763975236&4294967295,k=I+(G<<4&4294967295|G>>>28),G=H+(k^I^N)+B[4]+1272893353&4294967295,H=k+(G<<11&4294967295|G>>>21),G=N+(H^k^I)+B[7]+4139469664&4294967295,N=H+(G<<16&4294967295|G>>>16),G=I+(N^H^k)+B[10]+3200236656&4294967295,I=N+(G<<23&4294967295|G>>>9),G=k+(I^N^H)+B[13]+681279174&4294967295,k=I+(G<<4&4294967295|G>>>28),G=H+(k^I^N)+B[0]+3936430074&4294967295,H=k+(G<<11&4294967295|G>>>21),G=N+(H^k^I)+B[3]+3572445317&4294967295,N=H+(G<<16&4294967295|G>>>16),G=I+(N^H^k)+B[6]+76029189&4294967295,I=N+(G<<23&4294967295|G>>>9),G=k+(I^N^H)+B[9]+3654602809&4294967295,k=I+(G<<4&4294967295|G>>>28),G=H+(k^I^N)+B[12]+3873151461&4294967295,H=k+(G<<11&4294967295|G>>>21),G=N+(H^k^I)+B[15]+530742520&4294967295,N=H+(G<<16&4294967295|G>>>16),G=I+(N^H^k)+B[2]+3299628645&4294967295,I=N+(G<<23&4294967295|G>>>9),G=k+(N^(I|~H))+B[0]+4096336452&4294967295,k=I+(G<<6&4294967295|G>>>26),G=H+(I^(k|~N))+B[7]+1126891415&4294967295,H=k+(G<<10&4294967295|G>>>22),G=N+(k^(H|~I))+B[14]+2878612391&4294967295,N=H+(G<<15&4294967295|G>>>17),G=I+(H^(N|~k))+B[5]+4237533241&4294967295,I=N+(G<<21&4294967295|G>>>11),G=k+(N^(I|~H))+B[12]+1700485571&4294967295,k=I+(G<<6&4294967295|G>>>26),G=H+(I^(k|~N))+B[3]+2399980690&4294967295,H=k+(G<<10&4294967295|G>>>22),G=N+(k^(H|~I))+B[10]+4293915773&4294967295,N=H+(G<<15&4294967295|G>>>17),G=I+(H^(N|~k))+B[1]+2240044497&4294967295,I=N+(G<<21&4294967295|G>>>11),G=k+(N^(I|~H))+B[8]+1873313359&4294967295,k=I+(G<<6&4294967295|G>>>26),G=H+(I^(k|~N))+B[15]+4264355552&4294967295,H=k+(G<<10&4294967295|G>>>22),G=N+(k^(H|~I))+B[6]+2734768916&4294967295,N=H+(G<<15&4294967295|G>>>17),G=I+(H^(N|~k))+B[13]+1309151649&4294967295,I=N+(G<<21&4294967295|G>>>11),G=k+(N^(I|~H))+B[4]+4149444226&4294967295,k=I+(G<<6&4294967295|G>>>26),G=H+(I^(k|~N))+B[11]+3174756917&4294967295,H=k+(G<<10&4294967295|G>>>22),G=N+(k^(H|~I))+B[2]+718787259&4294967295,N=H+(G<<15&4294967295|G>>>17),G=I+(H^(N|~k))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(N+(G<<21&4294967295|G>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+H&4294967295}r.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var I=k-this.blockSize,B=this.B,N=this.h,H=0;H<k;){if(N==0)for(;H<=I;)i(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<k;)if(B[N++]=D.charCodeAt(H++),N==this.blockSize){i(this,B),N=0;break}}else for(;H<k;)if(B[N++]=D[H++],N==this.blockSize){i(this,B),N=0;break}}this.h=N,this.o+=k},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var I=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=I&255,I/=256;for(this.u(D),D=Array(16),k=I=0;4>k;++k)for(var B=0;32>B;B+=8)D[I++]=this.g[k]>>>B&255;return D};function s(D,k){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=k(D)}function o(D,k){this.h=k;for(var I=[],B=!0,N=D.length-1;0<=N;N--){var H=D[N]|0;B&&H==k||(I[N]=H,B=!1)}this.g=I}var a={};function l(D){return-128<=D&&128>D?s(D,function(k){return new o([k|0],0>k?-1:0)}):new o([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return C(c(-D));for(var k=[],I=1,B=0;D>=I;B++)k[B]=D/I|0,I*=4294967296;return new o(k,0)}function d(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return C(d(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(k,8)),B=f,N=0;N<D.length;N+=8){var H=Math.min(8,D.length-N),G=parseInt(D.substring(N,N+H),k);8>H?(H=c(Math.pow(k,H)),B=B.j(H).add(c(G))):(B=B.j(I),B=B.add(c(G)))}return B}var f=l(0),p=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(w(this))return-C(this).m();for(var D=0,k=1,I=0;I<this.g.length;I++){var B=this.i(I);D+=(0<=B?B:4294967296+B)*k,k*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(y(this))return"0";if(w(this))return"-"+C(this).toString(D);for(var k=c(Math.pow(D,6)),I=this,B="";;){var N=P(I,k).g;I=S(I,N.j(k));var H=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=N,y(I))return H+B;for(;6>H.length;)H="0"+H;B=H+B}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function y(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function w(D){return D.h==-1}e.l=function(D){return D=S(this,D),w(D)?-1:y(D)?0:1};function C(D){for(var k=D.g.length,I=[],B=0;B<k;B++)I[B]=~D.g[B];return new o(I,~D.h).add(p)}e.abs=function(){return w(this)?C(this):this},e.add=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],B=0,N=0;N<=k;N++){var H=B+(this.i(N)&65535)+(D.i(N)&65535),G=(H>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);B=G>>>16,H&=65535,G&=65535,I[N]=G<<16|H}return new o(I,I[I.length-1]&-2147483648?-1:0)};function S(D,k){return D.add(C(k))}e.j=function(D){if(y(this)||y(D))return f;if(w(this))return w(D)?C(this).j(C(D)):C(C(this).j(D));if(w(D))return C(this.j(C(D)));if(0>this.l(m)&&0>D.l(m))return c(this.m()*D.m());for(var k=this.g.length+D.g.length,I=[],B=0;B<2*k;B++)I[B]=0;for(B=0;B<this.g.length;B++)for(var N=0;N<D.g.length;N++){var H=this.i(B)>>>16,G=this.i(B)&65535,oe=D.i(N)>>>16,le=D.i(N)&65535;I[2*B+2*N]+=G*le,R(I,2*B+2*N),I[2*B+2*N+1]+=H*le,R(I,2*B+2*N+1),I[2*B+2*N+1]+=G*oe,R(I,2*B+2*N+1),I[2*B+2*N+2]+=H*oe,R(I,2*B+2*N+2)}for(B=0;B<k;B++)I[B]=I[2*B+1]<<16|I[2*B];for(B=k;B<2*k;B++)I[B]=0;return new o(I,0)};function R(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function E(D,k){this.g=D,this.h=k}function P(D,k){if(y(k))throw Error("division by zero");if(y(D))return new E(f,f);if(w(D))return k=P(C(D),k),new E(C(k.g),C(k.h));if(w(k))return k=P(D,C(k)),new E(C(k.g),k.h);if(30<D.g.length){if(w(D)||w(k))throw Error("slowDivide_ only works with positive integers.");for(var I=p,B=k;0>=B.l(D);)I=M(I),B=M(B);var N=A(I,1),H=A(B,1);for(B=A(B,2),I=A(I,2);!y(B);){var G=H.add(B);0>=G.l(D)&&(N=N.add(I),H=G),B=A(B,1),I=A(I,1)}return k=S(D,N.j(k)),new E(N,k)}for(N=f;0<=D.l(k);){for(I=Math.max(1,Math.floor(D.m()/k.m())),B=Math.ceil(Math.log(I)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),H=c(I),G=H.j(k);w(G)||0<G.l(D);)I-=B,H=c(I),G=H.j(k);y(H)&&(H=p),N=N.add(H),D=S(D,G)}return new E(N,D)}e.A=function(D){return P(this,D).h},e.and=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],B=0;B<k;B++)I[B]=this.i(B)&D.i(B);return new o(I,this.h&D.h)},e.or=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],B=0;B<k;B++)I[B]=this.i(B)|D.i(B);return new o(I,this.h|D.h)},e.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],B=0;B<k;B++)I[B]=this.i(B)^D.i(B);return new o(I,this.h^D.h)};function M(D){for(var k=D.g.length+1,I=[],B=0;B<k;B++)I[B]=D.i(B)<<1|D.i(B-1)>>>31;return new o(I,D.h)}function A(D,k){var I=k>>5;k%=32;for(var B=D.g.length-I,N=[],H=0;H<B;H++)N[H]=0<k?D.i(H+I)>>>k|D.i(H+I+1)<<32-k:D.i(H+I);return new o(N,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IW=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Zu=o}).apply(typeof A3<"u"?A3:typeof self<"u"?self:typeof window<"u"?window:{});var Bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MW,sv,OW,Hx,nP,LW,NW,BW;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,O,U){return b==Array.prototype||b==Object.prototype||(b[O]=U.value),b};function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bb=="object"&&Bb];for(var O=0;O<b.length;++O){var U=b[O];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(b,O){if(O)e:{var U=r;b=b.split(".");for(var J=0;J<b.length-1;J++){var xe=b[J];if(!(xe in U))break e;U=U[xe]}b=b[b.length-1],J=U[b],O=O(J),O!=J&&O!=null&&t(U,b,{configurable:!0,writable:!0,value:O})}}function s(b,O){b instanceof String&&(b+="");var U=0,J=!1,xe={next:function(){if(!J&&U<b.length){var Ne=U++;return{value:O(Ne,b[Ne]),done:!1}}return J=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(b){return b||function(){return s(this,function(O,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(b){var O=typeof b;return O=O!="object"?O:b?Array.isArray(b)?"array":O:"null",O=="array"||O=="object"&&typeof b.length=="number"}function c(b){var O=typeof b;return O=="object"&&b!=null||O=="function"}function d(b,O,U){return b.call.apply(b.bind,arguments)}function f(b,O,U){if(!b)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,J),b.apply(O,xe)}}return function(){return b.apply(O,arguments)}}function p(b,O,U){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(b,O){var U=Array.prototype.slice.call(arguments,1);return function(){var J=U.slice();return J.push.apply(J,arguments),b.apply(this,J)}}function y(b,O){function U(){}U.prototype=O.prototype,b.aa=O.prototype,b.prototype=new U,b.prototype.constructor=b,b.Qb=function(J,xe,Ne){for(var at=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)at[wn-2]=arguments[wn];return O.prototype[xe].apply(J,at)}}function w(b){const O=b.length;if(0<O){const U=Array(O);for(let J=0;J<O;J++)U[J]=b[J];return U}return[]}function C(b,O){for(let U=1;U<arguments.length;U++){const J=arguments[U];if(l(J)){const xe=b.length||0,Ne=J.length||0;b.length=xe+Ne;for(let at=0;at<Ne;at++)b[xe+at]=J[at]}else b.push(J)}}class S{constructor(O,U){this.i=O,this.j=U,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function R(b){return/^[\s\xa0]*$/.test(b)}function E(){var b=a.navigator;return b&&(b=b.userAgent)?b:""}function P(b){return P[" "](b),b}P[" "]=function(){};var M=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function A(b,O,U){for(const J in b)O.call(U,b[J],J,b)}function D(b,O){for(const U in b)O.call(void 0,b[U],U,b)}function k(b){const O={};for(const U in b)O[U]=b[U];return O}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(b,O){let U,J;for(let xe=1;xe<arguments.length;xe++){J=arguments[xe];for(U in J)b[U]=J[U];for(let Ne=0;Ne<I.length;Ne++)U=I[Ne],Object.prototype.hasOwnProperty.call(J,U)&&(b[U]=J[U])}}function N(b){var O=1;b=b.split(":");const U=[];for(;0<O&&b.length;)U.push(b.shift()),O--;return b.length&&U.push(b.join(":")),U}function H(b){a.setTimeout(()=>{throw b},0)}function G(){var b=ne;let O=null;return b.g&&(O=b.g,b.g=b.g.next,b.g||(b.h=null),O.next=null),O}class oe{constructor(){this.h=this.g=null}add(O,U){const J=le.get();J.set(O,U),this.h?this.h.next=J:this.g=J,this.h=J}}var le=new S(()=>new Z,b=>b.reset());class Z{constructor(){this.next=this.g=this.h=null}set(O,U){this.h=O,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let se,fe=!1,ne=new oe,L=()=>{const b=a.Promise.resolve(void 0);se=()=>{b.then(ae)}};var ae=()=>{for(var b;b=G();){try{b.h.call(b.g)}catch(U){H(U)}var O=le;O.j(b),100>O.h&&(O.h++,b.next=O.g,O.g=b)}fe=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(b,O){this.type=b,this.g=this.target=O,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var b=!1,O=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const U=()=>{};a.addEventListener("test",U,O),a.removeEventListener("test",U,O)}catch{}return b}();function te(b,O){if(V.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var U=this.type=b.type,J=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=O,O=b.relatedTarget){if(M){e:{try{P(O.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(O=null)}}else U=="mouseover"?O=b.fromElement:U=="mouseout"&&(O=b.toElement);this.relatedTarget=O,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:he[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&te.aa.h.call(this)}}y(te,V);var he={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function _e(b,O,U,J,xe){this.listener=b,this.proxy=null,this.src=O,this.type=U,this.capture=!!J,this.ha=xe,this.key=++Fe,this.da=this.fa=!1}function Pe(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function nt(b){this.src=b,this.g={},this.h=0}nt.prototype.add=function(b,O,U,J,xe){var Ne=b.toString();b=this.g[Ne],b||(b=this.g[Ne]=[],this.h++);var at=St(b,O,J,xe);return-1<at?(O=b[at],U||(O.fa=!1)):(O=new _e(O,this.src,Ne,!!J,xe),O.fa=U,b.push(O)),O};function re(b,O){var U=O.type;if(U in b.g){var J=b.g[U],xe=Array.prototype.indexOf.call(J,O,void 0),Ne;(Ne=0<=xe)&&Array.prototype.splice.call(J,xe,1),Ne&&(Pe(O),b.g[U].length==0&&(delete b.g[U],b.h--))}}function St(b,O,U,J){for(var xe=0;xe<b.length;++xe){var Ne=b[xe];if(!Ne.da&&Ne.listener==O&&Ne.capture==!!U&&Ne.ha==J)return xe}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),Je={};function et(b,O,U,J,xe){if(Array.isArray(O)){for(var Ne=0;Ne<O.length;Ne++)et(b,O[Ne],U,J,xe);return null}return U=An(U),b&&b[Be]?b.K(O,U,c(J)?!!J.capture:!1,xe):Me(b,O,U,!1,J,xe)}function Me(b,O,U,J,xe,Ne){if(!O)throw Error("Invalid event type");var at=c(xe)?!!xe.capture:!!xe,wn=Kt(b);if(wn||(b[ze]=wn=new nt(b)),U=wn.add(O,U,J,at,Ne),U.proxy)return U;if(J=ft(),U.proxy=J,J.src=b,J.listener=U,b.addEventListener)X||(xe=at),xe===void 0&&(xe=!1),b.addEventListener(O.toString(),J,xe);else if(b.attachEvent)b.attachEvent(It(O.toString()),J);else if(b.addListener&&b.removeListener)b.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return U}function ft(){function b(U){return O.call(b.src,b.listener,U)}const O=Vt;return b}function kt(b,O,U,J,xe){if(Array.isArray(O))for(var Ne=0;Ne<O.length;Ne++)kt(b,O[Ne],U,J,xe);else J=c(J)?!!J.capture:!!J,U=An(U),b&&b[Be]?(b=b.i,O=String(O).toString(),O in b.g&&(Ne=b.g[O],U=St(Ne,U,J,xe),-1<U&&(Pe(Ne[U]),Array.prototype.splice.call(Ne,U,1),Ne.length==0&&(delete b.g[O],b.h--)))):b&&(b=Kt(b))&&(O=b.g[O.toString()],b=-1,O&&(b=St(O,U,J,xe)),(U=-1<b?O[b]:null)&&Ct(U))}function Ct(b){if(typeof b!="number"&&b&&!b.da){var O=b.src;if(O&&O[Be])re(O.i,b);else{var U=b.type,J=b.proxy;O.removeEventListener?O.removeEventListener(U,J,b.capture):O.detachEvent?O.detachEvent(It(U),J):O.addListener&&O.removeListener&&O.removeListener(J),(U=Kt(O))?(re(U,b),U.h==0&&(U.src=null,O[ze]=null)):Pe(b)}}}function It(b){return b in Je?Je[b]:Je[b]="on"+b}function Vt(b,O){if(b.da)b=!0;else{O=new te(O,this);var U=b.listener,J=b.ha||b.src;b.fa&&Ct(b),b=U.call(J,O)}return b}function Kt(b){return b=b[ze],b instanceof nt?b:null}var Jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(b){return typeof b=="function"?b:(b[Jt]||(b[Jt]=function(O){return b.handleEvent(O)}),b[Jt])}function ve(){W.call(this),this.i=new nt(this),this.M=this,this.F=null}y(ve,W),ve.prototype[Be]=!0,ve.prototype.removeEventListener=function(b,O,U,J){kt(this,b,O,U,J)};function Le(b,O){var U,J=b.F;if(J)for(U=[];J;J=J.F)U.push(J);if(b=b.M,J=O.type||O,typeof O=="string")O=new V(O,b);else if(O instanceof V)O.target=O.target||b;else{var xe=O;O=new V(J,b),B(O,xe)}if(xe=!0,U)for(var Ne=U.length-1;0<=Ne;Ne--){var at=O.g=U[Ne];xe=Xe(at,J,!0,O)&&xe}if(at=O.g=b,xe=Xe(at,J,!0,O)&&xe,xe=Xe(at,J,!1,O)&&xe,U)for(Ne=0;Ne<U.length;Ne++)at=O.g=U[Ne],xe=Xe(at,J,!1,O)&&xe}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var b=this.i,O;for(O in b.g){for(var U=b.g[O],J=0;J<U.length;J++)Pe(U[J]);delete b.g[O],b.h--}}this.F=null},ve.prototype.K=function(b,O,U,J){return this.i.add(String(b),O,!1,U,J)},ve.prototype.L=function(b,O,U,J){return this.i.add(String(b),O,!0,U,J)};function Xe(b,O,U,J){if(O=b.i.g[String(O)],!O)return!0;O=O.concat();for(var xe=!0,Ne=0;Ne<O.length;++Ne){var at=O[Ne];if(at&&!at.da&&at.capture==U){var wn=at.listener,di=at.ha||at.src;at.fa&&re(b.i,at),xe=wn.call(di,J)!==!1&&xe}}return xe&&!J.defaultPrevented}function ht(b,O,U){if(typeof b=="function")U&&(b=p(b,U));else if(b&&typeof b.handleEvent=="function")b=p(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:a.setTimeout(b,O||0)}function gt(b){b.g=ht(()=>{b.g=null,b.i&&(b.i=!1,gt(b))},b.l);const O=b.h;b.h=null,b.m.apply(null,O)}class Yt extends W{constructor(O,U){super(),this.m=O,this.l=U,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fn(b){W.call(this),this.h=b,this.g={}}y(Fn,W);var nn=[];function gr(b){A(b.g,function(O,U){this.g.hasOwnProperty(U)&&Ct(O)},b),b.g={}}Fn.prototype.N=function(){Fn.aa.N.call(this),gr(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=a.JSON.stringify,ar=a.JSON.parse,Br=class{stringify(b){return a.JSON.stringify(b,void 0)}parse(b){return a.JSON.parse(b,void 0)}};function Vr(){}Vr.prototype.h=null;function Mo(b){return b.h||(b.h=b.i())}function Ka(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function to(){V.call(this,"d")}y(to,V);function no(){V.call(this,"c")}y(no,V);var Oi={},Oo=null;function Lo(){return Oo=Oo||new ve}Oi.La="serverreachability";function Ya(b){V.call(this,Oi.La,b)}y(Ya,V);function de(b){const O=Lo();Le(O,new Ya(O))}Oi.STAT_EVENT="statevent";function be(b,O){V.call(this,Oi.STAT_EVENT,b),this.stat=O}y(be,V);function Ee(b){const O=Lo();Le(O,new be(O,b))}Oi.Ma="timingevent";function je(b,O){V.call(this,Oi.Ma,b),this.size=O}y(je,V);function Qe(b,O){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){b()},O)}function mt(){this.g=!0}mt.prototype.xa=function(){this.g=!1};function bt(b,O,U,J,xe,Ne){b.info(function(){if(b.g)if(Ne)for(var at="",wn=Ne.split("&"),di=0;di<wn.length;di++){var Cn=wn[di].split("=");if(1<Cn.length){var bi=Cn[0];Cn=Cn[1];var hi=bi.split("_");at=2<=hi.length&&hi[1]=="type"?at+(bi+"="+Cn+"&"):at+(bi+"=redacted&")}}else at=null;else at=Ne;return"XMLHTTP REQ ("+J+") [attempt "+xe+"]: "+O+`
`+U+`
`+at})}function yt(b,O,U,J,xe,Ne,at){b.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+xe+"]: "+O+`
`+U+`
`+Ne+" "+at})}function j(b,O,U,J){b.info(function(){return"XMLHTTP TEXT ("+O+"): "+q(b,U)+(J?" "+J:"")})}function Q(b,O){b.info(function(){return"TIMEOUT: "+O})}mt.prototype.info=function(){};function q(b,O){if(!b.g)return O;if(!O)return null;try{var U=JSON.parse(O);if(U){for(b=0;b<U.length;b++)if(Array.isArray(U[b])){var J=U[b];if(!(2>J.length)){var xe=J[1];if(Array.isArray(xe)&&!(1>xe.length)){var Ne=xe[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var at=1;at<xe.length;at++)xe[at]=""}}}}return Ar(U)}catch{return O}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ie;function we(){}y(we,Vr),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},ie=new we;function De(b,O,U,J){this.j=b,this.i=O,this.l=U,this.R=J||1,this.U=new Fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Te={};function $e(b,O,U){b.L=1,b.v=Ud(ro(O)),b.m=U,b.P=!0,Ze(b,null)}function Ze(b,O){b.F=Date.now(),it(b),b.A=ro(b.v);var U=b.A,J=b.R;Array.isArray(J)||(J=[String(J)]),Vm(U.i,"t",J),b.C=0,U=b.j.J,b.h=new me,b.g=RC(b.j,U?O:null,!b.m),0<b.O&&(b.M=new Yt(p(b.Y,b,b.g),b.O)),O=b.U,U=b.g,J=b.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(nn[0]=xe.toString()),xe=nn);for(var Ne=0;Ne<xe.length;Ne++){var at=et(U,xe[Ne],J||O.handleEvent,!1,O.h||O);if(!at)break;O.g[at.key]=at}O=b.H?k(b.H):{},b.m?(b.u||(b.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,O)):(b.u="GET",b.g.ea(b.A,b.u,null,O)),de(),bt(b.i,b.u,b.A,b.l,b.R,b.m)}De.prototype.ca=function(b){b=b.target;const O=this.M;O&&Ho(b)==3?O.j():this.Y(b)},De.prototype.Y=function(b){try{if(b==this.g)e:{const hi=Ho(this.g);var O=this.g.Ba();const oc=this.g.Z();if(!(3>hi)&&(hi!=3||this.g&&(this.h.h||this.g.oa()||yC(this.g)))){this.J||hi!=4||O==7||(O==8||0>=oc?de(3):de(2)),un(this);var U=this.g.Z();this.X=U;t:if(ut(this)){var J=yC(this.g);b="";var xe=J.length,Ne=Ho(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xt(this),rn(this);var at="";break t}this.h.i=new a.TextDecoder}for(O=0;O<xe;O++)this.h.h=!0,b+=this.h.i.decode(J[O],{stream:!(Ne&&O==xe-1)});J.length=0,this.h.g+=b,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=U==200,yt(this.i,this.u,this.A,this.l,this.R,hi,U),this.o){if(this.T&&!this.K){t:{if(this.g){var wn,di=this.g;if((wn=di.g?di.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(wn)){var Cn=wn;break t}}Cn=null}if(U=Cn)j(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,U);else{this.o=!1,this.s=3,Ee(12),xt(this),rn(this);break e}}if(this.P){U=!0;let Li;for(;!this.J&&this.C<at.length;)if(Li=tt(this,at),Li==Te){hi==4&&(this.s=4,Ee(14),U=!1),j(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==ye){this.s=4,Ee(15),j(this.i,this.l,at,"[Invalid Chunk]"),U=!1;break}else j(this.i,this.l,Li,null),Nn(this,Li);if(ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hi!=4||at.length!=0||this.h.h||(this.s=1,Ee(16),U=!1),this.o=this.o&&U,!U)j(this.i,this.l,at,"[Invalid Chunked Response]"),xt(this),rn(this);else if(0<at.length&&!this.W){this.W=!0;var bi=this.j;bi.g==this&&bi.ba&&!bi.M&&(bi.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Xd(bi),bi.M=!0,Ee(11))}}else j(this.i,this.l,at,null),Nn(this,at);hi==4&&xt(this),this.o&&!this.J&&(hi==4?SC(this.j,this):(this.o=!1,it(this)))}else ET(this.g),U==400&&0<at.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),xt(this),rn(this)}}}catch{}finally{}};function ut(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function tt(b,O){var U=b.C,J=O.indexOf(`
`,U);return J==-1?Te:(U=Number(O.substring(U,J)),isNaN(U)?ye:(J+=1,J+U>O.length?Te:(O=O.slice(J,J+U),b.C=J+U,O)))}De.prototype.cancel=function(){this.J=!0,xt(this)};function it(b){b.S=Date.now()+b.I,Dt(b,b.I)}function Dt(b,O){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Qe(p(b.ba,b),O)}function un(b){b.B&&(a.clearTimeout(b.B),b.B=null)}De.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Q(this.i,this.A),this.L!=2&&(de(),Ee(17)),xt(this),this.s=2,rn(this)):Dt(this,this.S-b)};function rn(b){b.j.G==0||b.J||SC(b.j,b)}function xt(b){un(b);var O=b.M;O&&typeof O.ma=="function"&&O.ma(),b.M=null,gr(b.U),b.g&&(O=b.g,b.g=null,O.abort(),O.ma())}function Nn(b,O){try{var U=b.j;if(U.G!=0&&(U.g==b||wi(U.h,b))){if(!b.K&&wi(U.h,b)&&U.G==3){try{var J=U.Da.g.parse(O)}catch{J=null}if(Array.isArray(J)&&J.length==3){var xe=J;if(xe[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<b.F)Jf(U),Xf(U);else break e;jm(U),Ee(18)}}else U.za=xe[1],0<U.za-U.T&&37500>xe[2]&&U.F&&U.v==0&&!U.C&&(U.C=Qe(p(U.Za,U),6e3));if(1>=ws(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else sc(U,11)}else if((b.K||U.g==b)&&Jf(U),!R(O))for(xe=U.Da.g.parse(O),O=0;O<xe.length;O++){let Cn=xe[O];if(U.T=Cn[0],Cn=Cn[1],U.G==2)if(Cn[0]=="c"){U.K=Cn[1],U.ia=Cn[2];const bi=Cn[3];bi!=null&&(U.la=bi,U.j.info("VER="+U.la));const hi=Cn[4];hi!=null&&(U.Aa=hi,U.j.info("SVER="+U.Aa));const oc=Cn[5];oc!=null&&typeof oc=="number"&&0<oc&&(J=1.5*oc,U.L=J,U.j.info("backChannelRequestTimeoutMs_="+J)),J=U;const Li=b.g;if(Li){const nl=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var Ne=J.h;Ne.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(su(Ne,Ne.h),Ne.h=null))}if(J.D){const $m=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(J.ya=$m,Kn(J.I,J.D,$m))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-b.F,U.j.info("Handshake RTT: "+U.R+"ms")),J=U;var at=b;if(J.qa=TC(J,J.J?J.ia:null,J.W),at.K){Cs(J.h,at);var wn=at,di=J.L;di&&(wn.I=di),wn.B&&(un(wn),it(wn)),J.g=at}else bC(J);0<U.i.length&&Qf(U)}else Cn[0]!="stop"&&Cn[0]!="close"||sc(U,7);else U.G==3&&(Cn[0]=="stop"||Cn[0]=="close"?Cn[0]=="stop"?sc(U,7):Um(U):Cn[0]!="noop"&&U.l&&U.l.ta(Cn),U.v=0)}}de(4)}catch{}}var ys=class{constructor(b,O){this.g=b,this.map=O}};function Hr(b){this.l=b||10,a.PerformanceNavigationTiming?(b=a.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ws(b){return b.h?1:b.g?b.g.size:0}function wi(b,O){return b.h?b.h==O:b.g?b.g.has(O):!1}function su(b,O){b.g?b.g.add(O):b.h=O}function Cs(b,O){b.h&&b.h==O?b.h=null:b.g&&b.g.has(O)&&b.g.delete(O)}Hr.prototype.cancel=function(){if(this.i=Om(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Om(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let O=b.i;for(const U of b.g.values())O=O.concat(U.D);return O}return w(b.i)}function CT(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(l(b)){for(var O=[],U=b.length,J=0;J<U;J++)O.push(b[J]);return O}O=[],U=0;for(J in b)O[U++]=b[J];return O}function jf(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(l(b)||typeof b=="string"){var O=[];b=b.length;for(var U=0;U<b;U++)O.push(U);return O}O=[],U=0;for(const J in b)O[U++]=J;return O}}}function Lm(b,O){if(b.forEach&&typeof b.forEach=="function")b.forEach(O,void 0);else if(l(b)||typeof b=="string")Array.prototype.forEach.call(b,O,void 0);else for(var U=jf(b),J=CT(b),xe=J.length,Ne=0;Ne<xe;Ne++)O.call(void 0,J[Ne],U&&U[Ne],b)}var Hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bT(b,O){if(b){b=b.split("&");for(var U=0;U<b.length;U++){var J=b[U].indexOf("="),xe=null;if(0<=J){var Ne=b[U].substring(0,J);xe=b[U].substring(J+1)}else Ne=b[U];O(Ne,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Jr(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Jr){this.h=b.h,Gd(this,b.j),this.o=b.o,this.g=b.g,ou(this,b.s),this.l=b.l;var O=b.i,U=new tc;U.i=O.i,O.g&&(U.g=new Map(O.g),U.h=O.h),ec(this,U),this.m=b.m}else b&&(O=String(b).match(Hd))?(this.h=!1,Gd(this,O[1]||"",!0),this.o=No(O[2]||""),this.g=No(O[3]||"",!0),ou(this,O[4]),this.l=No(O[5]||"",!0),ec(this,O[6]||"",!0),this.m=No(O[7]||"")):(this.h=!1,this.i=new tc(null,this.h))}Jr.prototype.toString=function(){var b=[],O=this.j;O&&b.push(zd(O,Nm,!0),":");var U=this.g;return(U||O=="file")&&(b.push("//"),(O=this.o)&&b.push(zd(O,Nm,!0),"@"),b.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&b.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&b.push("/"),b.push(zd(U,U.charAt(0)=="/"?xT:Bm,!0))),(U=this.i.toString())&&b.push("?",U),(U=this.m)&&b.push("#",zd(U,Wf)),b.join("")};function ro(b){return new Jr(b)}function Gd(b,O,U){b.j=U?No(O,!0):O,b.j&&(b.j=b.j.replace(/:$/,""))}function ou(b,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);b.s=O}else b.s=null}function ec(b,O,U){O instanceof tc?(b.i=O,mC(b.i,b.h)):(U||(O=zd(O,ST)),b.i=new tc(O,b.h))}function Kn(b,O,U){b.i.set(O,U)}function Ud(b){return Kn(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function No(b,O){return b?O?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function zd(b,O,U){return typeof b=="string"?(b=encodeURI(b).replace(O,gC),U&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function gC(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Nm=/[#\/\?@]/g,Bm=/[#\?:]/g,xT=/[#\?]/g,ST=/[#\?@]/g,Wf=/#/g;function tc(b,O){this.h=this.g=null,this.i=b||null,this.j=!!O}function Bo(b){b.g||(b.g=new Map,b.h=0,b.i&&bT(b.i,function(O,U){b.add(decodeURIComponent(O.replace(/\+/g," ")),U)}))}e=tc.prototype,e.add=function(b,O){Bo(this),this.i=null,b=Xa(this,b);var U=this.g.get(b);return U||this.g.set(b,U=[]),U.push(O),this.h+=1,this};function nc(b,O){Bo(b),O=Xa(b,O),b.g.has(O)&&(b.i=null,b.h-=b.g.get(O).length,b.g.delete(O))}function rc(b,O){return Bo(b),O=Xa(b,O),b.g.has(O)}e.forEach=function(b,O){Bo(this),this.g.forEach(function(U,J){U.forEach(function(xe){b.call(O,xe,J,this)},this)},this)},e.na=function(){Bo(this);const b=Array.from(this.g.values()),O=Array.from(this.g.keys()),U=[];for(let J=0;J<O.length;J++){const xe=b[J];for(let Ne=0;Ne<xe.length;Ne++)U.push(O[J])}return U},e.V=function(b){Bo(this);let O=[];if(typeof b=="string")rc(this,b)&&(O=O.concat(this.g.get(Xa(this,b))));else{b=Array.from(this.g.values());for(let U=0;U<b.length;U++)O=O.concat(b[U])}return O},e.set=function(b,O){return Bo(this),this.i=null,b=Xa(this,b),rc(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[O]),this.h+=1,this},e.get=function(b,O){return b?(b=this.V(b),0<b.length?String(b[0]):O):O};function Vm(b,O,U){nc(b,O),0<U.length&&(b.i=null,b.g.set(Xa(b,O),w(U)),b.h+=U.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],O=Array.from(this.g.keys());for(var U=0;U<O.length;U++){var J=O[U];const Ne=encodeURIComponent(String(J)),at=this.V(J);for(J=0;J<at.length;J++){var xe=Ne;at[J]!==""&&(xe+="="+encodeURIComponent(String(at[J]))),b.push(xe)}}return this.i=b.join("&")};function Xa(b,O){return O=String(O),b.j&&(O=O.toLowerCase()),O}function mC(b,O){O&&!b.j&&(Bo(b),b.i=null,b.g.forEach(function(U,J){var xe=J.toLowerCase();J!=xe&&(nc(this,J),Vm(this,xe,U))},b)),b.j=O}function jd(b,O){const U=new mt;if(a.Image){const J=new Image;J.onload=m(Vo,U,"TestLoadImage: loaded",!0,O,J),J.onerror=m(Vo,U,"TestLoadImage: error",!1,O,J),J.onabort=m(Vo,U,"TestLoadImage: abort",!1,O,J),J.ontimeout=m(Vo,U,"TestLoadImage: timeout",!1,O,J),a.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=b}else O(!1)}function Ra(b,O){const U=new mt,J=new AbortController,xe=setTimeout(()=>{J.abort(),Vo(U,"TestPingServer: timeout",!1,O)},1e4);fetch(b,{signal:J.signal}).then(Ne=>{clearTimeout(xe),Ne.ok?Vo(U,"TestPingServer: ok",!0,O):Vo(U,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(xe),Vo(U,"TestPingServer: error",!1,O)})}function Vo(b,O,U,J,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),J(U)}catch{}}function Wd(){this.g=new Br}function Qa(b,O,U){const J=U||"";try{Lm(b,function(xe,Ne){let at=xe;c(xe)&&(at=Ar(xe)),O.push(J+Ne+"="+encodeURIComponent(at))})}catch(xe){throw O.push(J+"type="+encodeURIComponent("_badmap")),xe}}function au(b){this.l=b.Ub||null,this.j=b.eb||!1}y(au,Vr),au.prototype.g=function(){return new ic(this.l,this.j)},au.prototype.i=function(b){return function(){return b}}({});function ic(b,O){ve.call(this),this.D=b,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ic,ve),e=ic.prototype,e.open=function(b,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=O,this.readyState=1,Za(this)},e.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(O.body=b),(this.D||a).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},e.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hm(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hm(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}e.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var O=b.value?b.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!b.done}))&&(this.response=this.responseText+=O)}b.done?Ja(this):Za(this),this.readyState==3&&Hm(this)}},e.Ra=function(b){this.g&&(this.response=this.responseText=b,Ja(this))},e.Qa=function(b){this.g&&(this.response=b,Ja(this))},e.ga=function(){this.g&&Ja(this)};function Ja(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Za(b)}e.setRequestHeader=function(b,O){this.u.append(b,O)},e.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],O=this.h.entries();for(var U=O.next();!U.done;)U=U.value,b.push(U[0]+": "+U[1]),U=O.next();return b.join(`\r
`)};function Za(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Gm(b){let O="";return A(b,function(U,J){O+=J,O+=":",O+=U,O+=`\r
`}),O}function Ci(b,O,U){e:{for(J in U){var J=!1;break e}J=!0}J||(U=Gm(U),typeof b=="string"?U!=null&&encodeURIComponent(String(U)):Kn(b,O,U))}function Bn(b){ve.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Bn,ve);var $f=/^https?$/i,$d=["POST","PUT"];e=Bn.prototype,e.Ha=function(b){this.J=b},e.ea=function(b,O,U,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);O=O?O.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ie.g(),this.v=this.o?Mo(this.o):Mo(ie),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(O,String(b),!0),this.B=!1}catch(Ne){vC(this,Ne);return}if(b=U||"",U=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var xe in J)U.set(xe,J[xe]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ne of J.keys())U.set(Ne,J.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(U.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),xe=a.FormData&&b instanceof a.FormData,!(0<=Array.prototype.indexOf.call($d,O,void 0))||J||xe||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,at]of U)this.g.setRequestHeader(Ne,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qd(this),this.u=!0,this.g.send(b),this.u=!1}catch(Ne){vC(this,Ne)}};function vC(b,O){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=O,b.m=5,qf(b),el(b)}function qf(b){b.A||(b.A=!0,Le(b,"complete"),Le(b,"error"))}e.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,Le(this,"complete"),Le(this,"abort"),el(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),el(this,!0)),Bn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Kf(this):this.bb())},e.bb=function(){Kf(this)};function Kf(b){if(b.h&&typeof o<"u"&&(!b.v[1]||Ho(b)!=4||b.Z()!=2)){if(b.u&&Ho(b)==4)ht(b.Ea,0,b);else if(Le(b,"readystatechange"),Ho(b)==4){b.h=!1;try{const at=b.Z();e:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var U;if(!(U=O)){var J;if(J=at===0){var xe=String(b.D).match(Hd)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),J=!$f.test(xe?xe.toLowerCase():"")}U=J}if(U)Le(b,"complete"),Le(b,"success");else{b.m=6;try{var Ne=2<Ho(b)?b.g.statusText:""}catch{Ne=""}b.l=Ne+" ["+b.Z()+"]",qf(b)}}finally{el(b)}}}}function el(b,O){if(b.g){qd(b);const U=b.g,J=b.v[0]?()=>{}:null;b.g=null,b.v=null,O||Le(b,"ready");try{U.onreadystatechange=J}catch{}}}function qd(b){b.I&&(a.clearTimeout(b.I),b.I=null)}e.isActive=function(){return!!this.g};function Ho(b){return b.g?b.g.readyState:0}e.Z=function(){try{return 2<Ho(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(b){if(this.g){var O=this.g.responseText;return b&&O.indexOf(b)==0&&(O=O.substring(b.length)),ar(O)}};function yC(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function ET(b){const O={};b=(b.g&&2<=Ho(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<b.length;J++){if(R(b[J]))continue;var U=N(b[J]);const xe=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Ne=O[xe]||[];O[xe]=Ne,Ne.push(U)}D(O,function(J){return J.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kd(b,O,U){return U&&U.internalChannelParams&&U.internalChannelParams[b]||O}function Yf(b){this.Aa=0,this.i=[],this.j=new mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kd("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kd("baseRetryDelayMs",5e3,b),this.cb=Kd("retryDelaySeedMs",1e4,b),this.Wa=Kd("forwardChannelMaxRetries",2,b),this.wa=Kd("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Hr(b&&b.concurrentRequestLimit),this.Da=new Wd,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Yf.prototype,e.la=8,e.G=1,e.connect=function(b,O,U,J){Ee(0),this.W=b,this.H=O||{},U&&J!==void 0&&(this.H.OSID=U,this.H.OAID=J),this.F=this.X,this.I=TC(this,null,this.W),Qf(this)};function Um(b){if(wC(b),b.G==3){var O=b.U++,U=ro(b.I);if(Kn(U,"SID",b.K),Kn(U,"RID",O),Kn(U,"TYPE","terminate"),Yd(b,U),O=new De(b,b.j,O),O.L=2,O.v=Ud(ro(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(O.v.toString(),"")}catch{}!U&&a.Image&&(new Image().src=O.v,U=!0),U||(O.g=RC(O.j,null),O.g.ea(O.v)),O.F=Date.now(),it(O)}EC(b)}function Xf(b){b.g&&(Xd(b),b.g.cancel(),b.g=null)}function wC(b){Xf(b),b.u&&(a.clearTimeout(b.u),b.u=null),Jf(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&a.clearTimeout(b.s),b.s=null)}function Qf(b){if(!yn(b.h)&&!b.s){b.s=!0;var O=b.Ga;se||L(),fe||(se(),fe=!0),ne.add(O,b),b.B=0}}function TT(b,O){return ws(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=O.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Qe(p(b.Ga,b,O),Wm(b,b.B)),b.B++,!0)}e.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const xe=new De(this,this.j,b);let Ne=this.o;if(this.S&&(Ne?(Ne=k(Ne),B(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(xe.H=Ne,Ne=null),this.P)e:{for(var O=0,U=0;U<this.i.length;U++){t:{var J=this.i[U];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(O+=J,4096<O){O=U;break e}if(O===4096||U===this.i.length-1){O=U+1;break e}}O=1e3}else O=1e3;O=CC(this,xe,O),U=ro(this.I),Kn(U,"RID",b),Kn(U,"CVER",22),this.D&&Kn(U,"X-HTTP-Session-Id",this.D),Yd(this,U),Ne&&(this.O?O="headers="+encodeURIComponent(String(Gm(Ne)))+"&"+O:this.m&&Ci(U,this.m,Ne)),su(this.h,xe),this.Ua&&Kn(U,"TYPE","init"),this.P?(Kn(U,"$req",O),Kn(U,"SID","null"),xe.T=!0,$e(xe,U,null)):$e(xe,U,O),this.G=2}}else this.G==3&&(b?zm(this,b):this.i.length==0||yn(this.h)||zm(this))};function zm(b,O){var U;O?U=O.l:U=b.U++;const J=ro(b.I);Kn(J,"SID",b.K),Kn(J,"RID",U),Kn(J,"AID",b.T),Yd(b,J),b.m&&b.o&&Ci(J,b.m,b.o),U=new De(b,b.j,U,b.B+1),b.m===null&&(U.H=b.o),O&&(b.i=O.D.concat(b.i)),O=CC(b,U,1e3),U.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),su(b.h,U),$e(U,J,O)}function Yd(b,O){b.H&&A(b.H,function(U,J){Kn(O,J,U)}),b.l&&Lm({},function(U,J){Kn(O,J,U)})}function CC(b,O,U){U=Math.min(b.i.length,U);var J=b.l?p(b.l.Na,b.l,b):null;e:{var xe=b.i;let Ne=-1;for(;;){const at=["count="+U];Ne==-1?0<U?(Ne=xe[0].g,at.push("ofs="+Ne)):Ne=0:at.push("ofs="+Ne);let wn=!0;for(let di=0;di<U;di++){let Cn=xe[di].g;const bi=xe[di].map;if(Cn-=Ne,0>Cn)Ne=Math.max(0,xe[di].g-100),wn=!1;else try{Qa(bi,at,"req"+Cn+"_")}catch{J&&J(bi)}}if(wn){J=at.join("&");break e}}}return b=b.i.splice(0,U),O.D=b,J}function bC(b){if(!b.g&&!b.u){b.Y=1;var O=b.Fa;se||L(),fe||(se(),fe=!0),ne.add(O,b),b.v=0}}function jm(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Qe(p(b.Fa,b),Wm(b,b.v)),b.v++,!0)}e.Fa=function(){if(this.u=null,xC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Qe(p(this.ab,this),b)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Xf(this),xC(this))};function Xd(b){b.A!=null&&(a.clearTimeout(b.A),b.A=null)}function xC(b){b.g=new De(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var O=ro(b.qa);Kn(O,"RID","rpc"),Kn(O,"SID",b.K),Kn(O,"AID",b.T),Kn(O,"CI",b.F?"0":"1"),!b.F&&b.ja&&Kn(O,"TO",b.ja),Kn(O,"TYPE","xmlhttp"),Yd(b,O),b.m&&b.o&&Ci(O,b.m,b.o),b.L&&(b.g.I=b.L);var U=b.g;b=b.ia,U.L=1,U.v=Ud(ro(O)),U.m=null,U.P=!0,Ze(U,b)}e.Za=function(){this.C!=null&&(this.C=null,Xf(this),jm(this),Ee(19))};function Jf(b){b.C!=null&&(a.clearTimeout(b.C),b.C=null)}function SC(b,O){var U=null;if(b.g==O){Jf(b),Xd(b),b.g=null;var J=2}else if(wi(b.h,O))U=O.D,Cs(b.h,O),J=1;else return;if(b.G!=0){if(O.o)if(J==1){U=O.m?O.m.length:0,O=Date.now()-O.F;var xe=b.B;J=Lo(),Le(J,new je(J,U)),Qf(b)}else bC(b);else if(xe=O.s,xe==3||xe==0&&0<O.X||!(J==1&&TT(b,O)||J==2&&jm(b)))switch(U&&0<U.length&&(O=b.h,O.i=O.i.concat(U)),xe){case 1:sc(b,5);break;case 4:sc(b,10);break;case 3:sc(b,6);break;default:sc(b,2)}}}function Wm(b,O){let U=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(U*=2),U*O}function sc(b,O){if(b.j.info("Error code "+O),O==2){var U=p(b.fb,b),J=b.Xa;const xe=!J;J=new Jr(J||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gd(J,"https"),Ud(J),xe?jd(J.toString(),U):Ra(J.toString(),U)}else Ee(2);b.G=0,b.l&&b.l.sa(O),EC(b),wC(b)}e.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function EC(b){if(b.G=0,b.ka=[],b.l){const O=Om(b.h);(O.length!=0||b.i.length!=0)&&(C(b.ka,O),C(b.ka,b.i),b.h.i.length=0,w(b.i),b.i.length=0),b.l.ra()}}function TC(b,O,U){var J=U instanceof Jr?ro(U):new Jr(U);if(J.g!="")O&&(J.g=O+"."+J.g),ou(J,J.s);else{var xe=a.location;J=xe.protocol,O=O?O+"."+xe.hostname:xe.hostname,xe=+xe.port;var Ne=new Jr(null);J&&Gd(Ne,J),O&&(Ne.g=O),xe&&ou(Ne,xe),U&&(Ne.l=U),J=Ne}return U=b.D,O=b.ya,U&&O&&Kn(J,U,O),Kn(J,"VER",b.la),Yd(b,J),J}function RC(b,O,U){if(O&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=b.Ca&&!b.pa?new Bn(new au({eb:U})):new Bn(b.pa),O.Ha(b.J),O}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function _C(){}e=_C.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Zf(){}Zf.prototype.g=function(b,O){return new bs(b,O)};function bs(b,O){ve.call(this),this.g=new Yf(O),this.l=b,this.h=O&&O.messageUrlParams||null,b=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(b?b["X-WebChannel-Content-Type"]=O.messageContentType:b={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(b?b["X-WebChannel-Client-Profile"]=O.va:b={"X-WebChannel-Client-Profile":O.va}),this.g.S=b,(b=O&&O.Sb)&&!R(b)&&(this.g.m=b),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!R(O)&&(this.g.D=O,b=this.h,b!==null&&O in b&&(b=this.h,O in b&&delete b[O])),this.j=new tl(this)}y(bs,ve),bs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bs.prototype.close=function(){Um(this.g)},bs.prototype.o=function(b){var O=this.g;if(typeof b=="string"){var U={};U.__data__=b,b=U}else this.u&&(U={},U.__data__=Ar(b),b=U);O.i.push(new ys(O.Ya++,b)),O.G==3&&Qf(O)},bs.prototype.N=function(){this.g.l=null,delete this.j,Um(this.g),delete this.g,bs.aa.N.call(this)};function AC(b){to.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var O=b.__sm__;if(O){e:{for(const U in O){b=U;break e}b=void 0}(this.i=b)&&(b=this.i,O=O!==null&&b in O?O[b]:void 0),this.data=O}else this.data=b}y(AC,to);function DC(){no.call(this),this.status=1}y(DC,no);function tl(b){this.g=b}y(tl,_C),tl.prototype.ua=function(){Le(this.g,"a")},tl.prototype.ta=function(b){Le(this.g,new AC(b))},tl.prototype.sa=function(b){Le(this.g,new DC)},tl.prototype.ra=function(){Le(this.g,"b")},Zf.prototype.createWebChannel=Zf.prototype.g,bs.prototype.send=bs.prototype.o,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,BW=function(){return new Zf},NW=function(){return Lo()},LW=Oi,nP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Hx=K,ee.COMPLETE="complete",OW=ee,Ka.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",ve.prototype.listen=ve.prototype.K,sv=Ka,Bn.prototype.listenOnce=Bn.prototype.L,Bn.prototype.getLastError=Bn.prototype.Ka,Bn.prototype.getLastErrorCode=Bn.prototype.Ba,Bn.prototype.getStatus=Bn.prototype.Z,Bn.prototype.getResponseJson=Bn.prototype.Oa,Bn.prototype.getResponseText=Bn.prototype.oa,Bn.prototype.send=Bn.prototype.ea,Bn.prototype.setWithCredentials=Bn.prototype.Ha,MW=Bn}).apply(typeof Bb<"u"?Bb:typeof self<"u"?self:typeof window<"u"?window:{});const D3="@firebase/firestore",P3="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new eI("@firebase/firestore");function Vp(){return tf.logLevel}function vt(e,...t){if(tf.logLevel<=pn.DEBUG){const n=t.map(dI);tf.debug(`Firestore (${um}): ${e}`,...n)}}function jc(e,...t){if(tf.logLevel<=pn.ERROR){const n=t.map(dI);tf.error(`Firestore (${um}): ${e}`,...n)}}function Mg(e,...t){if(tf.logLevel<=pn.WARN){const n=t.map(dI);tf.warn(`Firestore (${um}): ${e}`,...n)}}function dI(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,VW(e,r,n)}function VW(e,t,n){let r=`FIRESTORE (${um}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jc(r),new Error(r)}function En(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||VW(t,i,r)}function Xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Wa{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(is.UNAUTHENTICATED))}shutdown(){}}class oge{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class age{constructor(t){this.t=t,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){En(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(En(typeof r.accessToken=="string",31837,{l:r}),new HW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return En(t===null||typeof t=="string",2055,{h:t}),new is(t)}}class lge{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=is.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cge{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new lge(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uge{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){En(this.o===void 0,3512);const r=s=>{s.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,vt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(En(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dge(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=dge(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function gn(e,t){return e<t?-1:e>t?1:0}function rP(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return W_(i)===W_(s)?gn(i,s):W_(i)?1:-1}return gn(e.length,t.length)}const hge=55296,fge=57343;function W_(e){const t=e.charCodeAt(0);return t>=hge&&t<=fge}function Og(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="__name__";class gl{constructor(t,n,r){n===void 0?n=0:n>t.length&&Mt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Mt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return gl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof gl?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=gl.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return gn(t.length,n.length)}static compareSegments(t,n){const r=gl.isNumericId(t),i=gl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?gl.extractNumericId(t).compare(gl.extractNumericId(n)):rP(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zu.fromString(t.substring(4,t.length-2))}}class Jn extends gl{construct(t,n,r){return new Jn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Jn(n)}static emptyPath(){return new Jn([])}}const pge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends gl{construct(t,n,r){return new $i(t,n,r)}static isValidIdentifier(t){return pge.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F3}static keyField(){return new $i([F3])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pt(Ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new pt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new pt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(n)}static emptyPath(){return new $i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t){this.path=t}static fromPath(t){return new Pt(Jn.fromString(t))}static fromName(t){return new Pt(Jn.fromString(t).popFirst(5))}static empty(){return new Pt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Pt(new Jn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(e,t,n){if(!n)throw new pt(Ge.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function gge(e,t,n,r){if(t===!0&&r===!0)throw new pt(Ge.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function I3(e){if(!Pt.isDocumentKey(e))throw new pt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function M3(e){if(Pt.isDocumentKey(e))throw new pt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function UW(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function fE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Mt(12329,{type:typeof e})}function Fs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fE(e);throw new pt(Ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ow(e,t){if(!UW(e))throw new pt(Ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new pt(Ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=-62135596800,L3=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(t){return ur.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*L3);return new ur(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<O3)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L3}_compareTo(t){return this.seconds===t.seconds?gn(this.nanoseconds,t.nanoseconds):gn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ur._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ow(t,ur._jsonSchema))return new ur(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ur._jsonSchemaVersion="firestore/timestamp/1.0",ur._jsonSchema={type:ui("string",ur._jsonSchemaVersion),seconds:ui("number"),nanoseconds:ui("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(t){return new Gt(t)}static min(){return new Gt(new ur(0,0))}static max(){return new Gt(new ur(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function mge(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new ur(n+1,0):new ur(n,r));return new cd(i,Pt.empty(),t)}function vge(e){return new cd(e.readTime,e.key,hy)}class cd{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new cd(Gt.min(),Pt.empty(),hy)}static max(){return new cd(Gt.max(),Pt.empty(),hy)}}function yge(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Pt.comparator(e.documentKey,t.documentKey),n!==0?n:gn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(e){if(e.code!==Ge.FAILED_PRECONDITION||e.message!==wge)throw e;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new qe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof qe?n:qe.resolve(n)}catch(n){return qe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):qe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):qe.reject(n)}static resolve(t){return new qe((n,r)=>{n(t)})}static reject(t){return new qe((n,r)=>{r(t)})}static waitFor(t){return new qe((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=qe.resolve(!1);for(const r of t)n=n.next(i=>i?qe.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new qe((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new qe((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function bge(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}pE.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=-1;function Lw(e){return e==null}function kS(e){return e===0&&1/e==-1/0}function xge(e){return typeof e=="number"&&Number.isInteger(e)&&!kS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW="";function Sge(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=N3(t)),t=Ege(e.get(n),t);return N3(t)}function Ege(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case zW:n+="";break;default:n+=s}}return n}function N3(e){return e+zW+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jW(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,n){this.comparator=t,this.root=n||zi.EMPTY}insert(t,n){return new Rr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(t){return new Rr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vb(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vb(this.root,t,this.comparator,!0)}}class Vb{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zi{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??zi.RED,this.left=i??zi.EMPTY,this.right=s??zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new zi(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return zi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new zi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.comparator=t,this.data=new Rr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new V3(this.data.getIterator())}getIteratorFrom(t){return new V3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof vi)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new vi(this.comparator);return n.data=t,n}}class V3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new Co([])}unionWith(t){let n=new vi($i.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Co(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Og(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WW("Invalid base64 string: "+s):s}}(t);return new Ji(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Ji(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const Tge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ud(e){if(En(!!e,39018),typeof e=="string"){let t=0;const n=Tge.exec(e);if(En(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qr(e.seconds),nanos:qr(e.nanos)}}function qr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function dd(e){return typeof e=="string"?Ji.fromBase64String(e):Ji.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W="server_timestamp",qW="__type__",KW="__previous_value__",YW="__local_write_time__";function pI(e){return(e?.mapValue?.fields||{})[qW]?.stringValue===$W}function gE(e){const t=e.mapValue.fields[KW];return pI(t)?gE(t):t}function fy(e){const t=ud(e.mapValue.fields[YW].timestampValue);return new ur(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge{constructor(t,n,r,i,s,o,a,l,c,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const FS="(default)";class py{constructor(t,n){this.projectId=t,this.database=n||FS}static empty(){return new py("","")}get isDefaultDatabase(){return this.database===FS}isEqual(t){return t instanceof py&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW="__type__",_ge="__max__",Hb={mapValue:{}},QW="__vector__",IS="value";function hd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pI(e)?4:Dge(e)?9007199254740991:Age(e)?10:11:Mt(28295,{value:e})}function Ul(e,t){if(e===t)return!0;const n=hd(e);if(n!==hd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fy(e).isEqual(fy(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ud(i.timestampValue),a=ud(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return dd(i.bytesValue).isEqual(dd(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return qr(i.geoPointValue.latitude)===qr(s.geoPointValue.latitude)&&qr(i.geoPointValue.longitude)===qr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qr(i.integerValue)===qr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qr(i.doubleValue),a=qr(s.doubleValue);return o===a?kS(o)===kS(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Og(e.arrayValue.values||[],t.arrayValue.values||[],Ul);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(B3(o)!==B3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ul(o[l],a[l])))return!1;return!0}(e,t);default:return Mt(52216,{left:e})}}function gy(e,t){return(e.values||[]).find(n=>Ul(n,t))!==void 0}function Lg(e,t){if(e===t)return 0;const n=hd(e),r=hd(t);if(n!==r)return gn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=qr(s.integerValue||s.doubleValue),l=qr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return H3(e.timestampValue,t.timestampValue);case 4:return H3(fy(e),fy(t));case 5:return rP(e.stringValue,t.stringValue);case 6:return function(s,o){const a=dd(s),l=dd(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=gn(a[c],l[c]);if(d!==0)return d}return gn(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=gn(qr(s.latitude),qr(o.latitude));return a!==0?a:gn(qr(s.longitude),qr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return G3(e.arrayValue,t.arrayValue);case 10:return function(s,o){const a=s.fields||{},l=o.fields||{},c=a[IS]?.arrayValue,d=l[IS]?.arrayValue,f=gn(c?.values?.length||0,d?.values?.length||0);return f!==0?f:G3(c,d)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Hb.mapValue&&o===Hb.mapValue)return 0;if(s===Hb.mapValue)return 1;if(o===Hb.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=rP(l[f],d[f]);if(p!==0)return p;const m=Lg(a[l[f]],c[d[f]]);if(m!==0)return m}return gn(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Mt(23264,{he:n})}}function H3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return gn(e,t);const n=ud(e),r=ud(t),i=gn(n.seconds,r.seconds);return i!==0?i:gn(n.nanos,r.nanos)}function G3(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Lg(n[i],r[i]);if(s)return s}return gn(n.length,r.length)}function Ng(e){return iP(e)}function iP(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ud(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return dd(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=iP(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${iP(n.fields[o])}`;return i+"}"}(e.mapValue):Mt(61005,{value:e})}function Gx(e){switch(hd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gE(e);return t?16+Gx(t):16;case 5:return 2*e.stringValue.length;case 6:return dd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Gx(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Pd(r.fields,(s,o)=>{i+=s.length+Gx(o)}),i}(e.mapValue);default:throw Mt(13486,{value:e})}}function U3(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function sP(e){return!!e&&"integerValue"in e}function gI(e){return!!e&&"arrayValue"in e}function z3(e){return!!e&&"nullValue"in e}function j3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ux(e){return!!e&&"mapValue"in e}function Age(e){return(e?.mapValue?.fields||{})[XW]?.stringValue===QW}function Cv(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Pd(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Cv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cv(e.arrayValue.values[n]);return t}return{...e}}function Dge(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===_ge}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t){this.value=t}static empty(){return new Ds({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ux(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cv(n)}setAll(t){let n=$i.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Ux(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ul(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Ux(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Pd(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ds(Cv(this.value))}}function JW(e){const t=[];return Pd(e.fields,(n,r)=>{const i=new $i([n]);if(Ux(r)){const s=JW(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Co(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ai(t,0,Gt.min(),Gt.min(),Gt.min(),Ds.empty(),0)}static newFoundDocument(t,n,r,i){return new Ai(t,1,n,Gt.min(),r,i,0)}static newNoDocument(t,n){return new Ai(t,2,n,Gt.min(),Gt.min(),Ds.empty(),0)}static newUnknownDocument(t,n){return new Ai(t,3,n,Gt.min(),Gt.min(),Ds.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ai&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,n){this.position=t,this.inclusive=n}}function W3(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Pt.comparator(Pt.fromName(o.referenceValue),n.key):r=Lg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ul(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,n="asc"){this.field=t,this.dir=n}}function Pge(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{}class ci extends ZW{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Fge(t,n,r):n==="array-contains"?new Oge(t,r):n==="in"?new Lge(t,r):n==="not-in"?new Nge(t,r):n==="array-contains-any"?new Bge(t,r):new ci(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Ige(t,r):new Mge(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lg(n,this.value)):n!==null&&hd(this.value)===hd(n)&&this.matchesComparison(Lg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class za extends ZW{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new za(t,n)}matches(t){return e7(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e7(e){return e.op==="and"}function t7(e){return kge(e)&&e7(e)}function kge(e){for(const t of e.filters)if(t instanceof za)return!1;return!0}function oP(e){if(e instanceof ci)return e.field.canonicalString()+e.op.toString()+Ng(e.value);if(t7(e))return e.filters.map(t=>oP(t)).join(",");{const t=e.filters.map(n=>oP(n)).join(",");return`${e.op}(${t})`}}function n7(e,t){return e instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.field.isEqual(i.field)&&Ul(r.value,i.value)}(e,t):e instanceof za?function(r,i){return i instanceof za&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&n7(o,i.filters[a]),!0):!1}(e,t):void Mt(19439)}function r7(e){return e instanceof ci?function(n){return`${n.field.canonicalString()} ${n.op} ${Ng(n.value)}`}(e):e instanceof za?function(n){return n.op.toString()+" {"+n.getFilters().map(r7).join(" ,")+"}"}(e):"Filter"}class Fge extends ci{constructor(t,n,r){super(t,n,r),this.key=Pt.fromName(r.referenceValue)}matches(t){const n=Pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Ige extends ci{constructor(t,n){super(t,"in",n),this.keys=i7("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Mge extends ci{constructor(t,n){super(t,"not-in",n),this.keys=i7("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function i7(e,t){return(t.arrayValue?.values||[]).map(n=>Pt.fromName(n.referenceValue))}class Oge extends ci{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gI(n)&&gy(n.arrayValue,this.value)}}class Lge extends ci{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&gy(this.value.arrayValue,n)}}class Nge extends ci{constructor(t,n){super(t,"not-in",n)}matches(t){if(gy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gy(this.value.arrayValue,n)}}class Bge extends ci{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vge{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function q3(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Vge(e,t,n,r,i,s,o)}function mI(e){const t=Xt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>oP(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ng(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ng(r)).join(",")),t.Te=n}return t.Te}function vI(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Pge(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!n7(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$3(e.startAt,t.startAt)&&$3(e.endAt,t.endAt)}function aP(e){return Pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Hge(e,t,n,r,i,s,o,a){return new fm(e,t,n,r,i,s,o,a)}function mE(e){return new fm(e)}function K3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function s7(e){return e.collectionGroup!==null}function bv(e){const t=Xt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vi($i.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new my(s,r))}),n.has($i.keyField().canonicalString())||t.Ie.push(new my($i.keyField(),r))}return t.Ie}function Il(e){const t=Xt(e);return t.Ee||(t.Ee=Gge(t,bv(e))),t.Ee}function Gge(e,t){if(e.limitType==="F")return q3(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new my(i.field,s)});const n=e.endAt?new MS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new MS(e.startAt.position,e.startAt.inclusive):null;return q3(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lP(e,t){const n=e.filters.concat([t]);return new fm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cP(e,t,n){return new fm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vE(e,t){return vI(Il(e),Il(t))&&e.limitType===t.limitType}function o7(e){return`${mI(Il(e))}|lt:${e.limitType}`}function Hp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>r7(i)).join(", ")}]`),Lw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ng(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ng(i)).join(",")),`Target(${r})`}(Il(e))}; limitType=${e.limitType})`}function yE(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of bv(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=W3(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,bv(r),i)||r.endAt&&!function(o,a,l){const c=W3(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,bv(r),i))}(e,t)}function Uge(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function a7(e){return(t,n)=>{let r=!1;for(const i of bv(e)){const s=zge(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zge(e,t,n){const r=e.field.isKeyField()?Pt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Lg(l,c):Mt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Pd(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return jW(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jge=new Rr(Pt.comparator);function Wc(){return jge}const l7=new Rr(Pt.comparator);function ov(...e){let t=l7;for(const n of e)t=t.insert(n.key,n);return t}function c7(e){let t=l7;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Th(){return xv()}function u7(){return xv()}function xv(){return new _f(e=>e.toString(),(e,t)=>e.isEqual(t))}const Wge=new Rr(Pt.comparator),$ge=new vi(Pt.comparator);function mn(...e){let t=$ge;for(const n of e)t=t.add(n);return t}const qge=new vi(gn);function Kge(){return qge}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kS(t)?"-0":t}}function d7(e){return{integerValue:""+e}}function h7(e,t){return xge(t)?d7(t):yI(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this._=void 0}}function Yge(e,t,n){return e instanceof OS?function(i,s){const o={fields:{[qW]:{stringValue:$W},[YW]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pI(s)&&(s=gE(s)),s&&(o.fields[KW]=s),{mapValue:o}}(n,t):e instanceof Bg?p7(e,t):e instanceof Vg?g7(e,t):function(i,s){const o=f7(i,s),a=Y3(o)+Y3(i.Ae);return sP(o)&&sP(i.Ae)?d7(a):yI(i.serializer,a)}(e,t)}function Xge(e,t,n){return e instanceof Bg?p7(e,t):e instanceof Vg?g7(e,t):n}function f7(e,t){return e instanceof vy?function(r){return sP(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class OS extends wE{}class Bg extends wE{constructor(t){super(),this.elements=t}}function p7(e,t){const n=m7(t);for(const r of e.elements)n.some(i=>Ul(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vg extends wE{constructor(t){super(),this.elements=t}}function g7(e,t){let n=m7(t);for(const r of e.elements)n=n.filter(i=>!Ul(i,r));return{arrayValue:{values:n}}}class vy extends wE{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Y3(e){return qr(e.integerValue||e.doubleValue)}function m7(e){return gI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n){this.field=t,this.transform=n}}function Qge(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Bg&&i instanceof Bg||r instanceof Vg&&i instanceof Vg?Og(r.elements,i.elements,Ul):r instanceof vy&&i instanceof vy?Ul(r.Ae,i.Ae):r instanceof OS&&i instanceof OS}(e.transform,t.transform)}class Jge{constructor(t,n){this.version=t,this.transformResults=n}}class qi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class CE{}function v7(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new bE(e.key,qi.none()):new Nw(e.key,e.data,qi.none());{const n=e.data,r=Ds.empty();let i=new vi($i.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new kd(e.key,r,new Co(i.toArray()),qi.none())}}function Zge(e,t,n){e instanceof Nw?function(i,s,o){const a=i.value.clone(),l=Q3(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof kd?function(i,s,o){if(!zx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Q3(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(y7(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Sv(e,t,n,r){return e instanceof Nw?function(s,o,a,l){if(!zx(s.precondition,o))return a;const c=s.value.clone(),d=J3(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof kd?function(s,o,a,l){if(!zx(s.precondition,o))return a;const c=J3(s.fieldTransforms,l,o),d=o.data;return d.setAll(y7(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return zx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function eme(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=f7(r.transform,i||null);s!=null&&(n===null&&(n=Ds.empty()),n.set(r.field,s))}return n||null}function X3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Og(r,i,(s,o)=>Qge(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nw extends CE{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kd extends CE{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function y7(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Q3(e,t,n){const r=new Map;En(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Xge(o,a,n[i]))}return r}function J3(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Yge(s,o,t))}return r}class bE extends CE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w7 extends CE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tme{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Zge(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Sv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Sv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=u7();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=v7(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),mn())}isEqual(t){return this.batchId===t.batchId&&Og(this.mutations,t.mutations,(n,r)=>X3(n,r))&&Og(this.baseMutations,t.baseMutations,(n,r)=>X3(n,r))}}class CI{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){En(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Wge}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new CI(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nme{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rme{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni,xn;function C7(e){switch(e){case Ge.OK:return Mt(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Mt(15467,{code:e})}}function b7(e){if(e===void 0)return jc("GRPC error has no .code"),Ge.UNKNOWN;switch(e){case ni.OK:return Ge.OK;case ni.CANCELLED:return Ge.CANCELLED;case ni.UNKNOWN:return Ge.UNKNOWN;case ni.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case ni.INTERNAL:return Ge.INTERNAL;case ni.UNAVAILABLE:return Ge.UNAVAILABLE;case ni.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case ni.NOT_FOUND:return Ge.NOT_FOUND;case ni.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case ni.ABORTED:return Ge.ABORTED;case ni.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case ni.DATA_LOSS:return Ge.DATA_LOSS;default:return Mt(39323,{code:e})}}(xn=ni||(ni={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ime(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sme=new Zu([4294967295,4294967295],0);function Z3(e){const t=ime().encode(e),n=new IW;return n.update(t),new Uint8Array(n.digest())}function eH(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Zu([n,r],0),new Zu([i,s],0)]}class bI{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new av(`Invalid padding: ${n}`);if(r<0)throw new av(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new av(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new av(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zu.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(Zu.fromNumber(r)));return i.compare(sme)===1&&(i=new Zu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Z3(t),[r,i]=eH(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new bI(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=Z3(t),[r,i]=eH(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class av extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Bw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xE(Gt.min(),i,new Rr(gn),Wc(),mn())}}class Bw{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Bw(r,n,mn(),mn(),mn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class x7{constructor(t,n){this.targetId=t,this.Ce=n}}class S7{constructor(t,n,r=Ji.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tH{constructor(){this.ve=0,this.Fe=nH(),this.Me=Ji.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=mn(),n=mn(),r=mn();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Mt(38017,{changeType:s})}}),new Bw(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=nH()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,En(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ome{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wc(),this.Je=Gb(),this.He=Gb(),this.Ye=new Rr(gn)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(aP(s))if(r===0){const o=new Pt(s.path);this.et(n,o,Ai.newNoDocument(o,Gt.min()))}else En(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=dd(r).toUint8Array()}catch(l){if(l instanceof WW)return Mg("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bI(o,i,s)}catch(l){return Mg(l instanceof av?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&aP(a.target)){const l=new Pt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ai.newNoDocument(l,t))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=mn();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new xE(t,n,this.Ye,this.je,r);return this.je=Wc(),this.Je=Gb(),this.He=Gb(),this.Ye=new Rr(gn),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new tH,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new vi(gn),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new vi(gn),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tH),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Gb(){return new Rr(Pt.comparator)}function nH(){return new Rr(Pt.comparator)}const ame={asc:"ASCENDING",desc:"DESCENDING"},lme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cme={and:"AND",or:"OR"};class ume{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function uP(e,t){return e.useProto3Json||Lw(t)?t:{value:t}}function LS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function E7(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dme(e,t){return LS(e,t.toTimestamp())}function _o(e){return En(!!e,49232),Gt.fromTimestamp(function(n){const r=ud(n);return new ur(r.seconds,r.nanos)}(e))}function xI(e,t){return dP(e,t).canonicalString()}function dP(e,t){const n=function(i){return new Jn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function T7(e){const t=Jn.fromString(e);return En(k7(t),10190,{key:t.toString()}),t}function NS(e,t){return xI(e.databaseId,t.path)}function Ev(e,t){const n=T7(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pt(_7(n))}function R7(e,t){return xI(e.databaseId,t)}function hme(e){const t=T7(e);return t.length===4?Jn.emptyPath():_7(t)}function hP(e){return new Jn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _7(e){return En(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function rH(e,t,n){return{name:NS(e,t),fields:n.value.mapValue.fields}}function fme(e,t){return"found"in t?function(r,i){En(!!i.found,43571),i.found.name,i.found.updateTime;const s=Ev(r,i.found.name),o=_o(i.found.updateTime),a=i.found.createTime?_o(i.found.createTime):Gt.min(),l=new Ds({mapValue:{fields:i.found.fields}});return Ai.newFoundDocument(s,o,a,l)}(e,t):"missing"in t?function(r,i){En(!!i.missing,3894),En(!!i.readTime,22933);const s=Ev(r,i.missing),o=_o(i.readTime);return Ai.newNoDocument(s,o)}(e,t):Mt(7234,{result:t})}function pme(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Mt(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(En(d===void 0||typeof d=="string",58123),Ji.fromBase64String(d||"")):(En(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ji.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Ge.UNKNOWN:b7(c.code);return new pt(d,c.message||"")}(o);n=new S7(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ev(e,r.document.name),s=_o(r.document.updateTime),o=r.document.createTime?_o(r.document.createTime):Gt.min(),a=new Ds({mapValue:{fields:r.document.fields}}),l=Ai.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new jx(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ev(e,r.document),s=r.readTime?_o(r.readTime):Gt.min(),o=Ai.newNoDocument(i,s),a=r.removedTargetIds||[];n=new jx([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ev(e,r.document),s=r.removedTargetIds||[];n=new jx([],s,i,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rme(i,s),a=r.targetId;n=new x7(a,o)}}return n}function A7(e,t){let n;if(t instanceof Nw)n={update:rH(e,t.key,t.value)};else if(t instanceof bE)n={delete:NS(e,t.key)};else if(t instanceof kd)n={update:rH(e,t.key,t.data),updateMask:Sme(t.fieldMask)};else{if(!(t instanceof w7))return Mt(16599,{Vt:t.type});n={verify:NS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof OS)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vy)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Mt(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dme(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Mt(27497)}(e,t.precondition)),n}function gme(e,t){return e&&e.length>0?(En(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?_o(i.updateTime):_o(s);return o.isEqual(Gt.min())&&(o=_o(s)),new Jge(o,i.transformResults||[])}(n,t))):[]}function mme(e,t){return{documents:[R7(e,t.path)]}}function vme(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=R7(e,i);const s=function(c){if(c.length!==0)return P7(za.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Gp(p.field),direction:Cme(p.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=uP(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function yme(e){let t=hme(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){En(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=D7(f);return p instanceof za&&t7(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(y){return new my(Up(y.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Lw(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new MS(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new MS(m,p)}(n.endAt)),Hge(t,i,o,s,a,"F",l,c)}function wme(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function D7(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Up(n.unaryFilter.field);return ci.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Up(n.unaryFilter.field);return ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Up(n.unaryFilter.field);return ci.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Up(n.unaryFilter.field);return ci.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}}(e):e.fieldFilter!==void 0?function(n){return ci.create(Up(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return za.create(n.compositeFilter.filters.map(r=>D7(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}}(n.compositeFilter.op))}(e):Mt(30097,{filter:e})}function Cme(e){return ame[e]}function bme(e){return lme[e]}function xme(e){return cme[e]}function Gp(e){return{fieldPath:e.canonicalString()}}function Up(e){return $i.fromServerFormat(e.fieldPath)}function P7(e){return e instanceof ci?function(n){if(n.op==="=="){if(j3(n.value))return{unaryFilter:{field:Gp(n.field),op:"IS_NAN"}};if(z3(n.value))return{unaryFilter:{field:Gp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j3(n.value))return{unaryFilter:{field:Gp(n.field),op:"IS_NOT_NAN"}};if(z3(n.value))return{unaryFilter:{field:Gp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gp(n.field),op:bme(n.op),value:n.value}}}(e):e instanceof za?function(n){const r=n.getFilters().map(i=>P7(i));return r.length===1?r[0]:{compositeFilter:{op:xme(n.op),filters:r}}}(e):Mt(54877,{filter:e})}function Sme(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function k7(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n,r,i,s=Gt.min(),o=Gt.min(),a=Ji.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ku(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(t){this.yt=t}}function Tme(e){const t=yme({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cP(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rme{constructor(){this.Cn=new _me}addToCollectionParentIndex(t,n){return this.Cn.add(n),qe.resolve()}getCollectionParents(t,n){return qe.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return qe.resolve()}deleteFieldIndex(t,n){return qe.resolve()}deleteAllFieldIndexes(t){return qe.resolve()}createTargetIndexes(t,n){return qe.resolve()}getDocumentsMatchingTarget(t,n){return qe.resolve(null)}getIndexType(t,n){return qe.resolve(0)}getFieldIndexes(t,n){return qe.resolve([])}getNextCollectionGroupToUpdate(t){return qe.resolve(null)}getMinOffset(t,n){return qe.resolve(cd.min())}getMinOffsetFromCollectionGroup(t,n){return qe.resolve(cd.min())}updateCollectionGroup(t,n,r){return qe.resolve()}updateIndexEntries(t,n){return qe.resolve()}}class _me{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new vi(Jn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new vi(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F7=41943040;class Us{static withCacheSize(t){return new Us(t,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(F7,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Hg(0)}static cr(){return new Hg(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH="LruGarbageCollector",Ame=1048576;function oH([e,t],[n,r]){const i=gn(e,n);return i===0?gn(t,r):i}class Dme{constructor(t){this.Ir=t,this.buffer=new vi(oH),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();oH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pme{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vt(sH,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hm(n)?vt(sH,"Ignoring IndexedDB error during garbage collection: ",n):await dm(n)}await this.Vr(3e5)})}}class kme{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return qe.resolve(pE.ce);const r=new Dme(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(iH)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iH):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(c=Date.now(),Vp()<=pn.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Fme(e,t){return new kme(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ime{constructor(){this.changes=new _f(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ai.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?qe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mme{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ome{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Sv(r.mutation,i,Co.empty(),ur.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,mn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=mn()){const i=Th();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=ov();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Th();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,mn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Wc();const o=xv(),a=function(){return xv()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof kd)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Sv(d.mutation,c,d.mutation.getFieldMask(),ur.now())):o.set(c.key,Co.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new Mme(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(t,n){const r=xv();let i=new Rr((o,a)=>o-a),s=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Co.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||mn()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=u7();d.forEach(p=>{if(!s.has(p)){const m=v7(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,f))}return qe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):s7(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):qe.resolve(Th());let a=hy,l=s;return o.next(c=>qe.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?qe.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,mn())).next(d=>({batchId:a,changes:c7(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Pt(n)).next(r=>{let i=ov();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=ov();return this.indexManager.getCollectionParents(t,s).next(a=>qe.forEach(a,l=>{const c=function(f,p){return new fm(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ai.newInvalidDocument(d)))});let a=ov();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Sv(d.mutation,c,Co.empty(),ur.now()),yE(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lme{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return qe.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_o(i.createTime)}}(n)),qe.resolve()}getNamedQuery(t,n){return qe.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Tme(i.bundledQuery),readTime:_o(i.readTime)}}(n)),qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nme{constructor(){this.overlays=new Rr(Pt.comparator),this.qr=new Map}getOverlay(t,n){return qe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Th();return qe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),qe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),qe.resolve()}getOverlaysForCollection(t,n,r){const i=Th(),s=n.length+1,o=new Pt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return qe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Rr((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Th(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Th(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return qe.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nme(n,r));let s=this.qr.get(n);s===void 0&&(s=mn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bme{constructor(){this.sessionToken=Ji.EMPTY_BYTE_STRING}getSessionToken(t){return qe.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.Qr=new vi(Ri.$r),this.Ur=new vi(Ri.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ri(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new Ri(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new Pt(new Jn([])),r=new Ri(n,t),i=new Ri(n,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Pt(new Jn([])),r=new Ri(n,t),i=new Ri(n,t+1);let s=mn();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Ri(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ri{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Pt.comparator(t.key,n.key)||gn(t.Yr,n.Yr)}static Kr(t,n){return gn(t.Yr,n.Yr)||Pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vme{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vi(Ri.$r)}checkEmpty(t){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tme(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Ri(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return qe.resolve(o)}lookupMutationBatch(t,n){return qe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?fI:this.tr-1)}getAllMutationBatches(t){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ri(n,0),i=new Ri(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new vi(gn);return n.forEach(i=>{const s=new Ri(i,0),o=new Ri(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),qe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Pt.isDocumentKey(s)||(s=s.child(""));const o=new Ri(new Pt(s),0);let a=new vi(gn);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),qe.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){En(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return qe.forEach(n.mutations,i=>{const s=new Ri(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new Ri(n,0),i=this.Zr.firstAfterOrEqual(r);return qe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,qe.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hme{constructor(t){this.ri=t,this.docs=function(){return new Rr(Pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return qe.resolve(r?r.document.mutableCopy():Ai.newInvalidDocument(n))}getEntries(t,n){let r=Wc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ai.newInvalidDocument(i))}),qe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Wc();const o=n.path,a=new Pt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yge(vge(d),r)<=0||(i.has(d.key)||yE(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return qe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Mt(9500)}ii(t,n){return qe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Gme(this)}getSize(t){return qe.resolve(this.size)}}class Gme extends Ime{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),qe.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ume{constructor(t){this.persistence=t,this.si=new _f(n=>mI(n),vI),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new SI,this.targetCount=0,this.ai=Hg.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),qe.resolve()}getLastRemoteSnapshotVersion(t){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return qe.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),qe.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Hg(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,qe.resolve()}updateTargetData(t,n){return this.Pr(n),qe.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,qe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),qe.waitFor(s).next(()=>i)}getTargetCount(t){return qe.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return qe.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),qe.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),qe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),qe.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return qe.resolve(r)}containsKey(t,n){return qe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t,n){this.ui={},this.overlays={},this.ci=new pE(0),this.li=!1,this.li=!0,this.hi=new Bme,this.referenceDelegate=t(this),this.Pi=new Ume(this),this.indexManager=new Rme,this.remoteDocumentCache=function(i){return new Hme(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Eme(n),this.Ii=new Lme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Nme,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new Vme(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){vt("MemoryPersistence","Starting transaction:",t);const i=new zme(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,n){return qe.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class zme extends Cge{constructor(t){super(),this.currentSequenceNumber=t}}class EI{constructor(t){this.persistence=t,this.Ri=new SI,this.Vi=null}static mi(t){return new EI(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),qe.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),qe.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),qe.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.fi,r=>{const i=Pt.fromPath(r);return this.gi(t,i).next(s=>{s||n.removeEntry(i,Gt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return qe.or([()=>qe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class BS{constructor(t,n){this.persistence=t,this.pi=new _f(r=>Sge(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Fme(this,n)}static mi(t,n){return new BS(t,n)}Ei(){}di(t){return qe.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return qe.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?qe.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,n).next(a=>{a||(r++,s.removeEntry(o,Gt.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),qe.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),qe.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),qe.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),qe.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Gx(t.data.value)),n}br(t,n,r){return qe.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return qe.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=mn(),i=mn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new TI(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yde()?8:bge(hs())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ys(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jme;return this.Ss(t,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(t,n,o,a.size)})}).next(()=>s.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(Vp()<=pn.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Hp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),qe.resolve()):(Vp()<=pn.DEBUG&&vt("QueryEngine","Query:",Hp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Vp()<=pn.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Hp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Il(n))):qe.resolve())}ys(t,n){if(K3(n))return qe.resolve(null);let r=Il(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cP(n,null,"F"),r=Il(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=mn(...s);return this.ps.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(t,cP(n,null,"F")):this.vs(t,c,n,l)}))})))}ws(t,n,r,i){return K3(n)||i.isEqual(Gt.min())?qe.resolve(null):this.ps.getDocuments(t,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?qe.resolve(null):(Vp()<=pn.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hp(n)),this.vs(t,o,n,mge(i,hy)).next(a=>a))})}Ds(t,n){let r=new vi(a7(t));return n.forEach((i,s)=>{yE(t,s)&&(r=r.add(s))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,n,r){return Vp()<=pn.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Hp(n)),this.ps.getDocumentsMatchingQuery(t,n,cd.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="LocalStore",$me=3e8;class qme{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new Rr(gn),this.xs=new _f(s=>mI(s),vI),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ome(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Kme(e,t,n,r){return new qme(e,t,n,r)}async function M7(e,t){const n=Xt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=mn();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function Yme(e,t){const n=Xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=qe.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(w=>{const C=c.docVersions.get(y);En(C!==null,48541),w.version.compareTo(C)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=mn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function O7(e){const t=Xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function Xme(e,t){const n=Xt(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(Ji.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(w,C,S){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=$me?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(s,m))});let l=Wc(),c=mn();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Qme(s,o,t.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(Gt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return qe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function Qme(e,t,n){let r=mn(),i=mn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Wc();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Gt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):vt(RI,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function Jme(e,t){const n=Xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=fI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Zme(e,t){const n=Xt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(s=>s?(i=s,qe.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Ku(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function fP(e,t,n){const r=Xt(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hm(o))throw o;vt(RI,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function aH(e,t,n){const r=Xt(e);let i=Gt.min(),s=mn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Xt(l),p=f.xs.get(d);return p!==void 0?qe.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,Il(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,n?i:Gt.min(),n?s:mn())).next(a=>(e0e(r,Uge(t),a),{documents:a,Qs:s})))}function e0e(e,t,n){let r=e.Os.get(t)||Gt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Os.set(t,r)}class lH{constructor(){this.activeTargetIds=Kge()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class t0e{constructor(){this.Mo=new lH,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lH,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="ConnectivityMonitor";class uH{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vt(cH,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vt(cH,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub=null;function pP(){return Ub===null?Ub=function(){return 268435456+Math.round(2147483648*Math.random())}():Ub++,"0x"+Ub.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="RestConnection",r0e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i0e{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===FS?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,s){const o=pP(),a=this.zo(t,n.toUriEncodedString());vt($_,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),d=_d(c);return this.Jo(t,a,l,r,d).then(f=>(vt($_,`Received RPC '${t}' ${o}: `,f),f),f=>{throw Mg($_,`RPC '${t}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(t,n,r,i,s,o){return this.Go(t,n,r,i,s)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+um}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,n){const r=r0e[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class o0e extends i0e{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,s){const o=pP();return new Promise((a,l)=>{const c=new MW;c.setWithCredentials(!0),c.listenOnce(OW.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hx.NO_ERROR:const f=c.getResponseJson();vt(ts,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),a(f);break;case Hx.TIMEOUT:vt(ts,`RPC '${t}' ${o} timed out`),l(new pt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case Hx.HTTP_ERROR:const p=c.getStatus();if(vt(ts,`RPC '${t}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const w=function(S){const R=S.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(R)>=0?R:Ge.UNKNOWN}(y.status);l(new pt(w,y.message))}else l(new pt(Ge.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new pt(Ge.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{vt(ts,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(i);vt(ts,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(t,n,r){const i=pP(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=BW(),a=NW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");vt(ts,`Creating RPC '${t}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,m=!1;const y=new s0e({Yo:C=>{m?vt(ts,`Not sending because RPC '${t}' stream ${i} is closed:`,C):(p||(vt(ts,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),vt(ts,`RPC '${t}' stream ${i} sending:`,C),f.send(C))},Zo:()=>f.close()}),w=(C,S,R)=>{C.listen(S,E=>{try{R(E)}catch(P){setTimeout(()=>{throw P},0)}})};return w(f,sv.EventType.OPEN,()=>{m||(vt(ts,`RPC '${t}' stream ${i} transport opened.`),y.o_())}),w(f,sv.EventType.CLOSE,()=>{m||(m=!0,vt(ts,`RPC '${t}' stream ${i} transport closed`),y.a_(),this.E_(f))}),w(f,sv.EventType.ERROR,C=>{m||(m=!0,Mg(ts,`RPC '${t}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),y.a_(new pt(Ge.UNAVAILABLE,"The operation could not be completed")))}),w(f,sv.EventType.MESSAGE,C=>{if(!m){const S=C.data[0];En(!!S,16349);const R=S,E=R?.error||R[0]?.error;if(E){vt(ts,`RPC '${t}' stream ${i} received error:`,E);const P=E.status;let M=function(k){const I=ni[k];if(I!==void 0)return b7(I)}(P),A=E.message;M===void 0&&(M=Ge.INTERNAL,A="Unknown error status: "+P+" with message "+E.message),m=!0,y.a_(new pt(M,A)),f.close()}else vt(ts,`RPC '${t}' stream ${i} received:`,S),y.u_(S)}}),w(a,LW.STAT_EVENT,C=>{C.stat===nP.PROXY?vt(ts,`RPC '${t}' stream ${i} detected buffering proxy`):C.stat===nP.NOPROXY&&vt(ts,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function q_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(e){return new ume(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="PersistentStream";class L7{constructor(t,n,r,i,s,o,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _I(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Ge.RESOURCE_EXHAUSTED?(jc(n.toString()),jc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new pt(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return vt(dH,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(vt(dH,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a0e extends L7{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=pme(this.serializer,t),r=function(s){if(!("targetChange"in s))return Gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?_o(o.readTime):Gt.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=hP(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=aP(l)?{documents:mme(s,l)}:{query:vme(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=E7(s,o.resumeToken);const c=uP(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Gt.min())>0){a.readTime=LS(s,o.snapshotVersion.toTimestamp());const c=uP(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=wme(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=hP(this.serializer),n.removeTarget=t,this.q_(n)}}class l0e extends L7{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return En(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,En(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){En(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=gme(t.writeResults,t.commitTime),r=_o(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=hP(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>A7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0e{}class u0e extends c0e{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,dP(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pt(Ge.UNKNOWN,s.toString())})}Ho(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(t,dP(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(Ge.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class d0e{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jc(n),this.aa=!1):vt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="RemoteStore";class h0e{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Af(this)&&(vt(nf,"Restarting streams for network reachability change."),await async function(l){const c=Xt(l);c.Ea.add(4),await Vw(c),c.Ra.set("Unknown"),c.Ea.delete(4),await EE(c)}(this))})}),this.Ra=new d0e(r,i)}}async function EE(e){if(Af(e))for(const t of e.da)await t(!0)}async function Vw(e){for(const t of e.da)await t(!1)}function N7(e,t){const n=Xt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),kI(n)?PI(n):pm(n).O_()&&DI(n,t))}function AI(e,t){const n=Xt(e),r=pm(n);n.Ia.delete(t),r.O_()&&B7(n,t),n.Ia.size===0&&(r.O_()?r.L_():Af(n)&&n.Ra.set("Unknown"))}function DI(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}pm(e).Y_(t)}function B7(e,t){e.Va.Ue(t),pm(e).Z_(t)}function PI(e){e.Va=new ome({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),pm(e).start(),e.Ra.ua()}function kI(e){return Af(e)&&!pm(e).x_()&&e.Ia.size>0}function Af(e){return Xt(e).Ea.size===0}function V7(e){e.Va=void 0}async function f0e(e){e.Ra.set("Online")}async function p0e(e){e.Ia.forEach((t,n)=>{DI(e,t)})}async function g0e(e,t){V7(e),kI(e)?(e.Ra.ha(t),PI(e)):e.Ra.set("Unknown")}async function m0e(e,t,n){if(e.Ra.set("Online"),t instanceof S7&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(r){vt(nf,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await VS(e,r)}else if(t instanceof jx?e.Va.Ze(t):t instanceof x7?e.Va.st(t):e.Va.tt(t),!n.isEqual(Gt.min()))try{const r=await O7(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Ji.EMPTY_BYTE_STRING,d.snapshotVersion)),B7(s,l);const f=new Ku(d.target,l,c,d.sequenceNumber);DI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){vt(nf,"Failed to raise snapshot:",r),await VS(e,r)}}async function VS(e,t,n){if(!hm(t))throw t;e.Ea.add(1),await Vw(e),e.Ra.set("Offline"),n||(n=()=>O7(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vt(nf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await EE(e)})}function H7(e,t){return t().catch(n=>VS(e,n,t))}async function TE(e){const t=Xt(e),n=fd(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fI;for(;v0e(t);)try{const i=await Jme(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,y0e(t,i)}catch(i){await VS(t,i)}G7(t)&&U7(t)}function v0e(e){return Af(e)&&e.Ta.length<10}function y0e(e,t){e.Ta.push(t);const n=fd(e);n.O_()&&n.X_&&n.ea(t.mutations)}function G7(e){return Af(e)&&!fd(e).x_()&&e.Ta.length>0}function U7(e){fd(e).start()}async function w0e(e){fd(e).ra()}async function C0e(e){const t=fd(e);for(const n of e.Ta)t.ea(n.mutations)}async function b0e(e,t,n){const r=e.Ta.shift(),i=CI.from(r,t,n);await H7(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await TE(e)}async function x0e(e,t){t&&fd(e).X_&&await async function(r,i){if(function(o){return C7(o)&&o!==Ge.ABORTED}(i.code)){const s=r.Ta.shift();fd(r).B_(),await H7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await TE(r)}}(e,t),G7(e)&&U7(e)}async function hH(e,t){const n=Xt(e);n.asyncQueue.verifyOperationInProgress(),vt(nf,"RemoteStore received new credentials");const r=Af(n);n.Ea.add(3),await Vw(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await EE(n)}async function S0e(e,t){const n=Xt(e);t?(n.Ea.delete(2),await EE(n)):t||(n.Ea.add(2),await Vw(n),n.Ra.set("Unknown"))}function pm(e){return e.ma||(e.ma=function(n,r,i){const s=Xt(n);return s.sa(),new a0e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:f0e.bind(null,e),t_:p0e.bind(null,e),r_:g0e.bind(null,e),H_:m0e.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),kI(e)?PI(e):e.Ra.set("Unknown")):(await e.ma.stop(),V7(e))})),e.ma}function fd(e){return e.fa||(e.fa=function(n,r,i){const s=Xt(n);return s.sa(),new l0e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:w0e.bind(null,e),r_:x0e.bind(null,e),ta:C0e.bind(null,e),na:b0e.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await TE(e)):(await e.fa.stop(),e.Ta.length>0&&(vt(nf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new FI(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(Ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function II(e,t){if(jc("AsyncQueue",`${t}: ${e}`),hm(e))return new pt(Ge.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static emptySet(t){return new ag(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Pt.comparator(n.key,r.key):(n,r)=>Pt.comparator(n.key,r.key),this.keyedMap=ov(),this.sortedSet=new Rr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ag)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ag;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.ga=new Rr(Pt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Gg{constructor(t,n,r,i,s,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gg(t,n,ag.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class T0e{constructor(){this.queries=pH(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xt(n),s=i.queries;i.queries=pH(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new pt(Ge.ABORTED,"Firestore shutting down"))}}function pH(){return new _f(e=>o7(e),vE)}async function MI(e,t){const n=Xt(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new E0e,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=II(o,`Initialization of query '${Hp(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&LI(n)}async function OI(e,t){const n=Xt(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R0e(e,t){const n=Xt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&LI(n)}function _0e(e,t,n){const r=Xt(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function LI(e){e.Ca.forEach(t=>{t.next()})}var gP,gH;(gH=gP||(gP={})).Ma="default",gH.Cache="cache";class NI{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Gg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Gg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(t){this.key=t}}class j7{constructor(t){this.key=t}}class A0e{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mn(),this.mutatedKeys=mn(),this.eu=a7(t),this.tu=new ag(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new fH,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,f)=>{const p=i.get(d),m=yE(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let C=!1;p&&m?p.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),C=!0):this.su(p,m)||(r.track({type:2,doc:m}),C=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),C=!0):p&&!m&&(r.track({type:1,doc:p}),C=!0,(l||c)&&(a=!0)),C&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((d,f)=>function(m,y){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:C})}};return w(m)-w(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Gg(this.query,t.tu,s,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fH,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=mn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new j7(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new z7(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=mn();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Gg.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const BI="SyncEngine";class D0e{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class P0e{constructor(t){this.key=t,this.hu=!1}}class k0e{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new _f(a=>o7(a),vE),this.Iu=new Map,this.Eu=new Set,this.du=new Rr(Pt.comparator),this.Au=new Map,this.Ru=new SI,this.Vu={},this.mu=new Map,this.fu=Hg.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F0e(e,t,n=!0){const r=X7(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await W7(r,t,n,!0),i}async function I0e(e,t){const n=X7(e);await W7(n,t,!0,!1)}async function W7(e,t,n,r){const i=await Zme(e.localStore,Il(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await M0e(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&N7(e.remoteStore,i),a}async function M0e(e,t,n,r,i){e.pu=(f,p,m)=>async function(w,C,S,R){let E=C.view.ru(S);E.Cs&&(E=await aH(w.localStore,C.query,!1).then(({documents:D})=>C.view.ru(D,E)));const P=R&&R.targetChanges.get(C.targetId),M=R&&R.targetMismatches.get(C.targetId)!=null,A=C.view.applyChanges(E,w.isPrimaryClient,P,M);return vH(w,C.targetId,A.au),A.snapshot}(e,f,p,m);const s=await aH(e.localStore,t,!0),o=new A0e(t,s.Qs),a=o.ru(s.documents),l=Bw.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);vH(e,n,c.au);const d=new D0e(t,n,o);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function O0e(e,t,n){const r=Xt(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!vE(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fP(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&AI(r.remoteStore,i.targetId),mP(r,i.targetId)}).catch(dm)):(mP(r,i.targetId),await fP(r.localStore,i.targetId,!0))}async function L0e(e,t){const n=Xt(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AI(n.remoteStore,r.targetId))}async function N0e(e,t,n){const r=j0e(e);try{const i=await function(o,a){const l=Xt(o),c=ur.now(),d=a.reduce((m,y)=>m.add(y.key),mn());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Wc(),w=mn();return l.Ns.getEntries(m,d).next(C=>{y=C,y.forEach((S,R)=>{R.isValidDocument()||(w=w.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(C=>{f=C;const S=[];for(const R of a){const E=eme(R,f.get(R.key).overlayedDocument);E!=null&&S.push(new kd(R.key,E,JW(E.value.mapValue),qi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(C=>{p=C;const S=C.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(m,C.batchId,S)})}).then(()=>({batchId:p.batchId,changes:c7(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Rr(gn)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Hw(r,i.changes),await TE(r.remoteStore)}catch(i){const s=II(i,"Failed to persist write");n.reject(s)}}async function $7(e,t){const n=Xt(e);try{const r=await Xme(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(En(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?En(o.hu,14607):i.removedDocuments.size>0&&(En(o.hu,42227),o.hu=!1))}),await Hw(n,r,t)}catch(r){await dm(r)}}function mH(e,t,n){const r=Xt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Xt(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&LI(l)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function B0e(e,t,n){const r=Xt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new Rr(Pt.comparator);o=o.insert(s,Ai.newNoDocument(s,Gt.min()));const a=mn().add(s),l=new xE(Gt.min(),new Map,new Rr(gn),o,a);await $7(r,l),r.du=r.du.remove(s),r.Au.delete(t),VI(r)}else await fP(r.localStore,t,!1).then(()=>mP(r,t,n)).catch(dm)}async function V0e(e,t){const n=Xt(e),r=t.batch.batchId;try{const i=await Yme(n.localStore,t);K7(n,r,null),q7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hw(n,i)}catch(i){await dm(i)}}async function H0e(e,t,n){const r=Xt(e);try{const i=await function(o,a){const l=Xt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(En(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,t);K7(r,t,n),q7(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hw(r,i)}catch(i){await dm(i)}}function q7(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function K7(e,t,n){const r=Xt(e);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function mP(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||Y7(e,r)})}function Y7(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(AI(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),VI(e))}function vH(e,t,n){for(const r of n)r instanceof z7?(e.Ru.addReference(r.key,t),G0e(e,r)):r instanceof j7?(vt(BI,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Y7(e,r.key)):Mt(19791,{wu:r})}function G0e(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(vt(BI,"New document in limbo: "+n),e.Eu.add(r),VI(e))}function VI(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Pt(Jn.fromString(t)),r=e.fu.next();e.Au.set(r,new P0e(n)),e.du=e.du.insert(n,r),N7(e.remoteStore,new Ku(Il(mE(n.path)),r,"TargetPurposeLimboResolution",pE.ce))}}async function Hw(e,t,n){const r=Xt(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=TI.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const d=Xt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>qe.forEach(c,p=>qe.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>qe.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!hm(f))throw f;vt(RI,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(p,w)}}}(r.localStore,s))}async function U0e(e,t){const n=Xt(e);if(!n.currentUser.isEqual(t)){vt(BI,"User change. New user:",t.toKey());const r=await M7(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new pt(Ge.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Hw(n,r.Ls)}}function z0e(e,t){const n=Xt(e),r=n.Au.get(t);if(r&&r.hu)return mn().add(r.key);{let i=mn();const s=n.Iu.get(t);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function X7(e){const t=Xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=z0e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B0e.bind(null,t),t.Pu.H_=R0e.bind(null,t.eventManager),t.Pu.yu=_0e.bind(null,t.eventManager),t}function j0e(e){const t=Xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=V0e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=H0e.bind(null,t),t}class HS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=SE(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Kme(this.persistence,new Wme,t.initialUser,this.serializer)}Cu(t){return new I7(EI.mi,this.serializer)}Du(t){return new t0e}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}HS.provider={build:()=>new HS};class W0e extends HS{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){En(this.persistence.referenceDelegate instanceof BS,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Pme(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new I7(r=>BS.mi(r,n),this.serializer)}}class vP{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U0e.bind(null,this.syncEngine),await S0e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new T0e}()}createDatastore(t){const n=SE(t.databaseInfo.databaseId),r=function(s){return new o0e(s)}(t.databaseInfo);return function(s,o,a,l){return new u0e(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new h0e(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>mH(this.syncEngine,n,0),function(){return uH.v()?new uH:new n0e}())}createSyncEngine(t,n){return function(i,s,o,a,l,c,d){const f=new k0e(i,s,o,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Xt(n);vt(nf,"RemoteStore shutting down."),r.Ea.add(5),await Vw(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vP.provider={build:()=>new vP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):jc("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0e{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new pt(Ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Xt(i),a={documents:s.map(f=>NS(o.serializer,f))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Jn.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{const p=fme(o.serializer,f);c.set(p.key.toString(),p)});const d=[];return s.forEach(f=>{const p=c.get(f.toString());En(!!p,55234,{key:f}),d.push(p)}),d}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new bE(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=Pt.fromPath(r);this.mutations.push(new w7(i,this.precondition(i)))}),await async function(r,i){const s=Xt(r),o={writes:i.map(a=>A7(s.serializer,a))};await s.Go("Commit",s.serializer.databaseId,Jn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Mt(50498,{Gu:t.constructor.name});n=Gt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new pt(Ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Gt.min())?qi.exists(!1):qi.updateTime(n):qi.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Gt.min()))throw new pt(Ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qi.updateTime(n)}return qi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0e{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new _I(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const t=new $0e(this.datastore),n=this.Hu(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(t){try{const n=this.updateFunction(t);return!Lw(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(t)}Zu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!C7(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="FirestoreClient";class K0e{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=is.UNAUTHENTICATED,this.clientId=hI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{vt(pd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(vt(pd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=II(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function K_(e,t){e.asyncQueue.verifyOperationInProgress(),vt(pd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M7(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function yH(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Y0e(e);vt(pd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>hH(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>hH(t.remoteStore,i)),e._onlineComponents=t}async function Y0e(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vt(pd,"Using user provided OfflineComponentProvider");try{await K_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mg("Error using user provided cache. Falling back to memory cache: "+n),await K_(e,new HS)}}else vt(pd,"Using default OfflineComponentProvider"),await K_(e,new W0e(void 0));return e._offlineComponents}async function GI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vt(pd,"Using user provided OnlineComponentProvider"),await yH(e,e._uninitializedComponentsProvider._online)):(vt(pd,"Using default OnlineComponentProvider"),await yH(e,new vP))),e._onlineComponents}function X0e(e){return GI(e).then(t=>t.syncEngine)}function Q0e(e){return GI(e).then(t=>t.datastore)}async function GS(e){const t=await GI(e),n=t.eventManager;return n.onListen=F0e.bind(null,t.syncEngine),n.onUnlisten=O0e.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=I0e.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=L0e.bind(null,t.syncEngine),n}function J0e(e,t,n={}){const r=new Fl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new HI({next:p=>{d.Nu(),o.enqueueAndForget(()=>OI(s,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new pt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new pt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new NI(mE(a.path),d,{includeMetadataChanges:!0,qa:!0});return MI(s,f)}(await GS(e),e.asyncQueue,t,n,r)),r.promise}function Z0e(e,t,n={}){const r=new Fl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new HI({next:p=>{d.Nu(),o.enqueueAndForget(()=>OI(s,f)),p.fromCache&&l.source==="server"?c.reject(new pt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new NI(a,d,{includeMetadataChanges:!0,qa:!0});return MI(s,f)}(await GS(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="firestore.googleapis.com",CH=!0;class bH{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J7,this.ssl=CH}else this.host=t.host,this.ssl=t.ssl??CH;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=F7;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ame)throw new pt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gge("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q7(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class RE{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bH({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bH(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sge;switch(r.type){case"firstParty":return new cge(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wH.get(n);r&&(vt("ComponentProvider","Removing Datastore"),wH.delete(n),r.terminate())}(this),Promise.resolve()}}function eve(e,t,n,r={}){e=Fs(e,RE);const i=_d(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(JF(`https://${a}`),ZF("Firestore",!0)),s.host!==J7&&s.host!==a&&Mg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Gc(l,o)&&(e._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=is.MOCK_USER;else{c=qj(r.mockUserToken,e._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new pt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new is(f)}e._authCredentials=new oge(new HW(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Fd(this.firestore,t,this._query)}}class xr{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xr(this.firestore,t,this._key)}toJSON(){return{type:xr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Ow(n,xr._jsonSchema))return new xr(t,r||null,new Pt(Jn.fromString(n.referencePath)))}}xr._jsonSchemaVersion="firestore/documentReference/1.0",xr._jsonSchema={type:ui("string",xr._jsonSchemaVersion),referencePath:ui("string")};class ed extends Fd{constructor(t,n,r){super(t,n,mE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xr(this.firestore,null,new Pt(t))}withConverter(t){return new ed(this.firestore,t,this._path)}}function gm(e,t,...n){if(e=pr(e),GW("collection","path",t),e instanceof RE){const r=Jn.fromString(t,...n);return M3(r),new ed(e,null,r)}{if(!(e instanceof xr||e instanceof ed))throw new pt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Jn.fromString(t,...n));return M3(r),new ed(e.firestore,null,r)}}function zl(e,t,...n){if(e=pr(e),arguments.length===1&&(t=hI.newId()),GW("doc","path",t),e instanceof RE){const r=Jn.fromString(t,...n);return I3(r),new xr(e,null,new Pt(r))}{if(!(e instanceof xr||e instanceof ed))throw new pt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Jn.fromString(t,...n));return I3(r),new xr(e.firestore,e instanceof ed?e.converter:null,new Pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH="AsyncQueue";class SH{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _I(this,"async_queue_retry"),this._c=()=>{const r=q_();r&&vt(xH,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=q_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=q_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Fl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hm(t))throw t;vt(xH,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,jc("INTERNAL UNHANDLED ERROR: ",EH(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=FI.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Mt(47125,{Pc:EH(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function EH(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class jl extends RE{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new SH,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SH(t),this._firestoreClient=void 0,await t}}}function tve(e,t){const n=typeof e=="object"?e:nI(),r=typeof e=="string"?e:FS,i=cE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jj("firestore");s&&eve(i,...s)}return i}function Gw(e){if(e._terminated)throw new pt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||nve(e),e._firestoreClient}function nve(e){const t=e._freezeSettings(),n=function(i,s,o,a){return new Rge(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Q7(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new K0e(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vo(Ji.fromBase64String(t))}catch(n){throw new pt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vo(Ji.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ow(t,vo._jsonSchema))return vo.fromBase64String(t.bytes)}}vo._jsonSchemaVersion="firestore/bytes/1.0",vo._jsonSchema={type:ui("string",vo._jsonSchemaVersion),bytes:ui("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return gn(this._lat,t._lat)||gn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ml._jsonSchemaVersion}}static fromJSON(t){if(Ow(t,Ml._jsonSchema))return new Ml(t.latitude,t.longitude)}}Ml._jsonSchemaVersion="firestore/geoPoint/1.0",Ml._jsonSchema={type:ui("string",Ml._jsonSchemaVersion),latitude:ui("number"),longitude:ui("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ol._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ow(t,Ol._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Ol(t.vectorValues);throw new pt(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ol._jsonSchemaVersion="firestore/vectorValue/1.0",Ol._jsonSchema={type:ui("string",Ol._jsonSchemaVersion),vectorValues:ui("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rve=/^__.*__$/;class ive{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new kd(t,this.data,this.fieldMask,n,this.fieldTransforms):new Nw(t,this.data,n,this.fieldTransforms)}}class Z7{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new kd(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function e$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:e})}}class _E{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _E({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return US(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(e$(this.Ac)&&rve.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sve{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||SE(t)}Cc(t,n,r,i=!1){return new _E({Ac:t,methodName:n,Dc:r,path:$i.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zw(e){const t=e._freezeSettings(),n=SE(e._databaseId);return new sve(e._databaseId,!!t.ignoreUndefinedProperties,n)}function UI(e,t,n,r,i,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);$I("Data must be an object, but it was:",o,r);const a=i$(r,o);let l,c;if(s.merge)l=new Co(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=yP(t,f,n);if(!o.contains(p))throw new pt(Ge.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);o$(d,p)||d.push(p)}l=new Co(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new ive(new Ds(a),l,c)}class AE extends mm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof AE}}function t$(e,t,n){return new _E({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class zI extends mm{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=t$(this,t,!0),r=this.vc.map(s=>Df(s,n)),i=new Bg(r);return new wI(t.path,i)}isEqual(t){return t instanceof zI&&Gc(this.vc,t.vc)}}class jI extends mm{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=t$(this,t,!0),r=this.vc.map(s=>Df(s,n)),i=new Vg(r);return new wI(t.path,i)}isEqual(t){return t instanceof jI&&Gc(this.vc,t.vc)}}class WI extends mm{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new vy(t.serializer,h7(t.serializer,this.Fc));return new wI(t.path,n)}isEqual(t){return t instanceof WI&&this.Fc===t.Fc}}function n$(e,t,n,r){const i=e.Cc(1,t,n);$I("Data must be an object, but it was:",i,r);const s=[],o=Ds.empty();Pd(r,(l,c)=>{const d=qI(t,l,n);c=pr(c);const f=i.yc(d);if(c instanceof AE)s.push(d);else{const p=Df(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Co(s);return new Z7(o,a,i.fieldTransforms)}function r$(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[yP(t,r,n)],l=[i];if(s.length%2!=0)throw new pt(Ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(yP(t,s[p])),l.push(s[p+1]);const c=[],d=Ds.empty();for(let p=a.length-1;p>=0;--p)if(!o$(c,a[p])){const m=a[p];let y=l[p];y=pr(y);const w=o.yc(m);if(y instanceof AE)c.push(m);else{const C=Df(y,w);C!=null&&(c.push(m),d.set(m,C))}}const f=new Co(c);return new Z7(d,f,o.fieldTransforms)}function ove(e,t,n,r=!1){return Df(n,e.Cc(r?4:3,t))}function Df(e,t){if(s$(e=pr(e)))return $I("Unsupported field value:",t,e),i$(e,t);if(e instanceof mm)return function(r,i){if(!e$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Df(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ur.fromDate(r);return{timestampValue:LS(i.serializer,s)}}if(r instanceof ur){const s=new ur(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:LS(i.serializer,s)}}if(r instanceof Ml)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vo)return{bytesValue:E7(i.serializer,r._byteString)};if(r instanceof xr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ol)return function(o,a){return{mapValue:{fields:{[XW]:{stringValue:QW},[IS]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return yI(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${fE(r)}`)}(e,t)}function i$(e,t){const n={};return jW(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pd(e,(r,i)=>{const s=Df(i,t.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function s$(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ur||e instanceof Ml||e instanceof vo||e instanceof xr||e instanceof mm||e instanceof Ol)}function $I(e,t,n){if(!s$(n)||!UW(n)){const r=fE(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function yP(e,t,n){if((t=pr(t))instanceof Uw)return t._internalPath;if(typeof t=="string")return qI(e,t);throw US("Field path arguments must be of type string or ",e,!1,void 0,n)}const ave=new RegExp("[~\\*/\\[\\]]");function qI(e,t,n){if(t.search(ave)>=0)throw US(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Uw(...t.split("."))._internalPath}catch{throw US(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function US(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new pt(Ge.INVALID_ARGUMENT,a+e+l)}function o$(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(DE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lve extends zS{data(){return super.data()}}function DE(e,t){return typeof t=="string"?qI(e,t):t instanceof Uw?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new pt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KI{}class l$ extends KI{}function PE(e,t,...n){let r=[];t instanceof KI&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof XI).length,a=s.filter(l=>l instanceof kE).length;if(o>1||o>0&&a>0)throw new pt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class kE extends l${constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new kE(t,n,r)}_apply(t){const n=this._parse(t);return u$(t._query,n),new Fd(t.firestore,t.converter,lP(t._query,n))}_parse(t){const n=zw(t.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_H(f,d);const y=[];for(const w of f)y.push(RH(l,s,w));p={arrayValue:{values:y}}}else p=RH(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_H(f,d),p=ove(a,o,f,d==="in"||d==="not-in");return ci.create(c,d,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function YI(e,t,n){const r=t,i=DE("where",e);return kE._create(i,r,n)}class XI extends KI{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new XI(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:za.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)u$(o,l),o=lP(o,l)}(t._query,n),new Fd(t.firestore,t.converter,lP(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QI extends l${constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new QI(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new pt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new my(s,o)}(t._query,this._field,this._direction);return new Fd(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new fm(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function c$(e,t="asc"){const n=t,r=DE("orderBy",e);return QI._create(r,n)}function RH(e,t,n){if(typeof(n=pr(n))=="string"){if(n==="")throw new pt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s7(t)&&n.indexOf("/")!==-1)throw new pt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Jn.fromString(n));if(!Pt.isDocumentKey(r))throw new pt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U3(e,new Pt(r))}if(n instanceof xr)return U3(e,n._key);throw new pt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fE(n)}.`)}function _H(e,t){if(!Array.isArray(e)||e.length===0)throw new pt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function u$(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new pt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class d${convertValue(t,n="none"){switch(hd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Pd(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){const n=t.fields?.[IS].arrayValue?.values?.map(r=>qr(r.doubleValue));return new Ol(n)}convertGeoPoint(t){return new Ml(qr(t.latitude),qr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=gE(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fy(t));default:return null}}convertTimestamp(t){const n=ud(t);return new ur(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Jn.fromString(t);En(k7(r),9688,{name:t});const i=new py(r.get(1),r.get(3)),s=new Pt(r.popFirst(5));return i.isEqual(n)||jc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class cve extends d${constructor(t){super(),this.firestore=t}convertBytes(t){return new vo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xr(this.firestore,null,n)}}class qp{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class td extends zS{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(DE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=td._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}td._jsonSchemaVersion="firestore/documentSnapshot/1.0",td._jsonSchema={type:ui("string",td._jsonSchemaVersion),bundleSource:ui("string","DocumentSnapshot"),bundleName:ui("string"),bundle:ui("string")};class Wx extends td{data(t={}){return super.data(t)}}class Ih{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Wx(this._firestore,this._userDataWriter,r.key,r,new qp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Wx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Wx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:uve(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ih._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uve(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dve(e){e=Fs(e,xr);const t=Fs(e.firestore,jl);return J0e(Gw(t),e._key).then(n=>m$(t,e,n))}Ih._jsonSchemaVersion="firestore/querySnapshot/1.0",Ih._jsonSchema={type:ui("string",Ih._jsonSchemaVersion),bundleSource:ui("string","QuerySnapshot"),bundleName:ui("string"),bundle:ui("string")};class FE extends d${constructor(t){super(),this.firestore=t}convertBytes(t){return new vo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xr(this.firestore,null,n)}}function h$(e){e=Fs(e,Fd);const t=Fs(e.firestore,jl),n=Gw(t),r=new FE(t);return a$(e._query),Z0e(n,e._query).then(i=>new Ih(t,r,e,i))}function f$(e,t,n){e=Fs(e,xr);const r=Fs(e.firestore,jl),i=JI(e.converter,t,n);return IE(r,[UI(zw(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,qi.none())])}function wP(e,t,n,...r){e=Fs(e,xr);const i=Fs(e.firestore,jl),s=zw(i);let o;return o=typeof(t=pr(t))=="string"||t instanceof Uw?r$(s,"updateDoc",e._key,t,n,r):n$(s,"updateDoc",e._key,t),IE(i,[o.toMutation(e._key,qi.exists(!0))])}function p$(e){return IE(Fs(e.firestore,jl),[new bE(e._key,qi.none())])}function hve(e,t){const n=Fs(e.firestore,jl),r=zl(e),i=JI(e.converter,t);return IE(n,[UI(zw(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then(()=>r)}function g$(e,...t){e=pr(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||TH(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TH(t[r])){const l=t[r];t[r]=l.next?.bind(l),t[r+1]=l.error?.bind(l),t[r+2]=l.complete?.bind(l)}let s,o,a;if(e instanceof xr)o=Fs(e.firestore,jl),a=mE(e._key.path),s={next:l=>{t[r]&&t[r](m$(o,e,l))},error:t[r+1],complete:t[r+2]};else{const l=Fs(e,Fd);o=Fs(l.firestore,jl),a=l._query;const c=new FE(o);s={next:d=>{t[r]&&t[r](new Ih(o,c,l,d))},error:t[r+1],complete:t[r+2]},a$(e._query)}return function(c,d,f,p){const m=new HI(p),y=new NI(d,m,f);return c.asyncQueue.enqueueAndForget(async()=>MI(await GS(c),y)),()=>{m.Nu(),c.asyncQueue.enqueueAndForget(async()=>OI(await GS(c),y))}}(Gw(o),a,i,s)}function IE(e,t){return function(r,i){const s=new Fl;return r.asyncQueue.enqueueAndForget(async()=>N0e(await X0e(r),i,s)),s.promise}(Gw(e),t)}function m$(e,t,n){const r=n.docs.get(t._key),i=new FE(e);return new td(e,i,t._key,r,new qp(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fve={maxAttempts:5};function lv(e,t){if((e=pr(e)).firestore!==t)throw new pt(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=zw(t)}get(t){const n=lv(t,this._firestore),r=new cve(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Mt(24041);const s=i[0];if(s.isFoundDocument())return new zS(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new zS(this._firestore,r,n._key,null,n.converter);throw Mt(18433,{doc:s})})}set(t,n,r){const i=lv(t,this._firestore),s=JI(i.converter,n,r),o=UI(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(t,n,r,...i){const s=lv(t,this._firestore);let o;return o=typeof(n=pr(n))=="string"||n instanceof Uw?r$(this._dataReader,"Transaction.update",s._key,n,r,i):n$(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(t){const n=lv(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gve extends pve{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=lv(t,this._firestore),r=new FE(this._firestore);return super.get(t).then(i=>new td(this._firestore,r,n._key,i._document,new qp(!1,!1),n.converter))}}function mve(e,t,n){e=Fs(e,jl);const r={...fve,...n};return function(s){if(s.maxAttempts<1)throw new pt(Ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Fl;return s.asyncQueue.enqueueAndForget(async()=>{const c=await Q0e(s);new q0e(s.asyncQueue,c,a,o,l).ju()}),l.promise}(Gw(e),i=>t(new gve(e,i)),r)}function vve(...e){return new zI("arrayUnion",e)}function yve(...e){return new jI("arrayRemove",e)}function wve(e){return new WI("increment",e)}(function(t,n=!0){(function(i){um=i})(Tf),Jh(new ld("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new jl(new age(r.getProvider("auth-internal")),new uge(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new py(c.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dl(D3,P3,t),Dl(D3,P3,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$="firebasestorage.googleapis.com",y$="storageBucket",Cve=120*1e3,bve=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Wa{constructor(t,n,r=0){super(Y_(t),`Firebase Storage: ${n} (${Y_(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Y_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Or;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Or||(Or={}));function Y_(e){return"storage/"+e}function ZI(){const e="An unknown error occurred, please check the error payload for server response.";return new Nr(Or.UNKNOWN,e)}function xve(e){return new Nr(Or.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Sve(e){return new Nr(Or.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Eve(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nr(Or.UNAUTHENTICATED,e)}function Tve(){return new Nr(Or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rve(e){return new Nr(Or.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function _ve(){return new Nr(Or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ave(){return new Nr(Or.CANCELED,"User canceled the upload/download.")}function Dve(e){return new Nr(Or.INVALID_URL,"Invalid URL '"+e+"'.")}function Pve(e){return new Nr(Or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function kve(){return new Nr(Or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+y$+"' property when initializing the app?")}function Fve(){return new Nr(Or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ive(){return new Nr(Or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mve(e){return new Nr(Or.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function CP(e){return new Nr(Or.INVALID_ARGUMENT,e)}function w$(){return new Nr(Or.APP_DELETED,"The Firebase app was deleted.")}function Ove(e){return new Nr(Or.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tv(e,t){return new Nr(Or.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function H0(e){throw new Nr(Or.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=bo.makeFromUrl(t,n)}catch{return new bo(t,"")}if(r.path==="")return r;throw Pve(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},w=n===v$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${C}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<E.length;P++){const M=E[P],A=M.regex.exec(t);if(A){const D=A[M.indices.bucket];let k=A[M.indices.path];k||(k=""),r=new bo(D,k),M.postModify(r);break}}if(r==null)throw Dve(t);return r}}class Lve{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nve(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...C){c||(c=!0,t.apply(null,C))}function f(C){i=setTimeout(()=>{i=null,e(m,l())},C)}function p(){s&&clearTimeout(s)}function m(C,...S){if(c){p();return}if(C){p(),d.call(null,C,...S);return}if(l()||o){p(),d.call(null,C,...S);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let y=!1;function w(C){y||(y=!0,p(),!c&&(i!==null?(C||(a=2),clearTimeout(i),f(0)):C||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function Bve(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vve(e){return e!==void 0}function Hve(e){return typeof e=="object"&&!Array.isArray(e)}function e2(e){return typeof e=="string"||e instanceof String}function AH(e){return t2()&&e instanceof Blob}function t2(){return typeof Blob<"u"}function DH(e,t,n,r){if(r<t)throw CP(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw CP(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function C$(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Mh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Mh||(Mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gve(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uve{constructor(t,n,r,i,s,o,a,l,c,d,f,p=!0,m=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new zb(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Mh.NO_ERROR,l=s.getStatus();if(!a||Gve(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Mh.ABORT;r(!1,new zb(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new zb(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Vve(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=ZI();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?w$():Ave();o(l)}else{const l=_ve();o(l)}};this.canceled_?n(!1,new zb(!1,null,!0)):this.backoffId_=Nve(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Bve(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zb{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function zve(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function jve(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Wve(e,t){t&&(e["X-Firebase-GMPID"]=t)}function $ve(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function qve(e,t,n,r,i,s,o=!0,a=!1){const l=C$(e.urlParams),c=e.url+l,d=Object.assign({},e.headers);return Wve(d,t),zve(d,n),jve(d,s),$ve(d,r),new Uve(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kve(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yve(...e){const t=Kve();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(t2())return new Blob(e);throw new Nr(Or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xve(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qve(e){if(typeof atob>"u")throw Mve("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class X_{constructor(t,n){this.data=t,this.contentType=n||null}}function Jve(e,t){switch(e){case xl.RAW:return new X_(b$(t));case xl.BASE64:case xl.BASE64URL:return new X_(x$(e,t));case xl.DATA_URL:return new X_(eye(t),tye(t))}throw ZI()}function b$(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Zve(e){let t;try{t=decodeURIComponent(e)}catch{throw Tv(xl.DATA_URL,"Malformed data URL.")}return b$(t)}function x$(e,t){switch(e){case xl.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Tv(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xl.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Tv(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Qve(t)}catch(i){throw i.message.includes("polyfill")?i:Tv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class S${constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Tv(xl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=nye(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function eye(e){const t=new S$(e);return t.base64?x$(xl.BASE64,t.rest):Zve(t.rest)}function tye(e){return new S$(e).contentType}function nye(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n){let r=0,i="";AH(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(AH(this.data_)){const r=this.data_,i=Xve(r,t,n);return i===null?null:new ju(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new ju(r,!0)}}static getBlob(...t){if(t2()){const n=t.map(r=>r instanceof ju?r.data_:r);return new ju(Yve.apply(null,n))}else{const n=t.map(o=>e2(o)?Jve(xl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ju(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(e){let t;try{t=JSON.parse(e)}catch{return null}return Hve(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rye(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function iye(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function T$(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sye(e,t){return t}class Ss{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||sye}}let jb=null;function oye(e){return!e2(e)||e.length<2?e:T$(e)}function R$(){if(jb)return jb;const e=[];e.push(new Ss("bucket")),e.push(new Ss("generation")),e.push(new Ss("metageneration")),e.push(new Ss("name","fullPath",!0));function t(s,o){return oye(o)}const n=new Ss("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ss("size");return i.xform=r,e.push(i),e.push(new Ss("timeCreated")),e.push(new Ss("updated")),e.push(new Ss("md5Hash",null,!0)),e.push(new Ss("cacheControl",null,!0)),e.push(new Ss("contentDisposition",null,!0)),e.push(new Ss("contentEncoding",null,!0)),e.push(new Ss("contentLanguage",null,!0)),e.push(new Ss("contentType",null,!0)),e.push(new Ss("metadata","customMetadata",!0)),jb=e,jb}function aye(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new bo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function lye(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return aye(r,e),r}function _$(e,t,n){const r=E$(t);return r===null?null:lye(e,r,n)}function cye(e,t,n,r){const i=E$(t);if(i===null||!e2(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=e.bucket,f=e.fullPath,p="/b/"+o(d)+"/o/"+o(f),m=ME(p,n,r),y=C$({alt:"media",token:c});return m+y})[0]}function uye(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class n2{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(e){if(!e)throw ZI()}function dye(e,t){function n(r,i){const s=_$(e,i,t);return A$(s!==null),s}return n}function hye(e,t){function n(r,i){const s=_$(e,i,t);return A$(s!==null),cye(s,i,e.host,e._protocol)}return n}function D$(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Tve():i=Eve():n.getStatus()===402?i=Sve(e.bucket):n.getStatus()===403?i=Rve(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function P$(e){const t=D$(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=xve(e.path)),s.serverResponse=i.serverResponse,s}return n}function fye(e,t,n){const r=t.fullServerUrl(),i=ME(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new n2(i,s,hye(e,n),o);return a.errorHandler=P$(t),a}function pye(e,t){const n=t.fullServerUrl(),r=ME(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(l,c){}const a=new n2(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=P$(t),a}function gye(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function mye(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=gye(null,t)),r}function vye(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let P=0;P<2;P++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=mye(t,r,i),d=uye(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=ju.getBlob(f,r,p);if(m===null)throw Fve();const y={name:c.fullPath},w=ME(s,e.host,e._protocol),C="POST",S=e.maxUploadRetryTime,R=new n2(w,C,dye(e,n),S);return R.urlParams=y,R.headers=o,R.body=m.uploadData(),R.errorHandler=D$(t),R}class yye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,s){if(this.sent_)throw H0("cannot .send() more than once");if(_d(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw H0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw H0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw H0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw H0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class wye extends yye{initXhr(){this.xhr_.responseType="text"}}function r2(){return new wye}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n){this._service=t,n instanceof bo?this._location=n:this._location=bo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new rf(t,n)}get root(){const t=new bo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T$(this._location.path)}get storage(){return this._service}get parent(){const t=rye(this._location.path);if(t===null)return null;const n=new bo(this._location.bucket,t);return new rf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Ove(t)}}function Cye(e,t,n){e._throwIfRoot("uploadBytes");const r=vye(e.storage,e._location,R$(),new ju(t,!0),n);return e.storage.makeRequestWithTokens(r,r2).then(i=>({metadata:i,ref:e}))}function bye(e){e._throwIfRoot("getDownloadURL");const t=fye(e.storage,e._location,R$());return e.storage.makeRequestWithTokens(t,r2).then(n=>{if(n===null)throw Ive();return n})}function xye(e){e._throwIfRoot("deleteObject");const t=pye(e.storage,e._location);return e.storage.makeRequestWithTokens(t,r2)}function Sye(e,t){const n=iye(e._location.path,t),r=new bo(e._location.bucket,n);return new rf(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eye(e){return/^[A-Za-z]+:\/\//.test(e)}function Tye(e,t){return new rf(e,t)}function k$(e,t){if(e instanceof i2){const n=e;if(n._bucket==null)throw kve();const r=new rf(n,n._bucket);return t!=null?k$(r,t):r}else return t!==void 0?Sye(e,t):e}function Rye(e,t){if(t&&Eye(t)){if(e instanceof i2)return Tye(e,t);throw CP("To use ref(service, url), the first argument must be a Storage instance.")}else return k$(e,t)}function PH(e,t){const n=t?.[y$];return n==null?null:bo.makeFromBucketSpec(n,e)}function _ye(e,t,n,r={}){e.host=`${t}:${n}`;const i=_d(t);i&&(JF(`https://${e.host}/b`),ZF("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:qj(s,e.app.options.projectId))}class i2{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=v$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Cve,this._maxUploadRetryTime=bve,this._requests=new Set,i!=null?this._bucket=bo.makeFromBucketSpec(i,this._host):this._bucket=PH(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=bo.makeFromBucketSpec(this._url,t):this._bucket=PH(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){DH("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){DH("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rf(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Lve(w$());{const o=qve(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const kH="@firebase/storage",FH="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="storage";function Aye(e,t,n){return e=pr(e),Cye(e,t,n)}function Dye(e){return e=pr(e),bye(e)}function Pye(e){return e=pr(e),xye(e)}function I$(e,t){return e=pr(e),Rye(e,t)}function kye(e=nI(),t){e=pr(e);const r=cE(e,F$).getImmediate({identifier:t}),i=jj("storage");return i&&Fye(r,...i),r}function Fye(e,t,n,r={}){_ye(e,t,n,r)}function Iye(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new i2(n,r,i,t,Tf)}function Mye(){Jh(new ld(F$,Iye,"PUBLIC").setMultipleInstances(!0)),Dl(kH,FH,""),Dl(kH,FH,"esm2020")}Mye();const s2=Xj(jhe),o2=rge(s2),Qs=tve(s2),M$=kye(s2);var fn=(e=>(e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMINISTRATOR="ADMINISTRATOR",e))(fn||{});const a2="users",Oye=async(e,t)=>{await f$(zl(Qs,a2,t),e)},Lye=async e=>(await dve(zl(Qs,a2,e))).data(),O$=async()=>(await h$(PE(gm(Qs,a2),YI("role","==",fn.STUDENT)))).docs.map(t=>t.data()),Nye=async(e,t)=>{const n=e.includes("@")?e:`${e}@mail.com`,r=await zfe(o2,n,t);return await Lye(r.user.uid)},L$=async e=>{const t=["red","blue","green","yellow","purple","orange","pink","brown","black","white","gray","silver","gold","beige","cyan","magenta","maroon","navy","olive","teal","lime","indigo","violet","turquoise","coral","salmon","crimson","khaki","lavender","mint","ivory","chocolate","tan","plum","orchid","azure","amber","peach","apricot","burgundy","caramel","charcoal","emerald","jade","ruby","sapphire","topaz","bronze","copper","mustard","fuchsia","sky","rose","sand","seafoam","forest","auburn","denim","hazel","mulberry"],r=(()=>{const s=t[Math.floor(Math.random()*t.length)],o=Math.floor(Math.random()*900)+100;return s+o})(),i=await Ufe(o2,e.email,r);return e={...e,id:i.user.uid},await Oye(e,i.user.uid),{user:e,password:r}},Bye=async()=>{await $fe(o2)},IH=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},Vye=e=>e?IH(e):IH,Hye=e=>e;function Gye(e,t=Hye){const n=ue.useSyncExternalStore(e.subscribe,ue.useCallback(()=>t(e.getState()),[e,t]),ue.useCallback(()=>t(e.getInitialState()),[e,t]));return ue.useDebugValue(n),n}const MH=e=>{const t=Vye(e),n=r=>Gye(t,r);return Object.assign(n,t),n},jw=e=>e?MH(e):MH,Xl=jw(e=>({user:null,setUser:t=>e({user:t})})),OH=({onNavigate:e})=>{const t=yF(),{user:n,setUser:r}=Xl(),i=a=>{t(a),e&&e()},s=()=>{Bye(),t("/"),r(null),localStorage.removeItem("user")},o=n?.role===fn.TEACHER||n?.role===fn.ADMINISTRATOR;return F.jsxs(Woe,{children:[o&&F.jsx(ll,{icon:F.jsx(kc,{size:18}),onClick:()=>i("/dashboard/estudiantes"),children:"Students"}),F.jsxs(AV,{icon:F.jsx(QV,{size:18}),label:"Workshop 1",children:[F.jsx(ll,{icon:F.jsx(Nue,{size:18}),onClick:()=>i("/dashboard/mapa"),children:"Interactive Map"}),o&&F.jsx(ll,{icon:F.jsx(kue,{size:18}),onClick:()=>i("/dashboard/grupos"),children:"Groups"}),F.jsx(ll,{icon:F.jsx(_ue,{size:18}),onClick:()=>i("/dashboard/galeria/default-session"),children:"Gallery"}),F.jsx(ll,{icon:F.jsx(Lb,{size:18}),onClick:()=>i("/dashboard/practice_1"),children:"Practice Language Corner"})]}),F.jsxs(AV,{icon:F.jsx(QV,{size:18}),label:"Workshop 2",children:[F.jsx(ll,{icon:F.jsx(Lb,{size:18}),onClick:()=>i("/dashboard/research_exploration"),children:"Research and Exploration"}),F.jsx(ll,{icon:F.jsx(Lb,{size:18}),onClick:()=>i("/dashboard/cultural_stories_and_expressions"),children:"Cultural Stories and Expressions"}),F.jsx(ll,{icon:F.jsx(Lb,{size:18}),onClick:()=>i("/dashboard/practice_2"),children:"Practice Language Corner"})]}),F.jsx(ll,{icon:F.jsx(KF,{size:18}),onClick:()=>i("/dashboard/chatbot"),children:"Chatbot"}),F.jsx(ll,{icon:F.jsx(Iue,{size:18}),onClick:s,children:"Logout"})]})},Uye=()=>{const[e,t]=T.useState(!1),{collapseSidebar:n,collapsed:r}=dle();return F.jsxs("div",{className:"d-flex flex-column vh-100",children:[F.jsx(oue,{bg:"light",expand:"lg",className:"border-bottom px-3",children:F.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[F.jsx("div",{className:"fw-bold fs-4",children:"English Tutor"}),F.jsx("div",{className:"d-lg-none",children:F.jsx(Tr,{variant:"outline-primary",onClick:()=>t(!0),children:F.jsx(Vue,{size:20})})}),F.jsx("div",{className:"d-none d-lg-block",children:F.jsx(Tr,{variant:"outline-secondary",onClick:()=>n(),size:"sm",children:r?"":""})})]})}),F.jsxs("div",{className:"flex-grow-1 d-flex",children:[F.jsx("div",{className:"d-none d-lg-block",children:F.jsx(Uoe,{breakPoint:"lg",collapsed:!1,style:{height:"100%"},className:"bg-dark",children:F.jsx(OH,{})})}),F.jsx("div",{className:"flex-grow-1 p-3",style:{overflowY:"auto"},children:F.jsx(sse,{})})]}),F.jsxs(nv,{show:e,onHide:()=>t(!1),placement:"end",children:[F.jsx(nv.Header,{closeButton:!0,children:F.jsx(nv.Title,{children:"Menu"})}),F.jsx(nv.Body,{children:F.jsx(OH,{onNavigate:()=>t(!1)})})]})]})};function N$(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=N$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Oh(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=N$(e))&&(r&&(r+=" "),r+=t);return r}function zye(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}zye(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ww=e=>typeof e=="number"&&!isNaN(e),sf=e=>typeof e=="string",$c=e=>typeof e=="function",jye=e=>sf(e)||Ww(e),bP=e=>sf(e)||$c(e)?e:null,Wye=(e,t)=>e===!1||Ww(e)&&e>0?e:t,xP=e=>T.isValidElement(e)||sf(e)||$c(e)||Ww(e);function $ye(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function qye({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:f}){let p=n?`${e}--${o}`:e,m=n?`${t}--${o}`:t,y=T.useRef(0);return T.useLayoutEffect(()=>{let w=c.current,C=p.split(" "),S=R=>{R.target===c.current&&(f(),w.removeEventListener("animationend",S),w.removeEventListener("animationcancel",S),y.current===0&&R.type!=="animationcancel"&&w.classList.remove(...C))};w.classList.add(...C),w.addEventListener("animationend",S),w.addEventListener("animationcancel",S)},[]),T.useEffect(()=>{let w=c.current,C=()=>{w.removeEventListener("animationend",C),r?$ye(w,l,i):l()};d||(a?C():(y.current=1,w.className+=` ${m}`,w.addEventListener("animationend",C)))},[d]),ue.createElement(ue.Fragment,null,s)}}function LH(e,t){return{content:B$(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function B$(e,t,n=!1){return T.isValidElement(e)&&!sf(e.type)?T.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):$c(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Kye({closeToast:e,theme:t,ariaLabel:n="close"}){return ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Yye({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let f=i||o&&a===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let m=Oh("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),y=$c(s)?s({rtl:l,type:r,defaultClassName:m}):Oh(m,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),ue.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:p,...w}))}var Xye=1,V$=()=>`${Xye++}`;function Qye(e,t,n){let r=1,i=0,s=[],o=[],a=t,l=new Map,c=new Set,d=R=>(c.add(R),()=>c.delete(R)),f=()=>{o=Array.from(l.values()),c.forEach(R=>R())},p=({containerId:R,toastId:E,updateId:P})=>{let M=R?R!==e:e!==1,A=l.has(E)&&P==null;return M||A},m=(R,E)=>{l.forEach(P=>{var M;(E==null||E===P.props.toastId)&&((M=P.toggle)==null||M.call(P,R))})},y=R=>{var E,P;(P=(E=R.props)==null?void 0:E.onClose)==null||P.call(E,R.removalReason),R.isActive=!1},w=R=>{if(R==null)l.forEach(y);else{let E=l.get(R);E&&y(E)}f()},C=()=>{i-=s.length,s=[]},S=R=>{var E,P;let{toastId:M,updateId:A}=R.props,D=A==null;R.staleId&&l.delete(R.staleId),R.isActive=!0,l.set(M,R),f(),n(LH(R,D?"added":"updated")),D&&((P=(E=R.props).onOpen)==null||P.call(E))};return{id:e,props:a,observe:d,toggle:m,removeToast:w,toasts:l,clearQueue:C,buildToast:(R,E)=>{if(p(E))return;let{toastId:P,updateId:M,data:A,staleId:D,delay:k}=E,I=M==null;I&&i++;let B={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(E).filter(([H,G])=>G!=null)),toastId:P,updateId:M,data:A,isIn:!1,className:bP(E.className||a.toastClassName),progressClassName:bP(E.progressClassName||a.progressClassName),autoClose:E.isLoading?!1:Wye(E.autoClose,a.autoClose),closeToast(H){l.get(P).removalReason=H,w(P)},deleteToast(){let H=l.get(P);if(H!=null){if(n(LH(H,"removed")),l.delete(P),i--,i<0&&(i=0),s.length>0){S(s.shift());return}f()}}};B.closeButton=a.closeButton,E.closeButton===!1||xP(E.closeButton)?B.closeButton=E.closeButton:E.closeButton===!0&&(B.closeButton=xP(a.closeButton)?a.closeButton:!0);let N={content:R,props:B,staleId:D};a.limit&&a.limit>0&&i>a.limit&&I?s.push(N):Ww(k)?setTimeout(()=>{S(N)},k):S(N)},setProps(R){a=R},setToggle:(R,E)=>{let P=l.get(R);P&&(P.toggle=E)},isToastActive:R=>{var E;return(E=l.get(R))==null?void 0:E.isActive},getSnapshot:()=>o}}var Ps=new Map,yy=[],SP=new Set,Jye=e=>SP.forEach(t=>t(e)),H$=()=>Ps.size>0;function Zye(){yy.forEach(e=>U$(e.content,e.options)),yy=[]}var ewe=(e,{containerId:t})=>{var n;return(n=Ps.get(t||1))==null?void 0:n.toasts.get(e)};function G$(e,t){var n;if(t)return!!((n=Ps.get(t))!=null&&n.isToastActive(e));let r=!1;return Ps.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function twe(e){if(!H$()){yy=yy.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||jye(e))Ps.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ps.get(e.containerId);t?t.removeToast(e.id):Ps.forEach(n=>{n.removeToast(e.id)})}}var nwe=(e={})=>{Ps.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function U$(e,t){xP(e)&&(H$()||yy.push({content:e,options:t}),Ps.forEach(n=>{n.buildToast(e,t)}))}function rwe(e){var t;(t=Ps.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function z$(e,t){Ps.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function iwe(e){let t=e.containerId||1;return{subscribe(n){let r=Qye(t,e,Jye);Ps.set(t,r);let i=r.observe(n);return Zye(),()=>{i(),Ps.delete(t)}},setProps(n){var r;(r=Ps.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ps.get(t))==null?void 0:n.getSnapshot()}}}function swe(e){return SP.add(e),()=>{SP.delete(e)}}function owe(e){return e&&(sf(e.toastId)||Ww(e.toastId))?e.toastId:V$()}function $w(e,t){return U$(e,t),t.toastId}function OE(e,t){return{...t,type:t&&t.type||e,toastId:owe(t)}}function LE(e){return(t,n)=>$w(t,OE(e,n))}function Tn(e,t){return $w(e,OE("default",t))}Tn.loading=(e,t)=>$w(e,OE("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function awe(e,{pending:t,error:n,success:r},i){let s;t&&(s=sf(t)?Tn.loading(t,i):Tn.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,f)=>{if(d==null){Tn.dismiss(s);return}let p={type:c,...o,...i,data:f},m=sf(d)?{render:d}:d;return s?Tn.update(s,{...p,...m}):Tn(m.render,{...p,...m}),f},l=$c(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}Tn.promise=awe;Tn.success=LE("success");Tn.info=LE("info");Tn.error=LE("error");Tn.warning=LE("warning");Tn.warn=Tn.warning;Tn.dark=(e,t)=>$w(e,OE("default",{theme:"dark",...t}));function lwe(e){twe(e)}Tn.dismiss=lwe;Tn.clearWaitingQueue=nwe;Tn.isActive=G$;Tn.update=(e,t={})=>{let n=ewe(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:V$()};s.toastId!==e&&(s.staleId=e);let o=s.render||i;delete s.render,$w(o,s)}};Tn.done=e=>{Tn.update(e,{progress:1})};Tn.onChange=swe;Tn.play=e=>z$(!0,e);Tn.pause=e=>z$(!1,e);function cwe(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=T.useRef(iwe(e)).current;i(e);let s=(t=T.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:G$,count:s?.length}}function uwe(e){let[t,n]=T.useState(!1),[r,i]=T.useState(!1),s=T.useRef(null),o=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:f}=e;rwe({id:e.toastId,containerId:e.containerId,fn:n}),T.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{m()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||S(),window.addEventListener("focus",C),window.addEventListener("blur",S)}function m(){window.removeEventListener("focus",C),window.removeEventListener("blur",S)}function y(D){if(e.draggable===!0||e.draggable===D.pointerType){R();let k=s.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(o.start=D.clientX,o.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(o.start=D.clientY,o.removalDistance=k.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function w(D){let{top:k,bottom:I,left:B,right:N}=s.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&e.pauseOnHover&&D.clientX>=B&&D.clientX<=N&&D.clientY>=k&&D.clientY<=I?S():C()}function C(){n(!0)}function S(){n(!1)}function R(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",M)}function E(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",M)}function P(D){let k=s.current;if(o.canDrag&&k){o.didMove=!0,t&&S(),e.draggableDirection==="x"?o.delta=D.clientX-o.start:o.delta=D.clientY-o.start,o.start!==D.clientX&&(o.canCloseOnClick=!1);let I=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${I},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function M(){E();let D=s.current;if(o.canDrag&&o.didMove&&D){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let A={onPointerDown:y,onPointerUp:w};return a&&l&&(A.onMouseEnter=S,e.stacked||(A.onMouseLeave=C)),f&&(A.onClick=D=>{d&&d(D),o.canCloseOnClick&&c(!0)}),{playToast:C,pauseToast:S,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:A}}var dwe=typeof window<"u"?T.useLayoutEffect:T.useEffect,NE=({theme:e,type:t,isLoading:n,...r})=>ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function hwe(e){return ue.createElement(NE,{...e},ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function fwe(e){return ue.createElement(NE,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function pwe(e){return ue.createElement(NE,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function gwe(e){return ue.createElement(NE,{...e},ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function mwe(){return ue.createElement("div",{className:"Toastify__spinner"})}var EP={info:fwe,warning:hwe,success:pwe,error:gwe,spinner:mwe},vwe=e=>e in EP;function ywe({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||($c(r)?i=r({...s,isLoading:n}):T.isValidElement(r)?i=T.cloneElement(r,s):n?i=EP.spinner():vwe(t)&&(i=EP[t](s))),i}var wwe=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=uwe(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:f,closeToast:p,transition:m,position:y,className:w,style:C,progressClassName:S,updateId:R,role:E,progress:P,rtl:M,toastId:A,deleteToast:D,isIn:k,isLoading:I,closeOnClick:B,theme:N,ariaLabel:H}=e,G=Oh("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":B}),oe=$c(w)?w({rtl:M,position:y,type:d,defaultClassName:G}):Oh(G,w),le=ywe(e),Z=!!P||!l,se={closeToast:p,type:d,theme:N},fe=null;return o===!1||($c(o)?fe=o(se):T.isValidElement(o)?fe=T.cloneElement(o,se):fe=Kye(se)),ue.createElement(m,{isIn:k,done:D,position:y,preventExitTransition:n,nodeRef:r,playToast:s},ue.createElement("div",{id:A,tabIndex:0,onClick:c,"data-in":k,className:oe,...i,style:C,ref:r,...k&&{role:E,"aria-label":H}},le!=null&&ue.createElement("div",{className:Oh("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},le),B$(a,e,!t),fe,!e.customProgressBar&&ue.createElement(Yye,{...R&&!Z?{key:`p-${R}`}:{},rtl:M,theme:N,delay:l,isRunning:t,isIn:k,closeToast:p,hide:f,type:d,className:S,controlledProgress:Z,progress:P||0})))},Cwe=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),j$=qye(Cwe("bounce",!0)),bwe={position:"top-right",transition:j$,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function W$(e){let t={...bwe,...e},n=e.stacked,[r,i]=T.useState(!0),s=T.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=cwe(t),{className:c,style:d,rtl:f,containerId:p,hotKeys:m}=t;function y(C){let S=Oh("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":f});return $c(c)?c({position:C,rtl:f,defaultClassName:S}):Oh(S,bP(c))}function w(){n&&(i(!0),Tn.play())}return dwe(()=>{var C;if(n){let S=s.current.querySelectorAll('[data-in="true"]'),R=12,E=(C=t.position)==null?void 0:C.includes("top"),P=0,M=0;Array.from(S).reverse().forEach((A,D)=>{let k=A;k.classList.add("Toastify__toast--stacked"),D>0&&(k.dataset.collapsed=`${r}`),k.dataset.pos||(k.dataset.pos=E?"top":"bot");let I=P*(r?.2:1)+(r?0:R*D);k.style.setProperty("--y",`${E?I:I*-1}px`),k.style.setProperty("--g",`${R}`),k.style.setProperty("--s",`${1-(r?M:0)}`),P+=k.offsetHeight,M+=.025})}},[r,l,n]),T.useEffect(()=>{function C(S){var R;let E=s.current;m(S)&&((R=E.querySelector('[tabIndex="0"]'))==null||R.focus(),i(!1),Tn.pause()),S.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(i(!0),Tn.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[m]),ue.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),Tn.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((C,S)=>{let R=S.length?{...d}:{...d,pointerEvents:"none"};return ue.createElement("div",{tabIndex:-1,className:y(C),"data-stacked":n,style:R,key:`c-${C}`},S.map(({content:E,props:P})=>ue.createElement(wwe,{...P,stacked:n,collapseAll:w,isIn:a(P.toastId,P.containerId),key:`t-${P.key}`},E)))}))}const $$=e=>{if(console.log(e),e instanceof Wa)switch(e.code){case"auth/invalid-credential":return"Correo electrnico o contrasea invlidos";case"auth/email-already-in-use":return"El correo electrnico ya est en uso";default:return"Ocurri un error al iniciar sesin"}return"Ocurri un error al iniciar sesin"},xwe=()=>{const{setUser:e}=Xl(),[t,n]=T.useState(""),[r,i]=T.useState(""),[s,o]=T.useState(!1),[a,l]=T.useState(!1),c=f=>{f.preventDefault(),l(!0),Nye(t,r).then(p=>{e(p),localStorage.setItem("user",JSON.stringify(p))}).catch(p=>{Tn.error($$(p),{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{l(!1)})},d=()=>{o(f=>!f)};return F.jsxs(ly,{className:"d-flex align-items-center justify-content-center min-vh-100",children:[F.jsx(Ig,{className:"w-100 justify-content-center",children:F.jsx(Al,{xs:12,sm:10,md:6,lg:4,children:F.jsxs(rr,{className:"p-4 shadow",children:[F.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesin"}),F.jsxs(kn,{onSubmit:c,children:[F.jsxs(kn.Group,{className:"mb-3",controlId:"formEmail",children:[F.jsx(kn.Label,{children:"Correo electrnico o usuario"}),F.jsx(kn.Control,{type:"text",placeholder:"ejemplo@email.com",value:t,onChange:f=>n(f.target.value),required:!0})]}),F.jsxs(kn.Group,{className:"mb-3",controlId:"formPassword",children:[F.jsx(kn.Label,{children:"Contrasea"}),F.jsxs(Eh,{children:[F.jsx(kn.Control,{type:s?"text":"password",placeholder:"",value:r,onChange:f=>i(f.target.value),required:!0}),F.jsx(Tr,{variant:"outline-secondary",onClick:d,tabIndex:-1,children:s?F.jsx(xue,{size:20}):F.jsx(Eue,{size:20})})]})]}),F.jsx("div",{className:"d-grid",children:F.jsx(Tr,{variant:"primary",type:"submit",disabled:a,children:a?F.jsx(wa,{animation:"border",size:"sm",className:"me-2"}):"Ingresar"})})]})]})})}),F.jsx(W$,{})]})},Swe="/TutorIngles/assets/avatar_1-C53UKM51.mp4",Ewe="/TutorIngles/assets/avatar_2-B2MM8iM6.mp4",Twe="/TutorIngles/assets/avatar_3-DdalsJRq.mp4",Rwe="/TutorIngles/assets/avatar_4-BVmCFxuO.mp4",_we="/TutorIngles/assets/avatar_5-DQdjSsDe.mp4",NH="/TutorIngles/assets/mapa_colombia-5TUvGaog.png",Awe="/TutorIngles/assets/choco-BBZz_lSB.png",Dwe="/TutorIngles/assets/narino-BPiHBDGg.png",Pwe="/TutorIngles/assets/palenquera-CKdrs8GG.png",kwe="/TutorIngles/assets/nasa-Bgu4UTQT.png",Fwe="/TutorIngles/assets/ni%C3%B1osikuani-CNppRRPB.png",Iwe=[{id:1,region:"Vichada",position:{x:630,y:490},avatarImage:Fwe,text:"Hello, my name is Jomo, and I belong to the Sikuani indigenous people. I am from the department of Vichada and I am ten years old. My language is Sikuani. I like to fish, hunt, gather fruits, and live in harmony with nature. My favorite tradition in my community is when we dance and sing elcachodevenado.",videoSrc:Swe},{id:2,region:"Cauca",position:{x:150,y:620},avatarImage:kwe,text:'Hello everyone. My name is Wiya, which means "bird" in the Nasa Yuwe language. I am eleven years old. I am from a town called Inz and I speak Nasa Yuwe, Spanish, and English. I like to play palmo, a traditional game in my community where we have to throw an object into a hole. My favorite family tradition is when we weave ruanas and backpacks calledkwetanderas.',videoSrc:Ewe},{id:3,region:"Bolvar",position:{x:300,y:240},avatarImage:Pwe,text:"Hi there. My name is Rosalina; this name represents the ancestral wisdom of traditional medicine. I am twelve years old. I am from San Basilio de Palenque, located in the department of Bolvar. I speak Spanish, but my family also speaks other languages, such as Palenquera. I love designing colorful dresses for the women in my community with my grandmother. I also enjoy playingthemarimba.",videoSrc:Twe},{id:4,region:"Nario",position:{x:140,y:680},avatarImage:Dwe,text:"Hello everyone. My name is Santiago. I am nine years old, I speak Spanish and English, and I was born in the city of San Juan de Pasto in Colombia. I like my city because it has very beautiful tourist sites such as La Laguna de la Cocha and the Gold Museum. My favorite food is pusandao and pailaicecream.",videoSrc:Rwe},{id:5,region:"Choc",position:{x:150,y:440},avatarImage:Awe,text:"Hello everyone. My name is Camila. I am ten years old, I speak Spanish and English, and I was born in the city of Quibd, in the department of Choc. I like to dance chirima, which is a traditional dance from my region. My favorite food is fish, sancocho and I love chontaduro withsaltandsugar.",videoSrc:_we}];function Mwe(){const[e,t]=T.useState(null),[n,r]=T.useState(!1),i=T.useRef(null),s=()=>{e&&i.current&&(i.current.muted=!1,i.current.paused?i.current.play():i.current.pause())};return T.useEffect(()=>{const o=i.current;if(!o)return;const a=()=>r(!0),l=()=>r(!1),c=()=>r(!1);return o.addEventListener("play",a),o.addEventListener("pause",l),o.addEventListener("ended",c),()=>{o.removeEventListener("play",a),o.removeEventListener("pause",l),o.removeEventListener("ended",c)}},[e]),T.useEffect(()=>{e||r(!1)},[e]),F.jsxs("div",{className:"map-container",children:[F.jsx("p",{className:"instruction-text",children:"Click to see the avatars"}),F.jsx("img",{src:NH,alt:"Mapa de Colombia",className:"map-image",onError:o=>{const a=o.target;a.onerror=null,a.src=NH,console.error("Error loading map image")}}),Iwe.map(o=>F.jsx("button",{className:"map-point",style:{left:`${o.position.x}px`,top:`${o.position.y}px`},onClick:()=>t(o),"aria-label":`Ver avatar de ${o.region}`},o.id)),F.jsxs(wr,{show:!!e,onHide:()=>t(null),centered:!0,children:[F.jsx(wr.Header,{closeButton:!0,children:F.jsx(wr.Title,{children:e?.region})}),F.jsx(wr.Body,{className:"text-center",children:e&&F.jsxs(F.Fragment,{children:[e.videoSrc?F.jsx("video",{ref:i,src:e.videoSrc,className:"avatar-video",width:"80%",controls:!1}):F.jsx("img",{src:e.avatarImage,alt:`Avatar de ${e.region}`,className:"avatar-image",onError:o=>{const a=o.target;a.onerror=null,a.src="/assets/default-avatar.png"}}),F.jsx("p",{className:"mt-3",children:e.text}),F.jsx(Tr,{variant:"primary",onClick:s,children:n?" Pause":" Play"})]})})]})]})}var of=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:r}=this,i=a=>{const l=r?()=>r.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&i(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)i(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Owe(e,t){return t}function q$(e){return e?.getLocaleTextFunc()??Owe}function Lwe(e,t,n,r){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(r):i,r)}function Ic(e){return e==null||e===""?null:e}function ot(e){return e!=null&&e!==""}function dr(e){return!ot(e)}function TP(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function wy(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function Nwe(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var K$=new Set(["__proto__","constructor","prototype"]);function Bwe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!K$.has(r)))t(n,e[n])}}function Is(e,t,n=!0,r=!1){ot(t)&&Bwe(t,(i,s)=>{let o=e[i];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),BH(s)&&BH(o)&&!Array.isArray(o)?Is(o,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function Rv(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}function BH(e){return typeof e=="object"&&e!==null}var l2=class mh{static applyGlobalGridOptions(t){if(!mh.gridOptions)return{...t};let n={};return Is(n,mh.gridOptions,!0,!0),mh.mergeStrategy==="deep"?Is(n,t,!0,!0):n={...n,...t},mh.gridOptions.context&&(n.context=mh.gridOptions.context),t.context&&(mh.mergeStrategy==="deep"&&n.context&&Is(t.context,n.context,!0,!0),n.context=t.context),n}};l2.gridOptions=void 0;l2.mergeStrategy="shallow";var Y$=l2;function Vwe(e){return Y$.gridOptions?.[e]}var X$={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function $a(e,t,n){n==null||typeof n=="string"&&n==""?Q$(e,t):qa(e,t,n)}function qa(e,t,n){e.setAttribute(J$(t),n.toString())}function Q$(e,t){e.removeAttribute(J$(t))}function J$(e){return`aria-${e}`}function af(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Hwe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Gwe(e){return e.getAttribute("aria-label")}function Ug(e,t){$a(e,"label",t)}function Cy(e,t){$a(e,"labelledby",t)}function Z$(e,t){$a(e,"live",t)}function Uwe(e,t){$a(e,"atomic",t)}function zwe(e,t){$a(e,"relevant",t)}function jwe(e,t){$a(e,"invalid",t)}function Wwe(e,t){$a(e,"disabled",t)}function eq(e,t){$a(e,"hidden",t)}function RP(e,t){qa(e,"expanded",t)}function $we(e,t){qa(e,"setsize",t)}function qwe(e,t){qa(e,"posinset",t)}function Kwe(e,t){qa(e,"rowcount",t)}function tq(e,t){qa(e,"rowindex",t)}function Ywe(e,t){qa(e,"rowspan",t)}function Xwe(e,t){qa(e,"colcount",t)}function nq(e,t){qa(e,"colindex",t)}function Qwe(e,t){qa(e,"colspan",t)}function Jwe(e,t){qa(e,"sort",t)}function Zwe(e){Q$(e,"sort")}function _P(e,t){$a(e,"selected",t)}function eCe(e,t){$a(e,"controls",t)}function tCe(e,t){eCe(e,t.id),Cy(t,e.id)}function VH(e,t){$a(e,"owns",t)}function BE(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Q_,J_,Z_,eA,AP,DP,tA;function Pf(){return Q_===void 0&&(Q_=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Q_}function rq(){return J_===void 0&&(J_=/(firefox)/i.test(navigator.userAgent)),J_}function iq(){return Z_===void 0&&(Z_=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Z_}function Lh(){return eA===void 0&&(eA=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),eA}function PP(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!rq())?null:t.toString()}function nCe(){if(tA!==void 0)return tA;if(!document.body)return-1;let e=1e6;const t=rq()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),tA=e,e}function rCe(){return DP==null&&sq(),DP}function sq(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(DP=n,AP=n===0)}function oq(){return AP==null&&sq(),AP}var iCe="[tabindex], input, select, button, textarea, [href]",aq="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function c2(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,aq),s=Wl(e);return r&&!i&&s}function Cr(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||eq(e,!t)}function sCe(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||eq(e,!t)}function by(e,t){const n="disabled",r=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const s of i)r(s)}function Nh(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function kf(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:f,marginRight:p,marginBottom:m,marginLeft:y,boxSizing:w}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:w}}function u2(e){const t=kf(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function xy(e){const t=kf(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function lq(e){const{height:t,marginBottom:n,marginTop:r}=kf(e);return Math.floor(t+n+r)}function jS(e){const{width:t,marginLeft:n,marginRight:r}=kf(e);return Math.floor(t+n+r)}function cq(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=kf(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function WS(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function $S(e,t,n){n&&(t*=-1),e.scrollLeft=t}function ko(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function qc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function uq(e){return!!e.offsetParent}function Wl(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!uq(e)||window.getComputedStyle(e).visibility!=="visible")}function d2(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function $x(e){return()=>{const t=e();return t?dq(t)||hq(t):!0}}function dq(e){return e.clientWidth<e.scrollWidth}function hq(e){return e.clientHeight<e.scrollHeight}function qS(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Ll(e,t)}function Ll(e,t){t=h2(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function _v(e,t){t=h2(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function h2(e){return typeof e=="number"?`${e}px`:e}function f2(e){return e instanceof Node||e instanceof HTMLElement}function xo(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function eu(e,t,n){const i=xq(e).ResizeObserver,s=i?new i(n):null;return s?.observe(t),()=>s?.disconnect()}function tu(e,t){const n=xq(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var fq="data-ref",nA;function HH(){return nA??(nA=document.createTextNode(" ")),nA.cloneNode()}function Yr(e){const{attrs:t,children:n,cls:r,ref:i,role:s,tag:o}=e,a=document.createElement(o);if(r&&(a.className=r),i&&a.setAttribute(fq,i),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(HH()),l=!1),a.append(Yr(c)),a.appendChild(HH())))}return a}var GH={};function p2(e,t){GH[t]||(e(),GH[t]=!0)}function lf(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Av(e,...t){p2(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function lg(e,...t){p2(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var oCe={pending:!1,funcs:[]},aCe={pending:!1,funcs:[]};function kP(e,t="setTimeout",n){const r=t==="raf"?aCe:oCe;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const s=r.funcs.slice();r.funcs.length=0,r.pending=!1,s.forEach(o=>o())};t==="raf"?tu(n,i):window.setTimeout(i,0)}function Yi(e,t,n){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n)}}function UH(e,t){let n=0;return function(...r){const i=this,s=Date.now();s-n<t||(n=s,e.apply(i,r))}}function lCe(e,t,n=100,r){const i=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-i>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var pq="https://www.ag-grid.com",dt="34.1.1",zH=2e3,jH=100,gq="_version_",mq=null,cg=`${pq}/javascript-data-grid`;function cCe(e){mq=e}function uCe(e){cg=e}function vq(e,t,n){return mq?.getConsoleMessage(e,t)??[pCe(e,t,n)]}function g2(e,t,n,r){e(`error #${t}`,...vq(t,n,r))}function dCe(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function hCe(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=dCe(e)),t}function KS(e){return e===void 0?"undefined":e===null?"null":e}function FP(e,t){return`${e}?${t.toString()}`}function fCe(e,t,n){const r=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=FP(e,t);for(const[s,o]of r){if(s===gq)continue;const a=i.length-n;if(a<=0)break;const l="...",c=a+l.length,d=o.length-c>jH?o.slice(0,o.length-c)+l:o.slice(0,jH)+l;t.set(s,d),i=FP(e,t)}return i}function yq(e,t){const n=new URLSearchParams;if(n.append(gq,dt),t)for(const s of Object.keys(t))n.append(s,hCe(t[s]));const r=`${cg}/errors/${e}`,i=FP(r,n);return i.length<=zH?i:fCe(r,n,zH)}var pCe=(e,t,n)=>{const r=yq(e,t);return`${n?n+` 
`:""}Visit ${r}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Ye(...e){g2(Av,e[0],e[1])}function Gn(...e){g2(lg,e[0],e[1])}function cv(e,t,n){g2(lg,e,t,n)}function gCe(e,t){const n=t[0];return`error #${n} `+vq(n,t[1],e).join(" ")}function Nl(...e){return gCe(void 0,e)}function wq(e,t){return e.get("rowModelType")===t}function li(e,t){return wq(e,"clientSide")}function Ff(e,t){return wq(e,"serverSide")}function Qi(e,t){return e.get("domLayout")===t}function Bh(e){return XS(e)!==void 0}function Cq(e){return typeof e.get("getRowHeight")=="function"}function mCe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function gd(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),Cq(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},c=i.getCallback("getRowHeight")(l);if(IP(c))return c===0&&Ye(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&i.get("masterDetail"))return vCe(i);const o=i.get("rowHeight");return{height:o&&IP(o)?o:r,estimated:!1}}function vCe(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return IP(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Vh(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||dr(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(Ye(24),t.getDefaultRowHeight())}function IP(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function bq(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function cf(e,t,n,r){const i=e.getDomDataKey();let s=t[i];dr(s)&&(s={},t[i]=s),s[n]=r}function Di(e){const{gos:t,eGridDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&ot(i)?r=i():n&&(r=n.ownerDocument),r&&ot(r)?r:document}function xq(e){return Di(e).defaultView||window}function Sy(e){return e.eGridDiv.getRootNode()}function _r(e){return Sy(e).activeElement}function m2(e){let t=null,n=null;try{t=Di(e).fullscreenElement}catch{}finally{t||(t=Sy(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function yCe(e){return m2(e)?.clientWidth??(window.innerWidth||-1)}function wCe(e){return m2(e)?.clientHeight??(window.innerHeight||-1)}function CCe(e,t,n){const i=e.getBoundingClientRect().height,s=yCe(n)-2,o=wCe(n)-2;if(!e.offsetParent)return;const l=cq(e.offsetParent),{clientY:c,clientX:d}=t;let f=c-l.top-i/2,p=d-l.left-10;const m=Di(n),y=m.defaultView||window,w=y.pageYOffset||m.documentElement.scrollTop,C=y.pageXOffset||m.documentElement.scrollLeft;s>0&&p+e.clientWidth>s+C&&(p=s+C-e.clientWidth),p<0&&(p=0),o>0&&f+e.clientHeight>o+w&&(f=o+w-e.clientHeight),f<0&&(f=0),e.style.left=`${p}px`,e.style.top=`${f}px`}function Sq(e){const t=_r(e);return t===null||t===Di(e).body}function ug(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Eq(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Qi(e,"print"))}function yl(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function MP(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function Tq(e){return e.get("grandTotalRow")}function Rq(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function _q(e,t,n){return!!t.group&&!t.footer&&Rq(e,n)}function zg(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(p2(()=>Ye(25,{id:r}),"getRowIdString"),r=String(r)),r}}function bCe(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function xCe(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function dg(e){return e?.checkboxes??!0}function qx(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function YS(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function rA(e){return e?.hideDisabledCheckboxes??!1}function SCe(e){return typeof e.get("rowSelection")!="string"}function md(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Aq(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function ECe(e){const t=Aq(e);return t===!0||t==="enableSelection"}function TCe(e){const t=Aq(e);return t===!0||t==="enableDeselection"}function OP(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function XS(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function QS(e){return XS(e)==="multiRow"}function RCe(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function JS(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function Dq(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Ey(e){const t=JS(e);return t==="descendants"||t==="filteredDescendants"}function WH(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function _Ce(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function So(e){return e.get("columnMenu")==="legacy"}function ACe(e){return!So(e)}function DCe(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function PCe(e,t,n){typeof e!="object"&&(e={});const r={...e};return n.forEach(i=>{const s=t[i];typeof s<"u"&&(r[i]=s)}),r}function kCe(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function At(e,t){return e.addGridCommonParams(t)}function Pq(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function Kx(e,t){return e[t]??e.gridOptions?.[t]??Vwe(t)??X$[t]}var kq="__ag_Grid_Stop_Propagation",FCe=["touchstart","touchend","touchmove","touchcancel","scroll"],ICe=["wheel"],iA={};function uf(e){e[kq]=!0}function Mc(e){return e[kq]===!0}var Fq=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof iA[n]=="boolean")return iA[n];const r=document.createElement(e[n]||"div");return n="on"+n,iA[n]=n in r}})();function Iq(e,t,n){let r=t;for(;r;){const i=bq(e,r,n);if(i)return i;r=r.parentElement}return null}function MCe(e,t){return!t||!e?!1:LCe(t).indexOf(e)>=0}function OCe(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function LCe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():OCe(t)}function NCe(e,t,n,r){const i=Mq(n);let s;i!=null&&(s={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,r,s)}var Mq=e=>{const t=FCe.includes(e),n=ICe.includes(e);if(t)return!0;if(n)return!1},Oe=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new of),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;return BCe(e)?(e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?NCe(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),r=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,r))}getLocaleTextFunc(){return q$(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function BCe(e){return e.__addEventListener!==void 0}var VCe=/[&<>"']/g,HCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vm(e){return e?.toString().toString()??null}function Yx(e){return vm(e)?.replace(VCe,t=>HCe[t])??null}var GCe={resizable:!0,sortable:!0},UCe=0;function Oq(){return UCe++}function vd(e){return e instanceof If}var If=class extends Oe{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=Oq(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new of,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Yx(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=ot(t)&&t.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=ot(n)&&n.indexOf(".")>=0&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return At(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??GCe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return At(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return dr(this.sort)}isSorting(){return ot(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return Ye(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return At(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(dr(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(dr(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&Is(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ss(e){return e instanceof Xx}var Xx=class extends Oe{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=Oq(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)vd(t)?e(t):ss(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{vd(t)?e.push(t):ss(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,o=r.length;s<o;s++){const a=r[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{ss(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},zCe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function $H(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var jCe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=TP(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const i=String(r);return e&&n>0&&Ye(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}},ZS=Object.freeze([]);function Hn(e){if(e?.length)return e[e.length-1]}function Mf(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function Wb(e,t){if(e)for(const n of e)t(n)}function Ca(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function qH(e,t,n){for(let r=0;r<t.length;r++)Ca(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var VE="ag-Grid-AutoColumn",Lq="ag-Grid-SelectionColumn",Nq="ag-Grid-RowNumbersColumn";function Bq(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];vd(s)?t.push(s):ss(s)&&n(s.getChildren())}};return n(e),t}function bc(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function e1(e,t,n){const r={};if(!t)return;Oc(null,t,s=>{r[s.getInstanceId()]=s}),n&&Oc(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function v2(e){return e.getId().startsWith(VE)}function Id(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(Lq)??!1}function nd(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(Nq)??!1}function WCe(e){return Id(e)||nd(e)}function t1(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function $Ce(e,t){return Mf(e,t,(n,r)=>n.getColId()===r.getColId())}function qCe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function hg(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Vq(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var KCe=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),ot(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),ot(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function YCe(e,t=null,n,r,i){const s=new jCe,{existingCols:o,existingGroups:a,existingColKeys:l}=XCe(r);s.addExistingKeys(l);const c=Hq(e,t,0,n,o,s,a,i),{colGroupSvc:d}=e,f=d?.findMaxDepth(c,0)??0,p=d?d.balanceColumnTree(c,0,f,s):c;return Oc(null,p,(y,w)=>{ss(y)&&y.setupExpandable(),y.originalParent=w}),{columnTree:p,treeDepth:f}}function XCe(e){const t=[],n=[],r=[];return e&&Oc(null,e,i=>{if(ss(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function Hq(e,t,n,r,i,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){const f=t[d];l&&nbe(f)?c[d]=l.createProvidedColumnGroup(r,f,n,i,s,o,a):c[d]=QCe(e,r,f,i,s,a)}return c}function QCe(e,t,n,r,i,s){const o=ZCe(n,r);o&&r?.splice(o.idx,1);let a=o?.column;if(a){const l=LP(e,n,a.getColId());a.setColDef(l,n,s),JCe(e,a,l,s)}else{const l=i.getUniqueKey(n.colId,n.field),c=LP(e,n,l);a=new If(c,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function Gq(e,t,n,r,i,s,o,a){const{sortSvc:l,pinnedCols:c,colFlex:d}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,r,a),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&c?.setColPinned(t,s),o!==void 0&&d?.setColFlex(t,o)}function JCe(e,t,n,r){Gq(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function ZCe(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function LP(e,t,n,r){const{gos:i,dataTypeSvc:s}=e,o={},a=i.get("defaultColDef");Is(o,a,!1,!0);const l=ebe(e,o,t,n);l&&tbe(e,l,o);const c=o.cellDataType;Is(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);const d=i.get("autoGroupColumnDef"),f=yl(i);return t.rowGroup&&d&&f&&Is(o,{sort:d.sort,initialSort:d.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),i.validateColDef(o,n,r),o}function ebe(e,t,n,r){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?t1(s):void 0}function tbe(e,t,n){if(!t.length)return;const r=Object.assign({},zCe),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in r?Ye(34,{key:s}):(o.type&&Ye(35),r[s]=o)}t.forEach(s=>{const o=r[s.trim()];o?Is(n,o,!1,!0):Ye(36,{t:s})})}function nbe(e){return e.children!==void 0}function Oc(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];ss(i)&&Oc(i,i.getChildren(),n),n(i,e)}}function Uq(e,t){const n=[],r=[],i=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?i.push(o):a==="left"||a===!0?n.push(o):r.push(o)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function zq(e,t){let n=!0;return Oc(null,t,r=>{if(!ss(r))return;const i=r,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(p=>{const m=e.indexOf(p);a.push(m)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,f=i.getLeafColumns().length-1;d>f&&(n=!1)}),n}function jq(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function Wq(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=jq(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function rbe(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=jq(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function ibe(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function jg(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function Ba(e,t,n){const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:f,valueColsSvc:p,eventSvc:m,gos:y}=e,w=r.getColDefCols()??[],C=a?.getColumns();if(!w?.length&&!C?.length)return!1;if(t?.state&&!t.state.forEach)return Ye(32),!1;const S=(M,A,D,k,I)=>{if(!M)return;const B=KCe(A,t.defaultState),N=B("flex").value1;if(Gq(e,M,B("hide").value1,B("sort").value1,B("sortIndex").value1,B("pinned").value1,N,n),N==null){const H=B("width").value1;if(H!=null){const G=M.getColDef().minWidth??f.getDefaultColumnMinWidth();G!=null&&H>=G&&M.setActualWidth(H,n)}}I||!M.isPrimary()||(p?.syncColumnWithState(M,n,B),i?.syncColumnWithState(M,n,B,D),s?.syncColumnWithState(M,n,B,k))},R=(M,A,D)=>{const k=$q(e,n),I=A.slice(),B={},N={},H=[],G=[],oe=[];let le=0;const Z=i?.columns.slice()??[],se=s?.columns.slice()??[];M.forEach(L=>{const ae=L.colId;if(ae.startsWith(VE)){H.push(L),oe.push(L);return}if(Id(ae)){G.push(L),oe.push(L);return}const V=D(ae);V?(S(V,L,B,N,!1),Ca(I,V)):(oe.push(L),le+=1)});const fe=L=>S(L,null,B,N,!1);I.forEach(fe),i?.sortColumns(KH.bind(i,B,Z)),s?.sortColumns(KH.bind(s,N,se)),r.refreshCols(!1);const ne=(L,ae,W=[])=>{ae.forEach(V=>{const X=L(V.colId);Ca(W,X),S(X,V,null,null,!0)}),W.forEach(fe)};return ne(L=>o?.getColumn(L)??null,H,o?.getColumns()?.slice()),ne(L=>a?.getColumn(L)??null,G,a?.getColumns()?.slice()),obe(t,r,y),c.refresh(n),m.dispatchEvent({type:"columnEverythingChanged",source:n}),k(),{unmatchedAndAutoStates:oe,unmatchedCount:le}};l?.start();let{unmatchedAndAutoStates:E,unmatchedCount:P}=R(t.state||[],w,M=>r.getColDefCol(M));if(E.length>0||ot(t.defaultState)){const M=d?.getPivotResultCols()?.list??[];P=R(E,M,A=>d?.getPivotResultCol(A)??null).unmatchedCount}return l?.finish(),P===0}function sbe(e,t){const{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),c=Bq(l),d=[];let f=1e3,p=1e3;const m=R=>{const E=qq(R);dr(E.rowGroupIndex)&&E.rowGroup&&(E.rowGroupIndex=f++),dr(E.pivotIndex)&&E.pivot&&(E.pivotIndex=p++),d.push(E)};r?.getColumns()?.forEach(m),i?.getColumns()?.forEach(m),c?.forEach(m),Ba(e,{state:d},t);const y=r?.getColumns()??[],S=[...i?.getColumns()??[],...y,...a].map(R=>({colId:R.colId}));Ba(e,{state:S,applyOrder:!0},t),s.dispatchEvent(At(o,{type:"columnsReset",source:t}))}function $q(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},c=n1(e),d={};return c.forEach(f=>{d[f.colId]=f}),()=>{const f=(A,D,k,I)=>{const B=D.map(I),N=k.map(I);if(Mf(B,N))return;const G=new Set(D);k.forEach(le=>{G.delete(le)||G.add(le)});const oe=[...G];a.dispatchEvent({type:A,columns:oe,column:oe.length===1?oe[0]:null,source:t})},p=A=>{const D=[];return s.forAllCols(k=>{const I=d[k.getColId()];I&&A(I,k)&&D.push(k)}),D},m=A=>A.getColId();f("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],m),f("columnPivotChanged",l.pivotColumns,r?.columns??[],m);const w=p((A,D)=>{const k=A.aggFunc!=null,I=k!=D.isValueActive(),B=k&&A.aggFunc!=D.getAggFunc();return I||B});w.length>0&&ibe(a,"columnValueChanged",w,t),jg(a,p((A,D)=>A.width!=D.getActualWidth()),!0,t),Wq(a,p((A,D)=>A.pinned!=D.getPinned()),t),rbe(a,p((A,D)=>A.hide==D.isVisible()),t);const P=p((A,D)=>A.sort!=D.getSort()||A.sortIndex!=D.getSortIndex());P.length>0&&o?.dispatchSortChangedEvents(t,P);const M=n1(e);lbe(c,M,t,s,a)}}function n1(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(dr(i)||!t.isAlive())return[];const s=n?.columns,o=r?.columns,a=[],l=d=>{const f=d.isRowGroupActive()&&s?s.indexOf(d):null,p=d.isPivotActive()&&o?o.indexOf(d):null,m=d.isValueActive()?d.getAggFunc():null,y=d.getSort()!=null?d.getSort():null,w=d.getSortIndex()!=null?d.getSortIndex():null;a.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:y,sortIndex:w,aggFunc:m,rowGroup:d.isRowGroupActive(),rowGroupIndex:f,pivot:d.isPivotActive(),pivotIndex:p,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));const c=new Map(t.getCols().map((d,f)=>[d.getColId(),f]));return a.sort((d,f)=>{const p=c.has(d.colId)?c.get(d.colId):-1,m=c.has(f.colId)?c.get(f.colId):-1;return p-m}),a}function qq(e){const t=(y,w)=>y??w??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let f=t(n.pivotIndex,n.initialPivotIndex),p=t(n.pivot,n.initialPivot);f==null&&(p==null||p==!1)&&(f=null,p=null);const m=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:p,pivotIndex:f,aggFunc:m}}function obe(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];e.state.forEach(i=>{i.colId!=null&&r.push(i.colId)}),abe(t.cols,r,t,n)}function abe(e,t,n,r){if(e==null)return;let i=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(i.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(VE)?i.splice(o++,0,a):i.push(a)}),i=Uq(i,r),!zq(i,n.getColTree())){Ye(39);return}e.list=i}function lbe(e,t,n,r,i){const s={};t.forEach(d=>s[d.colId]=d);const o={};e.forEach(d=>{s[d.colId]&&(o[d.colId]=!0)});const a=e.filter(d=>o[d.colId]),l=t.filter(d=>o[d.colId]),c=[];l.forEach((d,f)=>{const p=a&&a[f];if(p&&p.colId!==d.colId){const m=r.getCol(p.colId);m&&c.push(m)}}),c.length&&i.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var KH=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(r),d=l>=0,f=c>=0;return d&&f?l-c:d?-1:1},cbe=class extends Oe{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(hg(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),hg(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,c=this.colDefs?$q(t,e):void 0;n?.expire();const d=this.colDefCols?.list,f=this.colDefCols?.tree,p=YCe(t,this.colDefs,!0,f,e);e1(t,this.colDefCols?.tree,p.columnTree);const m=p.columnTree,y=p.treeDepth,w=Bq(m),C={};w.forEach(S=>C[S.getId()]=S),this.colDefCols={tree:m,treeDepth:y,list:w,map:C},i?.extractCols(e,d),s?.extractCols(e,d),o?.extractCols(e,d),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&r?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:i,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:d,eventSvc:f}=this.beans,p=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,r,i],p);const m=mCe(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(p),this.positionLockedCols(p),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(p),c.clear(),d.clear(),!Mf(t,this.cols.tree)&&f.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const c=v2(l);if(r){const d=o?.includes(l);return c||d||i&&Id(l)||s&&nd(l)}else return c||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Ba(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(f=>e.map[f.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=f=>{const p=f.getOriginalParent();return p?p.getChildren().length>1?!0:r(p):!1};if(!n.some(f=>r(f))){const f=new Set(n);for(const p of e.list)f.has(p)||n.push(p);e.list=n;return}const i=new Map;for(let f=0;f<n.length;f++){const p=n[f];i.set(p,f)}const s=e.list.filter(f=>!i.has(f));if(s.length===0){e.list=n;return}const o=(f,p)=>{const m=p?p.getOriginalParent():f.getOriginalParent();if(!m)return null;let y=null,w=null;for(const C of m.getChildren())if(!(C===p||C===f)){if(C instanceof If){const S=i.get(C);if(S==null)continue;(y==null||y<S)&&(y=S,w=C);continue}C.forEachLeafColumn(S=>{const R=i.get(S);R!=null&&(y==null||y<R)&&(y=R,w=S)})}return w??o(f,m)},a=[],l=new Map;for(const f of s){const p=o(f,null);if(p==null){a.push(f);continue}const m=l.get(p);m===void 0?l.set(p,f):Array.isArray(m)?m.push(f):l.set(p,[m,f])}const c=new Array(e.list.length);let d=c.length-1;for(let f=a.length-1;f>=0;f--)c[d--]=a[f];for(let f=n.length-1;f>=0;f--){const p=n[f],m=l.get(p);if(m)if(Array.isArray(m))for(let y=m.length-1;y>=0;y--){const w=m[y];c[d--]=w}else c[d--]=m;c[d--]=p}e.list=c}positionLockedCols(e){e.list=Uq(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=hg(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){e1(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r}=this.beans;Wb(this.colDefCols?.list,e),Wb(n?.columns?.list,e),Wb(r?.columns?.list,e),Wb(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<r.length;i++)if(Vq(r[i],e))return r[i];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},Kq=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},ym=class extends Oe{};function qw(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Kw=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.toggleCss(i,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},ube=0,Et=null,er=class extends Oe{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=ube++,this.cssManager=new Kw(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(fq):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Et)this[t]=r??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);n.forEach(r=>{if(!(r instanceof HTMLElement))return;const i=this.createComponentFromElement(r,s=>{const o=s.getGui();if(o)for(const a of r.attributes??[])o.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)})}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,o=s?this.componentSelectors.get(r):null;let a=null;if(o){const l=n&&i?n[i]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,a),a}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=d2(e):r=Yr(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),f2(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;sCe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Cr(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function Yq(e){return typeof e=="object"&&!!e.component}var vn=class uv{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new uv(n=>{let r=t.length;const i=new Array(r);t.forEach((s,o)=>{s.then(a=>{i[o]=a,r--,r===0&&n(i)})})}):uv.resolve()}static resolve(t=null){return new uv(n=>n(t))}then(t){return new uv(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function dbe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function Xq(e,t,n,r){const{name:i}=n;let s,o,a,l,c,d;if(t){const f=t,p=f[i+"Selector"],m=p?p(r):null,y=w=>{typeof w=="string"?s=w:w!=null&&w!==!0&&(e.isFrameworkComponent(w)?a=w:o=w)};m?(y(m.component),l=m.params,c=m.popup,d=m.popupPosition):y(f[i])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var hbe=class extends Oe{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:f,popupPositionFromSelector:p}=Xq(this.beans.frameworkOverrides,e,t,r),m,y;const w=E=>{const P=this.registry.getUserComponent(s,E);P&&(l=P.componentFromFramework?void 0:P.component,c=P.componentFromFramework?P.component:void 0,m=P.params,y=P.processParams)};if(a!=null&&w(a),l==null&&c==null&&n!=null&&w(n),l&&o&&!dbe(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){const{validation:E}=this.beans;i&&(a!==n||!n)?a?E?.isProvidedUserComp(a)||Gn(50,{compName:a}):n?E||Gn(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):Gn(216,{name:s}):n&&!E&&Gn(146,{comp:n});return}const C=this.mergeParams(e,t,r,d,m,y),S=l==null,R=l??c;return{componentFromFramework:S,componentClass:R,params:C,type:t,popupFromSelector:f,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(R,S,C,t)}}newAgStackInstance(e,t,n,r){const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const o=s.init?.(n);return o==null?vn.resolve(s):o.then(()=>s)}mergeParams(e,t,n,r=null,i,s){const o={...n,...i},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const c=l(n);Is(o,c)}else typeof l=="object"&&Is(o,l);return Is(o,r),s?s(o):o}},fbe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},pbe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},gbe={name:"headerComponent",optionalMethods:["refresh"]},mbe={name:"innerHeaderComponent"},vbe={name:"innerHeaderGroupComponent"},ybe={name:"headerGroupComponent"},wbe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Cbe={name:"loadingCellRenderer",cellRenderer:!0},bbe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},xbe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},Sbe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Ebe={name:"tooltipComponent"},y2={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Tbe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Rbe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},_be={name:"loadingCellRenderer",cellRenderer:!0},Abe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Dbe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Pbe(e,t){return e.getCompDetailsFromGridOptions(pbe,"agDragAndDropImage",t,!0)}function kbe(e,t,n){return e.getCompDetails(t,gbe,"agColumnHeader",n)}function Fbe(e,t,n){return e.getCompDetails(t,mbe,void 0,n)}function Ibe(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,ybe,"agColumnGroupHeader",t)}function Mbe(e,t,n){return e.getCompDetails(t,vbe,void 0,n)}function Obe(e,t){return e.getCompDetailsFromGridOptions(Rbe,void 0,t,!0)}function Lbe(e,t){return e.getCompDetailsFromGridOptions(_be,"agLoadingCellRenderer",t,!0)}function Nbe(e,t){return e.getCompDetailsFromGridOptions(Abe,"agGroupRowRenderer",t,!0)}function Bbe(e,t){return e.getCompDetailsFromGridOptions(Dbe,"agDetailCellRenderer",t,!0)}function YH(e,t,n){return e.getCompDetails(t,wbe,void 0,n)}function XH(e,t,n){return e.getCompDetails(t,Cbe,"agSkeletonCellRenderer",n,!0)}function Qq(e,t,n){return e.getCompDetails(t,bbe,"agCellEditor",n,!0)}function Vbe(e,t,n,r){const i=t.filter;return Yq(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,y2,r,n,!0)}function Hbe(e,t,n){return e.getCompDetails(t,fbe,"agDateInput",n,!0)}function Gbe(e,t){return e.getCompDetailsFromGridOptions(xbe,"agLoadingOverlay",t,!0)}function Ube(e,t){return e.getCompDetailsFromGridOptions(Sbe,"agNoRowsOverlay",t,!0)}function zbe(e,t){return e.getCompDetails(t.colDef,Ebe,"agTooltipComponent",t,!0)}function jbe(e,t,n,r){return e.getCompDetails(t,Tbe,r,n)}function Jq(e,t){return Xq(e,t,y2)}function sA(e,t,n){return e.mergeParams(t,y2,n)}function Ty(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Zq=new Set,r1={},Hh={},Qx,eK=!1,tK=!1,Wbe=!1;function $be(e){const[t,n]=e.version.split(".")||[],[r,i]=Qx.split(".")||[];return t===r&&n===i}function qbe(e){Qx||(Qx=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?$be(e)||lg(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Qx}.`)):lg(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||lg(`${n.message}`)}}function Ry(e,t,n=!1){n||(eK=!0),qbe(e);const r=e.rowModels??["all"];Zq.add(e);let i;t!==void 0?(tK=!0,Hh[t]===void 0&&(Hh[t]={}),i=Hh[t]):i=r1,r.forEach(s=>{i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Ry(s,t,n))}function Kbe(e){delete Hh[e]}function NP(e,t,n){const r=i=>!!r1[i]?.[e]||!!Hh[t]?.[i]?.[e];return r(n)||r("all")}function w2(){return tK}function Ybe(e,t){const n=Hh[e]??{};return[...Object.values(r1.all??{}),...Object.values(n.all??{}),...Object.values(r1[t]??{}),...Object.values(n[t]??{})]}function Xbe(){return new Set(Zq)}function Qbe(e,t){const n=Hh[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function Jbe(){return eK}function Zbe(){return Wbe}var exe=class{static register(e){Ry(e,void 0)}static registerModules(e){e.forEach(t=>Ry(t,void 0))}},txe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function nxe(e){return typeof e=="object"&&!!e.getComp}var rxe=class extends txe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),Kbe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},ixe=class extends Oe{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new nK,this.rowValidations=new rK,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:c},d)=>{c!==ba&&(l[d.getColId()]=c)});return n&&o(n,s),i&&o(i,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>t.set(r,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((i,s)=>r.set(s,{...i})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const r=this._getEdit(e);r&&(r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed")}else this.getEditRow(t)?.forEach(r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const i of n.keys())t.push({rowNode:r,column:i,...n.get(i)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){const s=this.getEditRow(n,t);return s?r?i?this.getEdit(e)?.state==="editing":s.has(r)??!1:s.size!==0?i?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:ba,sourceValue:this.beans.valueSvc.getValue(r,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},nK=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},rK=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function sxe(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function iK(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function oxe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ot(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function axe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function lxe(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r?.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function cxe(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function Kc(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function dv(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function uxe(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let s;return s??(s=r?.getRowNode(t)),n?s??(s=i?.getPinnedRowById(t,n)):(s??(s=i?.getPinnedRowById(t,"top")),s??(s=i?.getPinnedRowById(t,"bottom"))),s}function i1(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(n===0)return r==="top"?null:r==="bottom"&&o.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=r?void 0:o.getRow(n);return sK(e,a,!0)??{rowIndex:n-1,rowPinned:r}}function QH(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(dxe(e,t))return r==="bottom"?null:r==="top"&&o.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=r?void 0:o.getRow(n);return sK(e,a)??{rowIndex:n+1,rowPinned:r}}function sK(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!t?.sticky||!Eq(r))return;const s=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),a=!o.some(f=>f.rowNode.rowIndex===t.rowIndex),l=a?s:o,c=(n?-1:1)*(a?-1:1);let d;for(let f=0;f<l.length;f++)if(l[f].rowNode.rowIndex===t.rowIndex){d=l[f+c];break}return d?{rowIndex:d.rowNode.rowIndex,rowPinned:null}:void 0}function dxe(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:s}=e;return n==="top"?(i?.getPinnedTopRowCount()??0)-1<=r:n==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=r:s.getLastRow()<=r}function C2(e,t={}){const{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(r?l=uxe(e,r,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function lr(e,t={}){const{cellCtrl:n,colId:r,columnId:i,column:s}=t;if(n)return n;const o=e.colModel.getCol(r??i??BP(s)),a=t.rowCtrl??C2(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[o])?.[0]}function JH(e){const{editSvc:t}=e;t?.isBatchEditing()?fg(e):t?.stopEditing(void 0,{source:"api"})}function hxe(e,t,n){const{gos:r,popupSvc:i}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(PP(a)===null){JH(t);return}let l=n.some(c=>c.contains(a))&&vK(r,a);l||(l=!!i&&(i.getActivePopups().some(c=>c.contains(a))||i.isElementWithinCustomPopup(a))),l||JH(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function BP(e){if(e)return typeof e=="string"?e:e.getColId()}var ba=Symbol("unedited");function oK(e,t={}){const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of r){const s=i.comp?.getCellEditor();s&&n.push({ctrl:i,editor:Ty(s)})}return n}var fxe=(e,t={})=>oK(e,t).map(n=>n.editor);function pxe(e,t,n,r,i,s){t.length===0&&n?.rowNode&&n?.column&&Wg(e,n,{key:r,event:i,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:d}=n??{};for(const f of t){const{rowNode:p,column:m}=f,y=lr(e,f);if(!y){if(p&&m){const C=o.getValue(m,p,void 0,"api"),E=(n?.rowNode===p&&n?.column===m&&r||void 0)??a?.getCellDataValue(f,!1)??o.getValueForDisplay(m,p)?.value??C??ba;l?.setEdit(f,{pendingValue:E,sourceValue:C,state:"editing"})}continue}const w=s&&c===y.rowNode&&y.column===d;Wg(e,{rowNode:c,column:y.column},{key:w?r:null,event:w?i:null,cellStartedEdit:w})}}function rd({pendingValue:e,sourceValue:t}){return e===ba&&(e=t),e!==t}function Wg(e,t,n){const{key:r,event:i,cellStartedEdit:s,silent:o}=n??{},a=lr(e,t),l=a?.comp?.getCellEditor(),c=lK(e,t,r,s),d=e.editModelSvc?.getEdit(t);let f=r?.length===1?r:c.value;if(f===void 0&&(f=d?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:f,state:"editing"}),l){l.refresh?.(c);return}const p=t.column.getColDef(),m=Qq(e.userCompFactory,p,c),y=m?.popupFromSelector!=null?m.popupFromSelector:!!p.cellEditorPopup,w=m?.popupPositionFromSelector!=null?m.popupPositionFromSelector:p.cellEditorPopupPosition;cK(m.params,i),a&&(a.editCompDetails=m,a.comp?.setEditDetails(m,y,w,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,i,"cellEditingStarted"))}function aK(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function lK(e,t,n,r){const{valueSvc:i,gos:s,editSvc:o}=e,a=lr(e,t),l=t.rowNode?.rowIndex??void 0,c=o?.isBatchEditing(),d=e.colModel.getCol(t.column.getId()),{rowNode:f,column:p}=t,m=a.comp?.getCellEditor(),y=o?.getCellDataValue(t,!1)??(m?aK(m)?.editorValue:void 0),w=y===ba?i.getValueForDisplay(d,f)?.value:y;return At(s,{value:w,eventKey:n??null,column:p,colDef:p.getColDef(),rowIndex:l,node:f,data:f.data,cellStartedEdit:r??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:C=>{o.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:C}),s1(e,t)},eGridCell:a?.eGui,parseValue:C=>i.parseValue(d,f,C,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function VP(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((r,i)=>{r.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===ba)||!rd(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:i,column:o})})})}function gxe(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,o=lK(e,t,r,i),a=s.getColDef(),l=Qq(e.userCompFactory,a,o);n.refresh(cK(l.params,r))}function cK(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Rh(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const r=lr(e,n);if(!r)return;const i=r.comp.getCellEditor();if(!i)return;const{editorValue:s,editorValueExists:o}=aK(i);Jx(e,n,t,s,void 0,!o)})}function Jx(e,t,n,r,i,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:c}=t;if(!(l&&c))return;const f=!!lr(e,t)?.comp?.getCellEditor();let p=o.getEdit(t,!0);p?.sourceValue||(p=o.setEdit(t,{sourceValue:a.getValue(c,l,void 0,"api"),pendingValue:ba,state:f?"editing":"changed"})),o.setEdit(t,{editorValue:s?p.sourceValue:r,state:f?"editing":"changed"}),n&&mxe(e,t)}function mxe(e,t){const{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function fg(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(r=>s1(e,r,n))}function s1(e,t,n){const{editSvc:r,editModelSvc:i}=e,{rowNode:s,column:o}=t,a=lr(e,t);if(!a){i?.hasEdits(t)&&s&&o&&i?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor())return;const c=l?.getCellEditor()?.getValidationErrors?.(),d=i?.getCellValidationModel();c?.length?d?.setCellValidation(t,{errorMessages:c}):d?.clearCellValidation(t),i?.getEdit(t)&&i?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const f=i?.getEdit(t);f?.state==="changed"&&!n?.silent&&r?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:rd(f),newValue:f?.pendingValue,oldValue:f?.sourceValue})}function df(e){const t=oK(e),n=new nK,{ariaAnnounce:r,localeSvc:i,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",c=q$(i)("ariaValidationErrorPrefix","Cell Editor Validation");for(const f of t){const{ctrl:p,editor:m}=f,{rowNode:y,column:w}=p,C=m.getValidationErrors?.()??[],S=m.getValidationElement?.(!1)||!m.isPopup?.()&&p.eGui;if(S){const R=C!=null&&C.length>0,E=R?C.join(". "):"";jwe(S,R),R&&r.announceValue(`${c} ${C}`,"editorValidation"),S instanceof HTMLInputElement?S.setCustomValidity(E):S.classList.toggle("invalid",R)}C?.length>0&&n.setCellValidation({rowNode:y,column:w},{errorMessages:C})}Rh(e,!1),s?.setCellValidationModel(n);const d=new Set;for(const{ctrl:f}of t)d.add(f.rowCtrl);if(a){const f=vxe(e);s?.setRowValidationModel(f)}for(const f of d.values()){f.rowEditStyleFeature?.applyRowStyles();for(const p of f.getAllCellCtrls())p.tooltipFeature?.refreshTooltip(!0),p.editorTooltipFeature?.refreshTooltip(!0),p.editStyleFeature?.applyCellStyles?.()}}var vxe=e=>{const t=new rK,n=e.gos.get("getFullRowEditValidationErrors"),r=e.editModelSvc?.getEditMap();if(!r)return t;for(const i of r.keys()){const s=r.get(i);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=i;for(const d of s.keys()){const f=s.get(d);if(!f)continue;const{editorValue:p,pendingValue:m,sourceValue:y}=f,w=p??(m===ba?void 0:m)??y;o.push({column:d,colId:d.getColId(),rowIndex:a,rowPinned:l,oldValue:y,newValue:w})}const c=n?.({editorsState:o})??[];c.length>0&&t.setRowValidation({rowNode:i},{errorMessages:c})}return t};function yxe(e){df(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((r,i)=>{r.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:s??null})})}),n}var wxe="ag-column-first",Cxe="ag-column-last";function uK(e,t,n,r){return dr(e)?[]:xxe(e.headerClass,e,t,n,r)}function dK(e,t,n){e.toggleCss(wxe,n.isColAtEdge(t,"first")),e.toggleCss(Cxe,n.isColAtEdge(t,"last"))}function bxe(e,t,n,r){return At(t,{colDef:e,column:n,columnGroup:r})}function xxe(e,t,n,r,i){if(dr(e))return[];let s;if(typeof e=="function"){const o=bxe(t,n,r,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function Yw(e){return!!(e.rowPinned&&e.pinnedSibling)}function ea(e,t,n,r){const i=t==="top";if(!n)return ea(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return ea(e,t,n,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===r){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var Ae={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},HP=!1,o1=0;function Sxe(e){o1>0||(e.addEventListener("keydown",a1),e.addEventListener("mousedown",a1))}function Exe(e){o1>0||(e.removeEventListener("keydown",a1),e.removeEventListener("mousedown",a1))}function a1(e){const t=HP,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(HP=n)}function Txe(e){const t=Di(e);return Sxe(t),o1++,()=>{o1--,Exe(t)}}function Rxe(){return HP}function _xe(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===Ae.TAB){const i=r.shiftKey;Of(e,n,!1,i)||$g(e,i)&&r.preventDefault()}}})}function pg(e,t,n=!1){const r=iCe;let i=aq;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>Wl(l)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(s,o):s}function hf(e,t=!1,n=!1,r=!1){const i=pg(e,r?".ag-tab-guard":null,n),s=t?Hn(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function Of(e,t,n,r){const i=pg(t,n?':not([tabindex="-1"])':null),s=_r(e);let o;n?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(r?-1:1);return a<0||a>=i.length?null:i[a]}function hK(e,t=5){let n=0;for(;e&&PP(e)===null&&++n<=t;)e=e.parentElement;return PP(e)===null?null:e}function Axe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Gh(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function HE(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function $g(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function Dxe(e,t,n,{rowNode:r,column:i},s){return At(e.gos,{type:n,node:r,data:r.data,value:s,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function Pxe(e,t=!1){return e===Ae.DELETE?!0:!t&&e===Ae.BACKSPACE?iq():!1}var kxe=class extends Oe{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Ae.ENTER:this.onEnterKeyDown(e);break;case Ae.F2:this.onF2KeyDown(e);break;case Ae.ESCAPE:this.onEscapeKeyDown(e);break;case Ae.TAB:this.onTabKeyDown(e);break;case Ae.BACKSPACE:case Ae.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Ae.DOWN:case Ae.UP:case Ae.RIGHT:case Ae.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===Ae.LEFT||e.key===Ae.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=r;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Pxe(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&md(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:c}=n,d=this.beans.valueSvc.getDeleteValue(c,i);i.setDataValue(c,d,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,s=r?.isEditing(t),o=t.rowNode,a=r?.isRowEditing(o),l=c=>{r?.startEditing(c,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(df(n),r?.checkNavWithValidation(void 0,e)==="block-stop")return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const c=e.shiftKey?Ae.UP:Ae.DOWN;i?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===Ae.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(df(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n||r?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===Ae.SPACE)this.onSpaceKeyDown(e);else if(r?.isCellEditable(i,"ui")){if(r?.hasValidationErrors()&&!r?.hasValidationErrors(i))return;r?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Bh(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,"spaceKey"),e.preventDefault()}};function fK(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}function ZH({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var Fxe=class extends Oe{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Mc(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:c}=a;n&&o&&n.getCellRangeCount(c)>1&&n.intersectLastRange(!0);const d=a.createEvent(e,"cellClicked");t.dispatchEvent(d);const f=l.getColDef();if(f.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{f.onCellClicked(d)})},0),i?.getState(a)!=="editing"){const p=r?.isEditing(),m=i?.getCellValidationModel().getCellValidationMap().size??0,y=i?.getRowValidationModel().getRowValidationMap().size??0;if(p&&(m>0||y>0))return;r?.shouldStartEditing(a,e)?r?.startEditing(a,{event:e}):r?.shouldStopEditing(a,e)&&r?.stopEditing(a)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,editSvc:o,editModelSvc:a}=n,l=t.getColDef(),c=r.createEvent(e,"cellDoubleClicked");if(i.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const d=o?.isEditing(),f=a?.getCellValidationModel().getCellValidationMap().size??0,p=a?.getRowValidationModel().getRowValidationMap().size??0;if(d&&(f>0||p>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:d,gos:f,editSvc:p}=o;if(this.isRightClickInExistingRange(e))return;const m=l&&!l.isEmpty(),y=this.containsWidget(i),{cellPosition:w,column:C}=s,S=nd(C);if(c&&S&&!c.handleMouseDownOnCell(w,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!m){const R=p?.isEditing(s),P=f.get("enableCellTextSelection")&&e.defaultPrevented,M=(Pf()||P)&&!R&&!c2(i)&&!y;s.focusCell(M,e)}if(r&&m&&!d.isCellFocused(w)){e.preventDefault();const R=d.getFocusedCell();if(R){const{column:E,rowIndex:P,rowPinned:M}=R;p?.isEditing(R)&&p?.stopEditing(R),d.setFocusedCell({column:E,rowIndex:P,rowPinned:M,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!y){if(l){S&&e.preventDefault();const R=ZH(this.beans,e)&&S;if(r)l.extendLatestRangeToCell(w);else if(!R){const E=t||n;l.setRangeToCell(w,E)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=ZH(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return Nh(e,"ag-selection-checkbox",3)||Nh(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},Ixe=class extends Oe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Mf(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||dr(i)||s!==i.getPinned()));o++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Hn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Vh(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Mxe="ag-cell",Oxe="ag-cell-auto-height",Lxe="ag-cell-normal-height",Nxe="ag-cell-focus",Bxe="ag-cell-first-right-pinned",Vxe="ag-cell-last-left-pinned",Hxe="ag-cell-not-inline-editing",Gxe="ag-cell-wrap-text",l1="cellCtrl";function pK(e,t){return Iq(e,t,l1)}var Uxe=0,gg=class extends Oe{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+Uxe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new Ixe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new Fxe(this,e,this.column),this.keyboardListener=new kxe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&md(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),nd(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),df(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=XH(n,s,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const c=new vn(d=>{l=d});return this.addManagedListeners(i,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:vn.resolve()}}showValue(e,t){const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const c=i.stub&&i.groupData?.[r.getId()]==null,d=r.getColDef();if(c||this.isCellRenderer()){const f=this.createCellRendererParams();!c||nd(r)?l=YH(o,d,f):l=XH(o,d,f)}if(!l&&!c&&n.findSvc?.isMatch(i,r)){const f=this.createCellRendererParams();l=YH(o,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},f)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const f=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});f&&(f.compDetails?l=f.compDetails:f.valueToDisplay&&(a=f.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&tu(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Yw(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=YS(t),i=Id(this.column);return n==="custom"&&r!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&dg(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return At(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r).value,setValue:d=>l?.setDataValue({rowNode:r,column:n},d)||o.setValue(r,n,d),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(d,f,p,m)=>this.registerRowDragger(d,f,m),setTooltip:(d,f)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,f),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const r=this.column.getColDef(),i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,s=e||i||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!n,!1);const c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&r.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;cf(this.beans.gos,t,l1,this),e.addDestroyFunc(()=>cf(this.beans.gos,t,l1,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return Dxe(s,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;dK(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);nq(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=r.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(nd(this.column)&&(e=!0),xo(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(Bxe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(Vxe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(HE(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(Nxe,n),n&&e&&e.forceBrowserFocus){let i=this.comp.getFocusableElement();if(r){const s=pg(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Ic(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Mxe,!0),e.toggleCss(Hxe,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(Oxe,t),e.toggleCss(Lxe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(Gxe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(_r(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},gK="__ag_grid_instance";function mK(e,t){t[gK]=e.gridInstanceId}function _y(e,t){return vK(e,t.target)}function vK(e,t){let n=t;for(;n;){const r=n[gK];if(ot(r))return r===e.gridInstanceId;n=n.parentElement}return!1}function zxe(e,t){return pK(e,t.target)?.getFocusedCellPosition()??null}function e6(e,t){const n=Qi(e.gos,"normal"),r=t;let i,s;r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var jxe=class extends Oe{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.removeDragSource(r.params),Ca(t,r))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(r=>t.removeDragSource(r.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),s=this.findCurrentDropTarget(e,i),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,r,t),o!==null&&s===null&&a?.onGridExit?.(c),o===null&&s!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(s,e,n,r,t),s&&l){const{comp:d,promise:f}=l;d?d.setIcon(s.getIconName?s.getIconName():null,!1):f.then(p=>{p&&p.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const d=this.createDropTargetEvent(s,e,n,r,t);s.onDragging(d)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(a,l)=>{for(const c of l){const{width:d,height:f,left:p,right:m,top:y,bottom:w}=c.getBoundingClientRect();if(d===0||f===0)return!1;const C=a.clientX>=p&&a.clientX<m,S=a.clientY>=y&&a.clientY<w;if(!C||!S)return!1}return!0};for(const a of n)if(i(e,a)){r=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=Sy(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,r){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const o=this.createDropTargetEvent(i,e,t,n,r);i.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,r,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,d=t.clientX-o.left,f=t.clientY-o.top;return At(c,{event:t,x:d,y:f,vDirection:r,hDirection:n,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&CCe(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const r=Pbe(n,At(t,{dragSource:e}));if(!r)return;const i=r.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),mK(this.gos,r),n.applyThemeClasses(r),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),r.style.top="20px",r.style.left="20px";const s=m2(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(r):Ye(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},Wxe=class extends Oe{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(r=>r.dragSource===e);n&&(this.removeListener(n),Ca(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");r&&!o&&(s=a=>{c2(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!r})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Sy(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=c=>this.onMouseMove(c,e.eElement),i=c=>this.onMouseUp(c,e.eElement),s=c=>c.preventDefault(),o=c=>{c.key===Ae.ESCAPE&&this.cancelDrag(e.eElement)},a=Sy(this.beans),l=[{target:a,type:"mousemove",listener:r},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.addEventListener(r,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.removeEventListener(r,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=ot(n)?n:4;return fK(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){Pf()&&Di(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),r=e.type==="mousemove",i=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&r&&e.cancelable&&_y(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function yK(e,t){return e+"_"+t}function Kr(e){return e instanceof Ay}var Ay=class extends Oe{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return yK(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Kr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Hn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{vd(t)?e.push(t):Kr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{vd(t)?e.push(t):Kr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Kr(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},GP="row-group-",b2="t-",x2="b-",$xe=0,ff=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=$xe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Gn(13),null):this.rowPinned==="top"?b2+this.rowIndex:this.rowPinned==="bottom"?x2+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=zg(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(GP)&&Gn(14,{groupPrefix:GP})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:f},data:p,rowIndex:m,rowPinned:y}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:y,column:a,colDef:a.colDef,data:p,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o){const f=o.setDataValue({rowNode:this,column:a},t,n);if(f!=null)return f}const c=i.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const d=this.pinnedSibling;return d&&c&&d.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new of),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new of),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Ye(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function qxe(e,t,n){return At(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Kxe=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function Yxe(e,t){const n=new ff(t);return Object.keys(e).forEach(r=>{Kxe.has(r)||(n[r]=e[r])}),n.oldRowTop=null,n}var wK={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},Xxe=new Set(Object.values(wK));function Pu(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function Qxe(e,t,n,r,i,s){return t.refresh?.({...n,model:r,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;CK(a,l,r,i,s)}})}function CK(e,t,n,r,i){e?.refresh?.({...t,model:n,state:r,source:i})}function bK(e,t,n){const r=e();r?.created&&r.promise.then(i=>{const s=t();CK(i,r.filterParams,s,n()??{model:s},"ui")})}function t6(e,t,n,r,i,s){let o,a=!1,l;switch(e){case"apply":{const c=r();l=c?.model??null,o={state:c?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:n()};break}}i(o),a?s(l):bK(t,n,r)}function Ti(e,t){return e[t]??null}function Jxe(e){return{tag:"div",cls:e}}var Zxe=class extends er{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(Jxe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();ko(r);let i;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:c,label:d})=>{const f=S=>{this.dispatchLocalEvent({type:c,event:S})};["apply","clear","reset","cancel"].includes(c)||Ye(75);const p=c==="apply",y=Yr({tag:"button",attrs:{type:p&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${p?" "+o+"-apply-button":""}`,children:d});this.activateTabIndex([y]),p&&(i=y);const w=S=>{S.key===Ae.ENTER&&(S.preventDefault(),f(S))},C=this.listeners;y.addEventListener("click",f),C.push(()=>y.removeEventListener("click",f)),y.addEventListener("keydown",w),C.push(()=>y.removeEventListener("keydown",w)),s.append(y)};e.forEach(c=>a(c)),this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),r.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(by(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},eSe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Wu(e,t,n){return Lwe(e,eSe,t,n)}function S2(e,t){const{debounceMs:n}=e;return GE(e)?(n!=null&&Ye(71),0):n??t}function GE(e){return(e.buttons?.indexOf("apply")??-1)>=0}var tSe=class extends er{constructor(e,t,n,r,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:i}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&i===o&&wy(r,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(l){const d=s.map(f=>{const p=`${f}Filter`;return{type:f,label:Wu(this,p)}});if(this.applyActive=GE(this.params),!c){c=this.createBean(new Zxe),this.appendChild(c.getGui());const f=this.column,p=m=>({event:y})=>{this.updateModel(f,m),this.afterAction(m,y)};c?.addManagedListeners(c,{apply:p("apply"),clear:p("clear"),reset:p("reset"),cancel:p("cancel")}),this.eButtons=c}c.updateButtons(d,a)}else this.applyActive=!1,c&&(qc(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n&&n.key;let i;(r===Ae.ENTER||r===Ae.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&r&&this.close(t);break}case"reset":{i&&r&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===Ae.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},nSe={tag:"div",cls:"ag-filter"},rSe=class extends er{constructor(e,t,n){super(nSe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??vn.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const c=!!this.enableGlobalButtonCheck,d=this.createBean(new tSe(t,s,r,r.updateModel.bind(r),c&&r.isGlobalButtons,c));this.comp=d,l=d.getGui()}else l=a.getGui(),ot(l)||Ye(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ko(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},E2="T",iSe=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${E2}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function wl(e,t){return e.toString().padStart(t,"0")}function Ao(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>wl(i,2)).join(n);return t&&(r+=E2+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>wl(i,2)).join(":")),r}function $b(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),wl(e.getDate(),2),wl(e.getHours(),2),`:${wl(e.getMinutes(),2)}`,`:${wl(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,wl(e.getDate(),2)].map(String):null}var oA=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function UP(e,t){if(t==null)return Ao(e,!1);const n=wl(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>wl(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${oA(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${oA(e.getDate())}`,DD:()=>wl(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${oA(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function Zx(e,t=!1){return!!Js(e,t)}function sSe(e){return Zx(e,!0)}function Js(e,t=!1){if(!e||!iSe.test(e))return null;const[n,r]=e.split(E2);if(!n)return null;const i=n.split("-").map(p=>parseInt(p,10));if(i.filter(p=>!isNaN(p)).length!==3)return null;const[s,o,a]=i,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!r&&t)return null;if(!r||r==="00:00:00")return l;const[c,d,f]=r.split(":").map(p=>parseInt(p,10));if(c>=0&&c<24)l.setHours(c);else if(t)return null;if(d>=0&&d<60)l.setMinutes(d);else if(t)return null;if(f>=0&&f<60)l.setSeconds(f);else if(t)return null;return l}var n6={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},r6=["january","february","march","april","may","june","july","august","september","october","november","december"];function oSe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function i6(e){return e instanceof Date&&!isNaN(e.getTime())}var zP={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:i6}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&i6(e.dateParser(t))}),dateTime:e=>zP.date(e),dateTimeString:e=>zP.dateString(e),object:()=>{},text:()=>{}},jP={number:()=>({comparator:oSe}),boolean:({t:e})=>({valueFormatter:t=>ot(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return ot(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const i=r6[Number(n)-1];return t(i,n6[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>$b(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const i=e(r);return ot(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>$b(t.dateParser(r??void 0),!1),treeListFormatter:(r,i)=>{if(i===1&&r!=null){const s=r6[Number(r)-1];return n(s,n6[s])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=jP.date(e);return t.treeListPathGetter=$b,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=jP.dateString(e);return n.treeListPathGetter=r=>$b(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return ot(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function aSe(e,t,n,r,i,s,o){let a=t,l=n;const c=e==="agSetColumnFilter";!l&&r.baseDataType==="object"&&!c&&(l=({column:m,node:y})=>i({column:m,node:y,value:s.valueSvc.getValue(m,y)}));const f=(c?jP:zP)[r.baseDataType],p=f({dataTypeDefinition:r,formatValue:i,t:o});return a=typeof t=="object"?{...p,...t}:p,{filterParams:a,filterValueGetter:l}}var lSe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},cSe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function uSe(e,t=!1){return(t?cSe:lSe)[e??"text"]}var xK="ag-resizer-wrapper",ku=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),dSe={tag:"div",cls:xK,children:[ku("eTopLeft","topLeft"),ku("eTop","top"),ku("eTopRight","topRight"),ku("eRight","right"),ku("eBottomRight","bottomRight"),ku("eBottom","bottom"),ku("eBottomLeft","bottomLeft"),ku("eLeft","left")]},hSe=class extends Oe{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0;const f=Wl(this.element);if(f){const p=this.findBoundaryElement(),m=window.getComputedStyle(p);if(m.minWidth!=null){const y=p.offsetWidth-this.element.offsetWidth;d=parseInt(m.minWidth,10)-y}if(m.minHeight!=null){const y=p.offsetHeight-this.element.offsetHeight;c=parseInt(m.minHeight,10)-y}}if(this.minHeight=s||c,this.minWidth=r||d,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(f&&n){let p=this.boundaryEl,m=!0;if(p||(p=this.findBoundaryElement(),m=!1),p){const y=parseFloat(p.style.top),w=parseFloat(p.style.left);m?this.offsetElement(isNaN(w)?0:w,isNaN(y)?0:y,e):this.setPosition(w,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_v(n,e),e=lq(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?_v(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,o=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-r.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ll(t,e),e=jS(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ll(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=eu(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,o)?0:o,c=this.shouldSkipY(t,!!r,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=r<0&&e.clientX>a+s.left||r>0&&e.clientX<a+s.left:n?l=r<0&&e.clientX>o.right||r>0&&e.clientX<a+s.left:l=r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=r<0&&e.clientY>a+s.top+n||r>0&&e.clientY<a+s.top:l=r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Yr(dSe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${xK}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||r,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),f=this.position.x,p=this.position.y;let m=0,y=0;if(a&&c){const w=o?-1:1,C=this.getWidth(),S=C+c*w;let R=!1;o&&(m=C-S,(f+m<=0||S<=this.minWidth)&&(R=!0,m=0)),R||this.setWidth(S)}if(l&&d){const w=r?-1:1,C=this.getHeight(),S=C+d*w;let R=!1;r?(y=C-S,(p+y<=0||S<=this.minHeight)&&(R=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(R=!0),R||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&m||y)&&this.offsetElement(f+m,p+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},fSe="ag-focus-managed",wm=class extends Oe{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=Of(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(fSe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Mc(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){uf(t);return}t.key===Ae.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},pSe=class extends er{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new wm(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new hSe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const i=t.state,s=this.state;return this.state=i,(i.model!==s.model||i.state!==s.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=GE(e),this.setupApplyDebounced()}doesFilterPass(e){Ye(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return Ye(284),this.params.model!=null}setupApplyDebounced(){const e=S2(this.params,this.defaultDebounceMs),t=Yi(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return Ye(285),this.params.model}setModel(e){Ye(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const i=this.params;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Wu(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function gSe(e){return!!e.operator}function mSe(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:o}=Jq(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(r=n()),r}var eS={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},T2=class extends Oe{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?eS.AUTO_HEIGHT:t.print?eS.PRINT:eS.NORMAL;this.view.updateLayoutClasses(n,t)}},Fu="Viewport",s6="fakeVScrollComp",aA=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],o6=100,lA=150,vSe=class extends Oe{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Yi(this,()=>this.lastScrollSource[1]=null,lA),this.resetLastVScrollDebounced=Yi(this,()=>this.lastScrollSource[0]=null,lA)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Fu)});for(const e of aA){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Yi(this,this.onVScroll.bind(this,Fu),o6):this.onVScroll.bind(this,Fu),r=t?Yi(this,this.onVScroll.bind(this,s6),o6):this.onVScroll.bind(this,s6);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...aA,Fu]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);$S(n,e,this.enableRtl)}}getViewportForSource(e){return e===Fu?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=WS(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Fu?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Fu?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},lA)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Lh()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=u2(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of aA)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Fu)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),$S(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(Qi(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!="number"||e<0||e>=i){Ye(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const c=this.ctrlsSvc.getGridBodyCtrl(),d=r.getRow(e);let f,p,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:y,stickyBottomHeight:w}=c,C=d.rowTop,S=d.rowHeight,R=o.getPixelOffset(),E=d.rowTop-R,P=E+d.rowHeight,M=this.getVScrollPosition(),A=a.divStretchOffset,D=M.top+A,k=M.bottom+A,I=k-D,B=a.getScrollPositionForPixel(E),N=a.getScrollPositionForPixel(P-I),H=Math.min((B+N)/2,E),G=D+y>E,oe=k-w<P;let le=null;t==="top"?le=B-y:t==="bottom"?le=N+w:t==="middle"?le=H:G?le=B-y:oe&&(N-B>I?le=B-y:le=N+w),le!==null&&(this.setVerticalScrollPosition(le),l.redraw({afterScroll:!0})),f=C!==d.rowTop||S!==d.rowHeight,p=y!==c.stickyTopHeight||w!==c.stickyBottomHeight,m++}while((f||p)&&m<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(d?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const y=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const w=this.getVScrollPosition().top;y!==w&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:r)||i,l=o?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:d,colMiddle:f,colRight:p}=this.getColumnBounds(e);return c?f-s/2:a?o?p:d:o?d-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:n<i,a=s?n<r:t>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?n-i:i,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},R2=class extends Oe{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Qi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=r+i+s:(o=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},ySe=class extends Oe{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{tu(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=u2(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function _2(e,t,n,r,i,s){if(n==null&&t==null)return;const o={},a={},l=(c,d)=>{c.split(" ").forEach(f=>{f.trim()!=""&&d(f)})};if(n){const c=Object.keys(n);for(let d=0;d<c.length;d++){const f=c[d],p=n[f];let m;typeof p=="string"?m=e?e.evaluate(p,r):!0:typeof p=="function"&&(m=p(r)),l(f,y=>{m?o[y]=!0:a[y]=!0})}}t&&s&&Object.keys(t).forEach(c=>l(c,d=>{o[d]||(a[d]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}function a6(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var wSe=class extends Oe{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);r(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=At(r,{data:e.data,node:e,rowIndex:e.rowIndex});_2(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},CSe=0,c1="renderedRow",u1=class extends Oe{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+CSe++,this.rowId=Yx(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=a6(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Yx(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){const{context:i,focusSvc:s}=this.beans;r=qw(this,i,r);const o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const d=this.fullWidthGui?.element;d&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Bh(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>n.toggleCss(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&RP(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),cf(t,e.element,c1,this),e.compBean.addDestroyFunc(()=>cf(t,e.element,c1,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Yx(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(kP(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(kP(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,o=!!n||!r.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=_q(this.gos,this.rowNode,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new gg(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(c,d,f)=>{f!=null?r.list.splice(f,0,d):r.list.push(d),r.map[c]=d},s=[];for(const c of t){const d=c.getInstanceId();let f=e.map[d];f&&!this.isCorrectCtrlForSpan(f)&&(f.destroy(),f=void 0),f||(f=this.getNewCellCtrl(c)),f&&i(d,f)}for(const c of e.list){const d=c.column.getInstanceId();if(r.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?s.push([d,c]):c.destroy()}if(s.length)for(const[c,d]of s){const f=r.list.findIndex(m=>m.column.getLeft()>d.column.getLeft()),p=f===-1?void 0:Math.max(f-1,0);i(c,d,p)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!r.map[c]&&a.allCols.includes(l.column)){const f=this.createFocusedCellCtrl();if(f){const p=r.list.findIndex(y=>y.column.getLeft()>f.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);i(c,f,m)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Qi(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ot(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",i=t==="below",o=this.gos.get("treeData")&&(i||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const c=l.rowComp;c.toggleCss("ag-row-highlight-above",n),c.toggleCss("ag-row-highlight-inside",r),c.toggleCss("ag-row-highlight-below",i),c.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ic(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:c?.column??r};l?.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Mc(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=_r(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let o=null;!r&&!s&&(o=Of(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>Wl(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{xo(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?r=s==="right"?this.rightGui?.element:this.leftGui?.element:r=this.centerGui?.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(r=>{r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return At(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Mc(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Nh(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:r}=this.beans;n?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,a=s.element,l=e.target;let c=e.defaultPrevented||Pf();a&&a.contains(l)&&c2(l)&&(c=!1),r.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(Mc(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:r}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),r?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=At(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Bbe(s,i);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=o,i.valueFormatted=a,Nbe(s,i)}case"FullWidthLoading":return Lbe(s,i);default:return Obe(s,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=a6(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(s.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&s.push("ag-row-pinned-source"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,r),o.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=Cq(this.gos)?gd(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&ug(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(_r(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ot(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(r=>{r.column==e&&(n=r)}),n!=null||t||this.getAllCellCtrls().forEach(r=>{r?.getColSpanningList().indexOf(e)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",r),s.rowComp.toggleCss("ag-row-odd",!r),tq(s.element,i)})}};function SK(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function WP(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=At(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(o))}function bSe(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=r?null:"top";let o,a;i?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:c}=e,d=l.allCols;!c||!d?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var xSe=65,SSe=67,ESe=86,TSe=68,RSe=90,_Se=89;function ASe(e){const{keyCode:t}=e;let n;switch(t){case xSe:n=Ae.A;break;case SSe:n=Ae.C;break;case ESe:n=Ae.V;break;case TSe:n=Ae.D;break;case RSe:n=Ae.Z;break;case _Se:n=Ae.Y;break;default:n=e.code}return n}var DSe=class extends Oe{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Fq("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){if(!_y(this.gos,t)||Mc(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:pK(t,e),rowCtrl:Iq(t,e,c1)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!WP(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),SK(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell()?.column;if(!WP(this.gos,n,r,a,!1)){const c=n.key;if(t==="keydown")switch(c){case Ae.PAGE_HOME:case Ae.PAGE_END:case Ae.PAGE_UP:case Ae.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case Ae.LEFT:case Ae.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Ae.UP:case Ae.DOWN:e.onKeyboardNavigate(n);break;case Ae.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!_y(this.gos,e))return;const n=ASe(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===Ae.A)return this.onCtrlAndA(e);if(n===Ae.C)return this.onCtrlAndC(r,e);if(n===Ae.D)return this.onCtrlAndD(r,e);if(n===Ae.V)return this.onCtrlAndV(r,e);if(n===Ae.X)return this.onCtrlAndX(r,e);if(n===Ae.Y)return this.onCtrlAndY(i);if(n===Ae.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&md(i)&&t.isRowsToRender()?bSe(this.beans):r&&r?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:Dq(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},EK=class extends Oe{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},qb=e=>e.topRowCtrls,Kb=e=>e.getStickyTopRowCtrls(),Yb=e=>e.getStickyBottomRowCtrls(),Xb=e=>e.bottomRowCtrls,Qb=e=>e.allRowCtrls,cA=e=>e.getCtrls("top"),uA=e=>e.getCtrls("center"),dA=e=>e.getCtrls("bottom"),PSe={center:{type:"center",name:"center-cols",getRowCtrls:Qb,getSpannedRowCtrls:uA},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Qb,getSpannedRowCtrls:uA},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Qb,getSpannedRowCtrls:uA},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Qb},topCenter:{type:"center",name:"floating-top",getRowCtrls:qb,getSpannedRowCtrls:cA},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:qb,getSpannedRowCtrls:cA},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:qb,getSpannedRowCtrls:cA},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:qb},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Kb},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Kb},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Kb},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Kb},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Yb},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Yb},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Yb},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Yb},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Xb,getSpannedRowCtrls:dA},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Xb,getSpannedRowCtrls:dA},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Xb,getSpannedRowCtrls:dA},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Xb}};function TK(e){return`ag-${Xw(e).name}-viewport`}function tS(e){const t=Xw(e);return t.container??`ag-${t.name}-container`}function kSe(e){return`ag-${Xw(e).name}-spanned-cells-container`}function Xw(e){return PSe[e]}var FSe=["topCenter","topLeft","topRight"],ISe=["bottomCenter","bottomLeft","bottomRight"],MSe=["center","left","right"],OSe=["center","left","right","fullWidth"],LSe=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],NSe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],BSe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],RK=["stickyTopCenter","stickyTopLeft","stickyTopRight"],_K=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],VSe=[...RK,"stickyTopFullWidth",..._K,"stickyBottomFullWidth"],HSe=[...FSe,...ISe,...MSe,...RK,..._K],GSe=class extends Oe{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Xw(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new ySe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new DSe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(NSe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(BSe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(OSe,()=>this.createManagedBean(new EK(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(HSe,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(LSe,()=>this.createManagedBean(new R2(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(VSe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=Qi(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return xy(this.eViewport)}getCenterViewportScrollLeft(){return WS(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=eu(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return uq(this.eViewport)}getViewportScrollLeft(){return WS(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||dq(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){$S(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Qi(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},USe="ag-force-vertical-scroll",zSe="ag-selectable",jSe="ag-column-moving",WSe=class extends Oe{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${TK("center")}`),this.eFullWidthContainer=n.querySelector(`.${tS("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${tS("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${tS("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new T2(this.comp)),this.scrollFeature=this.createManagedBean(new vSe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=oq()?16:0,i=`calc(100% + ${n+r}px)`;tu(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=Nh(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),o=Nh(i,"ag-root",t);Nh(r,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(jSe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(zSe,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?USe:null,n=Qi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&hq(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&ug(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const d of[t,n,r,i])this.addManagedElementListeners(d,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&_y(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=i-s,a=n?o+n:0,l=r?o+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=r+s;n.setStickyBottomBottom(`${o}px`)}},AK=class extends er{constructor(e,t){super(),this.direction=t,this.eViewport=Et,this.eContainer=Et,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",iq()||Lh())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=oq(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),tu(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;lCe(()=>Wl(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},$Se={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},qSe=class extends AK{constructor(){super($Se,"horizontal"),this.eLeftSpacer=Et,this.eRightSpacer=Et,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new R2(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),Ll(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),Ll(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),_v(this.getGui(),s),_v(this.eViewport,s),_v(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return WS(this.eViewport,this.enableRtl)}setScrollPosition(e){Wl(this.eViewport)||this.attemptSettingScrollPosition(e),$S(this.eViewport,e,this.enableRtl)}},KSe={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},YSe=class extends AK{constructor(){super(KSe,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new EK(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),Ll(this.getGui(),i),Ll(this.eViewport,i),Ll(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Wl(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Sl(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function A2(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=r.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=XSe(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function XSe(e,t){let r=e.colModel.isPivotMode()?JSe(e):PK(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>r&&o.isAutoHeaderHeight()&&(r=a)}return r}function D2(e){let n=e.colModel.isPivotMode()?QSe(e):Qw(e);return e.colModel.forAllCols(r=>{const i=r.getAutoHeaderHeight();i!=null&&i>n&&r.isAutoHeaderHeight()&&(n=i)}),n}function Qw(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function DK(e){return e.gos.get("floatingFiltersHeight")??Qw(e)}function PK(e){return e.gos.get("groupHeaderHeight")??Qw(e)}function QSe(e){return e.gos.get("pivotHeaderHeight")??Qw(e)}function JSe(e){return e.gos.get("pivotGroupHeaderHeight")??PK(e)}var ZSe=class extends Oe{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=r;i&&this.createManagedBean(new wm(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>tu(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=A2(e).reduce((s,o)=>s+o,0),r=D2(e);if(e.filterManager?.hasFloatingFilters()&&(t+=DK(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||$g(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case Ae.LEFT:t="LEFT";case Ae.RIGHT:{ot(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Ae.UP:t="UP";case Ae.DOWN:{ot(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(_r(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},P2=class extends Oe{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Hn(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=ot(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!Qi(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const o=r.bodyWidth;return s+o+t}return s+t}setLeft(e){if(ot(e)&&(this.eCell.style.left=`${e}px`),Kr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Qwe(this.ariaEl,t.length)}}},e1e=0,kK="headerCtrl",k2=class extends Oe{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+e1e++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r&&r.suppressHeaderKeyboardEvent;if(!ot(i))return!1;const s=At(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return _r(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=f=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:y,borderTopWidth:w}=kf(this.eGui),C=p+m+y+w,R=t.offsetHeight+C;if(f<5){const E=Di(i),P=!E||!E.contains(t),M=R==0;if(P||M){kP(()=>s(f+1),"raf",i);return}}this.setColHeaderHeight(this.column,R)};let o=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!o&&c(),!f&&o&&d()},c=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=eu(this.beans,t,()=>s(0))},d=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>d()),r.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(dK(e,t,n.visibleCols),nq(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Gh(this.beans);this.eGui&&xo(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=_r(this.beans),n=e.key===Ae.LEFT||e.key===Ae.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===Ae.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===Ae.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Ae.PAGE_DOWN:case Ae.PAGE_UP:case Ae.PAGE_HOME:case Ae.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=kK,{eGui:n,gos:r}=this;cf(r,n,t,this),e.addDestroyFunc(()=>cf(r,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},t1e=class extends k2{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:f}=a,p=qw(this,c,i);this.setGui(t,p),this.updateState(),this.setupWidth(p),this.setupMovingCss(p),this.setupMenuClass(p),this.setupSortableClass(p),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:p}),this.addColumnHoverListener(p),this.setupFilterClass(p),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(p),this.setupSelectAll(p),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=p.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):Cr(n,!1),d?.createHoverFeature(p,[o],t),f?.createRangeHighlightFeature(p,o,e),p.createManagedBean(new P2(o,t,a)),p.createManagedBean(new wm(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(p),p.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),p.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),p.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();p.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),p.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return At(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return kbe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return At(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||So(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Ae.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===Ae.ENTER&&this.onEnterKeyDown(e),e.key===Ae.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();l6(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Rxe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=uK(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.toggleCss(i,!0)}),r.forEach(i=>this.comp.toggleCss(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=A2(this.beans),s=i.reduce((p,m)=>p+=m,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=D2(r);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,d=i.length-c;let f=0;for(let p=0;p<d;p++)f+=i[i.length-1-p];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${l+f}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Hwe(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!So(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(_r(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return l6(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function l6(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var n1e=0,hA=class extends Oe{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=n1e++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=Qi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=qw(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Qi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=A2(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=D2(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=DK(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.ctrlsById.set(r,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new t1e(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},r1e=class extends Oe{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const f=r.headerGroupRowCount;i=f;const p=this.groupsRowCtrls.length;if(p!==f){if(p>f){for(let m=f;m<p;m++)this.destroyBean(this.groupsRowCtrls[m]);this.groupsRowCtrls.length=f;return}for(let m=p;m<f;m++){const y=this.createBean(new hA(m,this.pinned,"group"));this.groupsRowCtrls.push(y)}}},a=()=>{const f=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new hA(f,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==f&&this.columnsRowCtrl.setRowIndex(f)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}e||f();const p=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==p&&this.filtersRowCtrl.setRowIndex(p):this.filtersRowCtrl=this.createBean(new hA(p,this.pinned,"filter"))},c=this.getAllCtrls();o(),a(),l();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,s),c.length!==d.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(r=>r.column===e);if(vd(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new R2(e=>this.comp.setCenterWidth(`${e}px`),!0))}},i1e=class extends Oe{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(u6(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){u6(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(So(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&vd(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Lh()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!So(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!So(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return So(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,r)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,r)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),tu(a,()=>{const c=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);c&&e?.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(r),n,s,r)})}}};function c6(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function u6(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&So(r)?t:n}var F2=class extends er{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},UE=class extends F2{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},FK=class extends er{constructor(){super()}},s1e={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},o1e=class extends FK{init(){const e=Ic(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??s1e),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},a1e={tag:"span",cls:"ag-overlay-no-rows-center"},l1e=class extends FK{init(){const e=Ic(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??a1e),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function c1e(e,t,n){const r=ca(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const i=Yr({tag:"span"});return i.appendChild(r),i}function ca(e,t,n){let r=null;e==="smallDown"?Ye(262):e==="smallLeft"?Ye(263):e==="smallRight"&&Ye(264);const i=n&&n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const s=t.gos.get("icons");s&&(r=s[e])}if(r){let s;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else{Ye(38,{iconName:e});return}if(typeof s=="string")return d2(s);if(f2(s))return s;Ye(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),Yr({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var u1e=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",d1e={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},h1e=class extends er{constructor(){super(),this.dragSource=null,this.eIcon=Et,this.eLabel=Et,this.eGhost=Et,this.registerCSS(u1e)}postConstruct(){const e=t=>c1e(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(d1e),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:r,dropIconMap:i,gos:s}=this;ko(n);let o=null;e||(e=r?.getDefaultIconName?r.getDefaultIconName():"notAllowed"),o=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===i.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},f1e=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",p1e=class extends er{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(f1e)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;ko(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Cr(t,!1),af(t,"presentation")):(Cr(t,!0),af(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(qS(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return by(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},IK=class extends p1e{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||Gwe(e)!==null?Cy(e,""):Cy(e,t??"")}setAriaLabel(e){return Ug(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ll(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function g1e(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var _h=class extends IK{constructor(e,t,n="text",r="input"){super(e,e?.template??g1e(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Et,this.eWrapper=Et,this.eInput=Et}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,xo(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return qS(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return xo(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ug(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return by(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)xo(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";xo(this.eInput,"autocomplete",t)}return this}},I2=class extends _h{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},M2={selector:"AG-CHECKBOX",component:I2},m1e=".ag-checkbox-cell{height:100%}",v1e={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},y1e=class extends er{constructor(){super(v1e,[M2]),this.eCheckbox=Et,this.registerCSS(m1e)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),Z$(r,"polite"),this.addManagedListeners(r,{click:i=>{if(uf(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{uf(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===Ae.SPACE&&!t.isDisabled()){e.eGridCell===_r(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const f=i.getColId();f.startsWith(VE)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[f]!==void 0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!i?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),c=BE(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(d)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0});const s=r.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},d6=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Ca(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=b1e(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;const s=Tq(n);s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(r=>e(r)?n.delete(r):n.add(r)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function MK(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?MK(t):!1}function fA(e,t){const{gos:n,rowModel:r,filterManager:i}=e;return Ff(n)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!MK(t):n.get("pivotMode")?!t.group:!1}function w1e(e){return!!e.footer&&e.level===-1}function C1e(e){return!!e.pinnedSibling&&w1e(e.pinnedSibling)}function b1e(e){const t=e.findIndex(C1e);if(t>-1)return e.splice(t,1)?.[0]}var h6=class extends Oe{postConstruct(){const{gos:e,beans:t}=this;this.top=new d6(t,"top"),this.bottom=new d6(t,"bottom");const n=i=>fA(t,i.pinnedSibling),r=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),i||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(S1e),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,T1e(this.beans);return}const r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&E1e(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;pA(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=f6(this.beans,e,t),a=this.getContainer(t);a.add(o),fA(this.beans,e)&&a.hide(l=>fA(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=gd(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return p6(this.top)}getPinnedBottomTotalHeight(){return p6(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const i=this.beans.rowModel.getRowNode(r);i?this.pinRow(i,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const i=this.beans.rowModel.getRowNode(r);i&&n.add(i)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!li(e))return;const i=r.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),pA(s)),!o||o.floating!==n){const a=f6(t,i,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),pA(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>x1e(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function x1e(e,t){let n=0;t.forEach((r,i)=>{r.setRowTop(n),(r.rowHeightEstimated||r.rowHeight==null)&&r.setRowHeight(gd(e,r).height),r.setRowIndex(i),n+=r.rowHeight})}function f6(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=Yxe(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const i=n==="top"?b2:x2;return r.id=`${i}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function pA(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function S1e(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function E1e(e,t,n){const{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function p6(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function T1e({gos:e,rowModel:t}){li(e)&&t.refreshModel({step:"map"})}var g6=class extends Oe{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};G0(this.pinnedBottomRows,t),G0(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=gd(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return G0(this.pinnedBottomRows,n),t=0,G0(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=zg(this.gos),i=t==="top"?b2:x2,s=new Set(n.order),o=[],a=new Set;let l=0,c=-1;for(const d of e){const f=r?.({data:d,level:0,rowPinned:t})??i+this.nextId++;if(a.has(f)){Ye(96,{id:f,data:d});continue}c++,a.add(f),o.push(f);const p=Dv(n,f);if(p!==void 0)p.data!==d&&p.updateData(d),l+=this.setRowTopAndRowIndex(p,l,c),s.delete(f);else{const m=new ff(this.beans);m.id=f,m.data=d,m.rowPinned=t,l+=this.setRowTopAndRowIndex(m,l,c),n.cache[f]=m,n.order.push(f)}}s.forEach(d=>{Dv(n,d)?.clearRowTopAndRowIndex(),delete n.cache[d]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(gd(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return m6(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return m6(this.pinnedBottomRows)}getPinnedTopRowCount(){return qP(this.pinnedTopRows)}getPinnedBottomRowCount(){return qP(this.pinnedBottomRows)}getPinnedTopRow(e){return $P(this.pinnedTopRows,e)}getPinnedBottomRow(e){return $P(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Dv(this.getCache(t),e)}forEachPinnedRow(e,t){return G0(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function m6(e){const t=qP(e);if(t===0)return 0;const n=$P(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Dv(e,t){return e.cache[t]}function $P(e,t){return Dv(e,e.order[t])}function G0(e,t){e.order.forEach((n,r)=>{const i=Dv(e,n);i&&t(i,r)})}function qP(e){return e.order.length}var R1e=class extends Oe{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=Tq(e),s=!!n||(r==="pinnedBottom"||r==="pinnedTop"),o=s?this.inner instanceof g6:this.inner instanceof h6;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new h6:new g6))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},_1e="ROOT_NODE_ID",A1e=class extends Oe{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=_1e,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=zg(this.gos),r=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let c=!1,d=!1,f=!1,p=!1;for(let y=0,w=-1,C=t.length;y<C;y++){const S=t[y];let R=this.getRowNode(n({data:S,level:0}));if(!R)c=!0,R=this.createRowNode(S,-1),i.add(R);else{if(r){const E=R.sourceRowIndex;p||(p=E<=w||c),w=E}R.data!==S&&(f=!0,R.updateData(S),i.update(R))}s.add(R)}const m=[];for(let y=0;y<l;y++){const w=a[y];s.has(w)||(d=!0,w.isSelected()&&m.push(w),w.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(w.pinnedSibling,null),this.rowNodeDeleted(w),i.remove(w))}if(c||d||p){const y=new Array(s.size);let w=0;if(!r)for(let S=0;S<l;++S){const R=a[S];s.delete(R)&&(R.sourceRowIndex=w,y[w++]=R)}for(const S of s)S.sourceRowIndex=w,y[w++]=S;o.allLeafChildren=y;const C=o.sibling;C&&(C.allLeafChildren=y),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=p)}(c||d||p||f)&&(this.deselectNodes(m),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[],i=zg(this.gos);return this.executeRemove(i,e,n,r),this.executeUpdate(i,e,n,r),this.executeAdd(e,n),this.deselectNodes(r),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let r=this.rootNode.allLeafChildren,i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let f=0;f<r.length;f++)if(r[f]?.rowIndex==i-1){i=f+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let d=0;d<s;d++){const f=this.createRowNode(n[d],i+d);o.add(f),a[d]=f}const l=this.rootNode;if(i<r.length){const d=r.slice(0,i),f=r.slice(i,r.length),p=d.length+a.length;for(let m=0,y=f.length;m<y;++m)f[m].sourceRowIndex=p+m;r=[...d,...a,...f],t.rowsInserted=!0}else r=r.concat(a);l.allLeafChildren=r;const c=l.sibling;c&&(c.allLeafChildren=r),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(c=>{const d=this.lookupRowNode(e,c);d&&(d.isSelected()&&i.push(d),d.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(d.pinnedSibling,null),d.clearRowTopAndRowIndex(),o[d.id]=!0,delete this.allNodesMap[d.id],r.remove.push(d),n.remove(d))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!o[c.id])??null,a.allLeafChildren?.forEach((c,d)=>{c.sourceRowIndex=d});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&i.push(a),r.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,r=e.length>0;r&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),r&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new ff(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&Ye(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const r=e({data:t,level:0});if(n=this.allNodesMap[r],!n)return Gn(4,{id:r}),null}else if(n=this.rootNode?.allLeafChildren?.find(r=>r.data===t),!n)return Gn(5,{data:t}),null;return n||null}},D1e={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},P1e=class extends er{constructor(){super(D1e,[M2]),this.eCheckbox=Et}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=BE(e,r),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(r,!0),n.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:uf,click:r=>{uf(r),this.beans.selectionSvc?.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?rA(r):void 0,o=typeof i=="object"?rA(i):void 0;s!==o&&this.onSelectableChanged()}),OP(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const f=n?.callbackParams;if(!e)o=s({...f,node:t,data:t.data});else{const p=e.createColumnFunctionCallbackParams(t);o=s({...f,...p})}}else o=s??!1;const a=i&&!o||!i&&o,l=i||o,c=r.get("rowSelection"),d=c&&typeof c!="string"?!rA(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?d:!0)),this.setDisplayed(l&&(a?d:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?dg(t):this.column?.getColDef()?.checkboxSelection}},k1e=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r?.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return ea(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=ea(n,"bottom",void 0,e),s=r.getRowCount(),o=r.getRow(s-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return ea(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=ea(n,"top",t,void 0),s=ea(n,"bottom",void 0,e),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return ea(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=ea(n,"top",e,void 0),s=ea(n,"bottom",void 0,t),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return ea(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=ea(n,"bottom",void 0,t),s=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},F1e=class extends Oe{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(_r(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new I2);this.cbSelectAll=t,t.addCss("ag-header-select-all"),af(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(r)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue(),o=BE(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${a} (${o})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return QS(this.gos)?!0:(Ye(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return li(t)||Ff(t)?!0:(Ye(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return OK(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=Dq(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function OK({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;if(typeof r=="object"){const l=Id(n),c=v2(n);(YS(r)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(o=qx(r))}else typeof s=="function"?o=s(At(e,{column:n,colDef:i})):o=!!s;return o}var I1e=class extends Oe{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new k1e(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=OP(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=OP(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new P1e}createSelectAllFeature(e){if(OK(this.beans,e))return new F1e(e)}isMultiSelect(){return QS(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",r);const s=i.element;_P(s,r),s.contains(_r(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(r,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Yw(e)||!Bh(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Ey(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const i=e.childrenAfterGroup[r];let s=i.isSelected();if(!i.selectable){const o=this.calculateSelectedFromChildren(i);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...qxe(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=Id(e)&&dg(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),a=Ey(i),l=ECe(i),c=TCe(i),d=this.isMultiSelect(),f=r==="rowClicked";if(f&&!(l||c))return null;if(t&&n&&d){const p=s.getRoot();if(p)if(p.isSelected()){const m=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=s.extend(e,a);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&d){const p=s.selectAll?this.beans.rowModel.getRow(0):void 0,m=s.getRoot(p),y=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:y.keep,deselect:y.discard,reset:s.selectAll||!!(m&&!m.isSelected())}}else if(n){if(f){const p=!o;return p&&!l||!p&&!c?null:(s.setRoot(e),{node:e,newValue:p,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!d}}else{s.setRoot(e);const p=RCe(i),m=JS(i)==="filteredDescendants",y=f&&(!p||!l);if(m&&o===void 0&&li(i))return{node:e,newValue:!1,clearSelection:!d||y};if(f){const w=o?!p:l;return w===o&&!y||w&&!l||!w&&!c?null:{node:e,newValue:w,clearSelection:!d||y,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!d||y}}}},M1e=class extends I2{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Lf=class extends _h{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=ot(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{SK(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const r=n.clipboardData?.getData("text");r&&r.split("").some(i=>!e.test(i))&&n.preventDefault()}})}},zE={selector:"AG-INPUT-TEXT-FIELD",component:Lf},O1e=class extends _h{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},L1e={selector:"AG-INPUT-TEXT-AREA",component:O1e},O2=class extends Lf{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){_r(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=parseFloat(e).toFixed(n);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,xo(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,xo(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,xo(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ot(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},N1e={selector:"AG-INPUT-NUMBER-FIELD",component:O2},B1e=class extends Lf{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Pf();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){_r(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Ao(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,xo(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Ao(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,xo(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,xo(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Js(this.getValue())??void 0}setDate(e,t){this.setValue(Ao(e??null,this.includeTime),t)}},LK={selector:"AG-INPUT-DATE-FIELD",component:B1e},V1e=class extends er{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Ae.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case Ae.DOWN:case Ae.UP:e.preventDefault(),this.navigate(t);break;case Ae.PAGE_DOWN:case Ae.PAGE_UP:case Ae.PAGE_HOME:case Ae.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Ae.DOWN;let n;const{itemEls:r,highlightedEl:i}=this;if(!i)n=r[t?0:r.length-1];else{let o=r.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),r.length-1),n=r[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===Ae.PAGE_HOME?a=0:e===Ae.PAGE_END?a=i:e===Ae.PAGE_DOWN?a=Math.min(r+o,i):e===Ae.PAGE_UP&&(a=Math.max(r-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{qc(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();af(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{qwe(t,n+1),$we(t,e.length)})}renderOption(e,t){const n=Yr({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),r=Yr({tag:"span",children:t});n.appendChild(r),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Wl(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),_P(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>n+r||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Wl(e)||(e.classList.remove(this.activeClass),_P(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},H1e=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",G1e={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},U1e=class extends IK{constructor(e){if(super(e,e?.template||G1e,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Et,this.eWrapper=Et,this.eDisplayField=Et,this.eIcon=Et,this.registerCSS(H1e),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=ca(n,this.beans);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),RP(e,!1),this.ariaRole&&af(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Ae.UP:case Ae.DOWN:case Ae.ENTER:case Ae.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Ae.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,f={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const w=Sq(c);this.beforeHidePicker(),w&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:d};e.style.position="absolute";const p=c.popupSvc,m=p.addPopup(f);l?(o&&(e.style.minWidth=o),e.style.width=h2(jS(d)),a&&(e.style.maxWidth=a)):qS(e,a??jS(d));const y=s??`${u2(p.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,o=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();RP(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return qS(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},z1e=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",L2=class extends U1e{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(z1e)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:$x(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new V1e("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),tCe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===Ae.TAB&&this.hidePicker(),t){case Ae.ENTER:case Ae.UP:case Ae.DOWN:case Ae.PAGE_UP:case Ae.PAGE_DOWN:case Ae.PAGE_HOME:case Ae.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Ae.ESCAPE:super.onKeyDown(e);break;case Ae.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},j1e={selector:"AG-SELECT",component:L2},mg={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},NK=class extends Oe{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:f,handleKeyDown:p,isEmpty:m,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=y,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=p,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new wm(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():pg(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Di(this.beans),n=pg(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const o=n.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return f===a?1:d===a?-1:d===0?1:f===0?-1:d-f}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=pg(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Of(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},W1e=class extends Oe{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],s={setTabIndex:C=>{i.forEach(S=>C!=null?S.setAttribute("tabindex",C):S.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:w}=e;this.tabGuardCtrl=this.createManagedBean(new NK({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:w}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Di(this.beans).createElement("div"),n=e==="top"?mg.TAB_GUARD_TOP:mg.TAB_GUARD_BOTTOM;return t.classList.add(mg.TAB_GUARD,n),af(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];ko(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){f2(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;qc(e),qc(t),super.destroy()}},$1e=class extends er{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new W1e(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},vh=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new of,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",r,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!fK(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},q1e=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},BK=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${pq}/${this.frameworkName}-data-grid`,uCe(this.baseDocLink)}setInterval(e,t){return new vn(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){let i={};if(typeof r=="object"?i=r:typeof r=="boolean"&&(i={capture:r}),i.passive==null){const s=Mq(t);s!=null&&(i.passive=s)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function K1e(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Y1e=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],v6=Object.fromEntries(Y1e.map((e,t)=>[e,t]));function X1e(e,t){const n=(e.beanName?v6[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?v6[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function Q1e(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var J1e=class extends Oe{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),mK(this.gos,t),this.createManagedBean(new T2(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=eu(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){return hK(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,a=Hn(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(Hn(n),e);const o=Hn(s);if(r.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Gh(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(hf(n[o].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!HE(e)||!Gh(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=_r(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=hf(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Ht=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},y6={dispatchEvent:"CommunityCore",...Ht("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Ht("GridState",{getState:0,setState:0}),...Ht("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ht("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ht("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ht("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ht("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ht("ValueCache",{expireValueCache:0}),...Ht("CellApi",{getCellValue:0}),...Ht("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ht("Sort",{onSortChanged:0}),...Ht("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Ht("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ht("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ht("HighlightChanges",{flashCells:0}),...Ht("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Ht("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ht("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ht("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ht("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ht("ColumnResize",{setColumnWidths:0}),...Ht("ColumnHover",{isColumnHovered:0}),...Ht("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Ht("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Ht("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ht("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ht("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Ht("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ht("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Ht("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ht("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Ht("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ht("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Ht("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ht("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ht("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ht("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ht("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ht("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ht("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ht("ContextMenu",{showContextMenu:0}),...Ht("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ht("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ht("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ht("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ht("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ht("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Ht("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ht("StatusBar",{getStatusPanel:0})},gA={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Z1e=(e,t)=>e.eventSvc.dispatchEvent(t),VK=class{};Reflect.defineProperty(VK,"name",{value:"GridApi"});var eEe=class extends Oe{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new VK,this.fns={...gA,dispatchEvent:Z1e},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(y6))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:r}=this;n!==gA&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)Ye(26,{fnName:e,preDestroyLink:r});else{const i=y6[e];n.assertModuleRegistered(i,`api.${e}`)&&Ye(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=gA,this.beans=null}};function tEe(e){return e.context.getGridId()}function nEe(e){e.gridDestroySvc.destroy()}function rEe(e){return e.gridDestroySvc.destroyCalled}function iEe(e,t){return e.gos.get(t)}function sEe(e,t,n){HK(e,{[t]:n})}function HK(e,t){e.gos.updateGridOptions({options:t})}function oEe(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var aEe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},lEe=class extends er{constructor(e,t,n){super(aEe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(ca("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),s){const a=At(i,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function cEe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function uEe(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function dEe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function hEe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function fEe(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=r?.rowIndex;s==null||i==="none"?n.clear():n.set(r,i)}var pEe=class extends Oe{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},gEe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},mEe=class extends er{constructor(e,t,n,r,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:r}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(gEe),this.getGui().appendChild(ca("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=r.get("rowDragManaged")?new yEe(this,t,n):new vEe(this,t,n);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const r=this.getDragItem(),i=r.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},GK=class extends Oe{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let r=!t,i=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;i=typeof l=="function",r=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}i?(a.setDisplayed(!0,n),a.setVisible(r&&!t,n)):(a.setDisplayed(r,n),a.setVisible(!t,n))}}},vEe=class extends GK{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},yEe=class extends GK{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,r=e.rowDragFeature,i=r&&r.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=i&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},Dy=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const o=r[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},wEe=class extends Oe{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;li(t)&&(this.clientSideRowModel=e),n.whenReady(this,r=>{const i=r.gridBodyCtrl;let s=0;const o=()=>i.scrollFeature.getVScrollPosition().top;this.autoScrollService=new q1e({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>i.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:r}=this.beans,i=this.isFromThisGrid(e);if(!(r.get("rowDragManaged")&&this.shouldPreventRowMove()))if(r.get("suppressMoveWhenRowDragging")||!i){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Hn(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:r}=e.dragItem,s=r?.length&&(n??r[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,c=l.rootNode,d=e6(o,e).y;let f=l.getRowIndexAtPixel(d),p=l.getRow(f)??null;const m=s!==p;let y=p?(d-p.rowTop-p.rowHeight/2)/p.rowHeight||0:1;const w=this.isFromThisGrid(e),S=Pq(a)!=="group"&&w;let R=null;if(S&&p?.footer){R=p.sibling??c;const N=Pv(l,-1,p)??Pv(l,1,p);y=N&&N.rowIndex>p.rowIndex?-.5:.5,p=N??null}let E=y<0,P=!1;if(w&&p){if(m){if(P=r.indexOf(p)>=0,P){const N=CEe(l,f<s.rowIndex,r);N?.parent===p.parent&&(p=N,f=p.rowIndex)}}else{if(Math.abs(y)<=.5)return this.makeGroupThrottleClear(),null;P=!0}(P||!S&&Math.abs(f-s.rowIndex)===1)&&(E=f<s.rowIndex)}const M=this.makeGroupThrottleTarget;M!==null&&M!==p&&this.makeGroupThrottleClear(),p?.expanded&&p.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=p),R===null&&S&&(!p||y>=.5&&p.rowIndex===o.pageBounds.getLastRow()?R=c:this.targetShouldBeParent(p,y,P,r)&&(this.makeGroupThrottled&&(R=p),t&&(R===null||!p.expanded)&&(this.makeGroupThrottleTarget=p,this.makeGroupThrottleStart())),R??(R=p?.parent??c));let A=!1;if(R!==null){if(R===p&&R!==c){A=!0;const N=R.expanded?Pv(l,1,p):null;N?.parent===R&&(p=N,A=!1,E=!0)}if(p&&!A){let N=p;for(;N&&N!==c&&N!==R;)p=N,N=N.parent}xEe(r,R)&&(R=null)}if(!R&&P&&(S||s===p))return null;const D=A?"inside":E?"above":"below",k={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:w,position:D,source:s,target:p,newParent:R,rows:r};let I=!1;const B=a.get("isRowValidDropPosition");if(B){const N=B(k);N?typeof N=="object"&&(N.rows!==void 0&&(k.rows=N.rows??ZS),N.newParent!==void 0&&(k.newParent=N.newParent),N.target!==void 0&&(k.target=N.target),N.position&&(I=!0,k.position=N.position)):k.rows=ZS}return(!k.newParent||!k.rows.length)&&!I&&(k.position=E?"above":"below"),k}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,r){const i=e?.rowIndex;if(n||i===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=i+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const c=e.childrenAfterGroup;if(o&&o.parent===e&&c?.length){const d=new Set(r);for(const f of c)if(f.rowIndex!==null&&!d.has(f))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){Ye(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Ye(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(n.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(n.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(n.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(n.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{r(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:r,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:r,rowModel:i,gos:s}=n,o=e6(this.beans,t).y,a=o>r.getCurrentPagePixelRange().pageLastPixel;let l=-1,c;return a||(l=i.getRowIndexAtPixel(o),c=i.getRow(l)),At(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const r=this.managedRowsDrop(e,!1);r&&this.dropRows(r),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const r=zg(this.gos),i=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!i.getRowNode(r?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?w6(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Dy(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:r}){let i=!1;const s=this.clientSideRowModel,o=new Set;for(const d of n){if(d.footer||d.rowTop===null&&d!==s.getRowNode(d.id))continue;if(r&&d.parent!==r){if(bEe(d,r))continue;d.treeParent=r,i=!0}const f=UK(d);f&&o.add(f)}if(!i&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&dv(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(i=!0),i?(this.refreshModelAfterDrop(),c?c.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const r=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let i=w6(t);i<0||i>=r?i=r:n||++i;let s=i,o=Math.min(i,r-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,i,o]}reorderLeafChildren(e,t,n,r){let i=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const c=s[l];e.has(c)||(c.sourceRowIndex!==o&&(c.sourceRowIndex=o,s[o]=c,i=!0),++o)}let a=r;for(let l=r;l>=n;--l){const c=s[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,s[a]=c,i=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,i=!0),++o;return i}},CEe=(e,t,n)=>t?Pv(e,-1,n[0]):Pv(e,1,Hn(n)),Pv=(e,t,n)=>{if(n){const r=e.getRowCount();let i=n.rowIndex+t;for(;i>=0&&i<r;){const s=e.getRow(i);if(!s||!s.footer)return s;i+=t}}},bEe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},xEe=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},w6=e=>{const t=UK(e);return t!==void 0?t.sourceRowIndex:-1},UK=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},SEe=class extends Oe{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new wEe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,s){return new mEe(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(md(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!li(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}},EEe=class extends Oe{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,i=t!==this.position,s=r!==this.uiLevel;(n||i||s)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},zK={moduleName:"Drag",version:dt,beans:[Wxe]},TEe={moduleName:"DragAndDrop",version:dt,dynamicBeans:{dndSourceComp:lEe},icons:{rowDrag:"grip"}},jK={moduleName:"SharedDragAndDrop",version:dt,beans:[jxe],dependsOn:[zK],userComponents:{agDragAndDropImage:h1e},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},REe={moduleName:"RowDrag",version:dt,beans:[EEe,SEe],apiFunctions:{addRowDropZone:cEe,removeRowDropZone:uEe,getRowDropZoneParams:dEe,getRowDropPositionIndicator:hEe,setRowDropPositionIndicator:fEe},dependsOn:[jK]},_Ee={moduleName:"HorizontalResize",version:dt,beans:[pEe],dependsOn:[zK]},AEe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",DEe=class extends Oe{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function PEe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function kEe(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var FEe=class extends Oe{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function IEe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),o=e.indexOf(i);return s-o})}function MEe(e){const t=[...e];return e.forEach(n=>{let r=null,i=n.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)r=i,i=i.getParent();r!=null&&(!!r.getColGroupDef()?.marryChildren?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function OEe(e,t,n,r){const i=r.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],c=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(c))continue;const d=c.filter(p=>i.includes(p));if(o===null)o=d;else if(!Mf(d,o))break;const f=NEe(c);(s===null||f<s.fragCount)&&(s={move:l,fragCount:f})}return s}function WK(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:d}=e;let{allMovingColumns:f}=e;t&&(f=MEe(f));const p=f.slice();IEe(l.getCols(),p);const m=VEe({movingCols:p,draggingRight:n,xPosition:r,pinned:o,gos:a,colModel:l,visibleCols:d}),y=LEe(p,l);if(m.length===0)return;const w=m[0];if(y!==null&&(t||!i)&&!s&&(!n&&w>=y||n&&w<=y))return;const S=OEe(m,p,c,d);if(!S)return;const R=S.move;if(!(R>l.getCols().length-p.length))return{columns:p,toIndex:R}}function $K(e){const{columns:t,toIndex:n}=WK(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function LEe(e,t){const n=t.getCols(),r=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),i=r[0];return Hn(r)-i!==r.length-1?null:i}function NEe(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function BEe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function VEe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(E=>E.getColDef().suppressMovable))return[];const c=BEe(a,i),d=o.getCols(),f=c.filter(E=>t.includes(E)),p=c.filter(E=>!t.includes(E)),m=d.filter(E=>!t.includes(E));let y=0,w=r;if(n){let E=0;f.forEach(P=>E+=P.getActualWidth()),w-=E}if(w>0){for(let E=0;E<p.length;E++){const P=p[E];if(w-=P.getActualWidth(),w<0)break;y++}n&&y++}let C;if(y>0){const E=p[y-1];C=m.indexOf(E)+1}else C=m.indexOf(p[0]),C===-1&&(C=0);const S=[C],R=(E,P)=>E-P;if(n){let E=C+1;const P=d.length-1;for(;E<=P;)S.push(E),E++;S.sort(R)}else{let E=C;const P=d.length-1;let M=d[E];for(;E<=P&&c.indexOf(M)<0;)E++,S.push(E),M=d[E];E=C-1;const A=0;for(;E>=A;)S.push(E),E--;S.sort(R).reverse()}return S}function KP(e){const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function mA(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var C6=7,YP=100,Jb=YP/2,HEe=5,GEe=100,UEe=class extends Oe{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ot(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(const i of r){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(o=>i[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&dr(e.hDirection))return;const a=KP({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,r):this.handleColumnDragWhileAllowingMovement(e,t,n,a,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const r=e.filter(i=>!i.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),c=$K({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let o=null,a=null,l=null;for(const d of s){if(a=d.getActualWidth(),o=this.getNormalisedColumnLeft(d,0,i),o!=null){const f=o+a;if(o<=t&&f>=t){l=d;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=s.length-1;d>=0;d--){const f=s[d],p=s[d].getParent();if(!p){l=f;break}const m=p?.getDisplayedLeafColumns();if(m.length){l=Hn(m);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==i?c=0:c=1,b6(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const l=r.allCols,c=l.indexOf(s),d=l.indexOf(o),f=a===0!==i,p=c<d||c===d&&!f;let m=0;if(f?p&&(m-=1):p||(m+=1),d+m===c)return;const y=l[d+m];if(!y)return;const w=this.getNormalisedColumnLeft(y,20,i);return{fromLeft:p,xPosition:w}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=zEe(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return KP({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>C6;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=WK(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(b6(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+Jb,s=e>r-Jb):(s=e<n+Jb,i=e>r-Jb),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),GEe),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*HEe,e>YP&&(e=YP);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:i,gos:s}=this.beans;if(this.failedMoveAttempts<=C6+1||!r)return;if(i.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i?.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function b6(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function zEe(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var jEe=class extends Oe{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new UEe(n)),this.bodyDropPivotTarget=this.createManagedBean(new FEe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},WEe=class extends Oe{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){Ye(30,{toIndex:t});return}s?.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(qH(i.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:r,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!zq(e,t.getColTree())||!(i=>{const s=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return i.forEach(c=>{const d=s(c.getColDef().lockPosition);o?d>a&&(l=!1):d<a&&(l=!1),a=d}),l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return qH(r,e,t),r}createBodyDropTarget(e,t){return new jEe(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),f=d.left,p=Kr(n),m=p?d.width:n.getActualWidth(),y=e==="left"!==o.get("enableRtl"),w=KP({x:y?f-20:f+m+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:s}),C=c.focusedHeader;$K({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:w,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let S;if(p){const R=n.getDisplayedLeafColumns();S=y?R[0]:Hn(R)}else S=n;if(s.getScrollFeature().ensureColumnVisible(S,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&C){let R;if(p){const E=n.getGroupId(),P=n.getLeafColumns();if(!P.length)return;const M=P[0].getParent();if(!M)return;R=$Ee(M,E)}else R=n;R&&c.focusHeaderPosition({headerPosition:{...C,column:R}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let a=!r.get("suppressDragLeaveHidesColumns");const l=Kr(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>KEe(t,o.allCols):()=>qEe(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),mA(c,!0)},onDragStopped:()=>mA(c,!1),onDragCancelled:()=>mA(c,!1),onGridEnter:p=>{if(a){const{columns:m=[],visibleState:y}=p??{},w=l?S=>!y||y[S.getColId()]:()=>!0,C=m.filter(S=>!S.getColDef().lockVisible&&w(S));i.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:p=>{if(a){const m=p?.columns?.filter(y=>!y.getColDef().lockVisible)||[];i.setColsVisible(m,!1,"uiColumnMoved")}}};return s.addDragSource(f,!0),f}};function $Ee(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function qEe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function KEe(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(a=>r[a.getId()]=a.isVisible());const i=[];t.forEach(a=>{n.indexOf(a)>=0&&(i.push(a),Ca(n,a))}),n.forEach(a=>i.push(a));const s=[],o=e.getLeafColumns();for(const a of i)o.indexOf(a)!==-1&&s.push(a);return{columns:i,columnsInSplit:s,visibleState:r,containerType:s[0]?.pinned}}var YEe={moduleName:"ColumnMove",version:dt,beans:[WEe,DEe],apiFunctions:{moveColumnByIndex:PEe,moveColumns:kEe},dependsOn:[jK],css:[AEe]},XEe=class extends Oe{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),r.appendChild(n);const i=n.offsetWidth;return r.removeChild(n),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}},qK={moduleName:"AutoWidth",version:dt,beans:[XEe]};function QEe(e,t,n=!0,r="api"){e.colResize?.setColumnWidths(t,!1,n,r)}var JEe=class extends Oe{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=l=>l.reduce((c,d)=>c+d.getActualWidth(),0),n=(l,c)=>l.map(d=>d.getActualWidth()/c),r=this.getColumnsToResize(),i=t(r),s=n(r,i),o={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),c=o.groupAfterColumns=l.filter(f=>f.isResizable()),d=o.groupAfterStartWidth=t(c);o.groupAfterRatios=n(c,d)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:i,ratios:o,width:t}),a){const f=t-s;d.push({columns:a,ratios:c,width:l-f})}this.beans.colResize?.resizeColumnSets({resizeSets:d,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},ZEe=class extends Oe{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(Cr(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),a=i+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:f}=s;if(this.column.getPinned()){const p=c?.leftWidth??0,m=c?.rightWidth??0,y=xy(d.getGridBodyCtrl().eBodyViewport)-50;if(p+m+(o-r)>y)return}this.lastResizeAmount=o,f?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},eTe=class extends Oe{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)return;if(i.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(c);if(!f)return;const p=c.getActualWidth()-l.newWidth,m=f.getActualWidth()+p;i.push({width:m,ratios:[1],columns:[f]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(d=>tTe(d)))){if(n){const d=t&&t.length>0?t[0].columns:null;jg(this.eventSvc,d,n,r)}return}const s=[],o=[];t.forEach(d=>{const{width:f,columns:p,ratios:m}=d,y={},w={};p.forEach(R=>o.push(R));let C=!0,S=0;for(;C;){if(S++,S>1e3){Gn(31);break}C=!1;const R=[];let E=0,P=f;p.forEach((A,D)=>{if(w[A.getId()])P-=y[A.getId()];else{R.push(A);const I=m[D];E+=I}});const M=1/E;R.forEach((A,D)=>{const k=D===R.length-1;let I;k?I=P:(I=Math.round(m[D]*f*M),P-=I);const B=A.getMinWidth(),N=A.getMaxWidth();I<B?(I=B,w[A.getId()]=!0,C=!0):N>0&&I>N&&(I=N,w[A.getId()]=!0,C=!0),y[A.getId()]=I})}p.forEach(R=>{const E=y[R.getId()];R.getActualWidth()!==E&&(R.setActualWidth(E,r),s.push(R))})});const a=s.length>0;let l=[];if(a){const{colFlex:d,visibleCols:f,colViewport:p}=this.beans;l=d?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],f.setLeftValues(r),f.updateBodyWidths(),p.checkViewportColumns()}const c=o.concat(l);(a||n)&&jg(this.eventSvc,c,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new ZEe(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new JEe(e,t,n,r)}};function tTe(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;t.forEach(l=>{const c=l.getMinWidth();r+=c||0;const d=l.getMaxWidth();d>0?i+=d:s=!1});const o=n>=r,a=!s||n<=i;return o&&a}var nTe={moduleName:"ColumnResize",version:dt,beans:[eTe],apiFunctions:{setColumnWidths:QEe},dependsOn:[_Ee,qK]},rTe=class extends Oe{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},iTe=class extends k2{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,r,i){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:f}=o;this.comp=e,i=qw(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const p=this.rowCtrl.pinned,m=s.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(i,m,t),d?.createRangeHighlightFeature(i,s,e),i.createManagedBean(new P2(s,t,o)),i.createManagedBean(new rTe(e,s)),f?this.resizeFeature=i.createManagedBean(f.createGroupResizeFeature(e,n,p,s)):e.setResizableDisplayed(!1),i.createManagedBean(new wm(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,m),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return At(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=Hn(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=i===1,d=i===0;n&&(l?a=c:o=d),r&&(l?o=d:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),o=At(n,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>r?.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>r?.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),a=Ibe(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=uK(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(r=>this.comp.toggleCss(r,!0))}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Ae.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function sTe(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function oTe(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function aTe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function lTe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function cTe(e){return e.colGroupSvc?.getColumnGroupState()??[]}function uTe(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function dTe(e){e.colGroupSvc?.resetColumnGroupState("api")}function hTe(e){return e.visibleCols.treeLeft}function fTe(e){return e.visibleCols.treeCenter}function pTe(e){return e.visibleCols.treeRight}function gTe(e){return e.visibleCols.getAllTrees()}function mTe(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var vTe=class extends Oe{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=vA(this.treeLeft),this.centerCols=vA(this.treeCenter),this.rightCols=vA(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=bc(this.centerCols),t=bc(this.leftCols),n=bc(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?Hn(n):null):(i=t?Hn(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===i,r),o.setFirstRightPinned(o===s,r)})}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new Kq,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:r,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return Kr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Kr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(i){let o=bc(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}mTe(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const p=c-1;for(let m=1;m<=p;m++)d.push(t[o+m]);o+=p}let f;n?(f=!1,d.forEach(p=>{n(p)&&(f=!0)})):f=!0,f&&(i.length===0&&s&&(r&&r(a))&&i.push(s),i.push(a)),s=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Uh(this.treeCenter,!1,e),Uh(this.treeLeft,!1,e),Uh(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?Hn(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return bc(this.leftCols)}getDisplayedColumnsRightWidth(){return bc(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(Kr(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:Hn(s)}else i=e;return(r?n[0]:Hn(n))===i}};function Uh(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(Kr(i)){const s=t?i.getDisplayedChildren():i.getChildren();Uh(s,t,n)}n(i)}}function vA(e){const t=[];return Uh(e,!0,n=>{vd(n)&&t.push(n)}),t}var yTe=class extends Oe{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Oc(null,t,n=>{ss(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Oc(null,t,r=>{if(ss(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r?.start();const a=[];e.forEach(l=>{const c=l.groupId,d=l.open,f=this.getProvidedColGroup(c);f&&f.isExpanded()!==d&&(f.setExpanded(d),a.push(f))}),i.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),r?.finish()}setColumnGroupOpened(e,t,n){let r;ss(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return Oc(null,this.beans.colModel.getColTree(),n=>{ss(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?Hn(r):r[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Uh(e,!1,t=>{Kr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Kr(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return Uh(n,!1,s=>{if(Kr(s)){const o=s;let a;r?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const f=p=>{const m=d;d=p;const y=c[m],C=(Kr(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(C==null){for(let R=m;R<p;R++)a.push(c[R]);return}const S=this.createColumnGroup(C,n,o,r,s);for(let R=m;R<p;R++)S.addChild(c[R]);l.push(S)};for(let p=1;p<c.length;p++){const m=c[p],w=(Kr(m)?m.getProvidedColumnGroup():m).getOriginalParent(),C=c[d],R=(Kr(C)?C.getProvidedColumnGroup():C).getOriginalParent();w!==R&&f(p)}d<c.length&&f(c.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,r,i,s,o){const a=i.getUniqueKey(t.groupId||null,null),l=$H(this.beans,t,a),c=new Xx(l,a,!1,n);this.createBean(c);const d=this.findExistingGroup(t,s);d&&s.splice(d.idx,1);const f=d?.group;f&&c.setExpanded(f.isExpanded());const p=Hq(this.beans,l.children,n+1,e,r,i,s,o);return c.setChildren(p),c}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(ss(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let c=t;c<n;c++){const d=r.getUniqueKey(null,null),f=$H(this.beans,null,d),p=new Xx(f,d,!0,c);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(i.push(a),e.some(d=>ss(d))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&ss(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(ss(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(r=>{let i=r;for(let s=t-1;s>=0;s--){const o=new Xx(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(r.originalParent=null),n.push(i)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=yK(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ot(l)?l.reset():(l=new Ay(e,s,o,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(Kr(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Kr(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}},wTe={moduleName:"ColumnGroup",version:dt,dynamicBeans:{headerGroupCellCtrl:iTe},beans:[yTe],apiFunctions:{getAllDisplayedColumnGroups:gTe,getCenterDisplayedColumnGroups:fTe,getColumnGroup:oTe,getColumnGroupState:cTe,getDisplayNameForColumnGroup:lTe,getLeftDisplayedColumnGroups:hTe,getProvidedColumnGroup:aTe,getRightDisplayedColumnGroups:pTe,resetColumnGroupState:dTe,setColumnGroupOpened:sTe,setColumnGroupState:uTe}},CTe={tag:"div",cls:"ag-skeleton-container"},bTe=class extends er{constructor(){super(CTe)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Cy(t.eParentOfValue)),Cy(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");Ug(this.getGui(),n)}setupLoading(t){const n=Yr({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const o=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${o}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");Ug(this.getGui(),s)}refresh(t){return!1}},xTe={moduleName:"CheckboxCellRenderer",version:dt,userComponents:{agCheckboxCellRenderer:y1e}},STe={moduleName:"SkeletonCellRenderer",version:dt,userComponents:{agSkeletonCellRenderer:bTe}};function ETe(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function TTe(e){return e.colModel.getColumnDefs()}function RTe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function _Te(e,t){return e.colModel.getColDefCol(t)}function ATe(e){return e.colModel.getColDefCols()}function DTe(e,t){return Ba(e,t,"api")}function PTe(e){return n1(e)}function kTe(e){sbe(e,"api")}function FTe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function ITe(e){return e.visibleCols.isPinningLeft()}function MTe(e){return e.visibleCols.isPinningRight()}function OTe(e,t){return e.visibleCols.getColAfter(t)}function LTe(e,t){return e.visibleCols.getColBefore(t)}function NTe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function BTe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function VTe(e){return e.colModel.getCols()}function HTe(e){return e.visibleCols.leftCols}function GTe(e){return e.visibleCols.centerCols}function UTe(e){return e.visibleCols.rightCols}function zTe(e){return e.visibleCols.allCols}function jTe(e){return e.colViewport.getViewportColumns()}function XP(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||K$.has(i))return;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=XP(s):r[i]=s}),r}var WTe=class extends Oe{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r){const i=e.slice();t?i.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&i.sort((a,l)=>r.indexOf(a)-r.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(i,s,o)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,c=s.getOriginalParent(),d=null;for(;c;){let f=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=i[c.getGroupId()];if(p){p.children.push(l),a=!1;break}if(f=this.createDefFromGroup(c),f&&(f.children=[l],i[f.groupId]=f,l=f,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&r.push(l)}),r}createDefFromGroup(e){const t=XP(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=XP(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},$Te=class extends Oe{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:r}=this.beans,i=r.centerCols;let s=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let w=i.length-1;w>=0;w--)if(y.has(i[w])){s=w;break}}let o=!1;const a=i.map((y,w)=>{const C=y.getFlex(),S=C!=null&&C>0&&w>s;return o||(o=S),{col:y,isFlex:S,flex:Math.max(0,C??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,c=a.reduce((y,w)=>y+w.flex,0),d=n;const f=(y,w)=>{y.frozenSize=w,y.col.setActualWidth(w,t),d-=w,c-=y.flex,l-=1},p=y=>y.frozenSize!=null;for(const y of a)y.isFlex||f(y,y.initialSize);for(;l>0;){const y=Math.round(c<1?d*c:d);let w,C=0,S=0;for(const P of a){if(p(P))continue;w=P,S+=y*(P.flex/c);const M=S-C,A=Math.round(M);P.targetSize=A,C+=A}w&&(w.targetSize+=y-C);let R=0;for(const P of a){if(p(P))continue;const M=P.targetSize,A=Math.min(Math.max(M,P.min),P.max);R+=A-M,P.violationType=A===M?void 0:A<M?"max":"min",P.targetSize=A}const E=R===0?"all":R>0?"min":"max";for(const P of a)p(P)||(E==="all"||P.violationType===E)&&f(P,P.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const m=a.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=a.filter(C=>C.initialSize!==C.frozenSize).map(C=>C.col),w=a.filter(C=>C.flex).map(C=>C.col);jg(this.eventSvc,y,!0,t,w)}return m}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},qTe=["dateTimeString","dateString","text","number","boolean","date"],KTe=class extends Oe{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===Ae.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=r==null?"":e({column:s,node:null,value:r}),l=i==null?"":e({column:s,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=d=>f=>{const{column:p,node:m,value:y}=f;let w=p.getColDef().valueFormatter;return w===d.groupSafeValueFormatter&&(w=d.valueFormatter),this.beans.valueSvc.formatValue(p,m,y,w)};for(const d of Object.keys(e)){const f=e[d],p={...f,groupSafeValueFormatter:E6(f,this.gos)};t[d]=p,n[d]=r(p)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const d of Object.keys(i)){const f=i[d],p=this.processDataTypeDefinition(f,i,[d],e);p&&(t[d]=p,f.dataTypeMatcher&&(s[d]=f.dataTypeMatcher),n[d]=r(p))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of qTe)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=r[s];const a=t[s];if(o&&a&&(o=a),!S6(e,o,s))return;i=x6(o,e)}else{if(n.includes(s)){Ye(44);return}const o=t[s];if(!S6(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],r);if(!a)return;i=x6(a,e)}return{...i,groupSafeValueFormatter:E6(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){Ye(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!li(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(yA(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(t1(i).some(a=>{const l=s[a.trim()];return l&&yA(l,r)}))return!1}return!yA(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Rv(r,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=XTe(a,o);d.rowGroup&&d.rowGroupIndex==null&&(r[s]=d),d.pivot&&d.pivotIndex==null&&(i[s]=d),n.push(d)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&Ba(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=LP(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>Ye(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,s=n[t];r.colFilter?.setColDefPropsForDataType(e,s,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>Js(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):Ao(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Js(n)??void 0,dateFormatter:n=>Ao(n??null,t)??void 0,valueParser:n=>Zx(String(n.newValue))?n.newValue:null,valueFormatter:n=>Zx(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&Zx(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:TP(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&sSe(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>TP(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function x6(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...t1(e.columnTypes),...t1(t.columnTypes)]),n}function S6(e,t,n){return t?t.baseDataType!==e.baseDataType?(Ye(46),!1):!0:(Ye(45,{parentCellDataType:n}),!1)}function E6(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function YTe(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function yA(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>YTe(e,t,n,r))}function XTe(e,t){const n=qq(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}var QTe={moduleName:"DataType",version:dt,beans:[KTe],dependsOn:[xTe]},JTe={moduleName:"ColumnFlex",version:dt,beans:[$Te]},KK={moduleName:"ColumnApi",version:dt,beans:[WTe],apiFunctions:{getColumnDef:ETe,getDisplayNameForColumn:RTe,getColumn:_Te,getColumns:ATe,applyColumnState:DTe,getColumnState:PTe,resetColumnState:kTe,isPinning:FTe,isPinningLeft:ITe,isPinningRight:MTe,getDisplayedColAfter:OTe,getDisplayedColBefore:LTe,setColumnsVisible:NTe,setColumnsPinned:BTe,getAllGridColumns:VTe,getDisplayedLeftColumns:HTe,getDisplayedCenterColumns:GTe,getDisplayedRightColumns:UTe,getAllDisplayedColumns:zTe,getAllDisplayedVirtualColumns:jTe,getColumnDefs:TTe}};function ZTe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var eRe=class extends Oe{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){const s=e.headerValueGetter;if(s){const o=At(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return ZTe(e.field)}return""}},tRe=class extends Oe{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=r.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||nRe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,o=t>i&&n>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return ot(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const i=new Set,s={};for(const o of r){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const d=a.getProvidedColumnGroup().getLevel();s[d]??(s[d]=[]),s[d].push(a),i.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function nRe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var rRe=class extends Oe{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=d2("<span>"+s+"</span>");return}if(s==null){this.eGui=Yr({tag:"span"});return}this.eGui=s}}return n}},iRe={moduleName:"CellRendererFunction",version:dt,beans:[rRe]},sRe=class extends Oe{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(o,a,l,c)=>{this.agGridDefaults[o]=a,(l||c)&&(this.agGridDefaultOverrides[o]={params:l,processParams:c})};for(const o of Object.keys(n)){let a=n[o];if(nxe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:c,processParams:d}=a;s(o,l,c,d)}else s(o,a)}}if(r){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(r))this.dynamicBeans[s]=r[s]}if(i?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,c,d)=>({componentFromFramework:l,component:a,params:c,processParams:d}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const a=r.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(Nl(279,{name:e}));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??Nl(256));return}return new r(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},oRe=23,aRe=class extends Oe{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===oRe&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},lRe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',N2=typeof window!="object"||!window?.document?.fonts?.forEach,qg=(e,t,n,r,i,s)=>{if(N2)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=vg.map.get(t);if(o||(o=[],vg.map.set(t,o)),o.find(d=>d.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:i};let c;for(const d of o){if(d.priority>i)break;c=d}if(c){c.el.insertAdjacentElement("afterend",a);const d=o.indexOf(c);o.splice(d+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},YK=(e,t,n)=>{qg(lRe,e,"core",t,0,n),Array.from(Xbe()).sort((r,i)=>r.moduleName.localeCompare(i.moduleName)).forEach(r=>r.css?.forEach(i=>qg(i,e,`module-${r.moduleName}`,t,0,n)))},cRe=e=>{vg.grids.add(e)},uRe=e=>{if(vg.grids.delete(e),vg.grids.size===0){vg.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},T6,vg=(T6=typeof window=="object"?window:{}).agStyleInjectionState??(T6.agStyleInjectionState={map:new WeakMap,grids:new Set}),$l=e=>new XK(e),Bu="$default",dRe=0,XK=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[Bu]:{...n[Bu]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++dRe}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const o of this.cssImports??[])i=`@import url(${JSON.stringify(o)});
${i}`;r={css:i,class:s}}else r=!1;this._inject=r}return r&&e&&qg(r.css,e,r.class,t,1,n),r?r.class:!1}},hRe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),QK=e=>`--ag-${hRe(e)}`,ql=e=>`var(${QK(e)})`,fRe=(e,t,n)=>Math.max(t,Math.min(n,e)),pRe=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},fl=e=>({ref:"accentColor",mix:e}),ta=e=>({ref:"foregroundColor",mix:e}),la=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),gRe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),js={ref:"backgroundColor"},zp={ref:"foregroundColor"},xc={ref:"accentColor"},d1={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:ta(.15),chromeBackgroundColor:la(.02),browserColorScheme:"light"},mRe={...d1,textColor:zp,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:js,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:xc,rangeSelectionBackgroundColor:fl(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:fl(.5),rangeHeaderHighlightColor:gRe(.08),rowNumbersSelectedColor:fl(.5),rowHoverColor:fl(.08),columnHoverColor:fl(.05),selectedRowBackgroundColor:fl(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:js,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:js,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:ta(.7),focusShadow:{spread:3,color:fl(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:ta(.1),iconButtonActiveColor:xc,iconButtonActiveBackgroundColor:fl(.28),iconButtonActiveIndicatorColor:xc,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:xc,toggleButtonOffBackgroundColor:la(.3),toggleButtonSwitchBackgroundColor:js,toggleButtonSwitchInset:2,menuBorder:{color:ta(.2)},menuBackgroundColor:la(.03),menuTextColor:la(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:ta(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:xc},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:ta(.2)},panelBackgroundColor:js,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:ta(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:ta(.13)},selectCellBackgroundColor:ta(.07),selectCellBorder:{color:ta(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:js,filterPanelApplyButtonBackgroundColor:xc,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:zp,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:zp,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:ta(.15),statusBarLabelColor:zp,statusBarLabelFontWeight:500,statusBarValueColor:zp,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},vRe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",JK={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},yRe={...JK,cellBatchEditTextColor:"#f3d0b3"},wRe=()=>$l({feature:"batchEditStyle",params:JK,css:vRe}),CRe=wRe(),bRe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",xRe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},SRe=()=>$l({feature:"buttonStyle",params:{...xRe,buttonBackgroundColor:js,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:xc}},css:bRe}),ERe=SRe(),TRe=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",RRe=()=>$l({feature:"columnDropStyle",css:TRe}),ZK=RRe(),_Re=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],ARe=pRe(e=>(e=e.toLowerCase(),_Re.find(t=>e.endsWith(t.toLowerCase()))??"length")),jE=e=>typeof e=="object"&&e?.ref?ql(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,B2=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=ql(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?ql(e.onto):"transparent"}, ${t} ${fRe(e.mix*100,0,100)}%)`}return!1},DRe=jE,Kp=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${ql(n)} `)})`:e&&"ref"in e?ql(e.ref):!1,PRe=jE,QP=(e,t)=>typeof e=="string"?e:e===!0?QP({},t):e===!1?t==="columnBorder"?QP({color:"transparent"},t):"none":e&&"ref"in e?ql(e.ref):eY(e.style??"solid")+" "+Kp(e.width??{ref:"borderWidth"})+" "+B2(e.color??{ref:"borderColor"}),kRe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?ql(e.ref):[Kp(e.offsetX??0),Kp(e.offsetY??0),Kp(e.radius??0),Kp(e.spread??0),B2(e.color??{ref:"foregroundColor"})].join(" "),eY=jE,tY=e=>typeof e=="string"?e.includes(",")?e:R6(e):e&&"googleFont"in e?tY(e.googleFont):e&&"ref"in e?ql(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),R6(t))).join(", "):!1,R6=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),FRe=jE,nY=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?nY({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?ql(e.ref):!1,IRe=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Gn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?ql(e.ref):!1,MRe={color:B2,colorScheme:DRe,length:Kp,scale:PRe,border:QP,borderStyle:eY,shadow:kRe,image:nY,fontFamily:tY,fontWeight:FRe,duration:IRe},ORe=(e,t)=>{const n=ARe(e);return MRe[n](t,e)},LRe=()=>new rY().withPart(ERe).withPart(ZK).withPart(CRe),rY=class iY{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof XK?new iY([...this.parts,t]):(cv(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart($l({feature:t}))}withParams(t,n=Bu){return this.withPart($l({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:i}){if(N2)return;BRe(),YK(t,n,r);const s=NRe(this);if(s.length>0)for(const o of s)i&&HRe(o,r);for(const o of this.parts)o.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=_6(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Bu]:{...mRe}};for(const r of _6(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const o=n[i]??(n[i]={}),a=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(o[l]=c,a.add(l))}if(i===Bu)for(const l of Object.keys(n)){const c=n[l];if(l!==Bu)for(const d of a)delete c[d]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==Bu){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=f,s+=f}for(const d of Object.keys(c).sort()){const f=c[d],p=ORe(d,f);if(p===!1)Gn(107,{key:d,value:f});else{const m=QK(d),y=m.replace("--ag-","--ag-inherited-");i+=`	${m}: var(${y}, ${p});
`,s+=`	${y}: var(${m});
`}}l!==Bu&&(i+=`}
`,s+=`}
`)}let a=`${n} {
${i}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=a}return r.replaceAll(n,`:where(.${t})`)}},_6=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},NRe=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},A6=!1,BRe=()=>{if(!A6){A6=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},VRe=new Set,HRe=async(e,t)=>{VRe.add(e);const n=`@import url('https://${GRe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;qg(n,document.head,`googleFont:${e}`,void 0,0,t)},GRe="fonts.googleapis.com",URe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',zRe=()=>$l({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:js,checkboxUncheckedBorderColor:la(.3),checkboxCheckedBackgroundColor:xc,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:js,checkboxIndeterminateBackgroundColor:la(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:js,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:URe}),jRe=zRe(),sY=()=>({...d1,...yRe,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:la(.05),rowHoverColor:fl(.15),selectedRowBackgroundColor:fl(.2),menuBackgroundColor:la(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:zp,findMatchColor:js,findActiveMatchColor:js,checkboxUncheckedBorderColor:la(.4),toggleButtonOffBackgroundColor:la(.4),rowBatchEditBackgroundColor:la(.1)}),WRe=()=>({...sY(),backgroundColor:"#1f2836"}),$Re=()=>$l({feature:"colorScheme",params:d1,modeParams:{light:d1,dark:sY(),"dark-blue":WRe()}}),qRe=$Re(),oY={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},aY={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},KRe=(e={})=>{let t="";for(const n of[...Object.keys(oY),...Object.keys(aY)]){const r=YRe(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},YRe=(e,t=1.5)=>{const n=aY[e];if(n)return n;const r=oY[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},XRe=(e={})=>$l({feature:"iconSet",css:()=>KRe(e)}),QRe=XRe(),JRe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',ZRe=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",e_e={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},t_e=()=>$l({feature:"inputStyle",params:{...e_e,inputBackgroundColor:js,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:xc},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:la(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>JRe+ZRe}),n_e=t_e(),r_e='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',i_e={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},s_e=()=>$l({feature:"tabStyle",params:{...i_e,tabBarBorder:!0,tabBarBackgroundColor:ta(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:js},css:r_e}),o_e=s_e(),a_e=()=>LRe().withPart(jRe).withPart(qRe).withPart(QRe).withPart(o_e).withPart(n_e).withPart(ZK).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),l_e=a_e(),c_e={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},u_e={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},d_e={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},D6={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},P6={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},k6={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},wA={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},F6={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},h_e=0,f_e=class extends Oe{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++h_e}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(D6),this.getSizeEl(P6),this.getSizeEl(k6),this.getSizeEl(wA),this.getSizeEl(F6),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>uRe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(F6)}getRowBorderWidth(){return this.getCSSVariablePixelValue(wA)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(D6)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(P6)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(c_e)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(u_e),n=this.getCSSVariablePixelValue(d_e);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(k6)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let r=this.eGridDiv;for(;r;){let i=!1;for(const s of Array.from(r.classList))s.startsWith("ag-theme-")&&(i=!0,n=n?`${n} ${s}`:s);i&&this.mutationObserver.observe(r,{attributes:!0,attributeFilter:["class"]}),r=r.parentElement}}for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){const r=e.className;e.className=r+(r?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?qg(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===CA?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Yr({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=Yr({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${CA}px)`)):t.style.width=`var(${e.cssName}, ${CA}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&Ye(9,{variable:e});const o=eu(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(wA);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:r}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const o=i??l_e;o instanceof rY?s=o:Gn(240,{theme:o})}if(s!==r){if(s){cRe(this),YK(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)qg(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=Yr({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}N2||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Gn(i?106:239)}},CA=15538,p_e=class extends Oe{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new of}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(At(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(At(this.gos,e))}};function lY(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var g_e=class extends Oe{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Di(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=i?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Hn(a||[]).type==="filter",c=Sl(this.beans)-1;let d=-1,f=n;for(;f;)d++,f=f.getParent();let p=d;return t&&l&&p===c-1&&p++,p===-1?null:{headerRowIndex:p,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:s}=i,o=i.column,a=Sl(this.beans),l=this.getHeaderRowType(s),c=r.headerGroupRowCount;let{headerRowIndex:d,column:f,headerRowIndexWithoutSpan:p}=e==="UP"?m_e(l,o,s):v_e(o,s,c),m=!1;return d<0&&(d=0,f=o,m=!0),d>=a?(d=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!m&&!f?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:f},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s={...r.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const c=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:d}=r.focusedHeader||{};d!=null&&d!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let s=null,o;const a=Sl(r),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=Hn(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:d}=lY(this.beans,s,o);return d>=a&&(d=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:d},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Kr(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?Hn(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof Ay){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?r.getColBefore(i):r.getColAfter(i);if(!s)return;const o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof If&&s.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function m_e(e,t,n){const r=n-1;if(e!=="filter"){const i=t instanceof If&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>r||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function v_e(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof Ay){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let o=e.getDisplayedChildren()[0];if(o instanceof Ay&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}i.column=o,o instanceof If&&o.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var y_e=class extends Oe{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Txe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(_r(this.beans),kK)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=_r(this.beans);return this.isDomDataPresentInHierarchy(e,l1)?!0:this.isDomDataPresentInHierarchy(e,c1)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(bq(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Ic(r),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:iK(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Gh(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){const l=this.focusedHeader,c=Sl(this.beans);if(n){const d=this.gos.getCallback("tabToNextHeader");d&&(a=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{const d=this.gos.getCallback("navigateToNextHeader");if(d&&i){const f={key:i.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:i};a=d(f)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Gh(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,o=Sl(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return a===!0?r:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:d}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});d?.scrollToColumn(o,n);const p=c.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return d&&p&&(i!=null||r)&&(d.currentHeaderRowWithoutSpan=i??-1),p}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=lY(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Sl(this.beans)-1,n=Hn(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Ic(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&hf(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(HE(this.beans))return t&&!Gh(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:$g(this.beans,t);const i=t?cxe(this.beans):lxe(this.beans);if(i){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=i,l=Kc(this.beans,i);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const c=this.gos.get("enableRtl");let d;return!r||r.key===Ae.TAB?d=c?Ae.LEFT:Ae.RIGHT:d=r.key,this.beans.navigation?.navigateToNextCell(null,d,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Ic(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Sl(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},w_e=class extends Oe{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:rCe();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},C_e=class extends Oe{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},nS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),b_e=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],V2=b_e.reduce((e,t)=>(e[t]=DCe(t),e),{}),U0=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),x_e={tag:"span",cls:"ag-sort-indicator-container",children:[U0("Order","order"),U0("Asc","ascending-icon"),U0("Desc","descending-icon"),U0("Mixed","mixed-icon"),U0("None","none-icon")]},H2=class extends er{constructor(e){super(),this.eSortOrder=Et,this.eSortAsc=Et,this.eSortDesc=Et,this.eSortMixed=Et,this.eSortNone=Et,e||this.setTemplate(x_e)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=ca(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(r);if(e&&Cr(e,o==="asc",{skipAriaHidden:!0}),t&&Cr(t,o==="desc",{skipAriaHidden:!0}),n){const a=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),l=o==null;Cr(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;yl(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Cr(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=i>=0&&s;Cr(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():ko(e)}},S_e={selector:"AG-SORT-INDICATOR",component:H2},Py=["asc","desc",null],E_e=class extends Oe{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=yl(i);let a=[e];if(o&&e.getColDef().showRowGroup){const f=s?.getSourceColumnsForGroupColumn?.(e)?.filter(p=>p.isSortable());f&&(a=[e,...f])}a.forEach(d=>this.setColSort(d,t,r));const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),c=[];if(!l){const d=this.clearSortBarTheseColumns(a,r);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(r,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=yl(t),s=r?.getShowRowGroupCol(e.getId()),o=i&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(d=>this.setColSortIndex(d,null));const l=a.filter(d=>i&&d.getColDef().showRowGroup?!1:d!==o);(o.getSort()?[...l,o]:l).forEach((d,f)=>this.setColSortIndex(d,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Py,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(c=>{c.getSort()&&i.push(c)}),t.isPivotMode()){const c=yl(e);i=i.filter(d=>{const f=!!d.getAggFunc(),p=!d.isPrimary(),m=c?n?.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return f||p||m})}const s=r?.columns.filter(c=>!!c.getSort())??[],o={};i.forEach((c,d)=>o[c.getId()]=d),i.sort((c,d)=>{const f=c.getSortIndex(),p=d.getSortIndex();if(f!=null&&p!=null)return f-p;if(f==null&&p==null){const m=o[c.getId()],y=o[d.getId()];return m>y?1:-1}else return p==null?-1:1});const a=yl(e)&&!!s.length;a&&(i=[...new Set(i.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);const l=new Map;return i.forEach((c,d)=>l.set(c,d)),a&&s.forEach(c=>{const d=n.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=yl(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-r<50;o||l||this.progressSortFromEvent(t,s)}});const i=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new H2(e)}getSortIndicatorSelector(){return S_e}},yg={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},T_e=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),R_e={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?yg[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:yg[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?yg[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},__e=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Nl(262);if(t.smallLeft)return Nl(263);if(t.smallRight)return Nl(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(i=>!Py.includes(i));if(r.length>0)return`sortingOrder must be an array with elements from [${Py.map(KS).join()}], currently it includes [${r.map(KS).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),A_e={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},D_e=()=>Object.keys(A_e),P_e=()=>({objectName:"colDef",allProperties:D_e(),docsUrl:"column-properties/",deprecations:T_e(),validations:__e()}),k_e=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],F_e=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],I_e=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],cY=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],M_e=["theme","rowSelection"],O_e=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],uY=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],L_e=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],N_e=()=>[...I_e,...F_e,...k_e,...cY,...L_e,...uY,...O_e,...M_e],B_e=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function cl(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var V_e={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},H_e=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return cl("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return cl("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return cl("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:i}){return n&&(r||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return Nl(262);if(n.smallLeft)return Nl(263);if(n.smallRight)return Nl(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return cl("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return cl("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return cl("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return cl("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return cl("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!Py.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${Py.map(KS).join()}], currently it includes [${i.map(KS).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!i&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return cl("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return cl("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n?.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,i=["default","legacy"];return r&&!i.includes(r)?`renderingMode must be one of [${i.join()}], currently it's ${r}`:null}}},t={};return uY.forEach(n=>{t[n]={expectedType:"boolean"}}),cY.forEach(n=>{t[n]={expectedType:"number"}}),Is(t,e),t},G_e=()=>({objectName:"gridOptions",allProperties:[...N_e(),...Object.values(V2)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:B_e(),validations:H_e()}),U_e=0,z_e=0,j_e=class extends Oe{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=z_e++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new of,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=nS.has(t);if(r&&!e||!r&&e||!W_e(t))return;const i=(s,o)=>{const a=V2[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??X$[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ot(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:U_e++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(n,a);const c=t||typeof l=="object"&&n==="api",d=s[a];if(c||d!==l){s[a]=l;const f={type:a,currentValue:l,previousValue:d,changeSet:r,source:n};i.push(f)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(a=>a.type),i.forEach(a=>{lf(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,V_e),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,R_e),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||Gn(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:w2(),rowModelType:this.get("rowModelType"),isUmd:Zbe()}}isModuleRegistered(e){return NP(e,this.gridId,this.get("rowModelType"))}};function W_e(e){return!!V2[e]}function dY(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var $_e=dY(!0),q_e=dY(!1),K_e=class extends er{constructor(){super(...arguments),this.eFilter=Et,this.eFilterButton=Et,this.eSortIndicator=Et,this.eMenu=Et,this.eLabel=Et,this.eText=Et,this.eSortOrder=Et,this.eSortAsc=Et,this.eSortDesc=Et,this.eSortMixed=Et,this.eSortNone=Et,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};Is(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?$_e:q_e}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Fbe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=vm(t))}addInIcon(e,t,n){const r=ca(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){qc(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=So(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,o=t.column,a=So(n);if(e&&!a){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;r.attachCustomElements(i,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();Cr(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return qc(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},Y_e={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},X_e=class extends er{constructor(){super(Y_e),this.agOpened=Et,this.agClosed=Et,this.agLabel=Et,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&Ye(89)}workOutInnerHeaderGroupComponent(e,t){const n=Mbe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(Mc(l))return;const c=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const s=l=>{uf(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();Cr(e,r),Cr(t,!r)}else Cr(e,!1),Cr(t,!1)}addInIcon(e,t){const n=ca(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Cr(t,!1),Cr(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;ot(t)&&!r&&(this.agLabel.textContent=vm(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},Q_e={moduleName:"ColumnHeaderComp",version:dt,userComponents:{agColumnHeader:K_e},icons:{menu:"menu",menuAlt:"menu-alt"}},J_e={moduleName:"ColumnGroupHeaderComp",version:dt,userComponents:{agColumnGroupHeader:X_e},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Z_e=class extends Oe{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Ye(92)}createTask(e,t,n,r,i=!1){this.verify();let s=n;r&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,c=n.list,d=r.list,f=Date.now();let p=0;const m=e<=0,y=o.getScrollFeature();for(;m||p<e;){if(!y.scrollGridIfNeeded()){let C;if(l.length)this.sortTaskList(t),C=l.pop().task;else if(c.length)this.sortTaskList(n),C=c.pop().task;else if(d.length)a.wrapOutgoing(()=>{for(;(m||p<e)&&!y.scrollGridIfNeeded();){if(d.length)this.sortTaskList(r),C=d.pop().task,C();else break;p=Date.now()-f}}),C=()=>{};else if(i.length)C=i.pop();else break;C()}p=Date.now()-f}l.length||c.length||d.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);tu(this.beans,e)}isQueueEmpty(){return!this.ticking}},eAe={moduleName:"AnimationFrame",version:dt,beans:[Z_e]},tAe=class extends Oe{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Lh())return;const t=(n,r,i)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(i?.target??null);o?.column&&o.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Lh()||Fq("dblclick"))return!1;const r=Date.now(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:o}=e,a=new vh(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&ot(s)&&i.enableMenu,d=c?new vh(s,!0):a;if(i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){const f=c?"tap":"longTap",p=m=>i.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(d,{[f]:p})}if(i.enableSorting){const f=p=>{const m=p.touchStart.target;l&&(s?.contains(m)||o?.contains(m))||n?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:f})}if(i.enableFilterButton&&o){const f=new vh(o,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new vh(t.eGridHeader,!0),r=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new vh(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!Lh())return;const r=new vh(t),i=s=>{_y(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},nAe={moduleName:"Touch",version:dt,beans:[tAe]},rAe=class extends Oe{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Ae.UP,r=e===Ae.DOWN,i=e===Ae.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:c,pinnedRowModel:d}=this.beans,{rowPinned:f}=t;if(n||r)f&&d?n?o=0:o=f==="top"?d.getPinnedTopRowCount()-1:d.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const p=l.get("enableRtl");o=t.rowIndex,s=(i!==p?c.allCols:[...c.allCols].reverse()).find(y=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:y}))}return s?{rowIndex:o,rowPinned:f,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case Ae.UP:n=this.getCellAbove(n);break;case Ae.DOWN:n=this.getCellBelow(n);break;case Ae.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Ae.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,Ye(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=QH(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=i1(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];const a=QH(this.beans,e);if(dr(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=Hn(i);const l=i1(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(dr(l)||!l.rowPinned&&!(r?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function iAe(e){return e.focusSvc.getFocusedCell()}function sAe(e){return e.focusSvc.clearFocusedCell()}function oAe(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function aAe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function lAe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function cAe(e,t,n=!1){const r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var uAe=class extends Oe{constructor(){super(),this.beanName="navigation",this.onPageDown=UH(this.onPageDown,100),this.onPageUp=UH(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=zxe(this.gos,e);let a=!1;switch(n){case Ae.PAGE_HOME:case Ae.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case Ae.LEFT:case Ae.RIGHT:case Ae.UP:case Ae.DOWN:if(!o)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case Ae.PAGE_DOWN:case Ae.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Ae.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;ot(n)&&!n.isPinned()&&a.ensureColumnVisible(n),ot(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){const t=this.beans,n=bA(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,a=i.getPixelOffset(),l=n.top+r,c=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=bA(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,o=r.getPixelOffset(),a=n.top,l=i.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),o=r.getFirstRow(),a=r.getLastRow(),l=r.getPixelOffset(),c=i.getRow(e.rowIndex),d=n?c?.rowHeight-s-l:s-l,f=c?.rowTop+d;let p=i.getRowIndexAtPixel(f+l);if(p===e.rowIndex){const y=n?-1:1;t=p=e.rowIndex+y}let m;n?(m="bottom",p<o&&(p=o),t<o&&(t=o)):(m="top",p>a&&(p=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(p))&&(t=p,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=s.getRow(l);if(c){const d=c.rowHeight??0;if(a+d>r)break;a+=d}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=bA(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r,rowPinned:i}=n,s=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s,rowPinned:i})}onHomeOrEndKey(e){const t=e===Ae.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,o=t?r.getFirstRow():r.getLastRow(),a=i.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||Gh(i)?$g(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof gg&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||$g(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let o=dv(n,s);return!o&&(o=i.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){const{editSvc:i,focusSvc:s}=this.beans;let o;const a=e instanceof gg?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?o=i?.moveToNextCell(a,t,n,r):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof u1){if(i={...e.getRowPosition(),column:t?r[0]:Hn(r)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(i.column=o.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof gg)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return ot(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:d}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const f=a.getCallback("tabToNextCell");if(ot(f)){const w=f({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(w===!0)i=e;else{if(w===!1)return!1;i={rowIndex:w.rowIndex,column:w.column,rowPinned:w.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const y=Sl(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:y+i.rowIndex,column:i.column},fromCell:!0}),null}const p=a.get("editType")==="fullRow";if(n&&(!p||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const m=dv(s,i);if(!m){const y=c.getRowByPosition(i);if(!y||!y.isFullWidth()||n)continue;return{...y.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(i),d?.setRangeToCell(i),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===Ae.LEFT&&(i=this.getLastCellOfColSpan(i)):t===Ae.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),s=dr(i);if(s&&e&&e.key===Ae.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const f=c.getCallback("navigateToNextCell");if(ot(f)){const m=f({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});ot(m)?i={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:i=null}}if(!i)return;if(i.rowIndex<0){const f=Sl(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const d=this.getNormalisedPosition(i);d?this.focusPosition(d):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=dv(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,o=n.allCols,a=r.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Hn(o):o[0])};this.focusPosition(c);const d=t??(l!=null&&oxe(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!Kc(this.beans,e)}getLastCellOfColSpan(e){const t=dv(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Hn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Eq(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&dr(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function bA(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var dAe={moduleName:"KeyboardNavigation",version:dt,beans:[uAe,rAe,g_e],apiFunctions:{getFocusedCell:iAe,clearFocusedCell:sAe,setFocusedCell:oAe,setFocusedHeader:cAe,tabToNextCell:aAe,tabToPreviousCell:lAe}},hAe=class extends Oe{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},fAe=class extends Oe{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},pAe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",gAe=class extends Oe{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Cr(n,t),Ll(n,e))}},mAe=class extends Oe{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=Qi(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=xy(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let o=i;!o.length&&!s||(r&&(o=r({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!nd(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new gAe(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(Qi(o,"print")){Ye(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(c=>{if(!c)return;const d=r.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}),l.length&&(s.refresh(n),Wq(this.eventSvc,l,n)),i?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&n||!l&&r)?s+c:s;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=xy(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,c=0;const d=0,f=[];let p=r-d-e;for(;(c<o.length||l<a.length)&&p>0;){if(l<a.length){const m=a[l++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}if(c<o.length&&p>0){const m=o[c++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}}return{columns:f,hasLockedPinned:i}}},vAe={moduleName:"PinnedColumn",version:dt,beans:[mAe],css:[pAe]},yAe=class extends Oe{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Yi(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Di(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),Z$(n,"polite"),zwe(n,"additions text"),Uwe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(ko(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},wAe={moduleName:"Aria",version:dt,beans:[yAe]};function CAe(e){e.overlays?.showLoadingOverlay()}function bAe(e){e.overlays?.showNoRowsOverlay()}function xAe(e){e.overlays?.hideOverlay()}var SAe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",EAe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},hY=class extends er{constructor(){super(EAe),this.eOverlayWrapper=Et,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(SAe)}handleKeyDown(e){if(e.key!==Ae.TAB||e.defaultPrevented||Mc(e))return;const t=this.beans;if(Of(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:Hn(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=$g(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:s}=eS;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new T2(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=_r(this.beans);i&&!Sq(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:o})=>{s.refresh?.(At(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&hf(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ko(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=_r(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},TAe={selector:"AG-OVERLAY-WRAPPER",component:hY},RAe=class extends Oe{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=li(this.gos),this.isServerSide=!this.isClientSide&&Ff(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Ye(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return TAe}getOverlayWrapperCompClass(){return hY}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Gbe(this.beans.userCompFactory,At(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(Ube(this.beans.userCompFactory,At(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},_Ae={moduleName:"Overlay",version:dt,userComponents:{agLoadingOverlay:o1e,agNoRowsOverlay:l1e},apiFunctions:{showLoadingOverlay:CAe,showNoRowsOverlay:bAe,hideOverlay:xAe},beans:[RAe]},AAe=class extends Oe{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=nCe(),lf(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;lf(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},DAe=400,PAe=class extends Oe{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},r=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{md(this.gos)?n():r()}),md(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:i})=>{(!i&&r||i&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.getShowRowGroupCols();r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Qi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new kAe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Qi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));r?.forEachPinnedRow(t,(l,c)=>{const d=e[c];d&&r.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in o&&n?(e[c]=o[l.id],delete o[l.id]):e[c]=new u1(l,i,!1,!1,s)});const a=(t==="top"?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const i=r[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&ug(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Nl(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Sl(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(At(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=i1(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(r);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};r=i1(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=JP(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return ZP(i,t)})}getCellCtrls(e,t){let n;ot(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);ot(s)&&(n[s.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const s=this.stickyRowFeature;s&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const d=s.extraTopHeight+s.extraBottomHeight;d&&this.updateContainerHeights(d)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),i!=null)){const d=t?.getFocusCellToUseAfterRefresh();i!=null&&d==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const i=o=>{const a=o.rowNode.rowIndex;a==null||a===r||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))i(o);if(e)for(const o of Object.values(e))i(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i?.active&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=JP(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!ZP(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),ot(i)&&ot(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),ot(i))s=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(r=>r()),DAe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Vh(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const d=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),p=this.gos.get("suppressRowVirtualisation");let m=!1,y,w;do{const P=t.getPixelOffset(),{pageFirstPixel:M,pageLastPixel:A}=t.getCurrentPagePixelRange(),D=e.divStretchOffset,k=f.getVScrollPosition(),I=k.top,B=k.bottom;p?(y=M+D,w=A+D):(y=Math.max(I+P-d,M)+D,w=Math.min(B+P+d,A)+D),this.firstVisibleVPixel=Math.max(I+P,M)+D,this.lastVisibleVPixel=Math.min(B+P,A)+D,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,w)}while(m);let C=n.getRowIndexAtPixel(y),S=n.getRowIndexAtPixel(w);const R=t.getFirstRow(),E=t.getLastRow();C<R&&(C=R),S>E&&(S=E),r=C,i=S}const s=Qi(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&i-r>a&&(i=r+a);const l=r!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,tu(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),s=this.editSvc?.isEditing(e),o=r.detail;return i||s||o?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;const i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new u1(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},kAe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Ca(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Ca(this.entriesList,e)}getEntries(){return this.entriesList}};function JP(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}function ZP(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var FAe=class extends Oe{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=yl(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=yl(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(r,a.column),d=this.getValue(i,a.column);let f;const p=this.getComparator(a,r);if(p?f=p(c,d,r,i,l):f=Nwe(c,d,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(Rq(s,r.isPivotActive())){const c=e.allLeafChildren?.[0];return c?n.getValue(t,c,!1):void 0}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function IAe(e){e.sortSvc?.onSortChanged("api")}var fY={moduleName:"Sort",version:dt,beans:[E_e,FAe],apiFunctions:{onSortChanged:IAe},userComponents:{agSortIndicator:H2},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},MAe=class extends Oe{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),lf(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,hg(e.source))}}};function OAe(e){e.valueCache?.expire()}function LAe(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(dr(s))return null;const o=e.valueSvc.getValueForDisplay(s,r,i);return i?o.valueFormatted??vm(o.value):o.value}var NAe="paste",BAe=class extends Oe{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;li(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===NAe||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!r.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Dy(a,o);l.addParentNode(r.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{i.push(c),c.sibling&&i.push(c.sibling)})}n.refreshCells({rowNodes:i})}},VAe=class extends Oe{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Gn(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Gn(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},HAe=class extends Oe{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},GAe={moduleName:"ValueCache",version:dt,beans:[HAe],apiFunctions:{expireValueCache:OAe}},UAe={moduleName:"Expression",version:dt,beans:[VAe]},zAe={moduleName:"ChangeDetection",version:dt,beans:[BAe]},jAe={moduleName:"CellApi",version:dt,apiFunctions:{getCellValue:LAe}},Zb={checkSiblings:!0},WAe=class extends Oe{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Ff(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const w=s.getGroupValue(t,e);if(w==null)return{value:null,valueFormatted:null};if(!n)return{value:w.value,valueFormatted:null};const C=s.formatAndPrefixGroupColValue(w,e,r);return{value:w.value,valueFormatted:C}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),d=t.group&&t.expanded&&!t.footer&&!c,f=this.gos.get("groupSuppressBlankHeader")||!t.sibling,p=d&&!f,m=this.getValue(e,t,p,i),y=n&&!(r&&e.colDef.useValueFormatterForExport===!1);return{value:m,valueFormatted:y?this.formatValue(e,t,m):null}}getValue(e,t,n=!1,r="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId();let a=t.data;if(this.hasEdit&&r==="ui"){const w=this.editSvc;if(w.isRowEditing(t,Zb)&&(a=w.getRowDataValue(t,Zb)),w.isEditing()){const C=w.getCellDataValue({rowNode:t,column:e},!0);if(C!==void 0)return C}}let l;const c=i.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;const d=typeof c!="string"||!t.group,f=t.groupData&&o in t.groupData,p=!n&&t.aggData&&t.aggData[o]!==void 0,m=this.isSsrm&&n&&!!i.aggFunc,y=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&p)l=t.aggData[o];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=Rv(a,s,e.isFieldContainsDots());else if(f)l=t.groupData[o];else if(p)l=t.aggData[o];else if(i.valueGetter&&!m){if(!d)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(y)l=Rv(a,t.field,e.isFieldContainsDots());else if(s&&a&&!m){if(!d)return l;l=Rv(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const w=l.substring(1);l=this.executeValueGetter(w,a,e,t)}return l}parseValue(e,t,n,r){const i=e.getColDef(),s=i.valueParser;if(ot(s)){const o=At(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return ot(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(r?a=r:i&&(a=l.valueFormatter),a){let c=t?t.data:null;if(t){const f={rowNode:t};if(this.hasEdit){const p=this.editSvc;p.isEditing(f,Zb)&&(c=p.getRowDataValue(t,Zb))}}const d=At(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof a=="function"?o=a(d):o=s?s.evaluate(a,d):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,r){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;dr(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(dr(s)&&dr(o))return Ye(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return Ye(135),!1;const a=At(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(ot(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const c=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,c,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===n,i||(o[a]=n)):o=o[a]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){const i=At(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=this.expressionSvc?.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=At(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&Ye(121)),i}},$Ae={moduleName:"CommunityCore",version:dt,beans:[C_e,eEe,sRe,hbe,AAe,vTe,p_e,j_e,cbe,fAe,hAe,PAe,WAe,y_e,f_e,w_e,aRe,MAe,eRe,tRe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:tEe,destroy:nEe,isDestroyed:rEe,getGridOption:iEe,setGridOption:sEe,updateGridOptions:HK,isModuleRegistered:oEe},dependsOn:[QTe,YEe,nTe,fY,Q_e,wTe,J_e,_Ae,zAe,eAe,dAe,vAe,wAe,nAe,iRe,JTe,UAe,STe]};function ek(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e;let s=(n??[]).map((l,c)=>({value:l,relevance:qAe(t,l),idx:c}));if(s.sort((l,c)=>l.relevance-c.relevance),r&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const c=s[0].relevance*i;s=s.filter(d=>c-d.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function qAe(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[];const i=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=i;a++){r[0]=a;for(let l=1;l<=s;l++){const c=e[a-1],d=t[l-1];if(c.toLocaleLowerCase()===d.toLocaleLowerCase())++o,c===d&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<i/2-10&&++o,r[l]=n[l-1];else{const f=r[l-1],p=n[l],m=n[l-1];r[l]=1+Math.min(f,p,m)}}[n,r]=[r,n]}return n[s]/(o+1)}var pY={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},xA=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],KAe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:xA,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...xA,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...xA,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},YAe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function XAe(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(r=>{const i=KAe[r];i?i.forEach(s=>{const o=YAe[s];(!o||o===t)&&n.push(s)}):n.push(r)}),n}var gY=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,QAe=e=>{const t=e.map(r=>`import { ${kv(r)} } from '${pY[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>kv(r,!0)).join(", ")} ]); 

For more info see: ${cg}/modules/`};function kv(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function JAe(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>pY[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function mY({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var I6=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:o})=>{const a=XAe(t,i),l=typeof e=="string"?e:nDe[e];if(o)return JAe(l,a);const c=a.filter(p=>p==="IntegratedCharts"||p==="Sparklines"),d=c.length>0?`${c.map(p=>kv(p)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(p=>kv(p)).join(", "):kv(a[0])} is not registered${n?" for gridId: "+r:""}. ${d} Check if you have registered the module:
`}
${QAe(a)}`+(s?` 

${s}`:"")},M6=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,ZAe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,eDe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${ZAe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(r??[]).filter(a=>!!r[a])],o=ek({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${cg}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=ek({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:I6,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${cg}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>M6("IntegratedChartsModule"),258:()=>M6("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>I6({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:yg[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${cg}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>gY(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:mY,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function tDe(e,t){const n=eDe[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${yq(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var nDe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},O6=new WeakMap,L6=new WeakMap,rDe=1,iDe=class{create(e,t,n,r,i,s){const o=Y$.applyGlobalGridOptions(t),a=o.gridId??String(rDe++),l=this.getRegisteredModules(i,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,i);if(!c)return;const p={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:X1e,beanDestroyComparator:Q1e,derivedBeans:[K1e],destroyCallback:()=>{L6.delete(y),O6.delete(e),s?.()}},m=new rxe(p);this.registerModuleFeatures(m,l),n(m),m.getBean("syncSvc").start(),r?.(m);const y=m.getBean("gridApi");return O6.set(e,y),L6.set(y,e),y}getRegisteredModules(e,t,n){return Ry($Ae,void 0,!0),e?.modules?.forEach(r=>Ry(r,t)),Ybe(t,N6(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const s=i.apiFunctions;s&&Object.keys(s).forEach(a=>{r?.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;dr(r)&&(r=new BK);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=N6(e),s=r[i];if(!s){cv(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!Jbe()){cv(272,void 0,gY());return}if(!e){const a=Object.entries(r).filter(([l,c])=>NP(c,n,l));if(a.length==1){const[l,c]=a[0];if(l!==i){const d={moduleName:c,rowModelType:l};cv(275,d,mY(d));return}}}if(!NP(s,n,i)){cv(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:s,gridScoped:w2(),gridId:n,rowModelType:i},`Missing module ${s}Module for rowModelType ${i}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function N6(e){return e??"clientSide"}function Ql(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function WE(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function vY(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var sDe=class extends Oe{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(r,i,s)=>t({key:r,defaultValue:i,variableValues:s});const n=e.get("localeText");return(r,i,s)=>{let o=n&&n[r];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??i}}};function oDe(e,t=!1){const n=[],r=[],i=[],s=[],o=[],a=[],l=[],c=[],d=[];let f=0;for(let p=0;p<e.length;p++){const{colId:m,sort:y,sortIndex:w,rowGroup:C,rowGroupIndex:S,aggFunc:R,pivot:E,pivotIndex:P,pinned:M,hide:A,width:D,flex:k}=e[p];d.push(m),y&&(n[w??f++]={colId:m,sort:y}),C&&(r[S??0]=m),typeof R=="string"&&i.push({colId:m,aggFunc:R}),E&&(s[P??0]=m),M&&(M==="right"?a:o).push(m),A&&l.push(m),(k!=null||D)&&c.push({colId:m,flex:k??void 0,width:D})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function aDe(e){const t=[];return e.forEach(({groupId:n,open:r})=>{r&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var lDe=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);return t?.forEach(s=>{this.createMethod(i,s,!0)}),n?.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&Ye(49,{methodName:t}),null)}}},cDe={tag:"div",cls:"ag-tooltip"},uDe=class extends F2{constructor(){super(cDe)}init(e){const{value:t}=e,n=this.getGui();n.textContent=vm(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},dDe=1e3,hDe=1e3,B6=100,V6,ex=!1,fDe=class extends Oe{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Lh()&&(ex?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},B6):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||ex)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-V6<dDe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ot(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),r=At(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);zbe(this.userCompFactory,r)?.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),V6=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Di(this.beans),{keydown:o=>{r.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=_r(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?hDe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){ex=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},B6)}unlockService(){ex=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function SA(e){return e.get("tooltipShowMode")==="whenTruncated"}var pDe=class extends Oe{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new fDe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function gDe(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var mDe=class extends Oe{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},vDe=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=t===0&&_q(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(At(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(At(this.gos,{accumulatedRowIndex:n,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:r,parseValue:p=>this.valueSvc.parseValue(e,i,p,this.valueSvc.getValue(e,i,void 0)),formatValue:p=>this.valueSvc.formatValue(e,i,p)??p}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,c=e.colDef.showRowGroup===!0&&(i.group||o);if(!l&&(s||c)){let p="",m=i;for(;m&&m.level!==-1;){const{value:y,valueFormatted:w}=a.getValueForDisplay(s?void 0:e,m,!0,!0);p=` -> ${w??y??""}${p}`,m=m.parent}return{value:p,valueFormatted:p}}const{value:d,valueFormatted:f}=a.getValueForDisplay(e,i,!0,!0);return{value:d??"",valueFormatted:f}}getHeaderName(e,t){return e?e(At(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function yDe(e,t){const n=document.defaultView||window;if(!n){Ye(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var wDe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Vs="clientSide",Es="serverSide",Pp="infinite",CDe={onGroupExpandedOrCollapsed:[Vs],refreshClientSideRowModel:[Vs],isRowDataEmpty:[Vs],forEachLeafNode:[Vs],forEachNodeAfterFilter:[Vs],forEachNodeAfterFilterAndSort:[Vs],resetRowHeights:[Vs],applyTransaction:[Vs],applyTransactionAsync:[Vs],flushAsyncTransactions:[Vs],getBestCostNodeSelection:[Vs],getServerSideSelectionState:[Es],setServerSideSelectionState:[Es],applyServerSideTransaction:[Es],applyServerSideTransactionAsync:[Es],applyServerSideRowData:[Es],retryServerSideLoads:[Es],flushServerSideAsyncTransactions:[Es],refreshServerSide:[Es],getServerSideGroupLevelState:[Es],refreshInfiniteCache:[Pp],purgeInfiniteCache:[Pp],getInfiniteRowCount:[Pp],isLastRowIndexKnown:[Pp,Es],expandAll:[Vs,Es],collapseAll:[Vs,Es],onRowHeightChanged:[Vs,Es],setRowCount:[Pp,Es],getCacheBlockState:[Pp,Es]},bDe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function xDe(e,t,n){const r=bDe[e];if(r){const{version:s,new:o,old:a,message:l}=r,c=a??e;return(...d)=>{const f=o?`Please use ${o} instead. `:"";return Av(`Since ${s} api.${c} is deprecated. ${f}${l??""}`),t.apply(t,d)}}const i=CDe[e];return i?(...s)=>{const o=n.rowModel.getType();if(!i.includes(o)){lg(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var SDe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},EDe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},TDe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},RDe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),_De=class extends Oe{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,cCe(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&wDe[t]&&Ye(22,{key:t})}processGridOptions(e){this.processOptions(e,G_e())}validateApiFunction(e,t){return xDe(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=yg[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):Ye(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=SDe[e];return t?Nl(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){DDe.has(e)&&Ye(10,{eventType:e})}validateIcon(e){if(RDe.has(e)&&Ye(43,{iconName:e}),EDe[e])return;const t=TDe[e];if(t){Gn(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:w2(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Ye(134,{iconName:e})}isProvidedUserComp(e){return!!yg[e]}validateColDef(e){this.processOptions(e,P_e())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,o,a);const l=new Set;Object.keys(e).forEach(d=>{const f=r[d];if(f){const{message:R,version:E}=f;l.add(`As of v${E}, ${String(d)} is deprecated. ${R??""}`)}const p=e[d];if(p==null||p===!1)return;const m=n[d];if(!m)return;const{dependencies:y,validate:w,supportedRowModels:C,expectedType:S}=m;if(S){const R=typeof p;if(R!==S){l.add(`${String(d)} should be of type '${S}' but received '${R}' (${p}).`);return}}if(C){const R=this.gridOptions.rowModelType??"clientSide";if(!C.includes(R)){l.add(`${String(d)} is not supported with the '${R}' row model. It is only valid with: ${C.join(", ")}.`);return}}if(y){const R=this.checkForRequiredDependencies(d,y,e);if(R){l.add(R);return}}if(w){const R=w(e,this.gridOptions,this.beans);if(R){l.add(R);return}}}),l.size>0&&l.forEach(d=>{Av(d)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],o=ADe(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const c=o[l];let d=`invalid ${r} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),Av(d)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);Av(`to see all the valid ${r} properties please check: ${l}`)}}getConsoleMessage(e,t){return tDe(e,t)}};function ADe(e,t,n){const r={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>r[s]=ek({inputValue:s,allSuggestions:n}).values),r}var DDe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),PDe={moduleName:"Validation",version:dt,beans:[_De]};function yY(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var kDe=class extends Oe{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,yY(r)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],c):n(l,c)}n(s,o)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},FDe=class extends k2{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,r,i){this.comp=e;const s=qw(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return At(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=ca("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new wm(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Ug(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(_r(t)===this.eGui)return;const i=Of(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Ae.UP:case Ae.DOWN:case Ae.LEFT:case Ae.RIGHT:if(t)return;uf(e);case Ae.ENTER:t&&hf(this.eGui)&&e.preventDefault();break;case Ae.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Nh(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===Ae.TAB);if(i&&s){const o=i.shiftKey;hf(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new P2(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!So(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,i=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(r.get("enableFilterHandlers")){const d=s;let f="filter";d?.afterFloatingFilter?f="ui":d?.afterDataChange?f="dataChanged":s?.source==="api"&&(f="api"),this.updateFloatingFilterParams(this.userCompDetails,f);return}const l=t?.getCurrentFloatingFilterParentModel(n),c=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(o=>{!o||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(r=>{typeof r?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:Ti(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),r.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function IDe(e,t){const n=e.colModel.getCol(t);if(!n){Gn(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function MDe(e){e.menuSvc?.hidePopupMenu()}var ODe={moduleName:"SharedMenu",version:dt,beans:[i1e],apiFunctions:{showColumnMenu:IDe,hidePopupMenu:MDe}},tx=0,LDe=200,NDe=class extends Oe{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:r,node:i,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const c=()=>{const d=this.keepXYWithinBounds(n,o.top-a.top,0),f=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${f}px`,l=!0);const m=a.right-a.left-f;let y;return this.gos.get("enableRtl")?(y=C(),y<0&&(y=w(),this.setAlignedStyles(n,"left")),y>m&&(y=0,this.setAlignedStyles(n,"right"))):(y=w(),y>m&&(y=C(),this.setAlignedStyles(n,"right")),y<0&&(y=0,this.setAlignedStyles(n,"left"))),{x:y,y:d};function w(){return o.right-a.left-2}function C(){return o.left-a.left-f}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,r,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=e,f=s.getBoundingClientRect(),p=this.getParentRect();this.setAlignedTo(s,t);const m=()=>{let y=f.left-p.left;o==="right"&&(y-=t.offsetWidth-f.width);let w;return a==="over"?(w=f.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,p,e.nudgeY||0)==="under"?w=f.top-p.top+f.height:w=f.top-t.offsetHeight-(r||0)*2-p.top),{x:y,y:w}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(d,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+r;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}callPostProcessPopup(e,t,n,r,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:f}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(d+=r),i&&(f+=i),n&&(d=this.keepXYWithinBounds(t,d,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${d}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=eu(this.beans,t,()=>l(!0));setTimeout(()=>c(),LDe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Di(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),cq(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=Di(this.beans),c=l.documentElement,d=this.getPopupParent(),f=e.getBoundingClientRect(),p=d.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),y=d===l.body,w=Math.ceil(f[o]);let S=y?(r?lq:jS)(c)+c[a]:d[i];y&&(S-=Math.abs(m[s]-p[s]));const R=S-w;return Math.min(Math.max(t,0),Math.abs(R))}addPopup(e){const t=Di(this.beans),{eChild:n,ariaLabel:r,ariaOwns:i,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return Ye(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const c=this.createPopupWrapper(n,!!s,r,i),d=this.addEventListenersToPopup({...e,wrapperEl:c});return o&&o(),this.addPopupToPopupList(n,c,d,a),{hideFunc:d}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ot(e.style.top)||(e.style.top=`${n.top*-1}px`),ot(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const i=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=Yr({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||af(e,"dialog"),n?Ug(e,n):r&&(e.id||(e.id=`popup-component-${tx}`),VH(r,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Di(t),r=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c,ariaOwns:d}=e;let f=!1;const p=C=>{if(!i.contains(_r(t)))return;C.key===Ae.ESCAPE&&!Mc(C)&&w({keyboardEvent:C})},m=C=>w({mouseEvent:C}),y=C=>w({touchEvent:C}),w=(C={})=>{const{mouseEvent:S,touchEvent:R,keyboardEvent:E,forceHide:P}=C;!P&&(this.isEventFromCurrentPopup({mouseEvent:S,touchEvent:R},s)||f)||(f=!0,r.removeChild(i),n.removeEventListener("keydown",p),n.removeEventListener("mousedown",m),n.removeEventListener("touchstart",y),n.removeEventListener("contextmenu",m),this.eventSvc.removeEventListener("dragStarted",m),o&&o(S||R||E),this.removePopupFromPopupList(s,d))};return a&&a({hidePopup:w}),window.setTimeout(()=>{l&&n.addEventListener("keydown",p),c&&(n.addEventListener("mousedown",m),this.eventSvc.addEventListener("dragStarted",m),n.addEventListener("touchstart",y),n.addEventListener("contextmenu",m))},0),w}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:tx,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),tx=tx+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&VH(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),o=f=>parseInt(f.substring(0,f.length-1),10),a=(f,p)=>{const m=n[f]-s[f],y=o(i.style[f]);return{initialDiff:m,lastDiff:m,initial:y,last:y,direction:p}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new vn(f=>{d.wrapIncoming(()=>{d.setInterval(()=>{const p=t.getBoundingClientRect(),m=r.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const w=(C,S)=>{const R=o(i.style[S]);C.last!==R&&(C.initial=R,C.last=R);const E=p[S]-m[S];if(E!=C.lastDiff){const P=this.keepXYWithinBounds(i,C.initial+C.initialDiff-E,C.direction);i.style[S]=`${P}px`,C.last=P}C.lastDiff=E};w(l,"top"),w(c,"left")},200).then(p=>{f(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(MCe(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Di(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],o=[];for(const p of n)p!==i&&(p.classList.contains("ag-always-on-top")?o.push(p):s.push(p));const a=[],l=o.length,f=i.classList.contains("ag-always-on-top")||!l?[...s,...o,i]:[...s,i,...o];for(let p=0;p<=r;p++){const m=f[p];if(n[p]===f[p]||m===i)continue;m.querySelectorAll("div").forEach(w=>{w.scrollTop!==0&&a.push([w,w.scrollTop])}),p===0?t.insertAdjacentElement("afterbegin",m):f[p-1].insertAdjacentElement("afterend",m)}for(;a.length;){const p=a.pop();p[0].scrollTop=p[1]}}},$E={moduleName:"Popup",version:dt,beans:[NDe]},BDe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function VDe(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function HDe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function GDe(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function UDe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function zDe(e){return e.filterManager?.getFilterModel()??{}}function jDe(e,t,n){const{gos:r,colModel:i,colFilter:s}=e;n&&!r.get("enableFilterHandlers")&&(Ye(288),n=!1);const o=i.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function WDe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function $De(e,t){const n=e.colModel.getCol(t);if(!n){Gn(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function qDe(e){e.menuSvc?.hideFilterMenu()}function KDe(e,t){const n=e.colModel.getCol(t);if(!n){Gn(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function YDe(e,t){const{colModel:n,colFilter:r,gos:i}=e;if(!i.get("enableFilterHandlers")){Ye(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&r?.updateModel(a,o)}else r?.updateAllModels(o)}var XDe={filterHandler:()=>({doesFilterPass:()=>!0})},QDe=class extends Oe{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...wK},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:r,filterManager:i}=this.beans;if(r?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{const d=e[c];s.push(this.setModelOnFilterWrapper(l,d)),a.delete(c)}),a.forEach(l=>{const c=n.getColDefCol(l)||n.getCol(l);if(!c){Ye(62,{colId:l});return}if(!c.isFilterAllowed()){Ye(63,{colId:l});return}const d=this.getOrCreateFilterWrapper(c,!0);if(!d){Ye(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(d,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});vn.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((c,d)=>{const f=o?o[d]:null,p=a?a[d]:null;wy(f,p)||l.push(c.column)}),l.length>0&&i?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);ot(a)&&(t[o]=a)}),!e)for(const s of Object.keys(r)){const o=r[s];ot(o)&&!n.has(s)&&i.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const i=t[r];this.state.set(r,{model:Ti(this.model,r),state:i})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,i)=>{const s=r.state;s!=null&&(n=!0,t[i]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return Ti(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(Ye(66),null):r.getModel():Ti(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(Ye(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!MP(n),i=c=>{if(!c.isPrimary())return!0;const f=!t.isPivotActive();return!c.isValueActive()||!f?!1:t.isPivotMode()?!0:r},s=[],o=[],a=(c,d,f)=>{d&&(i(c)?s.push(f):o.push(f))},l=[];return this.allColumnFilters.forEach(c=>{const d=c.column,f=d.getColId();if(c.isHandler)l.push(vn.resolve().then(()=>{a(d,this.isHandlerActive(d),{colId:f,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const p=Pu(c);p&&l.push(p.then(m=>{a(d,e(m),{colId:f,isHandler:!1,comp:m})}))}}),vn.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(r=>{const i=r.column;if(r.isHandler)n.push(vn.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const s=Pu(r);s&&n.push(s.then(o=>{this.setColFilterActive(i,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),vn.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,a=this.model;for(let l=0;l<s.length;l++){const c=s[l],{colId:d,isHandler:f}=c;if(d!==t)if(f){const{handler:p,handlerParams:m}=c;if(!p.doesFilterPass({node:e,data:o,model:Ti(a,d),handlerParams:m}))return!1}else{const p=c.comp;if(typeof p.doesFilterPass!="function"){Gn(91);continue}if(!p.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{const{column:s,isHandler:o}=i;r!==s.getColId()&&(o&&i.handler.onAnyFilterChanged?.(),Pu(i,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const r=n.isHandler;r&&n.handler.onNewRowsLoaded?.();const i=Pu(n,r);i&&t.push(i.then(s=>{s.onNewRowsLoaded?.()}))}),vn.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(i,s)=>{const o=s?r.getCol(s):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():Ti(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=ot(Ti(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Pu(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=Pu(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return _Ce(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":uSe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,s){const o=()=>{const c=this.createFilterCompParams(e,i,s),d=r(c,i);return Vbe(this.beans.userCompFactory,t,d,n)},a=o();return a?{compDetails:a,createFilterUi:c=>(c?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,r,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:c,createFilterUi:d}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||Ye(281,{colId:e.getColId()})),{compDetails:c,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:d}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return At(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>n?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,r);if(s.filterChangedCallback=i,s.filterModifiedCallback=r?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=Ti(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(c,d)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{i({...d,source:"columnFilter"})})},o.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},o.onAction=(c,d,f)=>{this.updateModel(e,c,d),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:f})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=c=>this.filterUiChanged(e,c),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:"init",model:Ti(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:r,registry:i}=this.beans;let s;const o=f=>{const p=f.filter;if(Yq(p)){const m=p.handler;return m||(s=p.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof p=="string"?p:void 0},a=n.get("enableFilterHandlers")?o(e):void 0,l=f=>()=>this.createBean(i.createDynamicBean(f,!0));let c,d;if(typeof a=="string"){const f=n.get("filterHandlers")?.[a];f!=null?c=f:Xxe.has(a)&&(c=l(a),d=a)}else c=a;if(!c){let f;const{compName:p,jsComp:m,fwComp:y}=Jq(r,e);p?f=p:m==null&&y==null&&e.filter===!0&&(f=t),d=this.handlerMap[f],d&&(c=l(d))}if(c)return{filterHandler:c,handlerNameOrCallback:s??d}}createHandler(e,t,n){let r=this.createHandlerFunc(t,n);if(!r){const c=this.gos;if(!c.get("enableFilterHandlers"))return;li(c)&&Ye(277,{colId:e.getColId()}),r=XDe}const i=sA(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=r,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,i);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),i=t(At(this.gos,{column:e,colDef:r})),s=this.createHandlerParams(e,n);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return At(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(r,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(r,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{i({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const i=r&&e.every(s=>r.isGroupFilter(s));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:i}=this.beans,s=p=>{const m=this.getOrCreateFilterUi(e);m?.then(y=>{p(Ty(y))})},o=e.getColDef(),a=i?.isSelectable(o)?i.getFilterDef(e,o):o,l=mSe(r,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),d=sA(n,a,this.createFilterCompParams(e,c,"init",!0)),f=At(this.gos,{column:e,filterParams:d,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(c){const p=f,m=e.getColId(),y=this.filterChangedCallbackFactory(e);p.onUiChange=w=>this.floatingFilterUiChanged(e,w),p.model=Ti(this.model,m),p.onModelChange=(w,C)=>{this.updateStoredModel(m,w),this.refreshHandlerAndUi(e,w,"floating",!0).then(()=>{y({...C,source:"columnFilter"})})},p.getHandler=()=>this.getHandler(e,!0),p.source="init"}return jbe(n,o,f,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){if(e.isHandler){const i=t.getColId();delete this.initialModel[i],this.state.delete(i);const s=e.filterUi,o=this.createFilterUiForHandler(n,r);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:i,filterUi:s}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(s){if(s.created)return s.promise.then(l=>(n=i?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return vn.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,i=n.column,s=i.getColDef(),o=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=r.selectableFilter,c=l?.isSelectable(s)?l.getFilterDef(i,s):s,d=o?this.createHandlerFunc(c,this.getDefaultFilter(i)):void 0,f=!!d,p=n.isHandler;if(p!=f){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:m,createFilterUi:y}=(o?this.createFilterComp(i,c,a,C=>C,f,"colDef"):null)??{compDetails:null,createFilterUi:null},w=m?.params??sA(r.userCompFactory,c,this.createFilterCompParams(i,f,"colDef"));if(p){const C=d?.handlerNameOrCallback??d?.filterHandler,S=Ti(this.model,e);if(n.handlerGenerator!=C){const R=n.handler,{handler:E,handlerParams:P}=this.createHandlerFromFunc(i,d.filterHandler,w);n.handler=E,n.handlerParams=P,n.handlerGenerator=C,delete this.model[e],E.init?.({...P,source:"init",model:null}),this.destroyBean(R),S!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const R=this.createHandlerParams(i,m?.params);n.handlerParams=R,n.handler.refresh?.({...R,source:"colDef",model:S})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,m)||!n.filterUi||!m){this.destroyFilterUi(n,i,m,y);return}n.filterUi.filterParams=w,Pu(n,p)?.then(C=>{(C?.refresh?C.refresh(w):!0)===!1?this.destroyFilterUi(n,i,m,y):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:w})})}refreshHandlerAndUi(e,t,n,r){const i=this.cachedFilter(e);if(!i)return r&&this.getOrCreateFilterWrapper(e,!0),vn.resolve();if(!i.isHandler)return vn.resolve();const{filterUi:s,handler:o,handlerParams:a}=i;return Qxe(()=>{if(s){const{created:l,filterParams:c}=s;if(l)return s.promise.then(d=>d?{filter:d,filterParams:c}:void 0);s.refreshed=!0}return vn.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(i=>{r(Ty(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:i}=this,s=e.getColId(),o=r.get(s);return o?o.model??null:Ti(i,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const r=new Promise(i=>{n=i});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(r=>n(r))})}getStateForColumn(e){return this.state.get(e)??{model:Ti(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):vn.resolve()}setColDefPropsForDataType(e,t,n){const r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:c}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,c,t,n)??{}:{filterParams:s,filterValueGetter:o}=aSe(i,l,c,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new vn(r=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){r();return}this.refreshHandlerAndUi(s,t,"api").then(()=>r());return}const i=Pu(e);if(i){i.then(s=>{if(typeof s?.setModel!="function"){Ye(65),r();return}(s.setModel(t)||vn.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){ot(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n?.state};this.state.set(e,r)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const r=e.getColId(),i=()=>this.cachedFilter(e)?.filterUi;t6(t,i,()=>Ti(this.model,r),()=>this.state.get(r),s=>this.updateState(e,s),s=>i()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,i)=>{const s=this.beans.colModel.getColDefCol(i);s&&t6(e,()=>r.filterUi,()=>Ti(this.model,i),()=>this.state.get(i),o=>this.updateState(s,o),o=>{this.updateStoredModel(i,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&vn.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();bK(()=>this.cachedFilter(e)?.filterUi,()=>Ti(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let r=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==Ti(t,i)&&(r=!0)}return r}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==Ti(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function JDe(e){return!!e.filterManager?.isAnyFilterPresent()}function ZDe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var ePe=class extends Oe{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){MP(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):vn.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:r};n&&Is(i,n),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!MP(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){Ye(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},tPe=class extends Oe{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,So(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,s="left";const o=So(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const a=o?void 0:4*i,l=o?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,r)}showPopup(e,t,n,r,i,s){const o=e?this.createBean(new rSe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){Gn(57);return}const a=Yr({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:w=>this.trapFocusWithin(w,a)}),a.appendChild(o?.getGui());let l;const c=()=>o?.afterGuiDetached(),d=ACe(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=w=>{c6(e,!1,"contextMenu");const C=w instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),C&&r&&Wl(r)&&hK(r)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},p=this.getLocaleTextFunc(),m=i&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),y=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:m});y&&(this.hidePopup=l=y.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),c6(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Ae.TAB||e.defaultPrevented||Of(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),hf(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},nPe=class extends Oe{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:i,valueSvc:s}=this.beans,o=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,r):s.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:o}=this.beans,a=At(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},rPe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},iPe=class extends er{constructor(){super(rPe,[zE]),this.eFloatingFilterText=Et}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const i=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},G2=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(Ye(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;Ye(73)}else Ye(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Fv(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function h1(e){return e==null||typeof e=="string"&&e.trim().length===0}function sPe(e){return e==="AND"||e==="OR"?e:"AND"}function oPe(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function aPe(e,t){let n=e.length;return n>t&&(e.splice(t),Ye(78),n=t),n}function ky(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var U2=class extends pSe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new G2;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=sPe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&Mf(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),vn.resolve();if(e.operator){const r=e;let i=r.conditions;i==null&&(i=[],Ye(77));const s=aPe(i,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=r.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),vn.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Ye(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(Ye(80),n=1),n>t&&(Ye(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new L2);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,i=>this.resetInput(i)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=Yr({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new M1e);e.push(r);const i="ag-filter-condition-operator";return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(by(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{Cr(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOrs.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,s,o)=>{this.setElementDisplayed(r,i<o),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){Fv(e,t,n).forEach(i=>qc(i))}removeComponents(e,t,n){Fv(e,t,n).forEach(i=>{qc(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof _h&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),r=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof _h))return;const s=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof _h&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof er&&Cr(e.getGui(),t)}setElementDisabled(e,t){e instanceof er&&by(e.getGui(),t)}attachElementOnChange(e,t){e instanceof _h&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=ky(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&n(o,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return ky(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},wY=class{constructor(e,t,n,r,i,s){this.alive=!0,this.context=e,this.eParent=i;const o=Hbe(t,n,r);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Cr(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},z2=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function CY(e,t){const{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&Js(n)||null,r&&Js(r)||null].slice(0,ky(i,t))}var H6=1e3,G6=1/0,lPe=class extends U2{constructor(){super("dateFilter",CY,z2),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=H6,this.maxValidYear=G6,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,c)=>{const d=e[l];if(d!=null)if(isNaN(d))Ye(82,{param:l});else return d==null?c:Number(d);return c},n=t("minValidYear",H6),r=t("maxValidYear",G6);this.minValidYear=n,this.maxValidYear=r,n>r&&Ye(83);const{minValidDate:i,maxValidDate:s}=e,o=i instanceof Date?i:Js(i);this.minValidDate=o;const a=s instanceof Date?s:Js(s);this.maxValidDate=a,o&&a&&o>a&&Ye(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:r},params:i}=this,s=new wY(n,t,i.colDef,At(r,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Yr({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const i=Yr({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Fv(this.eConditionPanelsFrom,e,t),Fv(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){Fv(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,s)=>{i!==e||!t||r>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=Ao(r[0])),r.length>1&&(n.dateTo=Ao(r[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},bY=class extends Oe{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new G2;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);const i=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return r[i](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let s=gSe(t)?t.conditions:[t];const o=n?.map(d=>typeof d=="string"?d:d.displayKey)??this.defaultOptions;if(!(!s||s.every(d=>o.find(f=>f===d.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const c=this.filterType;if((s&&!s.every(d=>d.filterType===c)||t.filterType!==c)&&(s=s.map(d=>({...d,filterType:c})),l=!0),typeof r=="number"&&s&&s.length>r&&(s=s.slice(0,r),l=!0),l){const d=s.length>1?{...t,filterType:c,conditions:s}:{...s[0],filterType:c};this.params={...e,model:d},e.onModelChange(d);return}}individualConditionPasses(e,t,n){const r=this.optionsFactory,i=this.mapValuesFromModel(t,r),s=r.getCustomOption(t.type),o=oPe(s,i,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},xY=class extends bY{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return h1(t);case"notBlank":return!h1(t);default:return Ye(76,{filterModelType:r}),!0}}},SY={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},cPe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},j2=class extends Oe{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?Wu(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(c=>this.getModelAsString(c,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Wu(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?Wu(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:c}=o||{};return a&&l&&c===0?n(a,l):this.conditionToString(s,r,s.type==="inRange"||c===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,s){let o;const a=this.getTypeKey(e);return a&&(o=Wu(this,a)),i&&s&&(o=this.getLocaleTextFunc()(i,s)),o!=null?t?`${o} ${Wu(this,"filterSummaryInRangeValues",[n(),r()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},EY=class extends j2{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:i}=this.beans,s=t.column,a=r?.getDateFormatterFunction(s)?.(n??void 0);return i.formatValue(s,null,a)}),this.filterTypeKeys=SY}conditionToString(e,t,n,r,i){const{type:s}=e,o=Js(e.dateFrom),a=Js(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):p=>UP(p,l),d=()=>o!==null?c(o):"null",f=()=>a!==null?c(a):"null";if(t){const p=this.conditionForToolPanel(s,n,d,f,r,i);if(p!=null)return p}return n?`${d()}-${f()}`:o!=null?c(o):`${s}`}};function uPe(e,t){const n=t;return n<e?-1:n>e?1:0}var dPe=class extends xY{constructor(){super(CY,z2),this.filterType="date",this.FilterModelFormatterClass=EY}comparator(){return this.params.filterParams.comparator??uPe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},TY=class extends er{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new G2;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:i}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},hPe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},fPe=class extends TY{constructor(){super(hPe,[zE]),this.eReadOnlyText=Et,this.eDateWrapper=Et,this.FilterModelFormatterClass=EY,this.filterType="date",this.defaultOptions=z2}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Js(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Cr(this.eDateWrapper,e),Cr(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=Ao(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=S2(e,this.defaultDebounceMs);return At(this.gos,{onDateChanged:Yi(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new wY(e,t,r.column.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},pPe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},gPe=class extends er{constructor(){super(pPe,[zE]),this.eDateInput=Et,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Pf();const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},d=this.beans.dataTypeSvc,f=l??d?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(n?f?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&r&&Ye(85),o&&i&&Ye(86),s&&o){const[p,m]=[s,o].map(y=>y instanceof Date?y:Js(y));p&&m&&p.getTime()>m.getTime()&&Ye(87)}s?s instanceof Date?t.min=UP(s):t.min=s:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=UP(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Js(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Ao(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},W2=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function tk(e){const{allowedCharPattern:t}=e??{};return t??null}function nk(e){return e==null||isNaN(e)?null:e}function RY(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[nk(n),nk(r)].slice(0,ky(i,t))}var mPe=class extends U2{constructor(){super("numberFilter",RY,W2),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createEValue(){const e=tk(this.params),t=Yr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new Lf({allowedCharPattern:r}):new O2);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(nk(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Ic(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},_Y=class extends j2{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=SY}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),r,i);if(c!=null)return c}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},vPe=class extends xY{constructor(){super(RY,W2),this.filterType="number",this.FilterModelFormatterClass=_Y}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},AY=class extends Oe{constructor(e){super(),this.params=e,this.eInput=Et,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Lf(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function DY(e){const t=e?.trim();return t===""?e:t}function PY(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,ky(i,t))}var yPe={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},kY=class extends TY{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Et,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(yPe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=GE(e.filterParams),!i){const s=S2(e.filterParams,r),o=Yi(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();ko(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===Ae.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:i,lastType:s}=this;let o=r.getValue();if(i.filterParams.trimInput&&(o=DY(o),r.setValue(o,!0)),n){const a=i,l=a.model,c=this.convertValue(o),d=c==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:c};a.onModelChange(d,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},wPe=class extends Oe{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new O2),this.eTextInput=this.createManagedBean(new Lf),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},CPe=class extends kY{constructor(){super(...arguments),this.FilterModelFormatterClass=_Y,this.filterType="number",this.defaultOptions=W2}updateParams(e){tk(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=tk(e.filterParams),this.allowedCharPattern?this.createManagedBean(new AY({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new wPe)}convertValue(e){return e?Number(e):null}},$2=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],bPe=class extends U2{constructor(){super("textFilter",PY,$2),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,s,o)=>{if(i<o){let a=Ic(r.getValue());t&&this.params.trimInput&&(a=DY(a)??null,r.setValue(a,!0)),n.push(a)}}),n}createEValue(){const e=Yr({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new Lf);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},FY=class extends j2{constructor(){super(...arguments),this.filterTypeKeys=cPe}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e;if(t){const l=d=>()=>Wu(this,"filterSummaryTextQuote",[d]),c=this.conditionForToolPanel(a,n,l(s),l(o),r,i);if(c!=null)return c}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},xPe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},SPe=e=>e,EPe=e=>e==null?null:e.toString().toLowerCase(),TPe=class extends bY{constructor(){super(PY,$2),this.filterType="text",this.FilterModelFormatterClass=FY}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??xPe,this.formatter=t.textFormatter??(t.caseSensitive?SPe:EPe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(p=>this.formatter(p))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,filterParams:{textFormatter:d}}=this.params;if(n.type==="blank")return h1(t);if(n.type==="notBlank")return!h1(t);const f={api:o,colDef:a,column:l,context:c,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:d};return i.some(p=>this.matcher({...f,filterText:p}))}},RPe=class extends kY{constructor(){super(...arguments),this.FilterModelFormatterClass=FY,this.filterType="text",this.defaultOptions=$2}createFloatingFilterInputService(){return this.createManagedBean(new AY)}};function _Pe(e){return!!e.quickFilter?.isFilterPresent()}function APe(e){return e.quickFilter?.getText()}function DPe(e){e.quickFilter?.resetCache()}var PPe=class extends Oe{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?r?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ot(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Ye(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return ot(r)&&r.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=At(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return ot(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const r=this.getTextForColumn(n,e);ot(r)&&t.push(r)}),t.join(`
`)}},kPe={moduleName:"ClientSideRowModelFilter",version:dt,rowModels:["clientSide"],beans:[kDe]},q2={moduleName:"FilterCore",version:dt,beans:[ePe],apiFunctions:{isAnyFilterPresent:JDe,onFilterChanged:ZDe},css:[BDe],dependsOn:[kPe]},IY={moduleName:"FilterValue",version:dt,beans:[nPe]},qE={moduleName:"ColumnFilter",version:dt,beans:[QDe,tPe],dynamicBeans:{headerFilterCellCtrl:FDe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:VDe,getColumnFilterInstance:HDe,destroyFilter:GDe,setFilterModel:UDe,getFilterModel:zDe,getColumnFilterModel:jDe,setColumnFilterModel:WDe,showColumnFilter:$De,hideColumnFilter:qDe,getColumnFilterHandler:KDe,doFilterAction:YDe},dependsOn:[q2,$E,IY,ODe]},FPe={moduleName:"CustomFilter",version:dt,userComponents:{agReadOnlyFloatingFilter:iPe},dependsOn:[qE]},IPe={moduleName:"TextFilter",version:dt,dependsOn:[qE],userComponents:{agTextColumnFilter:{classImp:bPe,params:{useForm:!0}},agTextColumnFloatingFilter:RPe},dynamicBeans:{agTextColumnFilterHandler:TPe}},MPe={moduleName:"NumberFilter",version:dt,dependsOn:[qE],userComponents:{agNumberColumnFilter:{classImp:mPe,params:{useForm:!0}},agNumberColumnFloatingFilter:CPe},dynamicBeans:{agNumberColumnFilterHandler:vPe}},OPe={moduleName:"DateFilter",version:dt,dependsOn:[qE],userComponents:{agDateColumnFilter:{classImp:lPe,params:{useForm:!0}},agDateInput:gPe,agDateColumnFloatingFilter:fPe},dynamicBeans:{agDateColumnFilterHandler:dPe}},LPe={moduleName:"QuickFilterCore",version:dt,rowModels:["clientSide"],beans:[PPe],dependsOn:[q2,IY]},NPe={moduleName:"QuickFilter",version:dt,apiFunctions:{isQuickFilterPresent:_Pe,getQuickFilter:APe,resetQuickFilter:DPe},dependsOn:[LPe]},BPe={moduleName:"ExternalFilter",version:dt,dependsOn:[q2]},VPe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",EA=(e,t,n)=>{const{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},HPe=class extends Oe{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=SA(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!r&&i&&!a.headerComponent&&(r=$x(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:r};let c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=SA(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!r&&i&&!a?.headerGroupComponent&&(r=$x(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:r};a&&(l.getColDef=()=>a);const c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:i,editSvc:s}=r,{column:o,rowNode:a}=e;let l="cell";const c=()=>{const m=!!!s?.isEditing(e)&&EA(r,e,this.getLocaleTextFunc());if(m)return l="cellEditor",m;l="cell";const y=o.getColDef(),w=a.data;if(y.tooltipField&&ot(w))return Rv(w,y.tooltipField,o.isTooltipFieldContainsDots());const C=y.tooltipValueGetter;return C?C(At(i,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},d=SA(i);n||(d&&!e.isCellRenderer()?n=()=>{const p=!!s?.isEditing(e);if(!p&&EA(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const w=$x(()=>{const C=e.eGui;return C.children.length===0?C:C.querySelector(".ag-cell-value")});return!p&&w()}:n=()=>!s?.isEditing(e));const f={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(f,r)}setupFullWidthRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(i,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>EA(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),d=!!l&&l.size>0,f=!!c&&c.size>0;return d||f}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ot(t.tooltipField)||ot(t.tooltipValueGetter)||ot(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},MY={moduleName:"Tooltip",version:dt,beans:[HPe],dynamicBeans:{tooltipFeature:pDe},userComponents:{agTooltipComponent:uDe},dependsOn:[$E],css:[VPe]},jp=class{constructor(e){this.cellValueChanges=e}},TA=class extends jp{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},GPe=10,U6=class{constructor(e){this.actionStack=[],this.maxStackSize=e||GPe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},UPe=class extends Oe{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&iK(this.activeCellEdit,t),r=this.activeRowEdit!==null&&axe(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new U6(n),this.redoStack=new U6(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],i),s instanceof TA?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:s,columnId:o}=r,a={rowIndex:i,rowPinned:s},l=Kc(this.beans,a);l.displayed&&l.setDataValue(o,t(r),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=Kc(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,a=i.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:r};s.setFocusedCell({...c,forceBrowserFocus:!0}),o?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new jp(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new jp(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new jp(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new TA(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&md(n)?e=new TA(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new jp(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new jp(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},zPe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",jPe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},WPe=class extends UE{constructor(){super(jPe,[M2]),this.eEditor=Et}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=BE(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},KE=class extends UE{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Et}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;r?(this.focusAfterAttached=!0,i===Ae.BACKSPACE||i===Ae.DELETE?o="":i&&i.length===1?s?a=!1:o=i:(o=t.getStartValue(),i!==Ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:c}=l;(c===Ae.PAGE_UP||c===Ae.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Pf()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},$Pe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},qPe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return $Pe}getAgComponents(){return[LK]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:i,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const l=r instanceof Date?r:new Date(r);if(t<l){const c=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const c=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!ot(n)&&!ot(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Ao(e,this.includeTime??!1)}},KPe=class extends KE{constructor(){super(new qPe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},YPe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},XPe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return YPe}getAgComponents(){return[LK]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:s,getValidationErrors:o}=t;let a=[];if(r){const l=new Date(r),c=this.getLocaleTextFunc();if(i){const d=new Date(i);if(l<d){const f=d.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${f}`,[f]))}}if(s){const d=new Date(s);if(l>d){const f=d.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${f}`,[f]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!ot(n)&&!ot(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Ao(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Js(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ao(e??null,this.includeTime??!1)??void 0}},QPe=class extends KE{constructor(){super(new XPe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},JPe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},ZPe=class extends UE{constructor(){super(JPe,[L1e]),this.eEditor=Et}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,value:i,maxLength:s,cols:o,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(a||10);let l;n?(this.focusAfterAttached=!0,r===Ae.BACKSPACE||r===Ae.DELETE?l="":r&&r.length===1?l=r:(l=i.toString(),r!==Ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=i.toString()),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Ae.LEFT||t===Ae.UP||t===Ae.RIGHT||t===Ae.DOWN||e.shiftKey&&t===Ae.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!ot(r)&&!ot(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},eke={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},tke=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return eke}getAgComponents(){return[N1e]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),r?r({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===Ae.UP||e.key===Ae.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!ot(n)&&!ot(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){Pf()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},nke=class extends KE{constructor(){super(new tke(()=>this.getLocaleTextFunc()))}},rke={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},ike=class extends UE{constructor(){super(rke,[j1e]),this.eEditor=Et,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:o}=e;if(dr(i)){Ye(58);return}this.startedByEnter=o!=null?o===Ae.ENTER:!1;let a=!1;i.forEach(f=>{const p={value:f},m=n.formatValue(e.column,null,f),y=m!=null;p.text=y?m:f,t.addOption(p),a=a||s===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let i=[];if(t&&!t.includes(r)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},ske={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},oke=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return ske}getAgComponents(){return[zE]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof r=="string"&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!ot(n)&&!ot(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=ot(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},z6=class extends KE{constructor(){super(new oke(()=>this.getLocaleTextFunc()))}};function ake(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function lke(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function OY(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function LY(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function cke(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function uke(e){e.undoRedo?.undo("api")}function dke(e){e.undoRedo?.redo("api")}function hke(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((r,i)=>{const{rowIndex:s,rowPinned:o}=i;r.forEach((a,l)=>{const{editorValue:c,pendingValue:d,sourceValue:f,state:p}=a,m=rd(a);let y=c??d;y===ba&&(y=void 0);const w={newValue:y,oldValue:f,state:p,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(p==="editing"||p==="changed"&&m)&&n.push(w)})}),n}function fke(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(r=>{r.state==="editing"&&n.revertSingleCellEdit(r)}):Rh(e,!0),fg(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function pke(e,t){const n=lr(e,t);return e.editSvc?.isEditing(n)??!1}function gke(e,t){const{key:n,colKey:r,rowIndex:i,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(r);if(!l){Ye(12,{colKey:r});return}const d=Kc(e,{rowIndex:i,rowPinned:s||null});if(!d){Ye(290,{rowIndex:i,rowPinned:s});return}if(!l.isCellEditable(d))return;s==null&&LY(e,i),OY(e,r),o?.startEditing({rowNode:d,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function mke(e){return e.editSvc?.validateEdit()||null}function vke(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function yke(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var wke={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},Cke=class extends F2{constructor(e){super(wke),this.params=e}postConstruct(){cf(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{WP(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},f1=(e,t=!1)=>{if(e!==void 0)return rd(e)||t&&e.state==="editing"};function NY(e,t,n=!1){return f1(e.editModelSvc?.getEdit(t),n)}function BY(e,t){const{editModelSvc:n}=e,{column:r,rowNode:i}=t;if(e.gos.get("groupTotalRow")&&!i?.footer)return!1;for(const s of i?.allLeafChildren??[])if(f1(n?.getEdit({rowNode:s,column:r}))||f1(n?.getEdit({rowNode:s.pinnedSibling,column:r})))return!0}function VY(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return f1(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var bke=class extends Oe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=NY(n,e)||BY(n,e)||VY(n,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},xke=class extends Oe{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,i=t?.getEditRow(r);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){const o=Array.from(i.keys()).some(a=>{const l={rowNode:r,column:a};return NY(n,l,!0)||BY(n,l)||VY(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",r&&t),i.toggleCss("ag-row-batch-edit",r&&t&&n),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},Ske=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const i=new Set;return e.forEachNode(s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("top",s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("bottom",s=>r.has(s)&&i.add(s)),r.forEach(s=>{i.has(s)||n.removeEdits({rowNode:s})}),i},Eke=({editModelSvc:e},t,n)=>{t.forEach(r=>e?.getEditRow(r)?.forEach((i,s)=>!n.has(s)&&e.removeEdits({rowNode:r,column:s})))},Tke=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());Eke(e,Ske(e,r),t)},Rke=new Set(["undo","redo"]),HY={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},_ke=new Set(Object.keys(HY)),Ake=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),nx={cancel:!0,source:"api"},Dke={cancel:!1,source:"api"},kp={checkSiblings:!0},z0={force:!0,suppressFlash:!0},Pke=class extends Oe{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,nx),this.createStrategy(r)});const t=Tke(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||i?this.stopEditing(void 0,nx):this.isEditing()&&(this.isBatchEditing()?fg(e,this.model.getEditPositions()):this.stopEditing(void 0,Dke)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,nx)):(this.stopEditing(void 0,nx),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,i=e??n.get("editType")??"singleCell";if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,r)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return yxe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??kp)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:i="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=lr(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const a=this.shouldStartEditing?.(e,r,n,i);if(a===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&this.stopEditing(void 0,{source:i}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,r,i,s)}stopEditing(e,t){const{event:n,cancel:r,source:i="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(_ke.has(i))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:HY[i]});if(!(this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,kp))||!this.strategy)return!1;const c=lr(o,e);c&&(c.onEditorAttachedFuncs=[]);let d=a.getEditMap(!0),f=!1;const p=!r&&!!this.shouldStopEditing(e,n,i),m=r&&!!this.shouldCancelEditing(e,n,i);if(p||m){Rh(o,!0);const y=a.getEditMap();this.processEdits(y,r),this.strategy?.stop(r,n),this.bulkRefresh(void 0,d),d=y,f||(f=p)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const y=n.key,w=y===Ae.ENTER,C=y===Ae.ESCAPE,S=y===Ae.TAB;(w||S||C)&&(w||S?Rh(o,!0):C&&this.revertSingleCellEdit(c),this.isBatchEditing()?this.strategy?.cleanupEditors():fg(o,a.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,d,{suppressFlash:!0}),d=a.getEditMap())}else Rh(o,!0),d=a.getEditMap();return f&&e&&this.model.removeEdits(e),!s&&c&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,c.cellPosition),VP(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),m&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(d.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),f&&p&&this.dispatchBatchEvent("batchEditingStopped",d)),f}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?Ae.UP:Ae.DOWN;this.beans.navigation?.navigateToNextCell(null,r,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:r}=this,i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const a=e.get(o);for(const l of a.keys()){const c=a.get(l),d={rowNode:o,column:l},f=lr(r,d),p=rd(c),m=f?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!m&&p&&!i&&(this.setNodeDataValue(o,l,c.pendingValue)||s.push(d)),f?.refreshCell(z0)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,r){const{beans:i}=this,s=lr(i,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),r&&s?.refreshCell(z0),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(z0)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:i}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:r,gos:i}=this,{editModelSvc:s,rowModel:o}=r;li(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),n)}))}refCell({rowNode:e,column:t},n,r={}){const{beans:i,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const c=e.sibling;c&&a.add(c);let d=e.parent;for(;d;)d.sibling?.footer&&s.get("groupTotalRow")||!d.parent&&d.sibling&&s.get("grandTotalRow")?a.add(d.sibling):a.add(d),d=d.parent;o.forEach(f=>this.dispatchEditValuesChanged({rowNode:f,column:t},n)),o.forEach(f=>lr(i,{rowNode:f,column:t})?.refreshCell(r)),a.forEach(f=>lr(i,{rowNode:f,column:t})?.refreshCell(r))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const r=lr(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(r&&this.revertSingleCellEdit(r),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=lr(this.beans,e);n?.comp?.getCellEditor()&&(fg(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Wg(this.beans,e,{silent:!0}),df(this.beans),n?.refreshCell(z0),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){df(this.beans);const t=lr(this.beans,e);t&&(t.refreshCell(z0),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){let i;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof gg&&s&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const o=this.model.getEdit({rowNode:i,column:t});o&&(r=o)}const s=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return s===ba||!r?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){hxe(this,this.beans,e)}createPopupEditorWrapper(e){return new Cke(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!Ake.has(n))return;const{beans:r}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":"api";if(!n||Rke.has(n))return Jx(r,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return Jx(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return Jx(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){gxe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,kp))return;const{rowNode:r,column:i}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(r,kp),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,kp);if(o!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,r)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return At(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:r,rangeSvc:i,valueSvc:s}=this;Rh(r,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(c=>{if(i?.forEachRowInRange(c,d=>{const f=Kc(r,d);if(f===void 0)return;const p=o.get(f)??new Map;for(const m of c.columns)if(m&&this.isCellEditable({rowNode:f,column:m},"api")){const y=s.getValue(m,f,!0,"api");let w=s.parseValue(m,f??null,a,y);Number.isNaN(w)&&(w=null),p.set(m,{editorValue:void 0,pendingValue:w,sourceValue:y,state:"changed"})}p.size>0&&o.set(f,p)}),this.setEditMap(o),this.batch){this.cleanupEditors(),VP(r),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=lr(r,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new bke(e,t)}createRowStyleFeature(e,t){return new xke(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:i}=n,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:c,rowPinned:d,newValue:f,state:p})=>{const m=o?r.getCol(o):l?r.getCol(l):a;if(!m)return;const y=Kc(n,{rowIndex:c,rowPinned:d});if(!y)return;const w=i.getValue(m,y,!0,"api");if(!rd({pendingValue:f,sourceValue:w})&&p!=="editing")return;let C=s.get(y);C||(C=new Map,s.set(y,C)),f===void 0&&(f=ba),C.set(m,{editorValue:void 0,pendingValue:f,sourceValue:w,state:p??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=lr(this.beans,e);if(!t||!this.isEditing(t,kp))return;const n=this.model.getEdit(t);if(!n||!rd(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return lr(this.beans,e)}},GY=class extends Oe{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=lr(i,n));const{gos:o,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:d,rowPinned:f}=e,p={column:c,rowNode:Kc(i,{rowIndex:d,rowPinned:f})},m=o.get("invalidEditValueMode")==="block";if(m)return;const y=!m,w=!!a?.getCellValidationModel().hasCellValidation(p),C=y&&w;(n||l?r.stopEditing(void 0,{cancel:C,source:l&&y?"api":void 0,event:s}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(r.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){r.fail.push(s);return}r.pass.push(s)}),e)return n.forEach(s=>{s1(this.beans,s),this.model.stop(s)}),!0;const i=this.processValidationResults(r);return i.destroy.length>0&&i.destroy.forEach(s=>{s1(this.beans,s,{event:t}),this.model.stop(s)}),i.keep.length>0&&i.keep.forEach(s=>{const o=lr(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Rh(this.beans,!1);const n=this.model.getEditPositions(),r=[];e?n.forEach(i=>{!e||i.rowNode===e||r.push(i)}):n.forEach(i=>{r.push(i)}),fg(this.beans,r),VP(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,r,i=!1){const s=r instanceof KeyboardEvent&&!i&&r.key||void 0;pxe(this.beans,e,t,s,r,n)}dispatchCellEvent(e,t,n,r){const i=lr(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t){const n=C2(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,r="ui"){if(t instanceof KeyboardEvent&&(t.key===Ae.TAB||t.key===Ae.ENTER||t.key===Ae.F2||t.key===Ae.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:r==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===Ae.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===Ae.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((r,i)=>{r.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:i,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const r=n.at(-1),i=r.pendingValue===ba?void 0:r.pendingValue;this.start(r,new KeyboardEvent("keydown",{key:i}),"api");const s=lr(this.beans,r);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},kke=class extends GY{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(i=>super.isCellEditable({rowNode:e.rowNode,column:i},t))}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!C2(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",r){const{rowNode:i}=e;this.rowNode!==i&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:i},"rowEditingStarted"),this.startedRows.push(i);const s=this.beans.visibleCols.allCols,o=[];s.forEach(a=>{if(!a.isCellEditable(i))return;const l={rowNode:i,column:a};o.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=i,this.setupEditors(o,e,!0,t,r)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];return e||this.model.getEditMap().forEach((i,s)=>{if(!(!i||i.size===0)){for(const o of i.values())if(rd(o)){r.push(s);break}}}),df(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),r.forEach(i=>this.dispatchRowEvent({rowNode:i},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const r=lr(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),c=o.isCellEditable(),d=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const f=this.gos.get("suppressStartEditOnTab");return c&&!i?f?o.focusCell(!0,n):(o.comp?.getCellEditor()||Wg(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(c&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!d&&!i&&(this.cleanupEditors(o,!0),f?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{if(n!=="editing")return;const i=lr(this.beans,{rowNode:t,column:r});i&&!i.comp?.getCellEditor()&&Wg(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},Fke=class extends GY{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",r){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,r)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:s}=e,o=Kc(this.beans,{rowIndex:r,rowPinned:s}),a=BP(i),l=t.getCol(a),c=e.previousParams;if(c){const d=BP(c.column);if(c?.rowIndex===r&&d===a&&c?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,c=e.isCellEditable(),d=o.isCellEditable(),f=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;c&&!i&&this.setFocusOutOnEditor(e);const p=this.gos.get("suppressStartEditOnTab");return!f&&!i&&(super.cleanupEditors(o,!0),p?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),d&&!i?(o.focusCell(!1,n),p?o.focusCell(!0,n):o.comp?.getCellEditor()||(Wg(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(d&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},Md={moduleName:"EditCore",version:dt,beans:[ixe,Pke],apiFunctions:{getEditingCells:hke,getCellEditorInstances:fxe,startEditingCell:gke,stopEditing:fke,isEditing:pke,validateEdit:mke},dynamicBeans:{singleCell:Fke,fullRow:kke},dependsOn:[$E,MY],css:[zPe]},Ike={moduleName:"UndoRedoEdit",version:dt,beans:[UPe],apiFunctions:{undoCellEditing:uke,redoCellEditing:dke,getCurrentUndoSize:vke,getCurrentRedoSize:yke},dependsOn:[Md]},Mke={moduleName:"TextEditor",version:dt,userComponents:{agCellEditor:z6,agTextCellEditor:z6},dependsOn:[Md]},Oke={moduleName:"NumberEditor",version:dt,userComponents:{agNumberCellEditor:{classImp:nke}},dependsOn:[Md]},Lke={moduleName:"DateEditor",version:dt,userComponents:{agDateCellEditor:KPe,agDateStringCellEditor:QPe},dependsOn:[Md]},Nke={moduleName:"CheckboxEditor",version:dt,userComponents:{agCheckboxCellEditor:WPe},dependsOn:[Md]},Bke={moduleName:"SelectEditor",version:dt,userComponents:{agSelectCellEditor:ike},dependsOn:[Md]},Vke={moduleName:"LargeTextEditor",version:dt,userComponents:{agLargeTextCellEditor:ZPe},dependsOn:[Md]},Hke={moduleName:"CustomEditor",version:dt,dependsOn:[Md]},Gke=class extends Oe{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,hg(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),qCe(e))}createColumns(e,t){const n=()=>{e1(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,s=(this.columns?.treeDepth??-1)==r,o=this.generateSelectionCols();if($Ce(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,d=l?.balanceTreeForAutoCols(o,c)??[];this.columns={list:o,tree:d,treeDepth:c,map:{}},t(p=>{if(!p)return null;const m=p.filter(y=>!Id(y));return[...o,...m]})}updateColumns(e){const t=hg(e.source);this.columns?.list.forEach(n=>{const r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),Ba(this.beans,{state:[{...r,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>Vq(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Bh(e))return!1;const r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!dg(n),s=qx(n);return i||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(a,l,c,d){const f=c.isSelected(),p=d.isSelected();return f===p?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:Lq,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new If(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?dg(t):void 0,i=e&&typeof e!="string"?dg(e):void 0,s=r!==i,o=t&&typeof t!="string"?qx(t):void 0,a=e&&typeof e!="string"?qx(e):void 0,l=o!==a,c=YS(e),d=YS(t);(s||l||c!==d)&&this.beans.colModel.refreshAll(n)}destroy(){e1(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const r=e.length+t.length+n.length;if(r===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&Ca(l,i)};(this.beans.rowNumbersSvc?.getColumn(Nq)?2:1)===r&&s()}};function Uke(e,t){if(!t.nodes.every(o=>o.rowPinned&&!Yw(o)?(Ye(59),!1):o.id===void 0?(Ye(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function zke(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function jke(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function Wke(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function $ke(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function qke(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function Kke(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Yke(e){return e.selectionSvc?.getSelectedNodes()??[]}function Xke(e){return e.selectionSvc?.getSelectedRows()??[]}var Qke=class extends I1e{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=XS(e),this.groupSelectsDescendants=Ey(e),this.groupSelectsFiltered=JS(e)==="filteredDescendants",this.masterSelectsDetail=WH(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Ey(e),n=XS(e),r=JS(e)==="filteredDescendants";this.masterSelectsDetail=WH(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return r==null?0:(this.selectionCtx.selectAll=!1,"select"in r?(r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n)):this.setNodesSelected({nodes:[r.node],newValue:r.newValue,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s,keepDescendants:o=!1}){if(!Bh(this.gos)&&e)return Ye(132),0;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return Ye(130),0;let a=0;for(let l=0;l<r.length;l++){const c=r[l],d=Fp(c),f=this.groupSelectsFiltered&&d.group;if(d.rowPinned&&!Yw(d)){Ye(59);continue}if(d.id===void 0){Ye(60);continue}f||this.selectRowNode(d,e,i,s)&&(this.detailSelection.delete(d.id),a++),this.groupSelectsDescendants&&d.childrenAfterGroup?.length&&(a+=this.selectChildren(d,e,s))}return n||(r.length===1&&s==="api"&&this.selectionCtx.setRoot(Fp(r[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(Fp(r[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let r=0;return e.forEach(i=>{const s=Fp(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!li(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new Dy(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!Zke(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new ff(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!li(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=li(this.gos);let r=!1;const i=s=>{const o=this.selectRowNode(Fp(s),!1,void 0,e);r||(r=o)};if(t==="currentPage"||t==="filtered"){if(!n){Gn(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return UY(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(i);return}this.groupSelectsDescendants||n(i)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Bh(t)){Ye(132);return}if(SCe(t)&&!QS(t)){Ye(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const a=this.selectRowNode(Fp(o),!0,void 0,r);s||(s=a)}),n.selectAll=!0,li(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(r);s||(s=o)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Gn(103);return}const r=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!li(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!Bh(t))return;const r="selectableChanged",i=e!==void 0,s=li(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(i&&!l.group)return;if(s&&l.group){const d=l.childrenAfterGroup?.some(f=>f.selectable)??!1;this.setRowSelectable(l,d,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new Dy(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&s&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const r=Jke(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!QS(t)){Ye(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const o=n.getRowNode(s);o&&i.push(o)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Fp(e){return Yw(e)?e.pinnedSibling:e.footer?e.sibling:e}function Jke(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),UY(t,n)}function UY(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function Zke(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var eFe={moduleName:"SharedRowSelection",version:dt,beans:[Gke],apiFunctions:{setNodesSelected:Uke,selectAll:zke,deselectAll:jke,selectAllFiltered:Wke,deselectAllFiltered:$ke,selectAllOnCurrentPage:qke,deselectAllOnCurrentPage:Kke,getSelectedNodes:Yke,getSelectedRows:Xke}},tFe={moduleName:"RowSelection",version:dt,rowModels:["clientSide","infinite","viewport"],beans:[Qke],dependsOn:[eFe]};function nFe(e){e.expansionSvc?.expandAll(!0)}function rFe(e){e.expansionSvc?.expandAll(!1)}function iFe(e){const t=Ql(e),n=vY(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function sFe(e,t,n){const r=vY(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Gn(238);return}r.setRowCount(t,n);return}Gn(28);return}const i=WE(e);if(i){i.setRowCount(t,n);return}}function oFe(e){return Ff(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function aFe(e){return e.rowModel.isLastRowIndexKnown()}var lFe={moduleName:"CsrmSsrmSharedApi",version:dt,apiFunctions:{expandAll:nFe,collapseAll:rFe,onRowHeightChanged:iFe}},cFe={moduleName:"SsrmInfiniteSharedApi",version:dt,apiFunctions:{setRowCount:sFe,getCacheBlockState:oFe,isLastRowIndexKnown:aFe}},uFe=class extends Oe{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{if(!r){Gn(18),t||Gn(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?i.current?.api:(i.api||Gn(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Ye(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(p=>({colId:p.colId}));Ba(r,{state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));Ba(r,{state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));Ba(r,{state:f},"alignedGridChanged")}break;case"columnResized":{const d=e,f={};a.forEach(p=>{f[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),d.flexColumns?.forEach(p=>{f[p.getId()]&&delete f[p.getId()]}),i?.setColumnWidths(Object.values(f),!1,d.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",c)})}},dFe={moduleName:"AlignedGrids",version:dt,beans:[uFe],dependsOn:[KK]},hFe=class extends A1e{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},RA=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function fFe(e){if(dr(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,s=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.lastChild!==s&&(r.lastChild=s,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==n&&(r.childIndex=n,r.dispatchRowEvent("childIndexChanged"))}}function zY(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),fFe(e)}var pFe=class extends Oe{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),r=ot(n)&&n.length>0,i=r&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>yl(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,r,i,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,r,i,s,o){const{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:d,rowRenderer:f,showRowGroupCols:p}=e,m=a.get("groupMaintainOrder"),y=l.getCols().some(E=>E.isRowGroupActive()),w=l.isPivotMode(),C=a.getCallback("postSortRows");let S=!1;const R=E=>{const P=w&&E.leafGroup,M=m&&y&&!E.leafGroup&&!o;let A;if(M){const k=c?.columns?.[E.level+1]?.getSort()===null,I=E.childrenAfterAggFilter.slice(0);if(E.childrenAfterSort&&!k){const B={};E.childrenAfterSort.forEach((N,H)=>{B[N.id]=H}),I.sort((N,H)=>(B[N.id]??0)-(B[H.id]??0))}A=I}else!n||P?A=E.childrenAfterAggFilter.slice(0):r&&i?A=gFe(d,E,i,s,t):A=d.doFullSort(E.childrenAfterAggFilter,t);if(S||(S=E.childrenAfterSort?.[0]!==A[0]),E.childrenAfterSort=A,zY(E),C){const D={nodes:E.childrenAfterSort};C(D)}};if(s?.forEachChangedNodeDepthFirst(R),S&&this.gos.get("groupHideOpenParents")){const E=p?.getShowRowGroupCols();E?.length&&f.refreshCells({columns:E,force:!0})}}};function gFe(e,t,n,r,i){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const a=new Set,l=[],{updates:c,adds:d}=n;for(let p=0,m=s.length;p<m;++p){const y=s[p];c.has(y)||d.has(y)||r&&!r.canSkip(y)?l.push({currentPos:l.length,rowNode:y}):a.add(y.id)}const f=o.filter(p=>a.has(p.id)).map((p,m)=>({currentPos:m,rowNode:p}));return l.sort((p,m)=>e.compareRowNodes(i,p,m)),mFe(e,i,l,f)}function mFe(e,t,n,r){const i=[];let s=0,o=0;const a=n.length,l=r.length;for(;s<a&&o<l;){const c=n[s],d=r[o],f=e.compareRowNodes(t,c,d);let p;f<0?(p=c,++s):(p=d,++o),i.push(p.rowNode)}for(;s<a;)i.push(n[s++].rowNode);for(;o<l;)i.push(r[o++].rowNode);return i}var vFe=class extends Oe{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Yi(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new ff(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return Pq(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,r);for(let d=l;d<=c;d++){const f=this.getRow(d);if(f.rowHeightEstimated){const p=gd(this.beans,f);f.setRowHeight(p.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),r={step:"nothing",changedProps:n},i=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||i&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||i)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,Ye(1))),a&&(i||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))r.keepRenderedRows=!0,r.animate=!this.gos.get("suppressAnimationFrame"),r.changedRowNodes=new RA,o.setImmutableRowData(r,l);else{r.rowDataUpdated=!0,r.newData=!0;const{selectionSvc:d,pinnedRowModel:f}=this.beans;d?.reset("rowDataChanged"),f?.isManual()&&f.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(r.rowDataUpdated)r.step="group";else if(r.step==="nothing"){for(const{refreshProps:c,step:d}of this.orderedStages)if(e.some(f=>c.has(f))){r.step=d;break}}r.step!=="nothing"&&this.refreshModel(r)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let r=0;const i=new Set,s=Qi(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&i.add(l.id),l.rowHeight==null){const c=gd(e,l,s,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(r),l.setRowIndex(o),r+=l.rowHeight}return i}clearRowTopAndRowIndex(e,t){const n=e.active,r=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(s!==null&&(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,r=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+r}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,s=a=>{let l=i[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,i,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);for(i.footer&&(i=i.sibling);i.parent&&i.parent!==t;)i=i.parent;const s=t.childrenAfterSort?.findIndex(o=>o===i);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=ug(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=ug(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=ug(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Dy(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const r=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(e.changedRowNodes,r);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=Ey(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(n&&(o===t||o===e)&&(r=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){i.push(o);return}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,r=t.length-1;if(e<=0)return 0;if(Hn(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+r)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(r=a-1),s===n&&o===r))return a;s=n,o=r}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const o=r===this.rootNode;o||e(r,s++);const{footerSvc:a}=this.beans;if(r.hasChildren()&&!r.footer){const l=n(r);if(l){s=a?.addTotalRows(s,r,e,t,o,"top")??s;for(const c of l)s=this.depthFirstSearchRowNodes(e,t,n,c,s);return a?.addTotalRows(s,r,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),zY(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const r=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,r&&(r.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,yY(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(GP)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new RA;let r=!1;this.rowDataTransactionBatch?.forEach(i=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(i.rowDataTransaction,n);o&&(r=!0),t.push(s),i.callback&&e.push(i.callback.bind(null,s))}),this.commitTransactions(r,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new RA,{rowNodeTransaction:n,rowsInserted:r}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(r,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const r of n)r.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=ZS,this.rowsToDisplay=ZS}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function yFe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function wFe(e,t){const n=Ql(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function CFe(e){return Ql(e)?.isEmpty()??!0}function bFe(e,t){Ql(e)?.forEachLeafNode(t)}function xFe(e,t){Ql(e)?.forEachNodeAfterFilter(t)}function SFe(e,t){Ql(e)?.forEachNodeAfterFilterAndSort(t)}function EFe(e){if(e.rowAutoHeight?.active){Ye(3);return}Ql(e)?.resetRowHeights()}function TFe(e,t){return e.frameworkOverrides.wrapIncoming(()=>Ql(e)?.updateRowData(t))}function RFe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Ql(e)?.batchUpdateRowData(t,n))}function _Fe(e){e.frameworkOverrides.wrapIncoming(()=>Ql(e)?.flushAsyncTransactions())}function AFe(e){return e.selectionSvc?.getBestCostNodeSelection()}var DFe={moduleName:"ClientSideRowModel",version:dt,rowModels:["clientSide"],beans:[hFe,vFe,pFe],dependsOn:[fY]},PFe={moduleName:"ClientSideRowModelApi",version:dt,apiFunctions:{onGroupExpandedOrCollapsed:yFe,refreshClientSideRowModel:wFe,isRowDataEmpty:CFe,forEachLeafNode:bFe,forEachNodeAfterFilter:xFe,forEachNodeAfterFilterAndSort:SFe,resetRowHeights:EFe,applyTransaction:TFe,applyTransactionAsync:RFe,flushAsyncTransactions:_Fe,getBestCostNodeSelection:AFe},dependsOn:[lFe]},kFe=class extends Oe{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,r){const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,d=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&bCe(this.gos,r);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!l&&!c||i(At(this.gos,{node:r})))return;const m=e.onNewBodyRow(r);if(n.forEach((y,w)=>{m.onColumn(y,w,r)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(At(this.gos,{node:r}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new Kq,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,i=li(this.gos),s=Ff(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return i?r.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a),n;if(e.onlySelectedAllPages||o){const c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?r.forEachNode(a):i||s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(r,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),c=p=>Id(p)?!1:!nd(p)||r;if(i&&i.length)return s.getColsForKeys(i).filter(c);const d=o.get("treeData");let f=[];return t&&!l?f=s.getCols():f=a.allCols,f=f.filter(p=>c(p)&&(n&&!d?!v2(p):!0)),f}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),e.length>0&&Kr(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;n?a=n(At(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,d,f,p)=>{let m=Hn(c);return d.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[f],c.push(m)):m&&m[1]==null&&(m[1]=f-1),f===p.length-1&&m&&m[1]==null&&(m[1]=f),c},[]);r.onColumn(o,a||"",i++,o.getLeafColumns().length-1,l)})}},FFe={moduleName:"SharedExport",version:dt,beans:[kFe]},j6=`\r
`,IFe=class extends vDe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,j6),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Ye(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=j6),this.isFirstLine=!1}},MFe=class extends mDe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Ye(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(At(this.gos,{})):t.fileName;yDe(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:f}=e;return new IFe({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:f||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function OFe(e,t){return e.csvCreator?.getDataAsCsv(t)}function LFe(e,t){e.csvCreator?.exportDataAsCsv(t)}var NFe={moduleName:"CsvExport",version:dt,beans:[MFe],apiFunctions:{getDataAsCsv:OFe,exportDataAsCsv:LFe},dependsOn:[FFe]},BFe=class extends Oe{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const o=n+s,a=new ff(r);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){ot(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(dr(this.params.datasource.getRows)){Ye(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:At(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new ff(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},VFe=2,HFe=class extends Oe{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new BFe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(lf(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=VFe-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,c=r?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,ot(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(i&&r+1!==l.id){o=!0;return}r=l.id,l.forEachNode(c=>{const d=c===e||c===t;(i||d)&&n.push(c),d&&(i=!i)},s,this.rowCount)}}),o||i?[]:n}},GFe=class extends Oe{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Vh(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Vh(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!wy(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;zg(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Vh(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new HFe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function UFe(e){WE(e)?.refreshCache()}function zFe(e){WE(e)?.purgeCache()}function jFe(e){return WE(e)?.getRowCount()}var WFe=class extends Oe{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=xCe(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Yi(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ca(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){lf(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){lf(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},$Fe={moduleName:"InfiniteRowModelCore",version:dt,rowModels:["infinite"],beans:[GFe,WFe]},qFe={moduleName:"InfiniteRowModel",version:dt,apiFunctions:{refreshInfiniteCache:UFe,purgeInfiniteCache:zFe,getInfiniteRowCount:jFe},dependsOn:[$Fe,cFe]},KFe="",YFe="",XFe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},QFe=class extends er{constructor(){super(XFe),this.eValue=Et,this.eDelta=Et,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=ot(r)?r:n,s=t>=0,o=this.eDelta;s?o.textContent=KFe+i:o.textContent=YFe+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ko(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:o}=this;if(n===s||(ot(r)?i.textContent=r:ot(n)?i.textContent=n:ko(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const c=a-l;this.showDelta(e,c)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},JFe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",ZFe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},eIe=class extends er{constructor(){super(ZFe),this.eCurrent=Et,this.refreshCount=0,this.registerCSS(JFe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,r=Yr({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(dr(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return ot(e.valueFormatted)?r.textContent=e.valueFormatted:ot(e.value)?r.textContent=n:ko(r),!0}},tIe=class extends Oe{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),o=s+n,a=s+n+r,l={phase:"flash",flashEndTime:o,fadeEndTime:a};i.set(e,l);const c=`ag-cell-${t}`,d=`${c}-animation`,{comp:f,eGui:{style:p}}=e;f.toggleCss(c,!0),f.toggleCss(d,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],i=`ag-cell-${n}`,s=`${i}-animation`;for(const[o,a]of r){if(!o.isAlive()||!o.comp){r.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:d}=a,f=l==="flash"?c:d;if(!(e+15>=f)){t=Math.min(f,t??1/0);continue}const{comp:m,eGui:{style:y}}=o;switch(l){case"flash":m.toggleCss(i,!1),m.toggleCss(s,!0),y.transition=`background-color ${d-c}ms`,y.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),a.phase="fade";break;case"fade":m.toggleCss(i,!1),m.toggleCss(s,!1),y.removeProperty("transition"),y.removeProperty("transition-delay"),r.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=sxe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function nIe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>n.flashCell(r,t))})}var rIe={moduleName:"HighlightChanges",version:dt,beans:[tIe],userComponents:{agAnimateShowChangeCellRenderer:QFe,agAnimateSlideCellRenderer:eIe},apiFunctions:{flashCells:nIe}};function iIe(e){return e.stateSvc?.getState()??{}}function sIe(e,t,n){return e.stateSvc?.setState(t,n)}function W6(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=oIe(e)}return e.version=dt,e}function oIe(e){return e.cellSelection=aIe(e,"rangeSelection"),e}function aIe(e,t){if(e&&typeof e=="object")return e[t]}var lIe=class extends Oe{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Yi(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Yi(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Yi(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=li(this.gos);const e=W6(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[r,i,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(r(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{i?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=W6(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",i=t?new Set(t):void 0;this.setGridReadyState(n,r,i),this.setColumnsInitialisedState(n,r,!1,i),this.setRowCountState(n,r,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,i),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:i,rowSelection:s,pagination:o}=e,a=(c,d)=>!n?.has(c)&&(d||t==="api");a("filter",r)&&this.setFilterState(r),a("rowGroupExpansion",i)&&this.setRowGroupExpansionState(i,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},r=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:r,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:i,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(f,p)=>!n?.has(f)&&(p||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",r)&&this.setScrollState(r),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();c("rangeSelection",d),c("cellSelection",d),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const r=this.getRangeSelectionState();t("rangeSelection",r),t("cellSelection",r)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return oDe(n1(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:i,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:d,columnOrder:f}=e,p=(B,N)=>!r?.has(B)&&(N||t==="api"),m={},y=B=>{let N=m[B];return N||(N={colId:B},m[B]=N,N)},w={},C=p("sort",i);C&&i?.sortModel.forEach(({colId:B,sort:N},H)=>{const G=y(B);G.sort=N,G.sortIndex=H}),(C||!n)&&(w.sort=null,w.sortIndex=null);const S=p("rowGroup",s);S&&s?.groupColIds.forEach((B,N)=>{const H=y(B);H.rowGroup=!0,H.rowGroupIndex=N}),(S||!n)&&(w.rowGroup=null,w.rowGroupIndex=null);const R=p("aggregation",o);R&&o?.aggregationModel.forEach(({colId:B,aggFunc:N})=>{y(B).aggFunc=N}),(R||!n)&&(w.aggFunc=null);const E=p("pivot",a);E&&(a?.pivotColIds.forEach((B,N)=>{const H=y(B);H.pivot=!0,H.pivotIndex=N}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(E||!n)&&(w.pivot=null,w.pivotIndex=null);const P=p("columnPinning",l);P&&(l?.leftColIds.forEach(B=>{y(B).pinned="left"}),l?.rightColIds.forEach(B=>{y(B).pinned="right"})),(P||!n)&&(w.pinned=null);const M=p("columnVisibility",c);M&&c?.hiddenColIds.forEach(B=>{y(B).hide=!0}),(M||!n)&&(w.hide=null);const A=p("columnSizing",d);A&&d?.columnSizingModel.forEach(({colId:B,flex:N,width:H})=>{const G=y(B);G.flex=N??null,G.width=H}),(A||!n)&&(w.flex=null);const D=f?.orderedColIds,k=!!D?.length&&!r?.has("columnOrder"),I=k?D.map(B=>y(B)):Object.values(m);I.length&&(this.columnStates=I,Ba(this.beans,{state:I,applyOrder:k,defaultState:w},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:o}=i;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);Ba(i,{state:a,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return aDe(t)}setColumnGroupState(e,t,n){const r=this.beans.colGroupSvc;if(!r||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),o=r.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});i.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),r.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:r,startRow:i,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:r,startRow:i,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!md(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const d=r.getCol(c);d&&a.push(d)}),!a.length)return;let l=r.getCol(o.startColId);if(!l){const c=i.allCols,d=new Set(a);l=c.find(f=>d.has(f))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:i,page:s}=e??{page:0,pageSize:r.get("paginationPageSize")},o=t==="gridInitializing";i&&!r.get("paginationAutoPageSize")&&n.setPageSize(i,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:r,id:i})=>{r&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const r=e?.expandedRowGroupIds??[];let i;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of r)o.delete(a);i=Array.from(o)}}n.expandRows(r,i)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];wy(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),wy(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},cIe={moduleName:"GridState",version:dt,beans:[lIe],apiFunctions:{getState:iIe,setState:sIe}};function uIe(e){return e.rowModel.isLastRowIndexKnown()}function dIe(e){return e.pagination?.getPageSize()??100}function hIe(e){return e.pagination?.getCurrentPage()??0}function fIe(e){return e.pagination?.getTotalPages()??1}function pIe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function gIe(e){e.pagination?.goToNextPage()}function mIe(e){e.pagination?.goToPreviousPage()}function vIe(e){e.pagination?.goToFirstPage()}function yIe(e){e.pagination?.goToLastPage()}function wIe(e,t){e.pagination?.goToPage(t)}var CIe=class extends Oe{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(Vh(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?Yi(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},j0="paginationPageSizeSelector",bIe={tag:"span",cls:"ag-paging-page-size"},xIe=class extends er{constructor(){super(bIe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(j0,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){ko(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(j0)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(j0)!==!0;Ye(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||Ye(95,{paginationPageSizeOption:t,paginationPageSizeSelector:j0}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Mf(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new L2).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(j0);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},SIe={selector:"AG-PAGE-SIZE-SELECTOR",component:xIe},EIe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",TIe=class extends $1e{constructor(){super(),this.btFirst=Et,this.btPrevious=Et,this.btNext=Et,this.btLast=Et,this.lbRecordCount=Et,this.lbFirstRowOnPage=Et,this.lbLastRowOnPage=Et,this.lbCurrent=Et,this.lbTotal=Et,this.pageSizeComp=Et,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(EIe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[SIe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",ca(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",ca(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",ca(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",ca(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):Axe(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===Ae.ENTER||r.key===Ae.SPACE)&&(r.preventDefault(),n())}})}),_xe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):gDe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Wwe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>r&&(a=r));const l=o+s-1,c=!e&&n<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let f;const p=this.getLocaleTextFunc();c?f=p("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const y=t>0?i+1:0,w=this.formatNumber(y);this.lbCurrent.textContent=w;let C,S;if(e)C=this.formatNumber(t),S=this.formatNumber(r);else{const R=p("more","more");C=R,S=R}this.lbTotal.textContent=C,this.lbRecordCount.textContent=S,this.announceAriaStatus(d,f,S,w,C)}announceAriaStatus(e,t,n,r,i){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,d=`${o} ${r} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnounce?.announceValue(d,"paginationPage"))}},RIe={selector:"AG-PAGINATION",component:TIe},_Ie=class extends Oe{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return RIe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ot(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ot(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ot(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ot(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let o=n*(i+1)-1;if(o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},AIe={moduleName:"Pagination",version:dt,beans:[_Ie,CIe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:uIe,paginationGetPageSize:dIe,paginationGetCurrentPage:hIe,paginationGetTotalPages:fIe,paginationGetRowCount:pIe,paginationGoToNextPage:gIe,paginationGoToPreviousPage:mIe,paginationGoToFirstPage:vIe,paginationGoToLastPage:yIe,paginationGoToPage:wIe},dependsOn:[$E]};function DIe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function jY(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&jY(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function PIe(e,t){return e.rowModel.getRowNode(t)}function kIe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function FIe(e){return e.rowRenderer.getRenderedNodes()}function IIe(e,t,n){e.rowModel.forEachNode(t,n)}function MIe(e){return e.rowRenderer.firstRenderedRow}function OIe(e){return e.rowRenderer.lastRenderedRow}function LIe(e,t){return e.rowModel.getRow(t)}function NIe(e){return e.rowModel.getRowCount()}var BIe={moduleName:"RowApi",version:dt,apiFunctions:{redrawRows:DIe,setRowNodeExpanded:jY,getRowNode:PIe,addRenderedRowListener:kIe,getRenderedNodes:FIe,forEachNode:IIe,getFirstDisplayedRowIndex:MIe,getLastDisplayedRowIndex:OIe,getDisplayedRowAtIndex:LIe,getDisplayedRowCount:NIe}},VIe={moduleName:"ScrollApi",version:dt,apiFunctions:{getVerticalPixelRange:ake,getHorizontalPixelRange:lke,ensureColumnVisible:OY,ensureIndexVisible:LY,ensureNodeVisible:cke}};function HIe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function GIe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function UIe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function zIe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function jIe(e){e.animationFrameSvc?.flushAllFrames()}function WIe(e){return{rowHeight:Vh(e),headerHeight:Qw(e)}}function $Ie(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(Ty(o))}),t.columns?.length)return n;const r=[],i=JP(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(i&&!ZP(s.rowNode,i)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(Ty(l))}}),[...r,...n]}var qIe={moduleName:"RenderApi",version:dt,apiFunctions:{setGridAriaProperty:HIe,refreshCells:GIe,refreshHeader:UIe,isAnimationFrameQueueEmpty:zIe,flushAllAnimationFrames:jIe,getSizesForCurrentTheme:WIe,getCellRendererInstances:$Ie}};function KIe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function WY({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function YIe(e,t){t&&typeof t=="object"?WY(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var XIe=class extends Oe{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:c,renderStatus:d,colModel:f,autoWidthCalc:p,visibleCols:m}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&d&&!d.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const y=[];let w=-1;const C=Object.fromEntries(a.map(({colId:E,maxWidth:P,minWidth:M})=>[E,{maxWidth:P,minWidth:M}])),S=n??this.gos.get("skipHeaderOnAutoSize"),R=r??S;for(;w!==0;){w=0;const E=[];t.forEach(P=>{if(!P||WCe(P))return;const M=f.getCol(P);if(!M||y.indexOf(M)>=0)return;const A=p.getPreferredWidthForColumn(M,S);if(A>0){const D=C[M.colId]??{};D.minWidth??(D.minWidth=o),D.maxWidth??(D.maxWidth=s);const k=QIe(M,A,D);M.setActualWidth(k,l),y.push(M),w++}E.push(M)}),E.length&&m.refresh(l)}R||this.autoSizeColumnGroupsByColumns(t,l,i),jg(this.eventSvc,y,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set;r.getColsForKeys(e).forEach(c=>{let d=c.getParent();for(;d&&d!=n;)d.isPadding()||s.add(d),d=d.getParent()});let a;const l=[];for(const c of s){for(const d of i.getHeaderRowContainerCtrls())if(a=d.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new vh(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.removeEventListener("doubleTap",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:r}=this.beans,i=n.getGridBodyCtrl(),o=i.isVerticalScrollShowing()?r.getScrollbarWidth():0,l=xy(i.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Ye(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&r?.columnLimits?.forEach(({key:m,...y})=>{i[typeof m=="string"?m:m.getColId()]=y});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===bc(s)&&s.every(y=>{if(y.colDef.suppressSizeToFit)return!0;const w=i?.[y.getId()],C=w?.minWidth??r?.defaultMinWidth,S=w?.maxWidth??r?.defaultMaxWidth,R=y.getActualWidth();return(C==null||R>=C)&&(S==null||R<=S)}))return;const a=[],l=[];s.forEach(m=>{m.getColDef().suppressSizeToFit===!0?l.push(m):a.push(m)});const c=a.slice(0);let d=!1;const f=m=>{Ca(a,m),l.push(m)};for(a.forEach(m=>{m.resetActualWidth(t);const y=i?.[m.getId()],w=y?.minWidth??r?.defaultMinWidth,C=y?.maxWidth??r?.defaultMaxWidth,S=m.getActualWidth();typeof w=="number"&&S<w?m.setActualWidth(w,t,!0):typeof C=="number"&&S>C&&m.setActualWidth(C,t,!0)});!d;){d=!0;const m=e-bc(l);if(m<=0)a.forEach(y=>{const w=i?.[y.getId()]?.minWidth??r?.defaultMinWidth;if(typeof w=="number"){y.setActualWidth(w,t,!0);return}y.setActualWidth(y.minWidth,t)});else{const y=m/bc(a);let w=m;for(let C=a.length-1;C>=0;C--){const S=a[C],R=i?.[S.getId()],E=R?.minWidth??r?.defaultMinWidth,P=R?.maxWidth??r?.defaultMaxWidth,M=S.getMinWidth(),A=S.getMaxWidth(),D=typeof E=="number"&&E>M?E:M,k=typeof P=="number"&&P<A?P:A;let I=Math.round(S.getActualWidth()*y);I<D?(I=D,f(S),d=!1):I>k?(I=k,f(S),d=!1):C===0&&(I=w),S.setActualWidth(I,t,!0),w-=I}}}c.forEach(m=>{m.fireColumnWidthChangedEvent(t)});const p=this.beans.visibleCols;p.setLeftValues(t),p.updateBodyWidths(),!n&&jg(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function QIe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}var JIe={moduleName:"ColumnAutoSize",version:dt,beans:[XIe],apiFunctions:{sizeColumnsToFit:KIe,autoSizeColumns:WY,autoSizeAllColumns:YIe},dependsOn:[qK]},ZIe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function e2e(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function t2e(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function n2e(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function r2e(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function i2e(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var s2e={moduleName:"PinnedRow",version:dt,beans:[R1e],css:[ZIe],apiFunctions:{getPinnedTopRowCount:e2e,getPinnedBottomRowCount:t2e,getPinnedTopRow:n2e,getPinnedBottomRow:r2e,forEachPinnedRow:i2e},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},o2e=class extends gg{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,o){this.eWrapper=n,super.setComp(e,t,n,r,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&tq(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){Ywe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(HE(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},a2e=class extends u1{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new o2e(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},l2e=class extends Oe{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,r=this[n],i=r.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const c of s)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(d,f)=>{if(o.has(f.firstNode))return;const p=r.get(f.firstNode);if(p){o.set(f.firstNode,p),r.delete(f.firstNode);return}a=!0;const m=new a2e(f.firstNode,this.beans,!1,!1,!1);o.set(f.firstNode,m)});this[n]=o;const l=o.size===i;if(!(!a&&l)){for(const c of r.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const r=`${$Y(e.rowPinned)}Ctrls`,i=this[r].get(n.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},$Y=e=>e??"center",c2e=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},u2e=class extends Oe{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,d=n.getCallback("isFullWidthRow"),f=a.equals,p=a.spanRows,m=typeof p=="function";let y=null,w=null,C;const S=(E,P)=>{y=E,w=null,C=P},R=E=>{const P=!E.isExpandable()&&!E.group&&!E.detail&&(d?!d({rowNode:E}):!0);if(E.rowIndex==null||!P){S(null,null);return}if(y==null||E.level!==y.level||E.footer||w&&E.rowIndex-1!==w?.getLastNode().rowIndex){S(E,s.getValue(t,E));return}const M=s.getValue(t,E);if(m){const A=At(n,{valueA:C,nodeA:y,valueB:M,nodeB:E,column:t,colDef:a});if(!p(A)){S(E,M);return}}else if(f?!f(C,M):C!==M){S(E,M);return}if(!w){const A=l?.get(y);A?.firstNode===y?(A.reset(),w=A):w=new c2e(t,y),c.set(y,w)}w.addSpannedNode(E),c.set(E,w)};switch(e){case"center":i.forEachDisplayedNode?.(E=>{(!o||o.isRowInPage(E.rowIndex))&&R(E)});break;case"top":r?.forEachPinnedRow("top",R);break;case"bottom":r?.forEachPinnedRow("bottom",R);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${$Y(e.rowPinned)}ValueNodeMap`].get(e)}},d2e=class extends Oe{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Yi(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Yi(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new u2e(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(i);break;case"bottom":o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},h2e={moduleName:"CellSpan",version:dt,beans:[d2e,l2e]},f2e=class extends Oe{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);_2(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i,i.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return At(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},p2e=class extends Oe{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){_2(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new f2e(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},g2e={moduleName:"CellStyle",version:dt,beans:[p2e]},m2e={moduleName:"RowStyle",version:dt,beans:[wSe]};function v2e(e,t){return!!e.colHover?.isHovered(t)}var y2e=class extends Oe{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:i,element:s,columns:o}=this,a=r.colHover;n??!!i.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},w2e="ag-column-hover",C2e=class extends Oe{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(w2e,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new y2e(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},b2e={moduleName:"ColumnHover",version:dt,beans:[C2e],apiFunctions:{isColumnHovered:v2e}},x2e=class extends Oe{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,r=!nS.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addEventListener(e,n,r)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(n);i||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{nS.has(s)&&t(s,o)},r=(s,o)=>{nS.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){const{syncListener:o,asyncListener:a}=r.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function S2e(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function E2e(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function T2e(e,t){e.apiEventSvc?.addGlobalListener(t)}function R2e(e,t){e.apiEventSvc?.removeGlobalListener(t)}var _2e={moduleName:"EventApi",version:dt,apiFunctions:{addEventListener:S2e,addGlobalListener:T2e,removeEventListener:E2e,removeGlobalListener:R2e},beans:[x2e]},A2e={moduleName:"Locale",version:dt,beans:[sDe]},D2e=class extends Oe{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Yi(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let c=gd(this.beans,a).height;for(const d of i){let f=l?.[d.getColId()];const p=n?.getCellSpan(d,a);if(p){if(p.getLastNode()!==a)continue;if(f=n?.getCellSpan(d,a)?.getLastNodeAutoHeight(),!f)return}if(f==null){if(this.colSpanSkipCell(d,a))continue;return}c=Math.max(f,c)}c!==a.rowHeight&&(a.setRowHeight(c),s=!0)};r?.forEachPinnedRow?.("top",o),r?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,a=d=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:p,borderBottomWidth:m,borderTopWidth:y}=kf(r),w=f+p+m+y,S=t.offsetHeight+w;if(d<5){const R=Di(o),E=!R||!R.contains(t),P=S==0;if(E||P){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(i,S,s)},l=()=>a(0);l();const c=eu(o,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const i=n.__autoHeights[r.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},P2e={moduleName:"RowAutoHeight",version:dt,beans:[D2e]},k2e={moduleName:"AllCommunity",version:dt,dependsOn:[DFe,NFe,qFe,PDe,Mke,Oke,Lke,Nke,Bke,Vke,Hke,Ike,IPe,MPe,OPe,FPe,NPe,BPe,cIe,dFe,AIe,KK,BIe,VIe,qIe,JIe,REe,s2e,tFe,GAe,g2e,b2e,m2e,_2e,jAe,rIe,MY,A2e,P2e,TEe,PFe,h2e]},gs=ue.createContext({}),qY=ue.createContext("default"),Jw=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),$6(r,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),r&&$6(r,void 0))}},$6=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},oa=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),ua=class KY{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new KY;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Cm=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},rk=ue.version?.split(".")[0],YY=rk==="16"||rk==="17";function F2e(){return rk==="19"}var rS=!1;function I2e(e){return rS||setTimeout(()=>rS=!1,0),rS=!0,e()}var Fy=(e,t)=>{!YY&&e&&!rS?qu.flushSync(t):t()},M2e=e=>{YY?e():ue.startTransition(e)};function O2e(e,t,n){return ue.useSyncExternalStore?ue.useSyncExternalStore(e,t):n}function p1(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;s.has(c)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var XY=T.forwardRef((e,t)=>{const{registry:n,context:r}=T.useContext(gs),i=T.useRef(null),s=T.useRef(null),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),c=T.useRef(),[d,f]=T.useState(),[p,m]=T.useState(),[y,w]=T.useState(),[C,S]=T.useState(()=>new ua),[R,E]=T.useState(()=>new ua("ag-hidden")),[P,M]=T.useState(()=>new ua("ag-hidden")),[A,D]=T.useState(()=>new ua("ag-invisible"));T.useImperativeHandle(t,()=>({refresh(){return!1}})),T.useLayoutEffect(()=>Jw(d,r,s.current),[d]);const k=T.useCallback(se=>{if(i.current=se,!se){c.current=r.destroyBean(c.current);return}const fe={setInnerRenderer:(L,ae)=>{f(L),w(ae)},setChildCount:L=>m(L),toggleCss:(L,ae)=>S(W=>W.setClass(L,ae)),setContractedDisplayed:L=>M(ae=>ae.setClass("ag-hidden",!L)),setExpandedDisplayed:L=>E(ae=>ae.setClass("ag-hidden",!L)),setCheckboxVisible:L=>D(ae=>ae.setClass("ag-invisible",!L)),setCheckboxSpacing:L=>D(ae=>ae.setClass("ag-group-checkbox-spacing",L))},ne=n.createDynamicBean("groupCellRendererCtrl",!0);ne&&(c.current=r.createBean(ne),c.current.init(fe,se,o.current,a.current,l.current,XY,e))},[]),I=T.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),B=T.useMemo(()=>`ag-group-expanded ${R.toString()}`,[R]),N=T.useMemo(()=>`ag-group-contracted ${P.toString()}`,[P]),H=T.useMemo(()=>`ag-group-checkbox ${A.toString()}`,[A]),G=d?.componentFromFramework,oe=G?d.componentClass:void 0,le=d==null&&y!=null,Z=vm(y);return ue.createElement("span",{className:I,ref:k,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},ue.createElement("span",{className:B,ref:a}),ue.createElement("span",{className:N,ref:l}),ue.createElement("span",{className:H,ref:o}),ue.createElement("span",{className:"ag-group-value",ref:s},le?Z:G?ue.createElement(oe,{...d.params}):null),ue.createElement("span",{className:"ag-group-child-count"},p))}),q6=XY,K2=T.createContext({setMethods:()=>{}}),L2e=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...o},a]=T.useState(t);return T.useEffect(()=>{n(l=>a(l))},[]),ue.createElement(K2.Provider,{value:{setMethods:i}},ue.createElement(r,{key:s,...o}))},N2e=T.memo(L2e),B2e=0;function K6(){return`agPortalKey_${++B2e}`}var QY=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=K6(),this.portalKey=K6(),this.instanceCreated=this.isStatelessComponent()?vn.resolve(!1):new vn(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new vn(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=sm.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return T.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function YE(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var Io=class extends QY{constructor(){super(...arguments),this.awaitUpdateCallback=new vn(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=N2e}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new vn(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,YE(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new vn(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},V2e=class extends Io{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},H2e=class extends Io{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},G2e=class extends Io{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},U2e=class extends Io{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new vn(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new vn(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},z2e=class extends Io{constructor(){super(...arguments),this.awaitSetMethodsCallback=new vn(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function JY(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||vn.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var j2e=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){YE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),JY(this.floatingFilterParams,e)}},W2e=class extends Io{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),JY(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},$2e=class extends Io{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},q2e=class extends Io{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},K2e=class extends Io{refresh(e){this.sourceParams=e,this.refreshProps()}},Y2e=class extends Io{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},X2e=class extends Io{refresh(e){this.sourceParams=e,this.refreshProps()}},Q2e=class extends Io{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},J2e=class extends Io{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Y2(){Ye(231)}var Z2e=1e3,eMe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||Z2e}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Fy(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},tMe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=T.useContext(gs),r=t?e.column.getColId():void 0,[i,s]=T.useState(),[o,a]=T.useState(),l=T.useRef(),c=T.useRef(null),d=T.useRef(null),f=T.useRef(null),p=T.useRef(),m=T.useRef();t&&!m.current&&(m.current=new Kw(()=>c.current));const y=T.useCallback(R=>{if(c.current=R,l.current=R?n.createBean(new ym):n.destroyBean(l.current),!R||!e.isAlive())return;const E=()=>{const M=e.getSelectAllGui();M&&(d.current?.insertAdjacentElement("afterend",M),l.current.addDestroyFunc(()=>M.remove()))},P={setWidth:M=>{c.current&&(c.current.style.width=M)},toggleCss:(M,A)=>m.current.toggleCss(M,A),setUserStyles:M=>a(M),setAriaSort:M=>{c.current&&(M?Jwe(c.current,M):Zwe(c.current))},setUserCompDetails:M=>s(M),getUserCompInstance:()=>p.current||void 0,refreshSelectAllGui:E,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(P,R,d.current,f.current,l.current),E()},[]);T.useLayoutEffect(()=>Jw(i,n,f.current,p),[i]),T.useEffect(()=>{e.setDragSource(c.current)},[i]);const w=T.useMemo(()=>!!(i?.componentFromFramework&&Cm(i.componentClass)),[i]),C=i?.componentFromFramework,S=i?.componentClass;return ue.createElement("div",{ref:y,style:o,className:"ag-header-cell","col-id":r,role:"columnheader"},ue.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),ue.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},C?w?ue.createElement(S,{...i.params}):ue.createElement(S,{...i.params,ref:p}):null))},nMe=T.memo(tMe),rMe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){YE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},iMe=({ctrl:e})=>{const{context:t,gos:n}=T.useContext(gs),[r,i]=T.useState(),[s,o]=T.useState(()=>new ua("ag-header-cell","ag-floating-filter")),[a,l]=T.useState(()=>new ua),[c,d]=T.useState(()=>new ua("ag-floating-filter-button","ag-hidden")),[f,p]=T.useState("false"),[m,y]=T.useState(),[,w]=T.useState(1),C=T.useRef(),S=T.useRef(null),R=T.useRef(null),E=T.useRef(null),P=T.useRef(null),M=T.useRef(),A=T.useRef(),D=L=>{L!=null&&M.current&&M.current(L)},k=T.useCallback(L=>{if(S.current=L,C.current=L?t.createBean(new ym):t.destroyBean(C.current),!L||!e.isAlive())return;A.current=new vn(W=>{M.current=W});const ae={toggleCss:(W,V)=>o(X=>X.setClass(W,V)),setUserStyles:W=>i(W),addOrRemoveBodyCssClass:(W,V)=>l(X=>X.setClass(W,V)),setButtonWrapperDisplayed:W=>{d(V=>V.setClass("ag-hidden",!W)),p(W?"false":"true")},setWidth:W=>{S.current&&(S.current.style.width=W)},setCompDetails:W=>y(W),getFloatingFilterComp:()=>A.current?A.current:null,setMenuIcon:W=>P.current?.appendChild(W)};e.setComp(ae,L,P.current,R.current,C.current)},[]);T.useLayoutEffect(()=>Jw(m,t,R.current,D),[m]);const I=T.useMemo(()=>s.toString(),[s]),B=T.useMemo(()=>a.toString(),[a]),N=T.useMemo(()=>c.toString(),[c]),H=T.useMemo(()=>!!(m&&m.componentFromFramework&&Cm(m.componentClass)),[m]),G=T.useMemo(()=>n.get("reactiveCustomComponents"),[]),oe=T.useMemo(()=>n.get("enableFilterHandlers"),[]),[le,Z]=T.useState();T.useEffect(()=>{if(m?.componentFromFramework)if(G){const L=oe?rMe:j2e,ae=new L(m.params,()=>w(W=>W+1));D(ae),Z(ae)}else Y2()},[m]);const se=le?.getProps(),fe=m?.componentFromFramework,ne=m?.componentClass;return ue.createElement("div",{ref:k,style:r,className:I,role:"gridcell"},ue.createElement("div",{ref:R,className:B,role:"presentation"},fe?G?se&&ue.createElement(K2.Provider,{value:{setMethods:L=>le.setMethods(L)}},ue.createElement(ne,{...se})):ue.createElement(ne,{...m.params,ref:H?()=>{}:D}):null),ue.createElement("div",{ref:E,"aria-hidden":f,className:N,role:"presentation"},ue.createElement("button",{ref:P,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},sMe=T.memo(iMe),oMe=({ctrl:e})=>{const{context:t}=T.useContext(gs),[n,r]=T.useState(),[i,s]=T.useState(()=>new ua),[o,a]=T.useState(()=>new ua),[l,c]=T.useState("false"),[d,f]=T.useState(),[p,m]=T.useState(),y=T.useMemo(()=>e.column.getUniqueId(),[]),w=T.useRef(),C=T.useRef(null),S=T.useRef(null),R=T.useRef(null),E=T.useRef(),P=T.useCallback(B=>{if(C.current=B,w.current=B?t.createBean(new ym):t.destroyBean(w.current),!B||!e.isAlive())return;const N={setWidth:H=>{C.current&&(C.current.style.width=H)},toggleCss:(H,G)=>s(oe=>oe.setClass(H,G)),setUserStyles:H=>r(H),setHeaderWrapperHidden:H=>{const G=R.current;G&&(H?G.style.setProperty("display","none"):G.style.removeProperty("display"))},setHeaderWrapperMaxHeight:H=>{const G=R.current;G&&(H!=null?G.style.setProperty("max-height",`${H}px`):G.style.removeProperty("max-height"),G.classList.toggle("ag-header-cell-comp-wrapper-limited-height",H!=null))},setUserCompDetails:H=>m(H),setResizableDisplayed:H=>{a(G=>G.setClass("ag-hidden",!H)),c(H?"false":"true")},setAriaExpanded:H=>f(H),getUserCompInstance:()=>E.current||void 0};e.setComp(N,B,S.current,R.current,w.current)},[]);T.useLayoutEffect(()=>Jw(p,t,R.current),[p]),T.useEffect(()=>{C.current&&e.setDragSource(C.current)},[p]);const M=T.useMemo(()=>!!(p?.componentFromFramework&&Cm(p.componentClass)),[p]),A=T.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),D=T.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),k=p?.componentFromFramework,I=p?.componentClass;return ue.createElement("div",{ref:P,style:n,className:A,"col-id":y,role:"columnheader","aria-expanded":d},ue.createElement("div",{ref:R,className:"ag-header-cell-comp-wrapper",role:"presentation"},k?M?ue.createElement(I,{...p.params}):ue.createElement(I,{...p.params,ref:E}):null),ue.createElement("div",{ref:S,"aria-hidden":l,className:D}))},aMe=T.memo(oMe),lMe=({ctrl:e})=>{const{context:t}=T.useContext(gs),{topOffset:n,rowHeight:r}=T.useMemo(()=>e.getTopAndHeight(),[]),[i,s]=T.useState(e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=T.useState(()=>r+"px"),[c,d]=T.useState(()=>n+"px"),f=T.useRef([]),[p,m]=T.useState(()=>e.getUpdatedHeaderCtrls()),y=T.useRef(),w=T.useRef(null),C=T.useCallback(E=>{if(w.current=E,y.current=E?t.createBean(new ym):t.destroyBean(y.current),!E)return;const P={setHeight:M=>l(M),setTop:M=>d(M),setHeaderCtrls:(M,A,D)=>{const k=f.current,I=p1(k,M,A);I!==k&&(f.current=I,Fy(D,()=>m(I)))},setWidth:M=>{w.current&&(w.current.style.width=M)},setRowIndex:M=>{s(M)}};e.setComp(P,y.current,!1)},[]),S=T.useMemo(()=>({height:a,top:c}),[a,c]),R=T.useCallback(E=>{switch(e.type){case"group":return ue.createElement(aMe,{ctrl:E,key:E.instanceId});case"filter":return ue.createElement(sMe,{ctrl:E,key:E.instanceId});default:return ue.createElement(nMe,{ctrl:E,key:E.instanceId})}},[]);return ue.createElement("div",{ref:C,className:o,role:"row",style:S,"aria-rowindex":i},p.map(R))},cMe=T.memo(lMe),uMe=({pinned:e})=>{const[t,n]=T.useState(!0),[r,i]=T.useState([]),{context:s}=T.useContext(gs),o=T.useRef(null),a=T.useRef(null),l=T.useRef(),c=e==="left",d=e==="right",f=!c&&!d,p=T.useCallback(w=>{if(o.current=w,l.current=w?s.createBean(new r1e(e)):s.destroyBean(l.current),!w)return;const C={setDisplayed:n,setCtrls:S=>i(S),setCenterWidth:S=>{a.current&&(a.current.style.width=S)},setViewportScrollLeft:S=>{o.current&&(o.current.scrollLeft=S)},setPinnedContainerWidth:S=>{o.current&&(o.current.style.width=S,o.current.style.minWidth=S,o.current.style.maxWidth=S)}};l.current.setComp(C,o.current)},[]),m=t?"":"ag-hidden",y=()=>r.map(w=>ue.createElement(cMe,{ctrl:w,key:w.instanceId}));return c?ue.createElement("div",{ref:p,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},y()):d?ue.createElement("div",{ref:p,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},y()):f?ue.createElement("div",{ref:p,className:"ag-header-viewport "+m,role:"presentation",tabIndex:-1},ue.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())):null},_A=T.memo(uMe),dMe=()=>{const[e,t]=T.useState(()=>new ua),[n,r]=T.useState(),{context:i}=T.useContext(gs),s=T.useRef(null),o=T.useRef(),a=T.useCallback(d=>{if(s.current=d,o.current=d?i.createBean(new ZSe):i.destroyBean(o.current),!d)return;const f={toggleCss:(p,m)=>t(y=>y.setClass(p,m)),setHeightAndMinHeight:p=>r(p)};o.current.setComp(f,d,d)},[]),l=T.useMemo(()=>"ag-header "+e.toString(),[e]),c=T.useMemo(()=>({height:n,minHeight:n}),[n]);return ue.createElement("div",{ref:a,className:l,style:c,role:"presentation"},ue.createElement(_A,{pinned:"left"}),ue.createElement(_A,{pinned:null}),ue.createElement(_A,{pinned:"right"}))},hMe=T.memo(dMe),fMe=(e,t)=>{T.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},bh=fMe,pMe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new vn(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){YE(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},gMe=e=>{const t=T.useRef(e),n=T.useRef(),r=T.useRef(!1),i=T.useRef(!1),[,s]=T.useState(0);r.current&&(i.current=!0),T.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(o=>o+1),()=>{i.current&&n.current?.()}),[])},mMe=e=>{const[t,n]=T.useState(),r=T.useContext(gs),{context:i,popupSvc:s,gos:o,editSvc:a}=r,{editDetails:l,cellCtrl:c,eParentCell:d}=e;return gMe(()=>{const{compDetails:f}=l,p=o.get("stopEditingWhenCellsLoseFocus"),m=i.createBean(a.createPopupEditorWrapper(f.params)),y=m.getGui();if(e.jsChildComp){const M=e.jsChildComp.getGui();M&&y.appendChild(M)}const{column:w,rowNode:C}=c,S={column:w,rowNode:C,type:"popupCellEditor",eventSource:d,ePopup:y,position:l.popupPosition,keepWithinBounds:!0},R=s?.positionPopupByComponent.bind(s,S),E=s?.addPopup({modal:p,eChild:y,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:d,positionCallback:R,ariaOwns:d}),P=E?E.hideFunc:void 0;return n(m),e.jsChildComp?.afterGuiAttached?.(),()=>{P?.(),i.destroyBean(m)}}),T.useLayoutEffect(()=>()=>{c.isCellFocused()&&t?.getGui().contains(_r(r))&&d.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?sm.createPortal(e.wrappedContent,t.getGui()):null},Y6=T.memo(mMe),vMe=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=Cm(t);return ue.createElement(K2.Provider,{value:{setMethods:o=>r.setMethods(o)}},s?ue.createElement(t,{...i}):ue.createElement(t,{...i,ref:o=>r.setRef(o)}))},X6=(e,t,n)=>e.compProxy?vMe(e,t,n):ue.createElement(t,{...e.compDetails.params,ref:n}),yMe=(e,t,n,r,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return a?X6(e,o,t):l?ue.createElement(Y6,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:X6(e,o,t)}):c&&i?ue.createElement(Y6,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},wMe=(e,t,n,r,i,s)=>{const{context:o}=T.useContext(gs),a=T.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),i.current=void 0},[]);T.useEffect(()=>{const l=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,d=t&&n==null;if(!(l&&c&&!d)){a();return}const p=e.compDetails;if(i.current){const y=i.current,C=y.refresh!=null&&e.force==!1?y.refresh(p.params):!1;if(C===!0||C===void 0)return;a()}p.newAgStackInstance().then(y=>{if(!y)return;const w=y.getGui();if(!w)return;(t?n:s.current).appendChild(w),i.current=y})},[e,t,r]),T.useEffect(()=>a,[])},ZY=wMe,CMe=({cellCtrl:e,parent:t})=>{const n=T.useRef(),r=T.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(ZY(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){const i=r.compDetails.componentClass;return ue.createElement(i,{...r.compDetails.params})}return ue.createElement(ue.Fragment,null)},bMe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=T.useContext(gs),{context:i}=r,{column:{colIdSanitised:s},instanceId:o}=e,a=T.useRef(),[l,c]=T.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,f]=T.useState(),[p,m]=T.useState(1),[y,w]=T.useState(),[C,S]=T.useState(!1),[R,E]=T.useState(!1),[P,M]=T.useState(!1),[A,D]=T.useState(),k=T.useMemo(()=>e.isForceWrapper(),[e]),I=T.useMemo(()=>e.getCellAriaRole(),[e]),B=T.useRef(null),N=T.useRef(null),H=T.useRef(null),G=T.useRef(),oe=T.useRef(),le=T.useRef(),Z=T.useRef([]),se=T.useRef(),[fe,ne]=T.useState(0),L=T.useCallback(ze=>{se.current=ze,ne(Je=>Je+1)},[]),ae=l!=null&&(C||P||R)&&(d==null||!!d.popup),W=k||ae,V=T.useCallback(ze=>{if(oe.current=ze,ze){const Je=ze.isCancelBeforeStart&&ze.isCancelBeforeStart();setTimeout(()=>{Je?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(ze))})}},[e]),X=T.useRef();X.current||(X.current=new Kw(()=>B.current)),ZY(l,W,se.current,fe,G,B);const te=T.useRef();T.useLayoutEffect(()=>{const ze=te.current,Je=l;if(te.current=l,ze==null||ze.compDetails==null||Je==null||Je.compDetails==null)return;const et=ze.compDetails,Me=Je.compDetails;if(et.componentClass!=Me.componentClass||H.current?.refresh==null)return;H.current.refresh(Me.params)!=!0&&m(kt=>kt+1)},[l]),T.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const Je=d.compDetails,et=d.popup===!0,Me=Je.newAgStackInstance();return Me.then(ft=>{if(!ft)return;const kt=ft.getGui();V(ft),et||((k?le:B).current?.appendChild(kt),ft.afterGuiAttached&&ft.afterGuiAttached()),D(ft)}),()=>{Me.then(ft=>{const kt=ft.getGui();e.disableEditorTooltipFeature(),i.destroyBean(ft),V(void 0),D(void 0),kt?.parentElement?.removeChild(kt)})}},[d]);const he=T.useCallback(ze=>{if(le.current=ze,!ze){Z.current.forEach(et=>et()),Z.current=[];return}const Je=et=>{if(et){const Me=et.getGui();ze.insertAdjacentElement("afterbegin",Me),Z.current.push(()=>{i.destroyBean(et),qc(Me)})}return et};if(C){const et=e.createSelectionCheckbox();Je(et)}P&&Je(e.createDndSource()),R&&Je(e.createRowDragComp())},[e,i,P,R,C]),Be=T.useCallback(()=>{const ze=!e.isCellSpanning()||N.current,Je=B.current;if(a.current=Je?i.createBean(new ym):i.destroyBean(a.current),!Je||!ze||!e)return;const et={toggleCss:(ft,kt)=>X.current.toggleCss(ft,kt),setUserStyles:ft=>w(ft),getFocusableElement:()=>B.current,setIncludeSelection:ft=>S(ft),setIncludeRowDrag:ft=>E(ft),setIncludeDndSource:ft=>M(ft),getCellEditor:()=>oe.current||null,getCellRenderer:()=>H.current??G.current,getParentOfValue:()=>se.current??le.current??B.current,setRenderDetails:(ft,kt,Ct)=>{const It=()=>{c(Vt=>Vt?.compDetails!==ft||Vt?.value!==kt||Vt?.force!==Ct?{value:kt,compDetails:ft,force:Ct}:Vt)};if(ft?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Vt,onReady:Kt}=e.getDeferLoadingCellRenderer();if(Vt){c({value:void 0,compDetails:Vt,force:!1}),Kt.then(()=>M2e(It));return}}It()},setEditDetails:(ft,kt,Ct,It)=>{if(ft){let Vt;ft.componentFromFramework&&(It?Vt=new pMe(ft.params,()=>m(Kt=>Kt+1)):Y2()),f({compDetails:ft,popup:kt,popupPosition:Ct,compProxy:Vt}),kt||c(void 0)}else e.hasBrowserFocus()&&et.getFocusableElement().focus({preventScroll:!0}),f(Kt=>{Kt?.compProxy&&(oe.current=void 0)})},refreshEditStyles:(ft,kt)=>{if(!B.current)return;const{current:Ct}=X;Ct.toggleCss("ag-cell-value",!W),Ct.toggleCss("ag-cell-inline-editing",!!ft&&!kt),Ct.toggleCss("ag-cell-popup-editing",!!ft&&!!kt),Ct.toggleCss("ag-cell-not-inline-editing",!ft||!!kt)}},Me=le.current||void 0;e.setComp(et,Je,N.current??void 0,Me,t,n,a.current)},[]),Fe=T.useCallback(ze=>{B.current=ze,Be()},[]),_e=T.useCallback(ze=>{N.current=ze,Be()},[]),Pe=T.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Cm(l.compDetails.componentClass)),[l]);T.useLayoutEffect(()=>{if(!B.current)return;const{current:ze}=X;ze.toggleCss("ag-cell-value",!W),ze.toggleCss("ag-cell-inline-editing",!!d&&!d.popup),ze.toggleCss("ag-cell-popup-editing",!!d&&!!d.popup),ze.toggleCss("ag-cell-not-inline-editing",!d||!!d.popup)});const nt=()=>{const{compDetails:ze,value:Je}=l;if(!ze)return Je?.toString?.()??Je;if(ze.componentFromFramework){const et=ze.componentClass;return ue.createElement(T.Suspense,{fallback:ue.createElement(CMe,{cellCtrl:e,parent:B})},Pe?ue.createElement(et,{...ze.params,key:p}):ue.createElement(et,{...ze.params,key:p,ref:H}))}},re=()=>{const ze=()=>l==null?null:W?ue.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:L},nt()):nt(),Je=et=>yMe(et,V,B.current,e,A);return d!=null?d.popup?ue.createElement(ue.Fragment,null,ze(),Je(d)):Je(d):ze()},St=()=>ue.createElement("div",{ref:Fe,style:y,role:I,"col-id":s},W?ue.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:he},re()):re());return e.isCellSpanning()?ue.createElement("div",{ref:_e,className:"ag-spanned-cell-wrapper",role:"presentation"},St()):St()},xMe=T.memo(bMe),SMe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:i}=T.useContext(gs),s=T.useContext(qY)==="default",o=T.useRef(),a=T.useRef(e.getDomOrder()),l=e.isFullWidth(),c=e.rowNode.displayed,[d,f]=T.useState(()=>c?e.rowNode.getRowIndexString():null),[p,m]=T.useState(()=>e.rowId),[y,w]=T.useState(()=>e.businessKey),[C,S]=T.useState(()=>e.rowStyles),R=T.useRef(null),[E,P]=T.useState(()=>null),[M,A]=T.useState(),[D,k]=T.useState(()=>c?e.getInitialRowTop(t):void 0),[I,B]=T.useState(()=>c?e.getInitialTransform(t):void 0),N=T.useRef(null),H=T.useRef(),G=T.useRef(!1),[oe,le]=T.useState(0);T.useEffect(()=>{if(G.current||!M||oe>10)return;const _e=N.current?.firstChild;_e?(e.setupDetailRowAutoHeight(_e),G.current=!0):le(Pe=>Pe+1)},[M,oe]);const Z=T.useRef();Z.current||(Z.current=new Kw(()=>N.current));const se=T.useRef(()=>{}),fe=T.useCallback(_e=>(se.current=_e,()=>{se.current=()=>{}}),[]),ne=O2e(fe,()=>R.current,[]),L=s?ne:E,ae=T.useCallback(_e=>{if(N.current=_e,o.current=_e?n.createBean(new ym):n.destroyBean(o.current),!_e){e.unsetComp(t);return}if(!e.isAlive())return;const Pe={setTop:k,setTransform:B,toggleCss:(nt,re)=>Z.current.toggleCss(nt,re),setDomOrder:nt=>a.current=nt,setRowIndex:f,setRowId:m,setRowBusinessKey:w,setUserStyles:S,setCellCtrls:(nt,re)=>{const St=R.current,ze=p1(St,nt,a.current);ze!==St&&(R.current=ze,s?se.current():Fy(re,()=>P(ze)))},showFullWidth:nt=>A(nt),getFullWidthCellRenderer:()=>H.current,refreshFullWidth:nt=>he.current?(A(re=>({...re,params:nt()})),!0):!H.current||!H.current.refresh?!1:H.current.refresh(nt())};e.setComp(Pe,_e,t,o.current)},[]);T.useLayoutEffect(()=>Jw(M,n,N.current,H),[M]);const W=T.useMemo(()=>{const _e={top:D,transform:I};return Object.assign(_e,C),_e},[D,I,C]),V=l&&M?.componentFromFramework,X=!l&&L!=null,te=T.useMemo(()=>!!(M?.componentFromFramework&&Cm(M.componentClass)),[M]),he=T.useRef(!1);T.useEffect(()=>{he.current=te&&!!M&&!!r.get("reactiveCustomComponents")},[te,M]);const Be=()=>L?.map(_e=>ue.createElement(xMe,{cellCtrl:_e,editingCell:i?.isEditing(_e,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:_e.instanceId})),Fe=()=>{const _e=M.componentClass;return te?ue.createElement(_e,{...M.params}):ue.createElement(_e,{...M.params,ref:H})};return ue.createElement("div",{ref:ae,role:"row",style:W,"row-index":d,"row-id":p,"row-business-key":y},X?Be():V?Fe():null)},Q6=T.memo(SMe),EMe=({name:e})=>{const{context:t,gos:n}=T.useContext(gs),r=T.useMemo(()=>Xw(e),[e]),i=T.useRef(null),s=T.useRef(null),o=T.useRef(null),a=T.useRef([]),l=T.useRef([]),[c,d]=T.useState(()=>[]),f=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,p=T.useRef([]),m=T.useRef([]),[y,w]=T.useState(()=>[]),C=T.useRef(!1),S=T.useRef(),R=T.useMemo(()=>oa("ag-viewport",TK(e)),[e]),E=T.useMemo(()=>oa(tS(e)),[e]),P=T.useMemo(()=>oa("ag-spanning-container",kSe(e)),[e]),M=r.type==="center"||f,A=M?i:s;bh(" AG Row Container "+e+" ",A);const D=T.useCallback(()=>{const le=!M||i.current!=null,Z=s.current!=null,se=!f||o.current!=null;return le&&Z&&se},[]),k=T.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),I=T.useCallback(()=>{if(k()&&(S.current=t.destroyBean(S.current)),D()){const le=fe=>{const ne=p1(l.current,a.current,C.current);ne!==l.current&&(l.current=ne,Fy(fe,()=>d(ne)))},Z=fe=>{const ne=p1(m.current,p.current,C.current);ne!==m.current&&(m.current=ne,Fy(fe,()=>w(ne)))},se={setHorizontalScroll:fe=>{i.current&&(i.current.scrollLeft=fe)},setViewportHeight:fe=>{i.current&&(i.current.style.height=fe)},setRowCtrls:({rowCtrls:fe,useFlushSync:ne})=>{const L=!!ne&&a.current.length>0&&fe.length>0;a.current=fe,le(L)},setSpannedRowCtrls:(fe,ne)=>{const L=!!ne&&p.current.length>0&&fe.length>0;p.current=fe,Z(L)},setDomOrder:fe=>{C.current!=fe&&(C.current=fe,le(!1))},setContainerWidth:fe=>{s.current&&(s.current.style.width=fe)},setOffsetTop:fe=>{s.current&&(s.current.style.transform=`translateY(${fe})`)}};S.current=t.createBean(new GSe(e)),S.current.setComp(se,s.current,o.current??void 0,i.current)}},[D,k]),B=T.useCallback(le=>{s.current=le,I()},[I]),N=T.useCallback(le=>{o.current=le,I()},[I]),H=T.useCallback(le=>{i.current=le,I()},[I]),G=()=>ue.createElement("div",{className:E,ref:B,role:"rowgroup"},c.map(le=>ue.createElement(Q6,{rowCtrl:le,containerType:r.type,key:le.instanceId})));if(!M)return G();const oe=()=>ue.createElement("div",{className:P,ref:N,role:"rowgroup"},y.map(le=>ue.createElement(Q6,{rowCtrl:le,containerType:r.type,key:le.instanceId})));return ue.createElement("div",{className:R,ref:H,role:"presentation"},G(),f?oe():null)},TMe=T.memo(EMe),RMe=()=>{const e=T.useContext(gs),{context:t,overlays:n}=e,[r,i]=T.useState(""),[s,o]=T.useState(0),[a,l]=T.useState(0),[c,d]=T.useState("0px"),[f,p]=T.useState("0px"),[m,y]=T.useState("100%"),[w,C]=T.useState("0px"),[S,R]=T.useState("0px"),[E,P]=T.useState("100%"),[M,A]=T.useState(!0),[D,k]=T.useState(!0),[I,B]=T.useState(null),[N,H]=T.useState(""),[G,oe]=T.useState(null),[le,Z]=T.useState("ag-layout-normal"),se=T.useRef();se.current||(se.current=new Kw(()=>fe.current));const fe=T.useRef(null),ne=T.useRef(null),L=T.useRef(null),ae=T.useRef(null),W=T.useRef(null),V=T.useRef(null),X=T.useRef(null),te=T.useRef([]),he=T.useRef([]);bh(" AG Grid Body ",fe),bh(" AG Pinned Top ",ne),bh(" AG Sticky Top ",L),bh(" AG Middle ",V),bh(" AG Pinned Bottom ",X);const Be=T.useCallback(It=>{if(fe.current=It,!It){te.current=t.destroyBeans(te.current),he.current.forEach(Xe=>Xe()),he.current=[];return}if(!t)return;const Vt=(Xe,ht)=>{Xe.appendChild(ht),he.current.push(()=>Xe.removeChild(ht))},Kt=Xe=>{const ht=t.createBean(new Xe);return te.current.push(ht),ht},Jt=(Xe,ht,gt)=>{Vt(Xe,document.createComment(gt)),Vt(Xe,Kt(ht).getGui())};Jt(It,qSe," AG Fake Horizontal Scroll ");const An=n?.getOverlayWrapperCompClass();An&&Jt(It,An," AG Overlay Wrapper "),W.current&&Jt(W.current,YSe," AG Fake Vertical Scroll ");const ve={setRowAnimationCssOnBodyViewport:i,setColumnCount:Xe=>{fe.current&&Xwe(fe.current,Xe)},setRowCount:Xe=>{fe.current&&Kwe(fe.current,Xe)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:p,setStickyTopWidth:y,setTopInvisible:A,setBottomInvisible:k,setColumnMovingCss:(Xe,ht)=>se.current.toggleCss(Xe,ht),updateLayoutClasses:Z,setAlwaysVerticalScrollClass:B,setPinnedTopBottomOverflowY:H,setCellSelectableCss:(Xe,ht)=>oe(ht?Xe:null),setBodyViewportWidth:Xe=>{V.current&&(V.current.style.width=Xe)},registerBodyViewportResizeListener:Xe=>{if(V.current){const ht=eu(e,V.current,Xe);he.current.push(()=>ht())}},setStickyBottomHeight:C,setStickyBottomBottom:R,setStickyBottomWidth:P,setGridRootRole:Xe=>It.setAttribute("role",Xe)},Le=t.createBean(new WSe);te.current.push(Le),Le.setComp(ve,It,V.current,ne.current,X.current,L.current,ae.current)},[]),Fe=T.useMemo(()=>oa("ag-root","ag-unselectable",le),[le]),_e=T.useMemo(()=>oa("ag-body-viewport",r,le,I,G),[r,le,I,G]),Pe=T.useMemo(()=>oa("ag-body",le),[le]),nt=T.useMemo(()=>oa("ag-floating-top",M?"ag-invisible":null,G),[G,M]),re=T.useMemo(()=>oa("ag-sticky-top",G),[G]),St=T.useMemo(()=>oa("ag-sticky-bottom",w==="0px"?"ag-invisible":null,G),[G,w]),ze=T.useMemo(()=>oa("ag-floating-bottom",D?"ag-invisible":null,G),[G,D]),Je=T.useMemo(()=>({height:s,minHeight:s,overflowY:N}),[s,N]),et=T.useMemo(()=>({height:c,top:f,width:m}),[c,f,m]),Me=T.useMemo(()=>({height:w,bottom:S,width:E}),[w,S,E]),ft=T.useMemo(()=>({height:a,minHeight:a,overflowY:N}),[a,N]),kt=It=>ue.createElement(TMe,{name:It,key:`${It}-container`}),Ct=({section:It,children:Vt,className:Kt,style:Jt})=>ue.createElement("div",{ref:It,className:Kt,role:"presentation",style:Jt},Vt.map(kt));return ue.createElement("div",{ref:Be,className:Fe},ue.createElement(hMe,null),Ct({section:ne,className:nt,style:Je,children:["topLeft","topCenter","topRight","topFullWidth"]}),ue.createElement("div",{className:Pe,ref:W,role:"presentation"},Ct({section:V,className:_e,children:["left","center","right","fullWidth"]})),Ct({section:L,className:re,style:et,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Ct({section:ae,className:St,style:Me,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Ct({section:X,className:ze,style:ft,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},_Me=T.memo(RMe),AMe=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=T.useContext(gs),c=T.useRef(null),d=T.useRef(null),f=T.useRef(),p=S=>{const R=S==null?void 0:parseInt(S,10).toString();[c,d].forEach(E=>{R===void 0?E.current?.removeAttribute("tabindex"):E.current?.setAttribute("tabindex",R)})};T.useImperativeHandle(t,()=>({forceFocusOutOfContainer(S){f.current?.forceFocusOutOfContainer(S)}}));const m=T.useCallback(()=>{const S=c.current,R=d.current;if(!S&&!R){f.current=l.destroyBean(f.current);return}if(S&&R){const E={setTabIndex:p};f.current=l.createBean(new NK({comp:E,eTopGuard:S,eBottomGuard:R,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:P=>s.focusInnerElement(P),isEmpty:a}))}},[]),y=T.useCallback(S=>{c.current=S,m()},[m]),w=T.useCallback(S=>{d.current=S,m()},[m]),C=S=>{const R=S==="top"?mg.TAB_GUARD_TOP:mg.TAB_GUARD_BOTTOM;return ue.createElement("div",{className:`${mg.TAB_GUARD} ${R}`,role:"presentation",ref:S==="top"?y:w})};return ue.createElement(ue.Fragment,null,C("top"),n,C("bottom"))},DMe=T.forwardRef(AMe),PMe=T.memo(DMe),kMe=({context:e})=>{const[t,n]=T.useState(""),[r,i]=T.useState(""),[s,o]=T.useState(null),[a,l]=T.useState(null),[c,d]=T.useState(!1),[f,p]=T.useState(),m=T.useRef(),y=T.useRef(null),w=T.useRef(),[C,S]=T.useState(null),R=T.useRef(()=>{}),E=T.useRef(),P=T.useRef([]),M=T.useCallback(()=>{},[]),A=T.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);bh(" AG Grid ",y);const D=T.useCallback(G=>{if(y.current=G,m.current=G?e.createBean(new J1e):e.destroyBean(m.current),!G||e.isDestroyed())return;const oe=m.current;R.current=oe.focusInnerElement.bind(oe);const le={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:Z=>{if(!Z&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(Z);return}w.current?.forceFocusOutOfContainer(Z)},updateLayoutClasses:i,getFocusableContainers:()=>{const Z=[],se=y.current?.querySelector(".ag-root");return se&&Z.push({getGui:()=>se}),P.current.forEach(fe=>{fe.isDisplayed()&&Z.push(fe)}),Z},setCursor:o,setUserSelect:l};oe.setComp(le,G,G),d(!0)},[]);T.useEffect(()=>{const G=m.current,oe=y.current;if(!f||!A||!G||!C||!oe||e.isDestroyed())return;const le=[],{watermarkSelector:Z,paginationSelector:se,sideBarSelector:fe,statusBarSelector:ne,gridHeaderDropZonesSelector:L}=G.getOptionalSelectors(),ae=[];if(L){const V=e.createBean(new L.component),X=V.getGui();oe.insertAdjacentElement("afterbegin",X),ae.push(X),le.push(V)}if(fe){const V=e.createBean(new fe.component),X=V.getGui(),te=C.querySelector(".ag-tab-guard-bottom");te&&(te.insertAdjacentElement("beforebegin",X),ae.push(X)),le.push(V),P.current.push(V)}const W=V=>{const X=e.createBean(new V),te=X.getGui();return oe.insertAdjacentElement("beforeend",te),ae.push(te),le.push(X),X};if(ne&&W(ne.component),se){const V=W(se.component);E.current=V,P.current.push(V)}return Z&&W(Z.component),()=>{e.destroyBeans(le),ae.forEach(V=>{V.parentElement?.removeChild(V)})}},[f,C,A]);const k=T.useMemo(()=>oa("ag-root-wrapper",t,r),[t,r]),I=T.useMemo(()=>oa("ag-root-wrapper-body","ag-focus-managed",r),[r]),B=T.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),N=T.useCallback(G=>{w.current=G,p(G!==null)},[]),H=T.useCallback(()=>!m.current?.isFocusable(),[]);return ue.createElement("div",{ref:D,className:k,style:B,role:"presentation"},ue.createElement("div",{className:I,ref:S,role:"presentation"},c&&C&&A&&ue.createElement(gs.Provider,{value:A},ue.createElement(PMe,{ref:N,eFocusableElement:C,onTabKeyDown:M,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:H},ue.createElement(_Me,null)))))},FMe=T.memo(kMe),IMe=class extends Oe{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},eX={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},MMe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...eX},tX=new Set(Object.keys(MMe)),OMe=new Set(Object.keys(eX)),nX=e=>{const t=T.useRef(),n=T.useRef(null),r=T.useRef(null),i=T.useRef([]),s=T.useRef([]),o=T.useRef(e),a=T.useRef(),l=T.useRef(),c=T.useRef(!1),[d,f]=T.useState(void 0),[,p]=T.useState(0),m=T.useCallback(S=>{if(n.current=S,!S){i.current.forEach(N=>N()),i.current.length=0;return}const R=e.modules||[];r.current||(r.current=new eMe(()=>p(N=>N+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));const E=PCe(e.gridOptions,e,Object.keys(e).filter(N=>!tX.has(N))),P=()=>{if(c.current){const N=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let H=N();for(;H;)H(),H=N()}},M=new VMe(P);a.current=M;const A=new IMe,D={providedBeanInstances:{frameworkCompWrapper:new NMe(r.current,E),renderStatus:A},modules:R,frameworkOverrides:M,setThemeOnGridDiv:!0},k=N=>{f(N),N.createBean(A),i.current.push(()=>{N.destroy()}),N.getBean("ctrlsSvc").whenReady({addDestroyFunc:H=>{i.current.push(H)}},()=>{if(N.isDestroyed())return;const H=t.current;H&&e.passGridApi?.(H)})},I=N=>{N.getBean("ctrlsSvc").whenReady({addDestroyFunc:H=>{i.current.push(H)}},()=>{s.current.forEach(H=>H()),s.current.length=0,c.current=!0})},B=new iDe;E.gridId??(E.gridId=l.current),t.current=B.create(S,E,k,I,D),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),y=T.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=T.useCallback(S=>{c.current&&!a.current?.shouldQueueUpdates()?S():s.current.push(S)},[]);T.useEffect(()=>{const S=LMe(o.current,e);o.current=e,w(()=>{t.current&&kCe(S,t.current)})},[e]);const C=!ue.useSyncExternalStore||Kx(e,"renderingMode")==="legacy"?"legacy":"default";return ue.createElement("div",{style:y,className:e.className,ref:m},ue.createElement(qY.Provider,{value:C},d&&!d.isDestroyed()?ue.createElement(FMe,{context:d}):null,r.current?.getPortals()??null))};function LMe(e,t){const n={};return Object.keys(t).forEach(r=>{if(tX.has(r)){OMe.has(r)&&Ye(274,{prop:r});return}const i=t[r];e[r]!==i&&(n[r]=i)}),n}var NMe=class extends lDe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(Kx(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return Kx(n,"enableFilterHandlers")?z2e:U2e;case"floatingFilterComponent":return Kx(n,"enableFilterHandlers")?$2e:W2e;case"dateComponent":return H2e;case"dragAndDropImageComponent":return G2e;case"loadingOverlayComponent":return K2e;case"noRowsOverlayComponent":return X2e;case"statusPanel":return Q2e;case"toolPanel":return J2e;case"menuItem":return Y2e;case"cellRenderer":return V2e;case"innerHeaderComponent":return q2e}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Y2();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new QY(e,this.parent,t,i)}},BMe=T.forwardRef((e,t)=>{const n=T.useContext(gs),{registry:r,context:i,gos:s,rowModel:o}=n,[a,l]=T.useState(()=>new ua),[c,d]=T.useState(()=>new ua),[f,p]=T.useState(),[m,y]=T.useState(),w=T.useRef(),C=T.useRef(null),S=T.useRef(),R=T.useMemo(()=>Qbe(e.api.getGridId(),f?.rowModelType??"clientSide"),[e]),E=T.useMemo(()=>a.toString()+" ag-details-row",[a]),P=T.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&T.useImperativeHandle(t,()=>({refresh(){return w.current?.refresh()??!1}})),e.template&&Ye(230);const M=T.useCallback(D=>{if(C.current=D,!D){w.current=i.destroyBean(w.current),S.current?.();return}const k={toggleCss:(B,N)=>l(H=>H.setClass(B,N)),toggleDetailGridCss:(B,N)=>d(H=>H.setClass(B,N)),setDetailGrid:B=>p(B),setRowData:B=>y(B),getGui:()=>C.current},I=r.createDynamicBean("detailCellRendererCtrl",!0);if(I&&(i.createBean(I),I.init(k,e),w.current=I,s.get("detailRowAutoHeight"))){const B=()=>{if(C.current==null)return;const N=C.current.clientHeight;N!=null&&N>0&&setTimeout(()=>{e.node.setRowHeight(N),(li(s)||Ff(s))&&o.onRowHeightChanged()},0)};S.current=eu(n,D,B),B()}},[]),A=T.useCallback(D=>{w.current?.registerDetailWithMaster(D)},[]);return ue.createElement("div",{className:E,ref:M},f&&ue.createElement(nX,{className:P,...f,modules:R,rowData:m,passGridApi:A}))}),VMe=class extends BK{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:q6,agGroupRowRenderer:q6,agDetailCellRenderer:BMe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?I2e(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return F2e()}},HMe=class extends T.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ue.createElement(nX,{...this.props,passGridApi:this.setGridApi})}};const X2=jw(e=>({users:[],setUsers:t=>e({users:t}),addUser:t=>e(n=>({users:[...n.users,t]})),showForm:!1,setShowForm:t=>e({showForm:t})})),GMe=()=>F.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:F.jsx(wa,{animation:"border",size:"sm"})}),UMe=()=>{const e=T.useRef(null),{users:t,setUsers:n}=X2(),[r,i]=T.useState(""),[s,o]=T.useState(!0),a=T.useCallback(f=>{f.api.sizeColumnsToFit()},[]),[l]=T.useState([{field:"name",headerName:"Nombre",flex:2,minWidth:150,sortable:!0,filter:!0,cellStyle:{fontWeight:"500"}},{field:"email",headerName:"Correo Electrnico",flex:3,minWidth:200,sortable:!0,filter:!0},{field:"role",headerName:"Rol",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:f=>{const p=f.value,m=p==="TEACHER"?"badge bg-primary":"badge bg-success",y=p==="TEACHER"?"Profesor":"Estudiante";return F.jsx("span",{className:m,children:y})}}]),c={sortable:!0,filter:!0,resizable:!0,cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}},d=T.useCallback(f=>{const p=f.target.value;i(p)},[]);return T.useEffect(()=>{if(o(!0),t.length>0){o(!1);return}O$().then(f=>{if(f.length===0){o(!1);return}n(f),o(!1)})},[n,o,t]),F.jsx(ly,{fluid:!0,className:"p-0",children:F.jsxs(rr,{className:"shadow-sm border-0",children:[F.jsx(rr.Header,{className:"bg-white border-bottom",children:F.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[F.jsxs("div",{className:"d-flex align-items-center",children:[F.jsx(kc,{size:24,className:"text-primary me-2"}),F.jsxs("div",{children:[F.jsx("h5",{className:"mb-0 fw-bold",children:"Gestin de Usuarios"}),F.jsxs("small",{className:"text-muted",children:[t.length," usuario",t.length!==1?"s":""," ","registrado",t.length!==1?"s":""]})]})]}),F.jsx("div",{style:{width:"300px"},children:F.jsxs(Eh,{className:"search-input-group",children:[F.jsx(Eh.Text,{className:"bg-light border-end-0",children:F.jsx(YF,{size:16,className:"text-muted"})}),F.jsx(kn.Control,{type:"text",placeholder:"Buscar usuarios...",value:r,onChange:d,className:"border-start-0 ps-2",style:{boxShadow:"none",borderColor:"#dee2e6"}})]})})]})}),F.jsx(rr.Body,{className:"p-0",children:F.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:F.jsx(HMe,{ref:e,rowData:t,columnDefs:l,defaultColDef:c,onGridReady:a,quickFilterText:r,animateRows:!0,rowSelection:"multiple",rowHeight:50,headerHeight:45,suppressCellFocus:!0,suppressRowHoverHighlight:!1,domLayout:"normal",suppressMovableColumns:!0,loading:s,loadingOverlayComponent:GMe,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:100}})})})]})})},zMe=({onSubmit:e})=>{const{addUser:t,setShowForm:n}=X2(),[r,i]=T.useState(!1),[s,o]=T.useState({id:"",name:"",email:"",role:fn.STUDENT}),[a,l]=T.useState(!1),c=async f=>{if(f.preventDefault(),f.currentTarget.checkValidity()===!1)f.stopPropagation();else{i(!0);const m={...s};m.email.includes("@")||(m.email=`${m.email}@mail.com`),e(m).then(y=>{t(y),l(!0),n(!1),Tn.success("Usuario creado correctamente",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",transition:j$})}).catch(y=>{Tn.error($$(y),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{i(!1)})}},d=f=>{const{name:p,value:m}=f.target;o({...s,[p]:m})};return F.jsxs(kn,{noValidate:!0,validated:a,onSubmit:c,className:"p-2",children:[F.jsxs(Ig,{className:"g-3",children:[F.jsx(Al,{xs:12,children:F.jsx(kn.Group,{controlId:"formUserName",children:F.jsxs(Eh,{hasValidation:!0,children:[F.jsx(Eh.Text,{children:F.jsx(QF,{size:18,className:"text-muted"})}),F.jsxs(xS,{label:"Nombre completo",children:[F.jsx(kn.Control,{type:"text",name:"name",placeholder:"Nombre completo",value:s.name,onChange:d,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),F.jsx(kn.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre."})]})]})})}),F.jsx(Al,{xs:12,children:F.jsx(kn.Group,{controlId:"formUserEmail",children:F.jsxs(Eh,{hasValidation:!0,children:[F.jsx(Eh.Text,{children:F.jsx(Oue,{size:18,className:"text-muted"})}),F.jsxs(xS,{label:"Usuario o correo electrnico",children:[F.jsx(kn.Control,{type:"text",name:"email",placeholder:"Usuario o correo electrnico",value:s.email,onChange:d,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),F.jsx(kn.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre de usuario o correo."})]})]})})})]}),F.jsxs(yS,{variant:"info",className:"mt-4 d-flex align-items-center",children:[F.jsx(Due,{size:24,className:"me-3"}),F.jsxs("div",{children:[F.jsx(yS.Heading,{as:"h6",className:"mb-1 fw-bold",children:"Generacin de Contrasea"}),F.jsx("p",{className:"mb-0 small",children:"La contrasea se crear automticamente con los 3 primeros caracteres del nombre y del correo o usuario."})]})]}),F.jsx("div",{className:"d-grid mt-4",children:F.jsx(Tr,{variant:"primary",type:"submit",size:"lg",disabled:r,children:r?F.jsx(wa,{animation:"border",size:"sm",className:"me-2"}):F.jsxs(F.Fragment,{children:[F.jsx(Wue,{size:16,className:"me-2"}),"Crear Usuario"]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var g1={};g1.version="0.18.5";var rX=1252,jMe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Q2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},J2=function(e){jMe.indexOf(e)!=-1&&(rX=Q2[0]=e)};function WMe(){J2(1252)}var Oa=function(e){J2(e)};function Z2(){Oa(1200),WMe()}function J6(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function $Me(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function iX(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var hv=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?$Me(e.slice(2)):t==254&&n==255?iX(e.slice(2)):t==65279?e.slice(1):e},rx=function(t){return String.fromCharCode(t)},Z6=function(t){return String.fromCharCode(t)},Iy,Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function My(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),s=n>>2,r=e.charCodeAt(c++),o=(n&3)<<4|r>>4,i=e.charCodeAt(c++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),t+=Yu.charAt(s)+Yu.charAt(o)+Yu.charAt(a)+Yu.charAt(l);return t}function Fo(e){var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=Yu.indexOf(e.charAt(c++)),o=Yu.indexOf(e.charAt(c++)),n=s<<2|o>>4,t+=String.fromCharCode(n),a=Yu.indexOf(e.charAt(c++)),r=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(r)),l=Yu.indexOf(e.charAt(c++)),i=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var on=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),nu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function yd(e){return on?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function e5(e){return on?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var yo=function(t){return on?nu(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function XE(e){if(typeof ArrayBuffer>"u")return yo(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function Od(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function qMe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function eM(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return eM(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Pi=on?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:nu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function KMe(e){for(var t=[],n=0,r=e.length+250,i=yd(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(o&3)<<4,i[n++]=128|a&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=yd(65535),r=65530)}return t.push(i.slice(0,n)),Pi(t)}var Ms=/\u0000/g,fv=/[\u0001-\u0006]/g;function wg(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function La(e,t){var n=""+e;return n.length>=t?n:Fr("0",t-n.length)+n}function tM(e,t){var n=""+e;return n.length>=t?n:Fr(" ",t-n.length)+n}function m1(e,t){var n=""+e;return n.length>=t?n:n+Fr(" ",t-n.length)}function YMe(e,t){var n=""+Math.round(e);return n.length>=t?n:Fr("0",t-n.length)+n}function XMe(e,t){var n=""+e;return n.length>=t?n:Fr("0",t-n.length)+n}var t5=Math.pow(2,32);function Ip(e,t){if(e>t5||e<-t5)return YMe(e,t);var n=Math.round(e);return XMe(n,t)}function v1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var n5=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],AA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function QMe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Bt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},r5={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},JMe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function y1(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,a=0,l=1,c=0,d=0,f=Math.floor(i);c<t&&(f=Math.floor(i),a=f*o+s,d=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=o,o=a,l=c,c=d;if(d>t&&(c>t?(d=l,a=s):(d=c,a=o)),!n)return[0,r*a,d];var p=Math.floor(r*a/d);return[p,r*a-p*d,d]}function Ah(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,o=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=iOe(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var sX=new Date(1899,11,31,0,0,0),ZMe=sX.getTime(),eOe=new Date(1900,2,1,0,0,0);function oX(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=eOe&&(n+=1440*60*1e3),(n-(ZMe+(e.getTimezoneOffset()-sX.getTimezoneOffset())*6e4))/(1440*60*1e3)}function nM(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function tOe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nOe(e){var t=e<0?12:11,n=nM(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function rOe(e){var t=nM(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Oy(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=nOe(e):t===10?n=e.toFixed(10).substr(0,12):n=rOe(e),nM(tOe(n.toUpperCase()))}function pf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Oy(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return xa(14,oX(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function iOe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function sOe(e,t,n,r){var i="",s=0,o=0,a=n.y,l,c=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return AA[n.m-1][1];case 5:return AA[n.m-1][0];default:return AA[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return n5[n.q][0];default:return n5[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?La(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(i=La(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=a,c=1;break}var d=c>0?La(l,c):"";return d}function Xu(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var aX=/%/g;function oOe(e,t,n){var r=t.replace(aX,""),i=t.length-r.length;return Lc(e,r,n*Math.pow(10,2*i))+Fr("%",i)}function aOe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Lc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function lX(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lX(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var cX=/# (\?+)( ?)\/( ?)(\d+)/;function lOe(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(s===0?"":""+s)+" "+(o===0?Fr(" ",e[1].length+1+e[4].length):tM(o,e[1].length)+e[2]+"/"+e[3]+La(a,e[4].length))}function cOe(e,t,n){return n+(t===0?"":""+t)+Fr(" ",e[1].length+2+e[4].length)}var uX=/^#*0*\.([0#]+)/,dX=/\).*[0#]/,hX=/\(###\) ###\\?-####/;function _s(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function i5(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function s5(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function uOe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function dOe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Qo(e,t,n){if(e.charCodeAt(0)===40&&!t.match(dX)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Qo("n",r,n):"("+Qo("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return aOe(e,t,n);if(t.indexOf("%")!==-1)return oOe(e,t,n);if(t.indexOf("E")!==-1)return lX(t,n);if(t.charCodeAt(0)===36)return"$"+Qo(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Ip(l,t.length);if(t.match(/^[#?]+$/))return i=Ip(n,0),i==="0"&&(i=""),i.length>t.length?i:_s(t.substr(0,t.length-i.length))+i;if(s=t.match(cX))return lOe(s,l,c);if(t.match(/^#+0+$/))return c+Ip(l,t.length-t.indexOf("0"));if(s=t.match(uX))return i=i5(n,s[1].length).replace(/^([^\.]+)$/,"$1."+_s(s[1])).replace(/\.$/,"."+_s(s[1])).replace(/\.(\d*)$/,function(y,w){return"."+w+Fr("0",_s(s[1]).length-w.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+i5(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Xu(Ip(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Qo(e,t,-n):Xu(""+(Math.floor(n)+uOe(n,s[1].length)))+"."+La(s5(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Qo(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=wg(Qo(e,t.replace(/[\\-]/g,""),n)),o=0,wg(wg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(hX))return i=Qo(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=y1(l,Math.pow(10,o)-1,!1),i=""+c,d=Lc("n",s[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=m1(a[2],o),d.length<s[4].length&&(d=_s(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=y1(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?tM(a[1],o)+s[2]+"/"+s[3]+m1(a[2],o):Fr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Ip(n,0),t.length<=i.length?i:_s(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,p=t.length-i.length-f;return _s(t.substr(0,f)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=s5(n,s[1].length),n<0?"-"+Qo(e,t,-n):Xu(dOe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?La(0,3-y.length):"")+y})+"."+La(o,s[1].length);switch(t){case"###,##0.00":return Qo(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=Xu(Ip(l,0));return m!=="0"?c+m:"";case"###,###.00":return Qo(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Qo(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function hOe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Lc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function fOe(e,t,n){var r=t.replace(aX,""),i=t.length-r.length;return Lc(e,r,n*Math.pow(10,2*i))+Fr("%",i)}function fX(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fX(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function dl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(dX)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?dl("n",r,n):"("+dl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return hOe(e,t,n);if(t.indexOf("%")!==-1)return fOe(e,t,n);if(t.indexOf("E")!==-1)return fX(t,n);if(t.charCodeAt(0)===36)return"$"+dl(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+La(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:_s(t.substr(0,t.length-i.length))+i;if(s=t.match(cX))return cOe(s,l,c);if(t.match(/^#+0+$/))return c+La(l,t.length-t.indexOf("0"));if(s=t.match(uX))return i=(""+n).replace(/^([^\.]+)$/,"$1."+_s(s[1])).replace(/\.$/,"."+_s(s[1])),i=i.replace(/\.(\d*)$/,function(y,w){return"."+w+Fr("0",_s(s[1]).length-w.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Xu(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+dl(e,t,-n):Xu(""+n)+"."+Fr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return dl(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=wg(dl(e,t.replace(/[\\-]/g,""),n)),o=0,wg(wg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(hX))return i=dl(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=y1(l,Math.pow(10,o)-1,!1),i=""+c,d=Lc("n",s[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=m1(a[2],o),d.length<s[4].length&&(d=_s(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=y1(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?tM(a[1],o)+s[2]+"/"+s[3]+m1(a[2],o):Fr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:_s(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,p=t.length-i.length-f;return _s(t.substr(0,f)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+dl(e,t,-n):Xu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?La(0,3-y.length):"")+y})+"."+La(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Xu(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return dl(e,t.slice(0,t.lastIndexOf(".")),n)+_s(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Lc(e,t,n){return(n|0)===n?dl(e,t,n):Qo(e,t,n)}function pOe(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var pX=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bm(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":v1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(pX))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function gOe(e,t,n,r){for(var i=[],s="",o=0,a="",l="t",c,d,f,p="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!v1(e,o))throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=Ah(t,n,e.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Ah(t,n),c==null))return"";for(s=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var w={t:a,v:a};if(c==null&&(c=Ah(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(w.v=c.H>=12?"P":"A"),w.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(w.v=c.H>=12?"PM":"AM"),w.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="/"?(c!=null&&(w.v=c.H>=12?"":""),w.t="T",o+=5,p="h"):(w.t="t",++o),c==null&&w.t==="T")return"";i[i.length]=w,l=a;break;case"[":for(s=a;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pX)){if(c==null&&(c=Ah(t,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",bm(e)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<e.length&&(a=e.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;e.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"t",v:a},++o;break}var C=0,S=0,R;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,l="h",C<1&&(C=1);break;case"s":(R=i[o].v.match(/\.0+$/))&&(S=Math.max(S,R[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var E="",P;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=sOe(i[o].t.charCodeAt(0),i[o].v,c,S),i[o].t="t";break;case"n":case"?":for(P=o+1;i[P]!=null&&((a=i[P].t)==="?"||a==="D"||(a===" "||a==="t")&&i[P+1]!=null&&(i[P+1].t==="?"||i[P+1].t==="t"&&i[P+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[P].v==="/"||i[P].v===" "&&i[P+1]!=null&&i[P+1].t=="?"));)i[o].v+=i[P].v,i[P]={v:"",t:";"},++P;E+=i[o].v,o=P-1;break;case"G":i[o].t="t",i[o].v=pf(t,n);break}var M="",A,D;if(E.length>0){E.charCodeAt(0)==40?(A=t<0&&E.charCodeAt(0)===45?-t:t,D=Lc("n",E,A)):(A=t<0&&r>1?-t:t,D=Lc("n",E,A),A<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),P=D.length-1;var k=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){k=o;break}var I=i.length;if(k===i.length&&D.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(P>=i[o].v.length-1?(P-=i[o].v.length,i[o].v=D.substr(P+1,i[o].v.length)):P<0?i[o].v="":(i[o].v=D.substr(0,P+1),P=-1),i[o].t="t",I=o);P>=0&&I<i.length&&(i[I].v=D.substr(0,P+1)+i[I].v)}else if(k!==i.length&&D.indexOf("E")===-1){for(P=D.indexOf(".")-1,o=k;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")-1:i[o].v.length-1,M=i[o].v.substr(d+1);d>=0;--d)P>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(M=D.charAt(P--)+M);i[o].v=M,i[o].t="t",I=o}for(P>=0&&I<i.length&&(i[I].v=D.substr(0,P+1)+i[I].v),P=D.indexOf(".")+1,o=k;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==k)){for(d=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")+1:0,M=i[o].v.substr(0,d);d<i[o].v.length;++d)P<D.length&&(M+=D.charAt(P++));i[o].v=M,i[o].t="t",I=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(A=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Lc(i[o].t,i[o].v,A),i[o].t="t");var B="";for(o=0;o!==i.length;++o)i[o]!=null&&(B+=i[o].v);return B}var o5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function a5(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function mOe(e,t){var n=pOe(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(o5),a=n[1].match(o5);return a5(t,o)?[r,n[0]]:a5(t,a)?[r,n[1]]:[r,n[o!=null&&a!=null?2:1]]}return[r,s]}function xa(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Bt)[e],r==null&&(r=n.table&&n.table[r5[e]]||Bt[r5[e]]),r==null&&(r=JMe[e]||"General");break}if(v1(r,0))return pf(t,n);t instanceof Date&&(t=oX(t,n.date1904));var i=mOe(r,t);if(v1(i[1]))return pf(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return gOe(i[1],t,n,i[0])}function Nc(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Bt[n]==null){t<0&&(t=n);continue}if(Bt[n]==e){t=n;break}}t<0&&(t=391)}return Bt[t]=e,t}function QE(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Nc(e[t],t)}function xm(){Bt=QMe()}var vOe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},gX=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function yOe(e){var t=typeof e=="number"?Bt[e]:e;return t=t.replace(gX,"(\\d+)"),new RegExp("^"+t+"$")}function wOe(e,t,n){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(t.match(gX)||[]).forEach(function(f,p){var m=parseInt(n[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":o=m;break;case"s":l=m;break;case"m":o>=0?a=m:i=m;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:r==-1&&i==-1&&s==-1?d:c+"T"+d}var COe=function(){var e={};e.version="1.2.0";function t(){for(var D=0,k=new Array(256),I=0;I!=256;++I)D=I,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,k[I]=D;return typeof Int32Array<"u"?new Int32Array(k):k}var n=t();function r(D){var k=0,I=0,B=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)N[B]=D[B];for(B=0;B!=256;++B)for(I=D[B],k=256+B;k<4096;k+=256)I=N[k]=I>>>8^D[I&255];var H=[];for(B=1;B!=16;++B)H[B-1]=typeof Int32Array<"u"?N.subarray(B*256,B*256+256):N.slice(B*256,B*256+256);return H}var i=r(n),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],d=i[5],f=i[6],p=i[7],m=i[8],y=i[9],w=i[10],C=i[11],S=i[12],R=i[13],E=i[14];function P(D,k){for(var I=k^-1,B=0,N=D.length;B<N;)I=I>>>8^n[(I^D.charCodeAt(B++))&255];return~I}function M(D,k){for(var I=k^-1,B=D.length-15,N=0;N<B;)I=E[D[N++]^I&255]^R[D[N++]^I>>8&255]^S[D[N++]^I>>16&255]^C[D[N++]^I>>>24]^w[D[N++]]^y[D[N++]]^m[D[N++]]^p[D[N++]]^f[D[N++]]^d[D[N++]]^c[D[N++]]^l[D[N++]]^a[D[N++]]^o[D[N++]]^s[D[N++]]^n[D[N++]];for(B+=15;N<B;)I=I>>>8^n[(I^D[N++])&255];return~I}function A(D,k){for(var I=k^-1,B=0,N=D.length,H=0,G=0;B<N;)H=D.charCodeAt(B++),H<128?I=I>>>8^n[(I^H)&255]:H<2048?(I=I>>>8^n[(I^(192|H>>6&31))&255],I=I>>>8^n[(I^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,G=D.charCodeAt(B++)&1023,I=I>>>8^n[(I^(240|H>>8&7))&255],I=I>>>8^n[(I^(128|H>>2&63))&255],I=I>>>8^n[(I^(128|G>>6&15|(H&3)<<4))&255],I=I>>>8^n[(I^(128|G&63))&255]):(I=I>>>8^n[(I^(224|H>>12&15))&255],I=I>>>8^n[(I^(128|H>>6&63))&255],I=I>>>8^n[(I^(128|H&63))&255]);return~I}return e.table=n,e.bstr=P,e.buf=M,e.str=A,e}(),Ft=function(){var t={};t.version="1.2.1";function n(j,Q){for(var q=j.split("/"),K=Q.split("/"),ee=0,ie=0,we=Math.min(q.length,K.length);ee<we;++ee){if(ie=q[ee].length-K[ee].length)return ie;if(q[ee]!=K[ee])return q[ee]<K[ee]?-1:1}return q.length-K.length}function r(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:r(j.slice(0,-1));var Q=j.lastIndexOf("/");return Q===-1?j:j.slice(0,Q+1)}function i(j){if(j.charAt(j.length-1)=="/")return i(j.slice(0,-1));var Q=j.lastIndexOf("/");return Q===-1?j:j.slice(Q+1)}function s(j,Q){typeof Q=="string"&&(Q=new Date(Q));var q=Q.getHours();q=q<<6|Q.getMinutes(),q=q<<5|Q.getSeconds()>>>1,j.write_shift(2,q);var K=Q.getFullYear()-1980;K=K<<4|Q.getMonth()+1,K=K<<5|Q.getDate(),j.write_shift(2,K)}function o(j){var Q=j.read_shift(2)&65535,q=j.read_shift(2)&65535,K=new Date,ee=q&31;q>>>=5;var ie=q&15;q>>>=4,K.setMilliseconds(0),K.setFullYear(q+1980),K.setMonth(ie-1),K.setDate(ee);var we=Q&31;Q>>>=5;var De=Q&63;return Q>>>=6,K.setHours(Q),K.setMinutes(De),K.setSeconds(we<<1),K}function a(j){Wi(j,0);for(var Q={},q=0;j.l<=j.length-4;){var K=j.read_shift(2),ee=j.read_shift(2),ie=j.l+ee,we={};switch(K){case 21589:q=j.read_shift(1),q&1&&(we.mtime=j.read_shift(4)),ee>5&&(q&2&&(we.atime=j.read_shift(4)),q&4&&(we.ctime=j.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}j.l=ie,Q[K]=we}return Q}var l;function c(){return l||(l={})}function d(j,Q){if(j[0]==80&&j[1]==75)return Ka(j,Q);if((j[0]|32)==109&&(j[1]|32)==105)return be(j,Q);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var q=3,K=512,ee=0,ie=0,we=0,De=0,me=0,ye=[],Te=j.slice(0,512);Wi(Te,0);var $e=f(Te);switch(q=$e[0],q){case 3:K=512;break;case 4:K=4096;break;case 0:if($e[1]==0)return Ka(j,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}K!==512&&(Te=j.slice(0,K),Wi(Te,28));var Ze=j.slice(0,K);p(Te,q);var ut=Te.read_shift(4,"i");if(q===3&&ut!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ut);Te.l+=4,we=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),De=Te.read_shift(4,"i"),ee=Te.read_shift(4,"i"),me=Te.read_shift(4,"i"),ie=Te.read_shift(4,"i");for(var tt=-1,it=0;it<109&&(tt=Te.read_shift(4,"i"),!(tt<0));++it)ye[it]=tt;var Dt=m(j,K);C(me,ie,Dt,K,ye);var un=R(Dt,we,ye,K);un[we].name="!Directory",ee>0&&De!==G&&(un[De].name="!MiniFAT"),un[ye[0]].name="!FAT",un.fat_addrs=ye,un.ssz=K;var rn={},xt=[],Nn=[],ys=[];E(we,un,Dt,xt,ee,rn,Nn,De),y(Nn,ys,xt),xt.shift();var Hr={FileIndex:Nn,FullPaths:ys};return Q&&Q.raw&&(Hr.raw={header:Ze,sectors:Dt}),Hr}function f(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(oe,"Header Signature: "),j.l+=16;var Q=j.read_shift(2,"u");return[j.read_shift(2,"u"),Q]}function p(j,Q){var q=9;switch(j.l+=2,q=j.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function m(j,Q){for(var q=Math.ceil(j.length/Q)-1,K=[],ee=1;ee<q;++ee)K[ee-1]=j.slice(ee*Q,(ee+1)*Q);return K[q-1]=j.slice(q*Q),K}function y(j,Q,q){for(var K=0,ee=0,ie=0,we=0,De=0,me=q.length,ye=[],Te=[];K<me;++K)ye[K]=Te[K]=K,Q[K]=q[K];for(;De<Te.length;++De)K=Te[De],ee=j[K].L,ie=j[K].R,we=j[K].C,ye[K]===K&&(ee!==-1&&ye[ee]!==ee&&(ye[K]=ye[ee]),ie!==-1&&ye[ie]!==ie&&(ye[K]=ye[ie])),we!==-1&&(ye[we]=K),ee!==-1&&K!=ye[K]&&(ye[ee]=ye[K],Te.lastIndexOf(ee)<De&&Te.push(ee)),ie!==-1&&K!=ye[K]&&(ye[ie]=ye[K],Te.lastIndexOf(ie)<De&&Te.push(ie));for(K=1;K<me;++K)ye[K]===K&&(ie!==-1&&ye[ie]!==ie?ye[K]=ye[ie]:ee!==-1&&ye[ee]!==ee&&(ye[K]=ye[ee]));for(K=1;K<me;++K)if(j[K].type!==0){if(De=K,De!=ye[De])do De=ye[De],Q[K]=Q[De]+"/"+Q[K];while(De!==0&&ye[De]!==-1&&De!=ye[De]);ye[K]=-1}for(Q[0]+="/",K=1;K<me;++K)j[K].type!==2&&(Q[K]+="/")}function w(j,Q,q){for(var K=j.start,ee=j.size,ie=[],we=K;q&&ee>0&&we>=0;)ie.push(Q.slice(we*H,we*H+H)),ee-=H,we=xh(q,we*4);return ie.length===0?Ve(0):Pi(ie).slice(0,j.size)}function C(j,Q,q,K,ee){var ie=G;if(j===G){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var we=q[j],De=(K>>>2)-1;if(!we)return;for(var me=0;me<De&&(ie=xh(we,me*4))!==G;++me)ee.push(ie);C(xh(we,K-4),Q-1,q,K,ee)}}function S(j,Q,q,K,ee){var ie=[],we=[];ee||(ee=[]);var De=K-1,me=0,ye=0;for(me=Q;me>=0;){ee[me]=!0,ie[ie.length]=me,we.push(j[me]);var Te=q[Math.floor(me*4/K)];if(ye=me*4&De,K<4+ye)throw new Error("FAT boundary crossed: "+me+" 4 "+K);if(!j[Te])break;me=xh(j[Te],ye)}return{nodes:ie,data:w5([we])}}function R(j,Q,q,K){var ee=j.length,ie=[],we=[],De=[],me=[],ye=K-1,Te=0,$e=0,Ze=0,ut=0;for(Te=0;Te<ee;++Te)if(De=[],Ze=Te+Q,Ze>=ee&&(Ze-=ee),!we[Ze]){me=[];var tt=[];for($e=Ze;$e>=0;){tt[$e]=!0,we[$e]=!0,De[De.length]=$e,me.push(j[$e]);var it=q[Math.floor($e*4/K)];if(ut=$e*4&ye,K<4+ut)throw new Error("FAT boundary crossed: "+$e+" 4 "+K);if(!j[it]||($e=xh(j[it],ut),tt[$e]))break}ie[Ze]={nodes:De,data:w5([me])}}return ie}function E(j,Q,q,K,ee,ie,we,De){for(var me=0,ye=K.length?2:0,Te=Q[j].data,$e=0,Ze=0,ut;$e<Te.length;$e+=128){var tt=Te.slice($e,$e+128);Wi(tt,64),Ze=tt.read_shift(2),ut=cM(tt,0,Ze-ye),K.push(ut);var it={name:ut,type:tt.read_shift(1),color:tt.read_shift(1),L:tt.read_shift(4,"i"),R:tt.read_shift(4,"i"),C:tt.read_shift(4,"i"),clsid:tt.read_shift(16),state:tt.read_shift(4,"i"),start:0,size:0},Dt=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);Dt!==0&&(it.ct=P(tt,tt.l-8));var un=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);un!==0&&(it.mt=P(tt,tt.l-8)),it.start=tt.read_shift(4,"i"),it.size=tt.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=G,it.name=""),it.type===5?(me=it.start,ee>0&&me!==G&&(Q[me].name="!StreamData")):it.size>=4096?(it.storage="fat",Q[it.start]===void 0&&(Q[it.start]=S(q,it.start,Q.fat_addrs,Q.ssz)),Q[it.start].name=it.name,it.content=Q[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:me!==G&&it.start!==G&&Q[me]&&(it.content=w(it,Q[me].data,(Q[De]||{}).data))),it.content&&Wi(it.content,0),ie[ut]=it,we.push(it)}}function P(j,Q){return new Date((go(j,Q+4)/1e7*Math.pow(2,32)+go(j,Q)/1e7-11644473600)*1e3)}function M(j,Q){return c(),d(l.readFileSync(j),Q)}function A(j,Q){var q=Q&&Q.type;switch(q||on&&Buffer.isBuffer(j)&&(q="buffer"),q||"base64"){case"file":return M(j,Q);case"base64":return d(yo(Fo(j)),Q);case"binary":return d(yo(j),Q)}return d(j,Q)}function D(j,Q){var q=Q||{},K=q.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=K+"/",j.FileIndex[0]={name:K,type:5}),q.CLSID&&(j.FileIndex[0].clsid=q.CLSID),k(j)}function k(j){var Q="Sh33tJ5";if(!Ft.find(j,"/"+Q)){var q=Ve(4);q[0]=55,q[1]=q[3]=50,q[2]=54,j.FileIndex.push({name:Q,type:2,content:q,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+Q),I(j)}}function I(j,Q){D(j);for(var q=!1,K=!1,ee=j.FullPaths.length-1;ee>=0;--ee){var ie=j.FileIndex[ee];switch(ie.type){case 0:K?q=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(ie.R*ie.L*ie.C)&&(q=!0),ie.R>-1&&ie.L>-1&&ie.R==ie.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!Q)){var we=new Date(1987,1,19),De=0,me=Object.create?Object.create(null):{},ye=[];for(ee=0;ee<j.FullPaths.length;++ee)me[j.FullPaths[ee]]=!0,j.FileIndex[ee].type!==0&&ye.push([j.FullPaths[ee],j.FileIndex[ee]]);for(ee=0;ee<ye.length;++ee){var Te=r(ye[ee][0]);K=me[Te],K||(ye.push([Te,{name:i(Te).replace("/",""),type:1,clsid:Z,ct:we,mt:we,content:null}]),me[Te]=!0)}for(ye.sort(function(ut,tt){return n(ut[0],tt[0])}),j.FullPaths=[],j.FileIndex=[],ee=0;ee<ye.length;++ee)j.FullPaths[ee]=ye[ee][0],j.FileIndex[ee]=ye[ee][1];for(ee=0;ee<ye.length;++ee){var $e=j.FileIndex[ee],Ze=j.FullPaths[ee];if($e.name=i(Ze).replace("/",""),$e.L=$e.R=$e.C=-($e.color=1),$e.size=$e.content?$e.content.length:0,$e.start=0,$e.clsid=$e.clsid||Z,ee===0)$e.C=ye.length>1?1:-1,$e.size=0,$e.type=5;else if(Ze.slice(-1)=="/"){for(De=ee+1;De<ye.length&&r(j.FullPaths[De])!=Ze;++De);for($e.C=De>=ye.length?-1:De,De=ee+1;De<ye.length&&r(j.FullPaths[De])!=r(Ze);++De);$e.R=De>=ye.length?-1:De,$e.type=1}else r(j.FullPaths[ee+1]||"")==r(Ze)&&($e.R=ee+1),$e.type=2}}}function B(j,Q){var q=Q||{};if(q.fileType=="mad")return Ee(j,q);switch(I(j),q.fileType){case"zip":return to(j,q)}var K=function(ut){for(var tt=0,it=0,Dt=0;Dt<ut.FileIndex.length;++Dt){var un=ut.FileIndex[Dt];if(un.content){var rn=un.content.length;rn>0&&(rn<4096?tt+=rn+63>>6:it+=rn+511>>9)}}for(var xt=ut.FullPaths.length+3>>2,Nn=tt+7>>3,ys=tt+127>>7,Hr=Nn+it+xt+ys,yn=Hr+127>>7,ws=yn<=109?0:Math.ceil((yn-109)/127);Hr+yn+ws+127>>7>yn;)ws=++yn<=109?0:Math.ceil((yn-109)/127);var wi=[1,ws,yn,ys,xt,it,tt,0];return ut.FileIndex[0].size=tt<<6,wi[7]=(ut.FileIndex[0].start=wi[0]+wi[1]+wi[2]+wi[3]+wi[4]+wi[5])+(wi[6]+7>>3),wi}(j),ee=Ve(K[7]<<9),ie=0,we=0;{for(ie=0;ie<8;++ie)ee.write_shift(1,le[ie]);for(ie=0;ie<8;++ie)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),ie=0;ie<3;++ie)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,K[2]),ee.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:G),ee.write_shift(4,K[3]),ee.write_shift(-4,K[1]?K[0]-1:G),ee.write_shift(4,K[1]),ie=0;ie<109;++ie)ee.write_shift(-4,ie<K[2]?K[1]+ie:-1)}if(K[1])for(we=0;we<K[1];++we){for(;ie<236+we*127;++ie)ee.write_shift(-4,ie<K[2]?K[1]+ie:-1);ee.write_shift(-4,we===K[1]-1?G:we+1)}var De=function(ut){for(we+=ut;ie<we-1;++ie)ee.write_shift(-4,ie+1);ut&&(++ie,ee.write_shift(-4,G))};for(we=ie=0,we+=K[1];ie<we;++ie)ee.write_shift(-4,se.DIFSECT);for(we+=K[2];ie<we;++ie)ee.write_shift(-4,se.FATSECT);De(K[3]),De(K[4]);for(var me=0,ye=0,Te=j.FileIndex[0];me<j.FileIndex.length;++me)Te=j.FileIndex[me],Te.content&&(ye=Te.content.length,!(ye<4096)&&(Te.start=we,De(ye+511>>9)));for(De(K[6]+7>>3);ee.l&511;)ee.write_shift(-4,se.ENDOFCHAIN);for(we=ie=0,me=0;me<j.FileIndex.length;++me)Te=j.FileIndex[me],Te.content&&(ye=Te.content.length,!(!ye||ye>=4096)&&(Te.start=we,De(ye+63>>6)));for(;ee.l&511;)ee.write_shift(-4,se.ENDOFCHAIN);for(ie=0;ie<K[4]<<2;++ie){var $e=j.FullPaths[ie];if(!$e||$e.length===0){for(me=0;me<17;++me)ee.write_shift(4,0);for(me=0;me<3;++me)ee.write_shift(4,-1);for(me=0;me<12;++me)ee.write_shift(4,0);continue}Te=j.FileIndex[ie],ie===0&&(Te.start=Te.size?Te.start-1:G);var Ze=ie===0&&q.root||Te.name;if(ye=2*(Ze.length+1),ee.write_shift(64,Ze,"utf16le"),ee.write_shift(2,ye),ee.write_shift(1,Te.type),ee.write_shift(1,Te.color),ee.write_shift(-4,Te.L),ee.write_shift(-4,Te.R),ee.write_shift(-4,Te.C),Te.clsid)ee.write_shift(16,Te.clsid,"hex");else for(me=0;me<4;++me)ee.write_shift(4,0);ee.write_shift(4,Te.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,Te.start),ee.write_shift(4,Te.size),ee.write_shift(4,0)}for(ie=1;ie<j.FileIndex.length;++ie)if(Te=j.FileIndex[ie],Te.size>=4096)if(ee.l=Te.start+1<<9,on&&Buffer.isBuffer(Te.content))Te.content.copy(ee,ee.l,0,Te.size),ee.l+=Te.size+511&-512;else{for(me=0;me<Te.size;++me)ee.write_shift(1,Te.content[me]);for(;me&511;++me)ee.write_shift(1,0)}for(ie=1;ie<j.FileIndex.length;++ie)if(Te=j.FileIndex[ie],Te.size>0&&Te.size<4096)if(on&&Buffer.isBuffer(Te.content))Te.content.copy(ee,ee.l,0,Te.size),ee.l+=Te.size+63&-64;else{for(me=0;me<Te.size;++me)ee.write_shift(1,Te.content[me]);for(;me&63;++me)ee.write_shift(1,0)}if(on)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function N(j,Q){var q=j.FullPaths.map(function(me){return me.toUpperCase()}),K=q.map(function(me){var ye=me.split("/");return ye[ye.length-(me.slice(-1)=="/"?2:1)]}),ee=!1;Q.charCodeAt(0)===47?(ee=!0,Q=q[0].slice(0,-1)+Q):ee=Q.indexOf("/")!==-1;var ie=Q.toUpperCase(),we=ee===!0?q.indexOf(ie):K.indexOf(ie);if(we!==-1)return j.FileIndex[we];var De=!ie.match(fv);for(ie=ie.replace(Ms,""),De&&(ie=ie.replace(fv,"!")),we=0;we<q.length;++we)if((De?q[we].replace(fv,"!"):q[we]).replace(Ms,"")==ie||(De?K[we].replace(fv,"!"):K[we]).replace(Ms,"")==ie)return j.FileIndex[we];return null}var H=64,G=-2,oe="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function fe(j,Q,q){c();var K=B(j,q);l.writeFileSync(Q,K)}function ne(j){for(var Q=new Array(j.length),q=0;q<j.length;++q)Q[q]=String.fromCharCode(j[q]);return Q.join("")}function L(j,Q){var q=B(j,Q);switch(Q&&Q.type||"buffer"){case"file":return c(),l.writeFileSync(Q.filename,q),q;case"binary":return typeof q=="string"?q:ne(q);case"base64":return My(typeof q=="string"?q:ne(q));case"buffer":if(on)return Buffer.isBuffer(q)?q:nu(q);case"array":return typeof q=="string"?yo(q):q}return q}var ae;function W(j){try{var Q=j.InflateRaw,q=new Q;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)ae=j;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function V(j,Q){if(!ae)return Vr(j,Q);var q=ae.InflateRaw,K=new q,ee=K._processChunk(j.slice(j.l),K._finishFlushFlag);return j.l+=K.bytesRead,ee}function X(j){return ae?ae.deflateRawSync(j):gt(j)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Fe(j){var Q=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var _e=typeof Uint8Array<"u",Pe=_e?new Uint8Array(256):[],nt=0;nt<256;++nt)Pe[nt]=Fe(nt);function re(j,Q){var q=Pe[j&255];return Q<=8?q>>>8-Q:(q=q<<8|Pe[j>>8&255],Q<=16?q>>>16-Q:(q=q<<8|Pe[j>>16&255],q>>>24-Q))}function St(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=6?0:j[K+1]<<8))>>>q&3}function ze(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=5?0:j[K+1]<<8))>>>q&7}function Je(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=4?0:j[K+1]<<8))>>>q&15}function et(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=3?0:j[K+1]<<8))>>>q&31}function Me(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=1?0:j[K+1]<<8))>>>q&127}function ft(j,Q,q){var K=Q&7,ee=Q>>>3,ie=(1<<q)-1,we=j[ee]>>>K;return q<8-K||(we|=j[ee+1]<<8-K,q<16-K)||(we|=j[ee+2]<<16-K,q<24-K)||(we|=j[ee+3]<<24-K),we&ie}function kt(j,Q,q){var K=Q&7,ee=Q>>>3;return K<=5?j[ee]|=(q&7)<<K:(j[ee]|=q<<K&255,j[ee+1]=(q&7)>>8-K),Q+3}function Ct(j,Q,q){var K=Q&7,ee=Q>>>3;return q=(q&1)<<K,j[ee]|=q,Q+1}function It(j,Q,q){var K=Q&7,ee=Q>>>3;return q<<=K,j[ee]|=q&255,q>>>=8,j[ee+1]=q,Q+8}function Vt(j,Q,q){var K=Q&7,ee=Q>>>3;return q<<=K,j[ee]|=q&255,q>>>=8,j[ee+1]=q&255,j[ee+2]=q>>>8,Q+16}function Kt(j,Q){var q=j.length,K=2*q>Q?2*q:Q+5,ee=0;if(q>=Q)return j;if(on){var ie=e5(K);if(j.copy)j.copy(ie);else for(;ee<j.length;++ee)ie[ee]=j[ee];return ie}else if(_e){var we=new Uint8Array(K);if(we.set)we.set(j);else for(;ee<q;++ee)we[ee]=j[ee];return we}return j.length=K,j}function Jt(j){for(var Q=new Array(j),q=0;q<j;++q)Q[q]=0;return Q}function An(j,Q,q){var K=1,ee=0,ie=0,we=0,De=0,me=j.length,ye=_e?new Uint16Array(32):Jt(32);for(ie=0;ie<32;++ie)ye[ie]=0;for(ie=me;ie<q;++ie)j[ie]=0;me=j.length;var Te=_e?new Uint16Array(me):Jt(me);for(ie=0;ie<me;++ie)ye[ee=j[ie]]++,K<ee&&(K=ee),Te[ie]=0;for(ye[0]=0,ie=1;ie<=K;++ie)ye[ie+16]=De=De+ye[ie-1]<<1;for(ie=0;ie<me;++ie)De=j[ie],De!=0&&(Te[ie]=ye[De+16]++);var $e=0;for(ie=0;ie<me;++ie)if($e=j[ie],$e!=0)for(De=re(Te[ie],K)>>K-$e,we=(1<<K+4-$e)-1;we>=0;--we)Q[De|we<<$e]=$e&15|ie<<4;return K}var ve=_e?new Uint16Array(512):Jt(512),Le=_e?new Uint16Array(32):Jt(32);if(!_e){for(var Xe=0;Xe<512;++Xe)ve[Xe]=0;for(Xe=0;Xe<32;++Xe)Le[Xe]=0}(function(){for(var j=[],Q=0;Q<32;Q++)j.push(5);An(j,Le,32);var q=[];for(Q=0;Q<=143;Q++)q.push(8);for(;Q<=255;Q++)q.push(9);for(;Q<=279;Q++)q.push(7);for(;Q<=287;Q++)q.push(8);An(q,ve,288)})();var ht=function(){for(var Q=_e?new Uint8Array(32768):[],q=0,K=0;q<Be.length-1;++q)for(;K<Be[q+1];++K)Q[K]=q;for(;K<32768;++K)Q[K]=29;var ee=_e?new Uint8Array(259):[];for(q=0,K=0;q<he.length-1;++q)for(;K<he[q+1];++K)ee[K]=q;function ie(De,me){for(var ye=0;ye<De.length;){var Te=Math.min(65535,De.length-ye),$e=ye+Te==De.length;for(me.write_shift(1,+$e),me.write_shift(2,Te),me.write_shift(2,~Te&65535);Te-- >0;)me[me.l++]=De[ye++]}return me.l}function we(De,me){for(var ye=0,Te=0,$e=_e?new Uint16Array(32768):[];Te<De.length;){var Ze=Math.min(65535,De.length-Te);if(Ze<10){for(ye=kt(me,ye,+(Te+Ze==De.length)),ye&7&&(ye+=8-(ye&7)),me.l=ye/8|0,me.write_shift(2,Ze),me.write_shift(2,~Ze&65535);Ze-- >0;)me[me.l++]=De[Te++];ye=me.l*8;continue}ye=kt(me,ye,+(Te+Ze==De.length)+2);for(var ut=0;Ze-- >0;){var tt=De[Te];ut=(ut<<5^tt)&32767;var it=-1,Dt=0;if((it=$e[ut])&&(it|=Te&-32768,it>Te&&(it-=32768),it<Te))for(;De[it+Dt]==De[Te+Dt]&&Dt<250;)++Dt;if(Dt>2){tt=ee[Dt],tt<=22?ye=It(me,ye,Pe[tt+1]>>1)-1:(It(me,ye,3),ye+=5,It(me,ye,Pe[tt-23]>>5),ye+=3);var un=tt<8?0:tt-4>>2;un>0&&(Vt(me,ye,Dt-he[tt]),ye+=un),tt=Q[Te-it],ye=It(me,ye,Pe[tt]>>3),ye-=3;var rn=tt<4?0:tt-2>>1;rn>0&&(Vt(me,ye,Te-it-Be[tt]),ye+=rn);for(var xt=0;xt<Dt;++xt)$e[ut]=Te&32767,ut=(ut<<5^De[Te])&32767,++Te;Ze-=Dt-1}else tt<=143?tt=tt+48:ye=Ct(me,ye,1),ye=It(me,ye,Pe[tt]),$e[ut]=Te&32767,++Te}ye=It(me,ye,0)-1}return me.l=(ye+7)/8|0,me.l}return function(me,ye){return me.length<8?ie(me,ye):we(me,ye)}}();function gt(j){var Q=Ve(50+Math.floor(j.length*1.1)),q=ht(j,Q);return Q.slice(0,q)}var Yt=_e?new Uint16Array(32768):Jt(32768),Fn=_e?new Uint16Array(32768):Jt(32768),nn=_e?new Uint16Array(128):Jt(128),gr=1,Ar=1;function ar(j,Q){var q=et(j,Q)+257;Q+=5;var K=et(j,Q)+1;Q+=5;var ee=Je(j,Q)+4;Q+=4;for(var ie=0,we=_e?new Uint8Array(19):Jt(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,ye=_e?new Uint8Array(8):Jt(8),Te=_e?new Uint8Array(8):Jt(8),$e=we.length,Ze=0;Ze<ee;++Ze)we[te[Ze]]=ie=ze(j,Q),me<ie&&(me=ie),ye[ie]++,Q+=3;var ut=0;for(ye[0]=0,Ze=1;Ze<=me;++Ze)Te[Ze]=ut=ut+ye[Ze-1]<<1;for(Ze=0;Ze<$e;++Ze)(ut=we[Ze])!=0&&(De[Ze]=Te[ut]++);var tt=0;for(Ze=0;Ze<$e;++Ze)if(tt=we[Ze],tt!=0){ut=Pe[De[Ze]]>>8-tt;for(var it=(1<<7-tt)-1;it>=0;--it)nn[ut|it<<tt]=tt&7|Ze<<3}var Dt=[];for(me=1;Dt.length<q+K;)switch(ut=nn[Me(j,Q)],Q+=ut&7,ut>>>=3){case 16:for(ie=3+St(j,Q),Q+=2,ut=Dt[Dt.length-1];ie-- >0;)Dt.push(ut);break;case 17:for(ie=3+ze(j,Q),Q+=3;ie-- >0;)Dt.push(0);break;case 18:for(ie=11+Me(j,Q),Q+=7;ie-- >0;)Dt.push(0);break;default:Dt.push(ut),me<ut&&(me=ut);break}var un=Dt.slice(0,q),rn=Dt.slice(q);for(Ze=q;Ze<286;++Ze)un[Ze]=0;for(Ze=K;Ze<30;++Ze)rn[Ze]=0;return gr=An(un,Yt,286),Ar=An(rn,Fn,30),Q}function Br(j,Q){if(j[0]==3&&!(j[1]&3))return[yd(Q),2];for(var q=0,K=0,ee=e5(Q||1<<18),ie=0,we=ee.length>>>0,De=0,me=0;(K&1)==0;){if(K=ze(j,q),q+=3,K>>>1)K>>1==1?(De=9,me=5):(q=ar(j,q),De=gr,me=Ar);else{q&7&&(q+=8-(q&7));var ye=j[q>>>3]|j[(q>>>3)+1]<<8;if(q+=32,ye>0)for(!Q&&we<ie+ye&&(ee=Kt(ee,ie+ye),we=ee.length);ye-- >0;)ee[ie++]=j[q>>>3],q+=8;continue}for(;;){!Q&&we<ie+32767&&(ee=Kt(ee,ie+32767),we=ee.length);var Te=ft(j,q,De),$e=K>>>1==1?ve[Te]:Yt[Te];if(q+=$e&15,$e>>>=4,($e>>>8&255)===0)ee[ie++]=$e;else{if($e==256)break;$e-=257;var Ze=$e<8?0:$e-4>>2;Ze>5&&(Ze=0);var ut=ie+he[$e];Ze>0&&(ut+=ft(j,q,Ze),q+=Ze),Te=ft(j,q,me),$e=K>>>1==1?Le[Te]:Fn[Te],q+=$e&15,$e>>>=4;var tt=$e<4?0:$e-2>>1,it=Be[$e];for(tt>0&&(it+=ft(j,q,tt),q+=tt),!Q&&we<ut&&(ee=Kt(ee,ut+100),we=ee.length);ie<ut;)ee[ie]=ee[ie-it],++ie}}}return Q?[ee,q+7>>>3]:[ee.slice(0,ie),q+7>>>3]}function Vr(j,Q){var q=j.slice(j.l||0),K=Br(q,Q);return j.l+=K[1],K[0]}function Mo(j,Q){if(j)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function Ka(j,Q){var q=j;Wi(q,0);var K=[],ee=[],ie={FileIndex:K,FullPaths:ee};D(ie,{root:Q.root});for(var we=q.length-4;(q[we]!=80||q[we+1]!=75||q[we+2]!=5||q[we+3]!=6)&&we>=0;)--we;q.l=we+4,q.l+=4;var De=q.read_shift(2);q.l+=6;var me=q.read_shift(4);for(q.l=me,we=0;we<De;++we){q.l+=20;var ye=q.read_shift(4),Te=q.read_shift(4),$e=q.read_shift(2),Ze=q.read_shift(2),ut=q.read_shift(2);q.l+=8;var tt=q.read_shift(4),it=a(q.slice(q.l+$e,q.l+$e+Ze));q.l+=$e+Ze+ut;var Dt=q.l;q.l=tt+4,Os(q,ye,Te,ie,it),q.l=Dt}return ie}function Os(j,Q,q,K,ee){j.l+=2;var ie=j.read_shift(2),we=j.read_shift(2),De=o(j);if(ie&8257)throw new Error("Unsupported ZIP encryption");for(var me=j.read_shift(4),ye=j.read_shift(4),Te=j.read_shift(4),$e=j.read_shift(2),Ze=j.read_shift(2),ut="",tt=0;tt<$e;++tt)ut+=String.fromCharCode(j[j.l++]);if(Ze){var it=a(j.slice(j.l,j.l+Ze));(it[21589]||{}).mt&&(De=it[21589].mt),((ee||{})[21589]||{}).mt&&(De=ee[21589].mt)}j.l+=Ze;var Dt=j.slice(j.l,j.l+ye);switch(we){case 8:Dt=V(j,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var un=!1;ie&8&&(me=j.read_shift(4),me==134695760&&(me=j.read_shift(4),un=!0),ye=j.read_shift(4),Te=j.read_shift(4)),ye!=Q&&Mo(un,"Bad compressed size: "+Q+" != "+ye),Te!=q&&Mo(un,"Bad uncompressed size: "+q+" != "+Te),Qe(K,ut,Dt,{unsafe:!0,mt:De})}function to(j,Q){var q=Q||{},K=[],ee=[],ie=Ve(1),we=q.compression?8:0,De=0,me=0,ye=0,Te=0,$e=0,Ze=j.FullPaths[0],ut=Ze,tt=j.FileIndex[0],it=[],Dt=0;for(me=1;me<j.FullPaths.length;++me)if(ut=j.FullPaths[me].slice(Ze.length),tt=j.FileIndex[me],!(!tt.size||!tt.content||ut=="Sh33tJ5")){var un=Te,rn=Ve(ut.length);for(ye=0;ye<ut.length;++ye)rn.write_shift(1,ut.charCodeAt(ye)&127);rn=rn.slice(0,rn.l),it[$e]=COe.buf(tt.content,0);var xt=tt.content;we==8&&(xt=X(xt)),ie=Ve(30),ie.write_shift(4,67324752),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,we),tt.mt?s(ie,tt.mt):ie.write_shift(4,0),ie.write_shift(-4,it[$e]),ie.write_shift(4,xt.length),ie.write_shift(4,tt.content.length),ie.write_shift(2,rn.length),ie.write_shift(2,0),Te+=ie.length,K.push(ie),Te+=rn.length,K.push(rn),Te+=xt.length,K.push(xt),ie=Ve(46),ie.write_shift(4,33639248),ie.write_shift(2,0),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,we),ie.write_shift(4,0),ie.write_shift(-4,it[$e]),ie.write_shift(4,xt.length),ie.write_shift(4,tt.content.length),ie.write_shift(2,rn.length),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(4,0),ie.write_shift(4,un),Dt+=ie.l,ee.push(ie),Dt+=rn.length,ee.push(rn),++$e}return ie=Ve(22),ie.write_shift(4,101010256),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,$e),ie.write_shift(2,$e),ie.write_shift(4,Dt),ie.write_shift(4,Te),ie.write_shift(2,0),Pi([Pi(K),Pi(ee),ie])}var no={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Oi(j,Q){if(j.ctype)return j.ctype;var q=j.name||"",K=q.match(/\.([^\.]+)$/);return K&&no[K[1]]||Q&&(K=(q=Q).match(/[\.\\]([^\.\\])+$/),K&&no[K[1]])?no[K[1]]:"application/octet-stream"}function Oo(j){for(var Q=My(j),q=[],K=0;K<Q.length;K+=76)q.push(Q.slice(K,K+76));return q.join(`\r
`)+`\r
`}function Lo(j){var Q=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ye){var Te=ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],K=Q.split(`\r
`),ee=0;ee<K.length;++ee){var ie=K[ee];if(ie.length==0){q.push("");continue}for(var we=0;we<ie.length;){var De=76,me=ie.slice(we,we+De);me.charAt(De-1)=="="?De--:me.charAt(De-2)=="="?De-=2:me.charAt(De-3)=="="&&(De-=3),me=ie.slice(we,we+De),we+=De,we<ie.length&&(me+="="),q.push(me)}}return q.join(`\r
`)}function Ya(j){for(var Q=[],q=0;q<j.length;++q){for(var K=j[q];q<=j.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+j[++q];Q.push(K)}for(var ee=0;ee<Q.length;++ee)Q[ee]=Q[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(ie){return String.fromCharCode(parseInt(ie.slice(1),16))});return yo(Q.join(`\r
`))}function de(j,Q,q){for(var K="",ee="",ie="",we,De=0;De<10;++De){var me=Q[De];if(!me||me.match(/^\s*$/))break;var ye=me.match(/^(.*?):\s*([^\s].*)$/);if(ye)switch(ye[1].toLowerCase()){case"content-location":K=ye[2].trim();break;case"content-type":ie=ye[2].trim();break;case"content-transfer-encoding":ee=ye[2].trim();break}}switch(++De,ee.toLowerCase()){case"base64":we=yo(Fo(Q.slice(De).join("")));break;case"quoted-printable":we=Ya(Q.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var Te=Qe(j,K.slice(q.length),we,{unsafe:!0});ie&&(Te.ctype=ie)}function be(j,Q){if(ne(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=Q&&Q.root||"",K=(on&&Buffer.isBuffer(j)?j.toString("binary"):ne(j)).split(`\r
`),ee=0,ie="";for(ee=0;ee<K.length;++ee)if(ie=K[ee],!!/^Content-Location:/i.test(ie)&&(ie=ie.slice(ie.indexOf("file")),q||(q=ie.slice(0,ie.lastIndexOf("/")+1)),ie.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),ie.slice(0,q.length)!=q););var we=(K[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var De="--"+(we[1]||""),me=[],ye=[],Te={FileIndex:me,FullPaths:ye};D(Te);var $e,Ze=0;for(ee=0;ee<K.length;++ee){var ut=K[ee];ut!==De&&ut!==De+"--"||(Ze++&&de(Te,K.slice($e,ee),q),$e=ee)}return Te}function Ee(j,Q){var q=Q||{},K=q.boundary||"SheetJS";K="------="+K;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],ie=j.FullPaths[0],we=ie,De=j.FileIndex[0],me=1;me<j.FullPaths.length;++me)if(we=j.FullPaths[me].slice(ie.length),De=j.FileIndex[me],!(!De.size||!De.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var ye=De.content,Te=on&&Buffer.isBuffer(ye)?ye.toString("binary"):ne(ye),$e=0,Ze=Math.min(1024,Te.length),ut=0,tt=0;tt<=Ze;++tt)(ut=Te.charCodeAt(tt))>=32&&ut<128&&++$e;var it=$e>=Ze*4/5;ee.push(K),ee.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+we),ee.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),ee.push("Content-Type: "+Oi(De,we)),ee.push(""),ee.push(it?Lo(Te):Oo(Te))}return ee.push(K+`--\r
`),ee.join(`\r
`)}function je(j){var Q={};return D(Q,j),Q}function Qe(j,Q,q,K){var ee=K&&K.unsafe;ee||D(j);var ie=!ee&&Ft.find(j,Q);if(!ie){var we=j.FullPaths[0];Q.slice(0,we.length)==we?we=Q:(we.slice(-1)!="/"&&(we+="/"),we=(we+Q).replace("//","/")),ie={name:i(Q),type:2},j.FileIndex.push(ie),j.FullPaths.push(we),ee||Ft.utils.cfb_gc(j)}return ie.content=q,ie.size=q?q.length:0,K&&(K.CLSID&&(ie.clsid=K.CLSID),K.mt&&(ie.mt=K.mt),K.ct&&(ie.ct=K.ct)),ie}function mt(j,Q){D(j);var q=Ft.find(j,Q);if(q){for(var K=0;K<j.FileIndex.length;++K)if(j.FileIndex[K]==q)return j.FileIndex.splice(K,1),j.FullPaths.splice(K,1),!0}return!1}function bt(j,Q,q){D(j);var K=Ft.find(j,Q);if(K){for(var ee=0;ee<j.FileIndex.length;++ee)if(j.FileIndex[ee]==K)return j.FileIndex[ee].name=i(q),j.FullPaths[ee]=q,!0}return!1}function yt(j){I(j,!0)}return t.find=N,t.read=A,t.parse=d,t.write=L,t.writeFile=fe,t.utils={cfb_new:je,cfb_add:Qe,cfb_del:mt,cfb_mov:bt,cfb_gc:yt,ReadShift:Iv,CheckField:NX,prep_blob:Wi,bconcat:Pi,use_zlib:W,_deflateRaw:gt,_inflateRaw:Vr,consts:se},t}();function bOe(e){return typeof e=="string"?XE(e):Array.isArray(e)?qMe(e):e}function Zw(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=XE(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?El(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var i=new Blob([bOe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Od(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function xOe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Lr(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function l5(e,t){for(var n=[],r=Lr(e),i=0;i!==r.length;++i)n[e[r[i]][t]]==null&&(n[e[r[i]][t]]=r[i]);return n}function JE(e){for(var t=[],n=Lr(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function ZE(e){for(var t=[],n=Lr(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function SOe(e){for(var t=[],n=Lr(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var w1=new Date(1899,11,30,0,0,0);function yi(e,t){var n=e.getTime(),r=w1.getTime()+(e.getTimezoneOffset()-w1.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var mX=new Date,EOe=w1.getTime()+(mX.getTimezoneOffset()-w1.getTimezoneOffset())*6e4,c5=mX.getTimezoneOffset();function eT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+EOe),t.getTimezoneOffset()!==c5&&t.setTime(t.getTime()+(t.getTimezoneOffset()-c5)*6e4),t}function TOe(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var u5=new Date("2017-02-19T19:06:09.000Z"),vX=isNaN(u5.getFullYear())?new Date("2/19/17"):u5,ROe=vX.getFullYear()==2017;function hr(e,t){var n=new Date(e);if(ROe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(vX.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function gf(e,t){if(on&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return El(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return El(iX(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return El(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return El(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function fr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=fr(e[n]));return t}function Fr(e,t){for(var n="";n.length<t;)n+=e;return n}function Va(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var _Oe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Kg(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&_Oe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var AOe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],a=1;a<s.length;++a)o.push(i),o.push(s[a]);return o}}();function yX(e){return e?e.content&&e.type?gf(e.content,!0):e.data?hv(e.data):e.asNodeBuffer&&on?hv(e.asNodeBuffer().toString("binary")):e.asBinary?hv(e.asBinary()):e._data&&e._data.getContent?hv(gf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function wX(e){if(!e)return null;if(e.data)return J6(e.data);if(e.asNodeBuffer&&on)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?J6(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function DOe(e){return e&&e.name.slice(-4)===".bin"?wX(e):yX(e)}function ra(e,t){for(var n=e.FullPaths||Lr(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function rM(e,t){var n=ra(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function ri(e,t,n){if(!n)return DOe(rM(e,t));if(!t)return null;try{return ri(e,t)}catch{return null}}function wo(e,t,n){if(!n)return yX(rM(e,t));if(!t)return null;try{return wo(e,t)}catch{return null}}function POe(e,t,n){return wX(rM(e,t))}function d5(e){for(var t=e.FullPaths||Lr(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function tn(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return on?r=nu(n):r=KMe(n),Ft.utils.cfb_add(e,t,r)}Ft.utils.cfb_add(e,t,n)}else e.file(t,n)}function iM(){return Ft.utils.cfb_new()}function CX(e,t){switch(t.type){case"base64":return Ft.read(e,{type:"base64"});case"binary":return Ft.read(e,{type:"binary"});case"buffer":case"array":return Ft.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function pv(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Qr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,kOe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,h5=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,FOe=/<[^>]*>/g,ms=Qr.match(h5)?h5:FOe,IOe=/<\w*:/,MOe=/<(\/?)\w+:/;function $t(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(kOe),a=0,l="",c=0,d="",f="",p=1;if(o)for(c=0;c!=o.length;++c){for(f=o[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(p=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+p,f.length-p),a=0;a!=d.length&&d.charCodeAt(a)!==58;++a);if(a===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,r[d.toLowerCase()]=l;else{var m=(a===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(a+1);if(r[m]&&d.slice(a-3,a)=="ext")continue;r[m]=l,r[m.toLowerCase()]=l}}return r}function Jl(e){return e.replace(MOe,"<$1")}var bX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sM=JE(bX),Rn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(a,l){return bX[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),oM=/[&<>'"]/g,OOe=/[\u0000-\u0008\u000b-\u001f]/g;function qn(e){var t=e+"";return t.replace(oM,function(n){return sM[n]}).replace(OOe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function f5(e){return qn(e).replace(/ /g,"_x0020_")}var xX=/[\u0000-\u001f]/g;function aM(e){var t=e+"";return t.replace(oM,function(n){return sM[n]}).replace(/\n/g,"<br/>").replace(xX,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function LOe(e){var t=e+"";return t.replace(oM,function(n){return sM[n]}).replace(xX,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var p5=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function NOe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function cr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function DA(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=e.charCodeAt(n++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function g5(e){var t=yd(2*e.length),n,r,i=1,s=0,o=0,a;for(r=0;r<e.length;r+=i)i=1,(a=e.charCodeAt(r))<128?n=a:a<224?(n=(a&31)*64+(e.charCodeAt(r+1)&63),i=2):a<240?(n=(a&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(a&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function m5(e){return nu(e,"binary").toString("utf8")}var ix="foo bar baz",Zn=on&&(m5(ix)==DA(ix)&&m5||g5(ix)==DA(ix)&&g5)||DA,El=on?function(e){return nu(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Ly=function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),SX=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),BOe=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),VOe=/<\/?(?:vt:)?variant>/g,HOe=/<(?:vt:)([^>]*)>([\s\S]*)</;function v5(e,t){var n=$t(e),r=e.match(BOe(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(VOe,"").match(HOe);o&&i.push({v:Zn(o[2]),t:o[1]})}),i}var EX=/(^\s|\s$|\n)/;function Ki(e,t){return"<"+e+(t.match(EX)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ny(e){return Lr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function st(e,t,n){return"<"+e+(n!=null?Ny(n):"")+(t!=null?(t.match(EX)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ik(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function GOe(e,t){switch(typeof e){case"string":var n=st("vt:lpwstr",qn(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return st((e|0)==e?"vt:i4":"vt:r8",qn(String(e)));case"boolean":return st("vt:bool",e?"true":"false")}if(e instanceof Date)return st("vt:filetime",ik(e));throw new Error("Unable to serialize "+e)}function lM(e){if(on&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Zn(Od(eM(e)));throw new Error("Bad input format: expected Buffer or string")}var By=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,mi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Nf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],po={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function UOe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function zOe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var y5=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},w5=on?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:nu(t)})):y5(e)}:y5,C5=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Ac(e,i)));return r.join("").replace(Ms,"")},cM=on?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ms,""):C5(e,t,n)}:C5,b5=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},TX=on?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):b5(e,t,n)}:b5,x5=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Wp(e,i)));return r.join("")},eC=on?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):x5(t,n,r)}:x5,RX=function(e,t){var n=go(e,t);return n>0?eC(e,t+4,t+4+n-1):""},_X=RX,AX=function(e,t){var n=go(e,t);return n>0?eC(e,t+4,t+4+n-1):""},DX=AX,PX=function(e,t){var n=2*go(e,t);return n>0?eC(e,t+4,t+4+n-1):""},kX=PX,FX=function(t,n){var r=go(t,n);return r>0?cM(t,n+4,n+4+r):""},IX=FX,MX=function(e,t){var n=go(e,t);return n>0?eC(e,t+4,t+4+n):""},OX=MX,LX=function(e,t){return UOe(e,t)},C1=LX,uM=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};on&&(_X=function(t,n){if(!Buffer.isBuffer(t))return RX(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},DX=function(t,n){if(!Buffer.isBuffer(t))return AX(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},kX=function(t,n){if(!Buffer.isBuffer(t))return PX(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},IX=function(t,n){if(!Buffer.isBuffer(t))return FX(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},OX=function(t,n){if(!Buffer.isBuffer(t))return MX(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},C1=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):LX(t,n)},uM=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Wp=function(e,t){return e[t]},Ac=function(e,t){return e[t+1]*256+e[t]},jOe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},go=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},xh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},WOe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Iv(e,t){var n="",r,i,s=[],o,a,l,c;switch(t){case"dbcs":if(c=this.l,on&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Ac(this,c)),c+=2;e*=2;break;case"utf8":n=eC(this,this.l,this.l+e);break;case"utf16le":e*=2,n=cM(this,this.l,this.l+e);break;case"wstr":return Iv.call(this,e,"dbcs");case"lpstr-ansi":n=_X(this,this.l),e=4+go(this,this.l);break;case"lpstr-cp":n=DX(this,this.l),e=4+go(this,this.l);break;case"lpwstr":n=kX(this,this.l),e=4+2*go(this,this.l);break;case"lpp4":e=4+go(this,this.l),n=IX(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+go(this,this.l),n=OX(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Wp(this,this.l+e++))!==0;)s.push(rx(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=Ac(this,this.l+e))!==0;)s.push(rx(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Wp(this,c),this.l=c+1,a=Iv.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(rx(Ac(this,c))),c+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Wp(this,c),this.l=c+1,a=Iv.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(rx(Wp(this,c))),c+=1}n=s.join("");break;default:switch(e){case 1:return r=Wp(this,this.l),this.l++,r;case 2:return r=(t==="i"?jOe:Ac)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?xh:WOe)(this,this.l),this.l+=4,r):(i=go(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=C1(this,this.l):i=C1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=TX(this,this.l,e);break}}return this.l+=e,n}var $Oe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},qOe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},KOe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function YOe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)KOe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,$Oe(this,t,this.l);break;case 8:if(r=8,n==="f"){zOe(this,t,this.l);break}case 16:break;case-4:r=4,qOe(this,t,this.l);break}return this.l+=r,this}function NX(e,t){var n=TX(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Wi(e,t){e.l=t,e.read_shift=Iv,e.chk=NX,e.write_shift=YOe}function fs(e,t){e.l+=t}function Ve(e){var t=yd(e);return Wi(t,0),t}function ru(e,t,n){if(e){var r,i,s;Wi(e,e.l||0);for(var o=e.length,a=0,l=0;e.l<o;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var c=jy[a]||jy[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;l=e.l+s;var d=c.f&&c.f(e,s,n);if(e.l=l,t(d,c,a))return}}}function Ks(){var e=[],t=on?256:2048,n=function(c){var d=Ve(c);return Wi(d,0),d},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,t)))},o=function(){return i(),Pi(e)},a=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:a,end:o,_bufs:e}}function Ke(e,t,n,r){var i=+t,s;if(!isNaN(i)){r||(r=jy[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=e.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&uM(n)&&e.push(n)}}function Mv(e,t,n){var r=fr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function S5(e,t,n){var r=fr(e);return r.s=Mv(r.s,t.s,n),r.e=Mv(r.e,t.s,n),r}function Ov(e,t){if(e.cRel&&e.c<0)for(e=fr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Ut(e);return!e.cRel&&e.cRel!=null&&(n=JOe(n)),!e.rRel&&e.rRel!=null&&(n=XOe(n)),n}function PA(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Sr(e.s.c)+":"+(e.e.cRel?"":"$")+Sr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xr(e.s.r)+":"+(e.e.rRel?"":"$")+Xr(e.e.r):Ov(e.s,t.biff)+":"+Ov(e.e,t.biff)}function dM(e){return parseInt(QOe(e),10)-1}function Xr(e){return""+(e+1)}function XOe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function QOe(e){return e.replace(/\$(\d+)$/,"$1")}function hM(e){for(var t=ZOe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Sr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function JOe(e){return e.replace(/^([A-Z])/,"$$$1")}function ZOe(e){return e.replace(/^\$([A-Z])/,"$1")}function eLe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Er(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function Ut(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Zs(e){var t=e.indexOf(":");return t==-1?{s:Er(e),e:Er(e)}:{s:Er(e.slice(0,t)),e:Er(e.slice(t+1))}}function Qt(e,t){return typeof t>"u"||typeof t=="number"?Qt(e.s,e.e):(typeof e!="string"&&(e=Ut(e)),typeof t!="string"&&(t=Ut(t)),e==t?e:e+":"+t)}function _n(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function E5(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=xa(e.z,n?yi(t):t)}catch{}try{return e.w=xa((e.XF||{}).numFmtId||(n?14:0),n?yi(t):t)}catch{return""+t}}function Yc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?iu[e.v]||e.v:t==null?E5(e,e.v):E5(e,t))}function Ld(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function BX(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Er(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=_n(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),o==-1&&(c.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var m={v:t[f][p]},y=o+f,w=a+p;if(c.s.r>y&&(c.s.r=y),c.s.c>w&&(c.s.c=w),c.e.r<y&&(c.e.r=y),c.e.c<w&&(c.e.c=w),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))m=t[f][p];else if(Array.isArray(m.v)&&(m.f=t[f][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Bt[14],r.cellDates?(m.t="d",m.w=xa(m.z,yi(m.v))):(m.t="n",m.v=yi(m.v),m.w=xa(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][w]&&s[y][w].z&&(m.z=s[y][w].z),s[y][w]=m;else{var C=Ut({c:w,r:y});s[C]&&s[C].z&&(m.z=s[C].z),s[C]=m}}}return c.s.c<1e7&&(s["!ref"]=Qt(c)),s}function Sm(e,t){return BX(null,e,t)}function tLe(e){return e.read_shift(4,"i")}function Ha(e,t){return t||(t=Ve(4)),t.write_shift(4,e),t}function ds(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ki(e,t){var n=!1;return t==null&&(n=!0,t=Ve(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function nLe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function rLe(e,t){return t||(t=Ve(4)),t.write_shift(2,0),t.write_shift(2,0),t}function fM(e,t){var n=e.l,r=e.read_shift(1),i=ds(e),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)s.push(nLe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function iLe(e,t){var n=!1;return t==null&&(n=!0,t=Ve(15+4*e.t.length)),t.write_shift(1,0),ki(e.t,t),n?t.slice(0,t.l):t}var sLe=fM;function oLe(e,t){var n=!1;return t==null&&(n=!0,t=Ve(23+4*e.t.length)),t.write_shift(1,1),ki(e.t,t),t.write_shift(4,1),rLe({},t),n?t.slice(0,t.l):t}function Ta(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Bf(e,t){return t==null&&(t=Ve(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Vf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Hf(e,t){return t==null&&(t=Ve(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var aLe=ds,VX=ki;function pM(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function b1(e,t){var n=!1;return t==null&&(n=!0,t=Ve(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var lLe=ds,sk=pM,gM=b1;function mM(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?C1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):xh(t,0)>>2;return n?i/100:i}function HX(e,t){t==null&&(t=Ve(4));var n=0,r=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?i:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function GX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function cLe(e,t){return t||(t=Ve(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Gf=GX,Em=cLe;function cs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function mf(e,t){return(t||Ve(8)).write_shift(8,e,"f")}function uLe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=zh[i];c&&(t.rgb=Hy(c));break;case 2:t.rgb=Hy([o,a,l]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function x1(e,t){if(t||(t=Ve(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function dLe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function hLe(e,t){t||(t=Ve(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function UX(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function fLe(e){return UX(e,1)}function pLe(e){return UX(e,2)}var vM=2,Gs=3,sx=11,T5=12,S1=19,ox=64,gLe=65,mLe=71,vLe=4108,yLe=4126,_i=80,zX=81,wLe=[_i,zX],ok={1:{n:"CodePage",t:vM},2:{n:"Category",t:_i},3:{n:"PresentationFormat",t:_i},4:{n:"ByteCount",t:Gs},5:{n:"LineCount",t:Gs},6:{n:"ParagraphCount",t:Gs},7:{n:"SlideCount",t:Gs},8:{n:"NoteCount",t:Gs},9:{n:"HiddenCount",t:Gs},10:{n:"MultimediaClipCount",t:Gs},11:{n:"ScaleCrop",t:sx},12:{n:"HeadingPairs",t:vLe},13:{n:"TitlesOfParts",t:yLe},14:{n:"Manager",t:_i},15:{n:"Company",t:_i},16:{n:"LinksUpToDate",t:sx},17:{n:"CharacterCount",t:Gs},19:{n:"SharedDoc",t:sx},22:{n:"HyperlinksChanged",t:sx},23:{n:"AppVersion",t:Gs,p:"version"},24:{n:"DigSig",t:gLe},26:{n:"ContentType",t:_i},27:{n:"ContentStatus",t:_i},28:{n:"Language",t:_i},29:{n:"Version",t:_i},255:{},2147483648:{n:"Locale",t:S1},2147483651:{n:"Behavior",t:S1},1919054434:{}},ak={1:{n:"CodePage",t:vM},2:{n:"Title",t:_i},3:{n:"Subject",t:_i},4:{n:"Author",t:_i},5:{n:"Keywords",t:_i},6:{n:"Comments",t:_i},7:{n:"Template",t:_i},8:{n:"LastAuthor",t:_i},9:{n:"RevNumber",t:_i},10:{n:"EditTime",t:ox},11:{n:"LastPrinted",t:ox},12:{n:"CreatedDate",t:ox},13:{n:"ModifiedDate",t:ox},14:{n:"PageCount",t:Gs},15:{n:"WordCount",t:Gs},16:{n:"CharCount",t:Gs},17:{n:"Thumbnail",t:mLe},18:{n:"Application",t:_i},19:{n:"DocSecurity",t:Gs},255:{},2147483648:{n:"Locale",t:S1},2147483651:{n:"Behavior",t:S1},1919054434:{}},R5={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},CLe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function bLe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var xLe=bLe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),zh=fr(xLe),iu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},jX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},lk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ax={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function yM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function SLe(e){var t=yM();if(!e||!e.match)return t;var n={};if((e.match(ms)||[]).forEach(function(r){var i=$t(r);switch(i[0].replace(IOe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[lk[i.ContentType]]!==void 0&&t[lk[i.ContentType]].push(i.PartName);break}}),t.xmlns!==mi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}function WX(e,t){var n=SOe(lk),r=[],i;r[r.length]=Qr,r[r.length]=st("Types",null,{xmlns:mi.CT,"xmlns:xsd":mi.xsd,"xmlns:xsi":mi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return st("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(i=e[l][0],r[r.length]=st("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:ax[l][t.bookType]||ax[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(c){r[r.length]=st("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:ax[l][t.bookType]||ax[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(c){r[r.length]=st("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var ln={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Vy(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Lv(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(ms)||[]).forEach(function(i){var s=$t(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var a=s.TargetMode==="External"?s.Target:pv(s.Target,t);n[a]=o,r[s.Id]=o}}),n["!id"]=r,n}function Cg(e){var t=[Qr,st("Relationships",null,{xmlns:mi.RELS})];return Lr(e["!id"]).forEach(function(n){t[t.length]=st("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function $n(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[ln.HLINK,ln.XPATH,ln.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var ELe="application/vnd.oasis.opendocument.spreadsheet";function TLe(e,t){for(var n=lM(e),r,i;r=By.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=$t(r[0],!1),i.path=="/"&&i.type!==ELe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function RLe(e){var t=[Qr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function _5(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function _Le(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function ALe(e){var t=[Qr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(_5(e[n][0],e[n][1])),t.push(_Le("",e[n][0]));return t.push(_5("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function $X(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+g1.version+"</meta:generator></office:meta></office:document-meta>"}var fa=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],DLe=function(){for(var e=new Array(fa.length),t=0;t<fa.length;++t){var n=fa[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function qX(e){var t={};e=Zn(e);for(var n=0;n<fa.length;++n){var r=fa[n],i=e.match(DLe[n]);i!=null&&i.length>0&&(t[r[1]]=Rn(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=hr(t[r[1]]))}return t}function kA(e,t,n,r,i){i[e]!=null||t==null||t===""||(i[e]=t,t=qn(t),r[r.length]=n?st(e,t,n):Ki(e,t))}function KX(e,t){var n=t||{},r=[Qr,st("cp:coreProperties",null,{"xmlns:cp":mi.CORE_PROPS,"xmlns:dc":mi.dc,"xmlns:dcterms":mi.dcterms,"xmlns:dcmitype":mi.dcmitype,"xmlns:xsi":mi.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&kA("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ik(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),e.ModifiedDate!=null&&kA("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ik(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=fa.length;++s){var o=fa[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&kA(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var jh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],YX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function XX(e,t,n,r){var i=[];if(typeof e=="string")i=v5(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?v5(t,r).map(function(d){return d.v}):t,a=0,l=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(a,a+l);break}a+=l}}function PLe(e,t,n){var r={};return t||(t={}),e=Zn(e),jh.forEach(function(i){var s=(e.match(Ly(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Rn(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&XX(r.HeadingPairs,r.TitlesOfParts,t,n),t}function QX(e){var t=[],n=st;return e||(e={}),e.Application="SheetJS",t[t.length]=Qr,t[t.length]=st("Properties",null,{xmlns:mi.EXT_PROPS,"xmlns:vt":mi.vt}),jh.forEach(function(r){if(e[r[1]]!==void 0){var i;switch(r[2]){case"string":i=qn(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}i!==void 0&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+qn(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var kLe=/<[^>]+>[^<]*/g;function FLe(e,t){var n={},r="",i=e.match(kLe);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=$t(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Rn(a.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Rn(d);break;case"bool":n[r]=cr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=hr(d);break;case"cy":case"error":n[r]=Rn(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}function JX(e){var t=[Qr,st("Properties",null,{xmlns:mi.CUST_PROPS,"xmlns:vt":mi.vt})];if(!e)return t.join("");var n=1;return Lr(e).forEach(function(i){++n,t[t.length]=st("property",GOe(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:qn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ck={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},FA;function ILe(e,t,n){FA||(FA=JE(ck)),t=FA[t]||t,e[t]=n}function MLe(e,t){var n=[];return Lr(ck).map(function(r){for(var i=0;i<fa.length;++i)if(fa[i][1]==r)return fa[i];for(i=0;i<jh.length;++i)if(jh[i][1]==r)return jh[i];throw r}).forEach(function(r){if(e[r[1]]!=null){var i=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Ki(ck[r[1]]||r[1],i))}}),st("DocumentProperties",n.join(""),{xmlns:po.o})}function OLe(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&Lr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<fa.length;++o)if(s==fa[o][1])return;for(o=0;o<jh.length;++o)if(s==jh[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=e[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(st(f5(s),a,{"dt:dt":l}))}}),t&&Lr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(st(f5(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+po.o+'">'+i.join("")+"</"+r+">"}function wM(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function LLe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=Ve(8);return o.write_shift(4,r),o.write_shift(4,i),o}function ZX(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function eQ(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function tQ(e,t,n){return t===31?eQ(e):ZX(e,t,n)}function uk(e,t,n){return tQ(e,t,n===!1?0:4)}function NLe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return tQ(e,t,0)}function BLe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Ms,""),e.l-i&2&&(e.l+=2)}return n}function VLe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Ms,"");return n}function HLe(e){var t=e.l,n=E1(e,zX);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=E1(e,Gs);return[n,r]}function GLe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(HLe(e));return n}function A5(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ms,"").replace(fv,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function nQ(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function ULe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function E1(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==T5&&r!==t&&wLe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===T5?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return ZX(e,r,4).replace(Ms,"");case 31:return eQ(e);case 64:return wM(e);case 65:return nQ(e);case 71:return ULe(e);case 80:return uk(e,r,!s.raw).replace(Ms,"");case 81:return NLe(e,r).replace(Ms,"");case 4108:return GLe(e);case 4126:case 4127:return r==4127?BLe(e):VLe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function D5(e,t){var n=Ve(4),r=Ve(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Ve(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=LLe(t);break;case 31:case 80:for(r=Ve(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Pi([n,r])}function P5(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,a=0,l=-1,c={};for(o=0;o!=i;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+n]}s.sort(function(R,E){return R[1]-E[1]});var p={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[s[o][0]];if(p[y.n]=E1(e,y.t,{raw:!0}),y.p==="version"&&(p[y.n]=String(p[y.n]>>16)+"."+("0000"+String(p[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(p[y.n]){case 0:p[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Oa(a=p[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[y.n])}}else if(s[o][0]===1){if(a=p.CodePage=E1(e,vM),Oa(a),l!==-1){var w=e.l;e.l=s[l][1],c=A5(e,a),e.l=w}}else if(s[o][0]===0){if(a===0){l=o,e.l=s[o+1][1];continue}c=A5(e,a)}else{var C=c[s[o][0]],S;switch(e[e.l]){case 65:e.l+=4,S=nQ(e);break;case 30:e.l+=4,S=uk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,S=uk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,S=e.read_shift(4,"i");break;case 19:e.l+=4,S=e.read_shift(4);break;case 5:e.l+=4,S=e.read_shift(8,"f");break;case 11:e.l+=4,S=zr(e,4);break;case 64:e.l+=4,S=hr(wM(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[C]=S}}return e.l=n+r,p}var rQ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function zLe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function k5(e,t,n){var r=Ve(8),i=[],s=[],o=8,a=0,l=Ve(8),c=Ve(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),o+=8+l.length,!t){c=Ve(8),c.write_shift(4,0),i.unshift(c);var d=[Ve(4)];for(d[0].write_shift(4,e.length),a=0;a<e.length;++a){var f=e[a][0];for(l=Ve(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Pi(d),s.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(rQ.indexOf(e[a][0])>-1||YX.indexOf(e[a][0])>-1)&&e[a][1]!=null){var p=e[a][1],m=0;if(t){m=+t[e[a][0]];var y=n[m];if(y.p=="version"&&typeof p=="string"){var w=p.split(".");p=(+w[0]<<16)+(+w[1]||0)}l=D5(y.t,p)}else{var C=zLe(p);C==-1&&(C=31,p=String(p)),l=D5(C,p)}s.push(l),c=Ve(8),c.write_shift(4,t?m:2+a),i.push(c),o+=8+l.length}var S=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,S),S+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),Pi([r].concat(i).concat(s))}function F5(e,t,n){var r=e.content;if(!r)return{};Wi(r,0);var i,s,o,a,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==Ft.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),i===1&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);i===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=P5(r,t),p={SystemIdentifier:c};for(var m in f)p[m]=f[m];if(p.FMTID=s,i===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var y;try{y=P5(r,null)}catch{}for(m in y)p[m]=y[m];return p.FMTID=[s,o],p}function I5(e,t,n,r,i,s){var o=Ve(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ft.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var l=k5(e,n,r);if(a.push(l),i){var c=k5(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return Pi(a)}function Iu(e,t){return e.read_shift(t),null}function jLe(e,t){t||(t=Ve(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function WLe(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function zr(e,t){return e.read_shift(t)===1}function As(e,t){return t||(t=Ve(2)),t.write_shift(2,+!!e),t}function ii(e){return e.read_shift(2,"u")}function sa(e,t){return t||(t=Ve(2)),t.write_shift(2,e),t}function iQ(e,t){return WLe(e,t,ii)}function $Le(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function sQ(e,t,n){return n||(n=Ve(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function tC(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return o}function qLe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,a,l={};i&&(o=e.read_shift(2)),r&&(a=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,c);return i&&(e.l+=4*o),r&&(e.l+=a),l.t=d,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function KLe(e){var t=e.t||"",n=Ve(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Ve(2*t.length);r.write_shift(2*t.length,t,"utf16le");var i=[n,r];return Pi(i)}function vf(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function nC(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):vf(e,r,n)}function Uf(e,t,n){if(n.biff>5)return nC(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function oQ(e,t,n){return n||(n=Ve(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function YLe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function XLe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Ms,"");return r&&(e.l+=24),i}function QLe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(Ms,"");return n+o}function JLe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return XLe(e);case"0303000000000000c000000000000046":return QLe(e);default:throw new Error("Unsupported Moniker "+n)}}function lx(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ms,""):"";return n}function M5(e,t){t||(t=Ve(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function ZLe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,a,l,c="",d,f;i&16&&(s=lx(e,n-e.l)),i&128&&(o=lx(e,n-e.l)),(i&257)===257&&(a=lx(e,n-e.l)),(i&257)===1&&(l=JLe(e,n-e.l)),i&8&&(c=lx(e,n-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(f=wM(e)),e.l=n;var p=o||a||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function eNe(e){var t=Ve(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(s==28)r=r.slice(1),M5(r,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var a=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),s&8&&M5(i>-1?r.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,r.charCodeAt(n+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function aQ(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function lQ(e,t){var n=aQ(e);return n[3]=0,n}function Zl(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function yf(e,t,n,r){return r||(r=Ve(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function tNe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function nNe(e,t,n){return t===0?"":Uf(e,t,n)}function rNe(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,s,o]}function cQ(e){var t=e.read_shift(2),n=mM(e);return[t,n]}function iNe(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=tC(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function tT(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function uQ(e,t){return t||(t=Ve(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function dQ(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var sNe=dQ;function hQ(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function oNe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function aNe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ns(e){e.l+=2,e.l+=e.read_shift(2)}var lNe={0:ns,4:ns,5:ns,6:ns,7:aNe,8:ns,9:ns,10:ns,11:ns,12:ns,13:oNe,14:ns,15:ns,16:ns,17:ns,18:ns,19:ns,20:ns,21:hQ};function cNe(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(lNe[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function cx(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function CM(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ve(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function uNe(e,t){return t===0||e.read_shift(2),1200}function dNe(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=Uf(e,0,n);return e.read_shift(t+r-e.l),i}function hNe(e,t){var n=!t||t.biff==8,r=Ve(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function fNe(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function pNe(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=tC(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function gNe(e,t){var n=!t||t.biff>=8?2:1,r=Ve(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function mNe(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(qLe(e));return s.Count=r,s.Unique=i,s}function vNe(e,t){var n=Ve(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=KLe(e[i]);var s=Pi([n].concat(r));return s.parts=[n.length].concat(r.map(function(o){return o.length})),s}function yNe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function wNe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function CNe(e){var t=tNe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function bNe(e){return e.read_shift(2),e.read_shift(4)}function O5(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function xNe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:a,Selected:l,TabRatio:c}}function SNe(){var e=Ve(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function ENe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function TNe(e){var t=Ve(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function RNe(){}function _Ne(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=tC(e,0,n),r}function ANe(e,t){var n=e.name||"Arial",r=t&&t.biff==5,i=r?15+n.length:16+2*n.length,s=Ve(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function DNe(e){var t=Zl(e);return t.isst=e.read_shift(4),t}function PNe(e,t,n,r){var i=Ve(10);return yf(e,t,r,i),i.write_shift(4,n),i}function kNe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Zl(e);n.biff==2&&e.l++;var s=nC(e,r-e.l,n);return i.val=s,i}function FNe(e,t,n,r,i){var s=!i||i.biff==8,o=Ve(8+ +s+(1+s)*n.length);return yf(e,t,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function INe(e,t,n){var r=e.read_shift(2),i=Uf(e,0,n);return[r,i]}function MNe(e,t,n,r){var i=n&&n.biff==5;r||(r=Ve(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var ONe=Uf;function L5(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),o=e.read_shift(i),a=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:a},e:{r:o,c:l}}}function LNe(e,t){var n=t.biff==8||!t.biff?4:2,r=Ve(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function NNe(e){var t=e.read_shift(2),n=e.read_shift(2),r=cQ(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function BNe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(cQ(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function VNe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function HNe(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return i.patternType=CLe[a>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=a&127,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function GNe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=HNe(e,t,r.fStyle,n),r}function N5(e,t,n,r){var i=n&&n.biff==5;r||(r=Ve(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function UNe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function zNe(e){var t=Ve(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function B5(e,t,n){var r=Zl(e);(n.biff==2||t==9)&&++e.l;var i=$Le(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function jNe(e,t,n,r,i,s){var o=Ve(8);return yf(e,t,r,o),sQ(n,s,o),o}function WNe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Zl(e),i=cs(e);return r.val=i,r}function $Ne(e,t,n,r){var i=Ve(14);return yf(e,t,r,i),mf(n,i),i}var V5=nNe;function qNe(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=vf(e,s),a=[];r>e.l;)a.push(nC(e));return[s,i,o,a]}function H5(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=iNe(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var KNe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function G5(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=vf(e,o,n);i&32&&(c=KNe[c.charCodeAt(0)]);var d=r-e.l;n&&n.biff==2&&--d;var f=r==e.l||a===0||!(d>0)?[]:cHe(e,d,n,a);return{chKey:s,Name:c,itab:l,rgce:f}}function fQ(e,t,n){if(n.biff<8)return YNe(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(rNe(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function YNe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=tC(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function XNe(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=vf(e,r,n),o=vf(e,i,n);return[s,o]}function QNe(e,t,n){var r=dQ(e);e.l++;var i=e.read_shift(1);return t-=8,[uHe(e,t,n),i,r]}function U5(e,t,n){var r=sNe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,aHe(e,t,n)]}function JNe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function ZNe(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=Uf(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},a,o,s]}}function e4e(e,t,n){return ZNe(e,t,n)}function t4e(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(tT(e));return n}function n4e(e){var t=Ve(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)uQ(e[n],t);return t}function r4e(e,t,n){if(n&&n.biff<8)return s4e(e,t,n);var r=hQ(e),i=cNe(e,t-22,r[1]);return{cmo:r,ft:i}}var i4e={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function s4e(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((i4e[r]||fs)(e,t,n)),{cmo:[i,r,s],ft:o}}function o4e(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=YLe(e,6,n);var a=e.read_shift(2);e.read_shift(2),ii(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],f=vf(e,e.lens[c+1]-e.lens[c]-1);if(i+=f,i.length>=(d?a:2*a))break}if(i.length!==a&&i.length!==a*2)throw new Error("cchText: "+a+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function a4e(e,t){var n=tT(e);e.l+=16;var r=ZLe(e,t-24);return[n,r]}function l4e(e){var t=Ve(24),n=Er(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return Pi([t,eNe(e[1])])}function c4e(e,t){e.read_shift(2);var n=tT(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Ms,""),[n,r]}function u4e(e){var t=e[1].Tooltip,n=Ve(10+2*(t.length+1));n.write_shift(2,2048);var r=Er(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function d4e(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=R5[n]||n,n=e.read_shift(2),t[1]=R5[n]||n,t}function h4e(e){return e||(e=Ve(4)),e.write_shift(2,1),e.write_shift(2,1),e}function f4e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(lQ(e));return n}function p4e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(lQ(e));return n}function g4e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function pQ(e,t,n){if(!n.cellStyles)return fs(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:i,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function m4e(e,t){var n=Ve(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function v4e(e,t){var n={};return t<32||(e.l+=16,n.header=cs(e),n.footer=cs(e),e.l+=2),n}function y4e(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}function w4e(e){for(var t=Ve(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var C4e=Zl,b4e=iQ,x4e=nC;function S4e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function E4e(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Zl(e);++e.l;var i=Uf(e,t-7,n);return r.t="str",r.val=i,r}function T4e(e){var t=Zl(e);++e.l;var n=cs(e);return t.t="n",t.val=n,t}function R4e(e,t,n){var r=Ve(15);return oC(r,e,t),r.write_shift(8,n,"f"),r}function _4e(e){var t=Zl(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function A4e(e,t,n){var r=Ve(9);return oC(r,e,t),r.write_shift(2,n),r}function D4e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function P4e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function k4e(e,t,n){var r=e.l+t,i=Zl(e),s=e.read_shift(2),o=vf(e,s,n);return e.l=r,i.t="str",i.val=o,i}var F4e=[2,3,48,49,131,139,140,245],dk=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=JE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],d=yd(1);switch(l.type){case"base64":d=yo(Fo(a));break;case"binary":d=yo(a);break;case"buffer":case"array":d=a;break}Wi(d,0);var f=d.read_shift(1),p=!!(f&136),m=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var w=0,C=521;f==2&&(w=d.read_shift(2)),d.l+=3,f!=2&&(w=d.read_shift(4)),w>1048576&&(w=1e6),f!=2&&(C=d.read_shift(2));var S=d.read_shift(2),R=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(R=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var E=[],P={},M=Math.min(d.length,f==2?521:C-10-(m?264:0)),A=y?32:11;d.l<M&&d[d.l]!=13;)switch(P={},P.name=Iy.utils.decode(R,d.slice(d.l,d.l+A)).replace(/[\u0000\r\n].*$/g,""),d.l+=A,P.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(P.offset=d.read_shift(4)),P.len=d.read_shift(1),f==2&&(P.offset=d.read_shift(2)),P.dec=d.read_shift(1),P.name.length&&E.push(P),f!=2&&(d.l+=y?13:14),P.type){case"B":(!m||P.len!=8)&&l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(d[d.l]!==13&&(d.l=C-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=C;var D=0,k=0;for(c[0]=[],k=0;k!=E.length;++k)c[0][k]=E[k].name;for(;w-- >0;){if(d[d.l]===42){d.l+=S;continue}for(++d.l,c[++D]=[],k=0,k=0;k!=E.length;++k){var I=d.slice(d.l,d.l+E[k].len);d.l+=E[k].len,Wi(I,0);var B=Iy.utils.decode(R,I);switch(E[k].type){case"C":B.trim().length&&(c[D][k]=B.replace(/\s+$/,""));break;case"D":B.length===8?c[D][k]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):c[D][k]=B;break;case"F":c[D][k]=parseFloat(B.trim());break;case"+":case"I":c[D][k]=y?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":c[D][k]=!0;break;case"N":case"F":c[D][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][k]="##MEMO##"+(y?parseInt(B.trim(),10):I.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(c[D][k]=+B||0);break;case"@":c[D][k]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":c[D][k]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":c[D][k]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][k]=-I.read_shift(-8,"f");break;case"B":if(m&&E[k].len==8){c[D][k]=I.read_shift(8,"f");break}case"G":case"P":I.l+=E[k].len;break;case"0":if(E[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[k].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=E,c}function r(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Sm(n(a,c),c);return d["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,d}function i(a,l){try{return Ld(r(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&Oa(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ks(),f=_1(a,{header:1,raw:!0,cellDates:!0}),p=f[0],m=f.slice(1),y=a["!cols"]||[],w=0,C=0,S=0,R=1;for(w=0;w<p.length;++w){if(((y[w]||{}).DBF||{}).name){p[w]=y[w].DBF.name,++S;continue}if(p[w]!=null){if(++S,typeof p[w]=="number"&&(p[w]=p[w].toString(10)),typeof p[w]!="string")throw new Error("DBF Invalid column name "+p[w]+" |"+typeof p[w]+"|");if(p.indexOf(p[w])!==w){for(C=0;C<1024;++C)if(p.indexOf(p[w]+"_"+C)==-1){p[w]+="_"+C;break}}}}var E=_n(a["!ref"]),P=[],M=[],A=[];for(w=0;w<=E.e.c-E.s.c;++w){var D="",k="",I=0,B=[];for(C=0;C<m.length;++C)m[C][w]!=null&&B.push(m[C][w]);if(B.length==0||p[w]==null){P[w]="?";continue}for(C=0;C<B.length;++C){switch(typeof B[C]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=B[C]instanceof Date?"D":"C";break;default:k="C"}I=Math.max(I,String(B[C]).length),D=D&&D!=k?"C":k}I>250&&(I=250),k=((y[w]||{}).DBF||{}).type,k=="C"&&y[w].DBF.len>I&&(I=y[w].DBF.len),D=="B"&&k=="N"&&(D="N",A[w]=y[w].DBF.dec,I=y[w].DBF.len),M[w]=D=="C"||k=="N"?I:s[D]||0,R+=M[w],P[w]=D}var N=d.next(32);for(N.write_shift(4,318902576),N.write_shift(4,m.length),N.write_shift(2,296+32*S),N.write_shift(2,R),w=0;w<4;++w)N.write_shift(4,0);for(N.write_shift(4,0|(+t[rX]||3)<<8),w=0,C=0;w<p.length;++w)if(p[w]!=null){var H=d.next(32),G=(p[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,G,"sbcs"),H.write_shift(1,P[w]=="?"?"C":P[w],"sbcs"),H.write_shift(4,C),H.write_shift(1,M[w]||s[P[w]]||0),H.write_shift(1,A[w]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),C+=M[w]||s[P[w]]||0}var oe=d.next(264);for(oe.write_shift(4,13),w=0;w<65;++w)oe.write_shift(4,0);for(w=0;w<m.length;++w){var le=d.next(R);for(le.write_shift(1,0),C=0;C<p.length;++C)if(p[C]!=null)switch(P[C]){case"L":le.write_shift(1,m[w][C]==null?63:m[w][C]?84:70);break;case"B":le.write_shift(8,m[w][C]||0,"f");break;case"N":var Z="0";for(typeof m[w][C]=="number"&&(Z=m[w][C].toFixed(A[C]||0)),S=0;S<M[C]-Z.length;++S)le.write_shift(1,32);le.write_shift(1,Z,"sbcs");break;case"D":m[w][C]?(le.write_shift(4,("0000"+m[w][C].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(m[w][C].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+m[w][C].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var se=String(m[w][C]!=null?m[w][C]:"").slice(0,M[C]);for(le.write_shift(1,se,"sbcs"),S=0;S<M[C]-se.length;++S)le.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),gQ=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Lr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,m){var y=e[m];return typeof y=="number"?Z6(y):y},r=function(p,m,y){var w=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return w==59?p:Z6(w)};e["|"]=254;function i(p,m){switch(m.type){case"base64":return s(Fo(p),m);case"binary":return s(p,m);case"buffer":return s(on&&Buffer.isBuffer(p)?p.toString("binary"):Od(p),m);case"array":return s(gf(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var y=p.split(/[\n\r]+/),w=-1,C=-1,S=0,R=0,E=[],P=[],M=null,A={},D=[],k=[],I=[],B=0,N;for(+m.codepage>=0&&Oa(+m.codepage);S!==y.length;++S){B=0;var H=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),G=H.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),oe=G[0],le;if(H.length>0)switch(oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&P.push(H.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,se=!1,fe=!1,ne=!1,L=-1,ae=-1;for(R=1;R<G.length;++R)switch(G[R].charAt(0)){case"A":break;case"X":C=parseInt(G[R].slice(1))-1,se=!0;break;case"Y":for(w=parseInt(G[R].slice(1))-1,se||(C=0),N=E.length;N<=w;++N)E[N]=[];break;case"K":le=G[R].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(Va(le))?isNaN(Kg(le).getDate())||(le=hr(le)):(le=Va(le),M!==null&&bm(M)&&(le=eT(le))),Z=!0;break;case"E":ne=!0;var W=bg(G[R].slice(1),{r:w,c:C});E[w][C]=[E[w][C],W];break;case"S":fe=!0,E[w][C]=[E[w][C],"S5S"];break;case"G":break;case"R":L=parseInt(G[R].slice(1))-1;break;case"C":ae=parseInt(G[R].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+H)}if(Z&&(E[w][C]&&E[w][C].length==2?E[w][C][0]=le:E[w][C]=le,M=null),fe){if(ne)throw new Error("SYLK shared formula cannot have own formula");var V=L>-1&&E[L][ae];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");E[w][C][1]=IQ(V[1],{r:w-L,c:C-ae})}break;case"F":var X=0;for(R=1;R<G.length;++R)switch(G[R].charAt(0)){case"X":C=parseInt(G[R].slice(1))-1,++X;break;case"Y":for(w=parseInt(G[R].slice(1))-1,N=E.length;N<=w;++N)E[N]=[];break;case"M":B=parseInt(G[R].slice(1))/20;break;case"F":break;case"G":break;case"P":M=P[parseInt(G[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=G[R].slice(1).split(" "),N=parseInt(I[0],10);N<=parseInt(I[1],10);++N)B=parseInt(I[2],10),k[N-1]=B===0?{hidden:!0}:{wch:B},wd(k[N-1]);break;case"C":C=parseInt(G[R].slice(1))-1,k[C]||(k[C]={});break;case"R":w=parseInt(G[R].slice(1))-1,D[w]||(D[w]={}),B>0?(D[w].hpt=B,D[w].hpx=Xg(B)):B===0&&(D[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+H)}X<1&&(M=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+H)}}return D.length>0&&(A["!rows"]=D),k.length>0&&(A["!cols"]=k),m&&m.sheetRows&&(E=E.slice(0,m.sheetRows)),[E,A]}function o(p,m){var y=i(p,m),w=y[0],C=y[1],S=Sm(w,m);return Lr(C).forEach(function(R){S[R]=C[R]}),S}function a(p,m){return Ld(o(p,m),m)}function l(p,m,y,w){var C="C;Y"+(y+1)+";X"+(w+1)+";K";switch(p.t){case"n":C+=p.v||0,p.f&&!p.F&&(C+=";E"+RM(p.f,{r:y,c:w}));break;case"b":C+=p.v?"TRUE":"FALSE";break;case"e":C+=p.w||p.v;break;case"d":C+='"'+(p.w||p.v)+'"';break;case"s":C+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(p,m){m.forEach(function(y,w){var C="F;W"+(w+1)+" "+(w+1)+" ";y.hidden?C+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Gy(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Uy(y.wpx)),typeof y.wch=="number"&&(C+=Math.round(y.wch))),C.charAt(C.length-1)!=" "&&p.push(C)})}function d(p,m){m.forEach(function(y,w){var C="F;";y.hidden?C+="M0;":y.hpt?C+="M"+20*y.hpt+";":y.hpx&&(C+="M"+20*zy(y.hpx)+";"),C.length>2&&p.push(C+"R"+(w+1))})}function f(p,m){var y=["ID;PWXL;N;E"],w=[],C=_n(p["!ref"]),S,R=Array.isArray(p),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&c(y,p["!cols"]),p["!rows"]&&d(y,p["!rows"]),y.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var P=C.s.r;P<=C.e.r;++P)for(var M=C.s.c;M<=C.e.c;++M){var A=Ut({r:P,c:M});S=R?(p[P]||[])[M]:p[A],!(!S||S.v==null&&(!S.f||S.F))&&w.push(l(S,p,P,M))}return y.join(E)+E+w.join(E)+E+"E"+E}return{to_workbook:a,to_sheet:o,from_sheet:f}}(),mQ=function(){function e(s,o){switch(o.type){case"base64":return t(Fo(s),o);case"binary":return t(s,o);case"buffer":return t(on&&Buffer.isBuffer(s)?s.toString("binary"):Od(s),o);case"array":return t(gf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var a=s.split(`
`),l=-1,c=-1,d=0,f=[];d!==a.length;++d){if(a[d].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var p=a[d].trim().split(","),m=p[0],y=p[1];++d;for(var w=a[d]||"";(w.match(/["]/g)||[]).length&1&&d<a.length-1;)w+=`
`+a[++d];switch(w=w.trim(),+m){case-1:if(w==="BOT"){f[++l]=[],c=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?f[l][c]=!0:w==="FALSE"?f[l][c]=!1:isNaN(Va(y))?isNaN(Kg(y).getDate())?f[l][c]=y:f[l][c]=hr(y):f[l][c]=Va(y),++c;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),f[l][c++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(s,o){return Sm(e(s,o),o)}function r(s,o){return Ld(n(s,o),o)}var i=function(){var s=function(l,c,d,f,p){l.push(c),l.push(d+","+f),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,c,d,f){l.push(c+","+d),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],d=_n(l["!ref"]),f,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(c,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var w=Ut({r:m,c:y});if(f=p?(l[m]||[])[y]:l[w],!f){o(c,1,0,"");continue}switch(f.t){case"n":var C=f.w;!C&&f.v!=null&&(C=f.v),C==null?f.f&&!f.F?o(c,1,0,"="+f.f):o(c,1,0,""):o(c,0,C,"V");break;case"b":o(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=xa(f.z||Bt[14],yi(hr(f.v)))),o(c,0,f.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var S=`\r
`,R=c.join(S);return R}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),vQ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,p){for(var m=f.split(`
`),y=-1,w=-1,C=0,S=[];C!==m.length;++C){var R=m[C].trim().split(":");if(R[0]==="cell"){var E=Er(R[1]);if(S.length<=E.r)for(y=S.length;y<=E.r;++y)S[y]||(S[y]=[]);switch(y=E.r,w=E.c,R[2]){case"t":S[y][w]=e(R[3]);break;case"v":S[y][w]=+R[3];break;case"vtf":var P=R[R.length-1];case"vtc":switch(R[3]){case"nl":S[y][w]=!!+R[4];break;default:S[y][w]=+R[4];break}R[2]=="vtf"&&(S[y][w]=[S[y][w],P])}}}return p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),S}function r(f,p){return Sm(n(f,p),p)}function i(f,p){return Ld(r(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var p=[],m=[],y,w="",C=Zs(f["!ref"]),S=Array.isArray(f),R=C.s.r;R<=C.e.r;++R)for(var E=C.s.c;E<=C.e.c;++E)if(w=Ut({r:R,c:E}),y=S?(f[R]||[])[E]:f[w],!(!y||y.v==null||y.t==="z")){switch(m=["cell",w,"t"],y.t){case"s":case"str":m.push(t(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=t(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var P=yi(hr(y.v));m[2]="vtc",m[3]="nd",m[4]=""+P,m[5]=y.w||xa(y.z||Bt[14],P);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(f){return[s,o,a,o,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}}(),Yg=function(){function e(d,f,p,m,y){y.raw?f[p][m]=d:d===""||(d==="TRUE"?f[p][m]=!0:d==="FALSE"?f[p][m]=!1:isNaN(Va(d))?isNaN(Kg(d).getDate())?f[p][m]=d:f[p][m]=hr(d):f[p][m]=Va(d))}function t(d,f){var p=f||{},m=[];if(!d||d.length===0)return m;for(var y=d.split(/[\r\n]/),w=y.length-1;w>=0&&y[w].length===0;)--w;for(var C=10,S=0,R=0;R<=w;++R)S=y[R].indexOf(" "),S==-1?S=y[R].length:S++,C=Math.max(C,S);for(R=0;R<=w;++R){m[R]=[];var E=0;for(e(y[R].slice(0,C).trim(),m,R,E,p),E=1;E<=(y[R].length-C)/10+1;++E)e(y[R].slice(C+(E-1)*10,C+E*10).trim(),m,R,E,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var f={},p=!1,m=0,y=0;m<d.length;++m)(y=d.charCodeAt(m))==34?p=!p:!p&&y in n&&(f[y]=(f[y]||0)+1);y=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m]);if(!y.length){f=r;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m])}return y.sort(function(w,C){return w[0]-C[0]||r[w[1]]-r[C[1]]}),n[y.pop()[1]]||44}function s(d,f){var p=f||{},m="",y=p.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=i(d.slice(0,1024)):p&&p.FS?m=p.FS:m=i(d.slice(0,1024));var C=0,S=0,R=0,E=0,P=0,M=m.charCodeAt(0),A=!1,D=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var I=p.dateNF!=null?yOe(p.dateNF):null;function B(){var N=d.slice(E,P),H={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)H.t="z";else if(p.raw)H.t="s",H.v=N;else if(N.trim().length===0)H.t="s",H.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(H.t="s",H.v=N.slice(2,-1).replace(/""/g,'"')):qVe(N)?(H.t="n",H.f=N.slice(1)):(H.t="s",H.v=N);else if(N=="TRUE")H.t="b",H.v=!0;else if(N=="FALSE")H.t="b",H.v=!1;else if(!isNaN(R=Va(N)))H.t="n",p.cellText!==!1&&(H.w=N),H.v=R;else if(!isNaN(Kg(N).getDate())||I&&N.match(I)){H.z=p.dateNF||Bt[14];var G=0;I&&N.match(I)&&(N=wOe(N,p.dateNF,N.match(I)||[]),G=1),p.cellDates?(H.t="d",H.v=hr(N,G)):(H.t="n",H.v=yi(hr(N,G))),p.cellText!==!1&&(H.w=xa(H.z,H.v instanceof Date?yi(H.v):H.v)),p.cellNF||delete H.z}else H.t="s",H.v=N;if(H.t=="z"||(p.dense?(y[C]||(y[C]=[]),y[C][S]=H):y[Ut({c:S,r:C})]=H),E=P+1,k=d.charCodeAt(E),w.e.c<S&&(w.e.c=S),w.e.r<C&&(w.e.r=C),D==M)++S;else if(S=0,++C,p.sheetRows&&p.sheetRows<=C)return!0}e:for(;P<d.length;++P)switch(D=d.charCodeAt(P)){case 34:k===34&&(A=!A);break;case M:case 10:case 13:if(!A&&B())break e;break}return P-E>0&&B(),y["!ref"]=Qt(w),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Sm(t(d,f),f)}function a(d,f){var p="",m=f.type=="string"?[0,0,0,0]:MM(d,f);switch(f.type){case"base64":p=Fo(d);break;case"binary":p=d;break;case"buffer":f.codepage==65001?p=d.toString("utf8"):f.codepage&&typeof Iy<"u"||(p=on&&Buffer.isBuffer(d)?d.toString("binary"):Od(d));break;case"array":p=gf(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Zn(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=Zn(p):f.type=="binary"&&typeof Iy<"u",p.slice(0,19)=="socialcalc:version:"?vQ.to_sheet(f.type=="string"?p:Zn(p),f):o(p,f)}function l(d,f){return Ld(a(d,f),f)}function c(d){for(var f=[],p=_n(d["!ref"]),m,y=Array.isArray(d),w=p.s.r;w<=p.e.r;++w){for(var C=[],S=p.s.c;S<=p.e.c;++S){var R=Ut({r:w,c:S});if(m=y?(d[w]||[])[S]:d[R],!m||m.v==null){C.push("          ");continue}for(var E=(m.w||(Yc(m),m.w)||"").slice(0,10);E.length<10;)E+=" ";C.push(E+(S===0?" ":""))}f.push(C.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();function I4e(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=gQ.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Yg.to_workbook(e,t)}}var Wh=function(){function e(W,V,X){if(W){Wi(W,W.l||0);for(var te=X.Enum||L;W.l<W.length;){var he=W.read_shift(2),Be=te[he]||te[65535],Fe=W.read_shift(2),_e=W.l+Fe,Pe=Be.f&&Be.f(W,Fe,X);if(W.l=_e,V(Pe,Be,he))return}}}function t(W,V){switch(V.type){case"base64":return n(yo(Fo(W)),V);case"binary":return n(yo(W),V);case"buffer":case"array":return n(W,V)}throw"Unsupported type "+V.type}function n(W,V){if(!W)return W;var X=V||{},te=X.dense?[]:{},he="Sheet1",Be="",Fe=0,_e={},Pe=[],nt=[],re={s:{r:0,c:0},e:{r:0,c:0}},St=X.sheetRows||0;if(W[2]==0&&(W[3]==8||W[3]==9)&&W.length>=16&&W[14]==5&&W[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(W[2]==2)X.Enum=L,e(W,function(Me,ft,kt){switch(kt){case 0:X.vers=Me,Me>=4096&&(X.qpro=!0);break;case 6:re=Me;break;case 204:Me&&(Be=Me);break;case 222:Be=Me;break;case 15:case 51:X.qpro||(Me[1].v=Me[1].v.slice(1));case 13:case 14:case 16:kt==14&&(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=X.dateNF||Bt[14],X.cellDates&&(Me[1].t="d",Me[1].v=eT(Me[1].v))),X.qpro&&Me[3]>Fe&&(te["!ref"]=Qt(re),_e[he]=te,Pe.push(he),te=X.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Fe=Me[3],he=Be||"Sheet"+(Fe+1),Be="");var Ct=X.dense?(te[Me[0].r]||[])[Me[0].c]:te[Ut(Me[0])];if(Ct){Ct.t=Me[1].t,Ct.v=Me[1].v,Me[1].z!=null&&(Ct.z=Me[1].z),Me[1].f!=null&&(Ct.f=Me[1].f);break}X.dense?(te[Me[0].r]||(te[Me[0].r]=[]),te[Me[0].r][Me[0].c]=Me[1]):te[Ut(Me[0])]=Me[1];break}},X);else if(W[2]==26||W[2]==14)X.Enum=ae,W[2]==14&&(X.qpro=!0,W.l=0),e(W,function(Me,ft,kt){switch(kt){case 204:he=Me;break;case 22:Me[1].v=Me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>Fe&&(te["!ref"]=Qt(re),_e[he]=te,Pe.push(he),te=X.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Fe=Me[3],he="Sheet"+(Fe+1)),St>0&&Me[0].r>=St)break;X.dense?(te[Me[0].r]||(te[Me[0].r]=[]),te[Me[0].r][Me[0].c]=Me[1]):te[Ut(Me[0])]=Me[1],re.e.c<Me[0].c&&(re.e.c=Me[0].c),re.e.r<Me[0].r&&(re.e.r=Me[0].r);break;case 27:Me[14e3]&&(nt[Me[14e3][0]]=Me[14e3][1]);break;case 1537:nt[Me[0]]=Me[1],Me[0]==Fe&&(he=Me[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+W[2]);if(te["!ref"]=Qt(re),_e[Be||he]=te,Pe.push(Be||he),!nt.length)return{SheetNames:Pe,Sheets:_e};for(var ze={},Je=[],et=0;et<nt.length;++et)_e[Pe[et]]?(Je.push(nt[et]||Pe[et]),ze[nt[et]]=_e[nt[et]]||_e[Pe[et]]):(Je.push(nt[et]),ze[nt[et]]={"!ref":"A1"});return{SheetNames:Je,Sheets:ze}}function r(W,V){var X=V||{};if(+X.codepage>=0&&Oa(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var te=Ks(),he=_n(W["!ref"]),Be=Array.isArray(W),Fe=[];lt(te,0,s(1030)),lt(te,6,l(he));for(var _e=Math.min(he.e.r,8191),Pe=he.s.r;Pe<=_e;++Pe)for(var nt=Xr(Pe),re=he.s.c;re<=he.e.c;++re){Pe===he.s.r&&(Fe[re]=Sr(re));var St=Fe[re]+nt,ze=Be?(W[Pe]||[])[re]:W[St];if(!(!ze||ze.t=="z"))if(ze.t=="n")(ze.v|0)==ze.v&&ze.v>=-32768&&ze.v<=32767?lt(te,13,m(Pe,re,ze.v)):lt(te,14,w(Pe,re,ze.v));else{var Je=Yc(ze);lt(te,15,f(Pe,re,Je.slice(0,239)))}}return lt(te,1),te.end()}function i(W,V){var X=V||{};if(+X.codepage>=0&&Oa(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var te=Ks();lt(te,0,o(W));for(var he=0,Be=0;he<W.SheetNames.length;++he)(W.Sheets[W.SheetNames[he]]||{})["!ref"]&&lt(te,27,ne(W.SheetNames[he],Be++));var Fe=0;for(he=0;he<W.SheetNames.length;++he){var _e=W.Sheets[W.SheetNames[he]];if(!(!_e||!_e["!ref"])){for(var Pe=_n(_e["!ref"]),nt=Array.isArray(_e),re=[],St=Math.min(Pe.e.r,8191),ze=Pe.s.r;ze<=St;++ze)for(var Je=Xr(ze),et=Pe.s.c;et<=Pe.e.c;++et){ze===Pe.s.r&&(re[et]=Sr(et));var Me=re[et]+Je,ft=nt?(_e[ze]||[])[et]:_e[Me];if(!(!ft||ft.t=="z"))if(ft.t=="n")lt(te,23,B(ze,et,Fe,ft.v));else{var kt=Yc(ft);lt(te,22,D(ze,et,Fe,kt.slice(0,239)))}}++Fe}}return lt(te,1),te.end()}function s(W){var V=Ve(2);return V.write_shift(2,W),V}function o(W){var V=Ve(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var X=0,te=0,he=0,Be=0;Be<W.SheetNames.length;++Be){var Fe=W.SheetNames[Be],_e=W.Sheets[Fe];if(!(!_e||!_e["!ref"])){++he;var Pe=Zs(_e["!ref"]);X<Pe.e.r&&(X=Pe.e.r),te<Pe.e.c&&(te=Pe.e.c)}}return X>8191&&(X=8191),V.write_shift(2,X),V.write_shift(1,he),V.write_shift(1,te),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function a(W,V,X){var te={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&X.qpro?(te.s.c=W.read_shift(1),W.l++,te.s.r=W.read_shift(2),te.e.c=W.read_shift(1),W.l++,te.e.r=W.read_shift(2),te):(te.s.c=W.read_shift(2),te.s.r=W.read_shift(2),V==12&&X.qpro&&(W.l+=2),te.e.c=W.read_shift(2),te.e.r=W.read_shift(2),V==12&&X.qpro&&(W.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function l(W){var V=Ve(8);return V.write_shift(2,W.s.c),V.write_shift(2,W.s.r),V.write_shift(2,W.e.c),V.write_shift(2,W.e.r),V}function c(W,V,X){var te=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(te[0].c=W.read_shift(1),te[3]=W.read_shift(1),te[0].r=W.read_shift(2),W.l+=2):(te[2]=W.read_shift(1),te[0].c=W.read_shift(2),te[0].r=W.read_shift(2)),te}function d(W,V,X){var te=W.l+V,he=c(W,V,X);if(he[1].t="s",X.vers==20768){W.l++;var Be=W.read_shift(1);return he[1].v=W.read_shift(Be,"utf8"),he}return X.qpro&&W.l++,he[1].v=W.read_shift(te-W.l,"cstr"),he}function f(W,V,X){var te=Ve(7+X.length);te.write_shift(1,255),te.write_shift(2,V),te.write_shift(2,W),te.write_shift(1,39);for(var he=0;he<te.length;++he){var Be=X.charCodeAt(he);te.write_shift(1,Be>=128?95:Be)}return te.write_shift(1,0),te}function p(W,V,X){var te=c(W,V,X);return te[1].v=W.read_shift(2,"i"),te}function m(W,V,X){var te=Ve(7);return te.write_shift(1,255),te.write_shift(2,V),te.write_shift(2,W),te.write_shift(2,X,"i"),te}function y(W,V,X){var te=c(W,V,X);return te[1].v=W.read_shift(8,"f"),te}function w(W,V,X){var te=Ve(13);return te.write_shift(1,255),te.write_shift(2,V),te.write_shift(2,W),te.write_shift(8,X,"f"),te}function C(W,V,X){var te=W.l+V,he=c(W,V,X);if(he[1].v=W.read_shift(8,"f"),X.qpro)W.l=te;else{var Be=W.read_shift(2);P(W.slice(W.l,W.l+Be),he),W.l+=Be}return he}function S(W,V,X){var te=V&32768;return V&=-32769,V=(te?W:0)+(V>=8192?V-16384:V),(te?"":"$")+(X?Sr(V):Xr(V))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(W,V){Wi(W,0);for(var X=[],te=0,he="",Be="",Fe="",_e="";W.l<W.length;){var Pe=W[W.l++];switch(Pe){case 0:X.push(W.read_shift(8,"f"));break;case 1:Be=S(V[0].c,W.read_shift(2),!0),he=S(V[0].r,W.read_shift(2),!1),X.push(Be+he);break;case 2:{var nt=S(V[0].c,W.read_shift(2),!0),re=S(V[0].r,W.read_shift(2),!1);Be=S(V[0].c,W.read_shift(2),!0),he=S(V[0].r,W.read_shift(2),!1),X.push(nt+re+":"+Be+he)}break;case 3:if(W.l<W.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(W.read_shift(2));break;case 6:{for(var St="";Pe=W[W.l++];)St+=String.fromCharCode(Pe);X.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:_e=X.pop(),Fe=X.pop(),X.push(["AND","OR"][Pe-20]+"("+Fe+","+_e+")");break;default:if(Pe<32&&E[Pe])_e=X.pop(),Fe=X.pop(),X.push(Fe+E[Pe]+_e);else if(R[Pe]){if(te=R[Pe][1],te==69&&(te=W[W.l++]),te>X.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+X.join("|")+"|");return}var ze=X.slice(-te);X.length-=te,X.push(R[Pe][0]+"("+ze.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}X.length==1?V[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function M(W){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=W.read_shift(2),V[3]=W[W.l++],V[0].c=W[W.l++],V}function A(W,V){var X=M(W);return X[1].t="s",X[1].v=W.read_shift(V-4,"cstr"),X}function D(W,V,X,te){var he=Ve(6+te.length);he.write_shift(2,W),he.write_shift(1,X),he.write_shift(1,V),he.write_shift(1,39);for(var Be=0;Be<te.length;++Be){var Fe=te.charCodeAt(Be);he.write_shift(1,Fe>=128?95:Fe)}return he.write_shift(1,0),he}function k(W,V){var X=M(W);X[1].v=W.read_shift(2);var te=X[1].v>>1;if(X[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return X[1].v=te,X}function I(W,V){var X=M(W),te=W.read_shift(4),he=W.read_shift(4),Be=W.read_shift(2);if(Be==65535)return te===0&&he===3221225472?(X[1].t="e",X[1].v=15):te===0&&he===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Fe=Be&32768;return Be=(Be&32767)-16446,X[1].v=(1-Fe*2)*(he*Math.pow(2,Be+32)+te*Math.pow(2,Be)),X}function B(W,V,X,te){var he=Ve(14);if(he.write_shift(2,W),he.write_shift(1,X),he.write_shift(1,V),te==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var Be=0,Fe=0,_e=0,Pe=0;return te<0&&(Be=1,te=-te),Fe=Math.log2(te)|0,te/=Math.pow(2,Fe-31),Pe=te>>>0,(Pe&2147483648)==0&&(te/=2,++Fe,Pe=te>>>0),te-=Pe,Pe|=2147483648,Pe>>>=0,te*=Math.pow(2,32),_e=te>>>0,he.write_shift(4,_e),he.write_shift(4,Pe),Fe+=16383+(Be?32768:0),he.write_shift(2,Fe),he}function N(W,V){var X=I(W);return W.l+=V-14,X}function H(W,V){var X=M(W),te=W.read_shift(4);return X[1].v=te>>6,X}function G(W,V){var X=M(W),te=W.read_shift(8,"f");return X[1].v=te,X}function oe(W,V){var X=G(W);return W.l+=V-10,X}function le(W,V){return W[W.l+V-1]==0?W.read_shift(V,"cstr"):""}function Z(W,V){var X=W[W.l++];X>V-1&&(X=V-1);for(var te="";te.length<X;)te+=String.fromCharCode(W[W.l++]);return te}function se(W,V,X){if(!(!X.qpro||V<21)){var te=W.read_shift(1);W.l+=17,W.l+=1,W.l+=2;var he=W.read_shift(V-21,"cstr");return[te,he]}}function fe(W,V){for(var X={},te=W.l+V;W.l<te;){var he=W.read_shift(2);if(he==14e3){for(X[he]=[0,""],X[he][0]=W.read_shift(2);W[W.l];)X[he][1]+=String.fromCharCode(W[W.l]),W.l++;W.l++}}return X}function ne(W,V){var X=Ve(5+W.length);X.write_shift(2,14e3),X.write_shift(2,V);for(var te=0;te<W.length;++te){var he=W.charCodeAt(te);X[X.l++]=he>127?95:he}return X[X.l++]=0,X}var L={0:{n:"BOF",f:ii},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:fe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}();function M4e(e){var t={},n=e.match(ms),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=$t(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=Q2[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var O4e=function(){var e=Ly("t"),t=Ly("rPr");function n(s){var o=s.match(e);if(!o)return{t:"s",v:""};var a={t:"s",v:Rn(o[1])},l=s.match(t);return l&&(a.s=M4e(l[1])),a}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(a){return a.v})}}(),L4e=function(){var t=/(\r\n|\n)/g;function n(i,s,o){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),s.push('<span style="'+a.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),N4e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,B4e=/<(?:\w+:)?r>/,V4e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function bM(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Rn(Zn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Zn(e),n&&(r.h=aM(r.t))):e.match(B4e)&&(r.r=Zn(e),r.t=Rn(Zn((e.replace(V4e,"").match(N4e)||[]).join("").replace(ms,""))),n&&(r.h=L4e(O4e(r.r)))),r):{t:""}}var H4e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,G4e=/<(?:\w+:)?(?:si|sstItem)>/g,U4e=/<\/(?:\w+:)?(?:si|sstItem)>/;function z4e(e,t){var n=[],r="";if(!e)return n;var i=e.match(H4e);if(i){r=i[2].replace(G4e,"").split(U4e);for(var s=0;s!=r.length;++s){var o=bM(r[s].trim(),t);o!=null&&(n[n.length]=o)}i=$t(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var j4e=/^\s|\s$|[\t\n\r]/;function yQ(e,t){if(!t.bookSST)return"";var n=[Qr];n[n.length]=st("sst",null,{xmlns:Nf[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(j4e)&&(s+=' xml:space="preserve"'),s+=">"+qn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function W4e(e){return[e.read_shift(4),e.read_shift(4)]}function $4e(e,t){var n=[],r=!1;return ru(e,function(s,o,a){switch(a){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}function q4e(e,t){return t||(t=Ve(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var K4e=iLe;function Y4e(e){var t=Ks();Ke(t,159,q4e(e));for(var n=0;n<e.length;++n)Ke(t,19,K4e(e[n]));return Ke(t,160),t.end()}function wQ(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Bc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function X4e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Bc(e,4),t.U=Bc(e,4),t.W=Bc(e,4),t}function Q4e(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function J4e(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(Q4e(e));return t}function Z4e(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function eBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Bc(e,4),t.U=Bc(e,4),t.W=Bc(e,4),t}function tBe(e){var t=eBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function CQ(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function bQ(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function nBe(e){var t=Bc(e);switch(t.Minor){case 2:return[t.Minor,rBe(e)];case 3:return[t.Minor,iBe()];case 4:return[t.Minor,sBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function rBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=CQ(e,n),i=bQ(e,e.length-e.l);return{t:"Std",h:r,v:i}}function iBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function sBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(ms,function(s){var o=$t(s);switch(Jl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){r[a]=o[a]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function oBe(e,t){var n={},r=n.EncryptionVersionInfo=Bc(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=CQ(e,i),t-=i,n.EncryptionVerifier=bQ(e,t),n}function aBe(e){var t={},n=t.EncryptionVersionInfo=Bc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function xM(e){var t=0,n,r=wQ(e),i=r.length+1,s,o,a,l,c;for(n=yd(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],a=(t&16384)===0?0:1,l=t<<1&32767,c=a|l,t=c^o;return t^52811}var xQ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,a){return r(o^a)},s=function(o){for(var a=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var d=o[c],f=0;f!=7;++f)d&64&&(a^=n[l]),d*=2,--l;return a};return function(o){for(var a=wQ(o),l=s(a),c=a.length,d=yd(16),f=0;f!=16;++f)d[f]=0;var p,m,y;for((c&1)===1&&(p=l>>8,d[c]=i(e[0],p),--c,p=l&255,m=a[a.length-1],d[c]=i(m,p));c>0;)--c,p=l>>8,d[c]=i(a[c],p),--c,p=l&255,d[c]=i(a[c],p);for(c=15,y=15-a.length;y>0;)p=l>>8,d[c]=i(e[y],p),--c,--y,p=l&255,d[c]=i(a[c],p),--c,--y;return d}}(),lBe=function(e,t,n,r,i){i||(i=t),r||(r=xQ(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},cBe=function(e){var t=0,n=xQ(e);return function(r){var i=lBe("",r,t,n);return t=i[1],i[0]}};function uBe(e,t,n,r){var i={key:ii(e),verificationBytes:ii(e)};return n.password&&(i.verifier=xM(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=cBe(n.password)),i}function dBe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=aBe(e):r.Data=oBe(e,t),r}function hBe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?dBe(e,t-2,r):uBe(e,n.biff>=8?t:t-2,n,r),r}var SQ=function(){function e(i,s){switch(s.type){case"base64":return t(Fo(i),s);case"binary":return t(i,s);case"buffer":return t(on&&Buffer.isBuffer(i)?i.toString("binary"):Od(i),s);case"array":return t(gf(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(a)&&(a[f]=[]);for(var p=/\\\w+\b/g,m=0,y,w=-1;y=p.exec(d);){switch(y[0]){case"\\cell":var C=d.slice(m,p.lastIndex-y[0].length);if(C[0]==" "&&(C=C.slice(1)),++w,C.length){var S={v:C,t:"s"};Array.isArray(a)?a[f][w]=S:a[Ut({r:f,c:w})]=S}break}m=p.lastIndex}w>c.e.c&&(c.e.c=w)}),a["!ref"]=Qt(c),a}function n(i,s){return Ld(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=_n(i["!ref"]),a,l=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Ut({r:c,c:d});a=l?(i[c]||[])[d]:i[f],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Yc(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function fBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Hy(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function pBe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(o===0)return[0,0,t];var a=0,l=0,c=i+s;switch(l=o/(c>1?2-c:c),i){case t:a=((n-r)/o+6)%6;break;case n:a=(r-t)/o+2;break;case r:a=(t-n)/o+4;break}return[a/6,l,c/2]}function gBe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],a=6*t,l;if(n!==0)switch(a|0){case 0:case 6:l=i*a,o[0]+=i,o[1]+=l;break;case 1:l=i*(2-a),o[0]+=l,o[1]+=i;break;case 2:l=i*(a-2),o[1]+=i,o[2]+=l;break;case 3:l=i*(4-a),o[1]+=l,o[2]+=i;break;case 4:l=i*(a-4),o[2]+=i,o[0]+=l;break;case 5:l=i*(6-a),o[2]+=l,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function T1(e,t){if(t===0)return e;var n=pBe(fBe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Hy(gBe(n))}var EQ=6,mBe=15,vBe=1,ls=EQ;function Gy(e){return Math.floor((e+Math.round(128/ls)/256)*ls)}function Uy(e){return Math.floor((e-5)/ls*100+.5)/100}function R1(e){return Math.round((e*ls+5)/ls*256)/256}function IA(e){return R1(Uy(Gy(e)))}function SM(e){var t=Math.abs(e-IA(e)),n=ls;if(t>.005)for(ls=vBe;ls<mBe;++ls)Math.abs(e-IA(e))<=t&&(t=Math.abs(e-IA(e)),n=ls);ls=n}function wd(e){e.width?(e.wpx=Gy(e.width),e.wch=Uy(e.wpx),e.MDW=ls):e.wpx?(e.wch=Uy(e.wpx),e.width=R1(e.wch),e.MDW=ls):typeof e.wch=="number"&&(e.width=R1(e.wch),e.wpx=Gy(e.width),e.MDW=ls),e.customWidth&&delete e.customWidth}var yBe=96,TQ=yBe;function zy(e){return e*96/TQ}function Xg(e){return e*TQ/96}var wBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function CBe(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(ms)||[]).forEach(function(o){var a=$t(o);switch(Jl(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=cr(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=cr(a.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in borders")}})}function bBe(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(ms)||[]).forEach(function(o){var a=$t(o);switch(Jl(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fills")}})}function xBe(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(ms)||[]).forEach(function(o){var a=$t(o);switch(Jl(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=Zn(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?cr(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?cr(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?cr(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?cr(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?cr(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?cr(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?cr(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=Q2[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=cr(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var l=zh[i.color.index];i.color.index==81&&(l=zh[1]),l||(l=zh[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=T1(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fonts")}})}function SBe(e,t,n){t.NumberFmt=[];for(var r=Lr(Bt),i=0;i<r.length;++i)t.NumberFmt[r[i]]=Bt[r[i]];var s=e[0].match(ms);if(s)for(i=0;i<s.length;++i){var o=$t(s[i]);switch(Jl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=Rn(Zn(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}Nc(a,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function EBe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=st("numFmt",null,{numFmtId:r,formatCode:qn(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=st("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var ux=["numFmtId","fillId","fontId","borderId","xfId"],dx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function TBe(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(ms)||[]).forEach(function(s){var o=$t(s),a=0;switch(Jl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],a=0;a<ux.length;++a)r[ux[a]]&&(r[ux[a]]=parseInt(r[ux[a]],10));for(a=0;a<dx.length;++a)r[dx[a]]&&(r[dx[a]]=cr(r[dx[a]]));if(t.NumberFmt&&r.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[a]){r.numFmtId=a;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=cr(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function RBe(e){var t=[];return t[t.length]=st("cellXfs",null),e.forEach(function(n){t[t.length]=st("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=st("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var _Be=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var d={};if(!a)return d;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=a.match(t))&&SBe(f,d,c),(f=a.match(i))&&xBe(f,d,l,c),(f=a.match(r))&&bBe(f,d,l,c),(f=a.match(s))&&CBe(f,d,l,c),(f=a.match(n))&&TBe(f,d,c),d}}();function RQ(e,t){var n=[Qr,st("styleSheet",null,{xmlns:Nf[0],"xmlns:vt":mi.vt})],r;return e.SSF&&(r=EBe(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=RBe(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function ABe(e,t){var n=e.read_shift(2),r=ds(e);return[n,r]}function DBe(e,t,n){n||(n=Ve(6+4*t.length)),n.write_shift(2,e),ki(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function PBe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=dLe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=uLe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ds(e),r}function kBe(e,t){t||(t=Ve(153)),t.write_shift(2,e.sz*20),hLe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),x1(e.color,t);var r=0;return r=2,t.write_shift(1,r),ki(e.name,t),t.length>t.l?t.slice(0,t.l):t}var FBe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],MA,IBe=fs;function z5(e,t){t||(t=Ve(84)),MA||(MA=JE(FBe));var n=MA[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(x1({auto:1},t),x1({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function MBe(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function _Q(e,t,n){n||(n=Ve(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function W0(e,t){return t||(t=Ve(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var OBe=fs;function LBe(e,t){return t||(t=Ve(51)),t.write_shift(1,0),W0(null,t),W0(null,t),W0(null,t),W0(null,t),W0(null,t),t.length>t.l?t.slice(0,t.l):t}function NBe(e,t){return t||(t=Ve(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),b1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function BBe(e,t,n){var r=Ve(2052);return r.write_shift(4,e),b1(t,r),b1(n,r),r.length>r.l?r.slice(0,r.l):r}function VBe(e,t,n){var r={};r.NumberFmt=[];for(var i in Bt)r.NumberFmt[i]=Bt[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return ru(e,function(l,c,d){switch(d){case 44:r.NumberFmt[l[0]]=l[1],Nc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=T1(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}function HBe(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&++n}),n!=0&&(Ke(e,615,Ha(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Ke(e,44,DBe(i,t[i]))}),Ke(e,616))}}function GBe(e){var t=1;Ke(e,611,Ha(t)),Ke(e,43,kBe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ke(e,612)}function UBe(e){var t=2;Ke(e,603,Ha(t)),Ke(e,45,z5({patternType:"none"})),Ke(e,45,z5({patternType:"gray125"})),Ke(e,604)}function zBe(e){var t=1;Ke(e,613,Ha(t)),Ke(e,46,LBe()),Ke(e,614)}function jBe(e){var t=1;Ke(e,626,Ha(t)),Ke(e,47,_Q({numFmtId:0},65535)),Ke(e,627)}function WBe(e,t){Ke(e,617,Ha(t.length)),t.forEach(function(n){Ke(e,47,_Q(n,0))}),Ke(e,618)}function $Be(e){var t=1;Ke(e,619,Ha(t)),Ke(e,48,NBe({xfId:0,name:"Normal"})),Ke(e,620)}function qBe(e){var t=0;Ke(e,505,Ha(t)),Ke(e,506)}function KBe(e){var t=0;Ke(e,508,BBe(t,"TableStyleMedium9","PivotStyleMedium4")),Ke(e,509)}function YBe(e,t){var n=Ks();return Ke(n,278),HBe(n,e.SSF),GBe(n),UBe(n),zBe(n),jBe(n),WBe(n,t.cellXfs),$Be(n),qBe(n),KBe(n),Ke(n,279),n.end()}var XBe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function QBe(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(ms)||[]).forEach(function(i){var s=$t(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[XBe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function JBe(){}function ZBe(){}var eVe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,tVe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nVe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function rVe(e,t,n){t.themeElements={};var r;[["clrScheme",eVe,QBe],["fontScheme",tVe,JBe],["fmtScheme",nVe,ZBe]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var iVe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function AQ(e,t){(!e||e.length===0)&&(e=EM());var n,r={};if(!(n=e.match(iVe)))throw new Error("themeElements not found in theme");return rVe(n[0],r,t),r.raw=e,r}function EM(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Qr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function sVe(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var o;try{o=CX(s,{type:"array"})}catch{return}var a=wo(o,"theme/theme/theme1.xml",!0);if(a)return AQ(a,n)}}function oVe(e){return e.read_shift(4)}function aVe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=lVe(e,4);break;case 2:t.xclrValue=aQ(e);break;case 3:t.xclrValue=oVe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function lVe(e,t){return fs(e,t)}function cVe(e,t){return fs(e,t)}function uVe(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=aVe(e);break;case 6:r[1]=cVe(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function dVe(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(uVe(e,n-e.l));return{ixfe:r,ext:s}}function hVe(e,t){t.forEach(function(n){n[0]})}function fVe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ds(e)}}function pVe(e){var t=Ve(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ki(e.name,t),t.slice(0,t.l)}function gVe(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function mVe(e){var t=Ve(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function vVe(e,t){var n=Ve(8+2*t.length);return n.write_shift(4,e),ki(t,n),n.slice(0,n.l)}function yVe(e){return e.l+=4,e.read_shift(4)!=0}function wVe(e,t){var n=Ve(8);return n.write_shift(4,e),n.write_shift(4,1),n}function CVe(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,a=2;return ru(e,function(l,c,d){switch(d){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){a==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):a==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function bVe(){var e=Ks();return Ke(e,332),Ke(e,334,Ha(1)),Ke(e,335,pVe({name:"XLDAPR",version:12e4,flags:3496657072})),Ke(e,336),Ke(e,339,vVe(1,"XLDAPR")),Ke(e,52),Ke(e,35,Ha(514)),Ke(e,4096,Ha(0)),Ke(e,4097,sa(1)),Ke(e,36),Ke(e,53),Ke(e,340),Ke(e,337,wVe(1)),Ke(e,51,mVe([[1,0]])),Ke(e,338),Ke(e,333),e.end()}function xVe(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,o;return e.replace(ms,function(a){var l=$t(a);switch(Jl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),r}function DQ(){var e=[Qr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function SVe(e){var t=[];if(!e)return t;var n=1;return(e.match(ms)||[]).forEach(function(r){var i=$t(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function EVe(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Ut(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function TVe(e,t,n){var r=[];return ru(e,function(s,o,a){switch(a){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+a.toString(16))}}),r}function RVe(e,t,n,r){if(!e)return e;var i=r||{},s=!1;ru(e,function(a,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function _Ve(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}var Yp=1024;function PQ(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[st("xml",null,{"xmlns:v":po.v,"xmlns:o":po.o,"xmlns:x":po.x,"xmlns:mv":po.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Yp<e*1e3;)Yp+=1e3;return t.forEach(function(s){var o=Er(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=st("v:fill",l,a),d={on:"t",obscured:"t"};++Yp,i=i.concat(["<v:shape"+Ny({id:"_x0000_s"+Yp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,st("v:shadow",null,d),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ki("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ki("x:AutoFill","False"),Ki("x:Row",String(o.r)),Ki("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function j5(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(o){var a=Er(o.ref);if(i?(e[a.r]||(e[a.r]=[]),s=e[a.r][a.c]):s=e[o.ref],!s){s={t:"z"},i?e[a.r][a.c]=s:e[o.ref]=s;var l=_n(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=Qt(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:n};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(d.a==r[f].id){d.a=r[f].name||d.a;break}}s.c.push(d)})}function AVe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=$t(a[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=Er(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&bM(f[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function kQ(e){var t=[Qr,st("comments",null,{xmlns:Nf[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(i){var s=qn(i.a);n.indexOf(s)==-1&&(n.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(qn(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(Ki("t",qn(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;t.push(Ki("t",qn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function DVe(e,t){var n=[],r=!1,i={},s=0;return e.replace(ms,function(a,l){var c=$t(a);switch(Jl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+a.length;break;case"</text>":i.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),n}function PVe(e,t,n){var r=[Qr,st("ThreadedComments",null,{xmlns:mi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(st("threadedComment",Ki("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function kVe(e,t){var n=[],r=!1;return e.replace(ms,function(s){var o=$t(s);switch(Jl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function FVe(e){var t=[Qr,st("personList",null,{xmlns:mi.TCMNT,"xmlns:x":Nf[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(st("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function IVe(e){var t={};t.iauthor=e.read_shift(4);var n=Gf(e);return t.rfx=n.s,t.ref=Ut(n.s),e.l+=16,t}function MVe(e,t){return t==null&&(t=Ve(36)),t.write_shift(4,e[1].iauthor),Em(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var OVe=ds;function LVe(e){return ki(e.slice(0,54))}function NVe(e,t){var n=[],r=[],i={},s=!1;return ru(e,function(a,l,c){switch(c){case 632:r.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function BVe(e){var t=Ks(),n=[];return Ke(t,628),Ke(t,630),e.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ke(t,632,LVe(i.a)))})}),Ke(t,631),Ke(t,633),e.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Er(r[0]),e:Er(r[0])};Ke(t,635,MVe([s,i])),i.t&&i.t.length>0&&Ke(t,637,oLe(i)),Ke(t,636),delete i.iauthor})}),Ke(t,634),Ke(t,629),t.end()}var VVe="application/vnd.ms-office.vbaProject";function HVe(e){var t=Ft.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ft.utils.cfb_add(t,i,e.FileIndex[r].content)}}),Ft.write(t)}function GVe(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ft.utils.cfb_add(e,i,t.FileIndex[r].content)}})}var FQ=["xlsb","xlsm","xlam","biff8","xla"];function UVe(){return{"!type":"dialog"}}function zVe(){return{"!type":"dialog"}}function jVe(){return{"!type":"macro"}}function WVe(){return{"!type":"macro"}}var bg=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return a?d+=t.c:--d,l?c+=t.r:--c,i+(a?"":"$")+Sr(d)+(l?"":"$")+Xr(c)}return function(i,s){return t=s,i.replace(e,n)}}(),TM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,RM=function(){return function(t,n){return t.replace(TM,function(r,i,s,o,a,l){var c=hM(o)-(s?0:n.c),d=dM(l)-(a?0:n.r),f=d==0?"":a?d+1:"["+d+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+p})}}();function IQ(e,t){return e.replace(TM,function(n,r,i,s,o,a){return r+(i=="$"?i+s:Sr(hM(s)+t.c))+(o=="$"?o+a:Xr(dM(a)+t.r))})}function $Ve(e,t,n){var r=Zs(t),i=r.s,s=Er(n),o={r:s.r-i.r,c:s.c-i.c};return IQ(e,o)}function qVe(e){return e.length!=1}function W5(e){return e.replace(/_xlfn\./g,"")}function ti(e){e.l+=1}function Cd(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function MQ(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return OQ(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=Cd(e),a=Cd(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function OQ(e){var t=Cd(e),n=Cd(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function KVe(e,t,n){if(n.biff<8)return OQ(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=Cd(e),o=Cd(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function LQ(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return YVe(e);var r=e.read_shift(n&&n.biff==12?4:2),i=Cd(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function YVe(e){var t=Cd(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function XVe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function QVe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return JVe(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function JVe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function ZVe(e,t,n){var r=(e[e.l++]&96)>>5,i=MQ(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function e3e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=MQ(e,s,n);return[r,i,o]}function t3e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function n3e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function r3e(e,t,n){var r=(e[e.l++]&96)>>5,i=KVe(e,t-1,n);return[r,i]}function i3e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function $5(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function s3e(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function o3e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function a3e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function l3e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function c3e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function NQ(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function u3e(e){return e.read_shift(2),NQ(e)}function d3e(e){return e.read_shift(2),NQ(e)}function h3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=LQ(e,0,n);return[r,i]}function f3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=QVe(e,0,n);return[r,i]}function p3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=LQ(e,0,n);return[r,i,s]}function g3e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[yHe[i],HQ[i],r]}function m3e(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:v3e(e);return[i,(s[0]===0?HQ:vHe)[s[1]]]}function v3e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function y3e(e,t,n){e.l+=n&&n.biff==2?3:4}function w3e(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function C3e(e){return e.l++,iu[e.read_shift(1)]}function b3e(e){return e.l++,e.read_shift(2)}function x3e(e){return e.l++,e.read_shift(1)!==0}function S3e(e){return e.l++,cs(e)}function E3e(e,t,n){return e.l++,tC(e,t-1,n)}function T3e(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=zr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=iu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=cs(e);break;case 2:n[1]=Uf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function R3e(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Gf:tT)(e));return i}function _3e(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=T3e(e,n.biff);return o}function A3e(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function D3e(e,t,n){if(n.biff==5)return P3e(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function P3e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function k3e(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function F3e(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function I3e(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function M3e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var O3e=fs,L3e=fs,N3e=fs;function rC(e,t,n){return e.l+=2,[XVe(e)]}function _M(e){return e.l+=6,[]}var B3e=rC,V3e=_M,H3e=_M,G3e=rC;function BQ(e){return e.l+=2,[ii(e),e.read_shift(2)&1]}var U3e=rC,z3e=BQ,j3e=_M,W3e=rC,$3e=rC,q3e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function K3e(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),o=q3e[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:s}}function Y3e(e){return e.l+=2,[e.read_shift(4)]}function X3e(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Q3e(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function J3e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Z3e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function eHe(e){return e.l+=4,[0,0]}var q5={1:{n:"PtgExp",f:w3e},2:{n:"PtgTbl",f:N3e},3:{n:"PtgAdd",f:ti},4:{n:"PtgSub",f:ti},5:{n:"PtgMul",f:ti},6:{n:"PtgDiv",f:ti},7:{n:"PtgPower",f:ti},8:{n:"PtgConcat",f:ti},9:{n:"PtgLt",f:ti},10:{n:"PtgLe",f:ti},11:{n:"PtgEq",f:ti},12:{n:"PtgGe",f:ti},13:{n:"PtgGt",f:ti},14:{n:"PtgNe",f:ti},15:{n:"PtgIsect",f:ti},16:{n:"PtgUnion",f:ti},17:{n:"PtgRange",f:ti},18:{n:"PtgUplus",f:ti},19:{n:"PtgUminus",f:ti},20:{n:"PtgPercent",f:ti},21:{n:"PtgParen",f:ti},22:{n:"PtgMissArg",f:ti},23:{n:"PtgStr",f:E3e},26:{n:"PtgSheet",f:X3e},27:{n:"PtgEndSheet",f:Q3e},28:{n:"PtgErr",f:C3e},29:{n:"PtgBool",f:x3e},30:{n:"PtgInt",f:b3e},31:{n:"PtgNum",f:S3e},32:{n:"PtgArray",f:i3e},33:{n:"PtgFunc",f:g3e},34:{n:"PtgFuncVar",f:m3e},35:{n:"PtgName",f:A3e},36:{n:"PtgRef",f:h3e},37:{n:"PtgArea",f:ZVe},38:{n:"PtgMemArea",f:k3e},39:{n:"PtgMemErr",f:O3e},40:{n:"PtgMemNoMem",f:L3e},41:{n:"PtgMemFunc",f:F3e},42:{n:"PtgRefErr",f:I3e},43:{n:"PtgAreaErr",f:t3e},44:{n:"PtgRefN",f:f3e},45:{n:"PtgAreaN",f:r3e},46:{n:"PtgMemAreaN",f:J3e},47:{n:"PtgMemNoMemN",f:Z3e},57:{n:"PtgNameX",f:D3e},58:{n:"PtgRef3d",f:p3e},59:{n:"PtgArea3d",f:e3e},60:{n:"PtgRefErr3d",f:M3e},61:{n:"PtgAreaErr3d",f:n3e},255:{}},tHe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nHe={1:{n:"PtgElfLel",f:BQ},2:{n:"PtgElfRw",f:W3e},3:{n:"PtgElfCol",f:B3e},6:{n:"PtgElfRwV",f:$3e},7:{n:"PtgElfColV",f:G3e},10:{n:"PtgElfRadical",f:U3e},11:{n:"PtgElfRadicalS",f:j3e},13:{n:"PtgElfColS",f:V3e},15:{n:"PtgElfColSV",f:H3e},16:{n:"PtgElfRadicalLel",f:z3e},25:{n:"PtgList",f:K3e},29:{n:"PtgSxName",f:Y3e},255:{}},rHe={0:{n:"PtgAttrNoop",f:eHe},1:{n:"PtgAttrSemi",f:c3e},2:{n:"PtgAttrIf",f:a3e},4:{n:"PtgAttrChoose",f:s3e},8:{n:"PtgAttrGoto",f:o3e},16:{n:"PtgAttrSum",f:y3e},32:{n:"PtgAttrBaxcel",f:$5},33:{n:"PtgAttrBaxcel",f:$5},64:{n:"PtgAttrSpace",f:u3e},65:{n:"PtgAttrSpaceSemi",f:d3e},128:{n:"PtgAttrIfError",f:l3e},255:{}};function iC(e,t,n,r){if(r.biff<8)return fs(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=_3e(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=R3e(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=i-e.l,t!==0&&s.push(fs(e,t)),s}function sC(e,t,n){for(var r=e.l+t,i,s,o=[];r!=e.l;)t=r-e.l,s=e[e.l],i=q5[s]||q5[tHe[s]],(s===24||s===25)&&(i=(s===24?nHe:rHe)[e[e.l+1]]),!i||!i.f?fs(e,t):o.push([i.n,i.f(e,t,n)]);return o}function iHe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var sHe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function oHe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function VQ(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function K5(e,t,n){var r=VQ(e,t,n);return r=="#REF"?r:oHe(r,n)}function as(e,t,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,c,d,f=0,p=0,m,y="";if(!e[0]||!e[0][0])return"";for(var w=-1,C="",S=0,R=e[0].length;S<R;++S){var E=e[0][S];switch(E[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),w>=0){switch(e[0][w][1][0]){case 0:C=Fr(" ",e[0][w][1][1]);break;case 1:C=Fr("\r",e[0][w][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}c=c+C,w=-1}a.push(c+sHe[E[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Mv(E[1][1],o,i),a.push(Ov(d,s));break;case"PtgRefN":d=n?Mv(E[1][1],n,i):E[1][1],a.push(Ov(d,s));break;case"PtgRef3d":f=E[1][1],d=Mv(E[1][2],o,i),y=K5(r,f,i),a.push(y+"!"+Ov(d,s));break;case"PtgFunc":case"PtgFuncVar":var P=E[1][0],M=E[1][1];P||(P=0),P&=127;var A=P==0?[]:a.slice(-P);a.length-=P,M==="User"&&(M=A.shift()),a.push(M+"("+A.join(",")+")");break;case"PtgBool":a.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(E[1]);break;case"PtgNum":a.push(String(E[1]));break;case"PtgStr":a.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(E[1]);break;case"PtgAreaN":m=S5(E[1][1],n?{s:n}:o,i),a.push(PA(m,i));break;case"PtgArea":m=S5(E[1][1],o,i),a.push(PA(m,i));break;case"PtgArea3d":f=E[1][1],m=E[1][2],y=K5(r,f,i),a.push(y+"!"+PA(m,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=E[1][2];var D=(r.names||[])[p-1]||(r[0]||[])[p],k=D?D.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),a.push(k);break;case"PtgNameX":var I=E[1][1];p=E[1][2];var B;if(i.biff<=5)I<0&&(I=-I),r[I]&&(B=r[I][p]);else{var N="";if(((r[I]||[])[0]||[])[0]==14849||(((r[I]||[])[0]||[])[0]==1025?r[I][p]&&r[I][p].itab>0&&(N=r.SheetNames[r[I][p].itab-1]+"!"):N=r.SheetNames[p-1]+"!"),r[I]&&r[I][p])N+=r[I][p].Name;else if(r[0]&&r[0][p])N+=r[0][p].Name;else{var H=(VQ(r,I,i)||"").split(";;");H[p-1]?N=H[p-1]:N+="SH33TJSERRX"}a.push(N);break}B||(B={Name:"SH33TJSERRY"}),a.push(B.Name);break;case"PtgParen":var G="(",oe=")";if(w>=0){switch(C="",e[0][w][1][0]){case 2:G=Fr(" ",e[0][w][1][1])+G;break;case 3:G=Fr("\r",e[0][w][1][1])+G;break;case 4:oe=Fr(" ",e[0][w][1][1])+oe;break;case 5:oe=Fr("\r",e[0][w][1][1])+oe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}a.push(G+a.pop()+oe);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":d={c:E[1][1],r:E[1][0]};var le={c:n.c,r:n.r};if(r.sharedf[Ut(d)]){var Z=r.sharedf[Ut(d)];a.push(as(Z,o,le,r,i))}else{var se=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){a.push(as(c[1],o,le,r,i)),se=!0;break}se||a.push(E[1])}break;case"PtgArray":a.push("{"+iHe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var fe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&fe.indexOf(e[0][S][0])==-1){E=e[0][w];var ne=!0;switch(E[1][0]){case 4:ne=!1;case 0:C=Fr(" ",E[1][1]);break;case 5:ne=!1;case 1:C=Fr("\r",E[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}a.push((ne?C:"")+a.pop()+(ne?"":C)),w=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function aHe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],fs(e,t-2)];var a=sC(e,o,n);return t!==o+i&&(s=iC(e,t-o-i,a,n)),e.l=r,[a,s]}function lHe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],fs(e,t-2)];var a=sC(e,o,n);return t!==o+i&&(s=iC(e,t-o-i,a,n)),e.l=r,[a,s]}function cHe(e,t,n,r){var i=e.l+t,s=sC(e,r,n),o;return i!==e.l&&(o=iC(e,i-e.l,s,n)),[s,o]}function uHe(e,t,n){var r=e.l+t,i,s=e.read_shift(2),o=sC(e,s,n);return s==65535?[[],fs(e,t-2)]:(t!==s+2&&(i=iC(e,r-s-2,o,n)),[o,i])}function dHe(e){var t;if(Ac(e,e.l+6)!==65535)return[cs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function hHe(e){if(e==null){var t=Ve(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return mf(e);return mf(0)}function OA(e,t,n){var r=e.l+t,i=Zl(e);n.biff==2&&++e.l;var s=dHe(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=lHe(e,r-e.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function fHe(e,t,n,r,i){var s=yf(t,n,i),o=hHe(e.v),a=Ve(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=Ve(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];var f=Pi([s,o,a,c]);return f}function nT(e,t,n){var r=e.read_shift(4),i=sC(e,r,n),s=e.read_shift(4),o=s>0?iC(e,s,i,n):null;return[i,o]}var pHe=nT,rT=nT,gHe=nT,mHe=nT,vHe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},yHe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Y5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function wHe(e){var t="of:="+e.replace(TM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function LA(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function CHe(e){return e.replace(/\./,"!")}var Nv={},xg={},Bv=typeof Map<"u";function AM(e,t,n){var r=0,i=e.length;if(n){if(Bv?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var s=Bv?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(Bv?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function iT(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(ls=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=Uy(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=R1(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function $h(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Nd(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Nc(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function GQ(e,t,n,r,i,s){try{r.cellNF&&(e.z=Bt[t])}catch(a){if(r.WTF)throw a}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=hr(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Bt[t]==null&&Nc(vOe[t]||"General",t),e.t==="e")e.w=e.w||iu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Oy(e.v);else if(e.t==="d"){var o=yi(e.v);(o|0)===o?e.w=o.toString(10):e.w=Oy(o)}else{if(e.v===void 0)return"";e.w=pf(e.v,xg)}else e.t==="d"?e.w=xa(t,yi(e.v),xg):e.w=xa(t,e.v,xg)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=T1(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=T1(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}function bHe(e,t,n){if(e&&e["!ref"]){var r=_n(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function xHe(e,t){var n=_n(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=Qt(n))}var SHe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,EHe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,THe=/<(?:\w:)?hyperlink [^>]*>/mg,RHe=/"(\w*:\w*)"/,_He=/<(?:\w:)?col\b[^>]*[\/]?>/g,AHe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,DHe=/<(?:\w:)?pageMargins[^>]*\/>/g,UQ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,PHe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,kHe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function FHe(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}});var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",f=e.match(EHe);f?(c=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):c=d=e;var p=c.match(UQ);p?DM(p[0],a,i,n):(p=c.match(PHe))&&MHe(p[0],p[1]||"",a,i,n);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(RHe);y&&xHe(a,y[1])}var w=c.match(kHe);w&&w[1]&&qHe(w[1],i);var C=[];if(t.cellStyles){var S=c.match(_He);S&&UHe(C,S)}f&&XHe(f[1],a,t,l,s,o);var R=d.match(AHe);R&&(a["!autofilter"]=jHe(R[0]));var E=[],P=d.match(SHe);if(P)for(m=0;m!=P.length;++m)E[m]=_n(P[m].slice(P[m].indexOf('"')+1));var M=d.match(THe);M&&VHe(a,M,r);var A=d.match(DHe);if(A&&(a["!margins"]=HHe($t(A[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=Qt(l)),t.sheetRows>0&&a["!ref"]){var D=_n(a["!ref"]);t.sheetRows<=+D.e.r&&(D.e.r=t.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),a["!fullref"]=a["!ref"],a["!ref"]=Qt(D))}return C.length>0&&(a["!cols"]=C),E.length>0&&(a["!merges"]=E),a}function IHe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Qt(e[n])+'"/>';return t+"</mergeCells>"}function DM(e,t,n,r){var i=$t(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Rn(Zn(i.codeName)))}function MHe(e,t,n,r,i){DM(e.slice(0,e.indexOf(">")),n,r,i)}function OHe(e,t,n,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,o.codeName=El(qn(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+st("outlinePr",null,c)}!s&&!a||(i[i.length]=st("sheetPr",a,o))}var LHe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],NHe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function BHe(e){var t={sheet:1};return LHe.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),NHe.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=xM(e.password).toString(16).toUpperCase()),st("sheetProtection",null,t)}function VHe(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=$t(Zn(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Rn(s.location))):(s.Target="#"+Rn(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=_n(s.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var d=Ut({c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function HHe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function GHe(e){return $h(e),st("pageMargins",null,e)}function UHe(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=$t(t[r],!0);i.hidden&&(i.hidden=cr(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,SM(i.width)),wd(i);s<=o;)e[s++]=fr(i)}}function zHe(e,t){for(var n=["<cols>"],r,i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=st("col",null,iT(i,r)));return n[n.length]="</cols>",n.join("")}function jHe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function WHe(e,t,n,r){var i=typeof e.ref=="string"?e.ref:Qt(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Zs(i);o.s.r==o.e.r&&(o.e.r=Zs(t["!ref"]).e.r,i=Qt(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),st("autoFilter",null,{ref:i})}var $He=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function qHe(e,t){t.Views||(t.Views=[{}]),(e.match($He)||[]).forEach(function(n,r){var i=$t(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),cr(i.rightToLeft)&&(t.Views[r].RTL=!0)})}function KHe(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,i),{})}function YHe(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=iu[e.v];break;case"d":r&&r.cellDates?i=hr(e.v,-1).toISOString():(e=fr(e),e.t="n",i=""+(e.v=yi(hr(e.v)))),typeof e.z>"u"&&(e.z=Bt[14]);break;default:i=e.v;break}var a=Ki("v",qn(i)),l={r:t},c=Nd(r.cellXfs,e,r);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=Ki("v",""+AM(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=st("f",qn(e.f),d)+(e.v!=null?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),st("c",a,l)}var XHe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Ly("v"),o=Ly("f");return function(l,c,d,f,p,m){for(var y=0,w="",C=[],S=[],R=0,E=0,P=0,M="",A,D,k=0,I=0,B,N,H=0,G=0,oe=Array.isArray(m.CellXf),le,Z=[],se=[],fe=Array.isArray(c),ne=[],L={},ae=!1,W=!!d.sheetStubs,V=l.split(t),X=0,te=V.length;X!=te;++X){w=V[X].trim();var he=w.length;if(he!==0){var Be=0;e:for(y=0;y<he;++y)switch(w[y]){case">":if(w[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(D=$t(w.slice(Be,y),!0),k=D.r!=null?parseInt(D.r,10):k+1,I=-1,d.sheetRows&&d.sheetRows<k)continue;L={},ae=!1,D.ht&&(ae=!0,L.hpt=parseFloat(D.ht),L.hpx=Xg(L.hpt)),D.hidden=="1"&&(ae=!0,L.hidden=!0),D.outlineLevel!=null&&(ae=!0,L.level=+D.outlineLevel),ae&&(ne[k-1]=L)}break;case"<":Be=y;break}if(Be>=y)break;if(D=$t(w.slice(Be,y),!0),k=D.r!=null?parseInt(D.r,10):k+1,I=-1,!(d.sheetRows&&d.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),d&&d.cellStyles&&(L={},ae=!1,D.ht&&(ae=!0,L.hpt=parseFloat(D.ht),L.hpx=Xg(L.hpt)),D.hidden=="1"&&(ae=!0,L.hidden=!0),D.outlineLevel!=null&&(ae=!0,L.level=+D.outlineLevel),ae&&(ne[k-1]=L)),C=w.slice(y).split(e);for(var Fe=0;Fe!=C.length&&C[Fe].trim().charAt(0)=="<";++Fe);for(C=C.slice(Fe),y=0;y!=C.length;++y)if(w=C[y].trim(),w.length!==0){if(S=w.match(n),R=y,E=0,P=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,S!=null&&S.length===2){for(R=0,M=S[1],E=0;E!=M.length&&!((P=M.charCodeAt(E)-64)<1||P>26);++E)R=26*R+P;--R,I=R}else++I;for(E=0;E!=w.length&&w.charCodeAt(E)!==62;++E);if(++E,D=$t(w.slice(0,E),!0),D.r||(D.r=Ut({r:k-1,c:I})),M=w.slice(E),A={t:""},(S=M.match(s))!=null&&S[1]!==""&&(A.v=Rn(S[1])),d.cellFormula){if((S=M.match(o))!=null&&S[1]!==""){if(A.f=Rn(Zn(S[1])).replace(/\r\n/g,`
`),d.xlfn||(A.f=W5(A.f)),S[0].indexOf('t="array"')>-1)A.F=(M.match(i)||[])[1],A.F.indexOf(":")>-1&&Z.push([_n(A.F),A.F]);else if(S[0].indexOf('t="shared"')>-1){N=$t(S[0]);var _e=Rn(Zn(S[1]));d.xlfn||(_e=W5(_e)),se[parseInt(N.si,10)]=[N,_e,D.r]}}else(S=M.match(/<f[^>]*\/>/))&&(N=$t(S[0]),se[N.si]&&(A.f=$Ve(se[N.si][1],se[N.si][2],D.r)));var Pe=Er(D.r);for(E=0;E<Z.length;++E)Pe.r>=Z[E][0].s.r&&Pe.r<=Z[E][0].e.r&&Pe.c>=Z[E][0].s.c&&Pe.c<=Z[E][0].e.c&&(A.F=Z[E][1])}if(D.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(W)A.t="z";else continue;else A.t=D.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),A.t){case"n":if(A.v==""||A.v==null){if(!W)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!W)continue;A.t="z"}else B=Nv[parseInt(A.v,10)],A.v=B.t,A.r=B.r,d.cellHTML&&(A.h=B.h);break;case"str":A.t="s",A.v=A.v!=null?Zn(A.v):"",d.cellHTML&&(A.h=aM(A.v));break;case"inlineStr":S=M.match(r),A.t="s",S!=null&&(B=bM(S[1]))?(A.v=B.t,d.cellHTML&&(A.h=B.h)):A.v="";break;case"b":A.v=cr(A.v);break;case"d":d.cellDates?A.v=hr(A.v,1):(A.v=yi(hr(A.v,1)),A.t="n");break;case"e":(!d||d.cellText!==!1)&&(A.w=A.v),A.v=jX[A.v];break}if(H=G=0,le=null,oe&&D.s!==void 0&&(le=m.CellXf[D.s],le!=null&&(le.numFmtId!=null&&(H=le.numFmtId),d.cellStyles&&le.fillId!=null&&(G=le.fillId))),GQ(A,H,G,d,p,m),d.cellDates&&oe&&A.t=="n"&&bm(Bt[H])&&(A.t="d",A.v=eT(A.v)),D.cm&&d.xlmeta){var nt=(d.xlmeta.Cell||[])[+D.cm-1];nt&&nt.type=="XLDAPR"&&(A.D=!0)}if(fe){var re=Er(D.r);c[re.r]||(c[re.r]=[]),c[re.r][re.c]=A}else c[D.r]=A}}}}ne.length>0&&(c["!rows"]=ne)}}();function QHe(e,t,n,r){var i=[],s=[],o=_n(e["!ref"]),a="",l,c="",d=[],f=0,p=0,m=e["!rows"],y=Array.isArray(e),w={r:c},C,S=-1;for(p=o.s.c;p<=o.e.c;++p)d[p]=Sr(p);for(f=o.s.r;f<=o.e.r;++f){for(s=[],c=Xr(f),p=o.s.c;p<=o.e.c;++p){l=d[p]+c;var R=y?(e[f]||[])[p]:e[l];R!==void 0&&(a=YHe(R,l,e,t))!=null&&s.push(a)}(s.length>0||m&&m[f])&&(w={r:c},m&&m[f]&&(C=m[f],C.hidden&&(w.hidden=1),S=-1,C.hpx?S=zy(C.hpx):C.hpt&&(S=C.hpt),S>-1&&(w.ht=S,w.customHeight=1),C.level&&(w.outlineLevel=C.level)),i[i.length]=st("row",s.join(""),w))}if(m)for(;f<m.length;++f)m&&m[f]&&(w={r:f+1},C=m[f],C.hidden&&(w.hidden=1),S=-1,C.hpx?S=zy(C.hpx):C.hpt&&(S=C.hpt),S>-1&&(w.ht=S,w.customHeight=1),C.level&&(w.outlineLevel=C.level),i[i.length]=st("row","",w));return i.join("")}function zQ(e,t,n,r){var i=[Qr,st("worksheet",null,{xmlns:Nf[0],"xmlns:r":mi.r})],s=n.SheetNames[e],o=0,a="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",d=_n(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=Qt(d)}r||(r={}),l["!comments"]=[];var f=[];OHe(l,n,e,t,i),i[i.length]=st("dimension",null,{ref:c}),i[i.length]=KHe(l,t,e,n),t.sheetFormat&&(i[i.length]=st("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=zHe(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=QHe(l,t),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=BHe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=WHe(l["!autofilter"],l,n,e)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=IHe(l["!merges"]));var p=-1,m,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(m={ref:w[0]},w[1].Target.charAt(0)!="#"&&(y=$n(r,-1,qn(w[1].Target).replace(/#.*$/,""),ln.HLINK),m["r:id"]="rId"+y),(p=w[1].Target.indexOf("#"))>-1&&(m.location=qn(w[1].Target.slice(p+1))),w[1].Tooltip&&(m.tooltip=qn(w[1].Tooltip)),i[i.length]=st("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=GHe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Ki("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(y=$n(r,-1,"../drawings/drawing"+(e+1)+".xml",ln.DRAW),i[i.length]=st("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=f),l["!comments"].length>0&&(y=$n(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ln.VML),i[i.length]=st("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function JHe(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function ZHe(e,t,n){var r=Ve(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=zy(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,p=-1,m=d<<10;m<d+1<<10;++m){c.c=m;var y=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Ut(c)];y&&(f<0&&(f=m),p=m)}f<0||(++a,r.write_shift(4,f),r.write_shift(4,p))}var w=r.l;return r.l=l,r.write_shift(4,a),r.l=w,r.length>r.l?r.slice(0,r.l):r}function e6e(e,t,n,r){var i=ZHe(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Ke(e,0,i)}var t6e=Gf,n6e=Em;function r6e(){}function i6e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=aLe(e),n}function s6e(e,t,n){n==null&&(n=Ve(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return x1({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),VX(e,n),n.slice(0,n.l)}function o6e(e){var t=Ta(e);return[t]}function a6e(e,t,n){return n==null&&(n=Ve(8)),Bf(t,n)}function l6e(e){var t=Vf(e);return[t]}function c6e(e,t,n){return n==null&&(n=Ve(4)),Hf(t,n)}function u6e(e){var t=Ta(e),n=e.read_shift(1);return[t,n,"b"]}function d6e(e,t,n){return n==null&&(n=Ve(9)),Bf(t,n),n.write_shift(1,e.v?1:0),n}function h6e(e){var t=Vf(e),n=e.read_shift(1);return[t,n,"b"]}function f6e(e,t,n){return n==null&&(n=Ve(5)),Hf(t,n),n.write_shift(1,e.v?1:0),n}function p6e(e){var t=Ta(e),n=e.read_shift(1);return[t,n,"e"]}function g6e(e,t,n){return n==null&&(n=Ve(9)),Bf(t,n),n.write_shift(1,e.v),n}function m6e(e){var t=Vf(e),n=e.read_shift(1);return[t,n,"e"]}function v6e(e,t,n){return n==null&&(n=Ve(8)),Hf(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function y6e(e){var t=Ta(e),n=e.read_shift(4);return[t,n,"s"]}function w6e(e,t,n){return n==null&&(n=Ve(12)),Bf(t,n),n.write_shift(4,t.v),n}function C6e(e){var t=Vf(e),n=e.read_shift(4);return[t,n,"s"]}function b6e(e,t,n){return n==null&&(n=Ve(8)),Hf(t,n),n.write_shift(4,t.v),n}function x6e(e){var t=Ta(e),n=cs(e);return[t,n,"n"]}function S6e(e,t,n){return n==null&&(n=Ve(16)),Bf(t,n),mf(e.v,n),n}function jQ(e){var t=Vf(e),n=cs(e);return[t,n,"n"]}function E6e(e,t,n){return n==null&&(n=Ve(12)),Hf(t,n),mf(e.v,n),n}function T6e(e){var t=Ta(e),n=mM(e);return[t,n,"n"]}function R6e(e,t,n){return n==null&&(n=Ve(12)),Bf(t,n),HX(e.v,n),n}function _6e(e){var t=Vf(e),n=mM(e);return[t,n,"n"]}function A6e(e,t,n){return n==null&&(n=Ve(8)),Hf(t,n),HX(e.v,n),n}function D6e(e){var t=Ta(e),n=fM(e);return[t,n,"is"]}function P6e(e){var t=Ta(e),n=ds(e);return[t,n,"str"]}function k6e(e,t,n){return n==null&&(n=Ve(12+4*e.v.length)),Bf(t,n),ki(e.v,n),n.length>n.l?n.slice(0,n.l):n}function F6e(e){var t=Vf(e),n=ds(e);return[t,n,"str"]}function I6e(e,t,n){return n==null&&(n=Ve(8+4*e.v.length)),Hf(t,n),ki(e.v,n),n.length>n.l?n.slice(0,n.l):n}function M6e(e,t,n){var r=e.l+t,i=Ta(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"b"];if(n.cellFormula){e.l+=2;var a=rT(e,r-e.l,n);o[3]=as(a,null,i,n.supbooks,n)}else e.l=r;return o}function O6e(e,t,n){var r=e.l+t,i=Ta(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"e"];if(n.cellFormula){e.l+=2;var a=rT(e,r-e.l,n);o[3]=as(a,null,i,n.supbooks,n)}else e.l=r;return o}function L6e(e,t,n){var r=e.l+t,i=Ta(e);i.r=n["!row"];var s=cs(e),o=[i,s,"n"];if(n.cellFormula){e.l+=2;var a=rT(e,r-e.l,n);o[3]=as(a,null,i,n.supbooks,n)}else e.l=r;return o}function N6e(e,t,n){var r=e.l+t,i=Ta(e);i.r=n["!row"];var s=ds(e),o=[i,s,"str"];if(n.cellFormula){e.l+=2;var a=rT(e,r-e.l,n);o[3]=as(a,null,i,n.supbooks,n)}else e.l=r;return o}var B6e=Gf,V6e=Em;function H6e(e,t){return t==null&&(t=Ve(4)),t.write_shift(4,e),t}function G6e(e,t){var n=e.l+t,r=Gf(e),i=pM(e),s=ds(e),o=ds(e),a=ds(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function U6e(e,t){var n=Ve(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Em({s:Er(e[0]),e:Er(e[0])},n),gM("rId"+t,n);var r=e[1].Target.indexOf("#"),i=r==-1?"":e[1].Target.slice(r+1);return ki(i||"",n),ki(e[1].Tooltip||"",n),ki("",n),n.slice(0,n.l)}function z6e(){}function j6e(e,t,n){var r=e.l+t,i=GX(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=pHe(e,r-e.l,n);o[1]=a}else e.l=r;return o}function W6e(e,t,n){var r=e.l+t,i=Gf(e),s=[i];if(n.cellFormula){var o=mHe(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}function $6e(e,t,n){n==null&&(n=Ve(18));var r=iT(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var WQ=["left","right","top","bottom","header","footer"];function q6e(e){var t={};return WQ.forEach(function(n){t[n]=cs(e)}),t}function K6e(e,t){return t==null&&(t=Ve(48)),$h(e),WQ.forEach(function(n){mf(e[n],t)}),t}function Y6e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function X6e(e,t,n){n==null&&(n=Ve(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function Q6e(e){var t=Ve(24);return t.write_shift(4,4),t.write_shift(4,1),Em(e,t),t}function J6e(e,t){return t==null&&(t=Ve(66)),t.write_shift(2,e.password?xM(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function Z6e(){}function e5e(){}function t5e(e,t,n,r,i,s,o){if(!e)return e;var a=t||{};r||(r={"!id":{}});var l=a.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,m,y,w,C,S,R,E,P,M,A=[];a.biff=12,a["!row"]=0;var D=0,k=!1,I=[],B={},N=a.supbooks||i.supbooks||[[]];if(N.sharedf=B,N.arrayf=I,N.SheetNames=i.SheetNames||i.Sheets.map(function(fe){return fe.name}),!a.supbooks&&(a.supbooks=N,i.Names))for(var H=0;H<i.Names.length;++H)N[0][H+1]=i.Names[H];var G=[],oe=[],le=!1;jy[16]={n:"BrtShortReal",f:jQ};var Z;if(ru(e,function(ne,L,ae){if(!p)switch(ae){case 148:c=ne;break;case 0:m=ne,a.sheetRows&&a.sheetRows<=m.r&&(p=!0),P=Xr(C=m.r),a["!row"]=m.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=Xg(ne.hpt)),oe[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:ne[2]},ne[2]){case"n":y.v=ne[1];break;case"s":E=Nv[ne[1]],y.v=E.t,y.r=E.r;break;case"b":y.v=!!ne[1];break;case"e":y.v=ne[1],a.cellText!==!1&&(y.w=iu[y.v]);break;case"str":y.t="s",y.v=ne[1];break;case"is":y.t="s",y.v=ne[1].t;break}if((w=o.CellXf[ne[0].iStyleRef])&&GQ(y,w.numFmtId,null,a,s,o),S=ne[0].c==-1?S+1:ne[0].c,a.dense?(l[C]||(l[C]=[]),l[C][S]=y):l[Sr(S)+P]=y,a.cellFormula){for(k=!1,D=0;D<I.length;++D){var W=I[D];m.r>=W[0].s.r&&m.r<=W[0].e.r&&S>=W[0].s.c&&S<=W[0].e.c&&(y.F=Qt(W[0]),k=!0)}!k&&ne.length>3&&(y.f=ne[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>S&&(d.s.c=S),d.e.r<m.r&&(d.e.r=m.r),d.e.c<S&&(d.e.c=S),a.cellDates&&w&&y.t=="n"&&bm(Bt[w.numFmtId])){var V=Ah(y.v);V&&(y.t="d",y.v=new Date(V.y,V.m-1,V.d,V.H,V.M,V.S,V.u))}Z&&(Z.type=="XLDAPR"&&(y.D=!0),Z=void 0);break;case 1:case 12:if(!a.sheetStubs||f)break;y={t:"z",v:void 0},S=ne[0].c==-1?S+1:ne[0].c,a.dense?(l[C]||(l[C]=[]),l[C][S]=y):l[Sr(S)+P]=y,d.s.r>m.r&&(d.s.r=m.r),d.s.c>S&&(d.s.c=S),d.e.r<m.r&&(d.e.r=m.r),d.e.c<S&&(d.e.c=S),Z&&(Z.type=="XLDAPR"&&(y.D=!0),Z=void 0);break;case 176:A.push(ne);break;case 49:Z=((a.xlmeta||{}).Cell||[])[ne-1];break;case 494:var X=r["!id"][ne.relId];for(X?(ne.Target=X.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=X):ne.relId==""&&(ne.Target="#"+ne.loc),C=ne.rfx.s.r;C<=ne.rfx.e.r;++C)for(S=ne.rfx.s.c;S<=ne.rfx.e.c;++S)a.dense?(l[C]||(l[C]=[]),l[C][S]||(l[C][S]={t:"z",v:void 0}),l[C][S].l=ne):(R=Ut({c:S,r:C}),l[R]||(l[R]={t:"z",v:void 0}),l[R].l=ne);break;case 426:if(!a.cellFormula)break;I.push(ne),M=a.dense?l[C][S]:l[Sr(S)+P],M.f=as(ne[1],d,{r:m.r,c:S},N,a),M.F=Qt(ne[0]);break;case 427:if(!a.cellFormula)break;B[Ut(ne[0].s)]=ne[1],M=a.dense?l[C][S]:l[Sr(S)+P],M.f=as(ne[1],d,{r:m.r,c:S},N,a);break;case 60:if(!a.cellStyles)break;for(;ne.e>=ne.s;)G[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},le||(le=!0,SM(ne.w/256)),wd(G[ne.e+1]);break;case 161:l["!autofilter"]={ref:Qt(ne)};break;case 476:l["!margins"]=ne;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ne.name&&(i.Sheets[n].CodeName=ne.name),(ne.above||ne.left)&&(l["!outline"]={above:ne.above,left:ne.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ne.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!L.T){if(!f||a.WTF)throw new Error("Unexpected record 0x"+ae.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Qt(c||d)),a.sheetRows&&l["!ref"]){var se=_n(l["!ref"]);a.sheetRows<=+se.e.r&&(se.e.r=a.sheetRows-1,se.e.r>d.e.r&&(se.e.r=d.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>d.e.c&&(se.e.c=d.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Qt(se))}return A.length>0&&(l["!merges"]=A),G.length>0&&(l["!cols"]=G),oe.length>0&&(l["!rows"]=oe),l}function n5e(e,t,n,r,i,s,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=fr(t),t.z=t.z||Bt[14],t.v=yi(hr(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r:n,c:r};switch(l.s=Nd(i.cellXfs,t,i),t.l&&s["!links"].push([Ut(l),t.l]),t.c&&s["!comments"].push([Ut(l),t.c]),t.t){case"s":case"str":return i.bookSST?(a=AM(i.Strings,t.v,i.revStrings),l.t="s",l.v=a,o?Ke(e,18,b6e(t,l)):Ke(e,7,w6e(t,l))):(l.t="str",o?Ke(e,17,I6e(t,l)):Ke(e,6,k6e(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ke(e,13,A6e(t,l)):Ke(e,2,R6e(t,l)):o?Ke(e,16,E6e(t,l)):Ke(e,5,S6e(t,l)),!0;case"b":return l.t="b",o?Ke(e,15,f6e(t,l)):Ke(e,4,d6e(t,l)),!0;case"e":return l.t="e",o?Ke(e,14,v6e(t,l)):Ke(e,3,g6e(t,l)),!0}return o?Ke(e,12,c6e(t,l)):Ke(e,1,a6e(t,l)),!0}function r5e(e,t,n,r){var i=_n(t["!ref"]||"A1"),s,o="",a=[];Ke(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=c;++d){o=Xr(d),e6e(e,t,i,d);var f=!1;if(d<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){d===i.s.r&&(a[p]=Sr(p)),s=a[p]+o;var m=l?(t[d]||[])[p]:t[s];if(!m){f=!1;continue}f=n5e(e,m,d,p,r,t,f)}}Ke(e,146)}function i5e(e,t){!t||!t["!merges"]||(Ke(e,177,H6e(t["!merges"].length)),t["!merges"].forEach(function(n){Ke(e,176,V6e(n))}),Ke(e,178))}function s5e(e,t){!t||!t["!cols"]||(Ke(e,390),t["!cols"].forEach(function(n,r){n&&Ke(e,60,$6e(r,n))}),Ke(e,391))}function o5e(e,t){!t||!t["!ref"]||(Ke(e,648),Ke(e,649,Q6e(_n(t["!ref"]))),Ke(e,650))}function a5e(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var i=$n(n,-1,r[1].Target.replace(/#.*$/,""),ln.HLINK);Ke(e,494,U6e(r,i))}}),delete t["!links"]}function l5e(e,t,n,r){if(t["!comments"].length>0){var i=$n(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",ln.VML);Ke(e,551,gM("rId"+i)),t["!legacy"]=i}}function c5e(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:Qt(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Zs(s);a.s.r==a.e.r&&(a.e.r=Zs(t["!ref"]).e.r,s=Qt(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ke(e,161,Em(_n(s))),Ke(e,162)}}function u5e(e,t,n){Ke(e,133),Ke(e,137,X6e(t,n)),Ke(e,138),Ke(e,134)}function d5e(e,t){t["!protect"]&&Ke(e,535,J6e(t["!protect"]))}function h5e(e,t,n,r){var i=Ks(),s=n.SheetNames[e],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch{}var l=_n(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ke(i,129),(n.vbaraw||o["!outline"])&&Ke(i,147,s6e(a,o["!outline"])),Ke(i,148,n6e(l)),u5e(i,o,n.Workbook),s5e(i,o),r5e(i,o,e,t),d5e(i,o),c5e(i,o,n,e),i5e(i,o),a5e(i,o,r),o["!margins"]&&Ke(i,476,K6e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&o5e(i,o),l5e(i,o,e,r),Ke(i,130),i.end()}function f5e(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var i=Rn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function p5e(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var a=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=f5e(f);d.s.r=d.s.c=0,d.e.c=a,c=Sr(a),p[0].forEach(function(m,y){o[c+Xr(y)]={t:"n",v:m,z:p[1]},l=y}),d.e.r<l&&(d.e.r=l),++a}),a>0&&(o["!ref"]=Qt(d)),o}function g5e(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,a=e.match(UQ);return a&&DM(a[0],s,i,n),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function m5e(e,t){e.l+=10;var n=ds(e);return{name:n}}function v5e(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return ru(e,function(l,c,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var PM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],y5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],w5e=[],C5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function X5(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=cr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function Q5(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=cr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function $Q(e){Q5(e.WBProps,PM),Q5(e.CalcPr,C5e),X5(e.WBView,y5e),X5(e.Sheets,w5e),xg.date1904=cr(e.WBProps.date1904)}function b5e(e){return!e.Workbook||!e.Workbook.WBProps?"false":cr(e.Workbook.WBProps.date1904)?"true":"false"}var x5e="][*?/\\".split("");function qQ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return x5e.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function S5e(e,t,n){e.forEach(function(r,i){qQ(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function E5e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];S5e(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)bHe(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var T5e=/<\w+:workbook/;function R5e(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(ms,function(l,c){var d=$t(l);switch(Jl(d[0])){case"<?xml":break;case"<workbook":l.match(T5e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":PM.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=cr(d[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:n.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(n.WBProps.CodeName=Zn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Rn(Zn(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Zn(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),cr(d.hidden||"0")&&(s.Hidden=!0),o=c+l.length;break;case"</definedName>":s.Ref=Rn(Zn(e.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Nf.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return $Q(n),n}function KQ(e){var t=[Qr];t[t.length]=st("workbook",null,{xmlns:Nf[0],"xmlns:r":mi.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(PM.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=st("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:qn(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=st("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=st("definedName",qn(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function _5e(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=sk(e),n.name=ds(e),n}function A5e(e,t){return t||(t=Ve(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),gM(e.strRelID,t),ki(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function D5e(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?ds(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function P5e(e,t){t||(t=Ve(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),VX(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function k5e(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function F5e(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=lLe(e),o=gHe(e,0,n),a=pM(e);e.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function I5e(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],jy[16]={n:"BrtFRTArchID$",f:k5e},ru(e,function(l,c,d){switch(d){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=as(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,l]):o[0]=[d,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),$Q(n),n.Names=s,n.supbooks=o,n}function M5e(e,t){Ke(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ke(e,156,A5e(i))}Ke(e,144)}function O5e(e,t){t||(t=Ve(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return ki("SheetJS",t),ki(g1.version,t),ki(g1.version,t),ki("7262",t),t.length>t.l?t.slice(0,t.l):t}function L5e(e,t){t||(t=Ve(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function N5e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(Ke(e,135),Ke(e,158,L5e(i)),Ke(e,136))}}function B5e(e,t){var n=Ks();return Ke(n,131),Ke(n,128,O5e()),Ke(n,153,P5e(e.Workbook&&e.Workbook.WBProps||null)),N5e(n,e),M5e(n,e),Ke(n,132),n.end()}function V5e(e,t,n){return t.slice(-4)===".bin"?I5e(e,n):R5e(e,n)}function H5e(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?t5e(e,r,n,i,s,o,a):FHe(e,r,n,i,s,o,a)}function G5e(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?v5e(e,r,n,i,s):g5e(e,r,n,i,s)}function U5e(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?jVe():WVe()}function z5e(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?UVe():zVe()}function j5e(e,t,n,r){return t.slice(-4)===".bin"?VBe(e,n,r):_Be(e,n,r)}function W5e(e,t,n){return AQ(e,n)}function $5e(e,t,n){return t.slice(-4)===".bin"?$4e(e,n):z4e(e,n)}function q5e(e,t,n){return t.slice(-4)===".bin"?NVe(e,n):AVe(e,n)}function K5e(e,t,n){return t.slice(-4)===".bin"?TVe(e):SVe(e)}function Y5e(e,t,n,r){return n.slice(-4)===".bin"?RVe(e,t,n,r):void 0}function X5e(e,t,n){return t.slice(-4)===".bin"?CVe(e,t,n):xVe(e,t,n)}function Q5e(e,t,n){return(t.slice(-4)===".bin"?B5e:KQ)(e)}function J5e(e,t,n,r,i){return(t.slice(-4)===".bin"?h5e:zQ)(e,n,r,i)}function Z5e(e,t,n){return(t.slice(-4)===".bin"?YBe:RQ)(e,n)}function eGe(e,t,n){return(t.slice(-4)===".bin"?Y4e:yQ)(e,n)}function tGe(e,t,n){return(t.slice(-4)===".bin"?BVe:kQ)(e)}function nGe(e){return(e.slice(-4)===".bin"?bVe:DQ)()}var YQ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,XQ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Pa(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(YQ),s,o,a,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(XQ),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(o+1),r[a]=s[2].slice(1,s[2].length-1));return r}function rGe(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(YQ),i,s,o,a;if(r)for(a=0;a!=r.length;++a)i=r[a].match(XQ),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Vv;function iGe(e,t){var n=Vv[e]||Rn(e);return n==="General"?pf(t):xa(n,t)}function sGe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=cr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=hr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Rn(t)]=i}function oGe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||iu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Oy(e.v):e.w=pf(e.v):e.w=iGe(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=Vv[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&bm(r)){var i=Ah(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function aGe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=wBe[r.Pattern]||r.Pattern)}e[t.ID]=t}function lGe(e,t,n,r,i,s,o,a,l,c){var d="General",f=r.StyleID,p={};c=c||{};var m=[],y=0;for(f===void 0&&a&&(f=a.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=cr(e);break;case"String":r.t="s",r.r=p5(Rn(e)),r.v=e.indexOf("<")>-1?Rn(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(hr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Rn(e):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=jX[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=p5(t||e));break}if(oGe(r,d,c),c.cellFormula!==!1)if(r.Formula){var w=Rn(r.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),r.f=bg(w,i),delete r.Formula,r.ArrayRange=="RC"?r.F=bg("RC:RC",i):r.ArrayRange&&(r.F=bg(r.ArrayRange,i),l.push([_n(r.F),r.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(r.F=l[y][1]);c.cellStyles&&(m.forEach(function(C){!p.patternType&&C.patternType&&(p.patternType=C.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function cGe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function NA(e,t){var n=t||{};xm();var r=hv(lM(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Zn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=fr(n);return o.type="string",Yg.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ft){i.indexOf("<"+ft)>=0&&(s=!0)}),s)return KGe(r,n);Vv={"General Number":"General","General Date":Bt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Bt[15],"Short Date":Bt[14],"Long Time":Bt[19],"Medium Time":Bt[18],"Short Time":Bt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Bt[2],Standard:Bt[4],Percent:Bt[10],Scientific:Bt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c,d={},f=[],p=n.dense?[]:{},m="",y={},w={},C=Pa('<Data ss:Type="String">'),S=0,R=0,E=0,P={s:{r:2e6,c:2e6},e:{r:0,c:0}},M={},A={},D="",k=0,I=[],B={},N={},H=0,G=[],oe=[],le={},Z=[],se,fe=!1,ne=[],L=[],ae={},W=0,V=0,X={Sheets:[],WBProps:{date1904:!1}},te={};By.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";a=By.exec(r);)switch(a[3]=(he=a[3]).toLowerCase()){case"data":if(he=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?lGe(r.slice(S,a.index),D,C,l[l.length-1][0]=="comment"?le:y,{c:R,r:E},M,Z[R],w,ne,n):(D="",C=Pa(a[0]),S=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(oe.length>0&&(y.c=oe),(!n.sheetRows||n.sheetRows>E)&&y.v!==void 0&&(n.dense?(p[E]||(p[E]=[]),p[E][R]=y):p[Sr(R)+Xr(E)]=y),y.HRef&&(y.l={Target:Rn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(W=R+(parseInt(y.MergeAcross,10)|0),V=E+(parseInt(y.MergeDown,10)|0),I.push({s:{c:R,r:E},e:{c:W,r:V}})),!n.sheetStubs)y.MergeAcross?R=W+1:++R;else if(y.MergeAcross||y.MergeDown){for(var Be=R;Be<=W;++Be)for(var Fe=E;Fe<=V;++Fe)(Be>R||Fe>E)&&(n.dense?(p[Fe]||(p[Fe]=[]),p[Fe][Be]={t:"z"}):p[Sr(Be)+Xr(Fe)]={t:"z"});R=W+1}else++R;else y=rGe(a[0]),y.Index&&(R=+y.Index-1),R<P.s.c&&(P.s.c=R),R>P.e.c&&(P.e.c=R),a[0].slice(-2)==="/>"&&++R,oe=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(E<P.s.r&&(P.s.r=E),E>P.e.r&&(P.e.r=E),a[0].slice(-2)==="/>"&&(w=Pa(a[0]),w.Index&&(E=+w.Index-1)),R=0,++E):(w=Pa(a[0]),w.Index&&(E=+w.Index-1),ae={},(w.AutoFitHeight=="0"||w.Height)&&(ae.hpx=parseInt(w.Height,10),ae.hpt=zy(ae.hpx),L[E]=ae),w.Hidden=="1"&&(ae.hidden=!0,L[E]=ae));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));f.push(m),P.s.r<=P.e.r&&P.s.c<=P.e.c&&(p["!ref"]=Qt(P),n.sheetRows&&n.sheetRows<=P.e.r&&(p["!fullref"]=p["!ref"],P.e.r=n.sheetRows-1,p["!ref"]=Qt(P))),I.length&&(p["!merges"]=I),Z.length>0&&(p["!cols"]=Z),L.length>0&&(p["!rows"]=L),d[m]=p}else P={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=R=0,l.push([a[3],!1]),c=Pa(a[0]),m=Rn(c.Name),p=n.dense?[]:{},I=[],ne=[],L=[],te={name:m,Hidden:0},X.Sheets.push(te);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),Z=[],fe=!1}break;case"style":a[1]==="/"?aGe(M,A,n):A=Pa(a[0]);break;case"numberformat":A.nf=Rn(Pa(a[0]).Format||"General"),Vv[A.nf]&&(A.nf=Vv[A.nf]);for(var _e=0;_e!=392&&Bt[_e]!=A.nf;++_e);if(_e==392){for(_e=57;_e!=392;++_e)if(Bt[_e]==null){Nc(A.nf,_e);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(se=Pa(a[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!fe&&se.wpx>10){fe=!0,ls=EQ;for(var Pe=0;Pe<Z.length;++Pe)Z[Pe]&&wd(Z[Pe])}fe&&wd(se),Z[se.Index-1||Z.length]=se;for(var nt=0;nt<+se.Span;++nt)Z[Z.length]=fr(se);break;case"namedrange":if(a[1]==="/")break;X.Names||(X.Names=[]);var re=$t(a[0]),St={Name:re.Name,Ref:bg(re.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(St.Sheet=X.Sheets.length-1),X.Names.push(St);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?D+=r.slice(k,a.index):k=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;A.Interior=Pa(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?ILe(B,he,r.slice(H,a.index)):H=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));cGe(le),oe.push(le)}else l.push([a[3],!1]),c=Pa(a[0]),le={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var ze=Pa(a[0]);p["!autofilter"]={ref:bg(ze.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return nG(r,n);var Je=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Je=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Je=!1}break;case"excelworkbook":switch(a[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Je=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Je=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(r.slice(H,a.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else H=a.index+a[0].length;break;case"header":p["!margins"]||$h(p["!margins"]={},"xlml"),isNaN(+$t(a[0]).Margin)||(p["!margins"].header=+$t(a[0]).Margin);break;case"footer":p["!margins"]||$h(p["!margins"]={},"xlml"),isNaN(+$t(a[0]).Margin)||(p["!margins"].footer=+$t(a[0]).Margin);break;case"pagemargins":var et=$t(a[0]);p["!margins"]||$h(p["!margins"]={},"xlml"),isNaN(+et.Top)||(p["!margins"].top=+et.Top),isNaN(+et.Left)||(p["!margins"].left=+et.Left),isNaN(+et.Right)||(p["!margins"].right=+et.Right),isNaN(+et.Bottom)||(p["!margins"].bottom=+et.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Je=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Je=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Je=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Je=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Je=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Je=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Je=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Je=!1}break;case"smarttags":break;default:Je=!1;break}if(Je||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?sGe(N,he,G,r.slice(H,a.index)):(G=a,H=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var Me={};return!n.bookSheets&&!n.bookProps&&(Me.Sheets=d),Me.SheetNames=f,Me.Workbook=X,Me.SSF=fr(Bt),Me.Props=B,Me.Custprops=N,Me}function hk(e,t){switch(FM(t=t||{}),t.type||"base64"){case"base64":return NA(Fo(e),t);case"binary":case"buffer":case"file":return NA(e,t);case"array":return NA(Od(e),t)}}function uGe(e,t){var n=[];return e.Props&&n.push(MLe(e.Props,t)),e.Custprops&&n.push(OLe(e.Props,e.Custprops)),n.join("")}function dGe(){return""}function hGe(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var s=[];s.push(st("NumberFormat",null,{"ss:Format":qn(Bt[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(st("Style",s.join(""),o))}),st("Styles",n.join(""))}function QQ(e){return st("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+RM(e.Ref,{r:0,c:0})})}function fGe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(QQ(i)))}return st("Names",n.join(""))}function pGe(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(QQ(a)))}return s.join("")}function gGe(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(st("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(st("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(st("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(st("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Ki("ProtectContents","True")),e["!protect"].objects&&i.push(Ki("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Ki("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Ki("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Ki("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":st("WorksheetOptions",i.join(""),{xmlns:po.x})}function mGe(e){return e.map(function(t){var n=NOe(t.t||""),r=st("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",r,{"ss:Author":t.a})}).join("")}function vGe(e,t,n,r,i,s,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+qn(RM(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=Er(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=qn(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=qn(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],d=0;d!=c.length;++d)c[d].s.c!=o.c||c[d].s.r!=o.r||(c[d].e.c>c[d].s.c&&(a["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(a["ss:MergeDown"]=c[d].e.r-c[d].s.r));var f="",p="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",p=String(e.v);break;case"b":f="Boolean",p=e.v?"1":"0";break;case"e":f="Error",p=iu[e.v];break;case"d":f="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Bt[14]);break;case"s":f="String",p=LOe(e.v||"");break}var m=Nd(r.cellXfs,e,r);a["ss:StyleID"]="s"+(21+m),a["ss:Index"]=o.c+1;var y=e.v!=null?p:"",w=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(w+=mGe(e.c)),st("Cell",w,a)}function yGe(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Xg(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function wGe(e,t,n,r){if(!e["!ref"])return"";var i=_n(e["!ref"]),s=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(C,S){wd(C);var R=!!C.width,E=iT(S,C),P={"ss:Index":S+1};R&&(P["ss:Width"]=Gy(E.width)),C.hidden&&(P["ss:Hidden"]="1"),a.push(st("Column",null,P))});for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var d=[yGe(c,(e["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>c)&&!(s[o].e.c<f)&&!(s[o].e.r<c)){(s[o].s.c!=f||s[o].s.r!=c)&&(p=!0);break}if(!p){var m={r:c,c:f},y=Ut(m),w=l?(e[c]||[])[f]:e[y];d.push(vGe(w,y,e,t,n,r,m))}}d.push("</Row>"),d.length>2&&a.push(d.join(""))}return a.join("")}function CGe(e,t,n){var r=[],i=n.SheetNames[e],s=n.Sheets[i],o=s?pGe(s,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?wGe(s,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(gGe(s,t,e,n)),r.join("")}function bGe(e,t){t||(t={}),e.SSF||(e.SSF=fr(Bt)),e.SSF&&(xm(),QE(e.SSF),t.revssf=ZE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Nd(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(uGe(e,t)),n.push(dGe()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(st("Worksheet",CGe(r,t,e),{"ss:Name":qn(e.SheetNames[r])}));return n[2]=hGe(e,t),n[3]=fGe(e),Qr+st("Workbook",n.join(""),{xmlns:po.ss,"xmlns:o":po.o,"xmlns:x":po.x,"xmlns:ss":po.ss,"xmlns:dt":po.dt,"xmlns:html":po.html})}function xGe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=fLe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=pLe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var SGe=[60,1084,2066,2165,2175];function EGe(e,t,n,r,i){var s=r,o=[],a=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(a)}o.push(a),n.l+=s;for(var l=Ac(n,n.l),c=fk[l],d=0;c!=null&&SGe.indexOf(l)>-1;)s=Ac(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),a=n.slice(d,n.l+4+s),o.push(a),n.l+=4+s,c=fk[l=Ac(n,n.l)];var f=Pi(o);Wi(f,0);var p=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(p),p+=o[m].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,i)}function ul(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Bt[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||iu[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Oy(e.v):e.w=pf(e.v):e.w=xa(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&bm(Bt[r]||String(r))){var i=Ah(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function hx(e,t,n){return{v:e,ixfe:t,t:n}}function TGe(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},o={},a=null,l=[],c="",d={},f,p="",m,y,w,C,S={},R=[],E,P,M=[],A=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},I=function(gt){return gt<8?zh[gt]:gt<64&&A[gt-8]||zh[gt]},B=function(gt,Yt,Fn){var nn=Yt.XF.data;if(!(!nn||!nn.patternType||!Fn||!Fn.cellStyles)){Yt.s={},Yt.s.patternType=nn.patternType;var gr;(gr=Hy(I(nn.icvFore)))&&(Yt.s.fgColor={rgb:gr}),(gr=Hy(I(nn.icvBack)))&&(Yt.s.bgColor={rgb:gr})}},N=function(gt,Yt,Fn){if(!(ae>1)&&!(Fn.sheetRows&&gt.r>=Fn.sheetRows)){if(Fn.cellStyles&&Yt.XF&&Yt.XF.data&&B(gt,Yt,Fn),delete Yt.ixfe,delete Yt.XF,f=gt,p=Ut(gt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),gt.r<o.s.r&&(o.s.r=gt.r),gt.c<o.s.c&&(o.s.c=gt.c),gt.r+1>o.e.r&&(o.e.r=gt.r+1),gt.c+1>o.e.c&&(o.e.c=gt.c+1),Fn.cellFormula&&Yt.f){for(var nn=0;nn<R.length;++nn)if(!(R[nn][0].s.c>gt.c||R[nn][0].s.r>gt.r)&&!(R[nn][0].e.c<gt.c||R[nn][0].e.r<gt.r)){Yt.F=Qt(R[nn][0]),(R[nn][0].s.c!=gt.c||R[nn][0].s.r!=gt.r)&&delete Yt.f,Yt.f&&(Yt.f=""+as(R[nn][1],o,gt,ne,H));break}}Fn.dense?(i[gt.r]||(i[gt.r]=[]),i[gt.r][gt.c]=Yt):i[p]=Yt}},H={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:R,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(H.password=t.password);var G,oe=[],le=[],Z=[],se=[],fe=!1,ne=[];ne.SheetNames=H.snames,ne.sharedf=H.sharedf,ne.arrayf=H.arrayf,ne.names=[],ne.XTI=[];var L=0,ae=0,W=0,V=[],X=[],te;H.codepage=1200,Oa(1200);for(var he=!1;e.l<e.length-1;){var Be=e.l,Fe=e.read_shift(2);if(Fe===0&&L===10)break;var _e=e.l===e.length?0:e.read_shift(2),Pe=fk[Fe];if(Pe&&Pe.f){if(t.bookSheets&&L===133&&Fe!==133)break;if(L=Fe,Pe.r===2||Pe.r==12){var nt=e.read_shift(2);if(_e-=2,!H.enc&&nt!==Fe&&((nt&255)<<8|nt>>8)!==Fe)throw new Error("rt mismatch: "+nt+"!="+Fe);Pe.r==12&&(e.l+=10,_e-=10)}var re={};if(Fe===10?re=Pe.f(e,_e,H):re=EGe(Fe,Pe,e,_e,H),ae==0&&[9,521,1033,2057].indexOf(L)===-1)continue;switch(Fe){case 34:n.opts.Date1904=D.WBProps.date1904=re;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(H.enc||(e.l=0),H.enc=re,!t.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:H.lastuser=re;break;case 66:var St=Number(re);switch(St){case 21010:St=1200;break;case 32768:St=1e4;break;case 32769:St=1252;break}Oa(H.codepage=St),he=!0;break;case 317:H.rrtabid=re;break;case 25:H.winlocked=re;break;case 439:n.opts.RefreshAll=re;break;case 12:n.opts.CalcCount=re;break;case 16:n.opts.CalcDelta=re;break;case 17:n.opts.CalcIter=re;break;case 13:n.opts.CalcMode=re;break;case 14:n.opts.CalcPrecision=re;break;case 95:n.opts.CalcSaveRecalc=re;break;case 15:H.CalcRefMode=re;break;case 2211:n.opts.FullCalc=re;break;case 129:re.fDialog&&(i["!type"]="dialog"),re.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),re.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:M.push(re);break;case 430:ne.push([re]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(re);break;case 24:case 536:te={Name:re.Name,Ref:as(re.rgce,o,null,ne,H)},re.itab>0&&(te.Sheet=re.itab-1),ne.names.push(te),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(X[re.itab-1]={ref:Qt(re.rgce[0][0][1][2])});break;case 22:H.ExternCount=re;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(re),ne.XTI=ne.XTI.concat(re);break;case 2196:if(H.biff<8)break;te!=null&&(te.Comment=re[1]);break;case 18:i["!protect"]=re;break;case 19:re!==0&&H.WTF&&console.error("Password verifier: "+re);break;case 133:s[re.pos]=re,H.snames.push(re.name);break;case 10:{if(--ae)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Qt(o),t.sheetRows&&t.sheetRows<=o.e.r){var ze=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Qt(o),o.e.r=ze}o.e.r++,o.e.c++}oe.length>0&&(i["!merges"]=oe),le.length>0&&(i["!objects"]=le),Z.length>0&&(i["!cols"]=Z),se.length>0&&(i["!rows"]=se),D.Sheets.push(k)}c===""?d=i:r[c]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(H.biff===8&&(H.biff={9:2,521:3,1033:4}[Fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),H.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(H.biff=5,he=!0,Oa(H.codepage=28591)),H.biff==8&&re.BIFFVer==0&&re.dt==16&&(H.biff=2),ae++)break;if(i=t.dense?[]:{},H.biff<8&&!he&&(he=!0,Oa(H.codepage=t.codepage||1252)),H.biff<5||re.BIFFVer==0&&re.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Je={pos:e.l-_e,name:c};s[Je.pos]=Je,H.snames.push(c)}else c=(s[Be]||{name:""}).name;re.dt==32&&(i["!type"]="chart"),re.dt==64&&(i["!type"]="macro"),oe=[],le=[],H.arrayf=R=[],Z=[],se=[],fe=!1,k={Hidden:(s[Be]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[re.r]||[])[re.c]:i[Ut({c:re.c,r:re.r})])&&++re.c,E={ixfe:re.ixfe,XF:M[re.ixfe]||{},v:re.val,t:"n"},W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 5:case 517:E={ixfe:re.ixfe,XF:M[re.ixfe],v:re.val,t:re.t},W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 638:E={ixfe:re.ixfe,XF:M[re.ixfe],v:re.rknum,t:"n"},W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 189:for(var et=re.c;et<=re.C;++et){var Me=re.rkrec[et-re.c][0];E={ixfe:Me,XF:M[Me],v:re.rkrec[et-re.c][1],t:"n"},W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:et,r:re.r},E,t)}break;case 6:case 518:case 1030:{if(re.val=="String"){a=re;break}if(E=hx(re.val,re.cell.ixfe,re.tt),E.XF=M[E.ixfe],t.cellFormula){var ft=re.formula;if(ft&&ft[0]&&ft[0][0]&&ft[0][0][0]=="PtgExp"){var kt=ft[0][0][1][0],Ct=ft[0][0][1][1],It=Ut({r:kt,c:Ct});S[It]?E.f=""+as(re.formula,o,re.cell,ne,H):E.F=((t.dense?(i[kt]||[])[Ct]:i[It])||{}).F}else E.f=""+as(re.formula,o,re.cell,ne,H)}W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N(re.cell,E,t),a=re}break;case 7:case 519:if(a)a.val=re,E=hx(re,a.cell.ixfe,"s"),E.XF=M[E.ixfe],t.cellFormula&&(E.f=""+as(a.formula,o,a.cell,ne,H)),W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N(a.cell,E,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{R.push(re);var Vt=Ut(re[0].s);if(m=t.dense?(i[re[0].s.r]||[])[re[0].s.c]:i[Vt],t.cellFormula&&m){if(!a||!Vt||!m)break;m.f=""+as(re[1],o,re[0],ne,H),m.F=Qt(re[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!a)break;S[Ut(a.cell)]=re[0],m=t.dense?(i[a.cell.r]||[])[a.cell.c]:i[Ut(a.cell)],(m||{}).f=""+as(re[0],o,f,ne,H)}}break;case 253:E=hx(l[re.isst].t,re.ixfe,"s"),l[re.isst].h&&(E.h=l[re.isst].h),E.XF=M[E.ixfe],W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:re.ixfe,XF:M[re.ixfe],t:"z"},W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t));break;case 190:if(t.sheetStubs)for(var Kt=re.c;Kt<=re.C;++Kt){var Jt=re.ixfe[Kt-re.c];E={ixfe:Jt,XF:M[Jt],t:"z"},W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:Kt,r:re.r},E,t)}break;case 214:case 516:case 4:E=hx(re.val,re.ixfe,"s"),E.XF=M[E.ixfe],W>0&&(E.z=V[E.ixfe>>8&63]),ul(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 0:case 512:ae===1&&(o=re);break;case 252:l=re;break;case 1054:if(H.biff==4){V[W++]=re[1];for(var An=0;An<W+163&&Bt[An]!=re[1];++An);An>=163&&Nc(re[1],W+163)}else Nc(re[1],re[0]);break;case 30:{V[W++]=re;for(var ve=0;ve<W+163&&Bt[ve]!=re;++ve);ve>=163&&Nc(re,W+163)}break;case 229:oe=oe.concat(re);break;case 93:le[re.cmo[0]]=H.lastobj=re;break;case 438:H.lastobj.TxO=re;break;case 127:H.lastobj.ImData=re;break;case 440:for(C=re[0].s.r;C<=re[0].e.r;++C)for(w=re[0].s.c;w<=re[0].e.c;++w)m=t.dense?(i[C]||[])[w]:i[Ut({c:w,r:C})],m&&(m.l=re[1]);break;case 2048:for(C=re[0].s.r;C<=re[0].e.r;++C)for(w=re[0].s.c;w<=re[0].e.c;++w)m=t.dense?(i[C]||[])[w]:i[Ut({c:w,r:C})],m&&m.l&&(m.l.Tooltip=re[1]);break;case 28:{if(H.biff<=5&&H.biff>=2)break;m=t.dense?(i[re[0].r]||[])[re[0].c]:i[Ut(re[0])];var Le=le[re[2]];m||(t.dense?(i[re[0].r]||(i[re[0].r]=[]),m=i[re[0].r][re[0].c]={t:"z"}):m=i[Ut(re[0])]={t:"z"},o.e.r=Math.max(o.e.r,re[0].r),o.s.r=Math.min(o.s.r,re[0].r),o.e.c=Math.max(o.e.c,re[0].c),o.s.c=Math.min(o.s.c,re[0].c)),m.c||(m.c=[]),y={a:re[1],t:Le.TxO.t},m.c.push(y)}break;case 2173:hVe(M[re.ixfe],re.ext);break;case 125:{if(!H.cellStyles)break;for(;re.e>=re.s;)Z[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},fe||(fe=!0,SM(re.w/256)),wd(Z[re.e+1])}break;case 520:{var Xe={};re.level!=null&&(se[re.r]=Xe,Xe.level=re.level),re.hidden&&(se[re.r]=Xe,Xe.hidden=!0),re.hpt&&(se[re.r]=Xe,Xe.hpt=re.hpt,Xe.hpx=Xg(re.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||$h(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Fe]]=re;break;case 161:i["!margins"]||$h(i["!margins"]={}),i["!margins"].header=re.header,i["!margins"].footer=re.footer;break;case 574:re.RTL&&(D.Views[0].RTL=!0);break;case 146:A=re;break;case 2198:G=re;break;case 140:P=re;break;case 442:c?k.CodeName=re||k.name:D.WBProps.CodeName=re||"ThisWorkbook";break}}else Pe||console.error("Missing Info for XLS Record 0x"+Fe.toString(16)),e.l+=_e}return n.SheetNames=Lr(s).sort(function(ht,gt){return Number(ht)-Number(gt)}).map(function(ht){return s[ht].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&X.forEach(function(ht,gt){n.Sheets[n.SheetNames[gt]]["!autofilter"]=ht}),n.Strings=l,n.SSF=fr(Bt),H.enc&&(n.Encryption=H.enc),G&&(n.Themes=G),n.Metadata={},P!==void 0&&(n.Metadata.Country=P),ne.names.length>0&&(D.Names=ne.names),n.Workbook=D,n}var Hv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function RGe(e,t,n){var r=Ft.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=F5(r,ok,Hv.DSI);for(var s in i)t[s]=i[s]}catch(c){if(n.WTF)throw c}var o=Ft.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var a=F5(o,ak,Hv.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(XX(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function _Ge(e,t){var n=[],r=[],i=[],s=0,o,a=l5(ok,"n"),l=l5(ak,"n");if(e.Props)for(o=Lr(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Lr(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],e.Custprops[o[s]]]);var c=[];for(s=0;s<i.length;++s)rQ.indexOf(i[s][0])>-1||YX.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Ft.utils.cfb_add(t,"/SummaryInformation",I5(r,Hv.SI,l,ak)),(n.length||c.length)&&Ft.utils.cfb_add(t,"/DocumentSummaryInformation",I5(n,Hv.DSI,a,ok,c.length?c:null,Hv.UDI))}function JQ(e,t){t||(t={}),FM(t),Z2(),t.codepage&&J2(t.codepage);var n,r;if(e.FullPaths){if(Ft.find(e,"/encryption"))throw new Error("File is password-protected");n=Ft.find(e,"!CompObj"),r=Ft.find(e,"/Workbook")||Ft.find(e,"/Book")}else{switch(t.type){case"base64":e=yo(Fo(e));break;case"binary":e=yo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Wi(e,0),r={content:e}}var i,s;if(n&&xGe(n),t.bookProps&&!t.bookSheets)i={};else{var o=on?"buffer":"array";if(r&&r.content)i=TGe(r.content,t);else if((s=Ft.find(e,"PerfectOffice_MAIN"))&&s.content)i=Wh.to_workbook(s.content,(t.type=o,t));else if((s=Ft.find(e,"NativeContent_MAIN"))&&s.content)i=Wh.to_workbook(s.content,(t.type=o,t));else throw(s=Ft.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ft.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=HVe(e))}var a={};return e.FullPaths&&RGe(e,a,t),i.Props=i.Custprops=a,t.bookFiles&&(i.cfb=e),i}function AGe(e,t){var n=t||{},r=Ft.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Ft.utils.cfb_add(r,i,ZQ(e,n)),n.biff==8&&(e.Props||e.Custprops)&&_Ge(e,r),n.biff==8&&e.vbaraw&&GVe(r,Ft.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var jy={0:{f:JHe},1:{f:o6e},2:{f:T6e},3:{f:p6e},4:{f:u6e},5:{f:x6e},6:{f:P6e},7:{f:y6e},8:{f:N6e},9:{f:L6e},10:{f:M6e},11:{f:O6e},12:{f:l6e},13:{f:_6e},14:{f:m6e},15:{f:h6e},16:{f:jQ},17:{f:F6e},18:{f:C6e},19:{f:fM},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:F5e},40:{},42:{},43:{f:PBe},44:{f:ABe},45:{f:IBe},46:{f:OBe},47:{f:MBe},48:{},49:{f:tLe},50:{},51:{f:gVe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:pQ},62:{f:D6e},63:{f:EVe},64:{f:Z6e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Y6e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:i6e},148:{f:t6e,p:16},151:{f:z6e},152:{},153:{f:D5e},154:{},155:{},156:{f:_5e},157:{},158:{},159:{T:1,f:W4e},160:{T:-1},161:{T:1,f:Gf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:B6e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:fVe},336:{T:-1},337:{f:yVe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:sk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fQ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:j6e},427:{f:W6e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:q6e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:r6e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:G6e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:sk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:OVe},633:{T:1},634:{T:-1},635:{T:1,f:IVe},636:{T:-1},637:{f:sLe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:m5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:e5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},fk={6:{f:OA},10:{f:Iu},12:{f:ii},13:{f:ii},14:{f:zr},15:{f:zr},16:{f:cs},17:{f:zr},18:{f:zr},19:{f:ii},20:{f:V5},21:{f:V5},23:{f:fQ},24:{f:G5},25:{f:zr},26:{},27:{},28:{f:e4e},29:{},34:{f:zr},35:{f:H5},38:{f:cs},39:{f:cs},40:{f:cs},41:{f:cs},42:{f:zr},43:{f:zr},47:{f:hBe},49:{f:_Ne},51:{f:ii},60:{},61:{f:xNe},64:{f:zr},65:{f:RNe},66:{f:ii},77:{},80:{},81:{},82:{},85:{f:ii},89:{},90:{},91:{},92:{f:dNe},93:{f:r4e},94:{},95:{f:zr},96:{},97:{},99:{f:zr},125:{f:pQ},128:{f:UNe},129:{f:fNe},130:{f:ii},131:{f:zr},132:{f:zr},133:{f:pNe},134:{},140:{f:d4e},141:{f:ii},144:{},146:{f:p4e},151:{},152:{},153:{},154:{},155:{},156:{f:ii},157:{},158:{},160:{f:b4e},161:{f:v4e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:BNe},190:{f:VNe},193:{f:Iu},197:{},198:{},199:{},200:{},201:{},202:{f:zr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ii},220:{},221:{f:zr},222:{},224:{f:GNe},225:{f:uNe},226:{f:Iu},227:{},229:{f:t4e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:mNe},253:{f:DNe},255:{f:yNe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:iQ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zr},353:{f:Iu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:qNe},431:{f:zr},432:{},433:{},434:{},437:{},438:{f:o4e},439:{f:zr},440:{f:a4e},441:{},442:{f:nC},443:{},444:{f:ii},445:{},446:{},448:{f:Iu},449:{f:bNe,r:2},450:{f:Iu},512:{f:L5},513:{f:C4e},515:{f:WNe},516:{f:kNe},517:{f:B5},519:{f:x4e},520:{f:wNe},523:{},545:{f:U5},549:{f:O5},566:{},574:{f:ENe},638:{f:NNe},659:{},1048:{},1054:{f:INe},1084:{},1212:{f:QNe},2048:{f:c4e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:cx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Iu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:g4e,r:12},2173:{f:dVe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:XNe,r:12},2197:{},2198:{f:sVe,r:12},2199:{},2200:{},2201:{},2202:{f:JNe,r:12},2203:{f:Iu},2204:{},2205:{},2206:{},2207:{},2211:{f:CNe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ii},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:y4e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:f4e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:L5},1:{},2:{f:_4e},3:{f:T4e},4:{f:E4e},5:{f:B5},7:{f:D4e},8:{},9:{f:cx},11:{},22:{f:ii},30:{f:ONe},31:{},32:{},33:{f:U5},36:{},37:{f:O5},50:{f:P4e},62:{},52:{},67:{},68:{f:ii},69:{},86:{},126:{},127:{f:S4e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:k4e},223:{},234:{},354:{},421:{},518:{f:OA},521:{f:cx},536:{f:G5},547:{f:H5},561:{},579:{},1030:{f:OA},1033:{f:cx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function lt(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&uM(n)&&e.push(n)}}function DGe(e,t,n,r){var i=(n||[]).length||0;if(i<=8224)return lt(e,t,n,i);var s=t;if(!isNaN(s)){for(var o=n.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<i;){for(d=e.next(4),d.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}function oC(e,t,n){return e||(e=Ve(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function PGe(e,t,n,r){var i=Ve(9);return oC(i,e,t),sQ(n,r||"b",i),i}function kGe(e,t,n){var r=Ve(8+2*n.length);return oC(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function FGe(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?yi(hr(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?lt(e,2,A4e(n,r,i)):lt(e,3,R4e(n,r,i));return;case"b":case"e":lt(e,5,PGe(n,r,t.v,t.t));return;case"s":case"str":lt(e,4,kGe(n,r,(t.v||"").slice(0,255)));return}lt(e,1,oC(null,n,r))}function IGe(e,t,n,r){var i=Array.isArray(t),s=_n(t["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Qt(s)}for(var c=s.s.r;c<=s.e.r;++c){a=Xr(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=Sr(d)),o=l[d]+a;var f=i?(t[c]||[])[d]:t[o];f&&FGe(e,f,c,d)}}}function MGe(e,t){for(var n=t||{},r=Ks(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return lt(r,n.biff==4?1033:n.biff==3?521:9,CM(e,16,n)),IGe(r,e.Sheets[e.SheetNames[i]],i,n),lt(r,10),r.end()}function OGe(e,t,n){lt(e,49,ANe({sz:12,name:"Arial"},n))}function LGe(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&lt(e,1054,MNe(i,t[i],n))})}function NGe(e,t){var n=Ve(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),lt(e,2151,n),n=Ve(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),uQ(_n(t["!ref"]||"A1"),n),n.write_shift(4,4),lt(e,2152,n)}function BGe(e,t){for(var n=0;n<16;++n)lt(e,224,N5({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){lt(e,224,N5(r,0,t))})}function VGe(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];lt(e,440,l4e(r)),r[1].Tooltip&&lt(e,2048,u4e(r))}delete t["!links"]}function HGe(e,t){if(t){var n=0;t.forEach(function(r,i){++n<=256&&r&&lt(e,125,m4e(iT(i,r),i))})}}function GGe(e,t,n,r,i){var s=16+Nd(i.cellXfs,t,i);if(t.v==null&&!t.bf){lt(e,513,yf(n,r,s));return}if(t.bf)lt(e,6,fHe(t,n,r,i,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?yi(hr(t.v)):t.v;lt(e,515,$Ne(n,r,o,s));break;case"b":case"e":lt(e,517,jNe(n,r,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var a=AM(i.Strings,t.v,i.revStrings);lt(e,253,PNe(n,r,a,s))}else lt(e,516,FNe(n,r,(t.v||"").slice(0,255),s,i));break;default:lt(e,513,yf(n,r,s))}}function UGe(e,t,n){var r=Ks(),i=n.SheetNames[e],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(s),c=t.biff==8,d,f="",p=[],m=_n(s["!ref"]||"A1"),y=c?65536:16384;if(m.e.c>255||m.e.r>=y){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}lt(r,2057,CM(n,16,t)),lt(r,13,sa(1)),lt(r,12,sa(100)),lt(r,15,As(!0)),lt(r,17,As(!1)),lt(r,16,mf(.001)),lt(r,95,As(!0)),lt(r,42,As(!1)),lt(r,43,As(!1)),lt(r,130,sa(1)),lt(r,128,zNe()),lt(r,131,As(!1)),lt(r,132,As(!1)),c&&HGe(r,s["!cols"]),lt(r,512,LNe(m,t)),c&&(s["!links"]=[]);for(var w=m.s.r;w<=m.e.r;++w){f=Xr(w);for(var C=m.s.c;C<=m.e.c;++C){w===m.s.r&&(p[C]=Sr(C)),d=p[C]+f;var S=l?(s[w]||[])[C]:s[d];S&&(GGe(r,S,w,C,t),c&&S.l&&s["!links"].push([d,S.l]))}}var R=a.CodeName||a.name||i;return c&&lt(r,574,TNe((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&lt(r,229,n4e(s["!merges"])),c&&VGe(r,s),lt(r,442,oQ(R)),c&&NGe(r,s),lt(r,10),r.end()}function zGe(e,t,n){var r=Ks(),i=(e||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=n.biff==8,l=n.biff==5;if(lt(r,2057,CM(e,5,n)),n.bookType=="xla"&&lt(r,135),lt(r,225,a?sa(1200):null),lt(r,193,jLe(2)),l&&lt(r,191),l&&lt(r,192),lt(r,226),lt(r,92,hNe("SheetJS",n)),lt(r,66,sa(a?1200:1252)),a&&lt(r,353,sa(0)),a&&lt(r,448),lt(r,317,w4e(e.SheetNames.length)),a&&e.vbaraw&&lt(r,211),a&&e.vbaraw){var c=o.CodeName||"ThisWorkbook";lt(r,442,oQ(c))}lt(r,156,sa(17)),lt(r,25,As(!1)),lt(r,18,As(!1)),lt(r,19,sa(0)),a&&lt(r,431,As(!1)),a&&lt(r,444,sa(0)),lt(r,61,SNe()),lt(r,64,As(!1)),lt(r,141,sa(0)),lt(r,34,As(b5e(e)=="true")),lt(r,14,As(!0)),a&&lt(r,439,As(!1)),lt(r,218,sa(0)),OGe(r,e,n),LGe(r,e.SSF,n),BGe(r,n),a&&lt(r,352,As(!1));var d=r.end(),f=Ks();a&&lt(f,140,h4e()),a&&n.Strings&&DGe(f,252,vNe(n.Strings)),lt(f,10);var p=f.end(),m=Ks(),y=0,w=0;for(w=0;w<e.SheetNames.length;++w)y+=(a?12:11)+(a?2:1)*e.SheetNames[w].length;var C=d.length+y+p.length;for(w=0;w<e.SheetNames.length;++w){var S=s[w]||{};lt(m,133,gNe({pos:C,hs:S.Hidden||0,dt:0,name:e.SheetNames[w]},n)),C+=t[w].length}var R=m.end();if(y!=R.length)throw new Error("BS8 "+y+" != "+R.length);var E=[];return d.length&&E.push(d),R.length&&E.push(R),p.length&&E.push(p),Pi(E)}function jGe(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=fr(Bt)),e&&e.SSF&&(xm(),QE(e.SSF),n.revssf=ZE(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,IM(n),n.cellXfs=[],Nd(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=UGe(i,n,e);return r.unshift(zGe(e,r,n)),Pi(r)}function ZQ(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Zs(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return jGe(e,t);case 4:case 3:case 2:return MGe(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function J5(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,a=s&&s.index||e.length,l=AOe(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,f=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<l.length;++o){var w=l[o].trim(),C=w.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(C!="<td"&&C!="<th")){var S=w.split(/<\/t[dh]>/i);for(a=0;a<S.length;++a){var R=S[a].trim();if(R.match(/<t[dh]/i)){for(var E=R,P=0;E.charAt(0)=="<"&&(P=E.indexOf(">"))>-1;)E=E.slice(P+1);for(var M=0;M<y.length;++M){var A=y[M];A.s.c==d&&A.s.r<c&&c<=A.e.r&&(d=A.e.c+1,M=-1)}var D=$t(R.slice(0,R.indexOf(">")));p=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||p>1)&&y.push({s:{r:c,c:d},e:{r:c+(f||1)-1,c:d+p-1}});var k=D.t||D["data-t"]||"";if(!E.length){d+=p;continue}if(E=SX(E),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!E.length){d+=p;continue}var I={t:"s",v:E};n.raw||!E.trim().length||k=="s"||(E==="TRUE"?I={t:"b",v:!0}:E==="FALSE"?I={t:"b",v:!1}:isNaN(Va(E))?isNaN(Kg(E).getDate())||(I={t:"d",v:hr(E)},n.cellDates||(I={t:"n",v:yi(I.v)}),I.z=n.dateNF||Bt[14]):I={t:"n",v:Va(E)}),n.dense?(r[c]||(r[c]=[]),r[c][d]=I):r[Ut({r:c,c:d})]=I,d+=p}}}}return r["!ref"]=Qt(m),y.length&&(r["!merges"]=y),r}function WGe(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var d=Ut({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[d],p=f&&f.v!=null&&(f.h||aM(f.w||(Yc(f),f.w)||""))||"",m={};a>1&&(m.rowspan=a),l>1&&(m.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+d,s.push(st("td",p,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var $Ge='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qGe="</body></html>";function KGe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Ld(J5(n[0],t),t);var r=LM();return n.forEach(function(i,s){NM(r,J5(i,t),"Sheet"+(s+1))}),r}function YGe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function eJ(e,t){var n=t||{},r=n.header!=null?n.header:$Ge,i=n.footer!=null?n.footer:qGe,s=[r],o=Zs(e["!ref"]);n.dense=Array.isArray(e),s.push(YGe(e,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(WGe(e,o,a,n));return s.push("</table>"+i),s.join("")}function tJ(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Er(r.origin):r.origin;i=o.r,s=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var d=Zs(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),i==-1&&(c.e.r=i=d.e.r+1)}var f=[],p=0,m=e["!rows"]||(e["!rows"]=[]),y=0,w=0,C=0,S=0,R=0,E=0;for(e["!cols"]||(e["!cols"]=[]);y<a.length&&w<l;++y){var P=a[y];if(Z5(P)){if(r.display)continue;m[w]={hidden:!0}}var M=P.children;for(C=S=0;C<M.length;++C){var A=M[C];if(!(r.display&&Z5(A))){var D=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):SX(A.innerHTML),k=A.getAttribute("data-z")||A.getAttribute("z");for(p=0;p<f.length;++p){var I=f[p];I.s.c==S+s&&I.s.r<w+i&&w+i<=I.e.r&&(S=I.e.c+1-s,p=-1)}E=+A.getAttribute("colspan")||1,((R=+A.getAttribute("rowspan")||1)>1||E>1)&&f.push({s:{r:w+i,c:S+s},e:{r:w+i+(R||1)-1,c:S+s+(E||1)-1}});var B={t:"s",v:D},N=A.getAttribute("data-t")||A.getAttribute("t")||"";D!=null&&(D.length==0?B.t=N||"z":r.raw||D.trim().length==0||N=="s"||(D==="TRUE"?B={t:"b",v:!0}:D==="FALSE"?B={t:"b",v:!1}:isNaN(Va(D))?isNaN(Kg(D).getDate())||(B={t:"d",v:hr(D)},r.cellDates||(B={t:"n",v:yi(B.v)}),B.z=r.dateNF||Bt[14]):B={t:"n",v:Va(D)})),B.z===void 0&&k!=null&&(B.z=k);var H="",G=A.getElementsByTagName("A");if(G&&G.length)for(var oe=0;oe<G.length&&!(G[oe].hasAttribute("href")&&(H=G[oe].getAttribute("href"),H.charAt(0)!="#"));++oe);H&&H.charAt(0)!="#"&&(B.l={Target:H}),r.dense?(e[w+i]||(e[w+i]=[]),e[w+i][S+s]=B):e[Ut({c:S+s,r:w+i})]=B,c.e.c<S+s&&(c.e.c=S+s),S+=E}}++w}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,w-1+i),e["!ref"]=Qt(c),w>=l&&(e["!fullref"]=Qt((c.e.r=a.length-y+w-1+i,c))),e}function nJ(e,t){var n=t||{},r=n.dense?[]:{};return tJ(r,e,t)}function XGe(e,t){return Ld(nJ(e,t),t)}function Z5(e){var t="",n=QGe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function QGe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function JGe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Rn(t.replace(/<[^>]*>/g,""));return[n]}var eG={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function rJ(e,t){var n=t||{},r=lM(e),i=[],s,o,a={name:""},l="",c=0,d,f,p={},m=[],y=n.dense?[]:{},w,C,S={value:""},R="",E=0,P=[],M=-1,A=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,I={},B=[],N={},H=0,G=0,oe=[],le=1,Z=1,se=[],fe={Names:[]},ne={},L=["",""],ae=[],W={},V="",X=0,te=!1,he=!1,Be=0;for(By.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=By.exec(r);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?y["!ref"]=Qt(D):y["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(y["!fullref"]=y["!ref"],D.e.r=n.sheetRows-1,y["!ref"]=Qt(D)),B.length&&(y["!merges"]=B),oe.length&&(y["!rows"]=oe),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),p[d.name]=y,he=!1):w[0].charAt(w[0].length-2)!=="/"&&(d=$t(w[0],!1),M=A=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,y=n.dense?[]:{},B=[],oe=[],he=!0);break;case"table-row-group":w[1]==="/"?--k:++k;break;case"table-row":case"":if(w[1]==="/"){M+=le,le=1;break}if(f=$t(w[0],!1),f.?M=f.-1:M==-1&&(M=0),le=+f["number-rows-repeated"]||1,le<10)for(Be=0;Be<le;++Be)k>0&&(oe[M+Be]={level:k});A=-1;break;case"covered-table-cell":w[1]!=="/"&&++A,n.sheetStubs&&(n.dense?(y[M]||(y[M]=[]),y[M][A]={t:"z"}):y[Ut({r:M,c:A})]={t:"z"}),R="",P=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++A,S=$t(w[0],!1),Z=parseInt(S["number-columns-repeated"]||"1",10),C={t:"z",v:null},S.formula&&n.cellFormula!=!1&&(C.f=Y5(Rn(S.formula))),(S.||S["value-type"])=="string"&&(C.t="s",C.v=Rn(S["string-value"]||""),n.dense?(y[M]||(y[M]=[]),y[M][A]=C):y[Ut({r:M,c:A})]=C),A+=Z-1;else if(w[1]!=="/"){++A,R="",E=0,P=[],Z=1;var Fe=le?M+le-1:M;if(A>D.e.c&&(D.e.c=A),A<D.s.c&&(D.s.c=A),M<D.s.r&&(D.s.r=M),Fe>D.e.r&&(D.e.r=Fe),S=$t(w[0],!1),ae=[],W={},C={t:S.||S["value-type"],v:null},n.cellFormula)if(S.formula&&(S.formula=Rn(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(H=parseInt(S["number-matrix-rows-spanned"],10)||0,G=parseInt(S["number-matrix-columns-spanned"],10)||0,N={s:{r:M,c:A},e:{r:M+H-1,c:A+G-1}},C.F=Qt(N),se.push([N,C.F])),S.formula)C.f=Y5(S.formula);else for(Be=0;Be<se.length;++Be)M>=se[Be][0].s.r&&M<=se[Be][0].e.r&&A>=se[Be][0].s.c&&A<=se[Be][0].e.c&&(C.F=se[Be][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(H=parseInt(S["number-rows-spanned"],10)||0,G=parseInt(S["number-columns-spanned"],10)||0,N={s:{r:M,c:A},e:{r:M+H-1,c:A+G-1}},B.push(N)),S["number-columns-repeated"]&&(Z=parseInt(S["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=cr(S["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(S.value);break;case"percentage":C.t="n",C.v=parseFloat(S.value);break;case"currency":C.t="n",C.v=parseFloat(S.value);break;case"date":C.t="d",C.v=hr(S["date-value"]),n.cellDates||(C.t="n",C.v=yi(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=TOe(S["time-value"])/86400,n.cellDates&&(C.t="d",C.v=eT(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(S.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",S["string-value"]!=null&&(R=Rn(S["string-value"]),P=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(te=!1,C.t==="s"&&(C.v=R||"",P.length&&(C.R=P),te=E==0),ne.Target&&(C.l=ne),ae.length>0&&(C.c=ae,ae=[]),R&&n.cellText!==!1&&(C.w=R),te&&(C.t="z",delete C.v),(!te||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=M))for(var _e=0;_e<le;++_e){if(Z=parseInt(S["number-columns-repeated"]||"1",10),n.dense)for(y[M+_e]||(y[M+_e]=[]),y[M+_e][A]=_e==0?C:fr(C);--Z>0;)y[M+_e][A+Z]=fr(C);else for(y[Ut({r:M+_e,c:A})]=C;--Z>0;)y[Ut({r:M+_e,c:A+Z})]=fr(C);D.e.c<=A&&(D.e.c=A)}Z=parseInt(S["number-columns-repeated"]||"1",10),A+=Z-1,Z=0,C={},R="",P=[]}ne={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;W.t=R,P.length&&(W.R=P),W.a=V,ae.push(W)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);V="",X=0,R="",E=0,P=[];break;case"creator":w[1]==="/"?V=r.slice(X,w.index):X=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);R="",E=0,P=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(I[a.name]=l,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(l="",a=$t(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=$t(w[0],!1),l+=eG[w[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=$t(w[0],!1),l+=eG[w[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,w.index);break}else c=w.index+w[0].length;break;case"named-range":o=$t(w[0],!1),L=LA(o["cell-range-address"]);var Pe={Name:o.name,Ref:L[0]+"!"+L[1]};he&&(Pe.Sheet=m.length),fe.Names.push(Pe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!S||!S["string-value"])){var nt=JGe(r.slice(E,w.index));R=(R.length>0?R+`
`:"")+nt[0]}else $t(w[0],!1),E=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{L=LA($t(w[0])["target-range-address"]),p[L[0]]["!autofilter"]={ref:L[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(ne=$t(w[0],!1),!ne.href)break;ne.Target=Rn(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(L=LA(ne.Target.slice(1)),ne.Target="#"+L[0]+"!"+L[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(w)}}var re={Sheets:p,SheetNames:m,Workbook:fe};return n.bookSheets&&delete re.Sheets,re}function tG(e,t){t=t||{},ra(e,"META-INF/manifest.xml")&&TLe(ri(e,"META-INF/manifest.xml"),t);var n=wo(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=rJ(Zn(n),t);return ra(e,"meta.xml")&&(r.Props=qX(ri(e,"meta.xml"))),r}function nG(e,t){return rJ(e,t)}var ZGe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ny({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Qr+t}}(),rG=function(){var e=function(s){return qn(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+qn(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,d=0,f=Zs(s["!ref"]||"A1"),p=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var w="",C=s["!rows"]||[];for(c=0;c<f.s.r;++c)w=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;c<=f.e.r;++c){for(w=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+w+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var S=!1,R={},E="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>d)&&!(p[m].s.r>c)&&!(p[m].e.c<d)&&!(p[m].e.r<c)){(p[m].s.c!=d||p[m].s.r!=c)&&(S=!0),R["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,R["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(S){l.push(n);continue}var P=Ut({r:c,c:d}),M=y?(s[c]||[])[d]:s[P];if(M&&M.f&&(R["table:formula"]=qn(wHe(M.f)),M.F&&M.F.slice(0,P.length)==P)){var A=Zs(M.F);R["table:number-matrix-columns-spanned"]=A.e.c-A.s.c+1,R["table:number-matrix-rows-spanned"]=A.e.r-A.s.r+1}if(!M){l.push(t);continue}switch(M.t){case"b":E=M.v?"TRUE":"FALSE",R["office:value-type"]="boolean",R["office:boolean-value"]=M.v?"true":"false";break;case"n":E=M.w||String(M.v||0),R["office:value-type"]="float",R["office:value"]=M.v||0;break;case"s":case"str":E=M.v==null?"":M.v,R["office:value-type"]="string";break;case"d":E=M.w||hr(M.v).toISOString(),R["office:value-type"]="date",R["office:date-value"]=hr(M.v).toISOString(),R["table:style-name"]="ce1";break;default:l.push(t);continue}var D=e(E);if(M.l&&M.l.Target){var k=M.l.Target;k=k.charAt(0)=="#"?"#"+CHe(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),D=st("text:a",D,{"xlink:href":k.replace(/&/g,"&amp;")})}l.push("          "+st("table:table-cell",st("text:p",D,{}),R)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var f=c["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;wd(f),f.ods=a;var p=c["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=l;var f=c["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Qr],c=Ny({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Ny({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+d+`>
`),l.push($X().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)l.push(r(o.Sheets[o.SheetNames[f]],o,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function iJ(e,t){if(t.bookType=="fods")return rG(e,t);var n=iM(),r="",i=[],s=[];return r="mimetype",tn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",tn(n,r,rG(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",tn(n,r,ZGe(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",tn(n,r,Qr+$X()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",tn(n,r,ALe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",tn(n,r,RLe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pk(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Zn(Od(e))}function eUe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):yo(El(e))}function tUe(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function bd(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function iG(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function nUe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function rUe(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=n>=0?0:128}function Wy(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Wn(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Mr(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Pn(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=Wy(e,n),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=n[0];e[n[0]++]>=128;);a=e.slice(l,n[0])}break;case 5:o=4,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Wy(e,n),a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function Gi(e){var t=[];return e.forEach(function(n,r){n.forEach(function(i){i.data&&(t.push(Wn(r*8+i.type)),i.type==2&&t.push(Wn(i.data.length)),t.push(i.data))})}),bd(t)}function kM(e,t){return e?.map(function(n){return t(n.data)})||[]}function Jo(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Wy(e,r),s=Pn(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:Mr(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=Pn(a.data),c=Mr(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=s[3])!=null&&t[0]&&(o.merge=Mr(s[3][0].data)>>>0>0),n.push(o)}return n}function Mp(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Wn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Wn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Wn(o.data.length)}],r[2].push({data:Gi(o.meta),type:2})});var s=Gi(r);t.push(Wn(s.length)),t.push(s),i.forEach(function(o){return t.push(o)})}),bd(t)}function iUe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Wy(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[n[0]],a>1&&(o|=t[n[0]+1]<<8),a>2&&(o|=t[n[0]+2]<<16),a>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,s==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[bd(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var d=bd(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function Zo(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(iUe(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return bd(t)}function Op(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var s=Wn(r),o=s.length;t.push(s),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return bd(t)}function sUe(e,t,n,r){var i=wf(e),s=i.getUint32(4,!0),o=(r>1?12:8)+iG(s&(r>1?3470:398))*4,a=-1,l=-1,c=NaN,d=new Date(2001,0,1);s&512&&(a=i.getUint32(o,!0),o+=4),o+=iG(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function oUe(e,t,n){var r=wf(e),i=r.getUint32(8,!0),s=12,o=-1,a=-1,l=NaN,c=NaN,d=new Date(2001,0,1);i&1&&(l=nUe(e,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(a=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[a]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return f}function BA(e,t){var n=new Uint8Array(32),r=wf(n),i=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,rUe(n,i,e.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,i)}function VA(e,t){var n=new Uint8Array(32),r=wf(n),i=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,i)}function aUe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return sUe(e,t,n,e[0]);case 5:return oUe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function os(e){var t=Pn(e);return Wy(t[1][0].data)}function sG(e,t){var n=Pn(t.data),r=Mr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var a=Pn(o.data),l=Mr(a[1][0].data)>>>0;switch(r){case 1:s[l]=pk(a[3][0].data);break;case 8:{var c=e[os(a[9][0].data)][0],d=Pn(c.data),f=e[os(d[1][0].data)][0],p=Mr(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=Pn(f.data);s[l]=m[3].map(function(y){return pk(y.data)}).join("")}break}}),s}function lUe(e,t){var n,r,i,s,o,a,l,c,d,f,p,m,y,w,C=Pn(e),S=Mr(C[1][0].data)>>>0,R=Mr(C[2][0].data)>>>0,E=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&Mr(C[8][0].data)>0||!1,P,M;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&t!=0)P=(a=(o=C[7])==null?void 0:o[0])==null?void 0:a.data,M=(c=(l=C[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(d=C[4])==null?void 0:d[0])!=null&&f.data&&t!=1)P=(m=(p=C[4])==null?void 0:p[0])==null?void 0:m.data,M=(w=(y=C[3])==null?void 0:y[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var A=E?4:1,D=wf(P),k=[],I=0;I<P.length/2;++I){var B=D.getUint16(I*2,!0);B<65535&&k.push([I,B])}if(k.length!=R)throw"Expected ".concat(R," cells, found ").concat(k.length);var N=[];for(I=0;I<k.length-1;++I)N[k[I][0]]=M.subarray(k[I][1]*A,k[I+1][1]*A);return k.length>=1&&(N[k[k.length-1][0]]=M.subarray(k[k.length-1][1]*A)),{R:S,cells:N}}function cUe(e,t){var n,r=Pn(t.data),i=(n=r?.[7])!=null&&n[0]?Mr(r[7][0].data)>>>0>0?1:0:-1,s=kM(r[5],function(o){return lUe(o,i)});return{nrows:Mr(r[4][0].data)>>>0,data:s.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(l,c){if(o[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));o[a.R][c]=l}),o},[])}}function uUe(e,t,n){var r,i=Pn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Mr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Mr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Qt(s);var o=Pn(i[4][0].data),a=sG(e,e[os(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?sG(e,e[os(o[17][0].data)][0]):[],c=Pn(o[3][0].data),d=0;c[1].forEach(function(f){var p=Pn(f.data),m=e[os(p[2][0].data)][0],y=Mr(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var w=cUe(e,m);w.data.forEach(function(C,S){C.forEach(function(R,E){var P=Ut({r:d+S,c:E}),M=aUe(R,a,l);M&&(n[P]=M)})}),d+=w.nrows})}function dUe(e,t){var n=Pn(t.data),r={"!ref":"A1"},i=e[os(n[2][0].data)],s=Mr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return uUe(e,i[0],r),r}function hUe(e,t){var n,r=Pn(t.data),i={name:(n=r[1])!=null&&n[0]?pk(r[1][0].data):"",sheets:[]},s=kM(r[2],os);return s.forEach(function(o){e[o].forEach(function(a){var l=Mr(a.meta[1][0].data);l==6e3&&i.sheets.push(dUe(e,a))})}),i}function fUe(e,t){var n=LM(),r=Pn(t.data),i=kM(r[1],os);if(i.forEach(function(s){e[s].forEach(function(o){var a=Mr(o.meta[1][0].data);if(a==2){var l=hUe(e,o);l.sheets.forEach(function(c,d){NM(n,c,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function HA(e){var t,n,r,i,s={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Zo(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=Jo(c)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var a=((i=(r=(n=(t=s?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Mr(s[1][0].meta[1][0].data)==1&&s[1][0];if(a||o.forEach(function(l){s[l].forEach(function(c){var d=Mr(c.meta[1][0].data)>>>0;if(d==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return fUe(s,a)}function pUe(e,t,n){var r,i,s,o;if(!((r=e[6])!=null&&r[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&Mr(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=wf(e[7][0].data),d=0,f=[],p=wf(e[4][0].data),m=0,y=[],w=0;w<t.length;++w){if(t[w]==null){c.setUint16(w*2,65535,!0),p.setUint16(w*2,65535);continue}c.setUint16(w*2,d,!0),p.setUint16(w*2,m,!0);var C,S;switch(typeof t[w]){case"string":C=BA({t:"s",v:t[w]},n),S=VA({t:"s",v:t[w]},n);break;case"number":C=BA({t:"n",v:t[w]},n),S=VA({t:"n",v:t[w]},n);break;case"boolean":C=BA({t:"b",v:t[w]},n),S=VA({t:"b",v:t[w]},n);break;default:throw new Error("Unsupported value "+t[w])}f.push(C),d+=C.length,y.push(S),m+=S.length,++l}for(e[2][0].data=Wn(l);w<e[7][0].data.length/2;++w)c.setUint16(w*2,65535,!0),p.setUint16(w*2,65535,!0);return e[6][0].data=bd(f),e[3][0].data=bd(y),l}function gUe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Zs(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Qt(r)));var s=_1(n,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(X){typeof X=="string"&&o.push(X)})});var a={},l=[],c=Ft.read(t.numbers,{type:"base64"});c.FileIndex.map(function(V,X){return[V,c.FullPaths[X]]}).forEach(function(V){var X=V[0],te=V[1];if(X.type==2&&X.name.match(/\.iwa/)){var he=X.content,Be=Zo(he),Fe=Jo(Be);Fe.forEach(function(_e){l.push(_e.id),a[_e.id]={deps:[],location:te,type:Mr(_e.messages[0].meta[1][0].data)}})}}),l.sort(function(V,X){return V-X});var d=l.filter(function(V){return V>1}).map(function(V){return[V,Wn(V)]});c.FileIndex.map(function(V,X){return[V,c.FullPaths[X]]}).forEach(function(V){var X=V[0];if(V[1],!!X.name.match(/\.iwa/)){var te=Jo(Zo(X.content));te.forEach(function(he){he.messages.forEach(function(Be){d.forEach(function(Fe){he.messages.some(function(_e){return Mr(_e.meta[1][0].data)!=11006&&tUe(_e.data,Fe[1])})&&a[Fe[0]].deps.push(he.id)})})})}});for(var f=Ft.find(c,a[1].location),p=Jo(Zo(f.content)),m,y=0;y<p.length;++y){var w=p[y];w.id==1&&(m=w)}var C=os(Pn(m.messages[0].data)[1][0].data);for(f=Ft.find(c,a[C].location),p=Jo(Zo(f.content)),y=0;y<p.length;++y)w=p[y],w.id==C&&(m=w);for(C=os(Pn(m.messages[0].data)[2][0].data),f=Ft.find(c,a[C].location),p=Jo(Zo(f.content)),y=0;y<p.length;++y)w=p[y],w.id==C&&(m=w);for(C=os(Pn(m.messages[0].data)[2][0].data),f=Ft.find(c,a[C].location),p=Jo(Zo(f.content)),y=0;y<p.length;++y)w=p[y],w.id==C&&(m=w);var S=Pn(m.messages[0].data);{S[6][0].data=Wn(r.e.r+1),S[7][0].data=Wn(r.e.c+1);var R=os(S[46][0].data),E=Ft.find(c,a[R].location),P=Jo(Zo(E.content));{for(var M=0;M<P.length&&P[M].id!=R;++M);if(P[M].id!=R)throw"Bad ColumnRowUIDMapArchive";var A=Pn(P[M].messages[0].data);A[1]=[],A[2]=[],A[3]=[];for(var D=0;D<=r.e.c;++D){var k=[];k[1]=k[2]=[{type:0,data:Wn(D+420690)}],A[1].push({type:2,data:Gi(k)}),A[2].push({type:0,data:Wn(D)}),A[3].push({type:0,data:Wn(D)})}A[4]=[],A[5]=[],A[6]=[];for(var I=0;I<=r.e.r;++I)k=[],k[1]=k[2]=[{type:0,data:Wn(I+726270)}],A[4].push({type:2,data:Gi(k)}),A[5].push({type:0,data:Wn(I)}),A[6].push({type:0,data:Wn(I)});P[M].messages[0].data=Gi(A)}E.content=Op(Mp(P)),E.size=E.content.length,delete S[46];var B=Pn(S[4][0].data);{B[7][0].data=Wn(r.e.r+1);var N=Pn(B[1][0].data),H=os(N[2][0].data);E=Ft.find(c,a[H].location),P=Jo(Zo(E.content));{if(P[0].id!=H)throw"Bad HeaderStorageBucket";var G=Pn(P[0].messages[0].data);for(I=0;I<s.length;++I){var oe=Pn(G[2][0].data);oe[1][0].data=Wn(I),oe[4][0].data=Wn(s[I].length),G[2][I]={type:G[2][0].type,data:Gi(oe)}}P[0].messages[0].data=Gi(G)}E.content=Op(Mp(P)),E.size=E.content.length;var le=os(B[2][0].data);E=Ft.find(c,a[le].location),P=Jo(Zo(E.content));{if(P[0].id!=le)throw"Bad HeaderStorageBucket";for(G=Pn(P[0].messages[0].data),D=0;D<=r.e.c;++D)oe=Pn(G[2][0].data),oe[1][0].data=Wn(D),oe[4][0].data=Wn(r.e.r+1),G[2][D]={type:G[2][0].type,data:Gi(oe)};P[0].messages[0].data=Gi(G)}E.content=Op(Mp(P)),E.size=E.content.length;var Z=os(B[4][0].data);(function(){for(var V=Ft.find(c,a[Z].location),X=Jo(Zo(V.content)),te,he=0;he<X.length;++he){var Be=X[he];Be.id==Z&&(te=Be)}var Fe=Pn(te.messages[0].data);{Fe[3]=[];var _e=[];o.forEach(function(re,St){_e[1]=[{type:0,data:Wn(St)}],_e[2]=[{type:0,data:Wn(1)}],_e[3]=[{type:2,data:eUe(re)}],Fe[3].push({type:2,data:Gi(_e)})})}te.messages[0].data=Gi(Fe);var Pe=Mp(X),nt=Op(Pe);V.content=nt,V.size=V.content.length})();var se=Pn(B[3][0].data);{var fe=se[1][0];delete se[2];var ne=Pn(fe.data);{var L=os(ne[2][0].data);(function(){for(var V=Ft.find(c,a[L].location),X=Jo(Zo(V.content)),te,he=0;he<X.length;++he){var Be=X[he];Be.id==L&&(te=Be)}var Fe=Pn(te.messages[0].data);{delete Fe[6],delete se[7];var _e=new Uint8Array(Fe[5][0].data);Fe[5]=[];for(var Pe=0,nt=0;nt<=r.e.r;++nt){var re=Pn(_e);Pe+=pUe(re,s[nt],o),re[1][0].data=Wn(nt),Fe[5].push({data:Gi(re),type:2})}Fe[1]=[{type:0,data:Wn(r.e.c+1)}],Fe[2]=[{type:0,data:Wn(r.e.r+1)}],Fe[3]=[{type:0,data:Wn(Pe)}],Fe[4]=[{type:0,data:Wn(r.e.r+1)}]}te.messages[0].data=Gi(Fe);var St=Mp(X),ze=Op(St);V.content=ze,V.size=V.content.length})()}fe.data=Gi(ne)}B[3][0].data=Gi(se)}S[4][0].data=Gi(B)}m.messages[0].data=Gi(S);var ae=Mp(p),W=Op(ae);return f.content=W,f.size=f.content.length,c}function sJ(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function FM(e){sJ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function IM(e){sJ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function mUe(e){return ln.WS.indexOf(e)>-1?"sheet":e==ln.CS?"chart":e==ln.DS?"dialog":e==ln.MS?"macro":e&&e.length?e:"sheet"}function vUe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,mUe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function yUe(e,t,n,r,i,s,o,a,l,c,d,f){try{s[r]=Lv(wo(e,n,!0),t);var p=ri(e,t),m;switch(a){case"sheet":m=H5e(p,t,i,l,s[r],c,d,f);break;case"chart":if(m=G5e(p,t,i,l,s[r],c,d,f),!m||!m["!drawel"])break;var y=pv(m["!drawel"].Target,t),w=Vy(y),C=_Ve(wo(e,y,!0),Lv(wo(e,w,!0),y)),S=pv(C,y),R=Vy(S);m=p5e(wo(e,S,!0),S,l,Lv(wo(e,R,!0),S),c,m);break;case"macro":m=U5e(p,t,i,l,s[r],c,d,f);break;case"dialog":m=z5e(p,t,i,l,s[r],c,d,f);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=m;var E=[];s&&s[r]&&Lr(s[r]).forEach(function(P){var M="";if(s[r][P].Type==ln.CMNT){M=pv(s[r][P].Target,t);var A=q5e(ri(e,M,!0),M,l);if(!A||!A.length)return;j5(m,A,!1)}s[r][P].Type==ln.TCMNT&&(M=pv(s[r][P].Target,t),E=E.concat(DVe(ri(e,M,!0),l)))}),E&&E.length&&j5(m,E,!0,l.people||[])}catch(P){if(l.WTF)throw P}}function Ko(e){return e.charAt(0)=="/"?e.slice(1):e}function wUe(e,t){if(xm(),t=t||{},FM(t),ra(e,"META-INF/manifest.xml")||ra(e,"objectdata.xml"))return tG(e,t);if(ra(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof HA<"u"){if(e.FileIndex)return HA(e);var n=Ft.utils.cfb_new();return d5(e).forEach(function(oe){tn(n,oe,POe(e,oe))}),HA(n)}throw new Error("Unsupported NUMBERS file")}if(!ra(e,"[Content_Types].xml"))throw ra(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ra(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=d5(e),i=SLe(wo(e,"[Content_Types].xml")),s=!1,o,a;if(i.workbooks.length===0&&(a="xl/workbook.xml",ri(e,a,!0)&&i.workbooks.push(a)),i.workbooks.length===0){if(a="xl/workbook.bin",!ri(e,a,!0))throw new Error("Could not find workbook");i.workbooks.push(a),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Nv=[],i.sst)try{Nv=$5e(ri(e,Ko(i.sst)),i.sst,t)}catch(oe){if(t.WTF)throw oe}t.cellStyles&&i.themes.length&&(l=W5e(wo(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=j5e(ri(e,Ko(i.style)),i.style,l,t))}i.links.map(function(oe){try{var le=Lv(wo(e,Vy(Ko(oe))),oe);return Y5e(ri(e,Ko(oe)),le,oe,t)}catch{}});var d=V5e(ri(e,Ko(i.workbooks[0])),i.workbooks[0],t),f={},p="";i.coreprops.length&&(p=ri(e,Ko(i.coreprops[0]),!0),p&&(f=qX(p)),i.extprops.length!==0&&(p=ri(e,Ko(i.extprops[0]),!0),p&&PLe(p,f,t)));var m={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(p=wo(e,Ko(i.custprops[0]),!0),p&&(m=FLe(p,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(le){return le.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=m),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var w={};t.bookDeps&&i.calcchain&&(w=K5e(ri(e,Ko(i.calcchain)),i.calcchain));var C=0,S={},R,E;{var P=d.Sheets;f.Worksheets=P.length,f.SheetNames=[];for(var M=0;M!=P.length;++M)f.SheetNames[M]=P[M].name}var A=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");ra(e,k)||(k="xl/_rels/workbook."+A+".rels");var I=Lv(wo(e,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=X5e(ri(e,Ko(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=kVe(ri(e,Ko(i.people[0])),t)),I&&(I=vUe(I,d.Sheets));var B=ri(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=f.Worksheets;++C){var N="sheet";if(I&&I[C]?(R="xl/"+I[C][1].replace(/[\/]?xl\//,""),ra(e,R)||(R=I[C][1]),ra(e,R)||(R=k.replace(/_rels\/.*$/,"")+I[C][1]),N=I[C][2]):(R="xl/worksheets/sheet"+(C+1-B)+"."+A,R=R.replace(/sheet0\./,"sheet.")),E=R.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(C!=t.sheets)continue e;break;case"string":if(f.SheetNames[C].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var H=!1,G=0;G!=t.sheets.length;++G)typeof t.sheets[G]=="number"&&t.sheets[G]==C&&(H=1),typeof t.sheets[G]=="string"&&t.sheets[G].toLowerCase()==f.SheetNames[C].toLowerCase()&&(H=1);if(!H)continue e}}yUe(e,R,E,f.SheetNames[C],C,S,o,N,t,d,l,c)}return y={Directory:i,Workbook:d,Props:f,Custprops:m,Deps:w,Sheets:o,SheetNames:f.SheetNames,Strings:Nv,Styles:c,Themes:l,SSF:fr(Bt)},t&&t.bookFiles&&(e.files?(y.keys=r,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(oe,le){oe=oe.replace(/^Root Entry[\/]/,""),y.keys.push(oe),y.files[oe]=e.FileIndex[le]}))),t&&t.bookVBA&&(i.vba.length>0?y.vbaraw=ri(e,Ko(i.vba[0]),!0):i.defaults&&i.defaults.bin===VVe&&(y.vbaraw=ri(e,"xl/vbaProject.bin",!0))),y}function CUe(e,t){var n=t||{},r="Workbook",i=Ft.find(e,r);try{if(r="/!DataSpaces/Version",i=Ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(X4e(i.content),r="/!DataSpaces/DataSpaceMap",i=Ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=J4e(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Z4e(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);tBe(i.content)}catch{}if(r="/EncryptionInfo",i=Ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=nBe(i.content);if(r="/EncryptedPackage",i=Ft.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,n.password||"",n);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function bUe(e,t){return t.bookType=="ods"?iJ(e,t):t.bookType=="numbers"?gUe(e,t):t.bookType=="xlsb"?xUe(e,t):SUe(e,t)}function xUe(e,t){Yp=1024,e&&!e.SSF&&(e.SSF=fr(Bt)),e&&e.SSF&&(xm(),QE(e.SSF),t.revssf=ZE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Bv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=FQ.indexOf(t.bookType)>-1,i=yM();IM(t=t||{});var s=iM(),o="",a=0;if(t.cellXfs=[],Nd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",tn(s,o,KX(e.Props,t)),i.coreprops.push(o),$n(t.rels,2,o,ln.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,tn(s,o,QX(e.Props)),i.extprops.push(o),$n(t.rels,3,o,ln.EXT_PROPS),e.Custprops!==e.Props&&Lr(e.Custprops||{}).length>0&&(o="docProps/custom.xml",tn(s,o,JX(e.Custprops)),i.custprops.push(o),$n(t.rels,4,o,ln.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var d={"!id":{}},f=e.Sheets[e.SheetNames[a-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,tn(s,o,J5e(a-1,o,t,e,d)),i.sheets.push(o),$n(t.wbrels,-1,"worksheets/sheet"+a+"."+n,ln.WS[0])}if(f){var m=f["!comments"],y=!1,w="";m&&m.length>0&&(w="xl/comments"+a+"."+n,tn(s,w,tGe(m,w)),i.comments.push(w),$n(d,-1,"../comments"+a+"."+n,ln.CMNT),y=!0),f["!legacy"]&&y&&tn(s,"xl/drawings/vmlDrawing"+a+".vml",PQ(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&tn(s,Vy(o),Cg(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,tn(s,o,eGe(t.Strings,o,t)),i.strs.push(o),$n(t.wbrels,-1,"sharedStrings."+n,ln.SST)),o="xl/workbook."+n,tn(s,o,Q5e(e,o)),i.workbooks.push(o),$n(t.rels,1,o,ln.WB),o="xl/theme/theme1.xml",tn(s,o,EM(e.Themes,t)),i.themes.push(o),$n(t.wbrels,-1,"theme/theme1.xml",ln.THEME),o="xl/styles."+n,tn(s,o,Z5e(e,o,t)),i.styles.push(o),$n(t.wbrels,-1,"styles."+n,ln.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",tn(s,o,e.vbaraw),i.vba.push(o),$n(t.wbrels,-1,"vbaProject.bin",ln.VBA)),o="xl/metadata."+n,tn(s,o,nGe(o)),i.metadata.push(o),$n(t.wbrels,-1,"metadata."+n,ln.XLMETA),tn(s,"[Content_Types].xml",WX(i,t)),tn(s,"_rels/.rels",Cg(t.rels)),tn(s,"xl/_rels/workbook."+n+".rels",Cg(t.wbrels)),delete t.revssf,delete t.ssf,s}function SUe(e,t){Yp=1024,e&&!e.SSF&&(e.SSF=fr(Bt)),e&&e.SSF&&(xm(),QE(e.SSF),t.revssf=ZE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Bv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=FQ.indexOf(t.bookType)>-1,i=yM();IM(t=t||{});var s=iM(),o="",a=0;if(t.cellXfs=[],Nd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",tn(s,o,KX(e.Props,t)),i.coreprops.push(o),$n(t.rels,2,o,ln.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,tn(s,o,QX(e.Props)),i.extprops.push(o),$n(t.rels,3,o,ln.EXT_PROPS),e.Custprops!==e.Props&&Lr(e.Custprops||{}).length>0&&(o="docProps/custom.xml",tn(s,o,JX(e.Custprops)),i.custprops.push(o),$n(t.rels,4,o,ln.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var f={"!id":{}},p=e.Sheets[e.SheetNames[a-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,tn(s,o,zQ(a-1,t,e,f)),i.sheets.push(o),$n(t.wbrels,-1,"worksheets/sheet"+a+"."+n,ln.WS[0])}if(p){var y=p["!comments"],w=!1,C="";if(y&&y.length>0){var S=!1;y.forEach(function(R){R[1].forEach(function(E){E.T==!0&&(S=!0)})}),S&&(C="xl/threadedComments/threadedComment"+a+"."+n,tn(s,C,PVe(y,d,t)),i.threadedcomments.push(C),$n(f,-1,"../threadedComments/threadedComment"+a+"."+n,ln.TCMNT)),C="xl/comments"+a+"."+n,tn(s,C,kQ(y)),i.comments.push(C),$n(f,-1,"../comments"+a+"."+n,ln.CMNT),w=!0}p["!legacy"]&&w&&tn(s,"xl/drawings/vmlDrawing"+a+".vml",PQ(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&tn(s,Vy(o),Cg(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,tn(s,o,yQ(t.Strings,t)),i.strs.push(o),$n(t.wbrels,-1,"sharedStrings."+n,ln.SST)),o="xl/workbook."+n,tn(s,o,KQ(e)),i.workbooks.push(o),$n(t.rels,1,o,ln.WB),o="xl/theme/theme1.xml",tn(s,o,EM(e.Themes,t)),i.themes.push(o),$n(t.wbrels,-1,"theme/theme1.xml",ln.THEME),o="xl/styles."+n,tn(s,o,RQ(e,t)),i.styles.push(o),$n(t.wbrels,-1,"styles."+n,ln.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",tn(s,o,e.vbaraw),i.vba.push(o),$n(t.wbrels,-1,"vbaProject.bin",ln.VBA)),o="xl/metadata."+n,tn(s,o,DQ()),i.metadata.push(o),$n(t.wbrels,-1,"metadata."+n,ln.XLMETA),d.length>1&&(o="xl/persons/person.xml",tn(s,o,FVe(d)),i.people.push(o),$n(t.wbrels,-1,"persons/person.xml",ln.PEOPLE)),tn(s,"[Content_Types].xml",WX(i,t)),tn(s,"_rels/.rels",Cg(t.rels)),tn(s,"xl/_rels/workbook."+n+".rels",Cg(t.wbrels)),delete t.revssf,delete t.ssf,s}function MM(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Fo(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function EUe(e,t){return Ft.find(e,"EncryptedPackage")?CUe(e,t):JQ(e,t)}function TUe(e,t){var n,r=e,i=t||{};return i.type||(i.type=on&&Buffer.isBuffer(e)?"buffer":"base64"),n=CX(r,i),wUe(n,i)}function oJ(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return hk(e.slice(n),t);default:break e}return Yg.to_workbook(e,t)}function RUe(e,t){var n="",r=MM(e,t);switch(t.type){case"base64":n=Fo(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=gf(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Zn(n)),t.type="binary",oJ(n,t)}function _Ue(e,t){var n=e;return t.type=="base64"&&(n=Fo(n)),n=Iy.utils.decode(1200,n.slice(2),"str"),t.type="binary",oJ(n,t)}function AUe(e){return e.match(/[^\x00-\x7F]/)?El(e):e}function GA(e,t,n,r){return r?(n.type="string",Yg.to_workbook(e,n)):Yg.to_workbook(t,n)}function gk(e,t){Z2();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return gk(new Uint8Array(e),(n=fr(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),xg={},n.dateNF&&(xg.dateNF=n.dateNF),n.type||(n.type=on&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=on?"buffer":"binary",r=xOe(e),typeof Uint8Array<"u"&&!on&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=AUe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return n=fr(n),n.type="array",gk(eM(r),n)}switch((i=MM(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return EUe(Ft.read(r,n),n);break;case 9:if(i[1]<=8)return JQ(r,n);break;case 60:return hk(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return I4e(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return mQ.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?TUe(r,n):GA(e,r,n,s);case 239:return i[3]===60?hk(r,n):GA(e,r,n,s);case 255:if(i[1]===254)return _Ue(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Wh.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Wh.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return dk.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return SQ.to_workbook(r,n);break;case 10:case 13:case 32:return RUe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return F4e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?dk.to_workbook(r,n):GA(e,r,n,s)}function aJ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Zw(t.file,Ft.write(e,{type:on?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ft.write(e,t)}function DUe(e,t){var n=fr(t||{}),r=bUe(e,n);return PUe(r,n)}function PUe(e,t){var n={},r=on?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Ft.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(XE(i))}return t.password&&typeof encrypt_agile<"u"?aJ(encrypt_agile(i,t.password),t):t.type==="file"?Zw(t.file,i):t.type=="string"?Zn(i):i}function kUe(e,t){var n=t||{},r=AGe(e,n);return aJ(r,n)}function hl(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return My(El(r));case"binary":return El(r);case"string":return e;case"file":return Zw(t.file,r,"utf8");case"buffer":return on?nu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):hl(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function FUe(e,t){switch(t.type){case"base64":return My(e);case"binary":return e;case"string":return e;case"file":return Zw(t.file,e,"binary");case"buffer":return on?nu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fx(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?My(n):t.type=="string"?Zn(n):n;case"file":return Zw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function lJ(e,t){Z2(),E5e(e);var n=fr(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=lJ(e,n);return n.type="array",XE(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return hl(bGe(e,n),n);case"slk":case"sylk":return hl(gQ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return hl(eJ(e.Sheets[e.SheetNames[i]],n),n);case"txt":return FUe(cJ(e.Sheets[e.SheetNames[i]],n),n);case"csv":return hl(OM(e.Sheets[e.SheetNames[i]],n),n,"\uFEFF");case"dif":return hl(mQ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return fx(dk.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return hl(Yg.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return hl(SQ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return hl(vQ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return hl(iJ(e,n),n);case"wk1":return fx(Wh.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return fx(Wh.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),fx(ZQ(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),kUe(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return DUe(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function IUe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function MUe(e,t,n){var r={};return r.type="file",r.file=t,IUe(r),lJ(e,r)}function OUe(e,t,n,r,i,s,o,a){var l=Xr(n),c=a.defval,d=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),f=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||e[n])for(var m=t.s.c;m<=t.e.c;++m){var y=o?e[n][m]:e[r[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(p[s[m]]=c);continue}var w=y.v;switch(y.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(w==null)if(y.t=="e"&&w===null)p[s[m]]=null;else if(c!==void 0)p[s[m]]=c;else if(d&&w===null)p[s[m]]=null;else continue;else p[s[m]]=d&&(y.t!=="n"||y.t==="n"&&a.rawNumbers!==!1)?w:Yc(y,w,a);w!=null&&(f=!1)}}return{row:p,isempty:f}}function _1(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof d){case"string":l=_n(d);break;case"number":l=_n(e["!ref"]),l.s.r=d;break;default:l=d}r>0&&(i=0);var f=Xr(l.s.r),p=[],m=[],y=0,w=0,C=Array.isArray(e),S=l.s.r,R=0,E={};C&&!e[S]&&(e[S]=[]);var P=c.skipHidden&&e["!cols"]||[],M=c.skipHidden&&e["!rows"]||[];for(R=l.s.c;R<=l.e.c;++R)if(!(P[R]||{}).hidden)switch(p[R]=Sr(R),n=C?e[S][R]:e[p[R]+f],r){case 1:s[R]=R-l.s.c;break;case 2:s[R]=p[R];break;case 3:s[R]=c.header[R-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=Yc(n,null,c),w=E[o]||0,!w)E[o]=1;else{do a=o+"_"+w++;while(E[a]);E[o]=w,E[a]=1}s[R]=a}for(S=l.s.r+i;S<=l.e.r;++S)if(!(M[S]||{}).hidden){var A=OUe(e,l,S,p,r,s,C,c);(A.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=A.row)}return m.length=y,m}var oG=/"/g;function LUe(e,t,n,r,i,s,o,a){for(var l=!0,c=[],d="",f=Xr(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=a.dense?(e[n]||[])[p]:e[r[p]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(a.rawNumbers&&m.t=="n"?m.v:Yc(m,null,a));for(var y=0,w=0;y!==d.length;++y)if((w=d.charCodeAt(y))===i||w===s||w===34||a.forceQuotes){d='"'+d.replace(oG,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(oG,'""')+'"')):d="";c.push(d)}return a.blankrows===!1&&l?null:c.join(o)}function OM(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=_n(e["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(p[y]||{}).hidden||(f[y]=Sr(y));for(var w=0,C=i.s.r;C<=i.e.r;++C)(m[C]||{}).hidden||(d=LUe(e,i,C,f,o,l,s,r),d!=null&&(r.strip&&(d=d.replace(c,"")),(d||r.blankrows!==!1)&&n.push((w++?a:"")+d)));return delete r.dense,n.join("")}function cJ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=OM(e,t);return n}function NUe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=_n(e["!ref"]),s="",o=[],a,l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=Sr(a);for(var d=i.s.r;d<=i.e.r;++d)for(s=Xr(d),a=i.s.c;a<=i.e.c;++a)if(t=o[a]+s,n=c?(e[d]||[])[a]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function uJ(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Er(r.origin):r.origin;o=l.r,a=l.c}var c,d={s:{c:0,r:0},e:{c:a,r:o+t.length-1+i}};if(s["!ref"]){var f=_n(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+i)}else o==-1&&(o=0,d.e.r=t.length-1+i);var p=r.header||[],m=0;t.forEach(function(w,C){Lr(w).forEach(function(S){(m=p.indexOf(S))==-1&&(p[m=p.length]=S);var R=w[S],E="z",P="",M=Ut({c:a+m,r:o+C+i});c=$y(s,M),R&&typeof R=="object"&&!(R instanceof Date)?s[M]=R:(typeof R=="number"?E="n":typeof R=="boolean"?E="b":typeof R=="string"?E="s":R instanceof Date?(E="d",r.cellDates||(E="n",R=yi(R)),P=r.dateNF||Bt[14]):R===null&&r.nullError&&(E="e",R=0),c?(c.t=E,c.v=R,delete c.w,delete c.R,P&&(c.z=P)):s[M]=c={t:E,v:R},P&&(c.z=P))})}),d.e.c=Math.max(d.e.c,a+p.length-1);var y=Xr(o);if(i)for(m=0;m<p.length;++m)s[Sr(m+a)+y]={t:"s",v:p[m]};return s["!ref"]=Qt(d),s}function BUe(e,t){return uJ(null,e,t)}function $y(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Er(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?$y(e,Ut(t)):$y(e,Ut({r:t,c:n||0}))}function VUe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function LM(){return{SheetNames:[],Sheets:{}}}function NM(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(qQ(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function HUe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=VUe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function GUe(e,t){return e.z=t,e}function dJ(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function UUe(e,t,n){return dJ(e,"#"+t,n)}function zUe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function jUe(e,t,n,r){for(var i=typeof t!="string"?t:_n(t),s=typeof t=="string"?t:Qt(t),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=$y(e,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=n,r&&(l.D=!0))}return e}var aG={encode_col:Sr,encode_row:Xr,encode_cell:Ut,encode_range:Qt,decode_col:hM,decode_row:dM,split_cell:eLe,decode_cell:Er,decode_range:Zs,format_cell:Yc,sheet_add_aoa:BX,sheet_add_json:uJ,sheet_add_dom:tJ,aoa_to_sheet:Sm,json_to_sheet:BUe,table_to_sheet:nJ,table_to_book:XGe,sheet_to_csv:OM,sheet_to_txt:cJ,sheet_to_json:_1,sheet_to_html:eJ,sheet_to_formulae:NUe,sheet_to_row_object_array:_1,sheet_get_cell:$y,book_new:LM,book_append_sheet:NM,book_set_sheet_visibility:HUe,cell_set_number_format:GUe,cell_set_hyperlink:dJ,cell_set_internal_link:UUe,cell_add_comment:zUe,sheet_set_array_formula:jUe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const WUe=()=>{const[e,t]=T.useState(!1),n=async r=>{const i=r.target.files?.[0];if(i){t(!0);try{const s=await i.arrayBuffer(),o=gk(s);for(const a of o.SheetNames){const l=o.Sheets[a],c=aG.sheet_to_json(l),d=[];for(const p of c){const m=p.nombre||p.Nombre||p.estudiante||p.Estudiante,y=p.usuario||p.Usuario;if(!m||!y){Tn.error(`Faltan datos en la hoja "${a}" (nombre o usuario)`);continue}const w=y.includes("@")?y:`${y}@mail.com`,C={name:m,email:w,role:fn.STUDENT,id:""},{password:S}=await L$(C);d.push({...p,password:S})}d.length===0?d.push({password:""}):Object.prototype.hasOwnProperty.call(d[0],"password")||(d[0]={...d[0],password:""});const f=aG.json_to_sheet(d);o.Sheets[a]=f}MUe(o,"generated_users.xlsx"),Tn.success("Usuarios importados y archivo generado correctamente")}catch(s){console.error(s),Tn.error("Error al importar usuarios")}finally{t(!1)}}};return F.jsx("div",{children:F.jsxs(Tr,{variant:"outline-primary",as:"label",htmlFor:"fileUpload",disabled:e,className:"d-flex align-items-center gap-2",children:[e?F.jsxs(F.Fragment,{children:[F.jsx(wa,{animation:"border",size:"sm"})," Importando..."]}):F.jsxs(F.Fragment,{children:[F.jsx(Que,{size:16}),"Importar Usuarios"]}),F.jsx("input",{type:"file",id:"fileUpload",accept:".xlsx, .xls",onChange:n,hidden:!0})]})})},$Ue=()=>{const{showForm:e,setShowForm:t}=X2(),n=async r=>{const{user:i}=await L$(r);return i};return F.jsxs("div",{children:[F.jsxs("div",{className:"d-flex gap-2 mb-3",children:[F.jsxs(Tr,{variant:"outline-success",onClick:()=>t(!0),children:[F.jsx(Aw,{size:16,className:"me-2"}),"Agregar Usuario"]}),F.jsx(WUe,{})]}),F.jsx(UMe,{}),e&&F.jsxs(wr,{show:e,onHide:()=>t(!1),children:[F.jsx(wr.Header,{closeButton:!0,children:F.jsx(wr.Title,{children:"Agregar Usuario"})}),F.jsx(wr.Body,{children:F.jsx(zMe,{onSubmit:n})})]}),F.jsx(W$,{})]})};function Rs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qUe=typeof Symbol=="function"&&Symbol.observable||"@@observable",lG=qUe,cG=()=>Math.random().toString(36).substring(7).split("").join("."),KUe={INIT:`@@redux/INIT${cG()}`,REPLACE:`@@redux/REPLACE${cG()}`},uG=KUe;function YUe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hJ(e,t,n){if(typeof e!="function")throw new Error(Rs(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rs(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rs(1));return n(hJ)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((C,S)=>{o.set(S,C)}))}function d(){if(l)throw new Error(Rs(3));return i}function f(C){if(typeof C!="function")throw new Error(Rs(4));if(l)throw new Error(Rs(5));let S=!0;c();const R=a++;return o.set(R,C),function(){if(S){if(l)throw new Error(Rs(6));S=!1,c(),o.delete(R),s=null}}}function p(C){if(!YUe(C))throw new Error(Rs(7));if(typeof C.type>"u")throw new Error(Rs(8));if(typeof C.type!="string")throw new Error(Rs(17));if(l)throw new Error(Rs(9));try{l=!0,i=r(i,C)}finally{l=!1}return(s=o).forEach(R=>{R()}),C}function m(C){if(typeof C!="function")throw new Error(Rs(10));r=C,p({type:uG.REPLACE})}function y(){const C=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Rs(11));function R(){const P=S;P.next&&P.next(d())}return R(),{unsubscribe:C(R)}},[lG](){return this}}}return p({type:uG.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[lG]:y}}function dG(e,t){return function(...n){return t(e.apply(this,n))}}function hG(e,t){if(typeof e=="function")return dG(e,t);if(typeof e!="object"||e===null)throw new Error(Rs(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=dG(i,t))}return n}function fJ(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function XUe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Rs(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(o));return s=fJ(...a)(i.dispatch),{...i,dispatch:s}}}var UA={exports:{}},zA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fG;function QUe(){if(fG)return zA;fG=1;var e=j1();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return zA.useSyncExternalStoreWithSelector=function(l,c,d,f,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=o(function(){function C(M){if(!S){if(S=!0,R=M,M=f(M),p!==void 0&&y.hasValue){var A=y.value;if(p(A,M))return E=A}return E=M}if(A=E,n(R,M))return A;var D=f(M);return p!==void 0&&p(A,D)?(R=M,A):(R=M,E=D)}var S=!1,R,E,P=d===void 0?null:d;return[function(){return C(c())},P===null?void 0:function(){return C(P())}]},[c,d,f,p]);var w=r(l,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),a(w),w},zA}var pG;function JUe(){return pG||(pG=1,UA.exports=QUe()),UA.exports}JUe();var ZUe=T.version.startsWith("19"),e8e=Symbol.for(ZUe?"react.transitional.element":"react.element"),t8e=Symbol.for("react.portal"),n8e=Symbol.for("react.fragment"),r8e=Symbol.for("react.strict_mode"),i8e=Symbol.for("react.profiler"),s8e=Symbol.for("react.consumer"),o8e=Symbol.for("react.context"),pJ=Symbol.for("react.forward_ref"),a8e=Symbol.for("react.suspense"),l8e=Symbol.for("react.suspense_list"),BM=Symbol.for("react.memo"),c8e=Symbol.for("react.lazy"),u8e=pJ,d8e=BM;function h8e(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case e8e:switch(e=e.type,e){case n8e:case i8e:case r8e:case a8e:case l8e:return e;default:switch(e=e&&e.$$typeof,e){case o8e:case pJ:case c8e:case BM:return e;case s8e:return e;default:return t}}case t8e:return t}}}function f8e(e){return h8e(e)===BM}function p8e(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,c,d,f,p;function m(R,E){return l=R,c=E,d=e(l,c),f=t(r,c),p=n(d,f,c),a=!0,p}function y(){return d=e(l,c),t.dependsOnOwnProps&&(f=t(r,c)),p=n(d,f,c),p}function w(){return e.dependsOnOwnProps&&(d=e(l,c)),t.dependsOnOwnProps&&(f=t(r,c)),p=n(d,f,c),p}function C(){const R=e(l,c),E=!o(R,d);return d=R,E&&(p=n(d,f,c)),p}function S(R,E){const P=!s(E,c),M=!i(R,l,E,c);return l=R,c=E,P&&M?y():P?w():M?C():p}return function(E,P){return a?S(E,P):m(E,P)}}function g8e(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),o=n(e,i),a=r(e,i);return p8e(s,o,a,e,i)}function m8e(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function mk(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function gG(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function gJ(e,t){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=gG(e);let c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=gG(c),c=s(a,l)),c},s}}function VM(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function v8e(e){return e&&typeof e=="object"?mk(t=>m8e(e,t)):e?typeof e=="function"?gJ(e):VM(e,"mapDispatchToProps"):mk(t=>({dispatch:t}))}function y8e(e){return e?typeof e=="function"?gJ(e):VM(e,"mapStateToProps"):mk(()=>({}))}function w8e(e,t,n){return{...n,...e,...t}}function C8e(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,c,d){const f=e(l,c,d);return s?i(f,o)||(o=f):(s=!0,o=f),o}}}function b8e(e){return e?typeof e=="function"?C8e(e):VM(e,"mergeProps"):()=>w8e}function x8e(e){e()}function S8e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){x8e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mG={notify(){},get:()=>[]};function mJ(e,t){let n,r=mG,i=0,s=!1;function o(w){d();const C=r.subscribe(w);let S=!1;return()=>{S||(S=!0,C(),f())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return s}function d(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=S8e())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mG)}function p(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return y}var E8e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T8e=E8e(),R8e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_8e=R8e(),A8e=()=>T8e||_8e?T.useLayoutEffect:T.useEffect,A1=A8e();function vG(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function jA(e,t){if(vG(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!vG(e[n[i]],t[n[i]]))return!1;return!0}var D8e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},P8e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},k8e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},F8e={[u8e]:k8e,[d8e]:vJ};function yG(e){return f8e(e)?vJ:F8e[e.$$typeof]||D8e}var I8e=Object.defineProperty,M8e=Object.getOwnPropertyNames,wG=Object.getOwnPropertySymbols,O8e=Object.getOwnPropertyDescriptor,L8e=Object.getPrototypeOf,CG=Object.prototype;function vk(e,t){if(typeof t!="string"){if(CG){const s=L8e(t);s&&s!==CG&&vk(e,s)}let n=M8e(t);wG&&(n=n.concat(wG(t)));const r=yG(e),i=yG(t);for(let s=0;s<n.length;++s){const o=n[s];if(!P8e[o]&&!(i&&i[o])&&!(r&&r[o])){const a=O8e(t,o);try{I8e(e,o,a)}catch{}}}}return e}var N8e=Symbol.for("react-redux-context"),B8e=typeof globalThis<"u"?globalThis:{};function V8e(){if(!T.createContext)return{};const e=B8e[N8e]??=new Map;let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var yJ=V8e(),H8e=[null,null];function G8e(e,t,n){A1(()=>e(...t),n)}function U8e(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function z8e(e,t,n,r,i,s,o,a,l,c,d){if(!e)return()=>{};let f=!1,p=null;const m=()=>{if(f||!a.current)return;const w=t.getState();let C,S;try{C=r(w,i.current)}catch(R){S=R,p=R}S||(p=null),C===s.current?o.current||c():(s.current=C,l.current=C,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function j8e(e,t){return e===t}function W8e(e,t,n,{pure:r,areStatesEqual:i=j8e,areOwnPropsEqual:s=jA,areStatePropsEqual:o=jA,areMergedPropsEqual:a=jA,forwardRef:l=!1,context:c=yJ}={}){const d=c,f=y8e(e),p=v8e(t),m=b8e(n),y=!!e;return C=>{const S=C.displayName||C.name||"Component",R=`Connect(${S})`,E={shouldHandleStateChanges:y,displayName:R,wrappedComponentName:S,WrappedComponent:C,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function P(D){const[k,I,B]=T.useMemo(()=>{const{reactReduxForwardedRef:re,...St}=D;return[D.context,re,St]},[D]),N=T.useMemo(()=>{let re=d;return k?.Consumer,re},[k,d]),H=T.useContext(N),G=!!D.store&&!!D.store.getState&&!!D.store.dispatch,oe=!!H&&!!H.store,le=G?D.store:H.store,Z=oe?H.getServerState:le.getState,se=T.useMemo(()=>g8e(le.dispatch,E),[le]),[fe,ne]=T.useMemo(()=>{if(!y)return H8e;const re=mJ(le,G?void 0:H.subscription),St=re.notifyNestedSubs.bind(re);return[re,St]},[le,G,H]),L=T.useMemo(()=>G?H:{...H,subscription:fe},[G,H,fe]),ae=T.useRef(void 0),W=T.useRef(B),V=T.useRef(void 0),X=T.useRef(!1),te=T.useRef(!1),he=T.useRef(void 0);A1(()=>(te.current=!0,()=>{te.current=!1}),[]);const Be=T.useMemo(()=>()=>V.current&&B===W.current?V.current:se(le.getState(),B),[le,B]),Fe=T.useMemo(()=>St=>fe?z8e(y,le,fe,se,W,ae,X,te,V,ne,St):()=>{},[fe]);G8e(U8e,[W,ae,X,B,V,ne]);let _e;try{_e=T.useSyncExternalStore(Fe,Be,Z?()=>se(Z(),B):Be)}catch(re){throw he.current&&(re.message+=`
The error may be correlated with this previous error:
${he.current.stack}

`),re}A1(()=>{he.current=void 0,V.current=void 0,ae.current=_e});const Pe=T.useMemo(()=>T.createElement(C,{..._e,ref:I}),[I,C,_e]);return T.useMemo(()=>y?T.createElement(N.Provider,{value:L},Pe):Pe,[N,Pe,L])}const A=T.memo(P);if(A.WrappedComponent=C,A.displayName=P.displayName=R,l){const k=T.forwardRef(function(B,N){return T.createElement(A,{...B,reactReduxForwardedRef:N})});return k.displayName=R,k.WrappedComponent=C,vk(k,C)}return vk(A,C)}}var wJ=W8e;function $8e(e){const{children:t,context:n,serverState:r,store:i}=e,s=T.useMemo(()=>{const l=mJ(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);A1(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||yJ;return T.createElement(a.Provider,{value:s},t)}var q8e=$8e,K8e="Invariant failed";function Y8e(e,t){throw new Error(K8e)}var Na=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},HM=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},bG=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},X8e=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},WA={top:0,right:0,bottom:0,left:0},GM=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?WA:r,s=t.border,o=s===void 0?WA:s,a=t.padding,l=a===void 0?WA:a,c=Na(HM(n,i)),d=Na(bG(n,o)),f=Na(bG(d,l));return{marginBox:c,borderBox:Na(n),paddingBox:d,contentBox:f,margin:i,border:o,padding:l}},Yo=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Y8e(),i},Q8e=function(){return{x:window.pageXOffset,y:window.pageYOffset}},D1=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,a=X8e(r,n);return GM({borderBox:a,border:i,margin:s,padding:o})},P1=function(t,n){return n===void 0&&(n=Q8e()),D1(t,n)},CJ=function(t,n){var r={top:Yo(n.marginTop),right:Yo(n.marginRight),bottom:Yo(n.marginBottom),left:Yo(n.marginLeft)},i={top:Yo(n.paddingTop),right:Yo(n.paddingRight),bottom:Yo(n.paddingBottom),left:Yo(n.paddingLeft)},s={top:Yo(n.borderTopWidth),right:Yo(n.borderRightWidth),bottom:Yo(n.borderBottomWidth),left:Yo(n.borderLeftWidth)};return GM({borderBox:t,margin:r,padding:i,border:s})},bJ=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return CJ(n,r)},qy=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function xJ(e,t){}xJ.bind(null,"warn");xJ.bind(null,"error");function id(){}function J8e(e,t){return{...e,...t}}function da(e,t,n){const r=t.map(i=>{const s=J8e(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const Z8e="Invariant failed";class k1 extends Error{}k1.prototype.toString=function(){return this.message};function ct(e,t){throw new k1(Z8e)}class eze extends ue.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=id,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof k1&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=da(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof k1){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const tze=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,F1=e=>e+1,nze=e=>`
  You have lifted an item in position ${F1(e.source.index)}
`,SJ=(e,t)=>{const n=e.droppableId===t.droppableId,r=F1(e.index),i=F1(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},EJ=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,rze=e=>{const t=e.destination;if(t)return SJ(e.source,t);const n=e.combine;return n?EJ(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},xG=e=>`
  The item has returned to its starting position
  of ${F1(e.index)}
`,ize=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${xG(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${SJ(e.source,t)}
    `:n?`
      You have dropped the item.
      ${EJ(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${xG(e.source)}
  `},iS={dragHandleUsageInstructions:tze,onDragStart:nze,onDragUpdate:rze,onDragEnd:ize};function sze(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function TJ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!sze(e[n],t[n]))return!1;return!0}function Sn(e,t){const n=T.useState(()=>({inputs:t,result:e()}))[0],r=T.useRef(!0),i=T.useRef(n),o=r.current||!!(t&&i.current.inputs&&TJ(t,i.current.inputs))?i.current:{inputs:t,result:e()};return T.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function _t(e,t){return Sn(()=>e,t)}const Mi={x:0,y:0},Xi=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Eo=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),sd=(e,t)=>e.x===t.x&&e.y===t.y,Tm=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Cf=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Ky=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),SG=(e,t)=>Math.min(...t.map(n=>Ky(e,n))),RJ=e=>t=>({x:e(t.x),y:e(t.y)});var oze=(e,t)=>{const n=Na({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const aC=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),EG=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],aze={top:0,right:0,bottom:0,left:0},lze=(e,t)=>t?aC(e,t.scroll.diff.displacement):e,cze=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,uze=(e,t)=>t&&t.shouldClipSubject?oze(t.pageMarginBox,e):Na(e);var Qg=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=lze(e.marginBox,r),s=cze(i,n,t),o=uze(s,r);return{page:e,withPlaceholder:t,active:o}},UM=(e,t)=>{e.frame||ct();const n=e.frame,r=Eo(t,n.scroll.initial),i=Tm(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Qg({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function Fi(e,t=TJ){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const _J=Fi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),AJ=Fi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),sT=Fi(e=>Object.values(e)),dze=Fi(e=>Object.values(e));var Rm=Fi((e,t)=>dze(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function zM(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function oT(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var aT=Fi((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),hze=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!zM(i))return null;function o(m){const y={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:y}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const c=aT(t,r);if(!l){if(!c.length)return null;const m=c[c.length-1];return o(m.descriptor.id)}const d=c.findIndex(m=>m.descriptor.id===l);d===-1&&ct();const f=d-1;if(f<0)return null;const p=c[f];return o(p.descriptor.id)},_m=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const DJ={point:Mi,value:0},Yy={invisible:{},visible:{},all:[]},fze={displaced:Yy,displacedBy:DJ,at:null};var pa=(e,t)=>n=>e<=n&&n<=t,PJ=e=>{const t=pa(e.top,e.bottom),n=pa(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return l&&c?!0:l&&o||c&&s}},pze=e=>{const t=pa(e.top,e.bottom),n=pa(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const jM={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kJ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var gze=e=>t=>{const n=pa(t.top,t.bottom),r=pa(t.left,t.right);return i=>e===jM?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const mze=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Mi;return aC(e,n)},vze=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,yze=(e,t,n)=>n(t)(e),WM=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?mze(e,t):e;return vze(s,t,i)&&yze(s,n,i)},wze=e=>WM({...e,isVisibleThroughFrameFn:PJ}),FJ=e=>WM({...e,isVisibleThroughFrameFn:pze}),Cze=e=>WM({...e,isVisibleThroughFrameFn:gze(e.destination.axis)}),bze=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const s=i[e];return s?s.shouldAnimate:!0};function xze(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Na(HM(n,r))}function Xy({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return e.reduce(function(a,l){const c=xze(l,n),d=l.descriptor.id;if(a.all.push(d),!wze({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const p=bze(d,s,i),m={draggableId:d,shouldAnimate:p};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function Sze(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function TG({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=Sze(e,{inHomeList:t});return{displaced:Yy,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function I1({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=_m(e,n);if(o==null)return TG({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const c=t.find(y=>y.descriptor.index===o);if(!c)return TG({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const d=aT(e,t),f=t.indexOf(c),p=d.slice(f);return{displaced:Xy({afterDragging:p,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function xd(e,t){return!!t.effected[e]}var Eze=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return xd(s,i)?e?a:a-1:e?a+1:a},Tze=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=e?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return s<o||s>l?null:s},Rze=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||ct(),c.type==="REORDER"){const f=Tze({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:s});return f==null?null:I1({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:f})}const d=Eze({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:c.combine,afterCritical:l});return d==null?null:I1({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})},_ze=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return xd(n,t)?i?Mi:Tm(r.point):i?r.point:Mi},Aze=({afterCritical:e,impact:t,draggables:n})=>{const r=oT(t);r||ct();const i=r.draggableId,s=n[i].page.borderBox.center,o=_ze({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Xi(s,o)};const IJ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Dze=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,$M=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,RG=({axis:e,moveRelativeTo:t,isMoving:n})=>Cf(e.line,t.marginBox[e.end]+IJ(e,n),$M(e,t.marginBox,n)),_G=({axis:e,moveRelativeTo:t,isMoving:n})=>Cf(e.line,t.marginBox[e.start]-Dze(e,n),$M(e,t.marginBox,n)),Pze=({axis:e,moveInto:t,isMoving:n})=>Cf(e.line,t.contentBox[e.start]+IJ(e,n),$M(e,t.contentBox,n));var kze=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const s=Rm(r.descriptor.id,n),o=t.page,a=r.axis;if(!s.length)return Pze({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:c}=e,d=l.all[0];if(d){const p=n[d];if(xd(d,i))return _G({axis:a,moveRelativeTo:p.page,isMoving:o});const m=D1(p.page,c.point);return _G({axis:a,moveRelativeTo:m,isMoving:o})}const f=s[s.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(xd(f.descriptor.id,i)){const p=D1(f.page,Tm(i.displacedBy.point));return RG({axis:a,moveRelativeTo:p,isMoving:o})}return RG({axis:a,moveRelativeTo:f.page,isMoving:o})},yk=(e,t)=>{const n=e.frame;return n?Xi(t,n.scroll.diff.displacement):t};const Fze=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?kze({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):Aze({impact:e,draggables:r,afterCritical:i})};var lT=e=>{const t=Fze(e),n=e.droppable;return n?yk(n,t):t},MJ=(e,t)=>{const n=Eo(t,e.scroll.initial),r=Tm(n);return{frame:Na({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function AG(e,t){return e.map(n=>t[n])}function Ize(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Mze=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const s=MJ(t,Xi(t.scroll.current,i)),o=n.frame?UM(n,Xi(n.frame.scroll.current,i)):n,a=e.displaced,l=Xy({afterDragging:AG(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=Xy({afterDragging:AG(a.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),d={},f={},p=[a,l,c];return a.all.forEach(y=>{const w=Ize(y,p);if(w){f[y]=w;return}d[y]=!0}),{...e,displaced:{all:a.all,invisible:d,visible:f}}},Oze=(e,t)=>Xi(e.scroll.diff.displacement,t),qM=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Oze(n,e),i=Eo(r,t.page.borderBox.center);return Xi(t.client.borderBox.center,i)},OJ=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=Eo(n,e.page.borderBox.center),l={target:aC(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return s?Cze(l):FJ(l)},Lze=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=Rm(n.descriptor.id,r),d=_m(t,n),f=hze({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:i})||Rze({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:s,afterCritical:l});if(!f)return null;const p=lT({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:l});if(OJ({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:qM({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:f,scrollJumpRequest:null};const y=Eo(p,o),w=Mze({impact:f,viewport:s,destination:n,draggables:r,maxScrollChange:y});return{clientSelection:a,impact:w,scrollJumpRequest:y}};const Ts=e=>{const t=e.subject.active;return t||ct(),t};var Nze=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=pa(s[o.start],s[o.end]),l=sT(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>PJ(i.frame)(Ts(d))).filter(d=>{const f=Ts(d);return e?s[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<s[o.crossAxisStart]}).filter(d=>{const f=Ts(d),p=pa(f[o.start],f[o.end]);return a(f[o.start])||a(f[o.end])||p(s[o.start])||p(s[o.end])}).sort((d,f)=>{const p=Ts(d)[o.crossAxisStart],m=Ts(f)[o.crossAxisStart];return e?p-m:m-p}).filter((d,f,p)=>Ts(d)[o.crossAxisStart]===Ts(p[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(d=>pa(Ts(d)[o.start],Ts(d)[o.end])(t[o.line]));return c.length===1?c[0]:c.length>1?c.sort((d,f)=>Ts(d)[o.start]-Ts(f)[o.start])[0]:l.sort((d,f)=>{const p=SG(t,EG(Ts(d))),m=SG(t,EG(Ts(f)));return p!==m?p-m:Ts(d)[o.start]-Ts(f)[o.start]})[0]};const DG=(e,t)=>{const n=e.page.borderBox.center;return xd(e.descriptor.id,t)?Eo(n,t.displacedBy.point):n},Bze=(e,t)=>{const n=e.page.borderBox;return xd(e.descriptor.id,t)?aC(n,Tm(t.displacedBy.point)):n};var Vze=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>FJ({target:Bze(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=Ky(e,yk(n,DG(o,i))),c=Ky(e,yk(n,DG(a,i)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,lC=Fi(function(t,n){const r=n[t.line];return{value:r,point:Cf(t.line,r)}});const Hze=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Cf(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=Rm(e.descriptor.id,n).reduce((c,d)=>c+d.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:Cf(r.line,l)},LJ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),NJ=(e,t,n)=>{const r=e.frame;_m(t,e)&&ct(),e.subject.withPlaceholder&&ct();const i=lC(e.axis,t.displaceBy).point,s=Hze(e,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=Qg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:d}}const a=s?Xi(r.scroll.max,s):r.scroll.max,l=LJ(r,a),c=Qg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},Gze=e=>{const t=e.subject.withPlaceholder;t||ct();const n=e.frame;if(!n){const o=Qg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||ct();const i=LJ(n,r),s=Qg({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:s,frame:i}};var Uze=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!t){if(n.length)return null;const f={displaced:Yy,displacedBy:DJ,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=lT({impact:f,draggable:r,droppable:s,draggables:i,afterCritical:a}),m=_m(r,s)?s:NJ(s,r,i);return OJ({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],c=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?f:f+1})(),d=lC(s.axis,r.displaceBy);return I1({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:d,last:Yy,index:c})},zze=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=Nze({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:o});if(!l)return null;const c=Rm(l.descriptor.id,i),d=Vze({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:c,afterCritical:a}),f=Uze({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:c,viewport:o,afterCritical:a});if(!f)return null;const p=lT({impact:f,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:qM({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null}},Do=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const jze=(e,t)=>{const n=Do(e);return n?t[n]:null};var Wze=({state:e,type:t})=>{const n=jze(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:f,droppables:p}=e.dimensions;return a?Lze({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):zze({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function yh(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function BJ(e){const t=pa(e.top,e.bottom),n=pa(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function $ze(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function qze({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=Cf(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Ky(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function Kze({pageBorderBox:e,draggable:t,droppables:n}){const r=sT(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!$ze(e,s))return!1;if(BJ(s)(e.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=e[o.crossAxisStart],c=e[o.crossAxisEnd],d=pa(s[o.crossAxisStart],s[o.crossAxisEnd]),f=d(l),p=d(c);return!f&&!p?!0:f?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:qze({pageBorderBox:e,draggable:t,candidates:r}):null}const VJ=(e,t)=>Na(aC(e,t));var Yze=(e,t)=>{const n=e.frame;return n?VJ(t,n.scroll.diff.value):t};function HJ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Xze({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Qze=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=lC(n.axis,t.displaceBy),c=l.value,d=e[a.start],f=e[a.end],m=aT(t,r).find(w=>{const C=w.descriptor.id,S=w.page.borderBox.center[a.line],R=xd(C,o),E=HJ({displaced:i,id:C});return R?E?f<=S:d<S-c:E?f<=S+c:d<S})||null,y=Xze({draggable:t,closest:m,inHomeList:_m(t,n)});return I1({draggable:t,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:y})};const Jze=4;var Zze=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=lC(r.axis,e.displaceBy),l=a.value,c=t[o.start],d=t[o.end],p=aT(e,i).find(y=>{const w=y.descriptor.id,C=y.page.borderBox,R=C[o.size]/Jze,E=xd(w,s),P=HJ({displaced:n.displaced,id:w});return E?P?d>C[o.start]+R&&d<C[o.end]-R:c>C[o.start]-l+R&&c<C[o.end]-l-R:P?d>C[o.start]+l+R&&d<C[o.end]+l-R:c>C[o.start]+R&&c<C[o.end]-R});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},GJ=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=VJ(t.page.borderBox,e),l=Kze({pageBorderBox:a,draggable:t,droppables:r});if(!l)return fze;const c=r[l],d=Rm(c.descriptor.id,n),f=Yze(c,a);return Zze({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:i,destination:c,insideDestination:d,afterCritical:o})||Qze({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:c,insideDestination:d,last:i.displaced,viewport:s,afterCritical:o})},KM=(e,t)=>({...e,[t.descriptor.id]:t});const e9e=({previousImpact:e,impact:t,droppables:n})=>{const r=Do(e),i=Do(t);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=Gze(s);return KM(n,o)};var t9e=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const s=e9e({previousImpact:r,impact:i,droppables:n}),o=Do(i);if(!o)return s;const a=n[o];if(_m(e,a)||a.subject.withPlaceholder)return s;const l=NJ(a,e,t);return KM(s,l)},Gv=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=Eo(l,e.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:Xi(e.initial.client.borderBoxCenter,c)},f={selection:Xi(d.selection,o.scroll.current),borderBoxCenter:Xi(d.borderBoxCenter,o.scroll.current),offset:Xi(d.offset,o.scroll.diff.value)},p={client:d,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:p};const m=a.draggables[e.critical.draggable.id],y=i||GJ({pageOffset:f.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=t9e({draggable:m,impact:y,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:w},impact:y,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function n9e(e,t){return e.map(n=>t[n])}var UJ=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=e.displaced,o=n9e(s.all,n),a=Xy({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:s});return{...e,displaced:a}},zJ=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=lT({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return qM({pageBorderBoxCenter:o,draggable:t,viewport:i})},jJ=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&ct();const r=e.impact,i=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:a}=s,l=o[e.critical.draggable.id],c=Do(r);c||ct();const d=a[c],f=UJ({impact:r,viewport:i,destination:d,draggables:o}),p=zJ({impact:f,draggable:l,droppable:d,draggables:o,viewport:i,afterCritical:e.afterCritical});return Gv({impact:f,clientSelection:p,state:e,dimensions:s,viewport:i})},r9e=e=>({index:e.index,droppableId:e.droppableId}),WJ=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=lC(t.axis,e.displaceBy),s=Rm(t.descriptor.id,n),o=s.indexOf(e);o===-1&&ct();const a=s.slice(o+1),l=a.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Xy({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:r9e(e.descriptor)}},afterCritical:c}},i9e=(e,t)=>({draggables:e.draggables,droppables:KM(e.droppables,t)}),s9e=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=D1(e.client,t),i=P1(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},o9e=e=>{const t=e.frame;return t||ct(),t},a9e=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const s=i.descriptor.droppableId,o=t[s],l=o9e(o).scroll.diff.value,c=Xi(r,l);return s9e({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},l9e=({state:e,published:t})=>{const n=t.modified.map(S=>{const R=e.dimensions.droppables[S.droppableId];return UM(R,S.scroll)}),r={...e.dimensions.droppables,..._J(n)},i=AJ(a9e({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...i};t.removals.forEach(S=>{delete s[S]});const o={droppables:r,draggables:s},a=Do(e.impact),l=a?o.droppables[a]:null,c=o.draggables[e.critical.draggable.id],d=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:p}=WJ({draggable:c,home:d,draggables:s,viewport:e.viewport}),m=l&&l.isCombineEnabled?e.impact:f,y=GJ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),w={...e,phase:"DRAGGING",impact:y,onLiftImpact:f,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const wk=e=>e.movementMode==="SNAP",$A=(e,t,n)=>{const r=i9e(e.dimensions,t);return!wk(e)||n?Gv({state:e,dimensions:r}):jJ({state:e,dimensions:r})};function qA(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const PG={phase:"IDLE",completed:null,shouldFlush:!1};var c9e=(e=PG,t)=>{if(t.type==="FLUSH")return{...PG,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ct();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Mi},d={client:c,page:{selection:Xi(c.selection,i.scroll.initial),borderBoxCenter:Xi(c.selection,i.scroll.initial),offset:Xi(c.selection,i.scroll.diff.value)}},f=sT(s.droppables).every(w=>!w.isFixedOnPage),{impact:p,afterCritical:m}=WJ({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&ct(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ct(),l9e({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;yh(e)||ct();const{client:n}=t.payload;return sd(n,e.current.client.selection)?e:Gv({state:e,clientSelection:n,impact:wk(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return qA(e);yh(e)||ct();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const s=UM(i,r);return $A(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;yh(e)||ct();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ct(),i.isEnabled===r&&ct();const s={...i,isEnabled:r};return $A(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;yh(e)||ct();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ct(),i.isCombineEnabled===r&&ct();const s={...i,isCombineEnabled:r};return $A(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;yh(e)||ct(),e.isWindowScrollAllowed||ct();const n=t.payload.newScroll;if(sd(e.viewport.scroll.current,n))return qA(e);const r=MJ(e.viewport,n);return wk(e)?jJ({state:e,viewport:r}):Gv({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!yh(e))return e;const n=t.payload.maxScroll;if(sd(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ct();const n=Wze({state:e,type:t.type});return n?Gv({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&ct(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ct(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Un(e,t){return e instanceof Object&&"type"in e&&e.type===t}const u9e=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),d9e=e=>({type:"LIFT",payload:e}),h9e=e=>({type:"INITIAL_PUBLISH",payload:e}),f9e=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),p9e=()=>({type:"COLLECTION_STARTING",payload:null}),g9e=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),m9e=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),v9e=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),$J=e=>({type:"MOVE",payload:e}),y9e=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),w9e=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),C9e=()=>({type:"MOVE_UP",payload:null}),b9e=()=>({type:"MOVE_DOWN",payload:null}),x9e=()=>({type:"MOVE_RIGHT",payload:null}),S9e=()=>({type:"MOVE_LEFT",payload:null}),YM=()=>({type:"FLUSH",payload:null}),E9e=e=>({type:"DROP_ANIMATE",payload:e}),XM=e=>({type:"DROP_COMPLETE",payload:e}),qJ=e=>({type:"DROP",payload:e}),T9e=e=>({type:"DROP_PENDING",payload:e}),KJ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var R9e=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Un(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(XM({completed:l.completed})),t().phase!=="IDLE"&&ct(),n(YM()),n(u9e({draggableId:s,movementMode:a}));const d={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:p,viewport:m}=e.startPublishing(d);n(h9e({critical:f,dimensions:p,clientSelection:o,movementMode:a,viewport:m}))},_9e=e=>()=>t=>n=>{Un(n,"INITIAL_PUBLISH")&&e.dragging(),Un(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Un(n,"FLUSH")||Un(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const QM={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Qy={opacity:{drop:0,combining:.7},scale:{drop:.75}},YJ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},hh=`${YJ.outOfTheWay}s ${QM.outOfTheWay}`,Uv={fluid:`opacity ${hh}`,snap:`transform ${hh}, opacity ${hh}`,drop:e=>{const t=`${e}s ${QM.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${hh}`,placeholder:`height ${hh}, width ${hh}, margin ${hh}`},kG=e=>sd(e,Mi)?void 0:`translate(${e.x}px, ${e.y}px)`,Ck={moveTo:kG,drop:(e,t)=>{const n=kG(e);if(n)return t?`${n} scale(${Qy.scale.drop})`:n}},{minDropTime:bk,maxDropTime:XJ}=YJ,A9e=XJ-bk,FG=1500,D9e=.6;var P9e=({current:e,destination:t,reason:n})=>{const r=Ky(e,t);if(r<=0)return bk;if(r>=FG)return XJ;const i=r/FG,s=bk+A9e*i,o=n==="CANCEL"?s*D9e:s;return Number(o.toFixed(2))},k9e=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=Do(e),l=a?o[a]:null,c=o[t.descriptor.droppableId],d=zJ({impact:e,draggable:t,draggables:s,afterCritical:i,droppable:l||c,viewport:r});return Eo(d,t.client.borderBox.center)},F9e=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:UJ({draggables:e,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Yy},didDropInsideDroppable:!0};const I9e=({getState:e,dispatch:t})=>n=>r=>{if(!Un(r,"DROP")){n(r);return}const i=e(),s=r.payload.reason;if(i.phase==="COLLECTING"){t(T9e({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ct(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ct();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=F9e({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=f?zM(d):null,m=f?oT(d):null,y={index:a.draggable.index,droppableId:a.droppable.id},w={draggableId:c.descriptor.id,type:c.descriptor.type,source:y,reason:s,mode:i.movementMode,destination:p,combine:m},C=k9e({impact:d,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),S={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:d};if(!(!sd(i.current.client.offset,C)||!!w.combine)){t(XM({completed:S}));return}const E=P9e({current:i.current.client.offset,destination:C,reason:s});t(E9e({newHomeClientOffset:C,dropDuration:E,completed:S}))};var QJ=()=>({x:window.pageXOffset,y:window.pageYOffset});function M9e(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function O9e({onWindowScroll:e}){function t(){e(QJ())}const n=qy(t),r=M9e(n);let i=id;function s(){return i!==id}function o(){s()&&ct(),i=da(window,[r])}function a(){s()||ct(),n.cancel(),i(),i=id}return{start:o,stop:a,isActive:s}}const L9e=e=>Un(e,"DROP_COMPLETE")||Un(e,"DROP_ANIMATE")||Un(e,"FLUSH"),N9e=e=>{const t=O9e({onWindowScroll:n=>{e.dispatch(y9e({newScroll:n}))}});return n=>r=>{!t.isActive()&&Un(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&L9e(r)&&t.stop(),n(r)}};var B9e=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=()=>t,i},V9e=()=>{const e=[],t=i=>{const s=e.findIndex(a=>a.timerId===i);s===-1&&ct();const[o]=e.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const H9e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,G9e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,U9e=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},$0=(e,t)=>{t()},px=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function KA(e,t,n,r){if(!e){n(r(t));return}const i=B9e(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var z9e=(e,t)=>{const n=V9e();let r=null;const i=(f,p)=>{r&&ct(),$0("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:p})})},s=(f,p)=>{r&&ct(),$0("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(px(f,p))})},o=(f,p)=>{r&&ct();const m=px(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{$0("onDragStart",()=>KA(e().onDragStart,m,t,iS.onDragStart))})},a=(f,p)=>{const m=zM(p),y=oT(p);r||ct();const w=!U9e(f,r.lastCritical);w&&(r.lastCritical=f);const C=!H9e(r.lastLocation,m);C&&(r.lastLocation=m);const S=!G9e(r.lastCombine,y);if(S&&(r.lastCombine=y),!w&&!C&&!S)return;const R={...px(f,r.mode),combine:y,destination:m};n.add(()=>{$0("onDragUpdate",()=>KA(e().onDragUpdate,R,t,iS.onDragUpdate))})},l=()=>{r||ct(),n.flush()},c=f=>{r||ct(),r=null,$0("onDragEnd",()=>KA(e().onDragEnd,f,t,iS.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const f={...px(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(f)}}},j9e=(e,t)=>{const n=z9e(e,t);return r=>i=>s=>{if(Un(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Un(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Un(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Un(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const W9e=e=>t=>n=>{if(!Un(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&ct(),e.dispatch(XM({completed:r.completed}))},$9e=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>s=>{if((Un(s,"FLUSH")||Un(s,"DROP_COMPLETE")||Un(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Un(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(KJ())}};n=requestAnimationFrame(()=>{n=null,t=da(window,[o])})}};var q9e=e=>()=>t=>n=>{(Un(n,"DROP_COMPLETE")||Un(n,"FLUSH")||Un(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},K9e=e=>{let t=!1;return()=>n=>r=>{if(Un(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Un(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Un(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Y9e=e=>Un(e,"DROP_COMPLETE")||Un(e,"DROP_ANIMATE")||Un(e,"FLUSH");var X9e=e=>t=>n=>r=>{if(Y9e(r)){e.stop(),n(r);return}if(Un(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&ct(),e.start(i);return}n(r),e.scroll(t.getState())};const Q9e=e=>t=>n=>{if(t(n),!Un(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(qJ({reason:r.reason})))},J9e=fJ;var Z9e=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>hJ(c9e,J9e(XUe(_9e(n),q9e(e),R9e(e),I9e,W9e,$9e,Q9e,X9e(s),N9e,K9e(t),j9e(r,i))));const YA=()=>({additions:{},removals:{},modified:{}});function eje({registry:e,callbacks:t}){let n=YA(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:d}=n,f=Object.keys(l).map(y=>e.draggable.getById(y).getDimension(Mi)).sort((y,w)=>y.descriptor.index-w.descriptor.index),p=Object.keys(d).map(y=>{const C=e.droppable.getById(y).callbacks.getScrollWhileDragging();return{droppableId:y,scroll:C}}),m={additions:f,removals:Object.keys(c),modified:p};n=YA(),t.publish(m)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=YA())}}}var JJ=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Eo({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},ZJ=()=>{const e=document.documentElement;return e||ct(),e},eZ=()=>{const e=ZJ();return JJ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},tje=()=>{const e=QJ(),t=eZ(),n=e.y,r=e.x,i=ZJ(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:Na({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Mi,displacement:Mi}}}},nje=({critical:e,scrollOptions:t,registry:n})=>{const r=tje(),i=r.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(d=>d.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(i));return{dimensions:{draggables:AJ(a),droppables:_J(o)},critical:e,viewport:r}};function IG(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var rje=(e,t)=>{let n=null;const r=eje({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(p,m)=>{e.droppable.exists(p)||ct(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},s=(p,m)=>{n&&(e.droppable.exists(p)||ct(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},o=(p,m)=>{n&&(e.droppable.exists(p)||ct(),t.updateDroppableScroll({id:p,newScroll:m}))},a=(p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},c=p=>{n||ct();const m=n.critical.draggable;p.type==="ADDITION"&&IG(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&IG(e,m,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:p=>{n&&ct();const m=e.draggable.getById(p.draggableId),y=e.droppable.getById(m.descriptor.droppableId),w={draggable:m.descriptor,droppable:y.descriptor},C=e.subscribe(c);return n={critical:w,unsubscribe:C},nje({critical:w,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:l}},tZ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",ije=e=>{window.scrollBy(e.x,e.y)};const sje=Fi(e=>sT(e).filter(t=>!(!t.isEnabled||!t.frame))),oje=(e,t)=>sje(t).find(r=>(r.frame||ct(),BJ(r.frame.pageMarginBox)(e)))||null;var aje=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return oje(e,n)};const Jy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var lje=(e,t,n=()=>Jy)=>{const r=n(),i=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},nZ=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},JM=1,cje=(e,t,n=()=>Jy)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return JM;const s=1-nZ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},uje=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=t,a=s,c=Date.now()-o;if(c>=s)return e;if(c<i)return JM;const d=nZ({startOfRange:i,endOfRange:a,current:c}),f=e*r.ease(d);return Math.ceil(f)},MG=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=cje(e,t,i);return s===0?0:r?Math.max(uje(s,n,i),JM):s},OG=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=lje(e,r,s);return t[r.end]<t[r.start]?MG({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*MG({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},dje=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const hje=RJ(e=>e===0?0:e);var rZ=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=OG({container:t,distanceToEdges:o,dragStartTime:e,axis:jM,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=OG({container:t,distanceToEdges:o,dragStartTime:e,axis:kJ,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=hje({x:l,y:a});if(sd(c,Mi))return null;const d=dje({container:t,subject:n,proposedScroll:c});return d?sd(d,Mi)?null:d:null};const fje=RJ(e=>e===0?0:e>0?1:-1),ZM=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Xi(t,r),s={x:e(i.x,n.x),y:e(i.y,n.y)};return sd(s,Mi)?null:s}})(),iZ=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=fje(n),s=ZM({max:r,current:t,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},eO=(e,t)=>iZ({current:e.scroll.current,max:e.scroll.max,change:t}),pje=(e,t)=>{if(!eO(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return ZM({current:r,max:n,change:t})},tO=(e,t)=>{const n=e.frame;return n?iZ({current:n.scroll.current,max:n.scroll.max,change:t}):!1},gje=(e,t)=>{const n=e.frame;return!n||!tO(e,t)?null:ZM({current:n.scroll.current,max:n.scroll.max,change:t})};var mje=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=rZ({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&eO(e,o)?o:null},vje=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const a=rZ({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&tO(e,a)?a:null},LG=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,p=mje({dragStartTime:t,viewport:f,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(p){r(p);return}}const c=aje({center:o,destination:Do(e.impact),droppables:e.dimensions.droppables});if(!c)return;const d=vje({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});d&&i(c.descriptor.id,d)},yje=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Jy})=>{const r=qy(e),i=qy(t);let s=null;const o=c=>{s||ct();const{shouldUseTimeDampening:d,dragStartTime:f}=s;LG({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:c=>{s&&ct();const d=Date.now();let f=!1;const p=()=>{f=!0};LG({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),s={dragStartTime:d,shouldUseTimeDampening:f},f&&o(c)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},wje=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const c=Xi(a.current.client.selection,l);e({client:c})},i=(a,l)=>{if(!tO(a,l))return l;const c=gje(a,l);if(!c)return t(a.descriptor.id,l),null;const d=Eo(l,c);return t(a.descriptor.id,d),Eo(l,d)},s=(a,l,c)=>{if(!a||!eO(l,c))return c;const d=pje(l,c);if(!d)return n(c),null;const f=Eo(c,d);return n(f),Eo(c,f)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=Do(a.impact);c||ct();const d=i(a.dimensions.droppables[c],l);if(!d)return;const f=a.viewport,p=s(a.isWindowScrollAllowed,f,d);p&&r(a,p)}},Cje=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=yje({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=wje({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const Jg="data-rfd",Zg=(()=>{const e=`${Jg}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),xk=(()=>{const e=`${Jg}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),bje=(()=>{const e=`${Jg}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),NG={contextId:`${Jg}-scroll-container-context-id`},xje=e=>t=>`[${t}="${e}"]`,q0=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Sje="pointer-events: none;";var Eje=e=>{const t=xje(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Zg.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Sje,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${Uv.outOfTheWay};
    `;return{selector:t(xk.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(bje.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:q0(o,"always"),resting:q0(o,"resting"),dragging:q0(o,"dragging"),dropAnimating:q0(o,"dropAnimating"),userCancel:q0(o,"userCancel")}};const Po=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect,XA=()=>{const e=document.querySelector("head");return e||ct(),e},BG=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Tje(e,t){const n=Sn(()=>Eje(e),[e]),r=T.useRef(null),i=T.useRef(null),s=_t(Fi(f=>{const p=i.current;p||ct(),p.textContent=f}),[]),o=_t(f=>{const p=r.current;p||ct(),p.textContent=f},[]);Po(()=>{!r.current&&!i.current||ct();const f=BG(t),p=BG(t);return r.current=f,i.current=p,f.setAttribute(`${Jg}-always`,e),p.setAttribute(`${Jg}-dynamic`,e),XA().appendChild(f),XA().appendChild(p),o(n.always),s(n.resting),()=>{const m=y=>{const w=y.current;w||ct(),XA().removeChild(w),y.current=null};m(r),m(i)}},[t,o,s,n.always,n.resting,e]);const a=_t(()=>s(n.dragging),[s,n.dragging]),l=_t(f=>{if(f==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=_t(()=>{i.current&&s(n.resting)},[s,n.resting]);return Sn(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function sZ(e,t){return Array.from(e.querySelectorAll(t))}var oZ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function cT(e){return e instanceof oZ(e).HTMLElement}function Rje(e,t){const n=`[${Zg.contextId}="${e}"]`,r=sZ(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Zg.draggableId)===t);return!i||!cT(i)?null:i}function _je(e){const t=T.useRef({}),n=T.useRef(null),r=T.useRef(null),i=T.useRef(!1),s=_t(function(p,m){const y={id:p,focus:m};return t.current[p]=y,function(){const C=t.current;C[p]!==y&&delete C[p]}},[]),o=_t(function(p){const m=Rje(e,p);m&&m!==document.activeElement&&m.focus()},[e]),a=_t(function(p,m){n.current===p&&(n.current=m)},[]),l=_t(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&o(p)}))},[o]),c=_t(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(Zg.draggableId)===p&&(n.current=p)},[]);return Po(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),Sn(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function Aje(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(p=>p(f))}function i(f){return e.draggables[f]||null}function s(f){const p=i(f);return p||ct(),p}const o={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const p=f.descriptor.id,m=i(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:s,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(e.draggables).filter(p=>p.descriptor.type===f)};function a(f){return e.droppables[f]||null}function l(f){const p=a(f);return p||ct(),p}const c={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const p=a(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:l,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.droppables).filter(p=>p.descriptor.type===f)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:n,clean:d}}function Dje(){const e=Sn(Aje,[]);return T.useEffect(()=>function(){e.clean()},[e]),e}var nO=ue.createContext(null),M1=()=>{const e=document.body;return e||ct(),e};const Pje={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},kje=e=>`rfd-announcement-${e}`;function Fje(e){const t=Sn(()=>kje(e),[e]),n=T.useRef(null);return T.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),oy(s.style,Pje),M1().appendChild(s),function(){setTimeout(function(){const l=M1();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]),_t(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const Ije={separator:"::"};function rO(e,t=Ije){const n=ue.useId();return Sn(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Mje({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Oje({contextId:e,text:t}){const n=rO("hidden-text",{separator:"-"}),r=Sn(()=>Mje({contextId:e,uniqueId:n}),[n,e]);return T.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",M1().appendChild(s),function(){const a=M1();a.contains(s)&&a.removeChild(s)}},[r,t]),r}var uT=ue.createContext(null);function aZ(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),t}function Lje(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&ct();const a={abandon:o};return e=a,a}function i(){e||ct(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}function Zy(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Nje=9,Bje=13,iO=27,lZ=32,Vje=33,Hje=34,Gje=35,Uje=36,zje=37,jje=38,Wje=39,$je=40,qje={[Bje]:!0,[Nje]:!0};var cZ=e=>{qje[e.keyCode]&&e.preventDefault()};const dT=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),uZ=0,VG=5;function Kje(e,t){return Math.abs(t.x-e.x)>=VG||Math.abs(t.y-e.y)>=VG}const HG={type:"IDLE"};function Yje({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==uZ)return;const l={x:o,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&ct();const d=c.point;if(!Kje(d,l))return;i.preventDefault();const f=c.actions.fluidLift(l);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===iO){i.preventDefault(),e();return}cZ(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&ct(),s.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:dT,fn:e}]}function Xje(e){const t=T.useRef(HG),n=T.useRef(id),r=Sn(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==uZ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.tryGetLock(p,o,{sourceEvent:f});if(!m)return;f.preventDefault();const y={x:f.clientX,y:f.clientY};n.current(),c(m,y)}}),[e]),i=Sn(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}),[e]),s=_t(function(){const f={passive:!1,capture:!0};n.current=da(window,[i,r],f)},[i,r]),o=_t(()=>{t.current.type!=="IDLE"&&(t.current=HG,n.current(),s())},[s]),a=_t(()=>{const d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=_t(function(){const f={capture:!0,passive:!1},p=Yje({cancel:a,completed:o,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=da(window,p,f)},[a,o]),c=_t(function(f,p){t.current.type!=="IDLE"&&ct(),t.current={type:"PENDING",point:p,actions:f},l()},[l]);Po(function(){return s(),function(){n.current()}},[s])}function Qje(){}const Jje={[Hje]:!0,[Vje]:!0,[Uje]:!0,[Gje]:!0};function Zje(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===iO){i.preventDefault(),n();return}if(i.keyCode===lZ){i.preventDefault(),r();return}if(i.keyCode===$je){i.preventDefault(),e.moveDown();return}if(i.keyCode===jje){i.preventDefault(),e.moveUp();return}if(i.keyCode===Wje){i.preventDefault(),e.moveRight();return}if(i.keyCode===zje){i.preventDefault(),e.moveLeft();return}if(Jje[i.keyCode]){i.preventDefault();return}cZ(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:dT,fn:n}]}function eWe(e){const t=T.useRef(Qje),n=Sn(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==lZ)return;const o=e.findClosestDraggableId(s);if(!o)return;const a=e.tryGetLock(o,d,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const c=a.snapLift();t.current();function d(){l||ct(),l=!1,t.current(),r()}t.current=da(window,Zje(c,d),{capture:!0,passive:!1})}}),[e]),r=_t(function(){const s={passive:!1,capture:!0};t.current=da(window,[n],s)},[n]);Po(function(){return r(),function(){t.current()}},[r])}const QA={type:"IDLE"},tWe=120,nWe=.15;function rWe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===iO&&n.preventDefault(),e()}},{eventName:dT,fn:e}]}function iWe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&ct();const s=r.touches[0];if(!s||!(s.force>=nWe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:dT,fn:e}]}function sWe(e){const t=T.useRef(QA),n=T.useRef(id),r=_t(function(){return t.current},[]),i=_t(function(m){t.current=m},[]),s=Sn(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const y=e.findClosestDraggableId(m);if(!y)return;const w=e.tryGetLock(y,a,{sourceEvent:m});if(!w)return;const C=m.touches[0],{clientX:S,clientY:R}=C,E={x:S,y:R};n.current(),f(w,E)}}),[e]),o=_t(function(){const m={capture:!0,passive:!1};n.current=da(window,[s],m)},[s]),a=_t(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(QA),n.current(),o())},[o,i]),l=_t(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=_t(function(){const m={capture:!0,passive:!1},y={cancel:l,completed:a,getPhase:r},w=da(window,iWe(y),m),C=da(window,rWe(y),m);n.current=function(){w(),C()}},[l,r,a]),d=_t(function(){const m=r();m.type!=="PENDING"&&ct();const y=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:y,hasMoved:!1})},[r,i]),f=_t(function(m,y){r().type!=="IDLE"&&ct();const w=setTimeout(d,tWe);i({type:"PENDING",point:y,actions:m,longPressTimerId:w}),c()},[c,r,i,d]);Po(function(){return o(),function(){n.current();const y=r();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),i(QA))}},[r,o,i]),Po(function(){return da(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const oWe=["input","button","textarea","select","option","optgroup","video","audio"];function dZ(e,t){if(t==null)return!1;if(oWe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:dZ(e,t.parentElement)}function aWe(e,t){const n=t.target;return cT(n)?dZ(e,n):!1}var lWe=e=>Na(e.getBoundingClientRect()).center;function cWe(e){return e instanceof oZ(e).Element}const uWe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function hZ(e,t){return e==null?null:e[uWe](t)?e:hZ(e.parentElement,t)}function dWe(e,t){return e.closest?e.closest(t):hZ(e,t)}function hWe(e){return`[${Zg.contextId}="${e}"]`}function fWe(e,t){const n=t.target;if(!cWe(n))return null;const r=hWe(e),i=dWe(n,r);return!i||!cT(i)?null:i}function pWe(e,t){const n=fWe(e,t);return n?n.getAttribute(Zg.draggableId):null}function gWe(e,t){const n=`[${xk.contextId}="${e}"]`,i=sZ(document,n).find(s=>s.getAttribute(xk.id)===t);return!i||!cT(i)?null:i}function mWe(e){e.preventDefault()}function gx({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function fZ({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!tZ(t.getState(),r))}function vWe({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!fZ({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=gWe(t,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&aWe(c,o))return null;const d=e.claim(s||id);let f="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function m(){return e.isActive(d)}function y(M,A){gx({expected:M,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(A())}const w=y.bind(null,"DRAGGING");function C(M){function A(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(A(),ct()),n.dispatch(d9e(M.liftActionArgs)),f="DRAGGING";function D(k,I={shouldBlockNextClick:!1}){if(M.cleanup(),I.shouldBlockNextClick){const B=da(window,[{eventName:"click",fn:mWe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}A(),n.dispatch(qJ({reason:k}))}return{isActive:()=>gx({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:k=>D("DROP",k),cancel:k=>D("CANCEL",k),...M.actions}}function S(M){const A=qy(k=>{w(()=>$J({client:k}))});return{...C({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>A.cancel(),actions:{move:A}}),move:A}}function R(){const M={moveUp:()=>w(C9e),moveRight:()=>w(x9e),moveDown:()=>w(b9e),moveLeft:()=>w(S9e)};return C({liftActionArgs:{id:i,clientSelection:lWe(c),movementMode:"SNAP"},cleanup:id,actions:M})}function E(){gx({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>gx({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:S,snapLift:R,abort:E}}const yWe=[Xje,eWe,sWe];function wWe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?yWe:[],...r||[]],o=T.useState(()=>Lje())[0],a=_t(function(C,S){Zy(C)&&!Zy(S)&&o.tryAbandon()},[o]);Po(function(){let C=t.getState();return t.subscribe(()=>{const R=t.getState();a(C,R),C=R})},[o,t,a]),Po(()=>o.tryAbandon,[o.tryAbandon]);const l=_t(w=>fZ({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),c=_t((w,C,S)=>vWe({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:C||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[e,o,n,t]),d=_t(w=>pWe(e,w),[e]),f=_t(w=>{const C=n.draggable.findById(w);return C?C.options:null},[n.draggable]),p=_t(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(YM()))},[o,t]),m=_t(()=>o.isClaimed(),[o]),y=Sn(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[l,c,d,f,p,m]);for(let w=0;w<s.length;w++)s[w](y)}const CWe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};sm.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),bWe=e=>({...Jy,...e.autoScrollerOptions,durationDampening:{...Jy.durationDampening,...e.autoScrollerOptions}});function K0(e){return e.current||ct(),e.current}function xWe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=e,o=T.useRef(null),a=aZ(e),l=_t(()=>CWe(a.current),[a]),c=_t(()=>bWe(a.current),[a]),d=Fje(t),f=Oje({contextId:t,text:s}),p=Tje(t,i),m=_t(B=>{K0(o).dispatch(B)},[]),y=Sn(()=>hG({publishWhileDragging:f9e,updateDroppableScroll:g9e,updateDroppableIsEnabled:m9e,updateDroppableIsCombineEnabled:v9e,collectionStarting:p9e},m),[m]),w=Dje(),C=Sn(()=>rje(w,y),[w,y]),S=Sn(()=>Cje({scrollWindow:ije,scrollDroppable:C.scrollDroppable,getAutoScrollerOptions:c,...hG({move:$J},m)}),[C.scrollDroppable,m,c]),R=_je(t),E=Sn(()=>Z9e({announce:d,autoScroller:S,dimensionMarshal:C,focusMarshal:R,getResponders:l,styleMarshal:p}),[d,S,C,R,l,p]);o.current=E;const P=_t(()=>{const B=K0(o);B.getState().phase!=="IDLE"&&B.dispatch(YM())},[]),M=_t(()=>{const B=K0(o).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),A=Sn(()=>({isDragging:M,tryAbort:P}),[M,P]);n(A);const D=_t(B=>tZ(K0(o).getState(),B),[]),k=_t(()=>yh(K0(o).getState()),[]),I=Sn(()=>({marshal:C,focus:R,contextId:t,canLift:D,isMovementAllowed:k,dragHandleUsageInstructionsId:f,registry:w}),[t,C,f,R,D,k,w]);return wWe({contextId:t,store:E,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),T.useEffect(()=>P,[P]),ue.createElement(uT.Provider,{value:I},ue.createElement(q8e,{context:nO,store:E},e.children))}function SWe(){return ue.useId()}function EWe(e){const t=SWe(),n=e.dragHandleUsageInstructions||iS.dragHandleUsageInstructions;return ue.createElement(eze,null,r=>ue.createElement(xWe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const GG={dragging:5e3,dropAnimating:4500},TWe=(e,t)=>t?Uv.drop(t.duration):e?Uv.snap:Uv.fluid,RWe=(e,t)=>{if(e)return t?Qy.opacity.drop:Qy.opacity.combining},_We=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function AWe(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:s}=e,o=!!i,a=_We(e),l=!!s,c=l?Ck.drop(r,o):Ck.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:TWe(a,s),transform:c,opacity:RWe(o,l),zIndex:l?GG.dropAnimating:GG.dragging,pointerEvents:"none"}}function DWe(e){return{transform:Ck.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function PWe(e){return e.type==="DRAGGING"?AWe(e):DWe(e)}function kWe(e,t,n=Mi){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=CJ(i,r),o=P1(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:o}}function FWe(e){const t=rO("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=e,l=Sn(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),c=_t(m=>{const y=i();return y||ct(),kWe(n,y,m)},[n,i]),d=Sn(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),f=T.useRef(d),p=T.useRef(!0);Po(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),Po(()=>{if(p.current){p.current=!1;return}const m=f.current;f.current=d,r.draggable.update(d,m)},[d,r.draggable])}var sO=ue.createContext(null);function O1(e){const t=T.useContext(e);return t||ct(),t}function IWe(e){e.preventDefault()}const MWe=e=>{const t=T.useRef(null),n=_t((A=null)=>{t.current=A},[]),r=_t(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=O1(uT),{type:a,droppableId:l}=O1(sO),c=Sn(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:d,draggableId:f,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:y,isClone:w,mapped:C,dropAnimationFinished:S}=e;if(!w){const A=Sn(()=>({descriptor:c,registry:o,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:m,isEnabled:p}),[c,o,r,y,m,p]);FWe(A)}const R=Sn(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:IWe}:null,[i,s,f,p]),E=_t(A=>{C.type==="DRAGGING"&&C.dropping&&A.propertyName==="transform"&&sm.flushSync(S)},[S,C]),P=Sn(()=>{const A=PWe(C),D=C.type==="DRAGGING"&&C.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:A,onTransitionEnd:D},dragHandleProps:R}},[i,R,f,C,E,n]),M=Sn(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ue.createElement(ue.Fragment,null,d(P,C.snapshot,M))};var pZ=(e,t)=>e===t,gZ=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const OWe=e=>e.combine?e.combine.draggableId:null,LWe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function NWe(){const e=Fi((i,s)=>({x:i,y:s})),t=Fi((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=Fi((i,s,o,a,l=null,c=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:o,forceShouldAnimate:d,snapshot:t(s,a,l,c,null)}}));return(i,s)=>{if(Zy(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=Do(i.impact),c=LWe(i.impact),d=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,a,s.isClone,l,c,d)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],c=o.result,d=c.mode,f=gZ(c),p=OWe(c),y={duration:i.dropDuration,curve:QM.drop,moveTo:i.newHomeClientOffset,opacity:p?Qy.opacity.drop:null,scale:p?Qy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:y,draggingOver:f,combineWith:p,mode:d,forceShouldAnimate:null,snapshot:t(d,a,f,p,y)}}}return null}}function mZ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const BWe={mapped:{type:"SECONDARY",offset:Mi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:mZ(null)}};function VWe(){const e=Fi((o,a)=>({x:o,y:a})),t=Fi(mZ),n=Fi((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=o=>o?n(Mi,o,!0):null,i=(o,a,l,c)=>{const d=l.displaced.visible[o],f=!!(c.inVirtualList&&c.effected[o]),p=oT(l),m=p&&p.draggableId===o?a:null;if(!d){if(!f)return r(m);if(l.displaced.invisible[o])return null;const C=Tm(c.displacedBy.point),S=e(C.x,C.y);return n(S,m,!0)}if(f)return r(m);const y=l.displacedBy.point,w=e(y.x,y.y);return n(w,m,d.shouldAnimate)};return(o,a)=>{if(Zy(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const HWe=()=>{const e=NWe(),t=VWe();return(r,i)=>e(r,i)||t(r,i)||BWe},GWe={dropAnimationFinished:KJ},UWe=wJ(HWe,GWe,null,{context:nO,areStatePropsEqual:pZ})(MWe);function vZ(e){return O1(sO).isUsingCloneFor===e.draggableId&&!e.isClone?null:ue.createElement(UWe,e)}function UG(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ue.createElement(vZ,oy({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const yZ=e=>t=>e===t,zWe=yZ("scroll"),jWe=yZ("auto"),zG=(e,t)=>t(e.overflowX)||t(e.overflowY),WWe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return zG(n,zWe)||zG(n,jWe)},$We=()=>!1,wZ=e=>e==null?null:e===document.body?$We()?e:null:e===document.documentElement?null:WWe(e)?e:wZ(e.parentElement);var Sk=e=>({x:e.scrollLeft,y:e.scrollTop});const CZ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:CZ(e.parentElement):!1;var qWe=e=>{const t=wZ(e),n=CZ(e);return{closestScrollable:t,isFixedOnPage:n}},KWe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:p,client:m}=a,y=JJ({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:y,diff:{value:Mi,displacement:Mi}}}})(),c=i==="vertical"?jM:kJ,d=Qg({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:s,page:o,frame:l,subject:d}};const YWe=(e,t)=>{const n=bJ(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,o=i+t.scrollWidth,l=HM({top:r,right:o,bottom:s,left:i},n.border);return GM({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var XWe=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,c=YWe(e,l),d=P1(c,r),f=(()=>{if(!l)return null;const m=bJ(l),y={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:P1(m,r),scroll:Sk(l),scrollSize:y,shouldClipSubject:a}})();return KWe({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:d,closest:f})};const QWe={passive:!1},JWe={passive:!0};var jG=e=>e.shouldPublishImmediately?QWe:JWe;const mx=e=>e&&e.env.closestScrollable||null;function ZWe(e){const t=T.useRef(null),n=O1(uT),r=rO("droppable"),{registry:i,marshal:s}=n,o=aZ(e),a=Sn(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=T.useRef(a),c=Sn(()=>Fi((P,M)=>{t.current||ct();const A={x:P,y:M};s.updateDroppableScroll(a.id,A)}),[a.id,s]),d=_t(()=>{const P=t.current;return!P||!P.env.closestScrollable?Mi:Sk(P.env.closestScrollable)},[]),f=_t(()=>{const P=d();c(P.x,P.y)},[d,c]),p=Sn(()=>qy(f),[f]),m=_t(()=>{const P=t.current,M=mx(P);if(P&&M||ct(),P.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),y=_t((P,M)=>{t.current&&ct();const A=o.current,D=A.getDroppableRef();D||ct();const k=qWe(D),I={ref:D,descriptor:a,env:k,scrollOptions:M};t.current=I;const B=XWe({ref:D,descriptor:a,env:k,windowScroll:P,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),N=k.closestScrollable;return N&&(N.setAttribute(NG.contextId,n.contextId),N.addEventListener("scroll",m,jG(I.scrollOptions))),B},[n.contextId,a,m,o]),w=_t(()=>{const P=t.current,M=mx(P);return P&&M||ct(),Sk(M)},[]),C=_t(()=>{const P=t.current;P||ct();const M=mx(P);t.current=null,M&&(p.cancel(),M.removeAttribute(NG.contextId),M.removeEventListener("scroll",m,jG(P.scrollOptions)))},[m,p]),S=_t(P=>{const M=t.current;M||ct();const A=mx(M);A||ct(),A.scrollTop+=P.y,A.scrollLeft+=P.x},[]),R=Sn(()=>({getDimensionAndWatchScroll:y,getScrollWhileDragging:w,dragStopped:C,scroll:S}),[C,y,w,S]),E=Sn(()=>({uniqueId:r,descriptor:a,callbacks:R}),[R,a,r]);Po(()=>(l.current=E.descriptor,i.droppable.register(E),()=>{t.current&&C(),i.droppable.unregister(E)}),[R,a,C,E,s,i.droppable]),Po(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Po(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function JA(){}const WG={width:0,height:0,margin:aze},e7e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?WG:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},t7e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=e7e({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Uv.placeholder:null}},n7e=e=>{const t=T.useRef(null),n=_t(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=e,[a,l]=T.useState(e.animate==="open");T.useEffect(()=>a?r!=="open"?(n(),l(!1),JA):t.current?JA:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):JA,[r,a,n]);const c=_t(f=>{f.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),d=t7e({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return ue.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})};var r7e=ue.memo(n7e);class i7e extends ue.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const s7e=e=>{const t=T.useContext(uT);t||ct();const{contextId:n,isMovementAllowed:r}=t,i=T.useRef(null),s=T.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:d,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:m,snapshot:y,useClone:w,updateViewportMaxScroll:C,getContainerForClone:S}=e,R=_t(()=>i.current,[]),E=_t((N=null)=>{i.current=N},[]);_t(()=>s.current,[]);const P=_t((N=null)=>{s.current=N},[]),M=_t(()=>{r()&&C({maxScroll:eZ()})},[r,C]);ZWe({droppableId:a,type:l,mode:c,direction:d,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:R});const A=Sn(()=>ue.createElement(i7e,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:N,data:H,animate:G})=>ue.createElement(r7e,{placeholder:H,onClose:N,innerRef:P,animate:G,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,P]),D=Sn(()=>({innerRef:E,placeholder:A,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,A,E]),k=w?w.dragging.draggableId:null,I=Sn(()=>({droppableId:a,type:l,isUsingCloneFor:k}),[a,k,l]);function B(){if(!w)return null;const{dragging:N,render:H}=w,G=ue.createElement(vZ,{draggableId:N.draggableId,index:N.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,le)=>H(oe,le,N));return qu.createPortal(G,S())}return ue.createElement(sO.Provider,{value:I},o(D,y),B())};function o7e(){return document.body||ct(),document.body}const $G={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:o7e},bZ=e=>{let t={...e},n;for(n in $G)e[n]===void 0&&(t={...t,[n]:$G[n]});return t},ZA=(e,t)=>e===t.droppable.type,qG=(e,t)=>t.draggables[e.draggable.id],a7e=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Fi(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=Fi((s,o,a,l,c,d)=>{const f=c.descriptor.id;if(c.descriptor.droppableId===s){const y=d?{render:d,dragging:n(c.descriptor)}:null,w={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:y}}if(!o)return t;if(!l)return e;const m={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=bZ(o),l=a.droppableId,c=a.type,d=!a.isDropDisabled,f=a.renderClone;if(Zy(s)){const p=s.critical;if(!ZA(c,p))return t;const m=qG(p,s.dimensions),y=Do(s.impact)===l;return r(l,d,y,y,m,f)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!ZA(c,p.critical))return t;const m=qG(p.critical,s.dimensions);return r(l,d,gZ(p.result)===l,Do(p.impact)===l,m,f)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!ZA(c,p.critical))return t;const m=Do(p.impact)===l,y=!!(p.impact.at&&p.impact.at.type==="COMBINE"),w=p.critical.droppable.id===l;return m?y?e:t:w?e:t}return t}},l7e={updateViewportMaxScroll:w9e},KG=wJ(a7e,l7e,(e,t,n)=>({...bZ(n),...e,...t}),{context:nO,areStatePropsEqual:pZ})(s7e),c7e=jw((e,t)=>({groups:[],availableStudents:[],allStudents:[],setGroups:n=>e({groups:n}),setAvailableStudents:n=>e({availableStudents:n}),setAllStudents:n=>e({allStudents:n}),addGroup:n=>e(r=>({groups:[...r.groups,n]})),updateGroup:(n,r)=>e(i=>({groups:i.groups.map(s=>s.id===n?{...s,...r}:s)})),removeGroup:n=>e(r=>{const i=r.groups.find(s=>s.id===n);if(i){const s=r.availableStudents.filter(o=>i.studentIds.includes(o.id));return{groups:r.groups.filter(o=>o.id!==n),availableStudents:[...r.availableStudents,...s]}}return r}),moveStudentToGroup:(n,r,i)=>e(s=>{let o=[...s.groups],a=[...s.availableStudents];if(r?o=o.map(l=>l.id===r?{...l,studentIds:l.studentIds.filter(c=>c!==n)}:l):a=a.filter(l=>l.id!==n),i)o=o.map(l=>l.id===i?{...l,studentIds:[...l.studentIds,n]}:l);else{const l=t().allStudents.find(c=>c.id===n);l&&(a=[...a,l])}return{groups:o,availableStudents:a}}),getStudentById:n=>t().allStudents.find(i=>i.id===n)})),Hi=[];for(let e=0;e<256;++e)Hi.push((e+256).toString(16).slice(1));function u7e(e,t=0){return(Hi[e[t+0]]+Hi[e[t+1]]+Hi[e[t+2]]+Hi[e[t+3]]+"-"+Hi[e[t+4]]+Hi[e[t+5]]+"-"+Hi[e[t+6]]+Hi[e[t+7]]+"-"+Hi[e[t+8]]+Hi[e[t+9]]+"-"+Hi[e[t+10]]+Hi[e[t+11]]+Hi[e[t+12]]+Hi[e[t+13]]+Hi[e[t+14]]+Hi[e[t+15]]).toLowerCase()}let eD;const d7e=new Uint8Array(16);function h7e(){if(!eD){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");eD=crypto.getRandomValues.bind(crypto)}return eD(d7e)}const f7e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),YG={randomUUID:f7e};function $u(e,t,n){if(YG.randomUUID&&!e)return YG.randomUUID();e=e||{};const r=e.random??e.rng?.()??h7e();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,u7e(r)}const hT="groups",p7e=async e=>{const t=$u(),n={id:t,name:e.name,studentIds:[],createdAt:new Date,teacherId:e.teacherId};return await f$(zl(Qs,hT,t),n),n},g7e=async e=>{const t=PE(gm(Qs,hT),YI("teacherId","==",e));return(await h$(t)).docs.map(i=>i.data()).sort((i,s)=>new Date(s.createdAt).getTime()-new Date(i.createdAt).getTime())},vx=async(e,t)=>{await wP(zl(Qs,hT,e),t)},m7e=async e=>{await p$(zl(Qs,hT,e))},xZ=(e=768)=>{const[t,n]=T.useState(!1);return T.useEffect(()=>{const r=window.matchMedia(`(max-width: ${e}px)`),i=s=>{n(s.matches)};return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t},v7e=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onDragEnd:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>F.jsx(EWe,{onDragEnd:i,children:F.jsxs(Ig,{children:[F.jsx(Al,{lg:3,className:"mb-4",children:F.jsxs(rr,{className:"h-100",children:[F.jsxs(rr.Header,{className:"bg-light",children:[F.jsxs("div",{className:"d-flex align-items-center mb-2",children:[F.jsx(XF,{size:18,className:"me-2 text-muted"}),F.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),F.jsx(kn.Group,{className:"mb-2",children:F.jsxs("div",{className:"position-relative",children:[F.jsx(kn.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),F.jsx(YF,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})}),F.jsx("small",{className:"text-muted",children:o.trim()?`${t.length} de ${t.length+e.flatMap(l=>l.studentIds).length} estudiantes`:`${t.length} estudiantes`})]}),F.jsx(rr.Body,{style:{minHeight:"500px"},children:F.jsx(KG,{droppableId:"available",children:(l,c)=>F.jsxs("div",{ref:l.innerRef,...l.droppableProps,className:`p-2 rounded ${c.isDraggingOver?"bg-light":""}`,style:{minHeight:"100px"},children:[t.length===0?F.jsxs("div",{className:"text-center text-muted py-4",children:[F.jsx(kc,{size:32,className:"mb-2 opacity-50"}),F.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):t.map((d,f)=>F.jsx(UG,{draggableId:d.id,index:f,children:(p,m)=>F.jsxs("div",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${m.isDragging?"shadow":""}`,style:{...p.draggableProps.style,cursor:"grab"},children:[F.jsx("div",{className:"fw-medium",children:d.name}),F.jsx("small",{className:"text-muted",children:d.email})]})},d.id)),l.placeholder]})})})]})}),F.jsx(Al,{lg:9,children:e.length===0?F.jsxs(yS,{variant:"info",className:"text-center py-5",children:[F.jsx(kc,{size:48,className:"mb-3 opacity-50"}),F.jsx("h5",{children:"No hay grupos creados"}),F.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),F.jsxs(Tr,{variant:"primary",onClick:r,children:[F.jsx(Aw,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):F.jsx(Ig,{children:e.map(l=>F.jsx(Al,{md:6,lg:4,className:"mb-4",children:F.jsxs(rr,{className:"h-100",children:[F.jsxs(rr.Header,{className:"d-flex justify-content-between align-items-center",children:[F.jsxs("div",{children:[F.jsx("h6",{className:"mb-0",children:l.name}),F.jsxs("small",{className:"text-muted",children:[l.studentIds.length," estudiante",l.studentIds.length!==1?"s":""]})]}),F.jsx(Tr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:F.jsx(aE,{size:14})})]}),F.jsx(rr.Body,{style:{minHeight:"300px"},children:F.jsx(KG,{droppableId:l.id,children:(c,d)=>F.jsxs("div",{ref:c.innerRef,...c.droppableProps,className:`p-2 rounded ${d.isDraggingOver?"bg-light":""}`,style:{minHeight:"200px"},children:[l.studentIds.length===0?F.jsxs("div",{className:"text-center text-muted py-4",children:[F.jsx(kc,{size:24,className:"mb-2 opacity-50"}),F.jsx("p",{className:"mb-0 small",children:"Arrastra estudiantes aqu"})]}):l.studentIds.map((f,p)=>{const m=s(f);return m?F.jsx(UG,{draggableId:f,index:p,children:(y,w)=>F.jsxs("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${w.isDragging?"shadow":""}`,style:{...y.draggableProps.style,cursor:"grab"},children:[F.jsx("div",{className:"fw-medium",children:m.name}),F.jsx("small",{className:"text-muted",children:m.email})]})},f):null}),c.placeholder]})})})]})},l.id))})})]})}),y7e=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onSelectStudent:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>F.jsxs("div",{children:[F.jsxs(rr,{className:"mb-4",children:[F.jsxs(rr.Header,{className:"bg-light",children:[F.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[F.jsxs("div",{className:"d-flex align-items-center",children:[F.jsx(XF,{size:18,className:"me-2 text-muted"}),F.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),F.jsx(WD,{bg:"secondary",className:"badge-count",children:t.length})]}),F.jsx(kn.Group,{children:F.jsxs("div",{className:"position-relative",children:[F.jsx(kn.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),F.jsx(YF,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})})]}),F.jsx(rr.Body,{className:"p-2",children:t.length===0?F.jsxs("div",{className:"text-center text-muted py-4",children:[F.jsx(kc,{size:32,className:"mb-2 opacity-50"}),F.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):F.jsx(Ia,{variant:"flush",children:t.map(l=>F.jsxs(Ia.Item,{action:!0,onClick:()=>i(l),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[F.jsxs("div",{children:[F.jsx("div",{className:"fw-medium",children:l.name}),F.jsx("small",{className:"text-muted",children:l.email})]}),F.jsx(XV,{size:16,className:"text-muted"})]},l.id))})})]}),e.length===0?F.jsxs(yS,{variant:"info",className:"text-center py-5",children:[F.jsx(kc,{size:48,className:"mb-3 opacity-50"}),F.jsx("h5",{children:"No hay grupos creados"}),F.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),F.jsxs(Tr,{variant:"primary",onClick:r,children:[F.jsx(Aw,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):e.map(l=>F.jsxs(rr,{className:"mb-3",children:[F.jsxs(rr.Header,{className:"d-flex justify-content-between align-items-center",children:[F.jsxs("div",{className:"d-flex align-items-center",children:[F.jsx("h6",{className:"mb-0 me-2",children:l.name}),F.jsx(WD,{bg:"primary",className:"badge-count",children:l.studentIds.length})]}),F.jsx(Tr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:F.jsx(aE,{size:14})})]}),F.jsx(rr.Body,{className:"p-2",children:l.studentIds.length===0?F.jsxs("div",{className:"text-center text-muted py-3",children:[F.jsx(kc,{size:24,className:"mb-2 opacity-50"}),F.jsx("p",{className:"mb-0 small",children:"No hay estudiantes asignados"})]}):F.jsx(Ia,{variant:"flush",children:l.studentIds.map(c=>{const d=s(c);return d?F.jsxs(Ia.Item,{action:!0,onClick:()=>i(d,l.id),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[F.jsxs("div",{children:[F.jsx("div",{className:"fw-medium",children:d.name}),F.jsx("small",{className:"text-muted",children:d.email})]}),F.jsx(XV,{size:16,className:"text-muted"})]},c):null})})})]},l.id))]}),w7e=()=>{const{user:e}=Xl(),{groups:t,availableStudents:n,setGroups:r,setAvailableStudents:i,setAllStudents:s,addGroup:o,removeGroup:a,moveStudentToGroup:l,getStudentById:c}=c7e(),d=xZ(),[f,p]=T.useState(!0),[m,y]=T.useState(!1),[w,C]=T.useState(""),[S,R]=T.useState(!1),[E,P]=T.useState(!1),[M,A]=T.useState(null),[D,k]=T.useState(),[I,B]=T.useState(""),H=(ne=>{let L=ne;if(I.trim()){const ae=I.toLowerCase().trim();L=ne.filter(W=>W.name.toLowerCase().includes(ae)||W.email.toLowerCase().includes(ae))}return L.sort((ae,W)=>ae.name.localeCompare(W.name))})(n);T.useEffect(()=>{(async()=>{if(e?.id)try{p(!0);const[L,ae]=await Promise.all([g7e(e.id),O$()]),W=L.flatMap(X=>X.studentIds),V=ae.filter(X=>!W.includes(X.id));r(L),s(ae),i(V)}catch(L){console.error("Error loading data:",L)}finally{p(!1)}})()},[e?.id,r,i,s]);const G=async()=>{if(!(!w.trim()||!e?.id))try{R(!0);const ne=await p7e({name:w.trim(),teacherId:e.id});o(ne),C(""),y(!1)}catch(ne){console.error("Error creating group:",ne)}finally{R(!1)}},oe=async ne=>{try{await m7e(ne),a(ne)}catch(L){console.error("Error deleting group:",L)}},le=async ne=>{const{destination:L,source:ae,draggableId:W}=ne;if(!L||L.droppableId===ae.droppableId&&L.index===ae.index)return;const V=ae.droppableId==="available"?null:ae.droppableId,X=L.droppableId==="available"?null:L.droppableId;await fe(W,V,X)},Z=(ne,L)=>{A(ne),k(L),P(!0)},se=async ne=>{M&&(await fe(M.id,D||null,ne),P(!1),A(null),k(void 0))},fe=async(ne,L,ae)=>{l(ne,L,ae);try{if(L&&ae){const W=t.find(X=>X.id===L),V=t.find(X=>X.id===ae);W&&V&&(await vx(L,{studentIds:W.studentIds.filter(X=>X!==ne)}),await vx(ae,{studentIds:[...V.studentIds,ne]}))}else if(L&&!ae){const W=t.find(V=>V.id===L);W&&await vx(L,{studentIds:W.studentIds.filter(V=>V!==ne)})}else if(!L&&ae){const W=t.find(V=>V.id===ae);W&&await vx(ae,{studentIds:[...W.studentIds,ne]})}}catch(W){console.error("Error updating groups:",W)}};return f?F.jsx(ly,{fluid:!0,className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:F.jsx(wa,{animation:"border",variant:"primary"})}):F.jsxs(ly,{fluid:!0,children:[F.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[F.jsxs("div",{children:[F.jsx("h2",{className:"mb-1",children:"Gestin de Grupos"}),F.jsx("p",{className:"text-muted mb-0",children:d?"Toca un estudiante para moverlo":"Arrastra estudiantes para asignarlos a grupos"})]}),F.jsxs(Tr,{variant:"primary",onClick:()=>y(!0),className:"d-flex align-items-center",children:[F.jsx(Aw,{size:16,className:"me-2"}),"Crear Grupo"]})]}),d?F.jsx(y7e,{groups:t,availableStudents:H,onDeleteGroup:oe,onShowCreateModal:()=>y(!0),onSelectStudent:Z,getStudentById:c,searchTerm:I,onSearchChange:B}):F.jsx(v7e,{groups:t,availableStudents:H,onDeleteGroup:oe,onShowCreateModal:()=>y(!0),onDragEnd:le,getStudentById:c,searchTerm:I,onSearchChange:B}),F.jsxs(wr,{show:m,onHide:()=>y(!1),children:[F.jsx(wr.Header,{closeButton:!0,children:F.jsx(wr.Title,{children:"Crear Nuevo Grupo"})}),F.jsx(wr.Body,{children:F.jsxs(kn.Group,{children:[F.jsx(kn.Label,{children:"Nombre del Grupo"}),F.jsx(kn.Control,{type:"text",placeholder:"Ej: Grupo A, Equipo 1, etc.",value:w,onChange:ne=>C(ne.target.value),autoFocus:!0})]})}),F.jsxs(wr.Footer,{children:[F.jsx(Tr,{variant:"secondary",onClick:()=>y(!1),children:"Cancelar"}),F.jsx(Tr,{variant:"primary",onClick:G,disabled:!w.trim()||S,children:S?F.jsxs(F.Fragment,{children:[F.jsx(wa,{size:"sm",className:"me-2"}),"Creando..."]}):"Crear Grupo"})]})]}),F.jsxs(wr,{show:E,onHide:()=>P(!1),children:[F.jsx(wr.Header,{closeButton:!0,children:F.jsxs(wr.Title,{children:["Mover a ",M?.name]})}),F.jsxs(wr.Body,{children:[F.jsxs("p",{className:"text-muted mb-3",children:["Selecciona el destino para ",M?.name,":"]}),F.jsxs(Ia,{children:[D&&F.jsxs(Ia.Item,{action:!0,onClick:()=>se(null),className:"d-flex align-items-center",children:[F.jsx(XF,{size:18,className:"me-3 text-muted"}),F.jsxs("div",{children:[F.jsx("div",{className:"fw-medium",children:"Estudiantes Disponibles"}),F.jsx("small",{className:"text-muted",children:"Quitar del grupo actual"})]})]}),t.filter(ne=>ne.id!==D).map(ne=>F.jsxs(Ia.Item,{action:!0,onClick:()=>se(ne.id),className:"d-flex align-items-center",children:[F.jsx(kc,{size:18,className:"me-3 text-primary"}),F.jsxs("div",{children:[F.jsx("div",{className:"fw-medium",children:ne.name}),F.jsxs("small",{className:"text-muted",children:[ne.studentIds.length," estudiante",ne.studentIds.length!==1?"s":""]})]})]},ne.id))]})]})]})]})},Cc=({children:e,allowedRoles:t})=>{const{user:n}=Xl(),r=Yl();return n?t.includes(n.role)?F.jsx(F.Fragment,{children:e}):F.jsx(rg,{to:"/dashboard/mapa",replace:!0}):F.jsx(rg,{to:"/login",state:{from:r},replace:!0})},C7e=({children:e})=>{const{user:t}=Xl(),r=Yl().state?.from?.pathname||"/";return t?F.jsx(rg,{to:r,replace:!0}):F.jsx(F.Fragment,{children:e})},b7e={BASE_URL:"/TutorIngles/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLOUD_FUNCTIONS_BASE_URL:"https://us-central1-tutordecolonial.cloudfunctions.net"},x7e=e=>b7e[e],Am=x7e("VITE_CLOUD_FUNCTIONS_BASE_URL"),zv=e=>e?e instanceof Date?e:e._seconds!==void 0?new Date(e._seconds*1e3):typeof e=="string"?new Date(e):typeof e=="number"?new Date(e):new Date:new Date,XG=async e=>(await fetch(`${Am}/classifyTask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})})).text(),S7e=async(e,t,n)=>{const r=await fetch(`${Am}/createChat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,title:t||"Nueva conversacin",mode:n||"DEFAULT"})});if(!r.ok)throw new Error("Error al crear chat");return r.json()},E7e=async e=>{const t=await fetch(`${Am}/listChats`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok)throw new Error("Error al listar chats");return(await t.json()).chats.map(r=>({...r,createdAt:zv(r.createdAt),updatedAt:zv(r.updatedAt)}))},QG=async(e,t,n,r)=>{const i=await fetch(`${Am}/generateText`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,mode:t,chatId:n,userId:r})});if(!i.ok)throw new Error("Network response was not ok");return i.json()},T7e=async(e,t)=>{const n=await fetch(`${Am}/getChatHistory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})});if(!n.ok)throw new Error("Error al obtener historial");const r=await n.json();return{chat:{...r.chat,createdAt:zv(r.chat.createdAt),updatedAt:zv(r.chat.updatedAt)},messages:r.messages.map(i=>({...i,timestamp:zv(i.timestamp)}))}},R7e=async(e,t)=>{const n=await fetch(`${Am}/deleteChat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})});if(!n.ok)throw new Error("Error al eliminar chat");return n.json()};function _7e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const A7e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,D7e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,P7e={};function JG(e,t){return(P7e.jsx?D7e:A7e).test(e)}const k7e=/[ \t\n\f\r]/g;function F7e(e){return typeof e=="object"?e.type==="text"?ZG(e.value):!1:ZG(e)}function ZG(e){return e.replace(k7e,"")===""}class cC{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}cC.prototype.normal={};cC.prototype.property={};cC.prototype.space=void 0;function SZ(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new cC(n,r,t)}function Ek(e){return e.toLowerCase()}class eo{constructor(t,n){this.attribute=n,this.property=t}}eo.prototype.attribute="";eo.prototype.booleanish=!1;eo.prototype.boolean=!1;eo.prototype.commaOrSpaceSeparated=!1;eo.prototype.commaSeparated=!1;eo.prototype.defined=!1;eo.prototype.mustUseProperty=!1;eo.prototype.number=!1;eo.prototype.overloadedBoolean=!1;eo.prototype.property="";eo.prototype.spaceSeparated=!1;eo.prototype.space=void 0;let I7e=0;const en=zf(),si=zf(),Tk=zf(),rt=zf(),sr=zf(),Sg=zf(),ho=zf();function zf(){return 2**++I7e}const Rk=Object.freeze(Object.defineProperty({__proto__:null,boolean:en,booleanish:si,commaOrSpaceSeparated:ho,commaSeparated:Sg,number:rt,overloadedBoolean:Tk,spaceSeparated:sr},Symbol.toStringTag,{value:"Module"})),tD=Object.keys(Rk);class oO extends eo{constructor(t,n,r,i){let s=-1;if(super(t,n),eU(this,"space",i),typeof r=="number")for(;++s<tD.length;){const o=tD[s];eU(this,tD[s],(r&Rk[o])===Rk[o])}}}oO.prototype.defined=!0;function eU(e,t,n){n&&(e[t]=n)}function Dm(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new oO(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Ek(r)]=r,n[Ek(s.attribute)]=r}return new cC(t,n,e.space)}const EZ=Dm({properties:{ariaActiveDescendant:null,ariaAtomic:si,ariaAutoComplete:null,ariaBusy:si,ariaChecked:si,ariaColCount:rt,ariaColIndex:rt,ariaColSpan:rt,ariaControls:sr,ariaCurrent:null,ariaDescribedBy:sr,ariaDetails:null,ariaDisabled:si,ariaDropEffect:sr,ariaErrorMessage:null,ariaExpanded:si,ariaFlowTo:sr,ariaGrabbed:si,ariaHasPopup:null,ariaHidden:si,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:sr,ariaLevel:rt,ariaLive:null,ariaModal:si,ariaMultiLine:si,ariaMultiSelectable:si,ariaOrientation:null,ariaOwns:sr,ariaPlaceholder:null,ariaPosInSet:rt,ariaPressed:si,ariaReadOnly:si,ariaRelevant:null,ariaRequired:si,ariaRoleDescription:sr,ariaRowCount:rt,ariaRowIndex:rt,ariaRowSpan:rt,ariaSelected:si,ariaSetSize:rt,ariaSort:null,ariaValueMax:rt,ariaValueMin:rt,ariaValueNow:rt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function TZ(e,t){return t in e?e[t]:t}function RZ(e,t){return TZ(e,t.toLowerCase())}const M7e=Dm({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Sg,acceptCharset:sr,accessKey:sr,action:null,allow:null,allowFullScreen:en,allowPaymentRequest:en,allowUserMedia:en,alt:null,as:null,async:en,autoCapitalize:null,autoComplete:sr,autoFocus:en,autoPlay:en,blocking:sr,capture:null,charSet:null,checked:en,cite:null,className:sr,cols:rt,colSpan:null,content:null,contentEditable:si,controls:en,controlsList:sr,coords:rt|Sg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:en,defer:en,dir:null,dirName:null,disabled:en,download:Tk,draggable:si,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:en,formTarget:null,headers:sr,height:rt,hidden:Tk,high:rt,href:null,hrefLang:null,htmlFor:sr,httpEquiv:sr,id:null,imageSizes:null,imageSrcSet:null,inert:en,inputMode:null,integrity:null,is:null,isMap:en,itemId:null,itemProp:sr,itemRef:sr,itemScope:en,itemType:sr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:en,low:rt,manifest:null,max:null,maxLength:rt,media:null,method:null,min:null,minLength:rt,multiple:en,muted:en,name:null,nonce:null,noModule:en,noValidate:en,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:en,optimum:rt,pattern:null,ping:sr,placeholder:null,playsInline:en,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:en,referrerPolicy:null,rel:sr,required:en,reversed:en,rows:rt,rowSpan:rt,sandbox:sr,scope:null,scoped:en,seamless:en,selected:en,shadowRootClonable:en,shadowRootDelegatesFocus:en,shadowRootMode:null,shape:null,size:rt,sizes:null,slot:null,span:rt,spellCheck:si,src:null,srcDoc:null,srcLang:null,srcSet:null,start:rt,step:null,style:null,tabIndex:rt,target:null,title:null,translate:null,type:null,typeMustMatch:en,useMap:null,value:si,width:rt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:sr,axis:null,background:null,bgColor:null,border:rt,borderColor:null,bottomMargin:rt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:en,declare:en,event:null,face:null,frame:null,frameBorder:null,hSpace:rt,leftMargin:rt,link:null,longDesc:null,lowSrc:null,marginHeight:rt,marginWidth:rt,noResize:en,noHref:en,noShade:en,noWrap:en,object:null,profile:null,prompt:null,rev:null,rightMargin:rt,rules:null,scheme:null,scrolling:si,standby:null,summary:null,text:null,topMargin:rt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:rt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:en,disableRemotePlayback:en,prefix:null,property:null,results:rt,security:null,unselectable:null},space:"html",transform:RZ}),O7e=Dm({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ho,accentHeight:rt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:rt,amplitude:rt,arabicForm:null,ascent:rt,attributeName:null,attributeType:null,azimuth:rt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:rt,by:null,calcMode:null,capHeight:rt,className:sr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:rt,diffuseConstant:rt,direction:null,display:null,dur:null,divisor:rt,dominantBaseline:null,download:en,dx:null,dy:null,edgeMode:null,editable:null,elevation:rt,enableBackground:null,end:null,event:null,exponent:rt,externalResourcesRequired:null,fill:null,fillOpacity:rt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Sg,g2:Sg,glyphName:Sg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:rt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:rt,horizOriginX:rt,horizOriginY:rt,id:null,ideographic:rt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:rt,k:rt,k1:rt,k2:rt,k3:rt,k4:rt,kernelMatrix:ho,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:rt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:rt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:rt,overlineThickness:rt,paintOrder:null,panose1:null,path:null,pathLength:rt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:sr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:rt,pointsAtY:rt,pointsAtZ:rt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ho,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ho,rev:ho,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ho,requiredFeatures:ho,requiredFonts:ho,requiredFormats:ho,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:rt,specularExponent:rt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:rt,strikethroughThickness:rt,string:null,stroke:null,strokeDashArray:ho,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:rt,strokeOpacity:rt,strokeWidth:null,style:null,surfaceScale:rt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ho,tabIndex:rt,tableValues:null,target:null,targetX:rt,targetY:rt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ho,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:rt,underlineThickness:rt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:rt,values:null,vAlphabetic:rt,vMathematical:rt,vectorEffect:null,vHanging:rt,vIdeographic:rt,version:null,vertAdvY:rt,vertOriginX:rt,vertOriginY:rt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:rt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:TZ}),_Z=Dm({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),AZ=Dm({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:RZ}),DZ=Dm({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),L7e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},N7e=/[A-Z]/g,tU=/-[a-z]/g,B7e=/^data[-\w.:]+$/i;function V7e(e,t){const n=Ek(t);let r=t,i=eo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&B7e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(tU,G7e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!tU.test(s)){let o=s.replace(N7e,H7e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=oO}return new i(r,t)}function H7e(e){return"-"+e.toLowerCase()}function G7e(e){return e.charAt(1).toUpperCase()}const U7e=SZ([EZ,M7e,_Z,AZ,DZ],"html"),aO=SZ([EZ,O7e,_Z,AZ,DZ],"svg");function z7e(e){return e.join(" ").trim()}var Lp={},nD,nU;function j7e(){if(nU)return nD;nU=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",d="*",f="",p="comment",m="declaration";nD=function(w,C){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];C=C||{};var S=1,R=1;function E(G){var oe=G.match(t);oe&&(S+=oe.length);var le=G.lastIndexOf(l);R=~le?G.length-le:R+G.length}function P(){var G={line:S,column:R};return function(oe){return oe.position=new M(G),k(),oe}}function M(G){this.start=G,this.end={line:S,column:R},this.source=C.source}M.prototype.content=w;function A(G){var oe=new Error(C.source+":"+S+":"+R+": "+G);if(oe.reason=G,oe.filename=C.source,oe.line=S,oe.column=R,oe.source=w,!C.silent)throw oe}function D(G){var oe=G.exec(w);if(oe){var le=oe[0];return E(le),w=w.slice(le.length),oe}}function k(){D(n)}function I(G){var oe;for(G=G||[];oe=B();)oe!==!1&&G.push(oe);return G}function B(){var G=P();if(!(c!=w.charAt(0)||d!=w.charAt(1))){for(var oe=2;f!=w.charAt(oe)&&(d!=w.charAt(oe)||c!=w.charAt(oe+1));)++oe;if(oe+=2,f===w.charAt(oe-1))return A("End of comment missing");var le=w.slice(2,oe-2);return R+=2,E(le),w=w.slice(oe),R+=2,G({type:p,comment:le})}}function N(){var G=P(),oe=D(r);if(oe){if(B(),!D(i))return A("property missing ':'");var le=D(s),Z=G({type:m,property:y(oe[0].replace(e,f)),value:le?y(le[0].replace(e,f)):f});return D(o),Z}}function H(){var G=[];I(G);for(var oe;oe=N();)oe!==!1&&(G.push(oe),I(G));return G}return k(),H()};function y(w){return w?w.replace(a,f):f}return nD}var rU;function W7e(){if(rU)return Lp;rU=1;var e=Lp&&Lp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.default=n;var t=e(j7e());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,d=l.value;a?i(c,d,l):d&&(s=s||{},s[c]=d)}}),s}return Lp}var Y0={},iU;function $7e(){if(iU)return Y0;iU=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,d){return d.toUpperCase()},a=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return Y0.camelCase=l,Y0}var X0,sU;function q7e(){if(sU)return X0;sU=1;var e=X0&&X0.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(W7e()),n=$7e();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,X0=r,X0}var K7e=q7e();const Y7e=rm(K7e),PZ=kZ("end"),lO=kZ("start");function kZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function X7e(e){const t=lO(e),n=PZ(e);if(t&&n)return{start:t,end:n}}function jv(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?oU(e.position):"start"in e||"end"in e?oU(e):"line"in e||"column"in e?_k(e):""}function _k(e){return aU(e&&e.line)+":"+aU(e&&e.column)}function oU(e){return _k(e&&e.start)+"-"+_k(e&&e.end)}function aU(e){return e&&typeof e=="number"?e:1}class vs extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=jv(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}vs.prototype.file="";vs.prototype.name="";vs.prototype.reason="";vs.prototype.message="";vs.prototype.stack="";vs.prototype.column=void 0;vs.prototype.line=void 0;vs.prototype.ancestors=void 0;vs.prototype.cause=void 0;vs.prototype.fatal=void 0;vs.prototype.place=void 0;vs.prototype.ruleId=void 0;vs.prototype.source=void 0;const cO={}.hasOwnProperty,Q7e=new Map,J7e=/[A-Z]/g,Z7e=new Set(["table","tbody","thead","tfoot","tr"]),e$e=new Set(["td","th"]),FZ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function t$e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=c$e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=l$e(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?aO:U7e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=IZ(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function IZ(e,t,n){if(t.type==="element")return n$e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return r$e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return s$e(e,t,n);if(t.type==="mdxjsEsm")return i$e(e,t);if(t.type==="root")return o$e(e,t,n);if(t.type==="text")return a$e(e,t)}function n$e(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=aO,e.schema=i),e.ancestors.push(t);const s=OZ(e,t.tagName,!1),o=u$e(e,t);let a=dO(e,t);return Z7e.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!F7e(l):!0})),MZ(e,o,s,t),uO(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function r$e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ew(e,t.position)}function i$e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ew(e,t.position)}function s$e(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=aO,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:OZ(e,t.name,!0),o=d$e(e,t),a=dO(e,t);return MZ(e,o,s,t),uO(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function o$e(e,t,n){const r={};return uO(r,dO(e,t)),e.create(t,e.Fragment,r,n)}function a$e(e,t){return t.value}function MZ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function uO(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function l$e(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function c$e(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=lO(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function u$e(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&cO.call(t.properties,i)){const s=h$e(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&e$e.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function d$e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else ew(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else ew(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function dO(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Q7e;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=IZ(e,s,o);a!==void 0&&n.push(a)}return n}function h$e(e,t,n){const r=V7e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?_7e(n):z7e(n)),r.property==="style"){let i=typeof n=="object"?n:f$e(e,String(n));return e.stylePropertyNameCase==="css"&&(i=p$e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?L7e[r.property]||r.property:r.attribute,n]}}function f$e(e,t){try{return Y7e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new vs("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=FZ+"#cannot-parse-style-attribute",i}}function OZ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=JG(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=JG(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return cO.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ew(e)}function ew(e,t){const n=new vs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=FZ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function p$e(e){const t={};let n;for(n in e)cO.call(e,n)&&(t[g$e(n)]=e[n]);return t}function g$e(e){let t=e.replace(J7e,m$e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function m$e(e){return"-"+e.toLowerCase()}const rD={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},v$e={};function y$e(e,t){const n=v$e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return LZ(e,r,i)}function LZ(e,t,n){if(w$e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return lU(e.children,t,n)}return Array.isArray(e)?lU(e,t,n):""}function lU(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=LZ(e[i],t,n);return r.join("")}function w$e(e){return!!(e&&typeof e=="object")}const cU=document.createElement("i");function hO(e){const t="&"+e+";";cU.innerHTML=t;const n=cU.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Kl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function aa(e,t){return e.length>0?(Kl(e,e.length,0,t),e):t}const uU={}.hasOwnProperty;function C$e(e){const t={};let n=-1;for(;++n<e.length;)b$e(t,e[n]);return t}function b$e(e,t){let n;for(n in t){const i=(uU.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){uU.call(i,o)||(i[o]=[]);const a=s[o];x$e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function x$e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Kl(e,0,0,r)}function NZ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Eg(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cl=Bd(/[A-Za-z]/),To=Bd(/[\dA-Za-z]/),S$e=Bd(/[#-'*+\--9=?A-Z^-~]/);function Ak(e){return e!==null&&(e<32||e===127)}const Dk=Bd(/\d/),E$e=Bd(/[\dA-Fa-f]/),T$e=Bd(/[!-/:-@[-`{-~]/);function qt(e){return e!==null&&e<-2}function Ys(e){return e!==null&&(e<0||e===32)}function Ln(e){return e===-2||e===-1||e===32}const R$e=Bd(new RegExp("\\p{P}|\\p{S}","u")),_$e=Bd(/\s/);function Bd(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Pm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&To(e.charCodeAt(n+1))&&To(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function or(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Ln(l)?(e.enter(n),a(l)):t(l)}function a(l){return Ln(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const A$e={tokenize:D$e};function D$e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),or(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return qt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const P$e={tokenize:k$e},dU={tokenize:F$e};function k$e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(E){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,c)(E)}return c(E)}function l(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&R();const P=t.events.length;let M=P,A;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){A=t.events[M][1].end;break}S(r);let D=P;for(;D<t.events.length;)t.events[D][1].end={...A},D++;return Kl(t.events,M+1,0,t.events.slice(P)),t.events.length=D,c(E)}return a(E)}function c(E){if(r===n.length){if(!i)return p(E);if(i.currentConstruct&&i.currentConstruct.concrete)return y(E);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dU,d,f)(E)}function d(E){return i&&R(),S(r),p(E)}function f(E){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,y(E)}function p(E){return t.containerState={},e.attempt(dU,m,y)(E)}function m(E){return r++,n.push([t.currentConstruct,t.containerState]),p(E)}function y(E){if(E===null){i&&R(),S(0),e.consume(E);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),w(E)}function w(E){if(E===null){C(e.exit("chunkFlow"),!0),S(0),e.consume(E);return}return qt(E)?(e.consume(E),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(E),w)}function C(E,P){const M=t.sliceStream(E);if(P&&M.push(null),E.previous=s,s&&(s.next=E),s=E,i.defineSkip(E.start),i.write(M),t.parser.lazy[E.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const D=t.events.length;let k=D,I,B;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(I){B=t.events[k][1].end;break}I=!0}for(S(r),A=D;A<t.events.length;)t.events[A][1].end={...B},A++;Kl(t.events,k+1,0,t.events.slice(D)),t.events.length=A}}function S(E){let P=n.length;for(;P-- >E;){const M=n[P];t.containerState=M[1],M[0].exit.call(t,e)}n.length=E}function R(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function F$e(e,t,n){return or(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function hU(e){if(e===null||Ys(e)||_$e(e))return 1;if(R$e(e))return 2}function fO(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Pk={name:"attention",resolveAll:I$e,tokenize:M$e};function I$e(e,t){let n=-1,r,i,s,o,a,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};fU(f,-l),fU(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=aa(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=aa(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=aa(c,fO(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=aa(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=aa(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Kl(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function M$e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=hU(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),d=hU(l),f=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?f:f&&(i||!p)),c._close=!!(s===42?p:p&&(d||!f)),t(l)}}function fU(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const O$e={name:"autolink",tokenize:L$e};function L$e(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Cl(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||To(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||To(m))&&r++<32?(e.consume(m),a):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Ak(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):S$e(m)?(e.consume(m),c):n(m)}function d(m){return To(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||To(m))&&r++<63){const y=m===45?p:f;return e.consume(m),y}return n(m)}}const fT={partial:!0,tokenize:N$e};function N$e(e,t,n){return r;function r(s){return Ln(s)?or(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||qt(s)?t(s):n(s)}}const BZ={continuation:{tokenize:V$e},exit:H$e,name:"blockQuote",tokenize:B$e};function B$e(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ln(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function V$e(e,t,n){const r=this;return i;function i(o){return Ln(o)?or(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(BZ,t,n)(o)}}function H$e(e){e.exit("blockQuote")}const VZ={name:"characterEscape",tokenize:G$e};function G$e(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return T$e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const HZ={name:"characterReference",tokenize:U$e};function U$e(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=To,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=E$e,d):(e.enter("characterReferenceValue"),s=7,o=Dk,d(f))}function d(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return o===To&&!hO(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),d):n(f)}}const pU={partial:!0,tokenize:j$e},gU={concrete:!0,name:"codeFenced",tokenize:z$e};function z$e(e,t,n){const r=this,i={partial:!0,tokenize:M};let s=0,o=0,a;return l;function l(A){return c(A)}function c(A){const D=r.events[r.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,a=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===a?(o++,e.consume(A),d):o<3?n(A):(e.exit("codeFencedFenceSequence"),Ln(A)?or(e,f,"whitespace")(A):f(A))}function f(A){return A===null||qt(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(pU,w,P)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===null||qt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(A)):Ln(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),or(e,m,"whitespace")(A)):A===96&&A===a?n(A):(e.consume(A),p)}function m(A){return A===null||qt(A)?f(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||qt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(A)):A===96&&A===a?n(A):(e.consume(A),y)}function w(A){return e.attempt(i,P,C)(A)}function C(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),S}function S(A){return s>0&&Ln(A)?or(e,R,"linePrefix",s+1)(A):R(A)}function R(A){return A===null||qt(A)?e.check(pU,w,P)(A):(e.enter("codeFlowValue"),E(A))}function E(A){return A===null||qt(A)?(e.exit("codeFlowValue"),R(A)):(e.consume(A),E)}function P(A){return e.exit("codeFenced"),t(A)}function M(A,D,k){let I=0;return B;function B(le){return A.enter("lineEnding"),A.consume(le),A.exit("lineEnding"),N}function N(le){return A.enter("codeFencedFence"),Ln(le)?or(A,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):H(le)}function H(le){return le===a?(A.enter("codeFencedFenceSequence"),G(le)):k(le)}function G(le){return le===a?(I++,A.consume(le),G):I>=o?(A.exit("codeFencedFenceSequence"),Ln(le)?or(A,oe,"whitespace")(le):oe(le)):k(le)}function oe(le){return le===null||qt(le)?(A.exit("codeFencedFence"),D(le)):k(le)}}}function j$e(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const iD={name:"codeIndented",tokenize:$$e},W$e={partial:!0,tokenize:q$e};function $$e(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),or(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):qt(c)?e.attempt(W$e,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||qt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function q$e(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):qt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):or(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):qt(o)?i(o):n(o)}}const K$e={name:"codeText",previous:X$e,resolve:Y$e,tokenize:Q$e};function Y$e(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function X$e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Q$e(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):qt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||qt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",c(f))}}class J$e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Q0(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Q0(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Q0(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Q0(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Q0(this.left,n.reverse())}}}function Q0(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function GZ(e){const t={};let n=-1,r,i,s,o,a,l,c;const d=new J$e(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Z$e(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return Kl(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Z$e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,f,p=-1,m=n,y=0,w=0;const C=[w];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(w=p+1,C.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):C.pop(),p=C.length;p--;){const S=a.slice(C[p],C[p+1]),R=s.pop();l.push([R,R+S.length-1]),e.splice(R,2,S)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const eqe={resolve:nqe,tokenize:rqe},tqe={partial:!0,tokenize:iqe};function nqe(e){return GZ(e),e}function rqe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):qt(a)?e.check(tqe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function iqe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),or(e,s,"linePrefix")}function s(o){if(o===null||qt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function UZ(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(S){return S===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(S),e.exit(s),p):S===null||S===32||S===41||Ak(S)?n(S):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),w(S))}function p(S){return S===62?(e.enter(s),e.consume(S),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===62?(e.exit("chunkString"),e.exit(a),p(S)):S===null||S===60||qt(S)?n(S):(e.consume(S),S===92?y:m)}function y(S){return S===60||S===62||S===92?(e.consume(S),m):m(S)}function w(S){return!d&&(S===null||S===41||Ys(S))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(S)):d<c&&S===40?(e.consume(S),d++,w):S===41?(e.consume(S),d--,w):S===null||S===32||S===40||Ak(S)?n(S):(e.consume(S),S===92?C:w)}function C(S){return S===40||S===41||S===92?(e.consume(S),w):w(S)}}function zZ(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):qt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||qt(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Ln(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,f):f(m)}}function jZ(e,t,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),l(o)):p===null?n(p):qt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),or(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||qt(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Wv(e,t){let n;return r;function r(i){return qt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ln(i)?or(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const sqe={name:"definition",tokenize:aqe},oqe={partial:!0,tokenize:lqe};function aqe(e,t,n){const r=this;let i;return s;function s(m){return e.enter("definition"),o(m)}function o(m){return zZ.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Eg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Ys(m)?Wv(e,c)(m):c(m)}function c(m){return UZ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(oqe,f,f)(m)}function f(m){return Ln(m)?or(e,p,"whitespace")(m):p(m)}function p(m){return m===null||qt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function lqe(e,t,n){return r;function r(a){return Ys(a)?Wv(e,i)(a):n(a)}function i(a){return jZ(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ln(a)?or(e,o,"whitespace")(a):o(a)}function o(a){return a===null||qt(a)?t(a):n(a)}}const cqe={name:"hardBreakEscape",tokenize:uqe};function uqe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return qt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const dqe={name:"headingAtx",resolve:hqe,tokenize:fqe};function hqe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Kl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function fqe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ys(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||qt(d)?(e.exit("atxHeading"),t(d)):Ln(d)?or(e,a,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||Ys(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),c)}}const pqe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mU=["pre","script","style","textarea"],gqe={concrete:!0,name:"htmlFlow",resolveTo:yqe,tokenize:wqe},mqe={partial:!0,tokenize:bqe},vqe={partial:!0,tokenize:Cqe};function yqe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function wqe(e,t,n){const r=this;let i,s,o,a,l;return c;function c(V){return d(V)}function d(V){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(V),f}function f(V){return V===33?(e.consume(V),p):V===47?(e.consume(V),s=!0,w):V===63?(e.consume(V),i=3,r.interrupt?t:L):Cl(V)?(e.consume(V),o=String.fromCharCode(V),C):n(V)}function p(V){return V===45?(e.consume(V),i=2,m):V===91?(e.consume(V),i=5,a=0,y):Cl(V)?(e.consume(V),i=4,r.interrupt?t:L):n(V)}function m(V){return V===45?(e.consume(V),r.interrupt?t:L):n(V)}function y(V){const X="CDATA[";return V===X.charCodeAt(a++)?(e.consume(V),a===X.length?r.interrupt?t:H:y):n(V)}function w(V){return Cl(V)?(e.consume(V),o=String.fromCharCode(V),C):n(V)}function C(V){if(V===null||V===47||V===62||Ys(V)){const X=V===47,te=o.toLowerCase();return!X&&!s&&mU.includes(te)?(i=1,r.interrupt?t(V):H(V)):pqe.includes(o.toLowerCase())?(i=6,X?(e.consume(V),S):r.interrupt?t(V):H(V)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):s?R(V):E(V))}return V===45||To(V)?(e.consume(V),o+=String.fromCharCode(V),C):n(V)}function S(V){return V===62?(e.consume(V),r.interrupt?t:H):n(V)}function R(V){return Ln(V)?(e.consume(V),R):B(V)}function E(V){return V===47?(e.consume(V),B):V===58||V===95||Cl(V)?(e.consume(V),P):Ln(V)?(e.consume(V),E):B(V)}function P(V){return V===45||V===46||V===58||V===95||To(V)?(e.consume(V),P):M(V)}function M(V){return V===61?(e.consume(V),A):Ln(V)?(e.consume(V),M):E(V)}function A(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),l=V,D):Ln(V)?(e.consume(V),A):k(V)}function D(V){return V===l?(e.consume(V),l=null,I):V===null||qt(V)?n(V):(e.consume(V),D)}function k(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||Ys(V)?M(V):(e.consume(V),k)}function I(V){return V===47||V===62||Ln(V)?E(V):n(V)}function B(V){return V===62?(e.consume(V),N):n(V)}function N(V){return V===null||qt(V)?H(V):Ln(V)?(e.consume(V),N):n(V)}function H(V){return V===45&&i===2?(e.consume(V),Z):V===60&&i===1?(e.consume(V),se):V===62&&i===4?(e.consume(V),ae):V===63&&i===3?(e.consume(V),L):V===93&&i===5?(e.consume(V),ne):qt(V)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(mqe,W,G)(V)):V===null||qt(V)?(e.exit("htmlFlowData"),G(V)):(e.consume(V),H)}function G(V){return e.check(vqe,oe,W)(V)}function oe(V){return e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),le}function le(V){return V===null||qt(V)?G(V):(e.enter("htmlFlowData"),H(V))}function Z(V){return V===45?(e.consume(V),L):H(V)}function se(V){return V===47?(e.consume(V),o="",fe):H(V)}function fe(V){if(V===62){const X=o.toLowerCase();return mU.includes(X)?(e.consume(V),ae):H(V)}return Cl(V)&&o.length<8?(e.consume(V),o+=String.fromCharCode(V),fe):H(V)}function ne(V){return V===93?(e.consume(V),L):H(V)}function L(V){return V===62?(e.consume(V),ae):V===45&&i===2?(e.consume(V),L):H(V)}function ae(V){return V===null||qt(V)?(e.exit("htmlFlowData"),W(V)):(e.consume(V),ae)}function W(V){return e.exit("htmlFlow"),t(V)}}function Cqe(e,t,n){const r=this;return i;function i(o){return qt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function bqe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(fT,t,n)}}const xqe={name:"htmlText",tokenize:Sqe};function Sqe(e,t,n){const r=this;let i,s,o;return a;function a(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),l}function l(L){return L===33?(e.consume(L),c):L===47?(e.consume(L),M):L===63?(e.consume(L),E):Cl(L)?(e.consume(L),k):n(L)}function c(L){return L===45?(e.consume(L),d):L===91?(e.consume(L),s=0,y):Cl(L)?(e.consume(L),R):n(L)}function d(L){return L===45?(e.consume(L),m):n(L)}function f(L){return L===null?n(L):L===45?(e.consume(L),p):qt(L)?(o=f,se(L)):(e.consume(L),f)}function p(L){return L===45?(e.consume(L),m):f(L)}function m(L){return L===62?Z(L):L===45?p(L):f(L)}function y(L){const ae="CDATA[";return L===ae.charCodeAt(s++)?(e.consume(L),s===ae.length?w:y):n(L)}function w(L){return L===null?n(L):L===93?(e.consume(L),C):qt(L)?(o=w,se(L)):(e.consume(L),w)}function C(L){return L===93?(e.consume(L),S):w(L)}function S(L){return L===62?Z(L):L===93?(e.consume(L),S):w(L)}function R(L){return L===null||L===62?Z(L):qt(L)?(o=R,se(L)):(e.consume(L),R)}function E(L){return L===null?n(L):L===63?(e.consume(L),P):qt(L)?(o=E,se(L)):(e.consume(L),E)}function P(L){return L===62?Z(L):E(L)}function M(L){return Cl(L)?(e.consume(L),A):n(L)}function A(L){return L===45||To(L)?(e.consume(L),A):D(L)}function D(L){return qt(L)?(o=D,se(L)):Ln(L)?(e.consume(L),D):Z(L)}function k(L){return L===45||To(L)?(e.consume(L),k):L===47||L===62||Ys(L)?I(L):n(L)}function I(L){return L===47?(e.consume(L),Z):L===58||L===95||Cl(L)?(e.consume(L),B):qt(L)?(o=I,se(L)):Ln(L)?(e.consume(L),I):Z(L)}function B(L){return L===45||L===46||L===58||L===95||To(L)?(e.consume(L),B):N(L)}function N(L){return L===61?(e.consume(L),H):qt(L)?(o=N,se(L)):Ln(L)?(e.consume(L),N):I(L)}function H(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),i=L,G):qt(L)?(o=H,se(L)):Ln(L)?(e.consume(L),H):(e.consume(L),oe)}function G(L){return L===i?(e.consume(L),i=void 0,le):L===null?n(L):qt(L)?(o=G,se(L)):(e.consume(L),G)}function oe(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Ys(L)?I(L):(e.consume(L),oe)}function le(L){return L===47||L===62||Ys(L)?I(L):n(L)}function Z(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):n(L)}function se(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),fe}function fe(L){return Ln(L)?or(e,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):ne(L)}function ne(L){return e.enter("htmlTextData"),o(L)}}const pO={name:"labelEnd",resolveAll:_qe,resolveTo:Aqe,tokenize:Dqe},Eqe={tokenize:Pqe},Tqe={tokenize:kqe},Rqe={tokenize:Fqe};function _qe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Kl(e,0,e.length,n),e}function Aqe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=aa(a,e.slice(s+1,s+r+3)),a=aa(a,[["enter",d,t]]),a=aa(a,fO(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=aa(a,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),a=aa(a,e.slice(o+1)),a=aa(a,[["exit",l,t]]),Kl(e,s,e.length,a),e}function Dqe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Eg(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(Eqe,d,o?d:f)(p):p===91?e.attempt(Tqe,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(Rqe,d,f)(p)}function d(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function Pqe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ys(f)?Wv(e,s)(f):s(f)}function s(f){return f===41?d(f):UZ(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Ys(f)?Wv(e,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?jZ(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ys(f)?Wv(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function kqe(e,t,n){const r=this;return i;function i(a){return zZ.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Eg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Fqe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Iqe={name:"labelStartImage",resolveAll:pO.resolveAll,tokenize:Mqe};function Mqe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Oqe={name:"labelStartLink",resolveAll:pO.resolveAll,tokenize:Lqe};function Lqe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const sD={name:"lineEnding",tokenize:Nqe};function Nqe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),or(e,t,"linePrefix")}}const sS={name:"thematicBreak",tokenize:Bqe};function Bqe(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||qt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Ln(c)?or(e,a,"whitespace")(c):a(c))}}const Hs={continuation:{tokenize:Uqe},exit:jqe,name:"list",tokenize:Gqe},Vqe={partial:!0,tokenize:Wqe},Hqe={partial:!0,tokenize:zqe};function Gqe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Dk(m)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(sS,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Dk(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(fT,r.interrupt?n:d,e.attempt(Vqe,p,f))}function d(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return Ln(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Uqe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(fT,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,or(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ln(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Hqe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,or(e,e.attempt(Hs,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function zqe(e,t,n){const r=this;return or(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function jqe(e){e.exit(this.containerState.type)}function Wqe(e,t,n){const r=this;return or(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ln(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const vU={name:"setextUnderline",resolveTo:$qe,tokenize:qqe};function $qe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function qqe(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Ln(c)?or(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||qt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Kqe={tokenize:Yqe};function Yqe(e){const t=this,n=e.attempt(fT,r,e.attempt(this.parser.constructs.flowInitial,i,or(e,e.attempt(this.parser.constructs.flow,i,e.attempt(eqe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Xqe={resolveAll:$Z()},Qqe=WZ("string"),Jqe=WZ("text");function WZ(e){return{resolveAll:$Z(e==="text"?Zqe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function $Z(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Zqe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const eKe={42:Hs,43:Hs,45:Hs,48:Hs,49:Hs,50:Hs,51:Hs,52:Hs,53:Hs,54:Hs,55:Hs,56:Hs,57:Hs,62:BZ},tKe={91:sqe},nKe={[-2]:iD,[-1]:iD,32:iD},rKe={35:dqe,42:sS,45:[vU,sS],60:gqe,61:vU,95:sS,96:gU,126:gU},iKe={38:HZ,92:VZ},sKe={[-5]:sD,[-4]:sD,[-3]:sD,33:Iqe,38:HZ,42:Pk,60:[O$e,xqe],91:Oqe,92:[cqe,VZ],93:pO,95:Pk,96:K$e},oKe={null:[Pk,Xqe]},aKe={null:[42,95]},lKe={null:[]},cKe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aKe,contentInitial:tKe,disable:lKe,document:eKe,flow:rKe,flowInitial:nKe,insideSpan:oKe,string:iKe,text:sKe},Symbol.toStringTag,{value:"Module"}));function uKe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:D(M),check:D(A),consume:R,enter:E,exit:P,interrupt:D(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function f(N){return o=aa(o,N),C(),o[o.length-1]!==null?[]:(k(t,0),c.events=fO(s,c.events,c),c.events)}function p(N,H){return hKe(m(N),H)}function m(N){return dKe(o,N)}function y(){const{_bufferIndex:N,_index:H,line:G,column:oe,offset:le}=r;return{_bufferIndex:N,_index:H,line:G,column:oe,offset:le}}function w(N){i[N.line]=N.column,B()}function C(){let N;for(;r._index<o.length;){const H=o[r._index];if(typeof H=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<H.length;)S(H.charCodeAt(r._bufferIndex));else S(H)}}function S(N){d=d(N)}function R(N){qt(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,B()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=N}function E(N,H){const G=H||{};return G.type=N,G.start=y(),c.events.push(["enter",G,c]),a.push(G),G}function P(N){const H=a.pop();return H.end=y(),c.events.push(["exit",H,c]),H}function M(N,H){k(N,H.from)}function A(N,H){H.restore()}function D(N,H){return G;function G(oe,le,Z){let se,fe,ne,L;return Array.isArray(oe)?W(oe):"tokenize"in oe?W([oe]):ae(oe);function ae(he){return Be;function Be(Fe){const _e=Fe!==null&&he[Fe],Pe=Fe!==null&&he.null,nt=[...Array.isArray(_e)?_e:_e?[_e]:[],...Array.isArray(Pe)?Pe:Pe?[Pe]:[]];return W(nt)(Fe)}}function W(he){return se=he,fe=0,he.length===0?Z:V(he[fe])}function V(he){return Be;function Be(Fe){return L=I(),ne=he,he.partial||(c.currentConstruct=he),he.name&&c.parser.constructs.disable.null.includes(he.name)?te():he.tokenize.call(H?Object.assign(Object.create(c),H):c,l,X,te)(Fe)}}function X(he){return N(ne,L),le}function te(he){return L.restore(),++fe<se.length?V(se[fe]):Z}}}function k(N,H){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Kl(c.events,H,c.events.length-H,N.resolve(c.events.slice(H),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function I(){const N=y(),H=c.previous,G=c.currentConstruct,oe=c.events.length,le=Array.from(a);return{from:oe,restore:Z};function Z(){r=N,c.previous=H,c.currentConstruct=G,c.events.length=oe,a=le,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dKe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function hKe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function fKe(e){const r={constructs:C$e([cKe,...(e||{}).extensions||[]]),content:i(A$e),defined:[],document:i(P$e),flow:i(Kqe),lazy:{},string:i(Qqe),text:i(Jqe)};return r;function i(s){return o;function o(a){return uKe(r,s,a)}}}function pKe(e){for(;!GZ(e););return e}const yU=/[\0\t\n\r]/g;function gKe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,d,f,p,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(yU.lastIndex=f,c=yU.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){t=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const mKe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vKe(e){return e.replace(mKe,yKe)}function yKe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return NZ(n.slice(s?2:1),s?16:10)}return hO(n)||e}const qZ={}.hasOwnProperty;function wKe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),CKe(n)(pKe(fKe(n).document().write(gKe()(e,t,!0))))}function CKe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(kt),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(Je),blockQuote:s(Pe),characterEscape:I,characterReference:I,codeFenced:s(nt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(nt,o),codeText:s(re,o),codeTextData:I,data:I,codeFlowValue:I,definition:s(St),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ze),hardBreakEscape:s(et),hardBreakTrailing:s(et),htmlFlow:s(Me,o),htmlFlowData:I,htmlText:s(Me,o),htmlTextData:I,image:s(ft),label:o,link:s(kt),listItem:s(It),listItemValue:p,listOrdered:s(Ct,f),listUnordered:s(Ct),paragraph:s(Vt),reference:V,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Je),strong:s(Kt),thematicBreak:s(An)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:_e,autolinkProtocol:Fe,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:he,characterReference:Be,codeFenced:l(C),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:B,codeIndented:l(S),codeText:l(le),codeTextData:B,data:B,definition:l(),definitionDestinationString:P,definitionLabelString:R,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(H),hardBreakTrailing:l(H),htmlFlow:l(G),htmlFlowData:B,htmlText:l(oe),htmlTextData:B,image:l(se),label:ne,labelText:fe,lineEnding:N,link:l(Z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:X,resourceDestinationString:L,resourceTitleString:ae,resource:W,setextHeading:l(k),setextHeadingLineSequence:D,setextHeadingText:A,strong:l(),thematicBreak:l()}};KZ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ve){let Le={type:"root",children:[]};const Xe={stack:[Le],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:d,data:n},ht=[];let gt=-1;for(;++gt<ve.length;)if(ve[gt][1].type==="listOrdered"||ve[gt][1].type==="listUnordered")if(ve[gt][0]==="enter")ht.push(gt);else{const Yt=ht.pop();gt=i(ve,Yt,gt)}for(gt=-1;++gt<ve.length;){const Yt=t[ve[gt][0]];qZ.call(Yt,ve[gt][1].type)&&Yt[ve[gt][1].type].call(Object.assign({sliceSerialize:ve[gt][2].sliceSerialize},Xe),ve[gt][1])}if(Xe.tokenStack.length>0){const Yt=Xe.tokenStack[Xe.tokenStack.length-1];(Yt[1]||wU).call(Xe,void 0,Yt[0])}for(Le.position={start:Mu(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:Mu(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},gt=-1;++gt<t.transforms.length;)Le=t.transforms[gt](Le)||Le;return Le}function i(ve,Le,Xe){let ht=Le-1,gt=-1,Yt=!1,Fn,nn,gr,Ar;for(;++ht<=Xe;){const ar=ve[ht];switch(ar[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ar[0]==="enter"?gt++:gt--,Ar=void 0;break}case"lineEndingBlank":{ar[0]==="enter"&&(Fn&&!Ar&&!gt&&!gr&&(gr=ht),Ar=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ar=void 0}if(!gt&&ar[0]==="enter"&&ar[1].type==="listItemPrefix"||gt===-1&&ar[0]==="exit"&&(ar[1].type==="listUnordered"||ar[1].type==="listOrdered")){if(Fn){let Br=ht;for(nn=void 0;Br--;){const Vr=ve[Br];if(Vr[1].type==="lineEnding"||Vr[1].type==="lineEndingBlank"){if(Vr[0]==="exit")continue;nn&&(ve[nn][1].type="lineEndingBlank",Yt=!0),Vr[1].type="lineEnding",nn=Br}else if(!(Vr[1].type==="linePrefix"||Vr[1].type==="blockQuotePrefix"||Vr[1].type==="blockQuotePrefixWhitespace"||Vr[1].type==="blockQuoteMarker"||Vr[1].type==="listItemIndent"))break}gr&&(!nn||gr<nn)&&(Fn._spread=!0),Fn.end=Object.assign({},nn?ve[nn][1].start:ar[1].end),ve.splice(nn||ht,0,["exit",Fn,ar[2]]),ht++,Xe++}if(ar[1].type==="listItemPrefix"){const Br={type:"listItem",_spread:!1,start:Object.assign({},ar[1].start),end:void 0};Fn=Br,ve.splice(ht,0,["enter",Br,ar[2]]),ht++,Xe++,gr=void 0,Ar=!0}}}return ve[Le][1]._spread=Yt,Xe}function s(ve,Le){return Xe;function Xe(ht){a.call(this,ve(ht),ht),Le&&Le.call(this,ht)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ve,Le,Xe){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([Le,Xe||void 0]),ve.position={start:Mu(Le.start),end:void 0}}function l(ve){return Le;function Le(Xe){ve&&ve.call(this,Xe),c.call(this,Xe)}}function c(ve,Le){const Xe=this.stack.pop(),ht=this.tokenStack.pop();if(ht)ht[0].type!==ve.type&&(Le?Le.call(this,ve,ht[0]):(ht[1]||wU).call(this,ve,ht[0]));else throw new Error("Cannot close `"+ve.type+"` ("+jv({start:ve.start,end:ve.end})+"): its not open");Xe.position.end=Mu(ve.end)}function d(){return y$e(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ve){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=ve}function y(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=ve}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ve.replace(/(\r?\n|\r)$/g,"")}function R(ve){const Le=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=Le,Xe.identifier=Eg(this.sliceSerialize(ve)).toLowerCase()}function E(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.title=ve}function P(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.url=ve}function M(ve){const Le=this.stack[this.stack.length-1];if(!Le.depth){const Xe=this.sliceSerialize(ve).length;Le.depth=Xe}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function D(ve){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ve){const Xe=this.stack[this.stack.length-1].children;let ht=Xe[Xe.length-1];(!ht||ht.type!=="text")&&(ht=Jt(),ht.position={start:Mu(ve.start),end:void 0},Xe.push(ht)),this.stack.push(ht)}function B(ve){const Le=this.stack.pop();Le.value+=this.sliceSerialize(ve),Le.position.end=Mu(ve.end)}function N(ve){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Xe=Le.children[Le.children.length-1];Xe.position.end=Mu(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Le.type)&&(I.call(this,ve),B.call(this,ve))}function H(){this.data.atHardBreak=!0}function G(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ve}function oe(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ve}function le(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ve}function Z(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Le,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function se(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Le,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function fe(ve){const Le=this.sliceSerialize(ve),Xe=this.stack[this.stack.length-2];Xe.label=vKe(Le),Xe.identifier=Eg(Le).toLowerCase()}function ne(){const ve=this.stack[this.stack.length-1],Le=this.resume(),Xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Xe.type==="link"){const ht=ve.children;Xe.children=ht}else Xe.alt=Le}function L(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.url=ve}function ae(){const ve=this.resume(),Le=this.stack[this.stack.length-1];Le.title=ve}function W(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function X(ve){const Le=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=Le,Xe.identifier=Eg(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function te(ve){this.data.characterReferenceType=ve.type}function he(ve){const Le=this.sliceSerialize(ve),Xe=this.data.characterReferenceType;let ht;Xe?(ht=NZ(Le,Xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ht=hO(Le);const gt=this.stack[this.stack.length-1];gt.value+=ht}function Be(ve){const Le=this.stack.pop();Le.position.end=Mu(ve.end)}function Fe(ve){B.call(this,ve);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(ve)}function _e(ve){B.call(this,ve);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(ve)}function Pe(){return{type:"blockquote",children:[]}}function nt(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function St(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ze(){return{type:"emphasis",children:[]}}function Je(){return{type:"heading",depth:0,children:[]}}function et(){return{type:"break"}}function Me(){return{type:"html",value:""}}function ft(){return{type:"image",title:null,url:"",alt:null}}function kt(){return{type:"link",title:null,url:"",children:[]}}function Ct(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function It(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Vt(){return{type:"paragraph",children:[]}}function Kt(){return{type:"strong",children:[]}}function Jt(){return{type:"text",value:""}}function An(){return{type:"thematicBreak"}}}function Mu(e){return{line:e.line,column:e.column,offset:e.offset}}function KZ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?KZ(e,r):bKe(e,r)}}function bKe(e,t){let n;for(n in t)if(qZ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function wU(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+jv({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+jv({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+jv({start:t.start,end:t.end})+") is still open")}function xKe(e){const t=this;t.parser=n;function n(r){return wKe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function SKe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function EKe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function TKe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function RKe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _Ke(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AKe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Pm(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function DKe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PKe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function YZ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function kKe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return YZ(e,t);const i={src:Pm(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function FKe(e,t){const n={src:Pm(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function IKe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function MKe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return YZ(e,t);const i={href:Pm(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function OKe(e,t){const n={href:Pm(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function LKe(e,t,n){const r=e.all(t),i=n?NKe(n):XZ(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function NKe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=XZ(n[r])}return t}function XZ(e){const t=e.spread;return t??e.children.length>1}function BKe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function VKe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HKe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function GKe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UKe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=lO(t.children[1]),l=PZ(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function zKe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const f=t.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let y={type:"element",tagName:s,properties:p,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function jKe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const CU=9,bU=32;function WKe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(xU(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(xU(t.slice(i),i>0,!1)),s.join("")}function xU(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===CU||s===bU;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===CU||s===bU;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function $Ke(e,t){const n={type:"text",value:WKe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function qKe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const KKe={blockquote:SKe,break:EKe,code:TKe,delete:RKe,emphasis:_Ke,footnoteReference:AKe,heading:DKe,html:PKe,imageReference:kKe,image:FKe,inlineCode:IKe,linkReference:MKe,link:OKe,listItem:LKe,list:BKe,paragraph:VKe,root:HKe,strong:GKe,table:UKe,tableCell:jKe,tableRow:zKe,text:$Ke,thematicBreak:qKe,toml:yx,yaml:yx,definition:yx,footnoteDefinition:yx};function yx(){}const QZ=-1,pT=0,$v=1,L1=2,gO=3,mO=4,vO=5,yO=6,JZ=7,ZZ=8,SU=typeof self=="object"?self:globalThis,YKe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case pT:case QZ:return n(o,i);case $v:{const a=n([],i);for(const l of o)a.push(r(l));return a}case L1:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case gO:return n(new Date(o),i);case mO:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case vO:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case yO:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case JZ:{const{name:a,message:l}=o;return n(new SU[a](l),i)}case ZZ:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new SU[s](o),i)};return r},EU=e=>YKe(new Map,e)(0),Np="",{toString:XKe}={},{keys:QKe}=Object,J0=e=>{const t=typeof e;if(t!=="object"||!e)return[pT,t];const n=XKe.call(e).slice(8,-1);switch(n){case"Array":return[$v,Np];case"Object":return[L1,Np];case"Date":return[gO,Np];case"RegExp":return[mO,Np];case"Map":return[vO,Np];case"Set":return[yO,Np];case"DataView":return[$v,n]}return n.includes("Array")?[$v,n]:n.includes("Error")?[JZ,n]:[L1,n]},wx=([e,t])=>e===pT&&(t==="function"||t==="symbol"),JKe=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=J0(o);switch(a){case pT:{let d=o;switch(l){case"bigint":a=ZZ,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([QZ],o)}return i([a,d],o)}case $v:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const d=[],f=i([a,d],o);for(const p of o)d.push(s(p));return f}case L1:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([a,d],o);for(const p of QKe(o))(e||!wx(J0(o[p])))&&d.push([s(p),s(o[p])]);return f}case gO:return i([a,o.toISOString()],o);case mO:{const{source:d,flags:f}=o;return i([a,{source:d,flags:f}],o)}case vO:{const d=[],f=i([a,d],o);for(const[p,m]of o)(e||!(wx(J0(p))||wx(J0(m))))&&d.push([s(p),s(m)]);return f}case yO:{const d=[],f=i([a,d],o);for(const p of o)(e||!wx(J0(p)))&&d.push(s(p));return f}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},TU=(e,{json:t,lossy:n}={})=>{const r=[];return JKe(!(t||n),!!t,new Map,r)(e),r},N1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?EU(TU(e,t)):structuredClone(e):(e,t)=>EU(TU(e,t));function ZKe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function eYe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function tYe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ZKe,r=e.options.footnoteBackLabel||eYe,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=Pm(f.toLowerCase());let m=0;const y=[],w=e.footnoteCounts.get(f);for(;w!==void 0&&++m<=w;){y.length>0&&y.push({type:"text",value:" "});let R=typeof n=="string"?n:n(l,m);typeof R=="string"&&(R={type:"text",value:R}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const C=d[d.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const R=C.children[C.children.length-1];R&&R.type==="text"?R.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...y)}else d.push(...y);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,S),a.push(S)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...N1(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const eee=function(e){if(e==null)return sYe;if(typeof e=="function")return gT(e);if(typeof e=="object")return Array.isArray(e)?nYe(e):rYe(e);if(typeof e=="string")return iYe(e);throw new Error("Expected function, string, or object as test")};function nYe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=eee(e[n]);return gT(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function rYe(e){const t=e;return gT(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function iYe(e){return gT(t);function t(n){return n&&n.type===e}}function gT(e){return t;function t(n,r,i){return!!(oYe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sYe(){return!0}function oYe(e){return e!==null&&typeof e=="object"&&"type"in e}const tee=[],aYe=!0,RU=!1,lYe="skip";function cYe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=eee(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=tee,y,w,C;if((!t||s(l,c,d[d.length-1]||void 0))&&(m=uYe(n(l,d)),m[0]===RU))return m;if("children"in l&&l.children){const S=l;if(S.children&&m[0]!==lYe)for(w=(r?S.children.length:-1)+o,C=d.concat(S);w>-1&&w<S.children.length;){const R=S.children[w];if(y=a(R,w,C)(),y[0]===RU)return y;w=typeof y[1]=="number"?y[1]:w+o}}return m}}}function uYe(e){return Array.isArray(e)?e:typeof e=="number"?[aYe,e]:e==null?tee:[e]}function nee(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),cYe(e,s,a,i);function a(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const kk={}.hasOwnProperty,dYe={};function hYe(e,t){const n=t||dYe,r=new Map,i=new Map,s=new Map,o={...KKe,...n.handlers},a={all:c,applyData:pYe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:fYe,wrap:mYe};return nee(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),a;function l(d,f){const p=d.type,m=a.handlers[p];if(kk.call(a.handlers,p)&&m)return m(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:w,...C}=d,S=N1(C);return S.children=a.all(d),S}return N1(d)}return(a.options.unknownHandler||gYe)(a,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const y=a.one(p[m],d);if(y){if(m&&p[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=_U(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=_U(w.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function fYe(e,t){e.position&&(t.position=X7e(e))}function pYe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,N1(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function gYe(e,t){const n=t.data||{},r="value"in t&&!(kk.call(n,"hProperties")||kk.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mYe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _U(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function AU(e,t){const n=hYe(e,t),r=n.one(e,void 0),i=tYe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function vYe(e,t){return e&&"run"in e?async function(n,r){const i=AU(n,{file:r,...t});await e.run(i,r)}:function(n,r){return AU(n,{file:r,...e||t})}}function DU(e){if(e)throw e}var oD,PU;function yYe(){if(PU)return oD;PU=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!f)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},a=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return oD=function l(){var c,d,f,p,m,y,w=arguments[0],C=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(c=arguments[C],c!=null)for(d in c)f=a(w,d),p=a(c,d),w!==p&&(R&&p&&(s(p)||(m=i(p)))?(m?(m=!1,y=f&&i(f)?f:[]):y=f&&s(f)?f:{},o(w,{name:d,newValue:l(R,y,p)})):typeof p<"u"&&o(w,{name:d,newValue:p}));return w},oD}var wYe=yYe();const aD=rm(wYe);function Fk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function CYe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const d=e[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?bYe(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function bYe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const pl={basename:xYe,dirname:SYe,extname:EYe,join:TYe,sep:"/"};function xYe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');uC(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function SYe(e){if(uC(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function EYe(e){uC(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function TYe(...e){let t=-1,n;for(;++t<e.length;)uC(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":RYe(n)}function RYe(e){uC(e);const t=e.codePointAt(0)===47;let n=_Ye(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function _Ye(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function uC(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const AYe={cwd:DYe};function DYe(){return"/"}function Ik(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function PYe(e){if(typeof e=="string")e=new URL(e);else if(!Ik(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return kYe(e)}function kYe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const lD=["history","path","basename","stem","extname","dirname"];class ree{constructor(t){let n;t?Ik(t)?n={path:t}:typeof t=="string"||FYe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":AYe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lD.length;){const s=lD[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)lD.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pl.basename(this.path):void 0}set basename(t){uD(t,"basename"),cD(t,"basename"),this.path=pl.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?pl.dirname(this.path):void 0}set dirname(t){kU(this.basename,"dirname"),this.path=pl.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?pl.extname(this.path):void 0}set extname(t){if(cD(t,"extname"),kU(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pl.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ik(t)&&(t=PYe(t)),uD(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?pl.basename(this.path,this.extname):void 0}set stem(t){uD(t,"stem"),cD(t,"stem"),this.path=pl.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new vs(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function cD(e,t){if(e&&e.includes(pl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pl.sep+"`")}function uD(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function kU(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function FYe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const IYe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},MYe={}.hasOwnProperty;class wO extends IYe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=CYe()}copy(){const t=new wO;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(aD(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(fD("data",this.frozen),this.namespace[t]=n,this):MYe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fD("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Cx(t),r=this.parser||this.Parser;return dD("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),dD("process",this.parser||this.Parser),hD("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Cx(t),l=r.parse(a);r.run(l,a,function(d,f,p){if(d||!f||!p)return c(d);const m=f,y=r.stringify(m,p);NYe(y)?p.value=y:p.result=y,c(d,p)});function c(d,f){d||!f?o(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),dD("processSync",this.parser||this.Parser),hD("processSync",this.compiler||this.Compiler),this.process(t,i),IU("processSync","process",n),r;function i(s,o){n=!0,DU(s),r=o}}run(t,n,r){FU(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Cx(n);i.run(t,l,c);function c(d,f,p){const m=f||t;d?a(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),IU("runSync","run",r),i;function s(o,a){DU(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Cx(n),i=this.compiler||this.Compiler;return hD("stringify",i),FU(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(fD("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=aD(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...y]=d;const w=r[p][1];Fk(w)&&Fk(m)&&(m=aD(!0,w,m)),r[p]=[c,m,...y]}}}}const OYe=new wO().freeze();function dD(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function hD(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function fD(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function FU(e){if(!Fk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function IU(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Cx(e){return LYe(e)?e:new ree(e)}function LYe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function NYe(e){return typeof e=="string"||BYe(e)}function BYe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const VYe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",MU=[],OU={allowDangerousHtml:!0},HYe=/^(https?|ircs?|mailto|xmpp)$/i,GYe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function bx(e){const t=UYe(e),n=zYe(e);return jYe(t.runSync(t.parse(n),n),e)}function UYe(e){const t=e.rehypePlugins||MU,n=e.remarkPlugins||MU,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...OU}:OU;return OYe().use(xKe).use(n).use(vYe,r).use(t)}function zYe(e){const t=e.children||"",n=new ree;return typeof t=="string"&&(n.value=t),n}function jYe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||WYe;for(const d of GYe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+VYe+d.id,void 0);return nee(e,c),t$e(e,{Fragment:F.Fragment,components:i,ignoreInvalidStyle:!0,jsx:F.jsx,jsxs:F.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in rD)if(Object.hasOwn(rD,m)&&Object.hasOwn(d.properties,m)){const y=d.properties[m],w=rD[m];(w===null||w.includes(d.tagName))&&(d.properties[m]=l(String(y||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return a&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function WYe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||HYe.test(e.slice(0,t))?e:""}const CO=T.createContext({});function bO(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const xO=typeof window<"u",iee=xO?T.useLayoutEffect:T.useEffect,mT=T.createContext(null);function SO(e,t){e.indexOf(t)===-1&&e.push(t)}function EO(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xc=(e,t,n)=>n>t?t:n<e?e:n;let TO=()=>{};const Qc={},see=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function oee(e){return typeof e=="object"&&e!==null}const aee=e=>/^0[^.\s]+$/u.test(e);function RO(e){let t;return()=>(t===void 0&&(t=e()),t)}const ga=e=>e,$Ye=(e,t)=>n=>t(e(n)),dC=(...e)=>e.reduce($Ye),tw=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class _O{constructor(){this.subscriptions=[]}add(t){return SO(this.subscriptions,t),()=>EO(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bl=e=>e*1e3,Vl=e=>e/1e3;function lee(e,t){return t?e*(1e3/t):0}const cee=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,qYe=1e-7,KYe=12;function YYe(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=cee(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>qYe&&++a<KYe);return o}function hC(e,t,n,r){if(e===t&&n===r)return ga;const i=s=>YYe(s,0,1,e,n);return s=>s===0||s===1?s:cee(i(s),t,r)}const uee=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dee=e=>t=>1-e(1-t),hee=hC(.33,1.53,.69,.99),AO=dee(hee),fee=uee(AO),pee=e=>(e*=2)<1?.5*AO(e):.5*(2-Math.pow(2,-10*(e-1))),DO=e=>1-Math.sin(Math.acos(e)),gee=dee(DO),mee=uee(DO),XYe=hC(.42,0,1,1),QYe=hC(0,0,.58,1),vee=hC(.42,0,.58,1),JYe=e=>Array.isArray(e)&&typeof e[0]!="number",yee=e=>Array.isArray(e)&&typeof e[0]=="number",ZYe={linear:ga,easeIn:XYe,easeInOut:vee,easeOut:QYe,circIn:DO,circInOut:mee,circOut:gee,backIn:AO,backInOut:fee,backOut:hee,anticipate:pee},eXe=e=>typeof e=="string",LU=e=>{if(yee(e)){TO(e.length===4);const[t,n,r,i]=e;return hC(t,n,r,i)}else if(eXe(e))return ZYe[e];return e},xx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tXe(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(a)}const c={schedule:(d,f=!1,p=!1)=>{const y=p&&i?n:r;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const nXe=40;function wee(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=xx.reduce((E,P)=>(E[P]=tXe(s),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:m,postRender:y}=o,w=()=>{const E=Qc.useManualTiming?i.timestamp:performance.now();n=!1,Qc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,nXe),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(w))},C=()=>{n=!0,r=!0,i.isProcessing||e(w)};return{schedule:xx.reduce((E,P)=>{const M=o[P];return E[P]=(A,D=!1,k=!1)=>(n||C(),M.schedule(A,D,k)),E},{}),cancel:E=>{for(let P=0;P<xx.length;P++)o[xx[P]].cancel(E)},state:i,steps:o}}const{schedule:vr,cancel:Sd,state:Ui,steps:pD}=wee(typeof requestAnimationFrame<"u"?requestAnimationFrame:ga,!0);let oS;function rXe(){oS=void 0}const Ws={now:()=>(oS===void 0&&Ws.set(Ui.isProcessing||Qc.useManualTiming?Ui.timestamp:performance.now()),oS),set:e=>{oS=e,queueMicrotask(rXe)}},Cee=e=>t=>typeof t=="string"&&t.startsWith(e),PO=Cee("--"),iXe=Cee("var(--"),kO=e=>iXe(e)?sXe.test(e.split("/*")[0].trim()):!1,sXe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,km={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nw={...km,transform:e=>Xc(0,1,e)},Sx={...km,default:1},qv=e=>Math.round(e*1e5)/1e5,FO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oXe(e){return e==null}const aXe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IO=(e,t)=>n=>!!(typeof n=="string"&&aXe.test(n)&&n.startsWith(e)||t&&!oXe(n)&&Object.prototype.hasOwnProperty.call(n,t)),bee=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(FO);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},lXe=e=>Xc(0,255,e),gD={...km,transform:e=>Math.round(lXe(e))},Dh={test:IO("rgb","red"),parse:bee("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+gD.transform(e)+", "+gD.transform(t)+", "+gD.transform(n)+", "+qv(nw.transform(r))+")"};function cXe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Mk={test:IO("#"),parse:cXe,transform:Dh.transform},fC=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Lu=fC("deg"),Hl=fC("%"),Wt=fC("px"),uXe=fC("vh"),dXe=fC("vw"),NU={...Hl,parse:e=>Hl.parse(e)/100,transform:e=>Hl.transform(e*100)},Xp={test:IO("hsl","hue"),parse:bee("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hl.transform(qv(t))+", "+Hl.transform(qv(n))+", "+qv(nw.transform(r))+")"},oi={test:e=>Dh.test(e)||Mk.test(e)||Xp.test(e),parse:e=>Dh.test(e)?Dh.parse(e):Xp.test(e)?Xp.parse(e):Mk.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dh.transform(e):Xp.transform(e),getAnimatableNone:e=>{const t=oi.parse(e);return t.alpha=0,oi.transform(t)}},hXe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fXe(e){return isNaN(e)&&typeof e=="string"&&(e.match(FO)?.length||0)+(e.match(hXe)?.length||0)>0}const xee="number",See="color",pXe="var",gXe="var(",BU="${}",mXe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rw(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(mXe,l=>(oi.test(l)?(r.color.push(s),i.push(See),n.push(oi.parse(l))):l.startsWith(gXe)?(r.var.push(s),i.push(pXe),n.push(l)):(r.number.push(s),i.push(xee),n.push(parseFloat(l))),++s,BU)).split(BU);return{values:n,split:a,indexes:r,types:i}}function Eee(e){return rw(e).values}function Tee(e){const{split:t,types:n}=rw(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===xee?s+=qv(i[o]):a===See?s+=oi.transform(i[o]):s+=i[o]}return s}}const vXe=e=>typeof e=="number"?0:oi.test(e)?oi.getAnimatableNone(e):e;function yXe(e){const t=Eee(e);return Tee(e)(t.map(vXe))}const Ed={test:fXe,parse:Eee,createTransformer:Tee,getAnimatableNone:yXe};function mD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wXe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=mD(l,a,e+1/3),s=mD(l,a,e),o=mD(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function B1(e,t){return n=>n>0?t:e}const br=(e,t,n)=>e+(t-e)*n,vD=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},CXe=[Mk,Dh,Xp],bXe=e=>CXe.find(t=>t.test(e));function VU(e){const t=bXe(e);if(!t)return!1;let n=t.parse(e);return t===Xp&&(n=wXe(n)),n}const HU=(e,t)=>{const n=VU(e),r=VU(t);if(!n||!r)return B1(e,t);const i={...n};return s=>(i.red=vD(n.red,r.red,s),i.green=vD(n.green,r.green,s),i.blue=vD(n.blue,r.blue,s),i.alpha=br(n.alpha,r.alpha,s),Dh.transform(i))},Ok=new Set(["none","hidden"]);function xXe(e,t){return Ok.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function SXe(e,t){return n=>br(e,t,n)}function MO(e){return typeof e=="number"?SXe:typeof e=="string"?kO(e)?B1:oi.test(e)?HU:RXe:Array.isArray(e)?Ree:typeof e=="object"?oi.test(e)?HU:EXe:B1}function Ree(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>MO(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function EXe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=MO(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function TXe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const RXe=(e,t)=>{const n=Ed.createTransformer(t),r=rw(e),i=rw(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ok.has(e)&&!i.values.length||Ok.has(t)&&!r.values.length?xXe(e,t):dC(Ree(TXe(r,i),i.values),n):B1(e,t)};function _ee(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?br(e,t,n):MO(e)(e,t)}const _Xe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>vr.update(t,n),stop:()=>Sd(t),now:()=>Ui.isProcessing?Ui.timestamp:Ws.now()}},Aee=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},V1=2e4;function OO(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<V1;)t+=n,r=e.next(t);return t>=V1?1/0:t}function AXe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(OO(r),V1);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Vl(i)}}const DXe=5;function Dee(e,t,n){const r=Math.max(t-DXe,0);return lee(n-e(r),t-r)}const kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yD=.001;function PXe({duration:e=kr.duration,bounce:t=kr.bounce,velocity:n=kr.velocity,mass:r=kr.mass}){let i,s,o=1-t;o=Xc(kr.minDamping,kr.maxDamping,o),e=Xc(kr.minDuration,kr.maxDuration,Vl(e)),o<1?(i=c=>{const d=c*o,f=d*e,p=d-n,m=Lk(c,o),y=Math.exp(-f);return yD-p/m*y},s=c=>{const f=c*o*e,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-f),w=Lk(Math.pow(c,2),o);return(-i(c)+yD>0?-1:1)*((p-m)*y)/w}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-yD+d*f},s=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const a=5/e,l=FXe(i,s,a);if(e=Bl(e),isNaN(l))return{stiffness:kr.stiffness,damping:kr.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const kXe=12;function FXe(e,t,n){let r=n;for(let i=1;i<kXe;i++)r=r-e(r)/t(r);return r}function Lk(e,t){return e*Math.sqrt(1-t*t)}const IXe=["duration","bounce"],MXe=["stiffness","damping","mass"];function GU(e,t){return t.some(n=>e[n]!==void 0)}function OXe(e){let t={velocity:kr.velocity,stiffness:kr.stiffness,damping:kr.damping,mass:kr.mass,isResolvedFromDuration:!1,...e};if(!GU(e,MXe)&&GU(e,IXe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Xc(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:kr.mass,stiffness:i,damping:s}}else{const n=PXe(e);t={...t,...n,mass:kr.mass},t.isResolvedFromDuration=!0}return t}function H1(e=kr.visualDuration,t=kr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=OXe({...n,velocity:-Vl(n.velocity||0)}),y=p||0,w=c/(2*Math.sqrt(l*d)),C=o-s,S=Vl(Math.sqrt(l/d)),R=Math.abs(C)<5;r||(r=R?kr.restSpeed.granular:kr.restSpeed.default),i||(i=R?kr.restDelta.granular:kr.restDelta.default);let E;if(w<1){const M=Lk(S,w);E=A=>{const D=Math.exp(-w*S*A);return o-D*((y+w*S*C)/M*Math.sin(M*A)+C*Math.cos(M*A))}}else if(w===1)E=M=>o-Math.exp(-S*M)*(C+(y+S*C)*M);else{const M=S*Math.sqrt(w*w-1);E=A=>{const D=Math.exp(-w*S*A),k=Math.min(M*A,300);return o-D*((y+w*S*C)*Math.sinh(k)+M*C*Math.cosh(k))/M}}const P={calculatedDuration:m&&f||null,next:M=>{const A=E(M);if(m)a.done=M>=f;else{let D=M===0?y:0;w<1&&(D=M===0?Bl(y):Dee(E,M,A));const k=Math.abs(D)<=r,I=Math.abs(o-A)<=i;a.done=k&&I}return a.value=a.done?o:A,a},toString:()=>{const M=Math.min(OO(P),V1),A=Aee(D=>P.next(M*D).value,M,30);return M+"ms "+A},toTransition:()=>{}};return P}H1.applyToOptions=e=>{const t=AXe(e,100,H1);return e.ease=t.ease,e.duration=Bl(t.duration),e.type="keyframes",e};function Nk({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=k=>a!==void 0&&k<a||l!==void 0&&k>l,y=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let w=n*t;const C=f+w,S=o===void 0?C:o(C);S!==C&&(w=S-f);const R=k=>-w*Math.exp(-k/r),E=k=>S+R(k),P=k=>{const I=R(k),B=E(k);p.done=Math.abs(I)<=c,p.value=p.done?S:B};let M,A;const D=k=>{m(p.value)&&(M=k,A=H1({keyframes:[p.value,y(p.value)],velocity:Dee(E,k,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return D(0),{calculatedDuration:null,next:k=>{let I=!1;return!A&&M===void 0&&(I=!0,P(k),D(k)),M!==void 0&&k>=M?A.next(k-M):(!I&&P(k),p)}}}function LXe(e,t,n){const r=[],i=n||Qc.mix||_ee,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ga:t;a=dC(l,a)}r.push(a)}return r}function NXe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(TO(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=LXe(t,r,i),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const p=tw(e[f],e[f+1],d);return a[f](p)};return n?d=>c(Xc(e[0],e[s-1],d)):c}function BXe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=tw(0,t,r);e.push(br(n,1,i))}}function VXe(e){const t=[0];return BXe(t,e.length-1),t}function HXe(e,t){return e.map(n=>n*t)}function GXe(e,t){return e.map(()=>t||vee).splice(0,e.length-1)}function Kv({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=JYe(r)?r.map(LU):LU(r),s={done:!1,value:t[0]},o=HXe(n&&n.length===t.length?n:VXe(t),e),a=NXe(o,t,{ease:Array.isArray(i)?i:GXe(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const UXe=e=>e!==null;function LO(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(UXe),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const zXe={decay:Nk,inertia:Nk,tween:Kv,keyframes:Kv,spring:H1};function Pee(e){typeof e.type=="string"&&(e.type=zXe[e.type])}class NO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const jXe=e=>e/100;class BO extends NO{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ws.now()&&this.tick(Ws.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Pee(t);const{type:n=Kv,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Kv;l!==Kv&&typeof a[0]!="number"&&(this.mixKeyframes=dC(jXe,_ee(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=OO(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:m,type:y,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const S=this.currentTime-c*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,P=r;if(f){const k=Math.min(this.currentTime,i)/a;let I=Math.floor(k),B=k%1;!B&&k>=1&&(B=1),B===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(p==="reverse"?(B=1-B,m&&(B-=m/a)):p==="mirror"&&(P=o)),E=Xc(0,1,B)*a}const M=R?{done:!1,value:d[0]}:P.next(E);s&&(M.value=s(M.value));let{done:A}=M;!R&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return D&&y!==Nk&&(M.value=LO(d,this.options,C,this.speed)),w&&w(M.value),D&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return Vl(this.calculatedDuration)}get time(){return Vl(this.currentTime)}set time(t){t=Bl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ws.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vl(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=_Xe,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ws.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function WXe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ph=e=>e*180/Math.PI,Bk=e=>{const t=Ph(Math.atan2(e[1],e[0]));return Vk(t)},$Xe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Bk,rotateZ:Bk,skewX:e=>Ph(Math.atan(e[1])),skewY:e=>Ph(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Vk=e=>(e=e%360,e<0&&(e+=360),e),UU=Bk,zU=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jU=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qXe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zU,scaleY:jU,scale:e=>(zU(e)+jU(e))/2,rotateX:e=>Vk(Ph(Math.atan2(e[6],e[5]))),rotateY:e=>Vk(Ph(Math.atan2(-e[2],e[0]))),rotateZ:UU,rotate:UU,skewX:e=>Ph(Math.atan(e[4])),skewY:e=>Ph(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Hk(e){return e.includes("scale")?1:0}function Gk(e,t){if(!e||e==="none")return Hk(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=qXe,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$Xe,i=a}if(!i)return Hk(t);const s=r[t],o=i[1].split(",").map(YXe);return typeof s=="function"?s(o):o[s]}const KXe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Gk(n,t)};function YXe(e){return parseFloat(e.trim())}const Fm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Im=new Set(Fm),WU=e=>e===km||e===Wt,XXe=new Set(["x","y","z"]),QXe=Fm.filter(e=>!XXe.has(e));function JXe(e){const t=[];return QXe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const qh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gk(t,"x"),y:(e,{transform:t})=>Gk(t,"y")};qh.translateX=qh.x;qh.translateY=qh.y;const Kh=new Set;let Uk=!1,zk=!1,jk=!1;function kee(){if(zk){const e=Array.from(Kh).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=JXe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zk=!1,Uk=!1,Kh.forEach(e=>e.complete(jk)),Kh.clear()}function Fee(){Kh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zk=!0)})}function ZXe(){jk=!0,Fee(),kee(),jk=!1}class VO{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Kh.add(this),Uk||(Uk=!0,vr.read(Fee),vr.resolveKeyframes(kee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}WXe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Kh.delete(this)}cancel(){this.state==="scheduled"&&(Kh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eQe=e=>e.startsWith("--");function tQe(e,t,n){eQe(t)?e.style.setProperty(t,n):e.style[t]=n}const nQe=RO(()=>window.ScrollTimeline!==void 0),rQe={};function iQe(e,t){const n=RO(e);return()=>rQe[t]??n()}const Iee=iQe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gv=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$U={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gv([0,.65,.55,1]),circOut:gv([.55,0,1,.45]),backIn:gv([.31,.01,.66,-.59]),backOut:gv([.33,1.53,.69,.99])};function Mee(e,t){if(e)return typeof e=="function"?Iee()?Aee(e,t):"ease-out":yee(e)?gv(e):Array.isArray(e)?e.map(n=>Mee(n,t)||$U.easeOut):$U[e]}function sQe(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const f=Mee(a,i);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(d,p)}function Oee(e){return typeof e=="function"&&"applyToOptions"in e}function oQe({type:e,...t}){return Oee(e)&&Iee()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class aQe extends NO{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,TO(typeof t.type!="string");const c=oQe(t);this.animation=sQe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=LO(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):tQe(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vl(Number(t))}get time(){return Vl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Bl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&nQe()?(this.animation.timeline=t,ga):n(this)}}const Lee={anticipate:pee,backInOut:fee,circInOut:mee};function lQe(e){return e in Lee}function cQe(e){typeof e.ease=="string"&&lQe(e.ease)&&(e.ease=Lee[e.ease])}const qU=10;class uQe extends aQe{constructor(t){cQe(t),Pee(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new BO({...o,autoplay:!1}),l=Bl(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-qU).value,a.sample(l).value,qU),a.stop()}}const KU=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ed.test(e)||e==="0")&&!e.startsWith("url("));function dQe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hQe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=KU(i,t),a=KU(s,t);return!o||!a?!1:dQe(e)||(n==="spring"||Oee(n))&&r}function Wk(e){e.duration=0,e.type}const fQe=new Set(["opacity","clipPath","filter","transform"]),pQe=RO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gQe(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return pQe()&&n&&fQe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const mQe=40;class vQe extends NO{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ws.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...f},m=d?.KeyframeResolver||VO;this.keyframeResolver=new m(a,(y,w,C)=>this.onKeyframesResolved(y,w,p,!C),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Ws.now(),hQe(t,s,o,a)||((Qc.instantAnimations||!l)&&d?.(LO(t,r,n)),t[0]=t[t.length-1],Wk(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mQe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&gQe(p)?new uQe({...p,element:p.motionValue.owner.current}):new BO(p);m.finished.then(()=>this.notifyFinished()).catch(ga),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ZXe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const yQe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wQe(e){const t=yQe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Nee(e,t,n=1){const[r,i]=wQe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return see(o)?parseFloat(o):o}return kO(i)?Nee(i,t,n+1):i}function HO(e,t){return e?.[t]??e?.default??e}const Bee=new Set(["width","height","top","left","right","bottom",...Fm]),CQe={test:e=>e==="auto",parse:e=>e},Vee=e=>t=>t.test(e),Hee=[km,Wt,Hl,Lu,dXe,uXe,CQe],YU=e=>Hee.find(Vee(e));function bQe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aee(e):!0}const xQe=new Set(["brightness","contrast","saturate","opacity"]);function SQe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(FO)||[];if(!r)return e;const i=n.replace(r,"");let s=xQe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const EQe=/\b([a-z-]*)\(.*?\)/gu,$k={...Ed,getAnimatableNone:e=>{const t=e.match(EQe);return t?t.map(SQe).join(" "):e}},XU={...km,transform:Math.round},TQe={rotate:Lu,rotateX:Lu,rotateY:Lu,rotateZ:Lu,scale:Sx,scaleX:Sx,scaleY:Sx,scaleZ:Sx,skew:Lu,skewX:Lu,skewY:Lu,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:nw,originX:NU,originY:NU,originZ:Wt},GO={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt,...TQe,zIndex:XU,fillOpacity:nw,strokeOpacity:nw,numOctaves:XU},RQe={...GO,color:oi,backgroundColor:oi,outlineColor:oi,fill:oi,stroke:oi,borderColor:oi,borderTopColor:oi,borderRightColor:oi,borderBottomColor:oi,borderLeftColor:oi,filter:$k,WebkitFilter:$k},Gee=e=>RQe[e];function Uee(e,t){let n=Gee(e);return n!==$k&&(n=Ed),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _Qe=new Set(["auto","none","0"]);function AQe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!_Qe.has(s)&&rw(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Uee(n,i)}class DQe extends VO{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),kO(c))){const d=Nee(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Bee.has(r)||t.length!==2)return;const[i,s]=t,o=YU(i),a=YU(s);if(o!==a)if(WU(o)&&WU(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else qh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||bQe(t[i]))&&r.push(i);r.length&&AQe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=qh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function PQe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const zee=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function jee(e){return oee(e)&&"offsetHeight"in e}const QU=30,kQe=e=>!isNaN(parseFloat(e));class FQe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ws.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ws.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kQe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new _O);const r=this.events[t].add(n);return t==="change"?()=>{r(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ws.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>QU)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QU);return lee(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function em(e,t){return new FQe(e,t)}const{schedule:UO}=wee(queueMicrotask,!1),ka={x:!1,y:!1};function Wee(){return ka.x||ka.y}function IQe(e){return e==="x"||e==="y"?ka[e]?null:(ka[e]=!0,()=>{ka[e]=!1}):ka.x||ka.y?null:(ka.x=ka.y=!0,()=>{ka.x=ka.y=!1})}function $ee(e,t){const n=PQe(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function JU(e){return!(e.pointerType==="touch"||Wee())}function MQe(e,t,n={}){const[r,i,s]=$ee(e,n),o=a=>{if(!JU(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=f=>{JU(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const qee=(e,t)=>t?e===t?!0:qee(e,t.parentElement):!1,zO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,OQe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LQe(e){return OQe.has(e.tagName)||e.tabIndex!==-1}const aS=new WeakSet;function ZU(e){return t=>{t.key==="Enter"&&e(t)}}function wD(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NQe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ZU(()=>{if(aS.has(n))return;wD(n,"down");const i=ZU(()=>{wD(n,"up")}),s=()=>wD(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function e8(e){return zO(e)&&!Wee()}function BQe(e,t,n={}){const[r,i,s]=$ee(e,n),o=a=>{const l=a.currentTarget;if(!e8(a))return;aS.add(l);const c=t(l,a),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),aS.has(l)&&aS.delete(l),e8(m)&&typeof c=="function"&&c(m,{success:y})},f=m=>{d(m,l===window||l===document||n.useGlobalTarget||qee(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),jee(a)&&(a.addEventListener("focus",c=>NQe(c,i)),!LQe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Kee(e){return oee(e)&&"ownerSVGElement"in e}function VQe(e){return Kee(e)&&e.tagName==="svg"}const us=e=>!!(e&&e.getVelocity),HQe=[...Hee,oi,Ed],GQe=e=>HQe.find(Vee(e)),jO=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class UQe extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=jee(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zQe({children:e,isPresent:t,anchorX:n,root:r}){const i=T.useId(),s=T.useRef(null),o=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(jO);return T.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:f,right:p}=o.current;if(t||!s.current||!l||!c)return;const m=n==="left"?`left: ${f}`:`right: ${p}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),F.jsx(UQe,{isPresent:t,childRef:s,sizeRef:o,children:T.cloneElement(e,{ref:s})})}const jQe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=bO(WQe),d=T.useId();let f=!0,p=T.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:m=>{c.set(m,!0);for(const y of c.values())if(!y)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return s&&f&&(p={...p}),T.useMemo(()=>{c.forEach((m,y)=>c.set(y,!1))},[n]),T.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=F.jsx(zQe,{isPresent:n,anchorX:a,root:l,children:e})),F.jsx(mT.Provider,{value:p,children:e})};function WQe(){return new Map}function Yee(e=!0){const t=T.useContext(mT);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=T.useId();T.useEffect(()=>{if(e)return i(s)},[e]);const o=T.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Ex=e=>e.key||"";function t8(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const CD=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=Yee(o),f=T.useMemo(()=>t8(e),[e]),p=o&&!c?[]:f.map(Ex),m=T.useRef(!0),y=T.useRef(f),w=bO(()=>new Map),[C,S]=T.useState(f),[R,E]=T.useState(f);iee(()=>{m.current=!1,y.current=f;for(let A=0;A<R.length;A++){const D=Ex(R[A]);p.includes(D)?w.delete(D):w.get(D)!==!0&&w.set(D,!1)}},[R,p.length,p.join("-")]);const P=[];if(f!==C){let A=[...f];for(let D=0;D<R.length;D++){const k=R[D],I=Ex(k);p.includes(I)||(A.splice(D,0,k),P.push(k))}return s==="wait"&&P.length&&(A=P),E(t8(A)),S(f),null}const{forceRender:M}=T.useContext(CO);return F.jsx(F.Fragment,{children:R.map(A=>{const D=Ex(A),k=o&&!c?!1:f===R||p.includes(D),I=()=>{if(w.has(D))w.set(D,!0);else return;let B=!0;w.forEach(N=>{N||(B=!1)}),B&&(M?.(),E(y.current),o&&d?.(),r&&r())};return F.jsx(jQe,{isPresent:k,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:k?void 0:I,anchorX:a,children:A},D)})})},Xee=T.createContext({strict:!1}),n8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tm={};for(const e in n8)tm[e]={isEnabled:t=>n8[e].some(n=>!!t[n])};function $Qe(e){for(const t in e)tm[t]={...tm[t],...e[t]}}const qQe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function G1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qQe.has(e)}let Qee=e=>!G1(e);function KQe(e){typeof e=="function"&&(Qee=t=>t.startsWith("on")?!G1(t):e(t))}try{KQe(require("@emotion/is-prop-valid").default)}catch{}function YQe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Qee(i)||n===!0&&G1(i)||!t&&!G1(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const vT=T.createContext({});function yT(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function iw(e){return typeof e=="string"||Array.isArray(e)}const WO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$O=["initial",...WO];function wT(e){return yT(e.animate)||$O.some(t=>iw(e[t]))}function Jee(e){return!!(wT(e)||e.variants)}function XQe(e,t){if(wT(e)){const{initial:n,animate:r}=e;return{initial:n===!1||iw(n)?n:void 0,animate:iw(r)?r:void 0}}return e.inherit!==!1?t:{}}function QQe(e){const{initial:t,animate:n}=XQe(e,T.useContext(vT));return T.useMemo(()=>({initial:t,animate:n}),[r8(t),r8(n)])}function r8(e){return Array.isArray(e)?e.join(" "):e}const sw={};function JQe(e){for(const t in e)sw[t]=e[t],PO(t)&&(sw[t].isCSSVariable=!0)}function Zee(e,{layout:t,layoutId:n}){return Im.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!sw[e]||e==="opacity")}const ZQe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eJe=Fm.length;function tJe(e,t,n){let r="",i=!0;for(let s=0;s<eJe;s++){const o=Fm[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=zee(a,GO[o]);if(!l){i=!1;const d=ZQe[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function qO(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Im.has(l)){o=!0;continue}else if(PO(l)){i[l]=c;continue}else{const d=zee(c,GO[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=tJe(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const KO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ete(e,t,n){for(const r in t)!us(t[r])&&!Zee(r,n)&&(e[r]=t[r])}function nJe({transformTemplate:e},t){return T.useMemo(()=>{const n=KO();return qO(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rJe(e,t){const n=e.style||{},r={};return ete(r,n,e),Object.assign(r,nJe(e,t)),r}function iJe(e,t){const n={},r=rJe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sJe={offset:"stroke-dashoffset",array:"stroke-dasharray"},oJe={offset:"strokeDashoffset",array:"strokeDasharray"};function aJe(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?sJe:oJe;e[s.offset]=Wt.transform(-r);const o=Wt.transform(t),a=Wt.transform(n);e[s.array]=`${o} ${a}`}function tte(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(qO(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&aJe(f,i,s,o,!1)}const nte=()=>({...KO(),attrs:{}}),rte=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lJe(e,t,n,r){const i=T.useMemo(()=>{const s=nte();return tte(s,t,rte(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};ete(s,e.style,e),i.style={...s,...i.style}}return i}const cJe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YO(e){return typeof e!="string"||e.includes("-")?!1:!!(cJe.indexOf(e)>-1||/[A-Z]/u.test(e))}function uJe(e,t,n,{latestValues:r},i,s=!1){const a=(YO(e)?lJe:iJe)(t,r,i,e),l=YQe(t,typeof e=="string",s),c=e!==T.Fragment?{...l,...a,ref:n}:{},{children:d}=t,f=T.useMemo(()=>us(d)?d.get():d,[d]);return T.createElement(e,{...c,children:f})}function i8(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function XO(e,t,n,r){if(typeof t=="function"){const[i,s]=i8(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=i8(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function lS(e){return us(e)?e.get():e}function dJe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:hJe(n,r,i,e),renderState:t()}}function hJe(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=lS(s[p]);let{initial:o,animate:a}=e;const l=wT(e),c=Jee(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!yT(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const y=XO(e,p[m]);if(y){const{transitionEnd:w,transition:C,...S}=y;for(const R in S){let E=S[R];if(Array.isArray(E)){const P=d?E.length-1:0;E=E[P]}E!==null&&(i[R]=E)}for(const R in w)i[R]=w[R]}}}return i}const ite=e=>(t,n)=>{const r=T.useContext(vT),i=T.useContext(mT),s=()=>dJe(e,t,r,i);return n?s():bO(s)};function QO(e,t,n){const{style:r}=e,i={};for(const s in r)(us(r[s])||t.style&&us(t.style[s])||Zee(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const fJe=ite({scrapeMotionValuesFromProps:QO,createRenderState:KO});function ste(e,t,n){const r=QO(e,t,n);for(const i in e)if(us(e[i])||us(t[i])){const s=Fm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const pJe=ite({scrapeMotionValuesFromProps:ste,createRenderState:nte}),gJe=Symbol.for("motionComponentSymbol");function Qp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mJe(e,t,n){return T.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Qp(n)&&(n.current=r))},[t])}const JO=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vJe="framerAppearId",ote="data-"+JO(vJe),ate=T.createContext({});function yJe(e,t,n,r,i){const{visualElement:s}=T.useContext(vT),o=T.useContext(Xee),a=T.useContext(mT),l=T.useContext(jO).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=T.useContext(ate);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&wJe(c.current,n,i,f);const p=T.useRef(!1);T.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const m=n[ote],y=T.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return iee(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),d.enteringChildren=void 0)}),d}function wJe(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:lte(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Qp(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function lte(e){if(e)return e.options.allowProjection!==!1?e.projection:lte(e.parent)}function bD(e,{forwardMotionProps:t=!1}={},n,r){n&&$Qe(n);const i=YO(e)?pJe:fJe;function s(a,l){let c;const d={...T.useContext(jO),...a,layoutId:CJe(a)},{isStatic:f}=d,p=QQe(a),m=i(a,f);if(!f&&xO){bJe();const y=xJe(d);c=y.MeasureLayout,p.visualElement=yJe(e,m,d,r,y.ProjectionNode)}return F.jsxs(vT.Provider,{value:p,children:[c&&p.visualElement?F.jsx(c,{visualElement:p.visualElement,...d}):null,uJe(e,a,mJe(m,p.visualElement,l),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=T.forwardRef(s);return o[gJe]=e,o}function CJe({layoutId:e}){const t=T.useContext(CO).id;return t&&e!==void 0?t+"-"+e:e}function bJe(e,t){T.useContext(Xee).strict}function xJe(e){const{drag:t,layout:n}=tm;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function SJe(e,t){if(typeof Proxy>"u")return bD;const n=new Map,r=(s,o)=>bD(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,bD(o,void 0,e,t)),n.get(o))})}function cte({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function EJe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TJe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xD(e){return e===void 0||e===1}function qk({scale:e,scaleX:t,scaleY:n}){return!xD(e)||!xD(t)||!xD(n)}function wh(e){return qk(e)||ute(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ute(e){return s8(e.x)||s8(e.y)}function s8(e){return e&&e!=="0%"}function U1(e,t,n){const r=e-n,i=t*r;return n+i}function o8(e,t,n,r,i){return i!==void 0&&(e=U1(e,i,r)),U1(e,n,r)+t}function Kk(e,t=0,n=1,r,i){e.min=o8(e.min,t,n,r,i),e.max=o8(e.max,t,n,r,i)}function dte(e,{x:t,y:n}){Kk(e.x,t.translate,t.scale,t.originPoint),Kk(e.y,n.translate,n.scale,n.originPoint)}const a8=.999999999999,l8=1.0000000000001;function RJe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zp(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,dte(e,o)),r&&wh(s.latestValues)&&Zp(e,s.latestValues))}t.x<l8&&t.x>a8&&(t.x=1),t.y<l8&&t.y>a8&&(t.y=1)}function Jp(e,t){e.min=e.min+t,e.max=e.max+t}function c8(e,t,n,r,i=.5){const s=br(e.min,e.max,i);Kk(e,t,n,s,r)}function Zp(e,t){c8(e.x,t.x,t.scaleX,t.scale,t.originX),c8(e.y,t.y,t.scaleY,t.scale,t.originY)}function hte(e,t){return cte(TJe(e.getBoundingClientRect(),t))}function _Je(e,t,n){const r=hte(e,n),{scroll:i}=t;return i&&(Jp(r.x,i.offset.x),Jp(r.y,i.offset.y)),r}const u8=()=>({translate:0,scale:1,origin:0,originPoint:0}),eg=()=>({x:u8(),y:u8()}),d8=()=>({min:0,max:0}),jr=()=>({x:d8(),y:d8()}),Yk={current:null},fte={current:!1};function AJe(){if(fte.current=!0,!!xO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yk.current=e.matches;e.addEventListener("change",t),t()}else Yk.current=!1}const DJe=new WeakMap;function PJe(e,t,n){for(const r in t){const i=t[r],s=n[r];if(us(i))e.addValue(r,i);else if(us(s))e.addValue(r,em(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,em(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const h8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kJe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ws.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,vr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=wT(n),this.isVariantNode=Jee(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&us(m)&&m.set(l[p])}}mount(t){this.current=t,DJe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),fte.current||AJe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yk.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sd(this.notifyUpdate),Sd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Im.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&vr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in tm){const n=tm[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<h8.length;r++){const i=h8[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=PJe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=em(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(see(r)||aee(r))?r=parseFloat(r):!GQe(r)&&Ed.test(n)&&(r=Uee(t,n)),this.setBaseTarget(t,us(r)?r.get():r)),us(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=XO(this.props,n,this.presenceContext?.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!us(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new _O),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){UO.render(this.render)}}class pte extends kJe{constructor(){super(...arguments),this.KeyframeResolver=DQe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;us(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gte(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function FJe(e){return window.getComputedStyle(e)}class IJe extends pte{constructor(){super(...arguments),this.type="html",this.renderInstance=gte}readValueFromInstance(t,n){if(Im.has(n))return this.projection?.isProjecting?Hk(n):KXe(t,n);{const r=FJe(t),i=(PO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return hte(t,n)}build(t,n,r){qO(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return QO(t,n,r)}}const mte=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MJe(e,t,n,r){gte(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(mte.has(i)?i:JO(i),t.attrs[i])}class OJe extends pte{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Im.has(n)){const r=Gee(n);return r&&r.default||0}return n=mte.has(n)?n:JO(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ste(t,n,r)}build(t,n,r){tte(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){MJe(t,n,r,i)}mount(t){this.isSVGTag=rte(t.tagName),super.mount(t)}}const LJe=(e,t)=>YO(e)?new OJe(t):new IJe(t,{allowProjection:e!==T.Fragment});function Tg(e,t,n){const r=e.getProps();return XO(r,t,n!==void 0?n:r.custom,e)}const Xk=e=>Array.isArray(e);function NJe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,em(n))}function BJe(e){return Xk(e)?e[e.length-1]||0:e}function VJe(e,t){const n=Tg(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=BJe(s[o]);NJe(e,o,a)}}function HJe(e){return!!(us(e)&&e.add)}function Qk(e,t){const n=e.getValue("willChange");if(HJe(n))return n.add(t);if(!n&&Qc.WillChange){const r=new Qc.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function vte(e){return e.props[ote]}const GJe=e=>e!==null;function UJe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(GJe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const zJe={type:"spring",stiffness:500,damping:25,restSpeed:10},jJe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WJe={type:"keyframes",duration:.8},$Je={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qJe=(e,{keyframes:t})=>t.length>2?WJe:Im.has(e)?e.startsWith("scale")?jJe(t[1]):zJe:$Je;function KJe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const ZO=(e,t,n,r={},i,s)=>o=>{const a=HO(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Bl(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};KJe(a)||Object.assign(d,qJe(e,d)),d.duration&&(d.duration=Bl(d.duration)),d.repeatDelay&&(d.repeatDelay=Bl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Wk(d),d.delay===0&&(f=!0)),(Qc.instantAnimations||Qc.skipAnimations)&&(f=!0,Wk(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const p=UJe(d.keyframes,a);if(p!==void 0){vr.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new BO(d):new vQe(d)};function YJe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function yte(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),p=a[d];if(p===void 0||c&&YJe(c,d))continue;const m={delay:n,...HO(s||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=vte(e);if(S){const R=window.MotionHandoffAnimation(S,d,vr);R!==null&&(m.startTime=R,w=!0)}}Qk(e,d),f.start(ZO(d,f,p,e.shouldReduceMotion&&Bee.has(d)?{type:!1}:m,e,w));const C=f.animation;C&&l.push(C)}return o&&Promise.all(l).then(()=>{vr.update(()=>{o&&VJe(e,o)})}),l}function wte(e,t,n,r=0,i=1){const s=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Jk(e,t,n={}){const r=Tg(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(yte(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return XJe(e,t,l,c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function XJe(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Jk(l,t,{...o,delay:n+(typeof r=="function"?0:r)+wte(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function QJe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Jk(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Jk(e,t,n);else{const i=typeof t=="function"?Tg(e,t,n.custom):t;r=Promise.all(yte(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Cte(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const JJe=$O.length;function bte(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bte(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<JJe;n++){const r=$O[n],i=e.props[r];(iw(i)||i===!1)&&(t[r]=i)}return t}const ZJe=[...WO].reverse(),eZe=WO.length;function tZe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>QJe(e,n,r)))}function nZe(e){let t=tZe(e),n=f8(),r=!0;const i=l=>(c,d)=>{const f=Tg(e,d,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:m,...y}=f;c={...c,...y,...m}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,d=bte(e.parent)||{},f=[],p=new Set;let m={},y=1/0;for(let C=0;C<eZe;C++){const S=ZJe[C],R=n[S],E=c[S]!==void 0?c[S]:d[S],P=iw(E),M=S===l?R.isActive:null;M===!1&&(y=C);let A=E===d[S]&&E!==c[S]&&P;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),R.protectedKeys={...m},!R.isActive&&M===null||!E&&!R.prevProp||yT(E)||typeof E=="boolean")continue;const D=rZe(R.prevProp,E);let k=D||S===l&&R.isActive&&!A&&P||C>y&&P,I=!1;const B=Array.isArray(E)?E:[E];let N=B.reduce(i(S),{});M===!1&&(N={});const{prevResolvedValues:H={}}=R,G={...H,...N},oe=se=>{k=!0,p.has(se)&&(I=!0,p.delete(se)),R.needsAnimating[se]=!0;const fe=e.getValue(se);fe&&(fe.liveStyle=!1)};for(const se in G){const fe=N[se],ne=H[se];if(m.hasOwnProperty(se))continue;let L=!1;Xk(fe)&&Xk(ne)?L=!Cte(fe,ne):L=fe!==ne,L?fe!=null?oe(se):p.add(se):fe!==void 0&&p.has(se)?oe(se):R.protectedKeys[se]=!0}R.prevProp=E,R.prevResolvedValues=N,R.isActive&&(m={...m,...N}),r&&e.blockInitialAnimation&&(k=!1);const le=A&&D;k&&(!le||I)&&f.push(...B.map(se=>{const fe={type:S};if(typeof se=="string"&&r&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,L=Tg(ne,se);if(ne.enteringChildren&&L){const{delayChildren:ae}=L.transition||{};fe.delay=wte(ne.enteringChildren,e,ae)}}return{animation:se,options:fe}}))}if(p.size){const C={};if(typeof c.initial!="boolean"){const S=Tg(e,Array.isArray(c.initial)?c.initial[0]:c.initial);S&&S.transition&&(C.transition=S.transition)}p.forEach(S=>{const R=e.getBaseTarget(S),E=e.getValue(S);E&&(E.liveStyle=!0),C[S]=R??null}),f.push({animation:C})}let w=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function a(l,c){if(n[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,c)),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=f8(),r=!0}}}function rZe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Cte(t,e):!1}function fh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f8(){return{animate:fh(!0),whileInView:fh(),whileHover:fh(),whileTap:fh(),whileDrag:fh(),whileFocus:fh(),exit:fh()}}class Vd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class iZe extends Vd{constructor(t){super(t),t.animationState||(t.animationState=nZe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();yT(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let sZe=0;class oZe extends Vd{constructor(){super(...arguments),this.id=sZe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const aZe={animation:{Feature:iZe},exit:{Feature:oZe}};function ow(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function pC(e){return{point:{x:e.pageX,y:e.pageY}}}const lZe=e=>t=>zO(t)&&e(t,pC(t));function Yv(e,t,n,r){return ow(e,t,lZe(n),r)}const xte=1e-4,cZe=1-xte,uZe=1+xte,Ste=.01,dZe=0-Ste,hZe=0+Ste;function ks(e){return e.max-e.min}function fZe(e,t,n){return Math.abs(e-t)<=n}function p8(e,t,n,r=.5){e.origin=r,e.originPoint=br(t.min,t.max,e.origin),e.scale=ks(n)/ks(t),e.translate=br(n.min,n.max,e.origin)-e.originPoint,(e.scale>=cZe&&e.scale<=uZe||isNaN(e.scale))&&(e.scale=1),(e.translate>=dZe&&e.translate<=hZe||isNaN(e.translate))&&(e.translate=0)}function Xv(e,t,n,r){p8(e.x,t.x,n.x,r?r.originX:void 0),p8(e.y,t.y,n.y,r?r.originY:void 0)}function g8(e,t,n){e.min=n.min+t.min,e.max=e.min+ks(t)}function pZe(e,t,n){g8(e.x,t.x,n.x),g8(e.y,t.y,n.y)}function m8(e,t,n){e.min=t.min-n.min,e.max=e.min+ks(t)}function Qv(e,t,n){m8(e.x,t.x,n.x),m8(e.y,t.y,n.y)}function na(e){return[e("x"),e("y")]}const Ete=({current:e})=>e?e.ownerDocument.defaultView:null,v8=(e,t)=>Math.abs(e-t);function gZe(e,t){const n=v8(e.x,t.x),r=v8(e.y,t.y);return Math.sqrt(n**2+r**2)}class Tte{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=ED(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=gZe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:w}=p,{timestamp:C}=Ui;this.history.push({...w,timestamp:C});const{onStart:S,onMove:R}=this.handlers;m||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=SD(m,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ED(p.type==="pointercancel"?this.lastMoveEventInfo:SD(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,S),w&&w(p,S)},!zO(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=pC(t),l=SD(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ui;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,ED(l,this.history)),this.removeListeners=dC(Yv(this.contextWindow,"pointermove",this.handlePointerMove),Yv(this.contextWindow,"pointerup",this.handlePointerUp),Yv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Sd(this.updatePoint)}}function SD(e,t){return t?{point:t(e.point)}:e}function y8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ED({point:e},t){return{point:e,delta:y8(e,Rte(t)),offset:y8(e,mZe(t)),velocity:vZe(t,.1)}}function mZe(e){return e[0]}function Rte(e){return e[e.length-1]}function vZe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Rte(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Bl(t)));)n--;if(!r)return{x:0,y:0};const s=Vl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yZe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?br(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?br(n,e,r.max):Math.min(e,n)),e}function w8(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wZe(e,{top:t,left:n,bottom:r,right:i}){return{x:w8(e.x,n,i),y:w8(e.y,t,r)}}function C8(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function CZe(e,t){return{x:C8(e.x,t.x),y:C8(e.y,t.y)}}function bZe(e,t){let n=.5;const r=ks(e),i=ks(t);return i>r?n=tw(t.min,t.max-r,e.min):r>i&&(n=tw(e.min,e.max-i,t.min)),Xc(0,1,n)}function xZe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Zk=.35;function SZe(e=Zk){return e===!1?e=0:e===!0&&(e=Zk),{x:b8(e,"left","right"),y:b8(e,"top","bottom")}}function b8(e,t,n){return{min:x8(e,t),max:x8(e,n)}}function x8(e,t){return typeof e=="number"?e:e[t]||0}const EZe=new WeakMap;class TZe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pC(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:y,onDragStart:w}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IQe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),na(S=>{let R=this.getAxisMotionValue(S).get()||0;if(Hl.test(R)){const{projection:E}=this.visualElement;if(E&&E.layout){const P=E.layout.layoutBox[S];P&&(R=ks(P)*(parseFloat(R)/100))}}this.originPoint[S]=R}),w&&vr.postRender(()=>w(f,p)),Qk(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:w,onDrag:C}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=p;if(y&&this.currentDirection===null){this.currentDirection=RZe(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),C&&C(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>na(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Tte(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Ete(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&vr.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Tx(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=yZe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Qp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=wZe(r.layoutBox,t):this.constraints=!1,this.elastic=SZe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&na(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=xZe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Qp(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_Je(r,i.root,this.visualElement.getTransformPagePoint());let o=CZe(i.layout.layoutBox,s);if(n){const a=n(EJe(o));this.hasMutatedConstraints=!!a,a&&(o=cte(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=na(d=>{if(!Tx(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Qk(this.visualElement,t),r.start(ZO(t,r,0,n,this.visualElement,!1))}stopAnimation(){na(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){na(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){na(n=>{const{drag:r}=this.getProps();if(!Tx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-br(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};na(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=bZe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),na(o=>{if(!Tx(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(br(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;EZe.set(this.visualElement,this);const t=this.visualElement.current,n=Yv(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vr.read(r);const o=ow(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(na(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Zk,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Tx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function RZe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class _Ze extends Vd{constructor(t){super(t),this.removeGroupControls=ga,this.removeListeners=ga,this.controls=new TZe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ga}unmount(){this.removeGroupControls(),this.removeListeners()}}const S8=e=>(t,n)=>{e&&vr.postRender(()=>e(t,n))};class AZe extends Vd{constructor(){super(...arguments),this.removePointerDownListener=ga}onPointerDown(t){this.session=new Tte(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ete(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:S8(t),onStart:S8(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&vr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Yv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Z0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=E8(e,t.target.x),r=E8(e,t.target.y);return`${n}% ${r}%`}},DZe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ed.parse(e);if(i.length>5)return r;const s=Ed.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=br(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let TD=!1;class PZe extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;JQe(kZe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),TD&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,TD=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||vr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),UO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;TD=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _te(e){const[t,n]=Yee(),r=T.useContext(CO);return F.jsx(PZe,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(ate),isPresent:t,safeToRemove:n})}const kZe={borderRadius:{...Z0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Z0,borderTopRightRadius:Z0,borderBottomLeftRadius:Z0,borderBottomRightRadius:Z0,boxShadow:DZe};function FZe(e,t,n){const r=us(e)?e:em(e);return r.start(ZO("",r,t,n)),r.animation}const IZe=(e,t)=>e.depth-t.depth;class MZe{constructor(){this.children=[],this.isDirty=!1}add(t){SO(this.children,t),this.isDirty=!0}remove(t){EO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IZe),this.isDirty=!1,this.children.forEach(t)}}function OZe(e,t){const n=Ws.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Sd(r),e(s-t))};return vr.setup(r,!0),()=>Sd(r)}const Ate=["TopLeft","TopRight","BottomLeft","BottomRight"],LZe=Ate.length,T8=e=>typeof e=="string"?parseFloat(e):e,R8=e=>typeof e=="number"||Wt.test(e);function NZe(e,t,n,r,i,s){i?(e.opacity=br(0,n.opacity??1,BZe(r)),e.opacityExit=br(t.opacity??1,0,VZe(r))):s&&(e.opacity=br(t.opacity??1,n.opacity??1,r));for(let o=0;o<LZe;o++){const a=`border${Ate[o]}Radius`;let l=_8(t,a),c=_8(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||R8(l)===R8(c)?(e[a]=Math.max(br(T8(l),T8(c),r),0),(Hl.test(c)||Hl.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=br(t.rotate||0,n.rotate||0,r))}function _8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BZe=Dte(0,.5,gee),VZe=Dte(.5,.95,ga);function Dte(e,t,n){return r=>r<e?0:r>t?1:n(tw(e,t,r))}function A8(e,t){e.min=t.min,e.max=t.max}function Xo(e,t){A8(e.x,t.x),A8(e.y,t.y)}function D8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function P8(e,t,n,r,i){return e-=t,e=U1(e,1/n,r),i!==void 0&&(e=U1(e,1/i,r)),e}function HZe(e,t=0,n=1,r=.5,i,s=e,o=e){if(Hl.test(t)&&(t=parseFloat(t),t=br(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=br(s.min,s.max,r);e===s&&(a-=t),e.min=P8(e.min,t,n,a,i),e.max=P8(e.max,t,n,a,i)}function k8(e,t,[n,r,i],s,o){HZe(e,t[n],t[r],t[i],t.scale,s,o)}const GZe=["x","scaleX","originX"],UZe=["y","scaleY","originY"];function F8(e,t,n,r){k8(e.x,t,GZe,n?n.x:void 0,r?r.x:void 0),k8(e.y,t,UZe,n?n.y:void 0,r?r.y:void 0)}function I8(e){return e.translate===0&&e.scale===1}function Pte(e){return I8(e.x)&&I8(e.y)}function M8(e,t){return e.min===t.min&&e.max===t.max}function zZe(e,t){return M8(e.x,t.x)&&M8(e.y,t.y)}function O8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kte(e,t){return O8(e.x,t.x)&&O8(e.y,t.y)}function L8(e){return ks(e.x)/ks(e.y)}function N8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jZe{constructor(){this.members=[]}add(t){SO(this.members,t),t.scheduleRender()}remove(t){if(EO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WZe(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const RD=["","X","Y","Z"],$Ze=1e3;let qZe=0;function _D(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Fte(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vte(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",vr,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Fte(r)}function Ite({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=qZe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XZe),this.nodes.forEach(eet),this.nodes.forEach(tet),this.nodes.forEach(QZe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new MZe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _O),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Kee(o)&&!VQe(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;vr.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=OZe(p,250),cS.hasAnimatedSinceResize&&(cS.hasAnimatedSinceResize=!1,this.nodes.forEach(H8)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||oet,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=c.getProps(),S=!this.targetLayout||!kte(this.targetLayout,m),R=!f&&p;if(this.options.layoutRoot||this.resumeFrom||R||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...HO(y,"layout"),onPlay:w,onComplete:C};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,R)}else f||H8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(net),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fte(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B8);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(V8);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ZZe),this.nodes.forEach(KZe),this.nodes.forEach(YZe)):this.nodes.forEach(V8),this.clearAllSnapshots();const a=Ws.now();Ui.delta=Xc(0,1e3/60,a-Ui.timestamp),Ui.timestamp=a,Ui.isProcessing=!0,pD.update.process(Ui),pD.preRender.process(Ui),pD.render.process(Ui),Ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JZe),this.sharedNodes.forEach(ret)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ks(this.snapshot.measuredBox.x)&&!ks(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Pte(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||wh(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),aet(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return jr();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cet))){const{scroll:c}=this.root;c&&(Jp(a.x,c.offset.x),Jp(a.y,c.offset.y))}return a}removeElementScroll(o){const a=jr();if(Xo(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Xo(a,o),Jp(a.x,d.offset.x),Jp(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=jr();Xo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zp(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),wh(d.latestValues)&&Zp(l,d.latestValues)}return wh(this.latestValues)&&Zp(l,this.latestValues),l}removeTransform(o){const a=jr();Xo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!wh(c.latestValues))continue;qk(c.latestValues)&&c.updateSnapshot();const d=jr(),f=c.measurePageBox();Xo(d,f),F8(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return wh(this.latestValues)&&F8(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ui.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),Qv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jr(),this.targetWithTransforms=jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pZe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xo(this.target,this.layout.layoutBox),dte(this.target,this.targetDelta)):Xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),Qv(this.relativeTargetOrigin,this.target,p.target),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qk(this.parent.latestValues)||ute(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ui.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Xo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;RJe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D8(this.prevProjectionDelta.x,this.projectionDelta.x),D8(this.prevProjectionDelta.y,this.projectionDelta.y)),Xv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!N8(this.projectionDelta.x,this.prevProjectionDelta.x)||!N8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eg(),this.projectionDelta=eg(),this.projectionDeltaWithTransform=eg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=eg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=jr(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,C=this.getStack(),S=!C||C.members.length<=1,R=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(set));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const M=P/1e3;G8(f.x,o.x,M),G8(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iet(this.relativeTarget,this.relativeTargetOrigin,p,M),E&&zZe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=jr()),Xo(E,this.relativeTarget)),w&&(this.animationValues=d,NZe(d,c,this.latestValues,M,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Sd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{cS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=em(0)),this.currentAnimation=FZe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($Ze),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Mte(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||jr();const f=ks(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=ks(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Xo(a,l),Zp(a,d),Xv(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jZe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&_D("z",o,c,this.animationValues);for(let d=0;d<RD.length;d++)_D(`rotate${RD[d]}`,o,c,this.animationValues),_D(`skew${RD[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=lS(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=lS(a?.pointerEvents)||""),this.hasProjected&&!wh(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=WZe(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in sw){if(d[y]===void 0)continue;const{correct:w,applyTo:C,isCSSVariable:S}=sw[y],R=f==="none"?d[y]:w(d[y],c);if(C){const E=C.length;for(let P=0;P<E;P++)o[C[P]]=R}else S?this.options.visualElement.renderState.vars[y]=R:o[y]=R}this.options.layoutId&&(o.pointerEvents=c===this?lS(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(B8),this.root.sharedNodes.clear()}}}function KZe(e){e.updateLayout()}function YZe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?na(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],p=ks(f);f.min=n[d].min,f.max=f.min+p}):Mte(i,t.layoutBox,n)&&na(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],p=ks(n[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=eg();Xv(o,n,t.layoutBox);const a=eg();s?Xv(a,e.applyTransform(r,!0),t.measuredBox):Xv(a,n,t.layoutBox);const l=!Pte(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=jr();Qv(m,t.layoutBox,f.layoutBox);const y=jr();Qv(y,n,p.layoutBox),kte(m,y)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function XZe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function QZe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JZe(e){e.clearSnapshot()}function B8(e){e.clearMeasurements()}function V8(e){e.isLayoutDirty=!1}function ZZe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eet(e){e.resolveTargetDelta()}function tet(e){e.calcProjection()}function net(e){e.resetSkewAndRotation()}function ret(e){e.removeLeadSnapshot()}function G8(e,t,n){e.translate=br(t.translate,0,n),e.scale=br(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function U8(e,t,n,r){e.min=br(t.min,n.min,r),e.max=br(t.max,n.max,r)}function iet(e,t,n,r){U8(e.x,t.x,n.x,r),U8(e.y,t.y,n.y,r)}function set(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oet={duration:.45,ease:[.4,0,.1,1]},z8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),j8=z8("applewebkit/")&&!z8("chrome/")?Math.round:ga;function W8(e){e.min=j8(e.min),e.max=j8(e.max)}function aet(e){W8(e.x),W8(e.y)}function Mte(e,t,n){return e==="position"||e==="preserve-aspect"&&!fZe(L8(t),L8(n),.2)}function cet(e){return e!==e.root&&e.scroll?.wasRoot}const uet=Ite({attachResizeListener:(e,t)=>ow(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AD={current:void 0},Ote=Ite({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!AD.current){const e=new uet({});e.mount(window),e.setOptions({layoutScroll:!0}),AD.current=e}return AD.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),det={pan:{Feature:AZe},drag:{Feature:_Ze,ProjectionNode:Ote,MeasureLayout:_te}};function $8(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&vr.postRender(()=>s(t,pC(t)))}class het extends Vd{mount(){const{current:t}=this.node;t&&(this.unmount=MQe(t,(n,r)=>($8(this.node,r,"Start"),i=>$8(this.node,i,"End"))))}unmount(){}}class fet extends Vd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dC(ow(this.node.current,"focus",()=>this.onFocus()),ow(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q8(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&vr.postRender(()=>s(t,pC(t)))}class pet extends Vd{mount(){const{current:t}=this.node;t&&(this.unmount=BQe(t,(n,r)=>(q8(this.node,r,"Start"),(i,{success:s})=>q8(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eF=new WeakMap,DD=new WeakMap,get=e=>{const t=eF.get(e.target);t&&t(e)},met=e=>{e.forEach(get)};function vet({root:e,...t}){const n=e||document;DD.has(n)||DD.set(n,{});const r=DD.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(met,{root:e,...t})),r[i]}function yet(e,t,n){const r=vet(t);return eF.set(e,n),r.observe(e),()=>{eF.delete(e),r.unobserve(e)}}const wet={some:0,all:1};class Cet extends Vd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wet[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return yet(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bet(t,n))&&this.startObserver()}unmount(){}}function bet({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xet={inView:{Feature:Cet},tap:{Feature:pet},focus:{Feature:fet},hover:{Feature:het}},Eet={layout:{ProjectionNode:Ote,MeasureLayout:_te}},Tet={...aZe,...xet,...det,...Eet},eL=SJe(Tet,LJe),Ret=({content:e})=>{const t=["I","You","He/She/It","We","They"],n=e.forms,r=(i,s)=>{switch(s){case"Present Simple":return i==="He/She/It"?n.thirdPersonSingular:n.base;case"Present Continuous":return i==="I"?`am ${n.gerund}`:i==="He/She/It"?`is ${n.gerund}`:`are ${n.gerund}`;case"Past Simple":return n.pastSimple;case"Present Perfect":return i==="He/She/It"?`has ${n.pastParticiple}`:`have ${n.pastParticiple}`;case"Simple Future":return`will ${n.simpleFuture.replace("will","")}`;default:return n.base}};return F.jsxs(eL.div,{className:"conjugate-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeInOut"},children:[F.jsx("div",{className:"verb-header text-center p-3 mb-3 bg-light rounded",children:F.jsxs("h2",{children:[e.verbSpanish.charAt(0).toUpperCase()+e.verbSpanish.slice(1)," ","/"," ",e.verbEnglish.charAt(0).toUpperCase()+e.verbEnglish.slice(1)]})}),F.jsxs(Lj,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[F.jsx("thead",{children:F.jsxs("tr",{children:[F.jsx("th",{children:"Pronoun"}),F.jsx("th",{children:"Simple Present"}),F.jsx("th",{children:"Present Continuous"}),F.jsx("th",{children:"Simple Past"}),F.jsx("th",{children:"Perfect Present"}),F.jsx("th",{children:"Simple Future"})]})}),F.jsx("tbody",{children:t.map(i=>F.jsxs("tr",{children:[F.jsx("td",{children:i}),F.jsx("td",{children:r(i,"Present Simple")}),F.jsx("td",{children:r(i,"Present Continuous")}),F.jsx("td",{children:r(i,"Past Simple")}),F.jsx("td",{children:r(i,"Present Perfect")}),F.jsx("td",{children:r(i,"Simple Future")})]},i))})]})]})},_et=({content:e})=>{const{original_text:t,corrections:n}=e,r=xZ(),[i,s]=T.useState(null),o=T.useMemo(()=>{const d=[...n].sort((m,y)=>m.position.start-y.position.start),f=[];let p=0;for(const m of d){const y=m.original,w=m.position.start,C=[];let S=p,R;for(;(R=t.indexOf(y,S))>-1;)C.push({start:R,end:R+y.length}),S=R+1;if(C.length===0)continue;const E=C.reduce((P,M)=>{const A=Math.abs(P.start-w);return Math.abs(M.start-w)<A?M:P});f.push({...m,position:{start:E.start,end:E.end}}),p=E.end}return f.sort((m,y)=>m.position.start-y.position.start)},[t,n]),a=d=>{s(f=>f===d?null:d)},l=[];let c=0;return o.forEach((d,f)=>{d.position.start>c&&l.push(F.jsx("span",{children:t.slice(c,d.position.start)},`text-${f}`)),l.push(F.jsxs("span",{className:"correction-group",onClick:r?()=>a(f):void 0,onMouseEnter:r?void 0:()=>s(f),onMouseLeave:r?void 0:()=>s(null),children:[F.jsx("span",{className:"correction-original",children:d.original}),F.jsx("span",{className:"correction-corrected",children:d.corrected}),i===f&&F.jsxs("div",{className:"correction-popup",children:[F.jsxs("div",{className:"explanation-correction",children:[F.jsx("span",{className:"original-word",children:d.original})," "," ",F.jsx("span",{className:"corrected-word",children:d.corrected})]}),d.explanation&&F.jsx("p",{className:"explanation-text",children:d.explanation})]})]},`group-${f}`)),c=d.position.end}),c<t.length&&l.push(F.jsx("span",{children:t.slice(c)},"final-text")),F.jsxs("div",{className:"correction-container",children:[F.jsxs("p",{className:"correction-intro",children:[F.jsx("span",{className:"correction-intro-icon",children:""})," Pasa el mouse (o haz clic en mvil) sobre las correcciones para ver una explicacin detallada."]}),F.jsx("div",{className:"corrected-text-inline",children:l})]})},Aet=({message:e,isLastMessage:t,onRegenerate:n})=>{const[r,i]=T.useState(""),[s,o]=T.useState(!1),a=typeof e.content=="string"?e.content:e.content?.explanation||"";T.useEffect(()=>{if(!e.isNew){i(a),e.content?.examples&&e.content.examples.length>0&&o(!0);return}if(i(""),o(!1),a){let c=0;const d=setInterval(()=>{i(a.substring(0,c+1)),c++,c>=a.length&&(clearInterval(d),e.content?.examples&&e.content.examples.length>0&&setTimeout(()=>o(!0),500))},20);return()=>clearInterval(d)}},[a,e.content?.examples,e.isNew]),T.useEffect(()=>{console.log(e)},[e]);const l=()=>{switch(e.mode){case"CORRECT":return F.jsx(_et,{content:e.content});case"CONJUGATE":return F.jsxs(F.Fragment,{children:[F.jsx(Ret,{content:e.content}),F.jsx(bx,{children:r}),s&&e.content?.examples&&F.jsxs("div",{className:"examples-section",children:[F.jsxs("div",{className:"examples-header",children:[F.jsx("span",{className:"examples-icon",children:""}),F.jsx("h4",{children:"Ejemplos de uso:"})]}),F.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,d)=>F.jsxs("div",{className:"example-item",children:[F.jsx("div",{className:"example-number",children:d+1}),F.jsx("div",{className:"example-content",children:F.jsx(bx,{children:c})})]},d))})]})]});default:return F.jsxs(F.Fragment,{children:[F.jsx(bx,{children:r}),s&&e.content?.examples&&F.jsxs("div",{className:"examples-section",children:[F.jsxs("div",{className:"examples-header",children:[F.jsx("span",{className:"examples-icon",children:""}),F.jsx("h4",{children:"Ejemplos de uso:"})]}),F.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,d)=>F.jsxs("div",{className:"example-item",children:[F.jsx("div",{className:"example-number",children:d+1}),F.jsx("div",{className:"example-content",children:F.jsx(bx,{children:c})})]},d))})]})]})}};return F.jsxs("div",{className:"message-container bot-message-container",children:[F.jsx("div",{className:"avatar bot-avatar",children:F.jsx(KF,{size:24})}),F.jsxs("div",{className:"message-content",children:[F.jsx("div",{className:"message-bubble bot-message",children:l()}),t&&F.jsx("button",{className:"regenerate-button",onClick:n,children:F.jsx(zue,{size:16})})]})]})},Det=({message:e})=>F.jsxs("div",{className:"message-container user-message-container",children:[F.jsx("div",{className:"message-bubble user-message",children:e}),F.jsx("div",{className:"avatar user-avatar",children:F.jsx(QF,{size:24})})]}),Pet=()=>F.jsx("div",{className:"message-bubble bot-message",children:F.jsx(wa,{animation:"border",size:"sm"})}),ket=()=>F.jsx("div",{className:"welcome-container",children:F.jsx(rr,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:F.jsxs(rr.Body,{children:[F.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:F.jsx(KF,{size:28})}),F.jsx(rr.Title,{as:"h2",className:"mb-3",children:"Hola! Soy tu Tutor de Ingls Decolonial"}),F.jsx(rr.Text,{className:"text-muted mb-4",children:"Estoy aqu para ayudarte a explorar el ingls desde una perspectiva decolonial. Puedes hacerme preguntas, pedirme que conjugue verbos o que te explique temas gramaticales."}),F.jsx("h5",{className:"mb-3",children:"Aqu tienes algunas ideas:"}),F.jsxs(Ia,{variant:"flush",children:[F.jsx(Ia.Item,{children:`"Conjuga el verbo 'walk' en ingls"`}),F.jsx(Ia.Item,{children:'"Qu es el presente perfecto?"'}),F.jsx(Ia.Item,{children:`"Explcame el uso de 'will' y 'going to'"`})]})]})})}),Fet=({messages:e,isLoading:t,onRegenerate:n})=>{const r=T.useRef(null);T.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[e,t]);const i=s=>({id:s.id,sender:s.role==="user"?"user":"bot",role:s.role,content:s.content,chatId:s.chatId,timestamp:s.timestamp,isNew:s.isNew,mode:s.mode});return F.jsxs("div",{className:"chat-window",children:[e.length===0&&!t?F.jsx(ket,{}):e.map((s,o)=>{const a=i(s),l=s.role==="model"&&o===e.length-1;return s.role==="model"?F.jsx(Aet,{message:a,isLastMessage:l,onRegenerate:n},s.id):F.jsx(Det,{message:typeof s.content=="string"?s.content:JSON.stringify(s.content)},s.id)}),t&&F.jsx(Pet,{}),F.jsx("div",{ref:r})]})},Iet=({onClick:e})=>F.jsxs("button",{className:"new-chat-button",onClick:e,children:[F.jsx(Cue,{size:20}),F.jsx("span",{children:"Nueva conversacin"})]}),tF=jw((e,t)=>({chats:[],messages:[],currentChatId:null,isLoading:!1,isLoadingChats:!1,error:null,loadChats:async n=>{e({isLoadingChats:!0,error:null});try{const r=await E7e(n);e({chats:r,isLoadingChats:!1})}catch(r){console.error("Error loading chats:",r),e({error:"Error al cargar conversaciones",isLoadingChats:!1})}},createChat:async(n,r,i)=>{e({isLoading:!0,error:null});try{const s=await S7e(n,r,i);return await t().loadChats(n),e({currentChatId:s.chatId,isLoading:!1,messages:[]}),s.chatId}catch(s){throw console.error("Error creating chat:",s),e({error:"Error al crear conversacin",isLoading:!1}),s}},setCurrentChat:n=>{e({currentChatId:n,messages:[]})},loadChatHistory:async(n,r)=>{e({isLoading:!0,error:null});try{const i=await T7e(n,r);e({messages:i.messages,currentChatId:n,isLoading:!1})}catch(i){console.error("Error loading chat history:",i),e({error:"Error al cargar historial",isLoading:!1})}},addMessage:n=>{e(r=>({messages:[...r.messages,n]}))},deleteChat:async(n,r)=>{e({isLoading:!0,error:null});try{await R7e(n,r);const{currentChatId:i}=t();i===n&&e({currentChatId:null,messages:[]}),await t().loadChats(r),e({isLoading:!1})}catch(i){console.error("Error deleting chat:",i),e({error:"Error al eliminar conversacin",isLoading:!1})}},clearMessages:()=>{e({messages:[]})},setError:n=>{e({error:n})}})),Met=({chat:e,isActive:t,onClick:n,onDelete:r})=>{const i=s=>{const a=new Date().getTime()-s.getTime(),l=Math.floor(a/(1e3*60*60*24));return l===0?"Hoy":l===1?"Ayer":l<7?`Hace ${l} das`:s.toLocaleDateString("es-ES",{day:"numeric",month:"short"})};return F.jsxs("div",{className:`chat-item ${t?"active":""}`,onClick:n,children:[F.jsx("div",{className:"chat-item-icon",children:F.jsx(Vj,{size:18})}),F.jsxs("div",{className:"chat-item-content",children:[F.jsx("div",{className:"chat-item-title",children:e.title}),F.jsx("div",{className:"chat-item-date",children:i(e.updatedAt)})]}),F.jsx("button",{className:"chat-item-delete",onClick:r,title:"Eliminar conversacin",children:F.jsx(aE,{size:16})})]})},Oet=({userId:e,onChatSelect:t})=>{const{chats:n,currentChatId:r,deleteChat:i,isLoadingChats:s}=tF(),o=async(a,l)=>{a.stopPropagation(),window.confirm("Ests seguro de eliminar esta conversacin?")&&await i(l,e)};return s?F.jsxs("div",{className:"chat-list-loading",children:[F.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:F.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),F.jsx("span",{children:"Cargando conversaciones..."})]}):n.length===0?F.jsxs("div",{className:"chat-list-empty",children:[F.jsx("p",{children:"No tienes conversaciones an"}),F.jsx("p",{className:"text-muted",children:"Comienza escribiendo un mensaje"})]}):F.jsx("div",{className:"chat-list",children:n.map(a=>F.jsx(Met,{chat:a,isActive:a.id===r,onClick:()=>t(a.id),onDelete:l=>o(l,a.id)},a.id))})},Let=({userId:e,onNewChat:t,onChatSelect:n})=>{const[r,i]=T.useState(!1);return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:`chat-sidebar ${r?"collapsed":""}`,children:[F.jsxs("div",{className:"chat-sidebar-header",children:[F.jsx(Iet,{onClick:t}),F.jsx("button",{className:"sidebar-collapse-button",onClick:()=>i(!r),title:r?"Expandir":"Colapsar",children:r?F.jsx(N_,{size:20}):F.jsx(vue,{size:20})})]}),F.jsx("div",{className:"chat-sidebar-content",children:F.jsx(Oet,{userId:e,onChatSelect:n})})]}),r&&F.jsxs(F.Fragment,{children:[F.jsx("button",{className:"sidebar-expand-button-desktop",onClick:()=>i(!1),title:"Expandir sidebar",children:F.jsx(N_,{size:20})}),F.jsx("button",{className:"sidebar-expand-button-mobile",onClick:()=>i(!1),title:"Expandir sidebar",children:F.jsx(N_,{size:24})})]})]})},Net=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(!1),[i,s]=T.useState(""),{messages:o,currentChatId:a,loadChats:l,createChat:c,loadChatHistory:d,addMessage:f,setCurrentChat:p,clearMessages:m}=tF();T.useEffect(()=>{const R=localStorage.getItem("user");if(R){const E=JSON.parse(R);s(E.id),l(E.id)}},[l]);const y=()=>{p(null),m()},w=async R=>{i&&await d(R,i)},C=async R=>{if(R.preventDefault(),!e.trim()||n||!i)return;const E=e;t(""),r(!0);try{let P=a;if(!P){const I=E.split(" ").slice(0,5).join(" "),B=I.length>30?I.substring(0,30)+"...":I;P=await c(i,B)}const M={id:$u(),chatId:P,role:"user",content:E,timestamp:new Date,isNew:!0};f(M);const A=await XG(E),D=await QG(E,A,P,i),k={id:$u(),chatId:P,role:"model",content:D.content,timestamp:new Date,isNew:!0,mode:D.mode||A};f(k)}catch(P){console.error(P);const M={id:$u(),chatId:a||"",role:"model",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",timestamp:new Date,isNew:!0};f(M)}finally{r(!1)}},S=async()=>{if(n||!a||!i)return;const R=[...o].reverse().find(E=>E.role==="user");if(R){const E=o.length-1;if(o[E]?.role==="model"){const P=o.slice(0,-1);tF.setState({messages:P})}r(!0);try{const P=await XG(R.content),M=await QG(R.content,P,a,i),A={id:$u(),chatId:a,role:"model",content:M.content,timestamp:new Date,isNew:!0,mode:M.mode||P};f(A)}catch(P){console.error(P);const M={id:$u(),chatId:a,role:"model",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",timestamp:new Date,isNew:!0};f(M)}finally{r(!1)}}};return F.jsxs("div",{className:"chat-page-container",children:[F.jsx(Let,{userId:i,onNewChat:y,onChatSelect:w}),F.jsx("div",{className:"chat-main-area",children:F.jsxs("div",{className:"chat-container",children:[F.jsx(Fet,{messages:o,isLoading:n,onRegenerate:S}),F.jsxs("form",{className:"chat-input-form",onSubmit:C,children:[F.jsx("input",{type:"text",value:e,onChange:R=>t(R.target.value),placeholder:"Escribe un mensaje...",disabled:n}),F.jsx("button",{type:"submit",disabled:n||!e.trim(),children:F.jsx(Kue,{size:18})})]})]})})]})};async function Bet(e,t){const n=I$(M$,e),r=await Aye(n,t,{contentType:t.type});return{url:await Dye(r.ref),fullPath:r.ref.fullPath}}async function Vet(e){const t=I$(M$,e);await Pye(t)}const Mm="posts",Lte="comments",Het=async e=>{const{imageFile:t,description:n,sessionId:r,teacherId:i}=e,s=`posts/${r}/${$u()}-${t.name}`,{url:o}=await Bet(s,t),a={imageUrl:o,imagePath:s,description:n||"",teacherId:i,sessionId:r,createdAt:new Date,likes:[],commentsCount:0},l=await hve(gm(Qs,Mm),a);return{...a,id:l.id}},Get=(e,t)=>{const n=PE(gm(Qs,Mm),YI("sessionId","==",e),c$("createdAt","desc"));return g$(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},Uet=async(e,t,n)=>{const r=zl(Qs,Mm,e);n?await wP(r,{likes:yve(t)}):await wP(r,{likes:vve(t)})},zet=async(e,t)=>{const n=zl(Qs,Mm,e),r=gm(n,Lte),i={...t,postId:e,createdAt:new Date};return await mve(Qs,async s=>{const o=zl(r);s.set(o,i),s.update(n,{commentsCount:wve(1)})}),{...i,id:$u()}},jet=(e,t)=>{const n=PE(gm(Qs,Mm,e,Lte),c$("createdAt","asc"));return g$(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()}));t(i)})},Wet=async e=>{await Vet(e.imagePath),await p$(zl(Qs,Mm,e.id))},tL=jw((e,t)=>({posts:[],comments:{},isLoadingPosts:!1,isLoadingComments:!1,error:null,postsUnsubscribe:null,commentsUnsubscribe:{},fetchPosts:n=>{const{postsUnsubscribe:r}=t();r&&r(),e({isLoadingPosts:!0,error:null});const i=Get(n,s=>{e({posts:s,isLoadingPosts:!1})});e({postsUnsubscribe:i})},fetchComments:n=>{const{commentsUnsubscribe:r}=t();r[n]&&r[n](),e({isLoadingComments:!0,error:null});const i=jet(n,s=>{e(o=>({comments:{...o.comments,[n]:s},isLoadingComments:!1}))});e(s=>({commentsUnsubscribe:{...s.commentsUnsubscribe,[n]:i}}))},addPost:n=>e(r=>({posts:[n,...r.posts]})),updatePostLikes:(n,r)=>{e(i=>({posts:i.posts.map(s=>s.id===n?{...s,likes:r}:s)}))},removePost:n=>{e(r=>({posts:r.posts.filter(i=>i.id!==n)}))},addComment:(n,r)=>{e(i=>({comments:{...i.comments,[n]:[...i.comments[n]||[],r]}}))},cleanup:()=>{const{postsUnsubscribe:n,commentsUnsubscribe:r}=t();n&&n(),Object.values(r).forEach(i=>{i&&i()}),e({postsUnsubscribe:null,commentsUnsubscribe:{}})}})),$et=({post:e,onClick:t})=>F.jsxs(eL.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"post-item-card",onClick:t,children:[F.jsx("img",{src:e.imageUrl,alt:e.description||"Post image",className:"card-image"}),F.jsxs("div",{className:"card-footer",children:[F.jsxs("div",{className:"stat",children:[F.jsx(Bj,{size:18}),F.jsx("span",{children:e.likes.length})]}),F.jsxs("div",{className:"stat",children:[F.jsx(Vj,{size:18}),F.jsx("span",{children:e.commentsCount||0})]})]})]});var Nte="en",nL={},nF={};function Bte(){return Nte}function qet(e){Nte=e}function Ket(e){return nL[e]}function Yet(e){if(!e)throw new Error("No locale data passed");nL[e.locale]=e,nF[e.locale.toLowerCase()]=e.locale}function K8(e){if(nL[e])return e;if(nF[e.toLowerCase()])return nF[e.toLowerCase()]}function Vte(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return Y8(e);case"best fit":return Y8(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function Y8(e){var t=K8(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=K8(e);if(r)return r}}var pe={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2);return i==1&&s!=11?"one":i>=2&&i<=4&&(s<12||s>14)?"few":r&&i==0||i>=5&&i<=9||s>=11&&s<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return i==1&&s!=11&&s!=71&&s!=91?"one":i==2&&s!=12&&s!=72&&s!=92?"two":(i==3||i==4||i==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":s&&o>=2&&o<=4&&(a<12||a>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1&&i?"one":r!=0&&s==0&&i?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=i.slice(-1);return s&&(r==1||r==2||r==3)||s&&o!=4&&o!=6&&o!=9||!s&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return t==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return t==1||!i&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-2),a=i.slice(-2);return s&&o==1||a==1?"one":s&&o==2||a==2?"two":s&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1?"one":r!=0&&s==0&&i?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t>=0&&t<2?"one":r!=0&&s==0&&i?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return r==1&&i||r==0&&!i?"one":r==2&&i?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],i=(n[1]||"").replace(/0+$/,""),s=Number(n[0])==t,o=r.slice(-1),a=r.slice(-2);return s&&o==1&&a!=11||i%10==1&&i%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,s=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",i=r.length,s=Number(n[0])==t,o=s&&n[0].slice(-1),a=s&&n[0].slice(-2),l=r.slice(-2),c=r.slice(-1);return s&&o==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":o==1&&a!=11||i==2&&c==1&&l!=11||i!=2&&c==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||i>=3&&i<=10?"few":i>=11&&i<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return t==1&&i?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&r!=1&&(s==0||s==1)||i&&s>=5&&s<=9||i&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return r==0||r==1?"one":r!=0&&s==0&&i?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,s=i&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&s>=1&&s<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&s==0||i&&s>=5&&s<=9||i&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"";return t==0||t==1||r==0&&i==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-2);return i&&s==1?"one":i&&s==2?"two":i&&(s==3||s==4)||!i?"few":"other"}};pe.as=pe.am;pe.az=pe.af;pe.bal=pe.af;pe.bg=pe.af;pe.bn=pe.am;pe.brx=pe.af;pe.ce=pe.af;pe.chr=pe.af;pe.de=pe.ast;pe.doi=pe.am;pe.ee=pe.af;pe.el=pe.af;pe.en=pe.ast;pe.et=pe.ast;pe.eu=pe.af;pe.fa=pe.am;pe.fi=pe.ast;pe.fil=pe.ceb;pe.fo=pe.af;pe.fur=pe.af;pe.fy=pe.ast;pe.gl=pe.ast;pe.gu=pe.am;pe.ha=pe.af;pe.hi=pe.am;pe.hr=pe.bs;pe.hsb=pe.dsb;pe.hu=pe.af;pe.hy=pe.ff;pe.ia=pe.ast;pe.id=pe.dz;pe.ig=pe.dz;pe.ii=pe.dz;pe.it=pe.ca;pe.ja=pe.dz;pe.jgo=pe.af;pe.jv=pe.dz;pe.ka=pe.af;pe.kea=pe.dz;pe.kk=pe.af;pe.kl=pe.af;pe.km=pe.dz;pe.kn=pe.am;pe.ko=pe.dz;pe.ks=pe.af;pe.ksh=pe.blo;pe.ku=pe.af;pe.ky=pe.af;pe.lb=pe.af;pe.lkt=pe.dz;pe.lo=pe.dz;pe.ml=pe.af;pe.mn=pe.af;pe.mr=pe.af;pe.ms=pe.dz;pe.my=pe.dz;pe.nb=pe.af;pe.ne=pe.af;pe.nl=pe.ast;pe.nn=pe.af;pe.no=pe.af;pe.nqo=pe.dz;pe.om=pe.af;pe.or=pe.af;pe.pa=pe.ak;pe.pcm=pe.am;pe.ps=pe.af;pe.rm=pe.af;pe.sah=pe.dz;pe.sc=pe.ast;pe.sd=pe.af;pe.sk=pe.cs;pe.so=pe.af;pe.sq=pe.af;pe.sr=pe.bs;pe.su=pe.dz;pe.sv=pe.ast;pe.sw=pe.ast;pe.syr=pe.af;pe.ta=pe.af;pe.te=pe.af;pe.th=pe.dz;pe.ti=pe.ak;pe.tk=pe.af;pe.tn=pe.af;pe.to=pe.dz;pe.tr=pe.af;pe.ug=pe.af;pe.uk=pe.ru;pe.ur=pe.ast;pe.uz=pe.af;pe.vec=pe.ca;pe.vi=pe.dz;pe.wae=pe.af;pe.wo=pe.dz;pe.xh=pe.af;pe.yi=pe.ast;pe.yo=pe.dz;pe.yue=pe.dz;pe.zh=pe.dz;pe.zu=pe.am;function X8(e){return e==="pt-PT"?e:Qet(e)}var Xet=/^([a-z0-9]+)/i;function Qet(e){var t=e.match(Xet);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function aw(e){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aw(e)}function Jet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ett(r.key),r)}}function Zet(e,t,n){return t&&Q8(e.prototype,t),n&&Q8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ett(e){var t=ttt(e,"string");return aw(t)=="symbol"?t:t+""}function ttt(e,t){if(aw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(aw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rF=function(){function e(t,n){Jet(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=pe[X8(r[0])]}return Zet(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return pe[X8(r)]})}}]),e}();function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function J8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(n),!0).forEach(function(r){ntt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ntt(e,t,n){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ez(e,t){return ott(e)||stt(e,t)||itt(e,t)||rtt()}function rtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function itt(e,t){if(e){if(typeof e=="string")return tz(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tz(e,t):void 0}}function tz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function stt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function ott(e){if(Array.isArray(e))return e}function att(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ltt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hte(r.key),r)}}function ctt(e,t,n){return t&&ltt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hte(e){var t=utt(e,"string");return nm(t)=="symbol"?t:t+""}function utt(e,t){if(nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dtt=["second","minute","hour","day","week","month","quarter","year"],htt=["auto","always"],ftt=["long","short","narrow"],ptt=["lookup","best fit"],Td=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};att(this,e);var r=n.numeric,i=n.style,s=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(htt.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(i!==void 0){if(ftt.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(s!==void 0){if(ptt.indexOf(s)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(s));this.localeMatcher=s}if(typeof t=="string"&&(t=[t]),t.push(Bte()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");rF.supportedLocalesOf(this.locale).length>0?this.pluralRules=new rF(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Vte(this.locale,{localeMatcher:this.localeMatcher})}return ctt(e,[{key:"format",value:function(){var n=nz(arguments),r=ez(n,2),i=r[0],s=r[1];return this.getRule(i,s).replace("{0}",this.formatNumber(Math.abs(i)))}},{key:"formatToParts",value:function(){var n=nz(arguments),r=ez(n,2),i=r[0],s=r[1],o=this.getRule(i,s),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var l=[];return a>0&&l.push({type:"literal",value:o.slice(0,a)}),l=l.concat(this.formatNumberToParts(Math.abs(i)).map(function(c){return Z8(Z8({},c),{},{unit:s})})),a+3<o.length-1&&l.push({type:"literal",value:o.slice(a+3)}),l}},{key:"getRule",value:function(n,r){var i=Ket(this.locale)[this.style][r];if(typeof i=="string")return i;if(this.numeric==="auto"){if(n===-2||n===-1){var s=i["previous".concat(n===-1?"":"-"+Math.abs(n))];if(s)return s}else if(n===1||n===2){var o=i["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&i.current)return i.current}var a=i[wtt(n)?"past":"future"];if(typeof a=="string")return a;var l=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return a[l]||a.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e}();Td.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return Vte(n,t)})};Td.addLocale=Yet;Td.setDefaultLocale=qet;Td.getDefaultLocale=Bte;Td.PluralRules=rF;var PD='Invalid "unit" argument';function gtt(e){if(nm(e)==="symbol")throw new TypeError(PD);if(typeof e!="string")throw new RangeError("".concat(PD,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),dtt.indexOf(e)<0)throw new RangeError("".concat(PD,": ").concat(e));return e}var mtt='Invalid "number" argument';function vtt(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(mtt,": ").concat(e));return e}function ytt(e){return 1/e===-1/0}function wtt(e){return e<0||e===0&&ytt(e)}function nz(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[vtt(e[0]),gtt(e[1])]}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function Ctt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function btt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Stt(r.key),r)}}function xtt(e,t,n){return t&&btt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Stt(e){var t=Ett(e,"string");return bf(t)=="symbol"?t:t+""}function Ett(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rz=function(){function e(){Ctt(this,e),this.cache={}}return xtt(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o=0,a=i;o<a.length;o++){var l=a[o];if(bf(n)!=="object")return;n=n[l]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var s=r.pop(),o=r.pop(),a=this.cache,l=0,c=r;l<c.length;l++){var d=c[l];bf(a[d])!=="object"&&(a[d]={}),a=a[d]}return a[o]=s}}]),e}();function iF(e){"@babel/helpers - typeof";return iF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iF(e)}function Ttt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Rtt(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rtt(e,t){if(e){if(typeof e=="string")return iz(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iz(e,t):void 0}}function iz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _tt(e,t){for(var n=Ttt(e),r;!(r=n()).done;){var i=r.value;if(t(i))return i;for(var s=i.split("-");s.length>1;)if(s.pop(),i=s.join("-"),t(i))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function Att(){var e=(typeof Intl>"u"?"undefined":iF(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function sF(e){"@babel/helpers - typeof";return sF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sF(e)}function Dtt(e){return ktt(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var Ptt={}.constructor;function ktt(e){return sF(e)!==void 0&&e!==null&&e.constructor===Ptt}var Sc=60,z1=60*Sc,Yh=24*z1,oF=7*Yh,aF=30.44*Yh,Gte=146097/400*Yh;function Rg(e){switch(e){case"second":return 1;case"minute":return Sc;case"hour":return z1;case"day":return Yh;case"week":return oF;case"month":return aF;case"year":return Gte}}function Ute(e){return e.factor!==void 0?e.factor:Rg(e.unit||e.formatAs)||1}function lw(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function rL(e){switch(e){case"floor":return 1;default:return .5}}function lF(e){"@babel/helpers - typeof";return lF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lF(e)}function zte(e,t){var n=t.prevStep,r=t.timestamp,i=t.now,s=t.future,o=t.round,a;return n&&(n.id||n.unit)&&(a=e["threshold_for_".concat(n.id||n.unit)]),a===void 0&&e.threshold!==void 0&&(a=e.threshold,typeof a=="function"&&(a=a(i,s))),a===void 0&&(a=e.minTime),lF(a)==="object"&&(n&&n.id&&a[n.id]!==void 0?a=a[n.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:s,getMinTimeForUnit:function(c,d){return sz(c,d||n&&n.formatAs,{round:o})}})),a===void 0&&e.test&&(e.test(r,{now:i,future:s})?a=0:a=9007199254740991),a===void 0&&(n?e.formatAs&&n.formatAs&&(a=sz(e.formatAs,n.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),a}function sz(e,t,n){var r=n.round,i=Rg(e),s;if(t==="now"?s=Rg(e):s=Rg(t),i!==void 0&&s!==void 0)return i-s*(1-rL(r))}function cw(e){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(e)}function oz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ftt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oz(Object(n),!0).forEach(function(r){Itt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Itt(e,t,n){return(t=Mtt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mtt(e){var t=Ott(e,"string");return cw(t)=="symbol"?t:t+""}function Ott(e,t){if(cw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ltt(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.units;e=Btt(e,o);var a=Ntt(e,t,{now:r,future:i,round:s});{if(a){var l=e[e.indexOf(a)-1],c=e[e.indexOf(a)+1];return[l,a,c]}return[void 0,void 0,e[0]]}}function Ntt(e,t,n){var r=n.now,i=n.future,s=n.round;if(e.length!==0){var o=jte(e,t,{now:r,future:i||t<0,round:s});if(o!==-1){var a=e[o];if(a.granularity){var l=lw(s)(Math.abs(t)/Ute(a)/a.granularity)*a.granularity;if(l===0&&o>0)return e[o-1]}return a}}}function jte(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=zte(e[r],Ftt({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return i===void 0||Math.abs(t)<i?r-1:r===e.length-1?r:jte(e,t,n,r+1)}function Btt(e,t){return e.filter(function(n){var r=n.unit,i=n.formatAs;return r=r||i,r?t.indexOf(r)>=0:!0})}function Vtt(e,t,n){var r=n.now,i=n.round;if(Rg(e)){var s=Rg(e)*1e3,o=t>r,a=Math.abs(t-r),l=lw(i)(a/s)*s;return o?l>0?a-l+Gtt(i,s):a-l+1:-(a-l)+Htt(i,s)}}function Htt(e,t){return rL(e)*t}function Gtt(e,t){return(1-rL(e))*t+1}var Utt=365*24*60*60*1e3,Wte=1e3*Utt;function ztt(e,t,n){var r=n.prevStep,i=n.nextStep,s=n.now,o=n.future,a=n.round,l=e.getTime?e.getTime():e,c=function(y){return Vtt(y,l,{now:s,round:a})},d=Wtt(o?t:i,l,{future:o,now:s,round:a,prevStep:o?r:t});if(d!==void 0){var f;if(t&&(t.getTimeToNextUpdate&&(f=t.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:c,getRoundFunction:lw,now:s,future:o,round:a})),f===void 0)){var p=t.unit||t.formatAs;p&&(f=c(p))}return f===void 0?d:Math.min(f,d)}}function jtt(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep,a=zte(e,{timestamp:t,now:r,future:i,round:s,prevStep:o});if(a!==void 0)return i?t-a*1e3+1:a===0&&t===r?Wte:t+a*1e3}function Wtt(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep;if(e){var a=jtt(e,t,{now:r,future:i,round:s,prevStep:o});return a===void 0?void 0:a-r}else return i?t-r+1:Wte}var $te={};function tg(e){return $te[e]}function qte(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");$te[e.locale]=e}const $tt=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],cF={steps:$tt,labels:"long"};function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function az(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?az(Object(n),!0).forEach(function(r){qtt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qtt(e,t,n){return(t=Ktt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ktt(e){var t=Ytt(e,"string");return uw(t)=="symbol"?t:t+""}function Ytt(e,t){if(uw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const uF=lz(lz({},cF),{},{steps:cF.steps.filter(function(e){return e.formatAs!=="second"})}),Kte=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Sc,unit:"minute"},{threshold:2.5*Sc,granularity:5,factor:Sc,unit:"minute"},{threshold:22.5*Sc,factor:.5*z1,unit:"half-hour"},{threshold:42.5*Sc,threshold_for_minute:52.5*Sc,factor:z1,unit:"hour"},{threshold:20.5/24*Yh,factor:Yh,unit:"day"},{threshold:5.5*Yh,factor:oF,unit:"week"},{threshold:3.5*oF,factor:aF,unit:"month"},{threshold:10.5*aF,factor:Gte,unit:"year"}],cz={gradation:Kte,flavour:"long",units:["now","minute","hour","day","week","month","year"]},Xtt={gradation:Kte,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Yte(e){return e instanceof Date?e:new Date(e)}var dF=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],bl={},Qtt={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return bl[n]||(bl[n]={}),bl[n].dayMonth||(bl[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),bl[n].dayMonth.format(Yte(t))}},Jtt={minTime:function(t,n){var r=n.future;if(r){var i=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-i)/1e3}else{var s=new Date(new Date(t).getFullYear()+1,0).getTime();return(s-t)/1e3}},format:function(t,n){return bl[n]||(bl[n]={}),bl[n].dayMonthYear||(bl[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),bl[n].dayMonthYear.format(Yte(t))}};Att()?dF.push(Qtt,Jtt):dF.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const xf={steps:dF,labels:["mini","short-time","narrow","short"]};function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}function uz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uz(Object(n),!0).forEach(function(r){Ztt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ztt(e,t,n){return(t=ent(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ent(e){var t=tnt(e,"string");return dw(t)=="symbol"?t:t+""}function tnt(e,t){if(dw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const nnt=dz(dz({},xf),{},{steps:[{formatAs:"now"}].concat(xf.steps)});function hw(e){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hw(e)}function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hz(Object(n),!0).forEach(function(r){rnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rnt(e,t,n){return(t=int(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function int(e){var t=snt(e,"string");return hw(t)=="symbol"?t:t+""}function snt(e,t){if(hw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const hF=fz(fz({},xf),{},{steps:xf.steps.filter(function(e){return e.formatAs!=="second"})});function fw(e){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fw(e)}function pz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(n),!0).forEach(function(r){ont(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ont(e,t,n){return(t=ant(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ant(e){var t=lnt(e,"string");return fw(t)=="symbol"?t:t+""}function lnt(e,t){if(fw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const cnt=gz(gz({},hF),{},{steps:[{formatAs:"now"}].concat(hF.steps)});function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}function mz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mz(Object(n),!0).forEach(function(r){unt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function unt(e,t,n){return(t=dnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dnt(e){var t=hnt(e,"string");return pw(t)=="symbol"?t:t+""}function hnt(e,t){if(pw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const fnt=Rx(Rx({},xf),{},{steps:xf.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?Rx(Rx({},e),{},{minTime:Sc}):e})}),gw={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}function vz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vz(Object(n),!0).forEach(function(r){pnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pnt(e,t,n){return(t=gnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gnt(e){var t=mnt(e,"string");return mw(t)=="symbol"?t:t+""}function mnt(e,t){if(mw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const vnt=yz(yz({},gw),{},{steps:[{formatAs:"now"}].concat(gw.steps)});function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}function wz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wz(Object(n),!0).forEach(function(r){ynt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ynt(e,t,n){return(t=wnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wnt(e){var t=Cnt(e,"string");return vw(t)=="symbol"?t:t+""}function Cnt(e,t){if(vw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const fF=Cz(Cz({},gw),{},{steps:gw.steps.filter(function(e){return e.formatAs!=="second"})});function yw(e){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yw(e)}function bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bz(Object(n),!0).forEach(function(r){bnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bnt(e,t,n){return(t=xnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xnt(e){var t=Snt(e,"string");return yw(t)=="symbol"?t:t+""}function Snt(e,t){if(yw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Ent=xz(xz({},fF),{},{steps:[{formatAs:"now"}].concat(fF.steps)});function Tnt(e){switch(e){case"default":case"round":return cF;case"round-minute":return uF;case"approximate":return cz;case"time":case"approximate-time":return Xtt;case"mini":return gw;case"mini-now":return vnt;case"mini-minute":return fF;case"mini-minute-now":return Ent;case"twitter":return xf;case"twitter-now":return nnt;case"twitter-minute":return hF;case"twitter-minute-now":return cnt;case"twitter-first-minute":return fnt;default:return cz}}function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function Rnt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Xte(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nt(e,t){return Pnt(e)||Dnt(e,t)||Xte(e,t)||Ant()}function Ant(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xte(e,t){if(e){if(typeof e=="string")return Sz(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sz(e,t):void 0}}function Sz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Dnt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Pnt(e){if(Array.isArray(e))return e}function knt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fnt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mnt(r.key),r)}}function Int(e,t,n){return t&&Fnt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mnt(e){var t=Ont(e,"string");return Sf(t)=="symbol"?t:t+""}function Ont(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ga=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;knt(this,e),typeof t=="string"&&(t=[t]),this.locale=_tt(t.concat(e.getDefaultLocale()),tg),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Td,this.IntlPluralRules=Td.PluralRules),this.relativeTimeFormatCache=new rz,this.pluralRulesCache=new rz}return Int(e,[{key:"format",value:function(n,r,i){i||(r&&!Hnt(r)?(i=r,r=void 0):i={}),r||(r=uF),typeof r=="string"&&(r=Tnt(r));var s=Lnt(n),o=this.getLabels(r.flavour||r.labels),a=o.labels,l=o.labelsType,c;r.now!==void 0&&(c=r.now),c===void 0&&i.now!==void 0&&(c=i.now),c===void 0&&(c=Date.now());var d=(c-s)/1e3,f=i.future||d<0,p=Vnt(a,tg(this.locale).now,tg(this.locale).long,f);if(r.custom){var m=r.custom({now:c,date:new Date(s),time:s,elapsed:d,locale:this.locale});if(m!==void 0)return m}var y=Bnt(r.units,a,p),w=i.round||r.round,C=Ltt(r.gradation||r.steps||uF.steps,d,{now:c,units:y,round:w,future:f}),S=_nt(C,3),R=S[0],E=S[1],P=S[2],M=this.formatDateForStep(s,E,d,{labels:a,labelsType:l,nowLabel:p,now:c,future:f,round:w})||"";if(i.getTimeToNextUpdate){var A=ztt(s,E,{nextStep:P,prevStep:R,now:c,future:f,round:w});return[M,A]}return M}},{key:"formatDateForStep",value:function(n,r,i,s){var o=this,a=s.labels,l=s.labelsType,c=s.nowLabel,d=s.now,f=s.future,p=s.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(S,R){return o.formatValue(R,S,{labels:a,future:f})},now:d,future:f});var m=r.unit||r.formatAs;if(!m)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(m==="now")return c;var y=Math.abs(i)/Ute(r);r.granularity&&(y=lw(p)(y/r.granularity)*r.granularity);var w=-1*Math.sign(i)*lw(p)(y);switch(w===0&&(f?w=0:w=-0),l){case"long":case"short":case"narrow":return this.getFormatter(l).format(w,m);default:return this.formatValue(w,m,{labels:a,future:f})}}}},{key:"formatValue",value:function(n,r,i){var s=i.labels,o=i.future;return this.getFormattingRule(s,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,i,s){var o=s.future;if(this.locale,n=n[r],typeof n=="string")return n;var a=i===0?o?"future":"past":i<0?"past":"future",l=n[a]||n;if(typeof l=="string")return l;var c=this.getPluralRules().select(Math.abs(i));return l[c]||l.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),n=n.concat("long");for(var r=tg(this.locale),i=Rnt(n),s;!(s=i()).done;){var o=s.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e}(),Qte="en";Ga.getDefaultLocale=function(){return Qte};Ga.setDefaultLocale=function(e){return Qte=e};Ga.addDefaultLocale=function(e){if(Ez)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");Ez=!0,Ga.setDefaultLocale(e.locale),Ga.addLocale(e)};var Ez;Ga.addLocale=function(e){qte(e),Td.addLocale(e)};Ga.locale=Ga.addLocale;Ga.addLabels=function(e,t,n){var r=tg(e);r||(qte({locale:e}),r=tg(e)),r[t]=n};function Lnt(e){if(e.constructor===Date||Nnt(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(Sf(e),", ").concat(e))}function Nnt(e){return Sf(e)==="object"&&typeof e.getTime=="function"}function Bnt(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(i){return i==="now"||r.indexOf(i)>=0})),r}function Vnt(e,t,n,r){var i=e.now||t&&t.now;if(i)return typeof i=="string"?i:r?i.future:i.past;if(n&&n.second&&n.second.current)return n.second.current}function Hnt(e){return typeof e=="string"||Dtt(e)}const Gnt={locale:"es",long:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:{one:"hace {0} ao",other:"hace {0} aos"},future:{one:"dentro de {0} ao",other:"dentro de {0} aos"}},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:{one:"hace {0} trimestre",other:"hace {0} trimestres"},future:{one:"dentro de {0} trimestre",other:"dentro de {0} trimestres"}},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:{one:"hace {0} mes",other:"hace {0} meses"},future:{one:"dentro de {0} mes",other:"dentro de {0} meses"}},week:{previous:"la semana pasada",current:"esta semana",next:"la prxima semana",past:{one:"hace {0} semana",other:"hace {0} semanas"},future:{one:"dentro de {0} semana",other:"dentro de {0} semanas"}},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:{one:"hace {0} da",other:"hace {0} das"},future:{one:"dentro de {0} da",other:"dentro de {0} das"}},hour:{current:"esta hora",past:{one:"hace {0} hora",other:"hace {0} horas"},future:{one:"dentro de {0} hora",other:"dentro de {0} horas"}},minute:{current:"este minuto",past:{one:"hace {0} minuto",other:"hace {0} minutos"},future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"}},second:{current:"ahora",past:{one:"hace {0} segundo",other:"hace {0} segundos"},future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"}}},short:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},narrow:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},now:{now:{current:"ahora",future:"enseguida",past:"ahora mismo"}},mini:{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:"{0} sem.",day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:"{0} min.",second:"{0} seg.",now:"ahora"},"long-time":{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:{one:"{0} semana",other:"{0} semanas"},day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:{one:"{0} minuto",other:"{0} minutos"},second:{one:"{0} segundo",other:"{0} segundos"}}};Ga.addDefaultLocale(Gnt);const Unt=new Ga("es-CO"),znt=({comment:e})=>F.jsxs("div",{className:"comment-item",children:[F.jsx("div",{className:"comment-avatar",children:F.jsx(QF,{size:20})}),F.jsxs("div",{className:"comment-body",children:[F.jsxs("div",{className:"comment-header",children:[F.jsx("span",{className:"comment-author",children:e.studentName}),F.jsx("span",{className:"comment-timestamp",children:Unt.format(e.createdAt)})]}),F.jsx("p",{className:"comment-text text-start",children:e.text})]})]}),jnt=({postId:e})=>{const{user:t}=Xl(),{comments:n,fetchComments:r,isLoadingComments:i}=tL(),s=n[e]||[],[o,a]=T.useState(""),[l,c]=T.useState(!1);T.useEffect(()=>{r&&typeof r=="function"&&r(e)},[e,r]);const d=async f=>{if(f.preventDefault(),!(!o.trim()||!t)){c(!0);try{await zet(e,{text:o,studentId:t.id,studentName:t.name}),a("")}catch(p){console.error("Error adding comment:",p)}finally{c(!1)}}};return F.jsxs("div",{className:"d-flex flex-column h-100",children:[F.jsx("h5",{className:"mb-3",children:"Comentarios"}),F.jsxs("div",{className:"flex-grow-1",style:{overflowY:"auto",overflowX:"hidden"},children:[i&&F.jsx("div",{className:"text-center",children:F.jsx(wa,{animation:"border",size:"sm"})}),!i&&s.length===0&&F.jsx("p",{className:"text-muted text-center mt-3",children:"No hay comentarios an. S el primero!"}),F.jsx("div",{children:s.map(f=>F.jsx(znt,{comment:f},f.id))})]}),t?.role===fn.STUDENT&&F.jsxs(kn,{onSubmit:d,className:"mt-auto pt-3 border-top",children:[F.jsx(kn.Group,{children:F.jsx(kn.Control,{as:"textarea",rows:2,value:o,onChange:f=>a(f.target.value),placeholder:"Escribe un comentario...",required:!0,className:"mb-2"})}),F.jsx("div",{className:"d-grid",children:F.jsx(Tr,{variant:"primary",type:"submit",disabled:l,children:l?"Enviando...":"Enviar Comentario"})})]})]})},Wnt=({post:e,onClose:t})=>{const{user:n}=Xl(),i=tL(p=>p.posts.find(m=>m.id===e.id))||e,[s,o]=T.useState(!1),[a,l]=T.useState(!1),c=T.useMemo(()=>n?i.likes.includes(n.id):!1,[i.likes,n]),d=async()=>{if(!(!n||n.role!==fn.STUDENT)){o(!0);try{await Uet(i.id,n.id,c)}catch(p){console.error("Error toggling like:",p)}finally{o(!1)}}},f=async()=>{if(!(!n||n.role!==fn.TEACHER)&&window.confirm("Ests seguro de que quieres borrar este post? Esta accin no se puede deshacer.")){l(!0);try{await Wet(i),t()}catch(p){console.error("Error deleting post:",p),alert("Hubo un error al borrar el post.")}finally{l(!1)}}};return F.jsx(wr,{show:!0,onHide:t,size:"xl",centered:!0,contentClassName:"bg-transparent border-0",children:F.jsx(eL.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:F.jsx(wr.Body,{className:"p-0",children:F.jsxs(Ig,{className:"g-0",children:[F.jsx(Al,{md:7,className:"d-flex align-items-center justify-content-center bg-dark",children:F.jsx("img",{src:i.imageUrl,alt:i.description,className:"img-fluid",style:{maxHeight:"90vh",objectFit:"contain"}})}),F.jsxs(Al,{md:5,className:"bg-light p-4 d-flex flex-column",children:[F.jsxs("div",{children:[F.jsx("p",{children:i.description}),F.jsx("hr",{}),F.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[F.jsxs("div",{children:[n?.role===fn.STUDENT&&F.jsx(Tr,{variant:"link",onClick:d,disabled:s,className:"p-0 me-2",children:F.jsx(Bj,{size:24,color:c?"red":"black",fill:c?"red":"none"})}),F.jsxs("span",{children:["A ",i.likes.length," personas les gusta esto"]})]}),n?.role===fn.TEACHER&&F.jsx(Tr,{variant:"outline-danger",onClick:f,disabled:a,children:a?F.jsx(wa,{size:"sm"}):F.jsx(aE,{size:20})})]})]}),F.jsx("div",{className:"flex-grow-1 mt-3",children:F.jsx(jnt,{postId:i.id})}),F.jsx(Tr,{variant:"secondary",onClick:t,className:"mt-auto",children:"Cerrar"})]})]})})})})},$nt=({sessionId:e,onClose:t})=>{const{user:n}=Xl(),[r,i]=T.useState(""),[s,o]=T.useState(null),[a,l]=T.useState(!1),[c,d]=T.useState(null),f=m=>{m.target.files&&m.target.files[0]&&o(m.target.files[0])},p=async m=>{if(m.preventDefault(),!s||!n){d("Por favor, selecciona una imagen.");return}l(!0),d(null);const y={imageFile:s,description:r,sessionId:e,teacherId:n.id};try{await Het(y),t()}catch(w){d("Hubo un error al subir el post. Intntalo de nuevo."),console.error(w)}finally{l(!1)}};return F.jsxs(wr,{show:!0,onHide:t,centered:!0,children:[F.jsx(wr.Header,{closeButton:!0,children:F.jsx(wr.Title,{children:"Crear Nuevo Post"})}),F.jsx(wr.Body,{children:F.jsxs(kn,{onSubmit:p,children:[F.jsxs(kn.Group,{controlId:"formFile",className:"mb-3",children:[F.jsx(kn.Label,{children:"Imagen del Post"}),F.jsx(kn.Control,{type:"file",accept:"image/*",onChange:f,required:!0})]}),F.jsxs(kn.Group,{controlId:"formDescription",className:"mb-3",children:[F.jsx(kn.Label,{children:"Descripcin (opcional)"}),F.jsx(kn.Control,{as:"textarea",rows:3,value:r,onChange:m=>i(m.target.value),placeholder:"Aade una descripcin..."})]}),c&&F.jsx("p",{className:"text-danger",children:c}),F.jsx("div",{className:"d-grid",children:F.jsx(Tr,{variant:"primary",type:"submit",disabled:a,children:a?F.jsxs(F.Fragment,{children:[F.jsx(wa,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Subiendo..."]}):"Publicar"})})]})})]})},qnt=()=>{const{sessionId:e}=Hie(),{user:t}=Xl(),{posts:n,fetchPosts:r,cleanup:i}=tL(),[s,o]=T.useState(null),[a,l]=T.useState(!1);T.useEffect(()=>(e&&r(e),()=>{i()}),[e,r,i]);const c=m=>{o(m)},d=()=>{o(null)},f=()=>{l(!0)},p=()=>{l(!1)};return F.jsxs("div",{className:"post-gallery-container p-4",children:[(e==="taller2-session"||t?.role===fn.TEACHER)&&F.jsxs(Tr,{variant:"success",size:"lg",onClick:f,className:"mb-3",children:[F.jsx(Aw,{size:24})," Aadir nuevo post"]}),F.jsx("div",{className:"post-gallery-grid",children:F.jsx(CD,{children:n.map(m=>F.jsx($et,{post:m,onClick:()=>c(m)},m.id))})}),F.jsx(CD,{children:s&&F.jsx(Wnt,{post:s,onClose:d})}),F.jsx(CD,{children:a&&F.jsx($nt,{sessionId:e,onClose:p})})]})},Knt=()=>F.jsx("div",{children:F.jsx(qnt,{})}),iL=({links:e})=>F.jsxs("div",{className:"practice-container",children:[F.jsx("h2",{className:"mb-4 text-center fw-bold",children:"Practice Language Corner"}),F.jsx("div",{className:"practice-grid",children:e.map((t,n)=>F.jsxs(rr,{className:"practice-card shadow-sm",children:[F.jsx(rr.Img,{variant:"top",src:t.image,alt:t.title}),F.jsxs(rr.Body,{children:[F.jsx(rr.Title,{children:t.title}),F.jsx(Tr,{variant:"primary",href:t.url,target:"_blank",rel:"noopener noreferrer",children:"Ir al enlace"})]})]},n))})]}),Ynt="/TutorIngles/assets/Presentation_01-Ck1qVsXL.png",Xnt="/TutorIngles/assets/Game_01-QwzBtf1o.png",Jte="/TutorIngles/assets/Dictionary-pBSeGeB4.png",Zte="/TutorIngles/assets/Pronunciation-DDloxzgK.png",Qnt="/TutorIngles/assets/Interactive_video-BelfCrwB.png",Jnt=[{title:"Culture and traditions vocabulary",image:Ynt,url:"https://gamma.app/docs/Youth-Culture--4xh4jd5otf2d7bu"},{title:"Game",image:Xnt,url:"https://wordwall.net/es/resource/100423355/colombian-traditions"},{title:"Dictionary",image:Jte,url:"https://www.wordreference.com/"},{title:"Pronunciation",image:Zte,url:"https://es.forvo.com/"},{title:"Interactive Video",image:Qnt,url:"https://universidadantonionario.h5p.com/content/1292730562493151328"}],Znt=()=>F.jsx(iL,{links:Jnt}),ert="/TutorIngles/assets/Quiz_01-Erqg12wu.png",trt=[{title:"Dictionary",image:Jte,url:"https://www.wordreference.com/"},{title:"Pronunciation",image:Zte,url:"https://es.forvo.com/"},{title:"Physical appearance quiz",image:ert,url:"https://wayground.com/admin/quiz/69052dd70234d61642cf8701?source=lesson_share_email?lid=tijx3xumsgg5&&utm_source=braze&utm_medium=email&utm_term=button&utm_campaign=Resource_Share_V3"}],nrt=()=>F.jsx(iL,{links:trt}),rrt="/TutorIngles/assets/Research_01-BXdscUfW.png",irt=[{title:"Roots and Faces",image:rrt,url:"https://wordwall.net/es/resource/99800242/roots-faces"}],srt=()=>F.jsx(iL,{links:irt}),ort=({links:e})=>F.jsxs("div",{className:"practice-container",children:[F.jsx("h2",{className:"mb-4 text-center fw-bold",children:"Cultural Stories and Expressions"}),F.jsx("div",{className:"practice-grid",children:e.map((t,n)=>F.jsxs(rr,{className:"practice-card shadow-sm",children:[F.jsx("div",{className:"video-wrapper",children:F.jsxs("video",{controls:!0,children:[F.jsx("source",{src:t.videoUrl,type:"video/mp4"}),"Tu navegador no soporta reproduccin de video."]})}),F.jsx(rr.Body,{children:F.jsx(rr.Title,{children:t.title})})]},n))})]}),art="/TutorIngles/assets/story_1-BLzuww2A.mp4",lrt="/TutorIngles/assets/story_2-DNGaPqyz.mp4",crt=[{title:"Raizal Community",videoUrl:art},{title:"Afrocolombian community",videoUrl:lrt}],urt=()=>F.jsx(ort,{links:crt}),drt=Dse([{path:"/dashboard",element:F.jsx(ule,{children:F.jsx(Uye,{})}),children:[{index:!0,element:F.jsx(rg,{to:"mapa",replace:!0})},{path:"mapa",element:F.jsx(Cc,{allowedRoles:[fn.STUDENT,fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(Mwe,{})})},{path:"estudiantes",element:F.jsx(Cc,{allowedRoles:[fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx($Ue,{})})},{path:"grupos",element:F.jsx(Cc,{allowedRoles:[fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(w7e,{})})},{path:"chatbot",element:F.jsx(Cc,{allowedRoles:[fn.STUDENT,fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(Net,{})})},{path:"galeria/:sessionId",element:F.jsx(Cc,{allowedRoles:[fn.STUDENT,fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(Knt,{})})},{path:"practice_1",element:F.jsx(Cc,{allowedRoles:[fn.STUDENT,fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(Znt,{})})},{path:"practice_2",element:F.jsx(Cc,{allowedRoles:[fn.STUDENT,fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(nrt,{})})},{path:"research_exploration",element:F.jsx(Cc,{allowedRoles:[fn.STUDENT,fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(srt,{})})},{path:"cultural_stories_and_expressions",element:F.jsx(Cc,{allowedRoles:[fn.STUDENT,fn.TEACHER,fn.ADMINISTRATOR],children:F.jsx(urt,{})})}]},{path:"/",element:F.jsx(rg,{to:"/dashboard",replace:!0})},{path:"/login",element:F.jsx(C7e,{children:F.jsx(xwe,{})})},{path:"*",element:F.jsx(rg,{to:"/",replace:!0})}]);exe.registerModules([k2e]);function hrt(){const[e,t]=T.useState(!0),{setUser:n}=Xl();return T.useEffect(()=>{const r=localStorage.getItem("user");r&&n(JSON.parse(r)),t(!1)},[]),e?F.jsx(wa,{animation:"border",className:"d-flex justify-content-center align-items-center"}):F.jsx(Gse,{router:drt})}Fre.createRoot(document.getElementById("root")).render(F.jsx(T.StrictMode,{children:F.jsx(hrt,{})}));
