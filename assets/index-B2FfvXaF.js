(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dR={exports:{}},jm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function fte(){if(zN)return jm;zN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return jm.Fragment=t,jm.jsx=n,jm.jsxs=n,jm}var jN;function pte(){return jN||(jN=1,dR.exports=fte()),dR.exports}var M=pte(),hR={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN;function gte(){if(WN)return qt;WN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,C={};function b(L,ae,W){this.props=L,this.context=ae,this.refs=C,this.updater=W||m}b.prototype.isReactComponent={},b.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function x(){}x.prototype=b.prototype;function R(L,ae,W){this.props=L,this.context=ae,this.refs=C,this.updater=W||m}var E=R.prototype=new x;E.constructor=R,y(E,b.prototype),E.isPureReactComponent=!0;var F=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function D(L,ae,W,H,X,ie){return W=ie.ref,{$$typeof:e,type:L,key:ae,ref:W!==void 0?W:null,props:ie}}function P(L,ae){return D(L.type,ae,void 0,void 0,void 0,L.props)}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function B(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(W){return ae[W]})}var N=/\/+/g;function V(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):ae.toString(36)}function G(){}function oe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(G,G):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function le(L,ae,W,H,X){var ie=typeof L;(ie==="undefined"||ie==="boolean")&&(L=null);var fe=!1;if(L===null)fe=!0;else switch(ie){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(L.$$typeof){case e:case t:fe=!0;break;case d:return fe=L._init,le(fe(L._payload),ae,W,H,X)}}if(fe)return X=X(L),fe=H===""?"."+V(L,0):H,F(X)?(W="",fe!=null&&(W=fe.replace(N,"$&/")+"/"),le(X,ae,W,"",function(Ie){return Ie})):X!=null&&(k(X)&&(X=P(X,W+(X.key==null||L&&L.key===X.key?"":(""+X.key).replace(N,"$&/")+"/")+fe)),ae.push(X)),1;fe=0;var Be=H===""?".":H+":";if(F(L))for(var Ne=0;Ne<L.length;Ne++)H=L[Ne],ie=Be+V(H,Ne),fe+=le(H,ae,W,ie,X);else if(Ne=p(L),typeof Ne=="function")for(L=Ne.call(L),Ne=0;!(H=L.next()).done;)H=H.value,ie=Be+V(H,Ne++),fe+=le(H,ae,W,ie,X);else if(ie==="object"){if(typeof L.then=="function")return le(oe(L),ae,W,H,X);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return fe}function J(L,ae,W){if(L==null)return L;var H=[],X=0;return le(L,H,"","",function(ie){return ae.call(W,ie,X++)}),H}function se(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(W){(L._status===0||L._status===-1)&&(L._status=1,L._result=W)},function(W){(L._status===0||L._status===-1)&&(L._status=2,L._result=W)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var he=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ne(){}return qt.Children={map:J,forEach:function(L,ae,W){J(L,function(){ae.apply(this,arguments)},W)},count:function(L){var ae=0;return J(L,function(){ae++}),ae},toArray:function(L){return J(L,function(ae){return ae})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},qt.Component=b,qt.Fragment=n,qt.Profiler=i,qt.PureComponent=R,qt.StrictMode=r,qt.Suspense=l,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,qt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},qt.cache=function(L){return function(){return L.apply(null,arguments)}},qt.cloneElement=function(L,ae,W){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var H=y({},L.props),X=L.key,ie=void 0;if(ae!=null)for(fe in ae.ref!==void 0&&(ie=void 0),ae.key!==void 0&&(X=""+ae.key),ae)!_.call(ae,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ae.ref===void 0||(H[fe]=ae[fe]);var fe=arguments.length-2;if(fe===1)H.children=W;else if(1<fe){for(var Be=Array(fe),Ne=0;Ne<fe;Ne++)Be[Ne]=arguments[Ne+2];H.children=Be}return D(L.type,X,void 0,void 0,ie,H)},qt.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},qt.createElement=function(L,ae,W){var H,X={},ie=null;if(ae!=null)for(H in ae.key!==void 0&&(ie=""+ae.key),ae)_.call(ae,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(X[H]=ae[H]);var fe=arguments.length-2;if(fe===1)X.children=W;else if(1<fe){for(var Be=Array(fe),Ne=0;Ne<fe;Ne++)Be[Ne]=arguments[Ne+2];X.children=Be}if(L&&L.defaultProps)for(H in fe=L.defaultProps,fe)X[H]===void 0&&(X[H]=fe[H]);return D(L,ie,void 0,void 0,null,X)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(L){return{$$typeof:a,render:L}},qt.isValidElement=k,qt.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:se}},qt.memo=function(L,ae){return{$$typeof:c,type:L,compare:ae===void 0?null:ae}},qt.startTransition=function(L){var ae=I.T,W={};I.T=W;try{var H=L(),X=I.S;X!==null&&X(W,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ne,he)}catch(ie){he(ie)}finally{I.T=ae}},qt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},qt.use=function(L){return I.H.use(L)},qt.useActionState=function(L,ae,W){return I.H.useActionState(L,ae,W)},qt.useCallback=function(L,ae){return I.H.useCallback(L,ae)},qt.useContext=function(L){return I.H.useContext(L)},qt.useDebugValue=function(){},qt.useDeferredValue=function(L,ae){return I.H.useDeferredValue(L,ae)},qt.useEffect=function(L,ae,W){var H=I.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(L,ae)},qt.useId=function(){return I.H.useId()},qt.useImperativeHandle=function(L,ae,W){return I.H.useImperativeHandle(L,ae,W)},qt.useInsertionEffect=function(L,ae){return I.H.useInsertionEffect(L,ae)},qt.useLayoutEffect=function(L,ae){return I.H.useLayoutEffect(L,ae)},qt.useMemo=function(L,ae){return I.H.useMemo(L,ae)},qt.useOptimistic=function(L,ae){return I.H.useOptimistic(L,ae)},qt.useReducer=function(L,ae,W){return I.H.useReducer(L,ae,W)},qt.useRef=function(L){return I.H.useRef(L)},qt.useState=function(L){return I.H.useState(L)},qt.useSyncExternalStore=function(L,ae,W){return I.H.useSyncExternalStore(L,ae,W)},qt.useTransition=function(){return I.H.useTransition()},qt.version="19.1.1",qt}var $N;function jx(){return $N||($N=1,hR.exports=gte()),hR.exports}var T=jx();const ue=vg(T);var fR={exports:{}},Wm={},pR={exports:{}},gR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function mte(){return qN||(qN=1,function(e){function t(J,se){var he=J.length;J.push(se);e:for(;0<he;){var ne=he-1>>>1,L=J[ne];if(0<i(L,se))J[ne]=se,J[he]=L,he=ne;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var se=J[0],he=J.pop();if(he!==se){J[0]=he;e:for(var ne=0,L=J.length,ae=L>>>1;ne<ae;){var W=2*(ne+1)-1,H=J[W],X=W+1,ie=J[X];if(0>i(H,he))X<L&&0>i(ie,H)?(J[ne]=ie,J[X]=he,ne=X):(J[ne]=H,J[W]=he,ne=W);else if(X<L&&0>i(ie,he))J[ne]=ie,J[X]=he,ne=X;else break e}}return se}function i(J,se){var he=J.sortIndex-se.sortIndex;return he!==0?he:J.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,y=!1,C=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function F(J){for(var se=n(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=J)r(c),se.sortIndex=se.expirationTime,t(l,se);else break;se=n(c)}}function I(J){if(C=!1,F(J),!y)if(n(l)!==null)y=!0,_||(_=!0,V());else{var se=n(c);se!==null&&le(I,se.startTime-J)}}var _=!1,D=-1,P=5,k=-1;function B(){return b?!0:!(e.unstable_now()-k<P)}function N(){if(b=!1,_){var J=e.unstable_now();k=J;var se=!0;try{e:{y=!1,C&&(C=!1,R(D),D=-1),m=!0;var he=p;try{t:{for(F(J),f=n(l);f!==null&&!(f.expirationTime>J&&B());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var L=ne(f.expirationTime<=J);if(J=e.unstable_now(),typeof L=="function"){f.callback=L,F(J),se=!0;break t}f===n(l)&&r(l),F(J)}else r(l);f=n(l)}if(f!==null)se=!0;else{var ae=n(c);ae!==null&&le(I,ae.startTime-J),se=!1}}break e}finally{f=null,p=he,m=!1}se=void 0}}finally{se?V():_=!1}}}var V;if(typeof E=="function")V=function(){E(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,oe=G.port2;G.port1.onmessage=N,V=function(){oe.postMessage(null)}}else V=function(){x(N,0)};function le(J,se){D=x(function(){J(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(J){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var he=p;p=se;try{return J()}finally{p=he}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=p;p=J;try{return se()}finally{p=he}},e.unstable_scheduleCallback=function(J,se,he){var ne=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ne+he:ne):he=ne,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=he+L,J={id:d++,callback:se,priorityLevel:J,startTime:he,expirationTime:L,sortIndex:-1},he>ne?(J.sortIndex=he,t(c,J),n(l)===null&&J===n(c)&&(C?(R(D),D=-1):C=!0,le(I,he-ne))):(J.sortIndex=L,t(l,J),y||m||(y=!0,_||(_=!0,V()))),J},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(J){var se=p;return function(){var he=p;p=se;try{return J.apply(this,arguments)}finally{p=he}}}}(gR)),gR}var KN;function vte(){return KN||(KN=1,pR.exports=mte()),pR.exports}var mR={exports:{}},Li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function yte(){if(YN)return Li;YN=1;var e=jx();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Li.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,d)},Li.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},Li.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Li.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Li.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Li.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Li.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Li.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Li.requestFormReset=function(l){r.d.r(l)},Li.unstable_batchedUpdates=function(l,c){return l(c)},Li.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Li.useFormStatus=function(){return o.H.useHostTransitionStatus()},Li.version="19.1.1",Li}var XN;function WU(){if(XN)return mR.exports;XN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mR.exports=yte(),mR.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN;function Cte(){if(QN)return Wm;QN=1;var e=vte(),t=jx(),n=WU();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function a(u){if(s(u)!==u)throw Error(r(188))}function l(u){var h=u.alternate;if(!h){if(h=s(u),h===null)throw Error(r(188));return h!==u?null:u}for(var g=u,v=h;;){var S=g.return;if(S===null)break;var A=S.alternate;if(A===null){if(v=S.return,v!==null){g=v;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===g)return a(S),u;if(A===v)return a(S),h;A=A.sibling}throw Error(r(188))}if(g.return!==v.return)g=S,v=A;else{for(var z=!1,Y=S.child;Y;){if(Y===g){z=!0,g=S,v=A;break}if(Y===v){z=!0,v=S,g=A;break}Y=Y.sibling}if(!z){for(Y=A.child;Y;){if(Y===g){z=!0,g=A,v=S;break}if(Y===v){z=!0,v=A,g=S;break}Y=Y.sibling}if(!z)throw Error(r(189))}}if(g.alternate!==v)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:h}function c(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=c(u),h!==null)return h;u=u.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),E=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(u){return u===null||typeof u!="object"?null:(u=N&&u[N]||u["@@iterator"],typeof u=="function"?u:null)}var G=Symbol.for("react.client.reference");function oe(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===G?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case y:return"Fragment";case b:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case _:return"SuspenseList";case k:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case m:return"Portal";case E:return(u.displayName||"Context")+".Provider";case R:return(u._context.displayName||"Context")+".Consumer";case F:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case D:return h=u.displayName||null,h!==null?h:oe(u.type)||"Memo";case P:h=u._payload,u=u._init;try{return oe(u(h))}catch{}}return null}var le=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ne=[],L=-1;function ae(u){return{current:u}}function W(u){0>L||(u.current=ne[L],ne[L]=null,L--)}function H(u,h){L++,ne[L]=u.current,u.current=h}var X=ae(null),ie=ae(null),fe=ae(null),Be=ae(null);function Ne(u,h){switch(H(fe,h),H(ie,u),H(X,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?vN(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=vN(h),u=yN(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}W(X),H(X,u)}function Ie(){W(X),W(ie),W(fe)}function Fe(u){u.memoizedState!==null&&H(Be,u);var h=X.current,g=yN(h,u.type);h!==g&&(H(ie,u),H(X,g))}function rt(u){ie.current===u&&(W(X),W(ie)),Be.current===u&&(W(Be),Vm._currentValue=he)}var re=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,Ze=e.unstable_requestPaint,ke=e.unstable_now,ct=e.unstable_getCurrentPriorityLevel,At=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,It=e.unstable_LowPriority,Gt=e.unstable_IdlePriority,$t=e.log,wn=e.unstable_setDisableYieldValue,ve=null,Oe=null;function Ke(u){if(typeof $t=="function"&&wn(u),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(ve,u)}catch{}}var lt=Math.clz32?Math.clz32:xn,dt=Math.log,Ut=Math.LN2;function xn(u){return u>>>=0,u===0?32:31-(dt(u)/Ut|0)|0}var Yt=256,er=4194304;function dr(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function qn(u,h,g){var v=u.pendingLanes;if(v===0)return 0;var S=0,A=u.suspendedLanes,z=u.pingedLanes;u=u.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~A,v!==0?S=dr(v):(z&=Y,z!==0?S=dr(z):g||(g=Y&~u,g!==0&&(S=dr(g))))):(Y=v&~A,Y!==0?S=dr(Y):z!==0?S=dr(z):g||(g=v&~u,g!==0&&(S=dr(g)))),S===0?0:h!==0&&h!==S&&(h&A)===0&&(A=S&-S,g=h&-h,A>=g||A===32&&(g&4194048)!==0)?h:S}function br(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function Sr(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var u=Yt;return Yt<<=1,(Yt&4194048)===0&&(Yt=256),u}function Ea(){var u=er;return er<<=1,(er&62914560)===0&&(er=4194304),u}function ys(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function Ls(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ns(u,h,g,v,S,A){var z=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Y=u.entanglements,ce=u.expirationTimes,Re=u.hiddenUpdates;for(g=z&~g;0<g;){var Ve=31-lt(g),je=1<<Ve;Y[Ve]=0,ce[Ve]=-1;var De=Re[Ve];if(De!==null)for(Re[Ve]=null,Ve=0;Ve<De.length;Ve++){var Pe=De[Ve];Pe!==null&&(Pe.lane&=-536870913)}g&=~je}v!==0&&vi(u,v,0),A!==0&&S===0&&u.tag!==0&&(u.suspendedLanes|=A&~(z&~h))}function vi(u,h,g){u.pendingLanes|=h,u.suspendedLanes&=~h;var v=31-lt(h);u.entangledLanes|=h,u.entanglements[v]=u.entanglements[v]|1073741824|g&4194090}function po(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var v=31-lt(g),S=1<<v;S&h|u[v]&h&&(u[v]|=h),g&=~S}}function go(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Ta(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function de(){var u=se.p;return u!==0?u:(u=window.event,u===void 0?32:NN(u.type))}function be(u,h){var g=se.p;try{return se.p=u,h()}finally{se.p=g}}var Ee=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Ee,Ye="__reactProps$"+Ee,ht="__reactContainer$"+Ee,vt="__reactEvents$"+Ee,pt="__reactListeners$"+Ee,j="__reactHandles$"+Ee,Q="__reactResources$"+Ee,q="__reactMarker$"+Ee;function K(u){delete u[Ue],delete u[Ye],delete u[vt],delete u[pt],delete u[j]}function ee(u){var h=u[Ue];if(h)return h;for(var g=u.parentNode;g;){if(h=g[ht]||g[Ue]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=SN(u);u!==null;){if(g=u[Ue])return g;u=SN(u)}return h}u=g,g=u.parentNode}return null}function te(u){if(u=u[Ue]||u[ht]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function Ce(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function _e(u){var h=u[Q];return h||(h=u[Q]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function me(u){u[q]=!0}var ye=new Set,Te={};function We(u,h){Qe(u,h),Qe(u+"Capture",h)}function Qe(u,h){for(Te[u]=h,u=0;u<h.length;u++)ye.add(h[u])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},tt={};function Tt(u){return re.call(tt,u)?!0:re.call(Je,u)?!1:ot.test(u)?tt[u]=!0:(Je[u]=!0,!1)}function en(u,h,g){if(Tt(h))if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var v=h.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+g)}}function Xt(u,h,g){if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+g)}}function yt(u,h,g,v){if(v===null)u.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(h,g,""+v)}}var _n,Ji;function xr(u){if(_n===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);_n=h&&h[1]||"",Ji=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_n+u+Ji}var cn=!1;function es(u,h){if(!u||cn)return"";cn=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(h){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(Pe){var De=Pe}Reflect.construct(u,[],je)}else{try{je.call()}catch(Pe){De=Pe}u.call(je.prototype)}}else{try{throw Error()}catch(Pe){De=Pe}(je=u())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(Pe){if(Pe&&De&&typeof Pe.stack=="string")return[Pe.stack,De.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=v.DetermineComponentFrameRoot(),z=A[0],Y=A[1];if(z&&Y){var ce=z.split(`
`),Re=Y.split(`
`);for(S=v=0;v<ce.length&&!ce[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Re.length&&!Re[S].includes("DetermineComponentFrameRoot");)S++;if(v===ce.length||S===Re.length)for(v=ce.length-1,S=Re.length-1;1<=v&&0<=S&&ce[v]!==Re[S];)S--;for(;1<=v&&0<=S;v--,S--)if(ce[v]!==Re[S]){if(v!==1||S!==1)do if(v--,S--,0>S||ce[v]!==Re[S]){var Ve=`
`+ce[v].replace(" at new "," at ");return u.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",u.displayName)),Ve}while(1<=v&&0<=S);break}}}finally{cn=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?xr(g):""}function ni(u){switch(u.tag){case 26:case 27:case 5:return xr(u.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return es(u.type,!1);case 11:return es(u.type.render,!1);case 1:return es(u.type,!0);case 31:return xr("Activity");default:return""}}function Dc(u){try{var h="";do h+=ni(u),u=u.return;while(u);return h}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ts(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function qg(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function gE(u){var h=qg(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),v=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,A=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return S.call(this)},set:function(z){v=""+z,A.call(this,z)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(z){v=""+z},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function af(u){u._valueTracker||(u._valueTracker=gE(u))}function Kg(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),v="";return u&&(v=qg(u)?u.checked?"true":"false":u.value),u=v,u!==g?(h.setValue(u),!0):!1}function ld(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var mE=/[\n"\\]/g;function Ir(u){return u.replace(mE,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Bs(u,h,g,v,S,A,z,Y){u.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?u.type=z:u.removeAttribute("type"),h!=null?z==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+ts(h)):u.value!==""+ts(h)&&(u.value=""+ts(h)):z!=="submit"&&z!=="reset"||u.removeAttribute("value"),h!=null?Pc(u,z,ts(h)):g!=null?Pc(u,z,ts(g)):v!=null&&u.removeAttribute("value"),S==null&&A!=null&&(u.defaultChecked=!!A),S!=null&&(u.checked=S&&typeof S!="function"&&typeof S!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?u.name=""+ts(Y):u.removeAttribute("name")}function cd(u,h,g,v,S,A,z,Y){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(u.type=A),h!=null||g!=null){if(!(A!=="submit"&&A!=="reset"||h!=null))return;g=g!=null?""+ts(g):"",h=h!=null?""+ts(h):g,Y||h===u.value||(u.value=h),u.defaultValue=h}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,u.checked=Y?u.checked:!!v,u.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(u.name=z)}function Pc(u,h,g){h==="number"&&ld(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function _l(u,h,g,v){if(u=u.options,h){h={};for(var S=0;S<g.length;S++)h["$"+g[S]]=!0;for(g=0;g<u.length;g++)S=h.hasOwnProperty("$"+u[g].value),u[g].selected!==S&&(u[g].selected=S),S&&v&&(u[g].defaultSelected=!0)}else{for(g=""+ts(g),h=null,S=0;S<u.length;S++){if(u[S].value===g){u[S].selected=!0,v&&(u[S].defaultSelected=!0);return}h!==null||u[S].disabled||(h=u[S])}h!==null&&(h.selected=!0)}}function Ln(u,h,g){if(h!=null&&(h=""+ts(h),h!==u.value&&(u.value=h),g==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=g!=null?""+ts(g):""}function ud(u,h,g,v){if(h==null){if(v!=null){if(g!=null)throw Error(r(92));if(le(v)){if(1<v.length)throw Error(r(93));v=v[0]}g=v}g==null&&(g=""),h=g}g=ts(h),u.defaultValue=g,v=u.textContent,v===g&&v!==""&&v!==null&&(u.value=v)}function mo(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wC(u,h,g){var v=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":v?u.setProperty(h,g):typeof g!="number"||g===0||dd.has(h)?h==="float"?u.cssFloat=g:u[h]=(""+g).trim():u[h]=g+"px"}function Yg(u,h,g){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||h!=null&&h.hasOwnProperty(v)||(v.indexOf("--")===0?u.setProperty(v,""):v==="float"?u.cssFloat="":u[v]="");for(var S in h)v=h[S],h.hasOwnProperty(S)&&g[S]!==v&&wC(u,S,v)}else for(var A in h)h.hasOwnProperty(A)&&wC(u,A,h[A])}function Xg(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lf(u){return yE.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Dl=null;function vo(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Pl=null,Fl=null;function Qg(u){var h=te(u);if(h&&(u=h.stateNode)){var g=u[Ye]||null;e:switch(u=h.stateNode,h.type){case"input":if(Bs(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ir(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var v=g[h];if(v!==u&&v.form===u.form){var S=v[Ye]||null;if(!S)throw Error(r(90));Bs(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(h=0;h<g.length;h++)v=g[h],v.form===u.form&&Kg(v)}break e;case"textarea":Ln(u,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&_l(u,!!g.multiple,h,!1)}}}var Ra=!1;function bC(u,h,g){if(Ra)return u(h,g);Ra=!0;try{var v=u(h);return v}finally{if(Ra=!1,(Pl!==null||Fl!==null)&&(pw(),Pl&&(h=Pl,u=Fl,Fl=Pl=null,Qg(h),u)))for(h=0;h<u.length;h++)Qg(u[h])}}function hd(u,h){var g=u.stateNode;if(g===null)return null;var v=g[Ye]||null;if(v===null)return null;g=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(u=u.type,v=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!v;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,h,typeof g));return g}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=!1;if(ta)try{var fd={};Object.defineProperty(fd,"passive",{get:function(){yo=!0}}),window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{yo=!1}var Aa=null,Fc=null,kl=null;function Zg(){if(kl)return kl;var u,h=Fc,g=h.length,v,S="value"in Aa?Aa.value:Aa.textContent,A=S.length;for(u=0;u<g&&h[u]===S[u];u++);var z=g-u;for(v=1;v<=z&&h[g-v]===S[A-v];v++);return kl=S.slice(u,1<v?1-v:void 0)}function _a(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Da(){return!0}function Jg(){return!1}function ri(u){function h(g,v,S,A,z){this._reactName=g,this._targetInst=S,this.type=v,this.nativeEvent=A,this.target=z,this.currentTarget=null;for(var Y in u)u.hasOwnProperty(Y)&&(g=u[Y],this[Y]=g?g(A):A[Y]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Da:Jg,this.isPropagationStopped=Jg,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),h}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=ri(Dn),pd=d({},Dn,{view:0,detail:0}),SC=ri(pd),uf,df,Pa,gd=d({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Pa&&(Pa&&u.type==="mousemove"?(uf=u.screenX-Pa.screenX,df=u.screenY-Pa.screenY):df=uf=0,Pa=u),uf)},movementY:function(u){return"movementY"in u?u.movementY:df}}),Co=ri(gd),xC=d({},gd,{dataTransfer:0}),CE=ri(xC),md=d({},pd,{relatedTarget:0}),hf=ri(md),em=d({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),ff=ri(em),EC=d({},Dn,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),pf=ri(EC),wE=d({},Dn,{data:0}),tm=ri(wE),vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nm(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=RC[u])?!!h[u]:!1}function yd(){return nm}var AC=d({},pd,{key:function(u){if(u.key){var h=vd[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=_a(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?TC[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(u){return u.type==="keypress"?_a(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?_a(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),gf=ri(AC),_C=d({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=ri(_C),Il=d({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),DC=ri(Il),PC=d({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),FC=ri(PC),kC=d({},gd,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),mf=ri(kC),ns=d({},Dn,{newState:0,oldState:0}),IC=ri(ns),MC=[9,13,27,32],Fa=ta&&"CompositionEvent"in window,w=null;ta&&"documentMode"in document&&(w=document.documentMode);var O=ta&&"TextEvent"in window&&!w,U=ta&&(!Fa||w&&8<w&&11>=w),Z=" ",Se=!1;function Le(u,h){switch(u){case"keyup":return MC.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var un=!1;function qr(u,h){switch(u){case"compositionend":return it(h);case"keypress":return h.which!==32?null:(Se=!0,Z);case"textInput":return u=h.data,u===Z&&Se?null:u;default:return null}}function dn(u,h){if(un)return u==="compositionend"||!Fa&&Le(u,h)?(u=Zg(),kl=Fc=Aa=null,un=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return U&&h.locale!=="ko"?null:h.data;default:return null}}var ii={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kr(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!ii[u.type]:h==="textarea"}function Ml(u,h,g,v){Pl?Fl?Fl.push(v):Fl=[v]:Pl=v,h=ww(h,"onChange"),0<h.length&&(g=new cf("onChange","change",null,g,v),u.push({event:g,listeners:h}))}var yi=null,ka=null;function im(u){hN(u,0)}function OC(u){var h=Ce(u);if(Kg(h))return u}function I2(u,h){if(u==="change")return h}var M2=!1;if(ta){var bE;if(ta){var SE="oninput"in document;if(!SE){var O2=document.createElement("div");O2.setAttribute("oninput","return;"),SE=typeof O2.oninput=="function"}bE=SE}else bE=!1;M2=bE&&(!document.documentMode||9<document.documentMode)}function L2(){yi&&(yi.detachEvent("onpropertychange",N2),ka=yi=null)}function N2(u){if(u.propertyName==="value"&&OC(ka)){var h=[];Ml(h,ka,u,vo(u)),bC(im,h)}}function zJ(u,h,g){u==="focusin"?(L2(),yi=h,ka=g,yi.attachEvent("onpropertychange",N2)):u==="focusout"&&L2()}function jJ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return OC(ka)}function WJ(u,h){if(u==="click")return OC(h)}function $J(u,h){if(u==="input"||u==="change")return OC(h)}function qJ(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Vs=typeof Object.is=="function"?Object.is:qJ;function sm(u,h){if(Vs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),v=Object.keys(h);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var S=g[v];if(!re.call(h,S)||!Vs(u[S],h[S]))return!1}return!0}function B2(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function V2(u,h){var g=B2(u);u=0;for(var v;g;){if(g.nodeType===3){if(v=u+g.textContent.length,u<=h&&v>=h)return{node:g,offset:h-u};u=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=B2(g)}}function H2(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?H2(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function G2(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=ld(u.document);h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=ld(u.document)}return h}function xE(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var KJ=ta&&"documentMode"in document&&11>=document.documentMode,vf=null,EE=null,om=null,TE=!1;function U2(u,h,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;TE||vf==null||vf!==ld(v)||(v=vf,"selectionStart"in v&&xE(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),om&&sm(om,v)||(om=v,v=ww(EE,"onSelect"),0<v.length&&(h=new cf("onSelect","select",null,h,g),u.push({event:h,listeners:v}),h.target=vf)))}function Cd(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var yf={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionrun:Cd("Transition","TransitionRun"),transitionstart:Cd("Transition","TransitionStart"),transitioncancel:Cd("Transition","TransitionCancel"),transitionend:Cd("Transition","TransitionEnd")},RE={},z2={};ta&&(z2=document.createElement("div").style,"AnimationEvent"in window||(delete yf.animationend.animation,delete yf.animationiteration.animation,delete yf.animationstart.animation),"TransitionEvent"in window||delete yf.transitionend.transition);function wd(u){if(RE[u])return RE[u];if(!yf[u])return u;var h=yf[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in z2)return RE[u]=h[g];return u}var j2=wd("animationend"),W2=wd("animationiteration"),$2=wd("animationstart"),YJ=wd("transitionrun"),XJ=wd("transitionstart"),QJ=wd("transitioncancel"),q2=wd("transitionend"),K2=new Map,AE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");AE.push("scrollEnd");function na(u,h){K2.set(u,h),We(h,[u])}var Y2=new WeakMap;function wo(u,h){if(typeof u=="object"&&u!==null){var g=Y2.get(u);return g!==void 0?g:(h={value:u,source:h,stack:Dc(h)},Y2.set(u,h),h)}return{value:u,source:h,stack:Dc(h)}}var bo=[],Cf=0,_E=0;function LC(){for(var u=Cf,h=_E=Cf=0;h<u;){var g=bo[h];bo[h++]=null;var v=bo[h];bo[h++]=null;var S=bo[h];bo[h++]=null;var A=bo[h];if(bo[h++]=null,v!==null&&S!==null){var z=v.pending;z===null?S.next=S:(S.next=z.next,z.next=S),v.pending=S}A!==0&&X2(g,S,A)}}function NC(u,h,g,v){bo[Cf++]=u,bo[Cf++]=h,bo[Cf++]=g,bo[Cf++]=v,_E|=v,u.lanes|=v,u=u.alternate,u!==null&&(u.lanes|=v)}function DE(u,h,g,v){return NC(u,h,g,v),BC(u)}function wf(u,h){return NC(u,null,null,h),BC(u)}function X2(u,h,g){u.lanes|=g;var v=u.alternate;v!==null&&(v.lanes|=g);for(var S=!1,A=u.return;A!==null;)A.childLanes|=g,v=A.alternate,v!==null&&(v.childLanes|=g),A.tag===22&&(u=A.stateNode,u===null||u._visibility&1||(S=!0)),u=A,A=A.return;return u.tag===3?(A=u.stateNode,S&&h!==null&&(S=31-lt(g),u=A.hiddenUpdates,v=u[S],v===null?u[S]=[h]:v.push(h),h.lane=g|536870912),A):null}function BC(u){if(50<Fm)throw Fm=0,OT=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var bf={};function ZJ(u,h,g,v){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(u,h,g,v){return new ZJ(u,h,g,v)}function PE(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ol(u,h){var g=u.alternate;return g===null?(g=Hs(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&65011712,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function Q2(u,h){u.flags&=65011714;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,h=g.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function VC(u,h,g,v,S,A){var z=0;if(v=u,typeof u=="function")PE(u)&&(z=1);else if(typeof u=="string")z=ete(u,g,X.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case k:return u=Hs(31,g,h,S),u.elementType=k,u.lanes=A,u;case y:return bd(g.children,S,A,h);case C:z=8,S|=24;break;case b:return u=Hs(12,g,h,S|2),u.elementType=b,u.lanes=A,u;case I:return u=Hs(13,g,h,S),u.elementType=I,u.lanes=A,u;case _:return u=Hs(19,g,h,S),u.elementType=_,u.lanes=A,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case x:case E:z=10;break e;case R:z=9;break e;case F:z=11;break e;case D:z=14;break e;case P:z=16,v=null;break e}z=29,g=Error(r(130,u===null?"null":typeof u,"")),v=null}return h=Hs(z,g,h,S),h.elementType=u,h.type=v,h.lanes=A,h}function bd(u,h,g,v){return u=Hs(7,u,v,h),u.lanes=g,u}function FE(u,h,g){return u=Hs(6,u,null,h),u.lanes=g,u}function kE(u,h,g){return h=Hs(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var Sf=[],xf=0,HC=null,GC=0,So=[],xo=0,Sd=null,Ll=1,Nl="";function xd(u,h){Sf[xf++]=GC,Sf[xf++]=HC,HC=u,GC=h}function Z2(u,h,g){So[xo++]=Ll,So[xo++]=Nl,So[xo++]=Sd,Sd=u;var v=Ll;u=Nl;var S=32-lt(v)-1;v&=~(1<<S),g+=1;var A=32-lt(h)+S;if(30<A){var z=S-S%5;A=(v&(1<<z)-1).toString(32),v>>=z,S-=z,Ll=1<<32-lt(h)+S|g<<S|v,Nl=A+u}else Ll=1<<A|g<<S|v,Nl=u}function IE(u){u.return!==null&&(xd(u,1),Z2(u,1,0))}function ME(u){for(;u===HC;)HC=Sf[--xf],Sf[xf]=null,GC=Sf[--xf],Sf[xf]=null;for(;u===Sd;)Sd=So[--xo],So[xo]=null,Nl=So[--xo],So[xo]=null,Ll=So[--xo],So[xo]=null}var rs=null,hr=null,En=!1,Ed=null,Ia=!1,OE=Error(r(519));function Td(u){var h=Error(r(418,""));throw cm(wo(h,u)),OE}function J2(u){var h=u.stateNode,g=u.type,v=u.memoizedProps;switch(h[Ue]=u,h[Ye]=v,g){case"dialog":nn("cancel",h),nn("close",h);break;case"iframe":case"object":case"embed":nn("load",h);break;case"video":case"audio":for(g=0;g<Im.length;g++)nn(Im[g],h);break;case"source":nn("error",h);break;case"img":case"image":case"link":nn("error",h),nn("load",h);break;case"details":nn("toggle",h);break;case"input":nn("invalid",h),cd(h,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),af(h);break;case"select":nn("invalid",h);break;case"textarea":nn("invalid",h),ud(h,v.value,v.defaultValue,v.children),af(h)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||v.suppressHydrationWarning===!0||mN(h.textContent,g)?(v.popover!=null&&(nn("beforetoggle",h),nn("toggle",h)),v.onScroll!=null&&nn("scroll",h),v.onScrollEnd!=null&&nn("scrollend",h),v.onClick!=null&&(h.onclick=bw),h=!0):h=!1,h||Td(u)}function eO(u){for(rs=u.return;rs;)switch(rs.tag){case 5:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:rs=rs.return}}function am(u){if(u!==rs)return!1;if(!En)return eO(u),En=!0,!1;var h=u.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||QT(u.type,u.memoizedProps)),g=!g),g&&hr&&Td(u),eO(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(h===0){hr=ia(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++;u=u.nextSibling}hr=null}}else h===27?(h=hr,qc(u.type)?(u=tR,tR=null,hr=u):hr=h):hr=rs?ia(u.stateNode.nextSibling):null;return!0}function lm(){hr=rs=null,En=!1}function tO(){var u=Ed;return u!==null&&(bs===null?bs=u:bs.push.apply(bs,u),Ed=null),u}function cm(u){Ed===null?Ed=[u]:Ed.push(u)}var LE=ae(null),Rd=null,Bl=null;function kc(u,h,g){H(LE,h._currentValue),h._currentValue=g}function Vl(u){u._currentValue=LE.current,W(LE)}function NE(u,h,g){for(;u!==null;){var v=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),u===g)break;u=u.return}}function BE(u,h,g,v){var S=u.child;for(S!==null&&(S.return=u);S!==null;){var A=S.dependencies;if(A!==null){var z=S.child;A=A.firstContext;e:for(;A!==null;){var Y=A;A=S;for(var ce=0;ce<h.length;ce++)if(Y.context===h[ce]){A.lanes|=g,Y=A.alternate,Y!==null&&(Y.lanes|=g),NE(A.return,g,u),v||(z=null);break e}A=Y.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(r(341));z.lanes|=g,A=z.alternate,A!==null&&(A.lanes|=g),NE(z,g,u),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===u){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function um(u,h,g,v){u=null;for(var S=h,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var Y=S.type;Vs(S.pendingProps.value,z.value)||(u!==null?u.push(Y):u=[Y])}}else if(S===Be.current){if(z=S.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(u!==null?u.push(Vm):u=[Vm])}S=S.return}u!==null&&BE(h,u,g,v),h.flags|=262144}function UC(u){for(u=u.firstContext;u!==null;){if(!Vs(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Ad(u){Rd=u,Bl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Oi(u){return nO(Rd,u)}function zC(u,h){return Rd===null&&Ad(u),nO(u,h)}function nO(u,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},Bl===null){if(u===null)throw Error(r(308));Bl=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else Bl=Bl.next=h;return g}var JJ=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(g,v){u.push(v)}};this.abort=function(){h.aborted=!0,u.forEach(function(g){return g()})}},eee=e.unstable_scheduleCallback,tee=e.unstable_NormalPriority,Yr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function VE(){return{controller:new JJ,data:new Map,refCount:0}}function dm(u){u.refCount--,u.refCount===0&&eee(tee,function(){u.controller.abort()})}var hm=null,HE=0,Ef=0,Tf=null;function nee(u,h){if(hm===null){var g=hm=[];HE=0,Ef=UT(),Tf={status:"pending",value:void 0,then:function(v){g.push(v)}}}return HE++,h.then(rO,rO),h}function rO(){if(--HE===0&&hm!==null){Tf!==null&&(Tf.status="fulfilled");var u=hm;hm=null,Ef=0,Tf=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function ree(u,h){var g=[],v={status:"pending",value:null,reason:null,then:function(S){g.push(S)}};return u.then(function(){v.status="fulfilled",v.value=h;for(var S=0;S<g.length;S++)(0,g[S])(h)},function(S){for(v.status="rejected",v.reason=S,S=0;S<g.length;S++)(0,g[S])(void 0)}),v}var iO=J.S;J.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&nee(u,h),iO!==null&&iO(u,h)};var _d=ae(null);function GE(){var u=_d.current;return u!==null?u:zn.pooledCache}function jC(u,h){h===null?H(_d,_d.current):H(_d,h.pool)}function sO(){var u=GE();return u===null?null:{parent:Yr._currentValue,pool:u}}var fm=Error(r(460)),oO=Error(r(474)),WC=Error(r(542)),UE={then:function(){}};function aO(u){return u=u.status,u==="fulfilled"||u==="rejected"}function $C(){}function lO(u,h,g){switch(g=u[g],g===void 0?u.push(h):g!==h&&(h.then($C,$C),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,uO(u),u;default:if(typeof h.status=="string")h.then($C,$C);else{if(u=zn,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(v){if(h.status==="pending"){var S=h;S.status="fulfilled",S.value=v}},function(v){if(h.status==="pending"){var S=h;S.status="rejected",S.reason=v}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,uO(u),u}throw pm=h,fm}}var pm=null;function cO(){if(pm===null)throw Error(r(459));var u=pm;return pm=null,u}function uO(u){if(u===fm||u===WC)throw Error(r(483))}var Ic=!1;function zE(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jE(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Mc(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Oc(u,h,g){var v=u.updateQueue;if(v===null)return null;if(v=v.shared,(Mn&2)!==0){var S=v.pending;return S===null?h.next=h:(h.next=S.next,S.next=h),v.pending=h,h=BC(u),X2(u,null,g),h}return NC(u,v,h,g),BC(u)}function gm(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var v=h.lanes;v&=u.pendingLanes,g|=v,h.lanes=g,po(u,g)}}function WE(u,h){var g=u.updateQueue,v=u.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var S=null,A=null;if(g=g.firstBaseUpdate,g!==null){do{var z={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};A===null?S=A=z:A=A.next=z,g=g.next}while(g!==null);A===null?S=A=h:A=A.next=h}else S=A=h;g={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:v.shared,callbacks:v.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}var $E=!1;function mm(){if($E){var u=Tf;if(u!==null)throw u}}function vm(u,h,g,v){$E=!1;var S=u.updateQueue;Ic=!1;var A=S.firstBaseUpdate,z=S.lastBaseUpdate,Y=S.shared.pending;if(Y!==null){S.shared.pending=null;var ce=Y,Re=ce.next;ce.next=null,z===null?A=Re:z.next=Re,z=ce;var Ve=u.alternate;Ve!==null&&(Ve=Ve.updateQueue,Y=Ve.lastBaseUpdate,Y!==z&&(Y===null?Ve.firstBaseUpdate=Re:Y.next=Re,Ve.lastBaseUpdate=ce))}if(A!==null){var je=S.baseState;z=0,Ve=Re=ce=null,Y=A;do{var De=Y.lane&-536870913,Pe=De!==Y.lane;if(Pe?(hn&De)===De:(v&De)===De){De!==0&&De===Ef&&($E=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Nt=u,Pt=Y;De=h;var Vn=g;switch(Pt.tag){case 1:if(Nt=Pt.payload,typeof Nt=="function"){je=Nt.call(Vn,je,De);break e}je=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Pt.payload,De=typeof Nt=="function"?Nt.call(Vn,je,De):Nt,De==null)break e;je=d({},je,De);break e;case 2:Ic=!0}}De=Y.callback,De!==null&&(u.flags|=64,Pe&&(u.flags|=8192),Pe=S.callbacks,Pe===null?S.callbacks=[De]:Pe.push(De))}else Pe={lane:De,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ve===null?(Re=Ve=Pe,ce=je):Ve=Ve.next=Pe,z|=De;if(Y=Y.next,Y===null){if(Y=S.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,S.lastBaseUpdate=Pe,S.shared.pending=null}}while(!0);Ve===null&&(ce=je),S.baseState=ce,S.firstBaseUpdate=Re,S.lastBaseUpdate=Ve,A===null&&(S.shared.lanes=0),zc|=z,u.lanes=z,u.memoizedState=je}}function dO(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function hO(u,h){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)dO(g[u],h)}var Rf=ae(null),qC=ae(0);function fO(u,h){u=$l,H(qC,u),H(Rf,h),$l=u|h.baseLanes}function qE(){H(qC,$l),H(Rf,Rf.current)}function KE(){$l=qC.current,W(Rf),W(qC)}var Lc=0,Qt=null,Nn=null,Mr=null,KC=!1,Af=!1,Dd=!1,YC=0,ym=0,_f=null,iee=0;function Er(){throw Error(r(321))}function YE(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!Vs(u[g],h[g]))return!1;return!0}function XE(u,h,g,v,S,A){return Lc=A,Qt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,J.H=u===null||u.memoizedState===null?XO:QO,Dd=!1,A=g(v,S),Dd=!1,Af&&(A=gO(h,g,v,S)),pO(u),A}function pO(u){J.H=tw;var h=Nn!==null&&Nn.next!==null;if(Lc=0,Mr=Nn=Qt=null,KC=!1,ym=0,_f=null,h)throw Error(r(300));u===null||si||(u=u.dependencies,u!==null&&UC(u)&&(si=!0))}function gO(u,h,g,v){Qt=u;var S=0;do{if(Af&&(_f=null),ym=0,Af=!1,25<=S)throw Error(r(301));if(S+=1,Mr=Nn=null,u.updateQueue!=null){var A=u.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}J.H=dee,A=h(g,v)}while(Af);return A}function see(){var u=J.H,h=u.useState()[0];return h=typeof h.then=="function"?Cm(h):h,u=u.useState()[0],(Nn!==null?Nn.memoizedState:null)!==u&&(Qt.flags|=1024),h}function QE(){var u=YC!==0;return YC=0,u}function ZE(u,h,g){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~g}function JE(u){if(KC){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}KC=!1}Lc=0,Mr=Nn=Qt=null,Af=!1,ym=YC=0,_f=null}function Cs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Qt.memoizedState=Mr=u:Mr=Mr.next=u,Mr}function Or(){if(Nn===null){var u=Qt.alternate;u=u!==null?u.memoizedState:null}else u=Nn.next;var h=Mr===null?Qt.memoizedState:Mr.next;if(h!==null)Mr=h,Nn=u;else{if(u===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));Nn=u,u={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Mr===null?Qt.memoizedState=Mr=u:Mr=Mr.next=u}return Mr}function eT(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cm(u){var h=ym;return ym+=1,_f===null&&(_f=[]),u=lO(_f,u,h),h=Qt,(Mr===null?h.memoizedState:Mr.next)===null&&(h=h.alternate,J.H=h===null||h.memoizedState===null?XO:QO),u}function XC(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Cm(u);if(u.$$typeof===E)return Oi(u)}throw Error(r(438,String(u)))}function tT(u){var h=null,g=Qt.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var v=Qt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(h={data:v.data.map(function(S){return S.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=eT(),Qt.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(u),v=0;v<u;v++)g[v]=B;return h.index++,g}function Hl(u,h){return typeof h=="function"?h(u):h}function QC(u){var h=Or();return nT(h,Nn,u)}function nT(u,h,g){var v=u.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=g;var S=u.baseQueue,A=v.pending;if(A!==null){if(S!==null){var z=S.next;S.next=A.next,A.next=z}h.baseQueue=S=A,v.pending=null}if(A=u.baseState,S===null)u.memoizedState=A;else{h=S.next;var Y=z=null,ce=null,Re=h,Ve=!1;do{var je=Re.lane&-536870913;if(je!==Re.lane?(hn&je)===je:(Lc&je)===je){var De=Re.revertLane;if(De===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),je===Ef&&(Ve=!0);else if((Lc&De)===De){Re=Re.next,De===Ef&&(Ve=!0);continue}else je={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ce===null?(Y=ce=je,z=A):ce=ce.next=je,Qt.lanes|=De,zc|=De;je=Re.action,Dd&&g(A,je),A=Re.hasEagerState?Re.eagerState:g(A,je)}else De={lane:je,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ce===null?(Y=ce=De,z=A):ce=ce.next=De,Qt.lanes|=je,zc|=je;Re=Re.next}while(Re!==null&&Re!==h);if(ce===null?z=A:ce.next=Y,!Vs(A,u.memoizedState)&&(si=!0,Ve&&(g=Tf,g!==null)))throw g;u.memoizedState=A,u.baseState=z,u.baseQueue=ce,v.lastRenderedState=A}return S===null&&(v.lanes=0),[u.memoizedState,v.dispatch]}function rT(u){var h=Or(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var v=g.dispatch,S=g.pending,A=h.memoizedState;if(S!==null){g.pending=null;var z=S=S.next;do A=u(A,z.action),z=z.next;while(z!==S);Vs(A,h.memoizedState)||(si=!0),h.memoizedState=A,h.baseQueue===null&&(h.baseState=A),g.lastRenderedState=A}return[A,v]}function mO(u,h,g){var v=Qt,S=Or(),A=En;if(A){if(g===void 0)throw Error(r(407));g=g()}else g=h();var z=!Vs((Nn||S).memoizedState,g);z&&(S.memoizedState=g,si=!0),S=S.queue;var Y=CO.bind(null,v,S,u);if(wm(2048,8,Y,[u]),S.getSnapshot!==h||z||Mr!==null&&Mr.memoizedState.tag&1){if(v.flags|=2048,Df(9,ZC(),yO.bind(null,v,S,g,h),null),zn===null)throw Error(r(349));A||(Lc&124)!==0||vO(v,h,g)}return g}function vO(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=Qt.updateQueue,h===null?(h=eT(),Qt.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function yO(u,h,g,v){h.value=g,h.getSnapshot=v,wO(h)&&bO(u)}function CO(u,h,g){return g(function(){wO(h)&&bO(u)})}function wO(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!Vs(u,g)}catch{return!0}}function bO(u){var h=wf(u,2);h!==null&&Ws(h,u,2)}function iT(u){var h=Cs();if(typeof u=="function"){var g=u;if(u=g(),Dd){Ke(!0);try{g()}finally{Ke(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:u},h}function SO(u,h,g,v){return u.baseState=g,nT(u,Nn,typeof v=="function"?v:Hl)}function oee(u,h,g,v,S){if(ew(u))throw Error(r(485));if(u=h.action,u!==null){var A={payload:S,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){A.listeners.push(z)}};J.T!==null?g(!0):A.isTransition=!1,v(A),g=h.pending,g===null?(A.next=h.pending=A,xO(h,A)):(A.next=g.next,h.pending=g.next=A)}}function xO(u,h){var g=h.action,v=h.payload,S=u.state;if(h.isTransition){var A=J.T,z={};J.T=z;try{var Y=g(S,v),ce=J.S;ce!==null&&ce(z,Y),EO(u,h,Y)}catch(Re){sT(u,h,Re)}finally{J.T=A}}else try{A=g(S,v),EO(u,h,A)}catch(Re){sT(u,h,Re)}}function EO(u,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){TO(u,h,v)},function(v){return sT(u,h,v)}):TO(u,h,g)}function TO(u,h,g){h.status="fulfilled",h.value=g,RO(h),u.state=g,h=u.pending,h!==null&&(g=h.next,g===h?u.pending=null:(g=g.next,h.next=g,xO(u,g)))}function sT(u,h,g){var v=u.pending;if(u.pending=null,v!==null){v=v.next;do h.status="rejected",h.reason=g,RO(h),h=h.next;while(h!==v)}u.action=null}function RO(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function AO(u,h){return h}function _O(u,h){if(En){var g=zn.formState;if(g!==null){e:{var v=Qt;if(En){if(hr){t:{for(var S=hr,A=Ia;S.nodeType!==8;){if(!A){S=null;break t}if(S=ia(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){hr=ia(S.nextSibling),v=S.data==="F!";break e}}Td(v)}v=!1}v&&(h=g[0])}}return g=Cs(),g.memoizedState=g.baseState=h,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AO,lastRenderedState:h},g.queue=v,g=qO.bind(null,Qt,v),v.dispatch=g,v=iT(!1),A=uT.bind(null,Qt,!1,v.queue),v=Cs(),S={state:h,dispatch:null,action:u,pending:null},v.queue=S,g=oee.bind(null,Qt,S,A,g),S.dispatch=g,v.memoizedState=u,[h,g,!1]}function DO(u){var h=Or();return PO(h,Nn,u)}function PO(u,h,g){if(h=nT(u,h,AO)[0],u=QC(Hl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var v=Cm(h)}catch(z){throw z===fm?WC:z}else v=h;h=Or();var S=h.queue,A=S.dispatch;return g!==h.memoizedState&&(Qt.flags|=2048,Df(9,ZC(),aee.bind(null,S,g),null)),[v,A,u]}function aee(u,h){u.action=h}function FO(u){var h=Or(),g=Nn;if(g!==null)return PO(h,g,u);Or(),h=h.memoizedState,g=Or();var v=g.queue.dispatch;return g.memoizedState=u,[h,v,!1]}function Df(u,h,g,v){return u={tag:u,create:g,deps:v,inst:h,next:null},h=Qt.updateQueue,h===null&&(h=eT(),Qt.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=u.next=u:(v=g.next,g.next=u,u.next=v,h.lastEffect=u),u}function ZC(){return{destroy:void 0,resource:void 0}}function kO(){return Or().memoizedState}function JC(u,h,g,v){var S=Cs();v=v===void 0?null:v,Qt.flags|=u,S.memoizedState=Df(1|h,ZC(),g,v)}function wm(u,h,g,v){var S=Or();v=v===void 0?null:v;var A=S.memoizedState.inst;Nn!==null&&v!==null&&YE(v,Nn.memoizedState.deps)?S.memoizedState=Df(h,A,g,v):(Qt.flags|=u,S.memoizedState=Df(1|h,A,g,v))}function IO(u,h){JC(8390656,8,u,h)}function MO(u,h){wm(2048,8,u,h)}function OO(u,h){return wm(4,2,u,h)}function LO(u,h){return wm(4,4,u,h)}function NO(u,h){if(typeof h=="function"){u=u();var g=h(u);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function BO(u,h,g){g=g!=null?g.concat([u]):null,wm(4,4,NO.bind(null,h,u),g)}function oT(){}function VO(u,h){var g=Or();h=h===void 0?null:h;var v=g.memoizedState;return h!==null&&YE(h,v[1])?v[0]:(g.memoizedState=[u,h],u)}function HO(u,h){var g=Or();h=h===void 0?null:h;var v=g.memoizedState;if(h!==null&&YE(h,v[1]))return v[0];if(v=u(),Dd){Ke(!0);try{u()}finally{Ke(!1)}}return g.memoizedState=[v,h],v}function aT(u,h,g){return g===void 0||(Lc&1073741824)!==0?u.memoizedState=h:(u.memoizedState=g,u=zL(),Qt.lanes|=u,zc|=u,g)}function GO(u,h,g,v){return Vs(g,h)?g:Rf.current!==null?(u=aT(u,g,v),Vs(u,h)||(si=!0),u):(Lc&42)===0?(si=!0,u.memoizedState=g):(u=zL(),Qt.lanes|=u,zc|=u,h)}function UO(u,h,g,v,S){var A=se.p;se.p=A!==0&&8>A?A:8;var z=J.T,Y={};J.T=Y,uT(u,!1,h,g);try{var ce=S(),Re=J.S;if(Re!==null&&Re(Y,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ve=ree(ce,v);bm(u,h,Ve,js(u))}else bm(u,h,v,js(u))}catch(je){bm(u,h,{then:function(){},status:"rejected",reason:je},js())}finally{se.p=A,J.T=z}}function lee(){}function lT(u,h,g,v){if(u.tag!==5)throw Error(r(476));var S=zO(u).queue;UO(u,S,h,he,g===null?lee:function(){return jO(u),g(v)})}function zO(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:he},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:g},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function jO(u){var h=zO(u).next.queue;bm(u,h,{},js())}function cT(){return Oi(Vm)}function WO(){return Or().memoizedState}function $O(){return Or().memoizedState}function cee(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var g=js();u=Mc(g);var v=Oc(h,u,g);v!==null&&(Ws(v,h,g),gm(v,h,g)),h={cache:VE()},u.payload=h;return}h=h.return}}function uee(u,h,g){var v=js();g={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ew(u)?KO(h,g):(g=DE(u,h,g,v),g!==null&&(Ws(g,u,v),YO(g,h,v)))}function qO(u,h,g){var v=js();bm(u,h,g,v)}function bm(u,h,g,v){var S={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ew(u))KO(h,S);else{var A=u.alternate;if(u.lanes===0&&(A===null||A.lanes===0)&&(A=h.lastRenderedReducer,A!==null))try{var z=h.lastRenderedState,Y=A(z,g);if(S.hasEagerState=!0,S.eagerState=Y,Vs(Y,z))return NC(u,h,S,0),zn===null&&LC(),!1}catch{}finally{}if(g=DE(u,h,S,v),g!==null)return Ws(g,u,v),YO(g,h,v),!0}return!1}function uT(u,h,g,v){if(v={lane:2,revertLane:UT(),action:v,hasEagerState:!1,eagerState:null,next:null},ew(u)){if(h)throw Error(r(479))}else h=DE(u,g,v,2),h!==null&&Ws(h,u,2)}function ew(u){var h=u.alternate;return u===Qt||h!==null&&h===Qt}function KO(u,h){Af=KC=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function YO(u,h,g){if((g&4194048)!==0){var v=h.lanes;v&=u.pendingLanes,g|=v,h.lanes=g,po(u,g)}}var tw={readContext:Oi,use:XC,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useLayoutEffect:Er,useInsertionEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useSyncExternalStore:Er,useId:Er,useHostTransitionStatus:Er,useFormState:Er,useActionState:Er,useOptimistic:Er,useMemoCache:Er,useCacheRefresh:Er},XO={readContext:Oi,use:XC,useCallback:function(u,h){return Cs().memoizedState=[u,h===void 0?null:h],u},useContext:Oi,useEffect:IO,useImperativeHandle:function(u,h,g){g=g!=null?g.concat([u]):null,JC(4194308,4,NO.bind(null,h,u),g)},useLayoutEffect:function(u,h){return JC(4194308,4,u,h)},useInsertionEffect:function(u,h){JC(4,2,u,h)},useMemo:function(u,h){var g=Cs();h=h===void 0?null:h;var v=u();if(Dd){Ke(!0);try{u()}finally{Ke(!1)}}return g.memoizedState=[v,h],v},useReducer:function(u,h,g){var v=Cs();if(g!==void 0){var S=g(h);if(Dd){Ke(!0);try{g(h)}finally{Ke(!1)}}}else S=h;return v.memoizedState=v.baseState=S,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:S},v.queue=u,u=u.dispatch=uee.bind(null,Qt,u),[v.memoizedState,u]},useRef:function(u){var h=Cs();return u={current:u},h.memoizedState=u},useState:function(u){u=iT(u);var h=u.queue,g=qO.bind(null,Qt,h);return h.dispatch=g,[u.memoizedState,g]},useDebugValue:oT,useDeferredValue:function(u,h){var g=Cs();return aT(g,u,h)},useTransition:function(){var u=iT(!1);return u=UO.bind(null,Qt,u.queue,!0,!1),Cs().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,g){var v=Qt,S=Cs();if(En){if(g===void 0)throw Error(r(407));g=g()}else{if(g=h(),zn===null)throw Error(r(349));(hn&124)!==0||vO(v,h,g)}S.memoizedState=g;var A={value:g,getSnapshot:h};return S.queue=A,IO(CO.bind(null,v,A,u),[u]),v.flags|=2048,Df(9,ZC(),yO.bind(null,v,A,g,h),null),g},useId:function(){var u=Cs(),h=zn.identifierPrefix;if(En){var g=Nl,v=Ll;g=(v&~(1<<32-lt(v)-1)).toString(32)+g,h=""+h+"R"+g,g=YC++,0<g&&(h+="H"+g.toString(32)),h+=""}else g=iee++,h=""+h+"r"+g.toString(32)+"";return u.memoizedState=h},useHostTransitionStatus:cT,useFormState:_O,useActionState:_O,useOptimistic:function(u){var h=Cs();h.memoizedState=h.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=uT.bind(null,Qt,!0,g),g.dispatch=h,[u,h]},useMemoCache:tT,useCacheRefresh:function(){return Cs().memoizedState=cee.bind(null,Qt)}},QO={readContext:Oi,use:XC,useCallback:VO,useContext:Oi,useEffect:MO,useImperativeHandle:BO,useInsertionEffect:OO,useLayoutEffect:LO,useMemo:HO,useReducer:QC,useRef:kO,useState:function(){return QC(Hl)},useDebugValue:oT,useDeferredValue:function(u,h){var g=Or();return GO(g,Nn.memoizedState,u,h)},useTransition:function(){var u=QC(Hl)[0],h=Or().memoizedState;return[typeof u=="boolean"?u:Cm(u),h]},useSyncExternalStore:mO,useId:WO,useHostTransitionStatus:cT,useFormState:DO,useActionState:DO,useOptimistic:function(u,h){var g=Or();return SO(g,Nn,u,h)},useMemoCache:tT,useCacheRefresh:$O},dee={readContext:Oi,use:XC,useCallback:VO,useContext:Oi,useEffect:MO,useImperativeHandle:BO,useInsertionEffect:OO,useLayoutEffect:LO,useMemo:HO,useReducer:rT,useRef:kO,useState:function(){return rT(Hl)},useDebugValue:oT,useDeferredValue:function(u,h){var g=Or();return Nn===null?aT(g,u,h):GO(g,Nn.memoizedState,u,h)},useTransition:function(){var u=rT(Hl)[0],h=Or().memoizedState;return[typeof u=="boolean"?u:Cm(u),h]},useSyncExternalStore:mO,useId:WO,useHostTransitionStatus:cT,useFormState:FO,useActionState:FO,useOptimistic:function(u,h){var g=Or();return Nn!==null?SO(g,Nn,u,h):(g.baseState=u,[u,g.queue.dispatch])},useMemoCache:tT,useCacheRefresh:$O},Pf=null,Sm=0;function nw(u){var h=Sm;return Sm+=1,Pf===null&&(Pf=[]),lO(Pf,u,h)}function xm(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function rw(u,h){throw h.$$typeof===f?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function ZO(u){var h=u._init;return h(u._payload)}function JO(u){function h(we,ge){if(u){var xe=we.deletions;xe===null?(we.deletions=[ge],we.flags|=16):xe.push(ge)}}function g(we,ge){if(!u)return null;for(;ge!==null;)h(we,ge),ge=ge.sibling;return null}function v(we){for(var ge=new Map;we!==null;)we.key!==null?ge.set(we.key,we):ge.set(we.index,we),we=we.sibling;return ge}function S(we,ge){return we=Ol(we,ge),we.index=0,we.sibling=null,we}function A(we,ge,xe){return we.index=xe,u?(xe=we.alternate,xe!==null?(xe=xe.index,xe<ge?(we.flags|=67108866,ge):xe):(we.flags|=67108866,ge)):(we.flags|=1048576,ge)}function z(we){return u&&we.alternate===null&&(we.flags|=67108866),we}function Y(we,ge,xe,Ge){return ge===null||ge.tag!==6?(ge=FE(xe,we.mode,Ge),ge.return=we,ge):(ge=S(ge,xe),ge.return=we,ge)}function ce(we,ge,xe,Ge){var gt=xe.type;return gt===y?Ve(we,ge,xe.props.children,Ge,xe.key):ge!==null&&(ge.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===P&&ZO(gt)===ge.type)?(ge=S(ge,xe.props),xm(ge,xe),ge.return=we,ge):(ge=VC(xe.type,xe.key,xe.props,null,we.mode,Ge),xm(ge,xe),ge.return=we,ge)}function Re(we,ge,xe,Ge){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==xe.containerInfo||ge.stateNode.implementation!==xe.implementation?(ge=kE(xe,we.mode,Ge),ge.return=we,ge):(ge=S(ge,xe.children||[]),ge.return=we,ge)}function Ve(we,ge,xe,Ge,gt){return ge===null||ge.tag!==7?(ge=bd(xe,we.mode,Ge,gt),ge.return=we,ge):(ge=S(ge,xe),ge.return=we,ge)}function je(we,ge,xe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=FE(""+ge,we.mode,xe),ge.return=we,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case p:return xe=VC(ge.type,ge.key,ge.props,null,we.mode,xe),xm(xe,ge),xe.return=we,xe;case m:return ge=kE(ge,we.mode,xe),ge.return=we,ge;case P:var Ge=ge._init;return ge=Ge(ge._payload),je(we,ge,xe)}if(le(ge)||V(ge))return ge=bd(ge,we.mode,xe,null),ge.return=we,ge;if(typeof ge.then=="function")return je(we,nw(ge),xe);if(ge.$$typeof===E)return je(we,zC(we,ge),xe);rw(we,ge)}return null}function De(we,ge,xe,Ge){var gt=ge!==null?ge.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return gt!==null?null:Y(we,ge,""+xe,Ge);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case p:return xe.key===gt?ce(we,ge,xe,Ge):null;case m:return xe.key===gt?Re(we,ge,xe,Ge):null;case P:return gt=xe._init,xe=gt(xe._payload),De(we,ge,xe,Ge)}if(le(xe)||V(xe))return gt!==null?null:Ve(we,ge,xe,Ge,null);if(typeof xe.then=="function")return De(we,ge,nw(xe),Ge);if(xe.$$typeof===E)return De(we,ge,zC(we,xe),Ge);rw(we,xe)}return null}function Pe(we,ge,xe,Ge,gt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return we=we.get(xe)||null,Y(ge,we,""+Ge,gt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case p:return we=we.get(Ge.key===null?xe:Ge.key)||null,ce(ge,we,Ge,gt);case m:return we=we.get(Ge.key===null?xe:Ge.key)||null,Re(ge,we,Ge,gt);case P:var Zt=Ge._init;return Ge=Zt(Ge._payload),Pe(we,ge,xe,Ge,gt)}if(le(Ge)||V(Ge))return we=we.get(xe)||null,Ve(ge,we,Ge,gt,null);if(typeof Ge.then=="function")return Pe(we,ge,xe,nw(Ge),gt);if(Ge.$$typeof===E)return Pe(we,ge,xe,zC(ge,Ge),gt);rw(ge,Ge)}return null}function Nt(we,ge,xe,Ge){for(var gt=null,Zt=null,St=ge,kt=ge=0,ai=null;St!==null&&kt<xe.length;kt++){St.index>kt?(ai=St,St=null):ai=St.sibling;var bn=De(we,St,xe[kt],Ge);if(bn===null){St===null&&(St=ai);break}u&&St&&bn.alternate===null&&h(we,St),ge=A(bn,ge,kt),Zt===null?gt=bn:Zt.sibling=bn,Zt=bn,St=ai}if(kt===xe.length)return g(we,St),En&&xd(we,kt),gt;if(St===null){for(;kt<xe.length;kt++)St=je(we,xe[kt],Ge),St!==null&&(ge=A(St,ge,kt),Zt===null?gt=St:Zt.sibling=St,Zt=St);return En&&xd(we,kt),gt}for(St=v(St);kt<xe.length;kt++)ai=Pe(St,we,kt,xe[kt],Ge),ai!==null&&(u&&ai.alternate!==null&&St.delete(ai.key===null?kt:ai.key),ge=A(ai,ge,kt),Zt===null?gt=ai:Zt.sibling=ai,Zt=ai);return u&&St.forEach(function(Zc){return h(we,Zc)}),En&&xd(we,kt),gt}function Pt(we,ge,xe,Ge){if(xe==null)throw Error(r(151));for(var gt=null,Zt=null,St=ge,kt=ge=0,ai=null,bn=xe.next();St!==null&&!bn.done;kt++,bn=xe.next()){St.index>kt?(ai=St,St=null):ai=St.sibling;var Zc=De(we,St,bn.value,Ge);if(Zc===null){St===null&&(St=ai);break}u&&St&&Zc.alternate===null&&h(we,St),ge=A(Zc,ge,kt),Zt===null?gt=Zc:Zt.sibling=Zc,Zt=Zc,St=ai}if(bn.done)return g(we,St),En&&xd(we,kt),gt;if(St===null){for(;!bn.done;kt++,bn=xe.next())bn=je(we,bn.value,Ge),bn!==null&&(ge=A(bn,ge,kt),Zt===null?gt=bn:Zt.sibling=bn,Zt=bn);return En&&xd(we,kt),gt}for(St=v(St);!bn.done;kt++,bn=xe.next())bn=Pe(St,we,kt,bn.value,Ge),bn!==null&&(u&&bn.alternate!==null&&St.delete(bn.key===null?kt:bn.key),ge=A(bn,ge,kt),Zt===null?gt=bn:Zt.sibling=bn,Zt=bn);return u&&St.forEach(function(hte){return h(we,hte)}),En&&xd(we,kt),gt}function Vn(we,ge,xe,Ge){if(typeof xe=="object"&&xe!==null&&xe.type===y&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case p:e:{for(var gt=xe.key;ge!==null;){if(ge.key===gt){if(gt=xe.type,gt===y){if(ge.tag===7){g(we,ge.sibling),Ge=S(ge,xe.props.children),Ge.return=we,we=Ge;break e}}else if(ge.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===P&&ZO(gt)===ge.type){g(we,ge.sibling),Ge=S(ge,xe.props),xm(Ge,xe),Ge.return=we,we=Ge;break e}g(we,ge);break}else h(we,ge);ge=ge.sibling}xe.type===y?(Ge=bd(xe.props.children,we.mode,Ge,xe.key),Ge.return=we,we=Ge):(Ge=VC(xe.type,xe.key,xe.props,null,we.mode,Ge),xm(Ge,xe),Ge.return=we,we=Ge)}return z(we);case m:e:{for(gt=xe.key;ge!==null;){if(ge.key===gt)if(ge.tag===4&&ge.stateNode.containerInfo===xe.containerInfo&&ge.stateNode.implementation===xe.implementation){g(we,ge.sibling),Ge=S(ge,xe.children||[]),Ge.return=we,we=Ge;break e}else{g(we,ge);break}else h(we,ge);ge=ge.sibling}Ge=kE(xe,we.mode,Ge),Ge.return=we,we=Ge}return z(we);case P:return gt=xe._init,xe=gt(xe._payload),Vn(we,ge,xe,Ge)}if(le(xe))return Nt(we,ge,xe,Ge);if(V(xe)){if(gt=V(xe),typeof gt!="function")throw Error(r(150));return xe=gt.call(xe),Pt(we,ge,xe,Ge)}if(typeof xe.then=="function")return Vn(we,ge,nw(xe),Ge);if(xe.$$typeof===E)return Vn(we,ge,zC(we,xe),Ge);rw(we,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ge!==null&&ge.tag===6?(g(we,ge.sibling),Ge=S(ge,xe),Ge.return=we,we=Ge):(g(we,ge),Ge=FE(xe,we.mode,Ge),Ge.return=we,we=Ge),z(we)):g(we,ge)}return function(we,ge,xe,Ge){try{Sm=0;var gt=Vn(we,ge,xe,Ge);return Pf=null,gt}catch(St){if(St===fm||St===WC)throw St;var Zt=Hs(29,St,null,we.mode);return Zt.lanes=Ge,Zt.return=we,Zt}finally{}}}var Ff=JO(!0),eL=JO(!1),Eo=ae(null),Ma=null;function Nc(u){var h=u.alternate;H(Xr,Xr.current&1),H(Eo,u),Ma===null&&(h===null||Rf.current!==null||h.memoizedState!==null)&&(Ma=u)}function tL(u){if(u.tag===22){if(H(Xr,Xr.current),H(Eo,u),Ma===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(Ma=u)}}else Bc()}function Bc(){H(Xr,Xr.current),H(Eo,Eo.current)}function Gl(u){W(Eo),Ma===u&&(Ma=null),W(Xr)}var Xr=ae(0);function iw(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||eR(g)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function dT(u,h,g,v){h=u.memoizedState,g=g(v,h),g=g==null?h:d({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var hT={enqueueSetState:function(u,h,g){u=u._reactInternals;var v=js(),S=Mc(v);S.payload=h,g!=null&&(S.callback=g),h=Oc(u,S,v),h!==null&&(Ws(h,u,v),gm(h,u,v))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var v=js(),S=Mc(v);S.tag=1,S.payload=h,g!=null&&(S.callback=g),h=Oc(u,S,v),h!==null&&(Ws(h,u,v),gm(h,u,v))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=js(),v=Mc(g);v.tag=2,h!=null&&(v.callback=h),h=Oc(u,v,g),h!==null&&(Ws(h,u,g),gm(h,u,g))}};function nL(u,h,g,v,S,A,z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(v,A,z):h.prototype&&h.prototype.isPureReactComponent?!sm(g,v)||!sm(S,A):!0}function rL(u,h,g,v){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,v),h.state!==u&&hT.enqueueReplaceState(h,h.state,null)}function Pd(u,h){var g=h;if("ref"in h){g={};for(var v in h)v!=="ref"&&(g[v]=h[v])}if(u=u.defaultProps){g===h&&(g=d({},g));for(var S in u)g[S]===void 0&&(g[S]=u[S])}return g}var sw=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function iL(u){sw(u)}function sL(u){console.error(u)}function oL(u){sw(u)}function ow(u,h){try{var g=u.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(v){setTimeout(function(){throw v})}}function aL(u,h,g){try{var v=u.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function fT(u,h,g){return g=Mc(g),g.tag=3,g.payload={element:null},g.callback=function(){ow(u,h)},g}function lL(u){return u=Mc(u),u.tag=3,u}function cL(u,h,g,v){var S=g.type.getDerivedStateFromError;if(typeof S=="function"){var A=v.value;u.payload=function(){return S(A)},u.callback=function(){aL(h,g,v)}}var z=g.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(u.callback=function(){aL(h,g,v),typeof S!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function hee(u,h,g,v,S){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(h=g.alternate,h!==null&&um(h,g,S,!0),g=Eo.current,g!==null){switch(g.tag){case 13:return Ma===null?NT():g.alternate===null&&fr===0&&(fr=3),g.flags&=-257,g.flags|=65536,g.lanes=S,v===UE?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([v]):h.add(v),VT(u,v,S)),!1;case 22:return g.flags|=65536,v===UE?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([v]):g.add(v)),VT(u,v,S)),!1}throw Error(r(435,g.tag))}return VT(u,v,S),NT(),!1}if(En)return h=Eo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=S,v!==OE&&(u=Error(r(422),{cause:v}),cm(wo(u,g)))):(v!==OE&&(h=Error(r(423),{cause:v}),cm(wo(h,g))),u=u.current.alternate,u.flags|=65536,S&=-S,u.lanes|=S,v=wo(v,g),S=fT(u.stateNode,v,S),WE(u,S),fr!==4&&(fr=2)),!1;var A=Error(r(520),{cause:v});if(A=wo(A,g),Pm===null?Pm=[A]:Pm.push(A),fr!==4&&(fr=2),h===null)return!0;v=wo(v,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,u=S&-S,g.lanes|=u,u=fT(g.stateNode,v,u),WE(g,u),!1;case 1:if(h=g.type,A=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(jc===null||!jc.has(A))))return g.flags|=65536,S&=-S,g.lanes|=S,S=lL(S),cL(S,u,g,v),WE(g,S),!1}g=g.return}while(g!==null);return!1}var uL=Error(r(461)),si=!1;function Ci(u,h,g,v){h.child=u===null?eL(h,null,g,v):Ff(h,u.child,g,v)}function dL(u,h,g,v,S){g=g.render;var A=h.ref;if("ref"in v){var z={};for(var Y in v)Y!=="ref"&&(z[Y]=v[Y])}else z=v;return Ad(h),v=XE(u,h,g,z,A,S),Y=QE(),u!==null&&!si?(ZE(u,h,S),Ul(u,h,S)):(En&&Y&&IE(h),h.flags|=1,Ci(u,h,v,S),h.child)}function hL(u,h,g,v,S){if(u===null){var A=g.type;return typeof A=="function"&&!PE(A)&&A.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=A,fL(u,h,A,v,S)):(u=VC(g.type,null,v,h,h.mode,S),u.ref=h.ref,u.return=h,h.child=u)}if(A=u.child,!bT(u,S)){var z=A.memoizedProps;if(g=g.compare,g=g!==null?g:sm,g(z,v)&&u.ref===h.ref)return Ul(u,h,S)}return h.flags|=1,u=Ol(A,v),u.ref=h.ref,u.return=h,h.child=u}function fL(u,h,g,v,S){if(u!==null){var A=u.memoizedProps;if(sm(A,v)&&u.ref===h.ref)if(si=!1,h.pendingProps=v=A,bT(u,S))(u.flags&131072)!==0&&(si=!0);else return h.lanes=u.lanes,Ul(u,h,S)}return pT(u,h,g,v,S)}function pL(u,h,g){var v=h.pendingProps,S=v.children,A=u!==null?u.memoizedState:null;if(v.mode==="hidden"){if((h.flags&128)!==0){if(v=A!==null?A.baseLanes|g:g,u!==null){for(S=h.child=u.child,A=0;S!==null;)A=A|S.lanes|S.childLanes,S=S.sibling;h.childLanes=A&~v}else h.childLanes=0,h.child=null;return gL(u,h,v,g)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&jC(h,A!==null?A.cachePool:null),A!==null?fO(h,A):qE(),tL(h);else return h.lanes=h.childLanes=536870912,gL(u,h,A!==null?A.baseLanes|g:g,g)}else A!==null?(jC(h,A.cachePool),fO(h,A),Bc(),h.memoizedState=null):(u!==null&&jC(h,null),qE(),Bc());return Ci(u,h,S,g),h.child}function gL(u,h,g,v){var S=GE();return S=S===null?null:{parent:Yr._currentValue,pool:S},h.memoizedState={baseLanes:g,cachePool:S},u!==null&&jC(h,null),qE(),tL(h),u!==null&&um(u,h,v,!0),null}function aw(u,h){var g=h.ref;if(g===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(h.flags|=4194816)}}function pT(u,h,g,v,S){return Ad(h),g=XE(u,h,g,v,void 0,S),v=QE(),u!==null&&!si?(ZE(u,h,S),Ul(u,h,S)):(En&&v&&IE(h),h.flags|=1,Ci(u,h,g,S),h.child)}function mL(u,h,g,v,S,A){return Ad(h),h.updateQueue=null,g=gO(h,v,g,S),pO(u),v=QE(),u!==null&&!si?(ZE(u,h,A),Ul(u,h,A)):(En&&v&&IE(h),h.flags|=1,Ci(u,h,g,A),h.child)}function vL(u,h,g,v,S){if(Ad(h),h.stateNode===null){var A=bf,z=g.contextType;typeof z=="object"&&z!==null&&(A=Oi(z)),A=new g(v,A),h.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=hT,h.stateNode=A,A._reactInternals=h,A=h.stateNode,A.props=v,A.state=h.memoizedState,A.refs={},zE(h),z=g.contextType,A.context=typeof z=="object"&&z!==null?Oi(z):bf,A.state=h.memoizedState,z=g.getDerivedStateFromProps,typeof z=="function"&&(dT(h,g,z,v),A.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(z=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),z!==A.state&&hT.enqueueReplaceState(A,A.state,null),vm(h,v,A,S),mm(),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308),v=!0}else if(u===null){A=h.stateNode;var Y=h.memoizedProps,ce=Pd(g,Y);A.props=ce;var Re=A.context,Ve=g.contextType;z=bf,typeof Ve=="object"&&Ve!==null&&(z=Oi(Ve));var je=g.getDerivedStateFromProps;Ve=typeof je=="function"||typeof A.getSnapshotBeforeUpdate=="function",Y=h.pendingProps!==Y,Ve||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Y||Re!==z)&&rL(h,A,v,z),Ic=!1;var De=h.memoizedState;A.state=De,vm(h,v,A,S),mm(),Re=h.memoizedState,Y||De!==Re||Ic?(typeof je=="function"&&(dT(h,g,je,v),Re=h.memoizedState),(ce=Ic||nL(h,g,ce,v,De,Re,z))?(Ve||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(h.flags|=4194308)):(typeof A.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=Re),A.props=v,A.state=Re,A.context=z,v=ce):(typeof A.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{A=h.stateNode,jE(u,h),z=h.memoizedProps,Ve=Pd(g,z),A.props=Ve,je=h.pendingProps,De=A.context,Re=g.contextType,ce=bf,typeof Re=="object"&&Re!==null&&(ce=Oi(Re)),Y=g.getDerivedStateFromProps,(Re=typeof Y=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==je||De!==ce)&&rL(h,A,v,ce),Ic=!1,De=h.memoizedState,A.state=De,vm(h,v,A,S),mm();var Pe=h.memoizedState;z!==je||De!==Pe||Ic||u!==null&&u.dependencies!==null&&UC(u.dependencies)?(typeof Y=="function"&&(dT(h,g,Y,v),Pe=h.memoizedState),(Ve=Ic||nL(h,g,Ve,v,De,Pe,ce)||u!==null&&u.dependencies!==null&&UC(u.dependencies))?(Re||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,Pe,ce),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,Pe,ce)),typeof A.componentDidUpdate=="function"&&(h.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof A.componentDidUpdate!="function"||z===u.memoizedProps&&De===u.memoizedState||(h.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===u.memoizedProps&&De===u.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=Pe),A.props=v,A.state=Pe,A.context=ce,v=Ve):(typeof A.componentDidUpdate!="function"||z===u.memoizedProps&&De===u.memoizedState||(h.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===u.memoizedProps&&De===u.memoizedState||(h.flags|=1024),v=!1)}return A=v,aw(u,h),v=(h.flags&128)!==0,A||v?(A=h.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:A.render(),h.flags|=1,u!==null&&v?(h.child=Ff(h,u.child,null,S),h.child=Ff(h,null,g,S)):Ci(u,h,g,S),h.memoizedState=A.state,u=h.child):u=Ul(u,h,S),u}function yL(u,h,g,v){return lm(),h.flags|=256,Ci(u,h,g,v),h.child}var gT={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mT(u){return{baseLanes:u,cachePool:sO()}}function vT(u,h,g){return u=u!==null?u.childLanes&~g:0,h&&(u|=To),u}function CL(u,h,g){var v=h.pendingProps,S=!1,A=(h.flags&128)!==0,z;if((z=A)||(z=u!==null&&u.memoizedState===null?!1:(Xr.current&2)!==0),z&&(S=!0,h.flags&=-129),z=(h.flags&32)!==0,h.flags&=-33,u===null){if(En){if(S?Nc(h):Bc(),En){var Y=hr,ce;if(ce=Y){e:{for(ce=Y,Y=Ia;ce.nodeType!==8;){if(!Y){Y=null;break e}if(ce=ia(ce.nextSibling),ce===null){Y=null;break e}}Y=ce}Y!==null?(h.memoizedState={dehydrated:Y,treeContext:Sd!==null?{id:Ll,overflow:Nl}:null,retryLane:536870912,hydrationErrors:null},ce=Hs(18,null,null,0),ce.stateNode=Y,ce.return=h,h.child=ce,rs=h,hr=null,ce=!0):ce=!1}ce||Td(h)}if(Y=h.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return eR(Y)?h.lanes=32:h.lanes=536870912,null;Gl(h)}return Y=v.children,v=v.fallback,S?(Bc(),S=h.mode,Y=lw({mode:"hidden",children:Y},S),v=bd(v,S,g,null),Y.return=h,v.return=h,Y.sibling=v,h.child=Y,S=h.child,S.memoizedState=mT(g),S.childLanes=vT(u,z,g),h.memoizedState=gT,v):(Nc(h),yT(h,Y))}if(ce=u.memoizedState,ce!==null&&(Y=ce.dehydrated,Y!==null)){if(A)h.flags&256?(Nc(h),h.flags&=-257,h=CT(u,h,g)):h.memoizedState!==null?(Bc(),h.child=u.child,h.flags|=128,h=null):(Bc(),S=v.fallback,Y=h.mode,v=lw({mode:"visible",children:v.children},Y),S=bd(S,Y,g,null),S.flags|=2,v.return=h,S.return=h,v.sibling=S,h.child=v,Ff(h,u.child,null,g),v=h.child,v.memoizedState=mT(g),v.childLanes=vT(u,z,g),h.memoizedState=gT,h=S);else if(Nc(h),eR(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var Re=z.dgst;z=Re,v=Error(r(419)),v.stack="",v.digest=z,cm({value:v,source:null,stack:null}),h=CT(u,h,g)}else if(si||um(u,h,g,!1),z=(g&u.childLanes)!==0,si||z){if(z=zn,z!==null&&(v=g&-g,v=(v&42)!==0?1:go(v),v=(v&(z.suspendedLanes|g))!==0?0:v,v!==0&&v!==ce.retryLane))throw ce.retryLane=v,wf(u,v),Ws(z,u,v),uL;Y.data==="$?"||NT(),h=CT(u,h,g)}else Y.data==="$?"?(h.flags|=192,h.child=u.child,h=null):(u=ce.treeContext,hr=ia(Y.nextSibling),rs=h,En=!0,Ed=null,Ia=!1,u!==null&&(So[xo++]=Ll,So[xo++]=Nl,So[xo++]=Sd,Ll=u.id,Nl=u.overflow,Sd=h),h=yT(h,v.children),h.flags|=4096);return h}return S?(Bc(),S=v.fallback,Y=h.mode,ce=u.child,Re=ce.sibling,v=Ol(ce,{mode:"hidden",children:v.children}),v.subtreeFlags=ce.subtreeFlags&65011712,Re!==null?S=Ol(Re,S):(S=bd(S,Y,g,null),S.flags|=2),S.return=h,v.return=h,v.sibling=S,h.child=v,v=S,S=h.child,Y=u.child.memoizedState,Y===null?Y=mT(g):(ce=Y.cachePool,ce!==null?(Re=Yr._currentValue,ce=ce.parent!==Re?{parent:Re,pool:Re}:ce):ce=sO(),Y={baseLanes:Y.baseLanes|g,cachePool:ce}),S.memoizedState=Y,S.childLanes=vT(u,z,g),h.memoizedState=gT,v):(Nc(h),g=u.child,u=g.sibling,g=Ol(g,{mode:"visible",children:v.children}),g.return=h,g.sibling=null,u!==null&&(z=h.deletions,z===null?(h.deletions=[u],h.flags|=16):z.push(u)),h.child=g,h.memoizedState=null,g)}function yT(u,h){return h=lw({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function lw(u,h){return u=Hs(22,u,null,h),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function CT(u,h,g){return Ff(h,u.child,null,g),u=yT(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function wL(u,h,g){u.lanes|=h;var v=u.alternate;v!==null&&(v.lanes|=h),NE(u.return,h,g)}function wT(u,h,g,v,S){var A=u.memoizedState;A===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:S}:(A.isBackwards=h,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=g,A.tailMode=S)}function bL(u,h,g){var v=h.pendingProps,S=v.revealOrder,A=v.tail;if(Ci(u,h,v.children,g),v=Xr.current,(v&2)!==0)v=v&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&wL(u,g,h);else if(u.tag===19)wL(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}v&=1}switch(H(Xr,v),S){case"forwards":for(g=h.child,S=null;g!==null;)u=g.alternate,u!==null&&iw(u)===null&&(S=g),g=g.sibling;g=S,g===null?(S=h.child,h.child=null):(S=g.sibling,g.sibling=null),wT(h,!1,S,g,A);break;case"backwards":for(g=null,S=h.child,h.child=null;S!==null;){if(u=S.alternate,u!==null&&iw(u)===null){h.child=S;break}u=S.sibling,S.sibling=g,g=S,S=u}wT(h,!0,g,null,A);break;case"together":wT(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ul(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),zc|=h.lanes,(g&h.childLanes)===0)if(u!==null){if(um(u,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,g=Ol(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=Ol(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function bT(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&UC(u)))}function fee(u,h,g){switch(h.tag){case 3:Ne(h,h.stateNode.containerInfo),kc(h,Yr,u.memoizedState.cache),lm();break;case 27:case 5:Fe(h);break;case 4:Ne(h,h.stateNode.containerInfo);break;case 10:kc(h,h.type,h.memoizedProps.value);break;case 13:var v=h.memoizedState;if(v!==null)return v.dehydrated!==null?(Nc(h),h.flags|=128,null):(g&h.child.childLanes)!==0?CL(u,h,g):(Nc(h),u=Ul(u,h,g),u!==null?u.sibling:null);Nc(h);break;case 19:var S=(u.flags&128)!==0;if(v=(g&h.childLanes)!==0,v||(um(u,h,g,!1),v=(g&h.childLanes)!==0),S){if(v)return bL(u,h,g);h.flags|=128}if(S=h.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),H(Xr,Xr.current),v)break;return null;case 22:case 23:return h.lanes=0,pL(u,h,g);case 24:kc(h,Yr,u.memoizedState.cache)}return Ul(u,h,g)}function SL(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps)si=!0;else{if(!bT(u,g)&&(h.flags&128)===0)return si=!1,fee(u,h,g);si=(u.flags&131072)!==0}else si=!1,En&&(h.flags&1048576)!==0&&Z2(h,GC,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var v=h.elementType,S=v._init;if(v=S(v._payload),h.type=v,typeof v=="function")PE(v)?(u=Pd(v,u),h.tag=1,h=vL(null,h,v,u,g)):(h.tag=0,h=pT(null,h,v,u,g));else{if(v!=null){if(S=v.$$typeof,S===F){h.tag=11,h=dL(null,h,v,u,g);break e}else if(S===D){h.tag=14,h=hL(null,h,v,u,g);break e}}throw h=oe(v)||v,Error(r(306,h,""))}}return h;case 0:return pT(u,h,h.type,h.pendingProps,g);case 1:return v=h.type,S=Pd(v,h.pendingProps),vL(u,h,v,S,g);case 3:e:{if(Ne(h,h.stateNode.containerInfo),u===null)throw Error(r(387));v=h.pendingProps;var A=h.memoizedState;S=A.element,jE(u,h),vm(h,v,null,g);var z=h.memoizedState;if(v=z.cache,kc(h,Yr,v),v!==A.cache&&BE(h,[Yr],g,!0),mm(),v=z.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:z.cache},h.updateQueue.baseState=A,h.memoizedState=A,h.flags&256){h=yL(u,h,v,g);break e}else if(v!==S){S=wo(Error(r(424)),h),cm(S),h=yL(u,h,v,g);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(hr=ia(u.firstChild),rs=h,En=!0,Ed=null,Ia=!0,g=eL(h,null,v,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(lm(),v===S){h=Ul(u,h,g);break e}Ci(u,h,v,g)}h=h.child}return h;case 26:return aw(u,h),u===null?(g=RN(h.type,null,h.pendingProps,null))?h.memoizedState=g:En||(g=h.type,u=h.pendingProps,v=Sw(fe.current).createElement(g),v[Ue]=h,v[Ye]=u,bi(v,g,u),me(v),h.stateNode=v):h.memoizedState=RN(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return Fe(h),u===null&&En&&(v=h.stateNode=xN(h.type,h.pendingProps,fe.current),rs=h,Ia=!0,S=hr,qc(h.type)?(tR=S,hr=ia(v.firstChild)):hr=S),Ci(u,h,h.pendingProps.children,g),aw(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&En&&((S=v=hr)&&(v=Gee(v,h.type,h.pendingProps,Ia),v!==null?(h.stateNode=v,rs=h,hr=ia(v.firstChild),Ia=!1,S=!0):S=!1),S||Td(h)),Fe(h),S=h.type,A=h.pendingProps,z=u!==null?u.memoizedProps:null,v=A.children,QT(S,A)?v=null:z!==null&&QT(S,z)&&(h.flags|=32),h.memoizedState!==null&&(S=XE(u,h,see,null,null,g),Vm._currentValue=S),aw(u,h),Ci(u,h,v,g),h.child;case 6:return u===null&&En&&((u=g=hr)&&(g=Uee(g,h.pendingProps,Ia),g!==null?(h.stateNode=g,rs=h,hr=null,u=!0):u=!1),u||Td(h)),null;case 13:return CL(u,h,g);case 4:return Ne(h,h.stateNode.containerInfo),v=h.pendingProps,u===null?h.child=Ff(h,null,v,g):Ci(u,h,v,g),h.child;case 11:return dL(u,h,h.type,h.pendingProps,g);case 7:return Ci(u,h,h.pendingProps,g),h.child;case 8:return Ci(u,h,h.pendingProps.children,g),h.child;case 12:return Ci(u,h,h.pendingProps.children,g),h.child;case 10:return v=h.pendingProps,kc(h,h.type,v.value),Ci(u,h,v.children,g),h.child;case 9:return S=h.type._context,v=h.pendingProps.children,Ad(h),S=Oi(S),v=v(S),h.flags|=1,Ci(u,h,v,g),h.child;case 14:return hL(u,h,h.type,h.pendingProps,g);case 15:return fL(u,h,h.type,h.pendingProps,g);case 19:return bL(u,h,g);case 31:return v=h.pendingProps,g=h.mode,v={mode:v.mode,children:v.children},u===null?(g=lw(v,g),g.ref=h.ref,h.child=g,g.return=h,h=g):(g=Ol(u.child,v),g.ref=h.ref,h.child=g,g.return=h,h=g),h;case 22:return pL(u,h,g);case 24:return Ad(h),v=Oi(Yr),u===null?(S=GE(),S===null&&(S=zn,A=VE(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=g),S=A),h.memoizedState={parent:v,cache:S},zE(h),kc(h,Yr,S)):((u.lanes&g)!==0&&(jE(u,h),vm(h,null,null,g),mm()),S=u.memoizedState,A=h.memoizedState,S.parent!==v?(S={parent:v,cache:v},h.memoizedState=S,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=S),kc(h,Yr,v)):(v=A.cache,kc(h,Yr,v),v!==S.cache&&BE(h,[Yr],g,!0))),Ci(u,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function zl(u){u.flags|=4}function xL(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!FN(h)){if(h=Eo.current,h!==null&&((hn&4194048)===hn?Ma!==null:(hn&62914560)!==hn&&(hn&536870912)===0||h!==Ma))throw pm=UE,oO;u.flags|=8192}}function cw(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?Ea():536870912,u.lanes|=h,Of|=h)}function Em(u,h){if(!En)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:v.sibling=null}}function ir(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,v=0;if(h)for(var S=u.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=u,S=S.sibling;else for(S=u.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=u,S=S.sibling;return u.subtreeFlags|=v,u.childLanes=g,h}function pee(u,h,g){var v=h.pendingProps;switch(ME(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(h),null;case 1:return ir(h),null;case 3:return g=h.stateNode,v=null,u!==null&&(v=u.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),Vl(Yr),Ie(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(am(h)?zl(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,tO())),ir(h),null;case 26:return g=h.memoizedState,u===null?(zl(h),g!==null?(ir(h),xL(h,g)):(ir(h),h.flags&=-16777217)):g?g!==u.memoizedState?(zl(h),ir(h),xL(h,g)):(ir(h),h.flags&=-16777217):(u.memoizedProps!==v&&zl(h),ir(h),h.flags&=-16777217),null;case 27:rt(h),g=fe.current;var S=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==v&&zl(h);else{if(!v){if(h.stateNode===null)throw Error(r(166));return ir(h),null}u=X.current,am(h)?J2(h):(u=xN(S,v,g),h.stateNode=u,zl(h))}return ir(h),null;case 5:if(rt(h),g=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==v&&zl(h);else{if(!v){if(h.stateNode===null)throw Error(r(166));return ir(h),null}if(u=X.current,am(h))J2(h);else{switch(S=Sw(fe.current),u){case 1:u=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=S.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?u.multiple=!0:v.size&&(u.size=v.size);break;default:u=typeof v.is=="string"?S.createElement(g,{is:v.is}):S.createElement(g)}}u[Ue]=h,u[Ye]=v;e:for(S=h.child;S!==null;){if(S.tag===5||S.tag===6)u.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break e;for(;S.sibling===null;){if(S.return===null||S.return===h)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}h.stateNode=u;e:switch(bi(u,g,v),g){case"button":case"input":case"select":case"textarea":u=!!v.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&zl(h)}}return ir(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==v&&zl(h);else{if(typeof v!="string"&&h.stateNode===null)throw Error(r(166));if(u=fe.current,am(h)){if(u=h.stateNode,g=h.memoizedProps,v=null,S=rs,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}u[Ue]=h,u=!!(u.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||mN(u.nodeValue,g)),u||Td(h)}else u=Sw(u).createTextNode(v),u[Ue]=h,h.stateNode=u}return ir(h),null;case 13:if(v=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(S=am(h),v!==null&&v.dehydrated!==null){if(u===null){if(!S)throw Error(r(318));if(S=h.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Ue]=h}else lm(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ir(h),S=!1}else S=tO(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=S),S=!0;if(!S)return h.flags&256?(Gl(h),h):(Gl(h),null)}if(Gl(h),(h.flags&128)!==0)return h.lanes=g,h;if(g=v!==null,u=u!==null&&u.memoizedState!==null,g){v=h.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var A=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(A=v.memoizedState.cachePool.pool),A!==S&&(v.flags|=2048)}return g!==u&&g&&(h.child.flags|=8192),cw(h,h.updateQueue),ir(h),null;case 4:return Ie(),u===null&&$T(h.stateNode.containerInfo),ir(h),null;case 10:return Vl(h.type),ir(h),null;case 19:if(W(Xr),S=h.memoizedState,S===null)return ir(h),null;if(v=(h.flags&128)!==0,A=S.rendering,A===null)if(v)Em(S,!1);else{if(fr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(A=iw(u),A!==null){for(h.flags|=128,Em(S,!1),u=A.updateQueue,h.updateQueue=u,cw(h,u),h.subtreeFlags=0,u=g,g=h.child;g!==null;)Q2(g,u),g=g.sibling;return H(Xr,Xr.current&1|2),h.child}u=u.sibling}S.tail!==null&&ke()>hw&&(h.flags|=128,v=!0,Em(S,!1),h.lanes=4194304)}else{if(!v)if(u=iw(A),u!==null){if(h.flags|=128,v=!0,u=u.updateQueue,h.updateQueue=u,cw(h,u),Em(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!En)return ir(h),null}else 2*ke()-S.renderingStartTime>hw&&g!==536870912&&(h.flags|=128,v=!0,Em(S,!1),h.lanes=4194304);S.isBackwards?(A.sibling=h.child,h.child=A):(u=S.last,u!==null?u.sibling=A:h.child=A,S.last=A)}return S.tail!==null?(h=S.tail,S.rendering=h,S.tail=h.sibling,S.renderingStartTime=ke(),h.sibling=null,u=Xr.current,H(Xr,v?u&1|2:u&1),h):(ir(h),null);case 22:case 23:return Gl(h),KE(),v=h.memoizedState!==null,u!==null?u.memoizedState!==null!==v&&(h.flags|=8192):v&&(h.flags|=8192),v?(g&536870912)!==0&&(h.flags&128)===0&&(ir(h),h.subtreeFlags&6&&(h.flags|=8192)):ir(h),g=h.updateQueue,g!==null&&cw(h,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048),u!==null&&W(_d),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),Vl(Yr),ir(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function gee(u,h){switch(ME(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Vl(Yr),Ie(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return rt(h),null;case 13:if(Gl(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));lm()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return W(Xr),null;case 4:return Ie(),null;case 10:return Vl(h.type),null;case 22:case 23:return Gl(h),KE(),u!==null&&W(_d),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return Vl(Yr),null;case 25:return null;default:return null}}function EL(u,h){switch(ME(h),h.tag){case 3:Vl(Yr),Ie();break;case 26:case 27:case 5:rt(h);break;case 4:Ie();break;case 13:Gl(h);break;case 19:W(Xr);break;case 10:Vl(h.type);break;case 22:case 23:Gl(h),KE(),u!==null&&W(_d);break;case 24:Vl(Yr)}}function Tm(u,h){try{var g=h.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var S=v.next;g=S;do{if((g.tag&u)===u){v=void 0;var A=g.create,z=g.inst;v=A(),z.destroy=v}g=g.next}while(g!==S)}}catch(Y){Un(h,h.return,Y)}}function Vc(u,h,g){try{var v=h.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var A=S.next;v=A;do{if((v.tag&u)===u){var z=v.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,S=h;var ce=g,Re=Y;try{Re()}catch(Ve){Un(S,ce,Ve)}}}v=v.next}while(v!==A)}}catch(Ve){Un(h,h.return,Ve)}}function TL(u){var h=u.updateQueue;if(h!==null){var g=u.stateNode;try{hO(h,g)}catch(v){Un(u,u.return,v)}}}function RL(u,h,g){g.props=Pd(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(v){Un(u,h,v)}}function Rm(u,h){try{var g=u.ref;if(g!==null){switch(u.tag){case 26:case 27:case 5:var v=u.stateNode;break;case 30:v=u.stateNode;break;default:v=u.stateNode}typeof g=="function"?u.refCleanup=g(v):g.current=v}}catch(S){Un(u,h,S)}}function Oa(u,h){var g=u.ref,v=u.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(S){Un(u,h,S)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(S){Un(u,h,S)}else g.current=null}function AL(u){var h=u.type,g=u.memoizedProps,v=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(S){Un(u,u.return,S)}}function ST(u,h,g){try{var v=u.stateNode;Lee(v,u.type,g,h),v[Ye]=h}catch(S){Un(u,u.return,S)}}function _L(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&qc(u.type)||u.tag===4}function xT(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||_L(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&qc(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function ET(u,h,g){var v=u.tag;if(v===5||v===6)u=u.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(u,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(u),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=bw));else if(v!==4&&(v===27&&qc(u.type)&&(g=u.stateNode,h=null),u=u.child,u!==null))for(ET(u,h,g),u=u.sibling;u!==null;)ET(u,h,g),u=u.sibling}function uw(u,h,g){var v=u.tag;if(v===5||v===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(v!==4&&(v===27&&qc(u.type)&&(g=u.stateNode),u=u.child,u!==null))for(uw(u,h,g),u=u.sibling;u!==null;)uw(u,h,g),u=u.sibling}function DL(u){var h=u.stateNode,g=u.memoizedProps;try{for(var v=u.type,S=h.attributes;S.length;)h.removeAttributeNode(S[0]);bi(h,v,g),h[Ue]=u,h[Ye]=g}catch(A){Un(u,u.return,A)}}var jl=!1,Tr=!1,TT=!1,PL=typeof WeakSet=="function"?WeakSet:Set,oi=null;function mee(u,h){if(u=u.containerInfo,YT=_w,u=G2(u),xE(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var S=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{g.nodeType,A.nodeType}catch{g=null;break e}var z=0,Y=-1,ce=-1,Re=0,Ve=0,je=u,De=null;t:for(;;){for(var Pe;je!==g||S!==0&&je.nodeType!==3||(Y=z+S),je!==A||v!==0&&je.nodeType!==3||(ce=z+v),je.nodeType===3&&(z+=je.nodeValue.length),(Pe=je.firstChild)!==null;)De=je,je=Pe;for(;;){if(je===u)break t;if(De===g&&++Re===S&&(Y=z),De===A&&++Ve===v&&(ce=z),(Pe=je.nextSibling)!==null)break;je=De,De=je.parentNode}je=Pe}g=Y===-1||ce===-1?null:{start:Y,end:ce}}else g=null}g=g||{start:0,end:0}}else g=null;for(XT={focusedElem:u,selectionRange:g},_w=!1,oi=h;oi!==null;)if(h=oi,u=h.child,(h.subtreeFlags&1024)!==0&&u!==null)u.return=h,oi=u;else for(;oi!==null;){switch(h=oi,A=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&A!==null){u=void 0,g=h,S=A.memoizedProps,A=A.memoizedState,v=g.stateNode;try{var Nt=Pd(g.type,S,g.elementType===g.type);u=v.getSnapshotBeforeUpdate(Nt,A),v.__reactInternalSnapshotBeforeUpdate=u}catch(Pt){Un(g,g.return,Pt)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,g=u.nodeType,g===9)JT(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":JT(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,oi=u;break}oi=h.return}}function FL(u,h,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:Hc(u,g),v&4&&Tm(5,g);break;case 1:if(Hc(u,g),v&4)if(u=g.stateNode,h===null)try{u.componentDidMount()}catch(z){Un(g,g.return,z)}else{var S=Pd(g.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(S,h,u.__reactInternalSnapshotBeforeUpdate)}catch(z){Un(g,g.return,z)}}v&64&&TL(g),v&512&&Rm(g,g.return);break;case 3:if(Hc(u,g),v&64&&(u=g.updateQueue,u!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{hO(u,h)}catch(z){Un(g,g.return,z)}}break;case 27:h===null&&v&4&&DL(g);case 26:case 5:Hc(u,g),h===null&&v&4&&AL(g),v&512&&Rm(g,g.return);break;case 12:Hc(u,g);break;case 13:Hc(u,g),v&4&&ML(u,g),v&64&&(u=g.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(g=Tee.bind(null,g),zee(u,g))));break;case 22:if(v=g.memoizedState!==null||jl,!v){h=h!==null&&h.memoizedState!==null||Tr,S=jl;var A=Tr;jl=v,(Tr=h)&&!A?Gc(u,g,(g.subtreeFlags&8772)!==0):Hc(u,g),jl=S,Tr=A}break;case 30:break;default:Hc(u,g)}}function kL(u){var h=u.alternate;h!==null&&(u.alternate=null,kL(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&K(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var tr=null,ws=!1;function Wl(u,h,g){for(g=g.child;g!==null;)IL(u,h,g),g=g.sibling}function IL(u,h,g){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(ve,g)}catch{}switch(g.tag){case 26:Tr||Oa(g,h),Wl(u,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Tr||Oa(g,h);var v=tr,S=ws;qc(g.type)&&(tr=g.stateNode,ws=!1),Wl(u,h,g),Om(g.stateNode),tr=v,ws=S;break;case 5:Tr||Oa(g,h);case 6:if(v=tr,S=ws,tr=null,Wl(u,h,g),tr=v,ws=S,tr!==null)if(ws)try{(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).removeChild(g.stateNode)}catch(A){Un(g,h,A)}else try{tr.removeChild(g.stateNode)}catch(A){Un(g,h,A)}break;case 18:tr!==null&&(ws?(u=tr,bN(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,g.stateNode),zm(u)):bN(tr,g.stateNode));break;case 4:v=tr,S=ws,tr=g.stateNode.containerInfo,ws=!0,Wl(u,h,g),tr=v,ws=S;break;case 0:case 11:case 14:case 15:Tr||Vc(2,g,h),Tr||Vc(4,g,h),Wl(u,h,g);break;case 1:Tr||(Oa(g,h),v=g.stateNode,typeof v.componentWillUnmount=="function"&&RL(g,h,v)),Wl(u,h,g);break;case 21:Wl(u,h,g);break;case 22:Tr=(v=Tr)||g.memoizedState!==null,Wl(u,h,g),Tr=v;break;default:Wl(u,h,g)}}function ML(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{zm(u)}catch(g){Un(h,h.return,g)}}function vee(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new PL),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new PL),h;default:throw Error(r(435,u.tag))}}function RT(u,h){var g=vee(u);h.forEach(function(v){var S=Ree.bind(null,u,v);g.has(v)||(g.add(v),v.then(S,S))})}function Gs(u,h){var g=h.deletions;if(g!==null)for(var v=0;v<g.length;v++){var S=g[v],A=u,z=h,Y=z;e:for(;Y!==null;){switch(Y.tag){case 27:if(qc(Y.type)){tr=Y.stateNode,ws=!1;break e}break;case 5:tr=Y.stateNode,ws=!1;break e;case 3:case 4:tr=Y.stateNode.containerInfo,ws=!0;break e}Y=Y.return}if(tr===null)throw Error(r(160));IL(A,z,S),tr=null,ws=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)OL(h,u),h=h.sibling}var ra=null;function OL(u,h){var g=u.alternate,v=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Gs(h,u),Us(u),v&4&&(Vc(3,u,u.return),Tm(3,u),Vc(5,u,u.return));break;case 1:Gs(h,u),Us(u),v&512&&(Tr||g===null||Oa(g,g.return)),v&64&&jl&&(u=u.updateQueue,u!==null&&(v=u.callbacks,v!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var S=ra;if(Gs(h,u),Us(u),v&512&&(Tr||g===null||Oa(g,g.return)),v&4){var A=g!==null?g.memoizedState:null;if(v=u.memoizedState,g===null)if(v===null)if(u.stateNode===null){e:{v=u.type,g=u.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":A=S.getElementsByTagName("title")[0],(!A||A[q]||A[Ue]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(v),S.head.insertBefore(A,S.querySelector("head > title"))),bi(A,v,g),A[Ue]=u,me(A),v=A;break e;case"link":var z=DN("link","href",S).get(v+(g.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(A=z[Y],A.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&A.getAttribute("rel")===(g.rel==null?null:g.rel)&&A.getAttribute("title")===(g.title==null?null:g.title)&&A.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){z.splice(Y,1);break t}}A=S.createElement(v),bi(A,v,g),S.head.appendChild(A);break;case"meta":if(z=DN("meta","content",S).get(v+(g.content||""))){for(Y=0;Y<z.length;Y++)if(A=z[Y],A.getAttribute("content")===(g.content==null?null:""+g.content)&&A.getAttribute("name")===(g.name==null?null:g.name)&&A.getAttribute("property")===(g.property==null?null:g.property)&&A.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&A.getAttribute("charset")===(g.charSet==null?null:g.charSet)){z.splice(Y,1);break t}}A=S.createElement(v),bi(A,v,g),S.head.appendChild(A);break;default:throw Error(r(468,v))}A[Ue]=u,me(A),v=A}u.stateNode=v}else PN(S,u.type,u.stateNode);else u.stateNode=_N(S,v,u.memoizedProps);else A!==v?(A===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):A.count--,v===null?PN(S,u.type,u.stateNode):_N(S,v,u.memoizedProps)):v===null&&u.stateNode!==null&&ST(u,u.memoizedProps,g.memoizedProps)}break;case 27:Gs(h,u),Us(u),v&512&&(Tr||g===null||Oa(g,g.return)),g!==null&&v&4&&ST(u,u.memoizedProps,g.memoizedProps);break;case 5:if(Gs(h,u),Us(u),v&512&&(Tr||g===null||Oa(g,g.return)),u.flags&32){S=u.stateNode;try{mo(S,"")}catch(Pe){Un(u,u.return,Pe)}}v&4&&u.stateNode!=null&&(S=u.memoizedProps,ST(u,S,g!==null?g.memoizedProps:S)),v&1024&&(TT=!0);break;case 6:if(Gs(h,u),Us(u),v&4){if(u.stateNode===null)throw Error(r(162));v=u.memoizedProps,g=u.stateNode;try{g.nodeValue=v}catch(Pe){Un(u,u.return,Pe)}}break;case 3:if(Tw=null,S=ra,ra=xw(h.containerInfo),Gs(h,u),ra=S,Us(u),v&4&&g!==null&&g.memoizedState.isDehydrated)try{zm(h.containerInfo)}catch(Pe){Un(u,u.return,Pe)}TT&&(TT=!1,LL(u));break;case 4:v=ra,ra=xw(u.stateNode.containerInfo),Gs(h,u),Us(u),ra=v;break;case 12:Gs(h,u),Us(u);break;case 13:Gs(h,u),Us(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(kT=ke()),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,RT(u,v)));break;case 22:S=u.memoizedState!==null;var ce=g!==null&&g.memoizedState!==null,Re=jl,Ve=Tr;if(jl=Re||S,Tr=Ve||ce,Gs(h,u),Tr=Ve,jl=Re,Us(u),v&8192)e:for(h=u.stateNode,h._visibility=S?h._visibility&-2:h._visibility|1,S&&(g===null||ce||jl||Tr||Fd(u)),g=null,h=u;;){if(h.tag===5||h.tag===26){if(g===null){ce=g=h;try{if(A=ce.stateNode,S)z=A.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Y=ce.stateNode;var je=ce.memoizedProps.style,De=je!=null&&je.hasOwnProperty("display")?je.display:null;Y.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Pe){Un(ce,ce.return,Pe)}}}else if(h.tag===6){if(g===null){ce=h;try{ce.stateNode.nodeValue=S?"":ce.memoizedProps}catch(Pe){Un(ce,ce.return,Pe)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}v&4&&(v=u.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,RT(u,g))));break;case 19:Gs(h,u),Us(u),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,RT(u,v)));break;case 30:break;case 21:break;default:Gs(h,u),Us(u)}}function Us(u){var h=u.flags;if(h&2){try{for(var g,v=u.return;v!==null;){if(_L(v)){g=v;break}v=v.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var S=g.stateNode,A=xT(u);uw(u,A,S);break;case 5:var z=g.stateNode;g.flags&32&&(mo(z,""),g.flags&=-33);var Y=xT(u);uw(u,Y,z);break;case 3:case 4:var ce=g.stateNode.containerInfo,Re=xT(u);ET(u,Re,ce);break;default:throw Error(r(161))}}catch(Ve){Un(u,u.return,Ve)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function LL(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;LL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function Hc(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)FL(u,h.alternate,h),h=h.sibling}function Fd(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Vc(4,h,h.return),Fd(h);break;case 1:Oa(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&RL(h,h.return,g),Fd(h);break;case 27:Om(h.stateNode);case 26:case 5:Oa(h,h.return),Fd(h);break;case 22:h.memoizedState===null&&Fd(h);break;case 30:Fd(h);break;default:Fd(h)}u=u.sibling}}function Gc(u,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var v=h.alternate,S=u,A=h,z=A.flags;switch(A.tag){case 0:case 11:case 15:Gc(S,A,g),Tm(4,A);break;case 1:if(Gc(S,A,g),v=A,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Re){Un(v,v.return,Re)}if(v=A,S=v.updateQueue,S!==null){var Y=v.stateNode;try{var ce=S.shared.hiddenCallbacks;if(ce!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ce.length;S++)dO(ce[S],Y)}catch(Re){Un(v,v.return,Re)}}g&&z&64&&TL(A),Rm(A,A.return);break;case 27:DL(A);case 26:case 5:Gc(S,A,g),g&&v===null&&z&4&&AL(A),Rm(A,A.return);break;case 12:Gc(S,A,g);break;case 13:Gc(S,A,g),g&&z&4&&ML(S,A);break;case 22:A.memoizedState===null&&Gc(S,A,g),Rm(A,A.return);break;case 30:break;default:Gc(S,A,g)}h=h.sibling}}function AT(u,h){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&dm(g))}function _T(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&dm(u))}function La(u,h,g,v){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)NL(u,h,g,v),h=h.sibling}function NL(u,h,g,v){var S=h.flags;switch(h.tag){case 0:case 11:case 15:La(u,h,g,v),S&2048&&Tm(9,h);break;case 1:La(u,h,g,v);break;case 3:La(u,h,g,v),S&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&dm(u)));break;case 12:if(S&2048){La(u,h,g,v),u=h.stateNode;try{var A=h.memoizedProps,z=A.id,Y=A.onPostCommit;typeof Y=="function"&&Y(z,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ce){Un(h,h.return,ce)}}else La(u,h,g,v);break;case 13:La(u,h,g,v);break;case 23:break;case 22:A=h.stateNode,z=h.alternate,h.memoizedState!==null?A._visibility&2?La(u,h,g,v):Am(u,h):A._visibility&2?La(u,h,g,v):(A._visibility|=2,kf(u,h,g,v,(h.subtreeFlags&10256)!==0)),S&2048&&AT(z,h);break;case 24:La(u,h,g,v),S&2048&&_T(h.alternate,h);break;default:La(u,h,g,v)}}function kf(u,h,g,v,S){for(S=S&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var A=u,z=h,Y=g,ce=v,Re=z.flags;switch(z.tag){case 0:case 11:case 15:kf(A,z,Y,ce,S),Tm(8,z);break;case 23:break;case 22:var Ve=z.stateNode;z.memoizedState!==null?Ve._visibility&2?kf(A,z,Y,ce,S):Am(A,z):(Ve._visibility|=2,kf(A,z,Y,ce,S)),S&&Re&2048&&AT(z.alternate,z);break;case 24:kf(A,z,Y,ce,S),S&&Re&2048&&_T(z.alternate,z);break;default:kf(A,z,Y,ce,S)}h=h.sibling}}function Am(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=u,v=h,S=v.flags;switch(v.tag){case 22:Am(g,v),S&2048&&AT(v.alternate,v);break;case 24:Am(g,v),S&2048&&_T(v.alternate,v);break;default:Am(g,v)}h=h.sibling}}var _m=8192;function If(u){if(u.subtreeFlags&_m)for(u=u.child;u!==null;)BL(u),u=u.sibling}function BL(u){switch(u.tag){case 26:If(u),u.flags&_m&&u.memoizedState!==null&&nte(ra,u.memoizedState,u.memoizedProps);break;case 5:If(u);break;case 3:case 4:var h=ra;ra=xw(u.stateNode.containerInfo),If(u),ra=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=_m,_m=16777216,If(u),_m=h):If(u));break;default:If(u)}}function VL(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function Dm(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];oi=v,GL(v,u)}VL(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)HL(u),u=u.sibling}function HL(u){switch(u.tag){case 0:case 11:case 15:Dm(u),u.flags&2048&&Vc(9,u,u.return);break;case 3:Dm(u);break;case 12:Dm(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,dw(u)):Dm(u);break;default:Dm(u)}}function dw(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];oi=v,GL(v,u)}VL(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Vc(8,h,h.return),dw(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,dw(h));break;default:dw(h)}u=u.sibling}}function GL(u,h){for(;oi!==null;){var g=oi;switch(g.tag){case 0:case 11:case 15:Vc(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:dm(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,oi=v;else e:for(g=u;oi!==null;){v=oi;var S=v.sibling,A=v.return;if(kL(v),v===g){oi=null;break e}if(S!==null){S.return=A,oi=S;break e}oi=A}}}var yee={getCacheForType:function(u){var h=Oi(Yr),g=h.data.get(u);return g===void 0&&(g=u(),h.data.set(u,g)),g}},Cee=typeof WeakMap=="function"?WeakMap:Map,Mn=0,zn=null,tn=null,hn=0,On=0,zs=null,Uc=!1,Mf=!1,DT=!1,$l=0,fr=0,zc=0,kd=0,PT=0,To=0,Of=0,Pm=null,bs=null,FT=!1,kT=0,hw=1/0,fw=null,jc=null,wi=0,Wc=null,Lf=null,Nf=0,IT=0,MT=null,UL=null,Fm=0,OT=null;function js(){if((Mn&2)!==0&&hn!==0)return hn&-hn;if(J.T!==null){var u=Ef;return u!==0?u:UT()}return de()}function zL(){To===0&&(To=(hn&536870912)===0||En?fo():536870912);var u=Eo.current;return u!==null&&(u.flags|=32),To}function Ws(u,h,g){(u===zn&&(On===2||On===9)||u.cancelPendingCommit!==null)&&(Bf(u,0),$c(u,hn,To,!1)),Ls(u,g),((Mn&2)===0||u!==zn)&&(u===zn&&((Mn&2)===0&&(kd|=g),fr===4&&$c(u,hn,To,!1)),Na(u))}function jL(u,h,g){if((Mn&6)!==0)throw Error(r(327));var v=!g&&(h&124)===0&&(h&u.expiredLanes)===0||br(u,h),S=v?See(u,h):BT(u,h,!0),A=v;do{if(S===0){Mf&&!v&&$c(u,h,0,!1);break}else{if(g=u.current.alternate,A&&!wee(g)){S=BT(u,h,!1),A=!1;continue}if(S===2){if(A=h,u.errorRecoveryDisabledLanes&A)var z=0;else z=u.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){h=z;e:{var Y=u;S=Pm;var ce=Y.current.memoizedState.isDehydrated;if(ce&&(Bf(Y,z).flags|=256),z=BT(Y,z,!1),z!==2){if(DT&&!ce){Y.errorRecoveryDisabledLanes|=A,kd|=A,S=4;break e}A=bs,bs=S,A!==null&&(bs===null?bs=A:bs.push.apply(bs,A))}S=z}if(A=!1,S!==2)continue}}if(S===1){Bf(u,0),$c(u,h,0,!0);break}e:{switch(v=u,A=S,A){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:$c(v,h,To,!Uc);break e;case 2:bs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(S=kT+300-ke(),10<S)){if($c(v,h,To,!Uc),qn(v,0,!0)!==0)break e;v.timeoutHandle=CN(WL.bind(null,v,g,bs,fw,FT,h,To,kd,Of,Uc,A,2,-0,0),S);break e}WL(v,g,bs,fw,FT,h,To,kd,Of,Uc,A,0,-0,0)}}break}while(!0);Na(u)}function WL(u,h,g,v,S,A,z,Y,ce,Re,Ve,je,De,Pe){if(u.timeoutHandle=-1,je=h.subtreeFlags,(je&8192||(je&16785408)===16785408)&&(Bm={stylesheets:null,count:0,unsuspend:tte},BL(h),je=rte(),je!==null)){u.cancelPendingCommit=je(ZL.bind(null,u,h,A,g,v,S,z,Y,ce,Ve,1,De,Pe)),$c(u,A,z,!Re);return}ZL(u,h,A,g,v,S,z,Y,ce)}function wee(u){for(var h=u;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var S=g[v],A=S.getSnapshot;S=S.value;try{if(!Vs(A(),S))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function $c(u,h,g,v){h&=~PT,h&=~kd,u.suspendedLanes|=h,u.pingedLanes&=~h,v&&(u.warmLanes|=h),v=u.expirationTimes;for(var S=h;0<S;){var A=31-lt(S),z=1<<A;v[A]=-1,S&=~z}g!==0&&vi(u,g,h)}function pw(){return(Mn&6)===0?(km(0),!1):!0}function LT(){if(tn!==null){if(On===0)var u=tn.return;else u=tn,Bl=Rd=null,JE(u),Pf=null,Sm=0,u=tn;for(;u!==null;)EL(u.alternate,u),u=u.return;tn=null}}function Bf(u,h){var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,Bee(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),LT(),zn=u,tn=g=Ol(u.current,null),hn=h,On=0,zs=null,Uc=!1,Mf=br(u,h),DT=!1,Of=To=PT=kd=zc=fr=0,bs=Pm=null,FT=!1,(h&8)!==0&&(h|=h&32);var v=u.entangledLanes;if(v!==0)for(u=u.entanglements,v&=h;0<v;){var S=31-lt(v),A=1<<S;h|=u[S],v&=~A}return $l=h,LC(),g}function $L(u,h){Qt=null,J.H=tw,h===fm||h===WC?(h=cO(),On=3):h===oO?(h=cO(),On=4):On=h===uL?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,zs=h,tn===null&&(fr=1,ow(u,wo(h,u.current)))}function qL(){var u=J.H;return J.H=tw,u===null?tw:u}function KL(){var u=J.A;return J.A=yee,u}function NT(){fr=4,Uc||(hn&4194048)!==hn&&Eo.current!==null||(Mf=!0),(zc&134217727)===0&&(kd&134217727)===0||zn===null||$c(zn,hn,To,!1)}function BT(u,h,g){var v=Mn;Mn|=2;var S=qL(),A=KL();(zn!==u||hn!==h)&&(fw=null,Bf(u,h)),h=!1;var z=fr;e:do try{if(On!==0&&tn!==null){var Y=tn,ce=zs;switch(On){case 8:LT(),z=6;break e;case 3:case 2:case 9:case 6:Eo.current===null&&(h=!0);var Re=On;if(On=0,zs=null,Vf(u,Y,ce,Re),g&&Mf){z=0;break e}break;default:Re=On,On=0,zs=null,Vf(u,Y,ce,Re)}}bee(),z=fr;break}catch(Ve){$L(u,Ve)}while(!0);return h&&u.shellSuspendCounter++,Bl=Rd=null,Mn=v,J.H=S,J.A=A,tn===null&&(zn=null,hn=0,LC()),z}function bee(){for(;tn!==null;)YL(tn)}function See(u,h){var g=Mn;Mn|=2;var v=qL(),S=KL();zn!==u||hn!==h?(fw=null,hw=ke()+500,Bf(u,h)):Mf=br(u,h);e:do try{if(On!==0&&tn!==null){h=tn;var A=zs;t:switch(On){case 1:On=0,zs=null,Vf(u,h,A,1);break;case 2:case 9:if(aO(A)){On=0,zs=null,XL(h);break}h=function(){On!==2&&On!==9||zn!==u||(On=7),Na(u)},A.then(h,h);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:aO(A)?(On=0,zs=null,XL(h)):(On=0,zs=null,Vf(u,h,A,7));break;case 5:var z=null;switch(tn.tag){case 26:z=tn.memoizedState;case 5:case 27:var Y=tn;if(!z||FN(z)){On=0,zs=null;var ce=Y.sibling;if(ce!==null)tn=ce;else{var Re=Y.return;Re!==null?(tn=Re,gw(Re)):tn=null}break t}}On=0,zs=null,Vf(u,h,A,5);break;case 6:On=0,zs=null,Vf(u,h,A,6);break;case 8:LT(),fr=6;break e;default:throw Error(r(462))}}xee();break}catch(Ve){$L(u,Ve)}while(!0);return Bl=Rd=null,J.H=v,J.A=S,Mn=g,tn!==null?0:(zn=null,hn=0,LC(),fr)}function xee(){for(;tn!==null&&!Xe();)YL(tn)}function YL(u){var h=SL(u.alternate,u,$l);u.memoizedProps=u.pendingProps,h===null?gw(u):tn=h}function XL(u){var h=u,g=h.alternate;switch(h.tag){case 15:case 0:h=mL(g,h,h.pendingProps,h.type,void 0,hn);break;case 11:h=mL(g,h,h.pendingProps,h.type.render,h.ref,hn);break;case 5:JE(h);default:EL(g,h),h=tn=Q2(h,$l),h=SL(g,h,$l)}u.memoizedProps=u.pendingProps,h===null?gw(u):tn=h}function Vf(u,h,g,v){Bl=Rd=null,JE(h),Pf=null,Sm=0;var S=h.return;try{if(hee(u,S,h,g,hn)){fr=1,ow(u,wo(g,u.current)),tn=null;return}}catch(A){if(S!==null)throw tn=S,A;fr=1,ow(u,wo(g,u.current)),tn=null;return}h.flags&32768?(En||v===1?u=!0:Mf||(hn&536870912)!==0?u=!1:(Uc=u=!0,(v===2||v===9||v===3||v===6)&&(v=Eo.current,v!==null&&v.tag===13&&(v.flags|=16384))),QL(h,u)):gw(h)}function gw(u){var h=u;do{if((h.flags&32768)!==0){QL(h,Uc);return}u=h.return;var g=pee(h.alternate,h,$l);if(g!==null){tn=g;return}if(h=h.sibling,h!==null){tn=h;return}tn=h=u}while(h!==null);fr===0&&(fr=5)}function QL(u,h){do{var g=gee(u.alternate,u);if(g!==null){g.flags&=32767,tn=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(u=u.sibling,u!==null)){tn=u;return}tn=u=g}while(u!==null);fr=6,tn=null}function ZL(u,h,g,v,S,A,z,Y,ce){u.cancelPendingCommit=null;do mw();while(wi!==0);if((Mn&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(A=h.lanes|h.childLanes,A|=_E,Ns(u,g,A,z,Y,ce),u===zn&&(tn=zn=null,hn=0),Lf=h,Wc=u,Nf=g,IT=A,MT=S,UL=v,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Aee(_t,function(){return rN(),null})):(u.callbackNode=null,u.callbackPriority=0),v=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,S=se.p,se.p=2,z=Mn,Mn|=4;try{mee(u,h,g)}finally{Mn=z,se.p=S,J.T=v}}wi=1,JL(),eN(),tN()}}function JL(){if(wi===1){wi=0;var u=Wc,h=Lf,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=J.T,J.T=null;var v=se.p;se.p=2;var S=Mn;Mn|=4;try{OL(h,u);var A=XT,z=G2(u.containerInfo),Y=A.focusedElem,ce=A.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&H2(Y.ownerDocument.documentElement,Y)){if(ce!==null&&xE(Y)){var Re=ce.start,Ve=ce.end;if(Ve===void 0&&(Ve=Re),"selectionStart"in Y)Y.selectionStart=Re,Y.selectionEnd=Math.min(Ve,Y.value.length);else{var je=Y.ownerDocument||document,De=je&&je.defaultView||window;if(De.getSelection){var Pe=De.getSelection(),Nt=Y.textContent.length,Pt=Math.min(ce.start,Nt),Vn=ce.end===void 0?Pt:Math.min(ce.end,Nt);!Pe.extend&&Pt>Vn&&(z=Vn,Vn=Pt,Pt=z);var we=V2(Y,Pt),ge=V2(Y,Vn);if(we&&ge&&(Pe.rangeCount!==1||Pe.anchorNode!==we.node||Pe.anchorOffset!==we.offset||Pe.focusNode!==ge.node||Pe.focusOffset!==ge.offset)){var xe=je.createRange();xe.setStart(we.node,we.offset),Pe.removeAllRanges(),Pt>Vn?(Pe.addRange(xe),Pe.extend(ge.node,ge.offset)):(xe.setEnd(ge.node,ge.offset),Pe.addRange(xe))}}}}for(je=[],Pe=Y;Pe=Pe.parentNode;)Pe.nodeType===1&&je.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<je.length;Y++){var Ge=je[Y];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}_w=!!YT,XT=YT=null}finally{Mn=S,se.p=v,J.T=g}}u.current=h,wi=2}}function eN(){if(wi===2){wi=0;var u=Wc,h=Lf,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=J.T,J.T=null;var v=se.p;se.p=2;var S=Mn;Mn|=4;try{FL(u,h.alternate,h)}finally{Mn=S,se.p=v,J.T=g}}wi=3}}function tN(){if(wi===4||wi===3){wi=0,Ze();var u=Wc,h=Lf,g=Nf,v=UL;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?wi=5:(wi=0,Lf=Wc=null,nN(u,u.pendingLanes));var S=u.pendingLanes;if(S===0&&(jc=null),Ta(g),h=h.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(ve,h,void 0,(h.current.flags&128)===128)}catch{}if(v!==null){h=J.T,S=se.p,se.p=2,J.T=null;try{for(var A=u.onRecoverableError,z=0;z<v.length;z++){var Y=v[z];A(Y.value,{componentStack:Y.stack})}}finally{J.T=h,se.p=S}}(Nf&3)!==0&&mw(),Na(u),S=u.pendingLanes,(g&4194090)!==0&&(S&42)!==0?u===OT?Fm++:(Fm=0,OT=u):Fm=0,km(0)}}function nN(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,dm(h)))}function mw(u){return JL(),eN(),tN(),rN()}function rN(){if(wi!==5)return!1;var u=Wc,h=IT;IT=0;var g=Ta(Nf),v=J.T,S=se.p;try{se.p=32>g?32:g,J.T=null,g=MT,MT=null;var A=Wc,z=Nf;if(wi=0,Lf=Wc=null,Nf=0,(Mn&6)!==0)throw Error(r(331));var Y=Mn;if(Mn|=4,HL(A.current),NL(A,A.current,z,g),Mn=Y,km(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(ve,A)}catch{}return!0}finally{se.p=S,J.T=v,nN(u,h)}}function iN(u,h,g){h=wo(g,h),h=fT(u.stateNode,h,2),u=Oc(u,h,2),u!==null&&(Ls(u,2),Na(u))}function Un(u,h,g){if(u.tag===3)iN(u,u,g);else for(;h!==null;){if(h.tag===3){iN(h,u,g);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(jc===null||!jc.has(v))){u=wo(g,u),g=lL(2),v=Oc(h,g,2),v!==null&&(cL(g,v,h,u),Ls(v,2),Na(v));break}}h=h.return}}function VT(u,h,g){var v=u.pingCache;if(v===null){v=u.pingCache=new Cee;var S=new Set;v.set(h,S)}else S=v.get(h),S===void 0&&(S=new Set,v.set(h,S));S.has(g)||(DT=!0,S.add(g),u=Eee.bind(null,u,h,g),h.then(u,u))}function Eee(u,h,g){var v=u.pingCache;v!==null&&v.delete(h),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,zn===u&&(hn&g)===g&&(fr===4||fr===3&&(hn&62914560)===hn&&300>ke()-kT?(Mn&2)===0&&Bf(u,0):PT|=g,Of===hn&&(Of=0)),Na(u)}function sN(u,h){h===0&&(h=Ea()),u=wf(u,h),u!==null&&(Ls(u,h),Na(u))}function Tee(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),sN(u,g)}function Ree(u,h){var g=0;switch(u.tag){case 13:var v=u.stateNode,S=u.memoizedState;S!==null&&(g=S.retryLane);break;case 19:v=u.stateNode;break;case 22:v=u.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(h),sN(u,g)}function Aee(u,h){return bt(u,h)}var vw=null,Hf=null,HT=!1,yw=!1,GT=!1,Id=0;function Na(u){u!==Hf&&u.next===null&&(Hf===null?vw=Hf=u:Hf=Hf.next=u),yw=!0,HT||(HT=!0,Dee())}function km(u,h){if(!GT&&yw){GT=!0;do for(var g=!1,v=vw;v!==null;){if(u!==0){var S=v.pendingLanes;if(S===0)var A=0;else{var z=v.suspendedLanes,Y=v.pingedLanes;A=(1<<31-lt(42|u)+1)-1,A&=S&~(z&~Y),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(g=!0,cN(v,A))}else A=hn,A=qn(v,v===zn?A:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(A&3)===0||br(v,A)||(g=!0,cN(v,A));v=v.next}while(g);GT=!1}}function _ee(){oN()}function oN(){yw=HT=!1;var u=0;Id!==0&&(Nee()&&(u=Id),Id=0);for(var h=ke(),g=null,v=vw;v!==null;){var S=v.next,A=aN(v,h);A===0?(v.next=null,g===null?vw=S:g.next=S,S===null&&(Hf=g)):(g=v,(u!==0||(A&3)!==0)&&(yw=!0)),v=S}km(u)}function aN(u,h){for(var g=u.suspendedLanes,v=u.pingedLanes,S=u.expirationTimes,A=u.pendingLanes&-62914561;0<A;){var z=31-lt(A),Y=1<<z,ce=S[z];ce===-1?((Y&g)===0||(Y&v)!==0)&&(S[z]=Sr(Y,h)):ce<=h&&(u.expiredLanes|=Y),A&=~Y}if(h=zn,g=hn,g=qn(u,u===h?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),v=u.callbackNode,g===0||u===h&&(On===2||On===9)||u.cancelPendingCommit!==null)return v!==null&&v!==null&&ze(v),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||br(u,g)){if(h=g&-g,h===u.callbackPriority)return h;switch(v!==null&&ze(v),Ta(g)){case 2:case 8:g=mt;break;case 32:g=_t;break;case 268435456:g=Gt;break;default:g=_t}return v=lN.bind(null,u),g=bt(g,v),u.callbackPriority=h,u.callbackNode=g,h}return v!==null&&v!==null&&ze(v),u.callbackPriority=2,u.callbackNode=null,2}function lN(u,h){if(wi!==0&&wi!==5)return u.callbackNode=null,u.callbackPriority=0,null;var g=u.callbackNode;if(mw()&&u.callbackNode!==g)return null;var v=hn;return v=qn(u,u===zn?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),v===0?null:(jL(u,v,h),aN(u,ke()),u.callbackNode!=null&&u.callbackNode===g?lN.bind(null,u):null)}function cN(u,h){if(mw())return null;jL(u,h,!0)}function Dee(){Vee(function(){(Mn&6)!==0?bt(At,_ee):oN()})}function UT(){return Id===0&&(Id=fo()),Id}function uN(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:lf(""+u)}function dN(u,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,u.id&&g.setAttribute("form",u.id),h.parentNode.insertBefore(g,h),u=new FormData(u),g.parentNode.removeChild(g),u}function Pee(u,h,g,v,S){if(h==="submit"&&g&&g.stateNode===S){var A=uN((S[Ye]||null).action),z=v.submitter;z&&(h=(h=z[Ye]||null)?uN(h.formAction):z.getAttribute("formAction"),h!==null&&(A=h,z=null));var Y=new cf("action","action",null,v,S);u.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Id!==0){var ce=z?dN(S,z):new FormData(S);lT(g,{pending:!0,data:ce,method:S.method,action:A},null,ce)}}else typeof A=="function"&&(Y.preventDefault(),ce=z?dN(S,z):new FormData(S),lT(g,{pending:!0,data:ce,method:S.method,action:A},A,ce))},currentTarget:S}]})}}for(var zT=0;zT<AE.length;zT++){var jT=AE[zT],Fee=jT.toLowerCase(),kee=jT[0].toUpperCase()+jT.slice(1);na(Fee,"on"+kee)}na(j2,"onAnimationEnd"),na(W2,"onAnimationIteration"),na($2,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(YJ,"onTransitionRun"),na(XJ,"onTransitionStart"),na(QJ,"onTransitionCancel"),na(q2,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Im="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iee=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Im));function hN(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var v=u[g],S=v.event;v=v.listeners;e:{var A=void 0;if(h)for(var z=v.length-1;0<=z;z--){var Y=v[z],ce=Y.instance,Re=Y.currentTarget;if(Y=Y.listener,ce!==A&&S.isPropagationStopped())break e;A=Y,S.currentTarget=Re;try{A(S)}catch(Ve){sw(Ve)}S.currentTarget=null,A=ce}else for(z=0;z<v.length;z++){if(Y=v[z],ce=Y.instance,Re=Y.currentTarget,Y=Y.listener,ce!==A&&S.isPropagationStopped())break e;A=Y,S.currentTarget=Re;try{A(S)}catch(Ve){sw(Ve)}S.currentTarget=null,A=ce}}}}function nn(u,h){var g=h[vt];g===void 0&&(g=h[vt]=new Set);var v=u+"__bubble";g.has(v)||(fN(h,u,2,!1),g.add(v))}function WT(u,h,g){var v=0;h&&(v|=4),fN(g,u,v,h)}var Cw="_reactListening"+Math.random().toString(36).slice(2);function $T(u){if(!u[Cw]){u[Cw]=!0,ye.forEach(function(g){g!=="selectionchange"&&(Iee.has(g)||WT(g,!1,u),WT(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Cw]||(h[Cw]=!0,WT("selectionchange",!1,h))}}function fN(u,h,g,v){switch(NN(h)){case 2:var S=ote;break;case 8:S=ate;break;default:S=oR}g=S.bind(null,h,g,u),S=void 0,!yo||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(S=!0),v?S!==void 0?u.addEventListener(h,g,{capture:!0,passive:S}):u.addEventListener(h,g,!0):S!==void 0?u.addEventListener(h,g,{passive:S}):u.addEventListener(h,g,!1)}function qT(u,h,g,v,S){var A=v;if((h&1)===0&&(h&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var Y=v.stateNode.containerInfo;if(Y===S)break;if(z===4)for(z=v.return;z!==null;){var ce=z.tag;if((ce===3||ce===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;Y!==null;){if(z=ee(Y),z===null)return;if(ce=z.tag,ce===5||ce===6||ce===26||ce===27){v=A=z;continue e}Y=Y.parentNode}}v=v.return}bC(function(){var Re=A,Ve=vo(g),je=[];e:{var De=K2.get(u);if(De!==void 0){var Pe=cf,Nt=u;switch(u){case"keypress":if(_a(g)===0)break e;case"keydown":case"keyup":Pe=gf;break;case"focusin":Nt="focus",Pe=hf;break;case"focusout":Nt="blur",Pe=hf;break;case"beforeblur":case"afterblur":Pe=hf;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=CE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=DC;break;case j2:case W2:case $2:Pe=ff;break;case q2:Pe=FC;break;case"scroll":case"scrollend":Pe=SC;break;case"wheel":Pe=mf;break;case"copy":case"cut":case"paste":Pe=pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=rm;break;case"toggle":case"beforetoggle":Pe=IC}var Pt=(h&4)!==0,Vn=!Pt&&(u==="scroll"||u==="scrollend"),we=Pt?De!==null?De+"Capture":null:De;Pt=[];for(var ge=Re,xe;ge!==null;){var Ge=ge;if(xe=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||xe===null||we===null||(Ge=hd(ge,we),Ge!=null&&Pt.push(Mm(ge,Ge,xe))),Vn)break;ge=ge.return}0<Pt.length&&(De=new Pe(De,Nt,null,g,Ve),je.push({event:De,listeners:Pt}))}}if((h&7)===0){e:{if(De=u==="mouseover"||u==="pointerover",Pe=u==="mouseout"||u==="pointerout",De&&g!==Dl&&(Nt=g.relatedTarget||g.fromElement)&&(ee(Nt)||Nt[ht]))break e;if((Pe||De)&&(De=Ve.window===Ve?Ve:(De=Ve.ownerDocument)?De.defaultView||De.parentWindow:window,Pe?(Nt=g.relatedTarget||g.toElement,Pe=Re,Nt=Nt?ee(Nt):null,Nt!==null&&(Vn=s(Nt),Pt=Nt.tag,Nt!==Vn||Pt!==5&&Pt!==27&&Pt!==6)&&(Nt=null)):(Pe=null,Nt=Re),Pe!==Nt)){if(Pt=Co,Ge="onMouseLeave",we="onMouseEnter",ge="mouse",(u==="pointerout"||u==="pointerover")&&(Pt=rm,Ge="onPointerLeave",we="onPointerEnter",ge="pointer"),Vn=Pe==null?De:Ce(Pe),xe=Nt==null?De:Ce(Nt),De=new Pt(Ge,ge+"leave",Pe,g,Ve),De.target=Vn,De.relatedTarget=xe,Ge=null,ee(Ve)===Re&&(Pt=new Pt(we,ge+"enter",Nt,g,Ve),Pt.target=xe,Pt.relatedTarget=Vn,Ge=Pt),Vn=Ge,Pe&&Nt)t:{for(Pt=Pe,we=Nt,ge=0,xe=Pt;xe;xe=Gf(xe))ge++;for(xe=0,Ge=we;Ge;Ge=Gf(Ge))xe++;for(;0<ge-xe;)Pt=Gf(Pt),ge--;for(;0<xe-ge;)we=Gf(we),xe--;for(;ge--;){if(Pt===we||we!==null&&Pt===we.alternate)break t;Pt=Gf(Pt),we=Gf(we)}Pt=null}else Pt=null;Pe!==null&&pN(je,De,Pe,Pt,!1),Nt!==null&&Vn!==null&&pN(je,Vn,Nt,Pt,!0)}}e:{if(De=Re?Ce(Re):window,Pe=De.nodeName&&De.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&De.type==="file")var gt=I2;else if(Kr(De))if(M2)gt=$J;else{gt=jJ;var Zt=zJ}else Pe=De.nodeName,!Pe||Pe.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Re&&Xg(Re.elementType)&&(gt=I2):gt=WJ;if(gt&&(gt=gt(u,Re))){Ml(je,gt,g,Ve);break e}Zt&&Zt(u,De,Re),u==="focusout"&&Re&&De.type==="number"&&Re.memoizedProps.value!=null&&Pc(De,"number",De.value)}switch(Zt=Re?Ce(Re):window,u){case"focusin":(Kr(Zt)||Zt.contentEditable==="true")&&(vf=Zt,EE=Re,om=null);break;case"focusout":om=EE=vf=null;break;case"mousedown":TE=!0;break;case"contextmenu":case"mouseup":case"dragend":TE=!1,U2(je,g,Ve);break;case"selectionchange":if(KJ)break;case"keydown":case"keyup":U2(je,g,Ve)}var St;if(Fa)e:{switch(u){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else un?Le(u,g)&&(kt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(kt="onCompositionStart");kt&&(U&&g.locale!=="ko"&&(un||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&un&&(St=Zg()):(Aa=Ve,Fc="value"in Aa?Aa.value:Aa.textContent,un=!0)),Zt=ww(Re,kt),0<Zt.length&&(kt=new tm(kt,u,null,g,Ve),je.push({event:kt,listeners:Zt}),St?kt.data=St:(St=it(g),St!==null&&(kt.data=St)))),(St=O?qr(u,g):dn(u,g))&&(kt=ww(Re,"onBeforeInput"),0<kt.length&&(Zt=new tm("onBeforeInput","beforeinput",null,g,Ve),je.push({event:Zt,listeners:kt}),Zt.data=St)),Pee(je,u,Re,g,Ve)}hN(je,h)})}function Mm(u,h,g){return{instance:u,listener:h,currentTarget:g}}function ww(u,h){for(var g=h+"Capture",v=[];u!==null;){var S=u,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=hd(u,g),S!=null&&v.unshift(Mm(u,S,A)),S=hd(u,h),S!=null&&v.push(Mm(u,S,A))),u.tag===3)return v;u=u.return}return[]}function Gf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function pN(u,h,g,v,S){for(var A=h._reactName,z=[];g!==null&&g!==v;){var Y=g,ce=Y.alternate,Re=Y.stateNode;if(Y=Y.tag,ce!==null&&ce===v)break;Y!==5&&Y!==26&&Y!==27||Re===null||(ce=Re,S?(Re=hd(g,A),Re!=null&&z.unshift(Mm(g,Re,ce))):S||(Re=hd(g,A),Re!=null&&z.push(Mm(g,Re,ce)))),g=g.return}z.length!==0&&u.push({event:h,listeners:z})}var Mee=/\r\n?/g,Oee=/\u0000|\uFFFD/g;function gN(u){return(typeof u=="string"?u:""+u).replace(Mee,`
`).replace(Oee,"")}function mN(u,h){return h=gN(h),gN(u)===h}function bw(){}function Bn(u,h,g,v,S,A){switch(g){case"children":typeof v=="string"?h==="body"||h==="textarea"&&v===""||mo(u,v):(typeof v=="number"||typeof v=="bigint")&&h!=="body"&&mo(u,""+v);break;case"className":Xt(u,"class",v);break;case"tabIndex":Xt(u,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(u,g,v);break;case"style":Yg(u,v,A);break;case"data":if(h!=="object"){Xt(u,"data",v);break}case"src":case"href":if(v===""&&(h!=="a"||g!=="href")){u.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(g);break}v=lf(""+v),u.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(g==="formAction"?(h!=="input"&&Bn(u,h,"name",S.name,S,null),Bn(u,h,"formEncType",S.formEncType,S,null),Bn(u,h,"formMethod",S.formMethod,S,null),Bn(u,h,"formTarget",S.formTarget,S,null)):(Bn(u,h,"encType",S.encType,S,null),Bn(u,h,"method",S.method,S,null),Bn(u,h,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(g);break}v=lf(""+v),u.setAttribute(g,v);break;case"onClick":v!=null&&(u.onclick=bw);break;case"onScroll":v!=null&&nn("scroll",u);break;case"onScrollEnd":v!=null&&nn("scrollend",u);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":u.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){u.removeAttribute("xlink:href");break}g=lf(""+v),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(g,""+v):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":v===!0?u.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(g,v):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?u.setAttribute(g,v):u.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?u.removeAttribute(g):u.setAttribute(g,v);break;case"popover":nn("beforetoggle",u),nn("toggle",u),en(u,"popover",v);break;case"xlinkActuate":yt(u,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":yt(u,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":yt(u,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":yt(u,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":yt(u,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":yt(u,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":yt(u,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":yt(u,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":yt(u,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":en(u,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=vE.get(g)||g,en(u,g,v))}}function KT(u,h,g,v,S,A){switch(g){case"style":Yg(u,v,A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof v=="string"?mo(u,v):(typeof v=="number"||typeof v=="bigint")&&mo(u,""+v);break;case"onScroll":v!=null&&nn("scroll",u);break;case"onScrollEnd":v!=null&&nn("scrollend",u);break;case"onClick":v!=null&&(u.onclick=bw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Te.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(S=g.endsWith("Capture"),h=g.slice(2,S?g.length-7:void 0),A=u[Ye]||null,A=A!=null?A[g]:null,typeof A=="function"&&u.removeEventListener(h,A,S),typeof v=="function")){typeof A!="function"&&A!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(h,v,S);break e}g in u?u[g]=v:v===!0?u.setAttribute(g,""):en(u,g,v)}}}function bi(u,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nn("error",u),nn("load",u);var v=!1,S=!1,A;for(A in g)if(g.hasOwnProperty(A)){var z=g[A];if(z!=null)switch(A){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Bn(u,h,A,z,g,null)}}S&&Bn(u,h,"srcSet",g.srcSet,g,null),v&&Bn(u,h,"src",g.src,g,null);return;case"input":nn("invalid",u);var Y=A=z=S=null,ce=null,Re=null;for(v in g)if(g.hasOwnProperty(v)){var Ve=g[v];if(Ve!=null)switch(v){case"name":S=Ve;break;case"type":z=Ve;break;case"checked":ce=Ve;break;case"defaultChecked":Re=Ve;break;case"value":A=Ve;break;case"defaultValue":Y=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,h));break;default:Bn(u,h,v,Ve,g,null)}}cd(u,A,Y,ce,Re,z,S,!1),af(u);return;case"select":nn("invalid",u),v=z=A=null;for(S in g)if(g.hasOwnProperty(S)&&(Y=g[S],Y!=null))switch(S){case"value":A=Y;break;case"defaultValue":z=Y;break;case"multiple":v=Y;default:Bn(u,h,S,Y,g,null)}h=A,g=z,u.multiple=!!v,h!=null?_l(u,!!v,h,!1):g!=null&&_l(u,!!v,g,!0);return;case"textarea":nn("invalid",u),A=S=v=null;for(z in g)if(g.hasOwnProperty(z)&&(Y=g[z],Y!=null))switch(z){case"value":v=Y;break;case"defaultValue":S=Y;break;case"children":A=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Bn(u,h,z,Y,g,null)}ud(u,v,S,A),af(u);return;case"option":for(ce in g)if(g.hasOwnProperty(ce)&&(v=g[ce],v!=null))switch(ce){case"selected":u.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Bn(u,h,ce,v,g,null)}return;case"dialog":nn("beforetoggle",u),nn("toggle",u),nn("cancel",u),nn("close",u);break;case"iframe":case"object":nn("load",u);break;case"video":case"audio":for(v=0;v<Im.length;v++)nn(Im[v],u);break;case"image":nn("error",u),nn("load",u);break;case"details":nn("toggle",u);break;case"embed":case"source":case"link":nn("error",u),nn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in g)if(g.hasOwnProperty(Re)&&(v=g[Re],v!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Bn(u,h,Re,v,g,null)}return;default:if(Xg(h)){for(Ve in g)g.hasOwnProperty(Ve)&&(v=g[Ve],v!==void 0&&KT(u,h,Ve,v,g,void 0));return}}for(Y in g)g.hasOwnProperty(Y)&&(v=g[Y],v!=null&&Bn(u,h,Y,v,g,null))}function Lee(u,h,g,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,z=null,Y=null,ce=null,Re=null,Ve=null;for(Pe in g){var je=g[Pe];if(g.hasOwnProperty(Pe)&&je!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ce=je;default:v.hasOwnProperty(Pe)||Bn(u,h,Pe,null,v,je)}}for(var De in v){var Pe=v[De];if(je=g[De],v.hasOwnProperty(De)&&(Pe!=null||je!=null))switch(De){case"type":A=Pe;break;case"name":S=Pe;break;case"checked":Re=Pe;break;case"defaultChecked":Ve=Pe;break;case"value":z=Pe;break;case"defaultValue":Y=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,h));break;default:Pe!==je&&Bn(u,h,De,Pe,v,je)}}Bs(u,z,Y,ce,Re,Ve,A,S);return;case"select":Pe=z=Y=De=null;for(A in g)if(ce=g[A],g.hasOwnProperty(A)&&ce!=null)switch(A){case"value":break;case"multiple":Pe=ce;default:v.hasOwnProperty(A)||Bn(u,h,A,null,v,ce)}for(S in v)if(A=v[S],ce=g[S],v.hasOwnProperty(S)&&(A!=null||ce!=null))switch(S){case"value":De=A;break;case"defaultValue":Y=A;break;case"multiple":z=A;default:A!==ce&&Bn(u,h,S,A,v,ce)}h=Y,g=z,v=Pe,De!=null?_l(u,!!g,De,!1):!!v!=!!g&&(h!=null?_l(u,!!g,h,!0):_l(u,!!g,g?[]:"",!1));return;case"textarea":Pe=De=null;for(Y in g)if(S=g[Y],g.hasOwnProperty(Y)&&S!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Bn(u,h,Y,null,v,S)}for(z in v)if(S=v[z],A=g[z],v.hasOwnProperty(z)&&(S!=null||A!=null))switch(z){case"value":De=S;break;case"defaultValue":Pe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==A&&Bn(u,h,z,S,v,A)}Ln(u,De,Pe);return;case"option":for(var Nt in g)if(De=g[Nt],g.hasOwnProperty(Nt)&&De!=null&&!v.hasOwnProperty(Nt))switch(Nt){case"selected":u.selected=!1;break;default:Bn(u,h,Nt,null,v,De)}for(ce in v)if(De=v[ce],Pe=g[ce],v.hasOwnProperty(ce)&&De!==Pe&&(De!=null||Pe!=null))switch(ce){case"selected":u.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Bn(u,h,ce,De,v,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in g)De=g[Pt],g.hasOwnProperty(Pt)&&De!=null&&!v.hasOwnProperty(Pt)&&Bn(u,h,Pt,null,v,De);for(Re in v)if(De=v[Re],Pe=g[Re],v.hasOwnProperty(Re)&&De!==Pe&&(De!=null||Pe!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,h));break;default:Bn(u,h,Re,De,v,Pe)}return;default:if(Xg(h)){for(var Vn in g)De=g[Vn],g.hasOwnProperty(Vn)&&De!==void 0&&!v.hasOwnProperty(Vn)&&KT(u,h,Vn,void 0,v,De);for(Ve in v)De=v[Ve],Pe=g[Ve],!v.hasOwnProperty(Ve)||De===Pe||De===void 0&&Pe===void 0||KT(u,h,Ve,De,v,Pe);return}}for(var we in g)De=g[we],g.hasOwnProperty(we)&&De!=null&&!v.hasOwnProperty(we)&&Bn(u,h,we,null,v,De);for(je in v)De=v[je],Pe=g[je],!v.hasOwnProperty(je)||De===Pe||De==null&&Pe==null||Bn(u,h,je,De,v,Pe)}var YT=null,XT=null;function Sw(u){return u.nodeType===9?u:u.ownerDocument}function vN(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yN(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function QT(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var ZT=null;function Nee(){var u=window.event;return u&&u.type==="popstate"?u===ZT?!1:(ZT=u,!0):(ZT=null,!1)}var CN=typeof setTimeout=="function"?setTimeout:void 0,Bee=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,Vee=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(u){return wN.resolve(null).then(u).catch(Hee)}:CN;function Hee(u){setTimeout(function(){throw u})}function qc(u){return u==="head"}function bN(u,h){var g=h,v=0,S=0;do{var A=g.nextSibling;if(u.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(0<v&&8>v){g=v;var z=u.ownerDocument;if(g&1&&Om(z.documentElement),g&2&&Om(z.body),g&4)for(g=z.head,Om(g),z=g.firstChild;z;){var Y=z.nextSibling,ce=z.nodeName;z[q]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&z.rel.toLowerCase()==="stylesheet"||g.removeChild(z),z=Y}}if(S===0){u.removeChild(A),zm(h);return}S--}else g==="$"||g==="$?"||g==="$!"?S++:v=g.charCodeAt(0)-48;else v=0;g=A}while(g);zm(h)}function JT(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":JT(g),K(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function Gee(u,h,g,v){for(;u.nodeType===1;){var S=g;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!v&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(v){if(!u[q])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(A=u.getAttribute("rel"),A==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(A!==S.rel||u.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||u.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||u.getAttribute("title")!==(S.title==null?null:S.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(A=u.getAttribute("src"),(A!==(S.src==null?null:S.src)||u.getAttribute("type")!==(S.type==null?null:S.type)||u.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&u.getAttribute("name")===A)return u}else return u;if(u=ia(u.nextSibling),u===null)break}return null}function Uee(u,h,g){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=ia(u.nextSibling),u===null))return null;return u}function eR(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function zee(u,h){var g=u.ownerDocument;if(u.data!=="$?"||g.readyState==="complete")h();else{var v=function(){h(),g.removeEventListener("DOMContentLoaded",v)};g.addEventListener("DOMContentLoaded",v),u._reactRetry=v}}function ia(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}var tR=null;function SN(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}function xN(u,h,g){switch(h=Sw(g),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Om(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);K(u)}var Ro=new Map,EN=new Set;function xw(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var ql=se.d;se.d={f:jee,r:Wee,D:$ee,C:qee,L:Kee,m:Yee,X:Qee,S:Xee,M:Zee};function jee(){var u=ql.f(),h=pw();return u||h}function Wee(u){var h=te(u);h!==null&&h.tag===5&&h.type==="form"?jO(h):ql.r(u)}var Uf=typeof document>"u"?null:document;function TN(u,h,g){var v=Uf;if(v&&typeof h=="string"&&h){var S=Ir(h);S='link[rel="'+u+'"][href="'+S+'"]',typeof g=="string"&&(S+='[crossorigin="'+g+'"]'),EN.has(S)||(EN.add(S),u={rel:u,crossOrigin:g,href:h},v.querySelector(S)===null&&(h=v.createElement("link"),bi(h,"link",u),me(h),v.head.appendChild(h)))}}function $ee(u){ql.D(u),TN("dns-prefetch",u,null)}function qee(u,h){ql.C(u,h),TN("preconnect",u,h)}function Kee(u,h,g){ql.L(u,h,g);var v=Uf;if(v&&u&&h){var S='link[rel="preload"][as="'+Ir(h)+'"]';h==="image"&&g&&g.imageSrcSet?(S+='[imagesrcset="'+Ir(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(S+='[imagesizes="'+Ir(g.imageSizes)+'"]')):S+='[href="'+Ir(u)+'"]';var A=S;switch(h){case"style":A=zf(u);break;case"script":A=jf(u)}Ro.has(A)||(u=d({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:u,as:h},g),Ro.set(A,u),v.querySelector(S)!==null||h==="style"&&v.querySelector(Lm(A))||h==="script"&&v.querySelector(Nm(A))||(h=v.createElement("link"),bi(h,"link",u),me(h),v.head.appendChild(h)))}}function Yee(u,h){ql.m(u,h);var g=Uf;if(g&&u){var v=h&&typeof h.as=="string"?h.as:"script",S='link[rel="modulepreload"][as="'+Ir(v)+'"][href="'+Ir(u)+'"]',A=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=jf(u)}if(!Ro.has(A)&&(u=d({rel:"modulepreload",href:u},h),Ro.set(A,u),g.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Nm(A)))return}v=g.createElement("link"),bi(v,"link",u),me(v),g.head.appendChild(v)}}}function Xee(u,h,g){ql.S(u,h,g);var v=Uf;if(v&&u){var S=_e(v).hoistableStyles,A=zf(u);h=h||"default";var z=S.get(A);if(!z){var Y={loading:0,preload:null};if(z=v.querySelector(Lm(A)))Y.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":h},g),(g=Ro.get(A))&&nR(u,g);var ce=z=v.createElement("link");me(ce),bi(ce,"link",u),ce._p=new Promise(function(Re,Ve){ce.onload=Re,ce.onerror=Ve}),ce.addEventListener("load",function(){Y.loading|=1}),ce.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Ew(z,h,v)}z={type:"stylesheet",instance:z,count:1,state:Y},S.set(A,z)}}}function Qee(u,h){ql.X(u,h);var g=Uf;if(g&&u){var v=_e(g).hoistableScripts,S=jf(u),A=v.get(S);A||(A=g.querySelector(Nm(S)),A||(u=d({src:u,async:!0},h),(h=Ro.get(S))&&rR(u,h),A=g.createElement("script"),me(A),bi(A,"link",u),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(S,A))}}function Zee(u,h){ql.M(u,h);var g=Uf;if(g&&u){var v=_e(g).hoistableScripts,S=jf(u),A=v.get(S);A||(A=g.querySelector(Nm(S)),A||(u=d({src:u,async:!0,type:"module"},h),(h=Ro.get(S))&&rR(u,h),A=g.createElement("script"),me(A),bi(A,"link",u),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(S,A))}}function RN(u,h,g,v){var S=(S=fe.current)?xw(S):null;if(!S)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=zf(g.href),g=_e(S).hoistableStyles,v=g.get(h),v||(v={type:"style",instance:null,count:0,state:null},g.set(h,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=zf(g.href);var A=_e(S).hoistableStyles,z=A.get(u);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(u,z),(A=S.querySelector(Lm(u)))&&!A._p&&(z.instance=A,z.state.loading=5),Ro.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ro.set(u,g),A||Jee(S,u,g,z.state))),h&&v===null)throw Error(r(528,""));return z}if(h&&v!==null)throw Error(r(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=jf(g),g=_e(S).hoistableScripts,v=g.get(h),v||(v={type:"script",instance:null,count:0,state:null},g.set(h,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function zf(u){return'href="'+Ir(u)+'"'}function Lm(u){return'link[rel="stylesheet"]['+u+"]"}function AN(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function Jee(u,h,g,v){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?v.loading=1:(h=u.createElement("link"),v.preload=h,h.addEventListener("load",function(){return v.loading|=1}),h.addEventListener("error",function(){return v.loading|=2}),bi(h,"link",g),me(h),u.head.appendChild(h))}function jf(u){return'[src="'+Ir(u)+'"]'}function Nm(u){return"script[async]"+u}function _N(u,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var v=u.querySelector('style[data-href~="'+Ir(g.href)+'"]');if(v)return h.instance=v,me(v),v;var S=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(u.ownerDocument||u).createElement("style"),me(v),bi(v,"style",S),Ew(v,g.precedence,u),h.instance=v;case"stylesheet":S=zf(g.href);var A=u.querySelector(Lm(S));if(A)return h.state.loading|=4,h.instance=A,me(A),A;v=AN(g),(S=Ro.get(S))&&nR(v,S),A=(u.ownerDocument||u).createElement("link"),me(A);var z=A;return z._p=new Promise(function(Y,ce){z.onload=Y,z.onerror=ce}),bi(A,"link",v),h.state.loading|=4,Ew(A,g.precedence,u),h.instance=A;case"script":return A=jf(g.src),(S=u.querySelector(Nm(A)))?(h.instance=S,me(S),S):(v=g,(S=Ro.get(A))&&(v=d({},g),rR(v,S)),u=u.ownerDocument||u,S=u.createElement("script"),me(S),bi(S,"link",v),u.head.appendChild(S),h.instance=S);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(v=h.instance,h.state.loading|=4,Ew(v,g.precedence,u));return h.instance}function Ew(u,h,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,A=S,z=0;z<v.length;z++){var Y=v[z];if(Y.dataset.precedence===h)A=Y;else if(A!==S)break}A?A.parentNode.insertBefore(u,A.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(u,h.firstChild))}function nR(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function rR(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Tw=null;function DN(u,h,g){if(Tw===null){var v=new Map,S=Tw=new Map;S.set(g,v)}else S=Tw,v=S.get(g),v||(v=new Map,S.set(g,v));if(v.has(u))return v;for(v.set(u,null),g=g.getElementsByTagName(u),S=0;S<g.length;S++){var A=g[S];if(!(A[q]||A[Ue]||u==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var z=A.getAttribute(h)||"";z=u+z;var Y=v.get(z);Y?Y.push(A):v.set(z,[A])}}return v}function PN(u,h,g){u=u.ownerDocument||u,u.head.insertBefore(g,h==="title"?u.querySelector("head > title"):null)}function ete(u,h,g){if(g===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function FN(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Bm=null;function tte(){}function nte(u,h,g){if(Bm===null)throw Error(r(475));var v=Bm;if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=zf(g.href),A=u.querySelector(Lm(S));if(A){u=A._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(v.count++,v=Rw.bind(v),u.then(v,v)),h.state.loading|=4,h.instance=A,me(A);return}A=u.ownerDocument||u,g=AN(g),(S=Ro.get(S))&&nR(g,S),A=A.createElement("link"),me(A);var z=A;z._p=new Promise(function(Y,ce){z.onload=Y,z.onerror=ce}),bi(A,"link",g),h.instance=A}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(v.count++,h=Rw.bind(v),u.addEventListener("load",h),u.addEventListener("error",h))}}function rte(){if(Bm===null)throw Error(r(475));var u=Bm;return u.stylesheets&&u.count===0&&iR(u,u.stylesheets),0<u.count?function(h){var g=setTimeout(function(){if(u.stylesheets&&iR(u,u.stylesheets),u.unsuspend){var v=u.unsuspend;u.unsuspend=null,v()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Rw(){if(this.count--,this.count===0){if(this.stylesheets)iR(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Aw=null;function iR(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Aw=new Map,h.forEach(ite,u),Aw=null,Rw.call(u))}function ite(u,h){if(!(h.state.loading&4)){var g=Aw.get(u);if(g)var v=g.get(null);else{g=new Map,Aw.set(u,g);for(var S=u.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var z=S[A];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(g.set(z.dataset.precedence,z),v=z)}v&&g.set(null,v)}S=h.instance,z=S.getAttribute("data-precedence"),A=g.get(z)||v,A===v&&g.set(null,S),g.set(z,S),this.count++,v=Rw.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),A?A.parentNode.insertBefore(S,A.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(S,u.firstChild)),h.state.loading|=4}}var Vm={$$typeof:E,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function ste(u,h,g,v,S,A,z,Y){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.hiddenUpdates=ys(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function kN(u,h,g,v,S,A,z,Y,ce,Re,Ve,je){return u=new ste(u,h,g,z,Y,ce,Re,je),h=1,A===!0&&(h|=24),A=Hs(3,null,null,h),u.current=A,A.stateNode=u,h=VE(),h.refCount++,u.pooledCache=h,h.refCount++,A.memoizedState={element:v,isDehydrated:g,cache:h},zE(A),u}function IN(u){return u?(u=bf,u):bf}function MN(u,h,g,v,S,A){S=IN(S),v.context===null?v.context=S:v.pendingContext=S,v=Mc(h),v.payload={element:g},A=A===void 0?null:A,A!==null&&(v.callback=A),g=Oc(u,v,h),g!==null&&(Ws(g,u,h),gm(g,u,h))}function ON(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function sR(u,h){ON(u,h),(u=u.alternate)&&ON(u,h)}function LN(u){if(u.tag===13){var h=wf(u,67108864);h!==null&&Ws(h,u,67108864),sR(u,67108864)}}var _w=!0;function ote(u,h,g,v){var S=J.T;J.T=null;var A=se.p;try{se.p=2,oR(u,h,g,v)}finally{se.p=A,J.T=S}}function ate(u,h,g,v){var S=J.T;J.T=null;var A=se.p;try{se.p=8,oR(u,h,g,v)}finally{se.p=A,J.T=S}}function oR(u,h,g,v){if(_w){var S=aR(v);if(S===null)qT(u,h,v,Dw,g),BN(u,v);else if(cte(S,u,h,g,v))v.stopPropagation();else if(BN(u,v),h&4&&-1<lte.indexOf(u)){for(;S!==null;){var A=te(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var z=dr(A.pendingLanes);if(z!==0){var Y=A;for(Y.pendingLanes|=2,Y.entangledLanes|=2;z;){var ce=1<<31-lt(z);Y.entanglements[1]|=ce,z&=~ce}Na(A),(Mn&6)===0&&(hw=ke()+500,km(0))}}break;case 13:Y=wf(A,2),Y!==null&&Ws(Y,A,2),pw(),sR(A,2)}if(A=aR(v),A===null&&qT(u,h,v,Dw,g),A===S)break;S=A}S!==null&&v.stopPropagation()}else qT(u,h,v,null,g)}}function aR(u){return u=vo(u),lR(u)}var Dw=null;function lR(u){if(Dw=null,u=ee(u),u!==null){var h=s(u);if(h===null)u=null;else{var g=h.tag;if(g===13){if(u=o(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return Dw=u,null}function NN(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case At:return 2;case mt:return 8;case _t:case It:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var cR=!1,Kc=null,Yc=null,Xc=null,Hm=new Map,Gm=new Map,Qc=[],lte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BN(u,h){switch(u){case"focusin":case"focusout":Kc=null;break;case"dragenter":case"dragleave":Yc=null;break;case"mouseover":case"mouseout":Xc=null;break;case"pointerover":case"pointerout":Hm.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gm.delete(h.pointerId)}}function Um(u,h,g,v,S,A){return u===null||u.nativeEvent!==A?(u={blockedOn:h,domEventName:g,eventSystemFlags:v,nativeEvent:A,targetContainers:[S]},h!==null&&(h=te(h),h!==null&&LN(h)),u):(u.eventSystemFlags|=v,h=u.targetContainers,S!==null&&h.indexOf(S)===-1&&h.push(S),u)}function cte(u,h,g,v,S){switch(h){case"focusin":return Kc=Um(Kc,u,h,g,v,S),!0;case"dragenter":return Yc=Um(Yc,u,h,g,v,S),!0;case"mouseover":return Xc=Um(Xc,u,h,g,v,S),!0;case"pointerover":var A=S.pointerId;return Hm.set(A,Um(Hm.get(A)||null,u,h,g,v,S)),!0;case"gotpointercapture":return A=S.pointerId,Gm.set(A,Um(Gm.get(A)||null,u,h,g,v,S)),!0}return!1}function VN(u){var h=ee(u.target);if(h!==null){var g=s(h);if(g!==null){if(h=g.tag,h===13){if(h=o(g),h!==null){u.blockedOn=h,be(u.priority,function(){if(g.tag===13){var v=js();v=go(v);var S=wf(g,v);S!==null&&Ws(S,g,v),sR(g,v)}});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Pw(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=aR(u.nativeEvent);if(g===null){g=u.nativeEvent;var v=new g.constructor(g.type,g);Dl=v,g.target.dispatchEvent(v),Dl=null}else return h=te(g),h!==null&&LN(h),u.blockedOn=g,!1;h.shift()}return!0}function HN(u,h,g){Pw(u)&&g.delete(h)}function ute(){cR=!1,Kc!==null&&Pw(Kc)&&(Kc=null),Yc!==null&&Pw(Yc)&&(Yc=null),Xc!==null&&Pw(Xc)&&(Xc=null),Hm.forEach(HN),Gm.forEach(HN)}function Fw(u,h){u.blockedOn===h&&(u.blockedOn=null,cR||(cR=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ute)))}var kw=null;function GN(u){kw!==u&&(kw=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kw===u&&(kw=null);for(var h=0;h<u.length;h+=3){var g=u[h],v=u[h+1],S=u[h+2];if(typeof v!="function"){if(lR(v||g)===null)continue;break}var A=te(g);A!==null&&(u.splice(h,3),h-=3,lT(A,{pending:!0,data:S,method:g.method,action:v},v,S))}}))}function zm(u){function h(ce){return Fw(ce,u)}Kc!==null&&Fw(Kc,u),Yc!==null&&Fw(Yc,u),Xc!==null&&Fw(Xc,u),Hm.forEach(h),Gm.forEach(h);for(var g=0;g<Qc.length;g++){var v=Qc[g];v.blockedOn===u&&(v.blockedOn=null)}for(;0<Qc.length&&(g=Qc[0],g.blockedOn===null);)VN(g),g.blockedOn===null&&Qc.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var S=g[v],A=g[v+1],z=S[Ye]||null;if(typeof A=="function")z||GN(g);else if(z){var Y=null;if(A&&A.hasAttribute("formAction")){if(S=A,z=A[Ye]||null)Y=z.formAction;else if(lR(S)!==null)continue}else Y=z.action;typeof Y=="function"?g[v+1]=Y:(g.splice(v,3),v-=3),GN(g)}}}function uR(u){this._internalRoot=u}Iw.prototype.render=uR.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var g=h.current,v=js();MN(g,v,u,h,null,null)},Iw.prototype.unmount=uR.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;MN(u.current,2,null,u,null,null),pw(),h[ht]=null}};function Iw(u){this._internalRoot=u}Iw.prototype.unstable_scheduleHydration=function(u){if(u){var h=de();u={blockedOn:null,target:u,priority:h};for(var g=0;g<Qc.length&&h!==0&&h<Qc[g].priority;g++);Qc.splice(g,0,u),g===0&&VN(u)}};var UN=t.version;if(UN!=="19.1.1")throw Error(r(527,UN,"19.1.1"));se.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=l(h),u=u!==null?c(u):null,u=u===null?null:u.stateNode,u};var dte={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mw.isDisabled&&Mw.supportsFiber)try{ve=Mw.inject(dte),Oe=Mw}catch{}}return Wm.createRoot=function(u,h){if(!i(u))throw Error(r(299));var g=!1,v="",S=iL,A=sL,z=oL,Y=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(A=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Y=h.unstable_transitionCallbacks)),h=kN(u,1,!1,null,null,g,v,S,A,z,Y,null),u[ht]=h.current,$T(u),new uR(h)},Wm.hydrateRoot=function(u,h,g){if(!i(u))throw Error(r(299));var v=!1,S="",A=iL,z=sL,Y=oL,ce=null,Re=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(S=g.identifierPrefix),g.onUncaughtError!==void 0&&(A=g.onUncaughtError),g.onCaughtError!==void 0&&(z=g.onCaughtError),g.onRecoverableError!==void 0&&(Y=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ce=g.unstable_transitionCallbacks),g.formState!==void 0&&(Re=g.formState)),h=kN(u,1,!0,h,g??null,v,S,A,z,Y,ce,Re),h.context=IN(null),g=h.current,v=js(),v=go(v),S=Mc(v),S.callback=null,Oc(g,S,v),g=v,h.current.lanes=g,Ls(h,g),Na(h),u[ht]=h.current,$T(u),new Iw(h)},Wm.version="19.1.1",Wm}var ZN;function wte(){if(ZN)return fR.exports;ZN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fR.exports=Cte(),fR.exports}var bte=wte();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $U=e=>{throw TypeError(e)},Ste=(e,t,n)=>t.has(e)||$U("Cannot "+n),vR=(e,t,n)=>(Ste(e,t,"read from private field"),n?n.call(e):t.get(e)),xte=(e,t,n)=>t.has(e)?$U("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),JN="popstate";function Ete(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ec(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),dv("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:ku(s))}function r(i,s){mr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Rte(t,n,r,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Tte(){return Math.random().toString(36).substring(2,10)}function eB(e,t){return{usr:e.state,key:e.key,idx:t}}function dv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ec(t):t,state:n,key:t&&t.key||r||Tte()}}function ku({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ec(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Rte(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let b=d(),x=b==null?null:b-c;c=b,l&&l({action:a,location:C.location,delta:x})}function p(b,x){a="PUSH";let R=dv(C.location,b,x);n&&n(R,b),c=d()+1;let E=eB(R,c),F=C.createHref(R);try{o.pushState(E,"",F)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(F)}s&&l&&l({action:a,location:C.location,delta:1})}function m(b,x){a="REPLACE";let R=dv(C.location,b,x);n&&n(R,b),c=d();let E=eB(R,c),F=C.createHref(R);o.replaceState(E,"",F),s&&l&&l({action:a,location:C.location,delta:0})}function y(b){return qU(b)}let C={get action(){return a},get location(){return e(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JN,f),l=b,()=>{i.removeEventListener(JN,f),l=null}},createHref(b){return t(i,b)},createURL:y,encodeLocation(b){let x=y(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(b){return o.go(b)}};return C}function qU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ku(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var h0,tB=class{constructor(e){if(xte(this,h0,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(vR(this,h0).has(e))return vR(this,h0).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){vR(this,h0).set(e,t)}};h0=new WeakMap;var Ate=new Set(["lazy","caseSensitive","path","id","index","children"]);function _te(e){return Ate.has(e)}var Dte=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Pte(e){return Dte.has(e)}function Fte(e){return e.index===!0}function hv(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Jt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Jt(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),Fte(s)){let c={...s,...t(s),id:l};return r[l]=c,c}else{let c={...s,...t(s),id:l,children:void 0};return r[l]=c,s.children&&(c.children=hv(s.children,t,a,r,i)),c}})}function uu(e,t,n="/"){return Db(e,t,n,!1)}function Db(e,t,n,r){let i=typeof t=="string"?Ec(t):t,s=Wo(i.pathname||"/",n);if(s==null)return null;let o=KU(e);Ite(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=jte(s);a=Ute(o[l],c,r)}return a}function kte(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function KU(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Za([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Jt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),KU(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Hte(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of YU(s.path))i(s,o,a)}),t}function YU(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YU(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ite(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gte(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Mte=/^:[\w-]+$/,Ote=3,Lte=2,Nte=1,Bte=10,Vte=-2,nB=e=>e==="*";function Hte(e,t){let n=e.split("/"),r=n.length;return n.some(nB)&&(r+=Vte),t&&(r+=Lte),n.filter(i=>!nB(i)).reduce((i,s)=>i+(Mte.test(s)?Ote:s===""?Nte:Bte),r)}function Gte(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Ute(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=hS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=hS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Za([s,f.pathname]),pathnameBase:Kte(Za([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Za([s,f.pathnameBase]))}return o}function hS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zte(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function zte(e,t=!1,n=!0){mr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function jte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Wte({basename:e,pathname:t}){return t==="/"?e:Za([e,t])}function $te(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ec(e):e;return{pathname:n?n.startsWith("/")?n:qte(n,t):t,search:Yte(r),hash:Xte(i)}}function qte(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yR(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wx(e){let t=XU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function $x(e,t,n,r=!1){let i;typeof e=="string"?i=Ec(e):(i={...e},Jt(!i.pathname||!i.pathname.includes("?"),yR("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),yR("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),yR("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=$te(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Za=e=>e.join("/").replace(/\/\/+/g,"/"),Kte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,fS=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function fv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var QU=["POST","PUT","PATCH","DELETE"],Qte=new Set(QU),Zte=["GET",...QU],Jte=new Set(Zte),ene=new Set([301,302,303,307,308]),tne=new Set([307,308]),CR={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$m={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nF=e=>rne.test(e),ine=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ZU="remix-router-transitions",JU=Symbol("ResetLoaderData");function sne(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Jt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||ine,s={},o=hv(e.routes,i,void 0,s),a,l=e.basename||"/",c=e.dataStrategy||une,d={unstable_middleware:!1,...e.future},f=null,p=new Set,m=null,y=null,C=null,b=e.hydrationData!=null,x=uu(o,e.history.location,l),R=!1,E=null,F;if(x==null&&!e.patchRoutesOnNavigation){let de=Oo(404,{pathname:e.history.location.pathname}),{matches:be,route:Ee}=pB(o);F=!0,x=be,E={[Ee.id]:de}}else if(x&&!e.hydrationData&&vi(x,o,e.history.location.pathname).active&&(x=null),x)if(x.some(de=>de.route.lazy))F=!1;else if(!x.some(de=>de.route.loader))F=!0;else{let de=e.hydrationData?e.hydrationData.loaderData:null,be=e.hydrationData?e.hydrationData.errors:null;if(be){let Ee=x.findIndex(Ue=>be[Ue.route.id]!==void 0);F=x.slice(0,Ee+1).every(Ue=>!S_(Ue.route,de,be))}else F=x.every(Ee=>!S_(Ee.route,de,be))}else{F=!1,x=[];let de=vi(null,o,e.history.location.pathname);de.active&&de.matches&&(R=!0,x=de.matches)}let I,_={historyAction:e.history.action,location:e.history.location,matches:x,initialized:F,navigation:CR,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},D="POP",P=!1,k,B=!1,N=new Map,V=null,G=!1,oe=!1,le=new Set,J=new Map,se=0,he=-1,ne=new Map,L=new Set,ae=new Map,W=new Map,H=new Set,X=new Map,ie,fe=null;function Be(){if(f=e.history.listen(({action:de,location:be,delta:Ee})=>{if(ie){ie(),ie=void 0;return}mr(X.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ue=Sr({currentLocation:_.location,nextLocation:be,historyAction:de});if(Ue&&Ee!=null){let Ye=new Promise(ht=>{ie=ht});e.history.go(Ee*-1),br(Ue,{state:"blocked",location:be,proceed(){br(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Ye.then(()=>e.history.go(Ee))},reset(){let ht=new Map(_.blockers);ht.set(Ue,$m),Fe({blockers:ht})}});return}return ze(de,be)}),n){bne(t,N);let de=()=>Sne(t,N);t.addEventListener("pagehide",de),V=()=>t.removeEventListener("pagehide",de)}return _.initialized||ze("POP",_.location,{initialHydration:!0}),I}function Ne(){f&&f(),V&&V(),p.clear(),k&&k.abort(),_.fetchers.forEach((de,be)=>lt(be)),_.blockers.forEach((de,be)=>qn(be))}function Ie(de){return p.add(de),()=>p.delete(de)}function Fe(de,be={}){de.matches&&(de.matches=de.matches.map(Ye=>{let ht=s[Ye.route.id],vt=Ye.route;return vt.element!==ht.element||vt.errorElement!==ht.errorElement||vt.hydrateFallbackElement!==ht.hydrateFallbackElement?{...Ye,route:ht}:Ye})),_={..._,...de};let Ee=[],Ue=[];_.fetchers.forEach((Ye,ht)=>{Ye.state==="idle"&&(H.has(ht)?Ee.push(ht):Ue.push(ht))}),H.forEach(Ye=>{!_.fetchers.has(Ye)&&!J.has(Ye)&&Ee.push(Ye)}),[...p].forEach(Ye=>Ye(_,{deletedFetchers:Ee,viewTransitionOpts:be.viewTransitionOpts,flushSync:be.flushSync===!0})),Ee.forEach(Ye=>lt(Ye)),Ue.forEach(Ye=>_.fetchers.delete(Ye))}function rt(de,be,{flushSync:Ee}={}){let Ue=_.actionData!=null&&_.navigation.formMethod!=null&&Rs(_.navigation.formMethod)&&_.navigation.state==="loading"&&de.state?._isRedirect!==!0,Ye;be.actionData?Object.keys(be.actionData).length>0?Ye=be.actionData:Ye=null:Ue?Ye=_.actionData:Ye=null;let ht=be.loaderData?hB(_.loaderData,be.loaderData,be.matches||[],be.errors):_.loaderData,vt=_.blockers;vt.size>0&&(vt=new Map(vt),vt.forEach((q,K)=>vt.set(K,$m)));let pt=G?!1:Ns(de,be.matches||_.matches),j=P===!0||_.navigation.formMethod!=null&&Rs(_.navigation.formMethod)&&de.state?._isRedirect!==!0;a&&(o=a,a=void 0),G||D==="POP"||(D==="PUSH"?e.history.push(de,de.state):D==="REPLACE"&&e.history.replace(de,de.state));let Q;if(D==="POP"){let q=N.get(_.location.pathname);q&&q.has(de.pathname)?Q={currentLocation:_.location,nextLocation:de}:N.has(de.pathname)&&(Q={currentLocation:de,nextLocation:_.location})}else if(B){let q=N.get(_.location.pathname);q?q.add(de.pathname):(q=new Set([de.pathname]),N.set(_.location.pathname,q)),Q={currentLocation:_.location,nextLocation:de}}Fe({...be,actionData:Ye,loaderData:ht,historyAction:D,location:de,initialized:!0,navigation:CR,revalidation:"idle",restoreScrollPosition:pt,preventScrollReset:j,blockers:vt},{viewTransitionOpts:Q,flushSync:Ee===!0}),D="POP",P=!1,B=!1,G=!1,oe=!1,fe?.resolve(),fe=null}async function re(de,be){if(typeof de=="number"){e.history.go(de);return}let Ee=b_(_.location,_.matches,l,de,be?.fromRouteId,be?.relative),{path:Ue,submission:Ye,error:ht}=rB(!1,Ee,be),vt=_.location,pt=dv(_.location,Ue,be&&be.state);pt={...pt,...e.history.encodeLocation(pt)};let j=be&&be.replace!=null?be.replace:void 0,Q="PUSH";j===!0?Q="REPLACE":j===!1||Ye!=null&&Rs(Ye.formMethod)&&Ye.formAction===_.location.pathname+_.location.search&&(Q="REPLACE");let q=be&&"preventScrollReset"in be?be.preventScrollReset===!0:void 0,K=(be&&be.flushSync)===!0,ee=Sr({currentLocation:vt,nextLocation:pt,historyAction:Q});if(ee){br(ee,{state:"blocked",location:pt,proceed(){br(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:pt}),re(de,be)},reset(){let te=new Map(_.blockers);te.set(ee,$m),Fe({blockers:te})}});return}await ze(Q,pt,{submission:Ye,pendingError:ht,preventScrollReset:q,replace:be&&be.replace,enableViewTransition:be&&be.viewTransition,flushSync:K})}function bt(){fe||(fe=xne()),wn(),Fe({revalidation:"loading"});let de=fe.promise;return _.navigation.state==="submitting"?de:_.navigation.state==="idle"?(ze(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),de):(ze(D||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:B===!0}),de)}async function ze(de,be,Ee){k&&k.abort(),k=null,D=de,G=(Ee&&Ee.startUninterruptedRevalidation)===!0,Ls(_.location,_.matches),P=(Ee&&Ee.preventScrollReset)===!0,B=(Ee&&Ee.enableViewTransition)===!0;let Ue=a||o,Ye=Ee&&Ee.overrideNavigation,ht=Ee?.initialHydration&&_.matches&&_.matches.length>0&&!R?_.matches:uu(Ue,be,l),vt=(Ee&&Ee.flushSync)===!0;if(ht&&_.initialized&&!oe&&mne(_.location,be)&&!(Ee&&Ee.submission&&Rs(Ee.submission.formMethod))){rt(be,{matches:ht},{flushSync:vt});return}let pt=vi(ht,Ue,be.pathname);if(pt.active&&pt.matches&&(ht=pt.matches),!ht){let{error:_e,notFoundMatches:me,route:ye}=fo(be.pathname);rt(be,{matches:me,loaderData:{},errors:{[ye.id]:_e}},{flushSync:vt});return}k=new AbortController;let j=Jf(e.history,be,k.signal,Ee&&Ee.submission),Q=new tB(e.unstable_getContext?await e.unstable_getContext():void 0),q;if(Ee&&Ee.pendingError)q=[Ud(ht).route.id,{type:"error",error:Ee.pendingError}];else if(Ee&&Ee.submission&&Rs(Ee.submission.formMethod)){let _e=await Xe(j,be,Ee.submission,ht,Q,pt.active,Ee&&Ee.initialHydration===!0,{replace:Ee.replace,flushSync:vt});if(_e.shortCircuited)return;if(_e.pendingActionResult){let[me,ye]=_e.pendingActionResult;if(qs(ye)&&fv(ye.error)&&ye.error.status===404){k=null,rt(be,{matches:_e.matches,loaderData:{},errors:{[me]:ye.error}});return}}ht=_e.matches||ht,q=_e.pendingActionResult,Ye=wR(be,Ee.submission),vt=!1,pt.active=!1,j=Jf(e.history,j.url,j.signal)}let{shortCircuited:K,matches:ee,loaderData:te,errors:Ce}=await Ze(j,be,ht,Q,pt.active,Ye,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,vt,q);K||(k=null,rt(be,{matches:ee||ht,...fB(q),loaderData:te,errors:Ce}))}async function Xe(de,be,Ee,Ue,Ye,ht,vt,pt={}){wn();let j=Cne(be,Ee);if(Fe({navigation:j},{flushSync:pt.flushSync===!0}),ht){let K=await po(Ue,be.pathname,de.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let ee=Ud(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[ee,{type:"error",error:K.error}]}}else if(K.matches)Ue=K.matches;else{let{notFoundMatches:ee,error:te,route:Ce}=fo(be.pathname);return{matches:ee,pendingActionResult:[Ce.id,{type:"error",error:te}]}}}let Q,q=Pb(Ue,be);if(!q.route.action&&!q.route.lazy)Q={type:"error",error:Oo(405,{method:de.method,pathname:be.pathname,routeId:q.route.id})};else{let K=vp(i,s,de,Ue,q,vt?[]:r,Ye),ee=await Gt(de,K,Ye,null);if(Q=ee[q.route.id],!Q){for(let te of Ue)if(ee[te.route.id]){Q=ee[te.route.id];break}}if(de.signal.aborted)return{shortCircuited:!0}}if(Wd(Q)){let K;return pt&&pt.replace!=null?K=pt.replace:K=cB(Q.response.headers.get("Location"),new URL(de.url),l)===_.location.pathname+_.location.search,await It(de,Q,!0,{submission:Ee,replace:K}),{shortCircuited:!0}}if(qs(Q)){let K=Ud(Ue,q.route.id);return(pt&&pt.replace)!==!0&&(D="PUSH"),{matches:Ue,pendingActionResult:[K.route.id,Q,q.route.id]}}return{matches:Ue,pendingActionResult:[q.route.id,Q]}}async function Ze(de,be,Ee,Ue,Ye,ht,vt,pt,j,Q,q,K){let ee=ht||wR(be,vt),te=vt||pt||mB(ee),Ce=!G&&!Q;if(Ye){if(Ce){let _n=ke(K);Fe({navigation:ee,..._n!==void 0?{actionData:_n}:{}},{flushSync:q})}let yt=await po(Ee,be.pathname,de.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){let _n=Ud(yt.partialMatches).route.id;return{matches:yt.partialMatches,loaderData:{},errors:{[_n]:yt.error}}}else if(yt.matches)Ee=yt.matches;else{let{error:_n,notFoundMatches:Ji,route:xr}=fo(be.pathname);return{matches:Ji,loaderData:{},errors:{[xr.id]:_n}}}}let _e=a||o,{dsMatches:me,revalidatingFetchers:ye}=iB(de,Ue,i,s,e.history,_,Ee,te,be,Q?[]:r,Q===!0,oe,le,H,ae,L,_e,l,e.patchRoutesOnNavigation!=null,K);if(he=++se,!e.dataStrategy&&!me.some(yt=>yt.shouldLoad)&&ye.length===0){let yt=Yt();return rt(be,{matches:Ee,loaderData:{},errors:K&&qs(K[1])?{[K[0]]:K[1].error}:null,...fB(K),...yt?{fetchers:new Map(_.fetchers)}:{}},{flushSync:q}),{shortCircuited:!0}}if(Ce){let yt={};if(!Ye){yt.navigation=ee;let _n=ke(K);_n!==void 0&&(yt.actionData=_n)}ye.length>0&&(yt.fetchers=ct(ye)),Fe(yt,{flushSync:q})}ye.forEach(yt=>{Ut(yt.key),yt.controller&&J.set(yt.key,yt.controller)});let Te=()=>ye.forEach(yt=>Ut(yt.key));k&&k.signal.addEventListener("abort",Te);let{loaderResults:We,fetcherResults:Qe}=await $t(me,ye,de,Ue);if(de.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Te),ye.forEach(yt=>J.delete(yt.key));let ot=Ow(We);if(ot)return await It(de,ot.result,!0,{replace:j}),{shortCircuited:!0};if(ot=Ow(Qe),ot)return L.add(ot.key),await It(de,ot.result,!0,{replace:j}),{shortCircuited:!0};let{loaderData:Je,errors:tt}=dB(_,Ee,We,K,ye,Qe);Q&&_.errors&&(tt={..._.errors,...tt});let Tt=Yt(),en=er(he),Xt=Tt||en||ye.length>0;return{matches:Ee,loaderData:Je,errors:tt,...Xt?{fetchers:new Map(_.fetchers)}:{}}}function ke(de){if(de&&!qs(de[1]))return{[de[0]]:de[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function ct(de){return de.forEach(be=>{let Ee=_.fetchers.get(be.key),Ue=qm(void 0,Ee?Ee.data:void 0);_.fetchers.set(be.key,Ue)}),new Map(_.fetchers)}async function At(de,be,Ee,Ue){Ut(de);let Ye=(Ue&&Ue.flushSync)===!0,ht=a||o,vt=b_(_.location,_.matches,l,Ee,be,Ue?.relative),pt=uu(ht,vt,l),j=vi(pt,ht,vt);if(j.active&&j.matches&&(pt=j.matches),!pt){Oe(de,be,Oo(404,{pathname:vt}),{flushSync:Ye});return}let{path:Q,submission:q,error:K}=rB(!0,vt,Ue);if(K){Oe(de,be,K,{flushSync:Ye});return}let ee=new tB(e.unstable_getContext?await e.unstable_getContext():void 0),te=(Ue&&Ue.preventScrollReset)===!0;if(q&&Rs(q.formMethod)){await mt(de,be,Q,pt,ee,j.active,Ye,te,q);return}ae.set(de,{routeId:be,path:Q}),await _t(de,be,Q,pt,ee,j.active,Ye,te,q)}async function mt(de,be,Ee,Ue,Ye,ht,vt,pt,j){wn(),ae.delete(de);let Q=_.fetchers.get(de);ve(de,wne(j,Q),{flushSync:vt});let q=new AbortController,K=Jf(e.history,Ee,q.signal,j);if(ht){let cn=await po(Ue,new URL(K.url).pathname,K.signal,de);if(cn.type==="aborted")return;if(cn.type==="error"){Oe(de,be,cn.error,{flushSync:vt});return}else if(cn.matches)Ue=cn.matches;else{Oe(de,be,Oo(404,{pathname:Ee}),{flushSync:vt});return}}let ee=Pb(Ue,Ee);if(!ee.route.action&&!ee.route.lazy){let cn=Oo(405,{method:j.formMethod,pathname:Ee,routeId:be});Oe(de,be,cn,{flushSync:vt});return}J.set(de,q);let te=se,Ce=vp(i,s,K,Ue,ee,r,Ye),me=(await Gt(K,Ce,Ye,de))[ee.route.id];if(K.signal.aborted){J.get(de)===q&&J.delete(de);return}if(H.has(de)){if(Wd(me)||qs(me)){ve(de,ou(void 0));return}}else{if(Wd(me))if(J.delete(de),he>te){ve(de,ou(void 0));return}else return L.add(de),ve(de,qm(j)),It(K,me,!1,{fetcherSubmission:j,preventScrollReset:pt});if(qs(me)){Oe(de,be,me.error);return}}let ye=_.navigation.location||_.location,Te=Jf(e.history,ye,q.signal),We=a||o,Qe=_.navigation.state!=="idle"?uu(We,_.navigation.location,l):_.matches;Jt(Qe,"Didn't find any matches after fetcher action");let ot=++se;ne.set(de,ot);let Je=qm(j,me.data);_.fetchers.set(de,Je);let{dsMatches:tt,revalidatingFetchers:Tt}=iB(Te,Ye,i,s,e.history,_,Qe,j,ye,r,!1,oe,le,H,ae,L,We,l,e.patchRoutesOnNavigation!=null,[ee.route.id,me]);Tt.filter(cn=>cn.key!==de).forEach(cn=>{let es=cn.key,ni=_.fetchers.get(es),Dc=qm(void 0,ni?ni.data:void 0);_.fetchers.set(es,Dc),Ut(es),cn.controller&&J.set(es,cn.controller)}),Fe({fetchers:new Map(_.fetchers)});let en=()=>Tt.forEach(cn=>Ut(cn.key));q.signal.addEventListener("abort",en);let{loaderResults:Xt,fetcherResults:yt}=await $t(tt,Tt,Te,Ye);if(q.signal.aborted)return;if(q.signal.removeEventListener("abort",en),ne.delete(de),J.delete(de),Tt.forEach(cn=>J.delete(cn.key)),_.fetchers.has(de)){let cn=ou(me.data);_.fetchers.set(de,cn)}let _n=Ow(Xt);if(_n)return It(Te,_n.result,!1,{preventScrollReset:pt});if(_n=Ow(yt),_n)return L.add(_n.key),It(Te,_n.result,!1,{preventScrollReset:pt});let{loaderData:Ji,errors:xr}=dB(_,Qe,Xt,void 0,Tt,yt);er(ot),_.navigation.state==="loading"&&ot>he?(Jt(D,"Expected pending action"),k&&k.abort(),rt(_.navigation.location,{matches:Qe,loaderData:Ji,errors:xr,fetchers:new Map(_.fetchers)})):(Fe({errors:xr,loaderData:hB(_.loaderData,Ji,Qe,xr),fetchers:new Map(_.fetchers)}),oe=!1)}async function _t(de,be,Ee,Ue,Ye,ht,vt,pt,j){let Q=_.fetchers.get(de);ve(de,qm(j,Q?Q.data:void 0),{flushSync:vt});let q=new AbortController,K=Jf(e.history,Ee,q.signal);if(ht){let ye=await po(Ue,new URL(K.url).pathname,K.signal,de);if(ye.type==="aborted")return;if(ye.type==="error"){Oe(de,be,ye.error,{flushSync:vt});return}else if(ye.matches)Ue=ye.matches;else{Oe(de,be,Oo(404,{pathname:Ee}),{flushSync:vt});return}}let ee=Pb(Ue,Ee);J.set(de,q);let te=se,Ce=vp(i,s,K,Ue,ee,r,Ye),me=(await Gt(K,Ce,Ye,de))[ee.route.id];if(J.get(de)===q&&J.delete(de),!K.signal.aborted){if(H.has(de)){ve(de,ou(void 0));return}if(Wd(me))if(he>te){ve(de,ou(void 0));return}else{L.add(de),await It(K,me,!1,{preventScrollReset:pt});return}if(qs(me)){Oe(de,be,me.error);return}ve(de,ou(me.data))}}async function It(de,be,Ee,{submission:Ue,fetcherSubmission:Ye,preventScrollReset:ht,replace:vt}={}){be.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let pt=be.response.headers.get("Location");Jt(pt,"Expected a Location header on the redirect Response"),pt=cB(pt,new URL(de.url),l);let j=dv(_.location,pt,{_isRedirect:!0});if(n){let Ce=!1;if(be.response.headers.has("X-Remix-Reload-Document"))Ce=!0;else if(nF(pt)){const _e=qU(pt,!0);Ce=_e.origin!==t.location.origin||Wo(_e.pathname,l)==null}if(Ce){vt?t.location.replace(pt):t.location.assign(pt);return}}k=null;let Q=vt===!0||be.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:q,formAction:K,formEncType:ee}=_.navigation;!Ue&&!Ye&&q&&K&&ee&&(Ue=mB(_.navigation));let te=Ue||Ye;if(tne.has(be.response.status)&&te&&Rs(te.formMethod))await ze(Q,j,{submission:{...te,formAction:pt},preventScrollReset:ht||P,enableViewTransition:Ee?B:void 0});else{let Ce=wR(j,Ue);await ze(Q,j,{overrideNavigation:Ce,fetcherSubmission:Ye,preventScrollReset:ht||P,enableViewTransition:Ee?B:void 0})}}async function Gt(de,be,Ee,Ue){let Ye,ht={};try{Ye=await dne(c,de,be,Ue,Ee,!1)}catch(vt){return be.filter(pt=>pt.shouldLoad).forEach(pt=>{ht[pt.route.id]={type:"error",error:vt}}),ht}if(de.signal.aborted)return ht;for(let[vt,pt]of Object.entries(Ye))if(vne(pt)){let j=pt.result;ht[vt]={type:"redirect",response:pne(j,de,vt,be,l)}}else ht[vt]=await fne(pt);return ht}async function $t(de,be,Ee,Ue){let Ye=Gt(Ee,de,Ue,null),ht=Promise.all(be.map(async j=>{if(j.matches&&j.match&&j.request&&j.controller){let q=(await Gt(j.request,j.matches,Ue,j.key))[j.match.route.id];return{[j.key]:q}}else return Promise.resolve({[j.key]:{type:"error",error:Oo(404,{pathname:j.path})}})})),vt=await Ye,pt=(await ht).reduce((j,Q)=>Object.assign(j,Q),{});return{loaderResults:vt,fetcherResults:pt}}function wn(){oe=!0,ae.forEach((de,be)=>{J.has(be)&&le.add(be),Ut(be)})}function ve(de,be,Ee={}){_.fetchers.set(de,be),Fe({fetchers:new Map(_.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Oe(de,be,Ee,Ue={}){let Ye=Ud(_.matches,be);lt(de),Fe({errors:{[Ye.route.id]:Ee},fetchers:new Map(_.fetchers)},{flushSync:(Ue&&Ue.flushSync)===!0})}function Ke(de){return W.set(de,(W.get(de)||0)+1),H.has(de)&&H.delete(de),_.fetchers.get(de)||nne}function lt(de){let be=_.fetchers.get(de);J.has(de)&&!(be&&be.state==="loading"&&ne.has(de))&&Ut(de),ae.delete(de),ne.delete(de),L.delete(de),H.delete(de),le.delete(de),_.fetchers.delete(de)}function dt(de){let be=(W.get(de)||0)-1;be<=0?(W.delete(de),H.add(de)):W.set(de,be),Fe({fetchers:new Map(_.fetchers)})}function Ut(de){let be=J.get(de);be&&(be.abort(),J.delete(de))}function xn(de){for(let be of de){let Ee=Ke(be),Ue=ou(Ee.data);_.fetchers.set(be,Ue)}}function Yt(){let de=[],be=!1;for(let Ee of L){let Ue=_.fetchers.get(Ee);Jt(Ue,`Expected fetcher: ${Ee}`),Ue.state==="loading"&&(L.delete(Ee),de.push(Ee),be=!0)}return xn(de),be}function er(de){let be=[];for(let[Ee,Ue]of ne)if(Ue<de){let Ye=_.fetchers.get(Ee);Jt(Ye,`Expected fetcher: ${Ee}`),Ye.state==="loading"&&(Ut(Ee),ne.delete(Ee),be.push(Ee))}return xn(be),be.length>0}function dr(de,be){let Ee=_.blockers.get(de)||$m;return X.get(de)!==be&&X.set(de,be),Ee}function qn(de){_.blockers.delete(de),X.delete(de)}function br(de,be){let Ee=_.blockers.get(de)||$m;Jt(Ee.state==="unblocked"&&be.state==="blocked"||Ee.state==="blocked"&&be.state==="blocked"||Ee.state==="blocked"&&be.state==="proceeding"||Ee.state==="blocked"&&be.state==="unblocked"||Ee.state==="proceeding"&&be.state==="unblocked",`Invalid blocker state transition: ${Ee.state} -> ${be.state}`);let Ue=new Map(_.blockers);Ue.set(de,be),Fe({blockers:Ue})}function Sr({currentLocation:de,nextLocation:be,historyAction:Ee}){if(X.size===0)return;X.size>1&&mr(!1,"A router only supports one blocker at a time");let Ue=Array.from(X.entries()),[Ye,ht]=Ue[Ue.length-1],vt=_.blockers.get(Ye);if(!(vt&&vt.state==="proceeding")&&ht({currentLocation:de,nextLocation:be,historyAction:Ee}))return Ye}function fo(de){let be=Oo(404,{pathname:de}),Ee=a||o,{matches:Ue,route:Ye}=pB(Ee);return{notFoundMatches:Ue,route:Ye,error:be}}function Ea(de,be,Ee){if(m=de,C=be,y=Ee||null,!b&&_.navigation===CR){b=!0;let Ue=Ns(_.location,_.matches);Ue!=null&&Fe({restoreScrollPosition:Ue})}return()=>{m=null,C=null,y=null}}function ys(de,be){return y&&y(de,be.map(Ue=>kte(Ue,_.loaderData)))||de.key}function Ls(de,be){if(m&&C){let Ee=ys(de,be);m[Ee]=C()}}function Ns(de,be){if(m){let Ee=ys(de,be),Ue=m[Ee];if(typeof Ue=="number")return Ue}return null}function vi(de,be,Ee){if(e.patchRoutesOnNavigation)if(de){if(Object.keys(de[0].params).length>0)return{active:!0,matches:Db(be,Ee,l,!0)}}else return{active:!0,matches:Db(be,Ee,l,!0)||[]};return{active:!1,matches:null}}async function po(de,be,Ee,Ue){if(!e.patchRoutesOnNavigation)return{type:"success",matches:de};let Ye=de;for(;;){let ht=a==null,vt=a||o,pt=s;try{await e.patchRoutesOnNavigation({signal:Ee,path:be,matches:Ye,fetcherKey:Ue,patch:(q,K)=>{Ee.aborted||sB(q,K,vt,pt,i,!1)}})}catch(q){return{type:"error",error:q,partialMatches:Ye}}finally{ht&&!Ee.aborted&&(o=[...o])}if(Ee.aborted)return{type:"aborted"};let j=uu(vt,be,l);if(j)return{type:"success",matches:j};let Q=Db(vt,be,l,!0);if(!Q||Ye.length===Q.length&&Ye.every((q,K)=>q.route.id===Q[K].route.id))return{type:"success",matches:null};Ye=Q}}function go(de){s={},a=hv(de,i,void 0,s)}function Ta(de,be,Ee=!1){let Ue=a==null;sB(de,be,a||o,s,i,Ee),Ue&&(o=[...o],Fe({}))}return I={get basename(){return l},get future(){return d},get state(){return _},get routes(){return o},get window(){return t},initialize:Be,subscribe:Ie,enableScrollRestoration:Ea,navigate:re,fetch:At,revalidate:bt,createHref:de=>e.history.createHref(de),encodeLocation:de=>e.history.encodeLocation(de),getFetcher:Ke,deleteFetcher:dt,dispose:Ne,getBlocker:dr,deleteBlocker:qn,patchRoutes:Ta,_internalFetchControllers:J,_internalSetRoutes:go,_internalSetStateDoNotUseOrYouWillBreakYourApp(de){Fe(de)}},I}function one(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function b_(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=$x(r||".",Wx(o),Wo(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=rF(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let d=new URLSearchParams(l.search),f=d.getAll("index");d.delete("index"),f.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=Wte({basename:n,pathname:l.pathname})),ku(l)}function rB(e,t,n){if(!n||!one(n))return{path:t};if(n.formMethod&&!yne(n.formMethod))return{path:t,error:Oo(405,{method:n.formMethod})};let r=()=>({path:t,error:Oo(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=sz(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Rs(s))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,y])=>`${p}${m}=${y}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Rs(s))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}Jt(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=E_(n.formData),l=n.formData;else if(n.body instanceof FormData)a=E_(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=uB(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=uB(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Rs(c.formMethod))return{path:t,submission:c};let d=Ec(t);return e&&d.search&&rF(d.search)&&a.append("index",""),d.search=`?${a}`,{path:ku(d),submission:c}}function iB(e,t,n,r,i,s,o,a,l,c,d,f,p,m,y,C,b,x,R,E){let F=E?qs(E[1])?E[1].error:E[1].data:void 0,I=i.createURL(s.location),_=i.createURL(l),D;if(d&&s.errors){let G=Object.keys(s.errors)[0];D=o.findIndex(oe=>oe.route.id===G)}else if(E&&qs(E[1])){let G=E[0];D=o.findIndex(oe=>oe.route.id===G)-1}let P=E?E[1].statusCode:void 0,k=P&&P>=400,B={currentUrl:I,currentParams:s.matches[0]?.params||{},nextUrl:_,nextParams:o[0].params,...a,actionResult:F,actionStatus:P},N=o.map((G,oe)=>{let{route:le}=G,J=null;if(D!=null&&oe>D?J=!1:le.lazy?J=!0:le.loader==null?J=!1:d?J=S_(le,s.loaderData,s.errors):ane(s.loaderData,s.matches[oe],G)&&(J=!0),J!==null)return x_(n,r,e,G,c,t,J);let se=k?!1:f||I.pathname+I.search===_.pathname+_.search||I.search!==_.search||lne(s.matches[oe],G),he={...B,defaultShouldRevalidate:se},ne=pS(G,he);return x_(n,r,e,G,c,t,ne,he)}),V=[];return y.forEach((G,oe)=>{if(d||!o.some(W=>W.route.id===G.routeId)||m.has(oe))return;let le=s.fetchers.get(oe),J=le&&le.state!=="idle"&&le.data===void 0,se=uu(b,G.path,x);if(!se){if(R&&J)return;V.push({key:oe,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(C.has(oe))return;let he=Pb(se,G.path),ne=new AbortController,L=Jf(i,G.path,ne.signal),ae=null;if(p.has(oe))p.delete(oe),ae=vp(n,r,L,se,he,c,t);else if(J)f&&(ae=vp(n,r,L,se,he,c,t));else{let W={...B,defaultShouldRevalidate:k?!1:f};pS(he,W)&&(ae=vp(n,r,L,se,he,c,t,W))}ae&&V.push({key:oe,routeId:G.routeId,path:G.path,matches:ae,match:he,request:L,controller:ne})}),{dsMatches:N,revalidatingFetchers:V}}function S_(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function ane(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function lne(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function pS(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function sB(e,t,n,r,i,s){let o;if(e){let c=r[e];Jt(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let d=o.find(f=>ez(c,f));d?l.push({existingRoute:d,newRoute:c}):a.push(c)}),a.length>0){let c=hv(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:d,newRoute:f}=l[c],p=d,[m]=hv([f],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function ez(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>ez(n,i))):!1}var oB=new WeakMap,tz=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Jt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=oB.get(i);o||(o={},oB.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=_te(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)mr(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(f)mr(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await s();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},aB=new WeakMap;function cne(e,t,n,r,i){let s=n[e.id];if(Jt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=aB.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{Jt(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let y in p){let C=p[y];if(C===void 0)continue;let b=Pte(y),R=s[y]!==void 0&&y!=="hasErrorBoundary";b?mr(!b,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?mr(!R,`Route "${s.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=C}Object.assign(s,m),Object.assign(s,{...r(s),lazy:void 0})})();return aB.set(s,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(e.lazy),a=[],l;for(let d of o){if(i&&i.includes(d))continue;let f=tz({key:d,route:e,manifest:n,mapRouteProperties:r});f&&(a.push(f),d===t&&(l=f))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function lB(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function une(e){return e.matches.some(t=>t.route.unstable_middleware)?nz(e,!1,()=>lB(e),(t,n)=>({[n]:{type:"error",result:t}})):lB(e)}async function nz(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let c=i.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(p=>[f.route.id,p]):[]),d=await rz({request:s,params:o,context:a},c,t,l,n);return t?d:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let d=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,d):d}}async function rz(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,c]=a,d=!1,f,p=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await rz(e,t,n,r,i,s+1)};try{let m=await c({request:e.request,params:e.params,context:e.context},p);return d?m===void 0?f:m:p()}catch(m){throw r.middlewareError?r.middlewareError.error!==m&&(r.middlewareError={routeId:l,error:m}):r.middlewareError={routeId:l,error:m},m}}function iz(e,t,n,r,i){let s=tz({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=cne(r.route,Rs(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function x_(e,t,n,r,i,s,o,a=null){let l=!1,c=iz(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(d){return l=!0,a?typeof d=="boolean"?pS(r,{...a,defaultShouldRevalidate:d}):pS(r,a):o},resolve(d){return l||o||d&&!Rs(n.method)&&(r.route.lazy||r.route.loader)?hne({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:d,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function vp(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:iz(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:x_(e,t,n,l,s,o,!0,a))}async function dne(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let d=o;return nz(d,!1,()=>c({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(f,p)=>({[p]:{type:"error",result:f}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function hne({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=Rs(e.method),c=l?"action":"loader",d=f=>{let p,m=new Promise((b,x)=>p=x);a=()=>p(),e.signal.addEventListener("abort",a);let y=b=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:s},...b!==void 0?[b]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(x=>y(x)):y())}}catch(b){return{type:"error",result:b}}})();return Promise.race([C,m])};try{let f=l?t.route.action:t.route.loader;if(n||r)if(f){let p,[m]=await Promise.all([d(f).catch(y=>{p=y}),n,r]);if(p!==void 0)throw p;o=m}else{await n;let p=l?t.route.action:t.route.loader;if(p)[o]=await Promise.all([d(p),r]);else if(c==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw Oo(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(f)o=await d(f);else{let p=new URL(e.url),m=p.pathname+p.search;throw Oo(404,{pathname:m})}}catch(f){return{type:"error",result:f}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function fne(e){let{result:t,type:n}=e;if(oz(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new fS(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?gB(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new fS(t.init?.status||500,void 0,t.data),statusCode:fv(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:fv(t)?t.status:void 0}:gB(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function pne(e,t,n,r,i){let s=e.headers.get("Location");if(Jt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!nF(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=b_(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function cB(e,t,n){if(nF(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Wo(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Jf(e,t,n,r){let i=e.createURL(sz(t)).toString(),s={signal:n};if(r&&Rs(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=E_(r.formData):s.body=r.formData}return new Request(i,s)}function E_(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function uB(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function gne(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},d=n&&qs(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let p=f.route.id,m=t[p];if(Jt(!Wd(m),"Cannot handle redirect results in processLoaderData"),qs(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),o=o||{},i)o[p]=y;else{let C=Ud(e,p);o[C.route.id]==null&&(o[C.route.id]=y)}r||(s[p]=JU),l||(l=!0,a=fv(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else s[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[p]=m.headers)}),d!==void 0&&n&&(o={[n[0]]:d},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function dB(e,t,n,r,i,s){let{loaderData:o,errors:a}=gne(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:d,controller:f}=l,p=s[c];if(Jt(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(qs(p)){let m=Ud(e.matches,d?.route.id);a&&a[m.route.id]||(a={...a,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(Wd(p))Jt(!1,"Unhandled fetcher revalidation redirect");else{let m=ou(p.data);e.fetchers.set(c,m)}}),{loaderData:o,errors:a}}function hB(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==JU).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function fB(e){return e?qs(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ud(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function pB(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Oo(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new fS(e||500,o,new Error(a),!0)}function Ow(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Wd(i))return{key:r,result:i}}}function sz(e){let t=typeof e=="string"?Ec(e):e;return ku({...t,hash:""})}function mne(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function vne(e){return oz(e.result)&&ene.has(e.result.status)}function qs(e){return e.type==="error"}function Wd(e){return(e&&e.type)==="redirect"}function gB(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function oz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function yne(e){return Jte.has(e.toUpperCase())}function Rs(e){return Qte.has(e.toUpperCase())}function rF(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Pb(e,t){let n=typeof t=="string"?Ec(t).search:t.search;if(e[e.length-1].route.index&&rF(n||""))return e[e.length-1];let r=XU(e);return r[r.length-1]}function mB(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function wR(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Cne(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function qm(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wne(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ou(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bne(e,t){try{let n=e.sessionStorage.getItem(ZU);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function Sne(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(ZU,JSON.stringify(n))}catch(r){mr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function xne(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Hh=T.createContext(null);Hh.displayName="DataRouter";var Ay=T.createContext(null);Ay.displayName="DataRouterState";T.createContext(!1);var iF=T.createContext({isTransitioning:!1});iF.displayName="ViewTransition";var az=T.createContext(new Map);az.displayName="Fetchers";var Ene=T.createContext(null);Ene.displayName="Await";var wa=T.createContext(null);wa.displayName="Navigation";var qx=T.createContext(null);qx.displayName="Location";var Zo=T.createContext({outlet:null,matches:[],isDataRoute:!1});Zo.displayName="Route";var sF=T.createContext(null);sF.displayName="RouteError";function Tne(e,{relative:t}={}){Jt(yg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(wa),{hash:i,pathname:s,search:o}=_y(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Za([n,s])),r.createHref({pathname:a,search:o,hash:i})}function yg(){return T.useContext(qx)!=null}function xl(){return Jt(yg(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(qx).location}var lz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cz(e){T.useContext(wa).static||T.useLayoutEffect(e)}function oF(){let{isDataRoute:e}=T.useContext(Zo);return e?Gne():Rne()}function Rne(){Jt(yg(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Hh),{basename:t,navigator:n}=T.useContext(wa),{matches:r}=T.useContext(Zo),{pathname:i}=xl(),s=JSON.stringify(Wx(r)),o=T.useRef(!1);return cz(()=>{o.current=!0}),T.useCallback((l,c={})=>{if(mr(o.current,lz),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=$x(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Za([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}var Ane=T.createContext(null);function _ne(e){let t=T.useContext(Zo).outlet;return t&&T.createElement(Ane.Provider,{value:e},t)}function Dne(){let{matches:e}=T.useContext(Zo),t=e[e.length-1];return t?t.params:{}}function _y(e,{relative:t}={}){let{matches:n}=T.useContext(Zo),{pathname:r}=xl(),i=JSON.stringify(Wx(n));return T.useMemo(()=>$x(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Pne(e,t,n,r){Jt(yg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(wa),{matches:s}=T.useContext(Zo),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let x=d&&d.path||"";uz(l,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=xl(),p;p=f;let m=p.pathname||"/",y=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=uu(e,{pathname:y});return mr(d||C!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),mr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),One(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Za([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Za([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r)}function Fne(){let e=Hne(),t=fv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,o)}var kne=T.createElement(Fne,null),Ine=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Zo.Provider,{value:this.props.routeContext},T.createElement(sF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mne({routeContext:e,match:t,children:n}){let r=T.useContext(Hh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Zo.Provider,{value:e},n)}function One(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);Jt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:f}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let f,p=!1,m=null,y=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||kne,o&&(a<0&&d===0?(uz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===d&&(p=!0,y=c.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,d+1)),b=()=>{let x;return f?x=m:p?x=y:c.route.Component?x=T.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=l,T.createElement(Mne,{match:c,routeContext:{outlet:l,matches:C,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?T.createElement(Ine,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):b()},null)}function aF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lne(e){let t=T.useContext(Hh);return Jt(t,aF(e)),t}function Nne(e){let t=T.useContext(Ay);return Jt(t,aF(e)),t}function Bne(e){let t=T.useContext(Zo);return Jt(t,aF(e)),t}function lF(e){let t=Bne(e),n=t.matches[t.matches.length-1];return Jt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Vne(){return lF("useRouteId")}function Hne(){let e=T.useContext(sF),t=Nne("useRouteError"),n=lF("useRouteError");return e!==void 0?e:t.errors?.[n]}function Gne(){let{router:e}=Lne("useNavigate"),t=lF("useNavigate"),n=T.useRef(!1);return cz(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{mr(n.current,lz),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var vB={};function uz(e,t,n){!t&&!vB[e]&&(vB[e]=!0,mr(!1,n))}var yB={};function CB(e,t){!e&&!yB[t]&&(yB[t]=!0,console.warn(t))}function Une(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&mr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:T.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&mr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:T.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&mr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:T.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var zne=["HydrateFallback","hydrateFallbackElement"],jne=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Wne({router:e,flushSync:t}){let[n,r]=T.useState(e.state),[i,s]=T.useState(),[o,a]=T.useState({isTransitioning:!1}),[l,c]=T.useState(),[d,f]=T.useState(),[p,m]=T.useState(),y=T.useRef(new Map),C=T.useCallback((E,{deletedFetchers:F,flushSync:I,viewTransitionOpts:_})=>{E.fetchers.forEach((P,k)=>{P.data!==void 0&&y.current.set(k,P.data)}),F.forEach(P=>y.current.delete(P)),CB(I===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(CB(_==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!_||!D){t&&I?t(()=>r(E)):T.startTransition(()=>r(E));return}if(t&&I){t(()=>{d&&(l&&l.resolve(),d.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>r(E))});P.finished.finally(()=>{t(()=>{c(void 0),f(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>f(P));return}d?(l&&l.resolve(),d.skipTransition(),m({state:E,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(s(E),a({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[e.window,t,d,l]);T.useLayoutEffect(()=>e.subscribe(C),[e,C]),T.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new jne)},[o]),T.useEffect(()=>{if(l&&i&&e.window){let E=i,F=l.promise,I=e.window.document.startViewTransition(async()=>{T.startTransition(()=>r(E)),await F});I.finished.finally(()=>{c(void 0),f(void 0),s(void 0),a({isTransitioning:!1})}),f(I)}},[i,l,e.window]),T.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,d,n.location,i]),T.useEffect(()=>{!o.isTransitioning&&p&&(s(p.state),a({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[o.isTransitioning,p]);let b=T.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:E=>e.navigate(E),push:(E,F,I)=>e.navigate(E,{state:F,preventScrollReset:I?.preventScrollReset}),replace:(E,F,I)=>e.navigate(E,{replace:!0,state:F,preventScrollReset:I?.preventScrollReset})}),[e]),x=e.basename||"/",R=T.useMemo(()=>({router:e,navigator:b,static:!1,basename:x}),[e,b,x]);return T.createElement(T.Fragment,null,T.createElement(Hh.Provider,{value:R},T.createElement(Ay.Provider,{value:n},T.createElement(az.Provider,{value:y.current},T.createElement(iF.Provider,{value:o},T.createElement(Yne,{basename:x,location:n.location,navigationType:n.historyAction,navigator:b},T.createElement($ne,{routes:e.routes,future:e.future,state:n})))))),null)}var $ne=T.memo(qne);function qne({routes:e,future:t,state:n}){return Pne(e,void 0,n,t)}function yp({to:e,replace:t,state:n,relative:r}){Jt(yg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(wa);mr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Zo),{pathname:o}=xl(),a=oF(),l=$x(e,Wx(s),o,r==="path"),c=JSON.stringify(l);return T.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function Kne(e){return _ne(e.context)}function Yne({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Jt(!yg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ec(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,m=T.useMemo(()=>{let y=Wo(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:p},navigationType:r}},[o,l,c,d,f,p,r]);return mr(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:T.createElement(wa.Provider,{value:a},T.createElement(qx.Provider,{children:t,value:m}))}var Fb="get",kb="application/x-www-form-urlencoded";function Kx(e){return e!=null&&typeof e.tagName=="string"}function Xne(e){return Kx(e)&&e.tagName.toLowerCase()==="button"}function Qne(e){return Kx(e)&&e.tagName.toLowerCase()==="form"}function Zne(e){return Kx(e)&&e.tagName.toLowerCase()==="input"}function Jne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ere(e,t){return e.button===0&&(!t||t==="_self")&&!Jne(e)}var Lw=null;function tre(){if(Lw===null)try{new FormData(document.createElement("form"),0),Lw=!1}catch{Lw=!0}return Lw}var nre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bR(e){return e!=null&&!nre.has(e)?(mr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kb}"`),null):e}function rre(e,t){let n,r,i,s,o;if(Qne(e)){let a=e.getAttribute("action");r=a?Wo(a,t):null,n=e.getAttribute("method")||Fb,i=bR(e.getAttribute("enctype"))||kb,s=new FormData(e)}else if(Xne(e)||Zne(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Wo(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Fb,i=bR(e.getAttribute("formenctype"))||bR(a.getAttribute("enctype"))||kb,s=new FormData(a,e),!tre()){let{name:c,type:d,value:f}=e;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(Kx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fb,r=null,i=kb,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cF(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ire(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Wo(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ore(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function are(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await sre(s,n);return o.links?o.links():[]}return[]}));return dre(r.flat(1).filter(ore).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wB(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function lre(e,t,{includeHydrateFallback:n}={}){return cre(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function cre(e){return[...new Set(e)]}function ure(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function dre(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(ure(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function dz(){let e=T.useContext(Hh);return cF(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hre(){let e=T.useContext(Ay);return cF(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uF=T.createContext(void 0);uF.displayName="FrameworkContext";function hz(){let e=T.useContext(uF);return cF(e,"You must render this element inside a <HydratedRouter> element"),e}function fre(e,t){let n=T.useContext(uF),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,p=T.useRef(null);T.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let C=x=>{x.forEach(R=>{o(R.isIntersecting)})},b=new IntersectionObserver(C,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),T.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:Km(a,m),onBlur:Km(l,y),onMouseEnter:Km(c,m),onMouseLeave:Km(d,y),onTouchStart:Km(f,m)}]:[!1,p,{}]}function Km(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function pre({page:e,...t}){let{router:n}=dz(),r=T.useMemo(()=>uu(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(mre,{page:e,matches:r,...t}):null}function gre(e){let{manifest:t,routeModules:n}=hz(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return are(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function mre({page:e,matches:t,...n}){let r=xl(),{manifest:i,routeModules:s}=hz(),{basename:o}=dz(),{loaderData:a,matches:l}=hre(),c=T.useMemo(()=>wB(e,t,l,i,r,"data"),[e,t,l,i,r]),d=T.useMemo(()=>wB(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,C=!1;if(t.forEach(x=>{let R=i.routes[x.route.id];!R||!R.hasLoader||(!c.some(E=>E.route.id===x.route.id)&&x.route.id in a&&s[x.route.id]?.shouldRevalidate||R.hasClientLoader?C=!0:y.add(x.route.id))}),y.size===0)return[];let b=ire(e,o,"data");return C&&y.size>0&&b.searchParams.set("_routes",t.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[o,a,r,i,c,t,e,s]),p=T.useMemo(()=>lre(d,i),[d,i]),m=gre(d);return T.createElement(T.Fragment,null,f.map(y=>T.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>T.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:C})=>T.createElement("link",{key:y,...C})))}function vre(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fz&&(window.__reactRouterVersion="7.7.1")}catch{}function yre(e,t){return sne({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Ete({window:t?.window}),hydrationData:Cre(),routes:e,mapRouteProperties:Une,hydrationRouteProperties:zne,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function Cre(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:wre(e.errors)}),e}function wre(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new fS(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var pz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gz=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},m){let{basename:y}=T.useContext(wa),C=typeof c=="string"&&pz.test(c),b,x=!1;if(typeof c=="string"&&C&&(b=c,fz))try{let k=new URL(window.location.href),B=c.startsWith("//")?new URL(k.protocol+c):new URL(c),N=Wo(B.pathname,y);B.origin===k.origin&&N!=null?c=N+B.search+B.hash:x=!0}catch{mr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=Tne(c,{relative:i}),[E,F,I]=fre(r,p),_=Ere(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function D(k){t&&t(k),k.defaultPrevented||_(k)}let P=T.createElement("a",{...p,...I,href:b||R,onClick:x||s?t:D,ref:vre(m,F),target:l,"data-discover":!C&&n==="render"?"true":void 0});return E&&!C?T.createElement(T.Fragment,null,P,T.createElement(pre,{page:R})):P});gz.displayName="Link";var bre=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=_y(o,{relative:c.relative}),p=xl(),m=T.useContext(Ay),{navigator:y,basename:C}=T.useContext(wa),b=m!=null&&Dre(f)&&a===!0,x=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,R=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(R=R.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&C&&(E=Wo(E,C)||E);const F=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let I=R===x||!i&&R.startsWith(x)&&R.charAt(F)==="/",_=E!=null&&(E===x||!i&&E.startsWith(x)&&E.charAt(x.length)==="/"),D={isActive:I,isPending:_,isTransitioning:b},P=I?t:void 0,k;typeof r=="function"?k=r(D):k=[r,I?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(D):s;return T.createElement(gz,{...c,"aria-current":P,className:k,ref:d,style:B,to:o,viewTransition:a},typeof l=="function"?l(D):l)});bre.displayName="NavLink";var Sre=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Fb,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},m)=>{let y=Are(),C=_re(a,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&pz.test(a),R=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let F=E.nativeEvent.submitter,I=F?.getAttribute("formmethod")||o;y(F||E.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:m,method:b,action:C,onSubmit:r?l:R,...p,"data-discover":!x&&e==="render"?"true":void 0})});Sre.displayName="Form";function xre(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mz(e){let t=T.useContext(Hh);return Jt(t,xre(e)),t}function Ere(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=oF(),l=xl(),c=_y(e,{relative:s});return T.useCallback(d=>{if(ere(d,t)){d.preventDefault();let f=n!==void 0?n:ku(l)===ku(c);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var Tre=0,Rre=()=>`__${String(++Tre)}__`;function Are(){let{router:e}=mz("useSubmit"),{basename:t}=T.useContext(wa),n=Vne();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=rre(r,t);if(i.navigate===!1){let d=i.fetcherKey||Rre();await e.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function _re(e,{relative:t}={}){let{basename:n}=T.useContext(wa),r=T.useContext(Zo);Jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={..._y(e||".",{relative:t})},o=xl();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Za([n,s.pathname])),ku(s)}function Dre(e,{relative:t}={}){let n=T.useContext(iF);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mz("useViewTransitionState"),i=_y(e,{relative:t});if(!n.isTransitioning)return!1;let s=Wo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hS(i.pathname,o)!=null||hS(i.pathname,s)!=null}var Cg=WU();const yu=vg(Cg);function Pre(e){return T.createElement(Wne,{flushSync:Cg.flushSync,...e})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dr=function(){return Dr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Dr.apply(this,arguments)};function mh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Yi(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T_.apply(this,arguments)}function dF(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Fre=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kre=dF(function(e){return Fre.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Ire(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Mre(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Ore=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Mre(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Ire(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Vi="-ms-",gS="-moz-",Tn="-webkit-",vz="comm",hF="rule",fF="decl",Lre="@import",yz="@keyframes",Nre=Math.abs,Yx=String.fromCharCode,Bre=Object.assign;function Vre(e,t){return Ti(e,0)^45?(((t<<2^Ti(e,0))<<2^Ti(e,1))<<2^Ti(e,2))<<2^Ti(e,3):0}function Cz(e){return e.trim()}function Hre(e,t){return(e=t.exec(e))?e[0]:e}function Pn(e,t,n){return e.replace(t,n)}function R_(e,t){return e.indexOf(t)}function Ti(e,t){return e.charCodeAt(t)|0}function pv(e,t,n){return e.slice(t,n)}function ja(e){return e.length}function pF(e){return e.length}function Nw(e,t){return t.push(e),e}function Gre(e,t){return e.map(t).join("")}var Xx=1,Up=1,wz=0,ks=0,Ur=0,wg="";function Qx(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Xx,column:Up,length:o,return:""}}function Ym(e,t){return Bre(Qx("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ure(){return Ur}function zre(){return Ur=ks>0?Ti(wg,--ks):0,Up--,Ur===10&&(Up=1,Xx--),Ur}function io(){return Ur=ks<wz?Ti(wg,ks++):0,Up++,Ur===10&&(Up=1,Xx++),Ur}function Ja(){return Ti(wg,ks)}function Ib(){return ks}function Dy(e,t){return pv(wg,e,t)}function gv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bz(e){return Xx=Up=1,wz=ja(wg=e),ks=0,[]}function Sz(e){return wg="",e}function Mb(e){return Cz(Dy(ks-1,A_(e===91?e+2:e===40?e+1:e)))}function jre(e){for(;(Ur=Ja())&&Ur<33;)io();return gv(e)>2||gv(Ur)>3?"":" "}function Wre(e,t){for(;--t&&io()&&!(Ur<48||Ur>102||Ur>57&&Ur<65||Ur>70&&Ur<97););return Dy(e,Ib()+(t<6&&Ja()==32&&io()==32))}function A_(e){for(;io();)switch(Ur){case e:return ks;case 34:case 39:e!==34&&e!==39&&A_(Ur);break;case 40:e===41&&A_(e);break;case 92:io();break}return ks}function $re(e,t){for(;io()&&e+Ur!==57;)if(e+Ur===84&&Ja()===47)break;return"/*"+Dy(t,ks-1)+"*"+Yx(e===47?e:io())}function qre(e){for(;!gv(Ja());)io();return Dy(e,ks)}function bB(e){return Sz(Ob("",null,null,null,[""],e=bz(e),0,[0],e))}function Ob(e,t,n,r,i,s,o,a,l){for(var c=0,d=0,f=o,p=0,m=0,y=0,C=1,b=1,x=1,R=0,E="",F=i,I=s,_=r,D=E;b;)switch(y=R,R=io()){case 40:if(y!=108&&Ti(D,f-1)==58){R_(D+=Pn(Mb(R),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=Mb(R);break;case 9:case 10:case 13:case 32:D+=jre(y);break;case 92:D+=Wre(Ib()-1,7);continue;case 47:switch(Ja()){case 42:case 47:Nw(Kre($re(io(),Ib()),t,n),l);break;default:D+="/"}break;case 123*C:a[c++]=ja(D)*x;case 125*C:case 59:case 0:switch(R){case 0:case 125:b=0;case 59+d:m>0&&ja(D)-f&&Nw(m>32?xB(D+";",r,n,f-1):xB(Pn(D," ","")+";",r,n,f-2),l);break;case 59:D+=";";default:if(Nw(_=SB(D,t,n,c,d,i,a,E,F=[],I=[],f),s),R===123)if(d===0)Ob(D,t,_,_,F,s,f,a,I);else switch(p===99&&Ti(D,3)===110?100:p){case 100:case 109:case 115:Ob(e,_,_,r&&Nw(SB(e,_,_,0,0,i,a,E,i,F=[],f),I),i,I,f,a,r?F:I);break;default:Ob(D,_,_,_,[""],I,0,a,I)}}c=d=m=0,C=x=1,E=D="",f=o;break;case 58:f=1+ja(D),m=y;default:if(C<1){if(R==123)--C;else if(R==125&&C++==0&&zre()==125)continue}switch(D+=Yx(R),R*C){case 38:x=d>0?1:(D+="\f",-1);break;case 44:a[c++]=(ja(D)-1)*x,x=1;break;case 64:Ja()===45&&(D+=Mb(io())),p=Ja(),d=f=ja(E=D+=qre(Ib())),R++;break;case 45:y===45&&ja(D)==2&&(C=0)}}return s}function SB(e,t,n,r,i,s,o,a,l,c,d){for(var f=i-1,p=i===0?s:[""],m=pF(p),y=0,C=0,b=0;y<r;++y)for(var x=0,R=pv(e,f+1,f=Nre(C=o[y])),E=e;x<m;++x)(E=Cz(C>0?p[x]+" "+R:Pn(R,/&\f/g,p[x])))&&(l[b++]=E);return Qx(e,t,n,i===0?hF:a,l,c,d)}function Kre(e,t,n){return Qx(e,t,n,vz,Yx(Ure()),pv(e,2,-2),0)}function xB(e,t,n,r){return Qx(e,t,n,fF,pv(e,0,r),pv(e,r+1,-1),r)}function Jd(e,t){for(var n="",r=pF(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function EB(e,t,n,r){switch(e.type){case Lre:case fF:return e.return=e.return||e.value;case vz:return"";case yz:return e.return=e.value+"{"+Jd(e.children,r)+"}";case hF:e.value=e.props.join(",")}return ja(n=Jd(e.children,r))?e.return=e.value+"{"+n+"}":""}function TB(e){var t=pF(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function Yre(e){return function(t){t.root||(t=t.return)&&e(t)}}var Xre=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}},Qre=function(t,n,r){for(var i=0,s=0;i=s,s=Ja(),i===38&&s===12&&(n[r]=1),!gv(s);)io();return Dy(t,ks)},Zre=function(t,n){var r=-1,i=44;do switch(gv(i)){case 0:i===38&&Ja()===12&&(n[r]=1),t[r]+=Qre(ks-1,n,r);break;case 2:t[r]+=Mb(i);break;case 4:if(i===44){t[++r]=Ja()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Yx(i)}while(i=io());return t},Jre=function(t,n){return Sz(Zre(bz(t),n))},RB=new WeakMap,eie=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!RB.get(r))&&!i){RB.set(t,!0);for(var s=[],o=Jre(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},tie=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function xz(e,t){switch(Vre(e,t)){case 5103:return Tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Tn+e+gS+e+Vi+e+e;case 6828:case 4268:return Tn+e+Vi+e+e;case 6165:return Tn+e+Vi+"flex-"+e+e;case 5187:return Tn+e+Pn(e,/(\w+).+(:[^]+)/,Tn+"box-$1$2"+Vi+"flex-$1$2")+e;case 5443:return Tn+e+Vi+"flex-item-"+Pn(e,/flex-|-self/,"")+e;case 4675:return Tn+e+Vi+"flex-line-pack"+Pn(e,/align-content|flex-|-self/,"")+e;case 5548:return Tn+e+Vi+Pn(e,"shrink","negative")+e;case 5292:return Tn+e+Vi+Pn(e,"basis","preferred-size")+e;case 6060:return Tn+"box-"+Pn(e,"-grow","")+Tn+e+Vi+Pn(e,"grow","positive")+e;case 4554:return Tn+Pn(e,/([^-])(transform)/g,"$1"+Tn+"$2")+e;case 6187:return Pn(Pn(Pn(e,/(zoom-|grab)/,Tn+"$1"),/(image-set)/,Tn+"$1"),e,"")+e;case 5495:case 3959:return Pn(e,/(image-set\([^]*)/,Tn+"$1$`$1");case 4968:return Pn(Pn(e,/(.+:)(flex-)?(.*)/,Tn+"box-pack:$3"+Vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tn+e+e;case 4095:case 3583:case 4068:case 2532:return Pn(e,/(.+)-inline(.+)/,Tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ja(e)-1-t>6)switch(Ti(e,t+1)){case 109:if(Ti(e,t+4)!==45)break;case 102:return Pn(e,/(.+:)(.+)-([^]+)/,"$1"+Tn+"$2-$3$1"+gS+(Ti(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~R_(e,"stretch")?xz(Pn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ti(e,t+1)!==115)break;case 6444:switch(Ti(e,ja(e)-3-(~R_(e,"!important")&&10))){case 107:return Pn(e,":",":"+Tn)+e;case 101:return Pn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Tn+(Ti(e,14)===45?"inline-":"")+"box$3$1"+Tn+"$2$3$1"+Vi+"$2box$3")+e}break;case 5936:switch(Ti(e,t+11)){case 114:return Tn+e+Vi+Pn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Tn+e+Vi+Pn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Tn+e+Vi+Pn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Tn+e+Vi+e+e}return e}var nie=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case fF:t.return=xz(t.value,t.length);break;case yz:return Jd([Ym(t,{value:Pn(t.value,"@","@"+Tn)})],i);case hF:if(t.length)return Gre(t.props,function(s){switch(Hre(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jd([Ym(t,{props:[Pn(s,/:(read-\w+)/,":"+gS+"$1")]})],i);case"::placeholder":return Jd([Ym(t,{props:[Pn(s,/:(plac\w+)/,":"+Tn+"input-$1")]}),Ym(t,{props:[Pn(s,/:(plac\w+)/,":"+gS+"$1")]}),Ym(t,{props:[Pn(s,/:(plac\w+)/,Vi+"input-$1")]})],i)}return""})}},Lb=typeof document<"u",rie=Lb?void 0:Xre(function(){return dF(function(){var e={};return function(t){return e[t]}})}),iie=[nie],Ez=function(t){var n=t.key;if(Lb&&n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(F){var I=F.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(F),F.setAttribute("data-s",""))})}var i=t.stylisPlugins||iie,s={},o,a=[];Lb&&(o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(F){for(var I=F.getAttribute("data-emotion").split(" "),_=1;_<I.length;_++)s[I[_]]=!0;a.push(F)}));var l,c=[eie,tie];if(Lb){var d,f=[EB,Yre(function(F){d.insert(F)})],p=TB(c.concat(i,f)),m=function(I){return Jd(bB(I),p)};l=function(I,_,D,P){d=D,m(I?I+"{"+_.styles+"}":_.styles),P&&(E.inserted[_.name]=!0)}}else{var y=[EB],C=TB(c.concat(i,y)),b=function(I){return Jd(bB(I),C)},x=rie(i)(n),R=function(I,_){var D=_.name;return x[D]===void 0&&(x[D]=b(I?I+"{"+_.styles+"}":_.styles)),x[D]};l=function(I,_,D,P){var k=_.name,B=R(I,_);if(E.compat===void 0)return P&&(E.inserted[k]=!0),B;if(P)E.inserted[k]=B;else return B}}var E={key:n,sheet:new Ore({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return E.sheet.hydrate(a),E},sie=typeof document<"u",AB=function(t){return t()},oie=T.useInsertionEffect?T.useInsertionEffect:!1,aie=sie&&oie||AB,lie=typeof document<"u",mS=T.createContext(typeof HTMLElement<"u"?Ez({key:"css"}):null);mS.Provider;var Tz=function(t){return T.forwardRef(function(n,r){var i=T.useContext(mS);return t(n,i,r)})};lie||(Tz=function(t){return function(n){var r=T.useContext(mS);return r===null?(r=Ez({key:"css"}),T.createElement(mS.Provider,{value:r},t(n,r))):t(n,r)}});var cie=T.createContext({}),__=typeof document<"u";function uie(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Rz=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||__===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},die=function(t,n,r){Rz(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s="",o=n;do{var a=t.insert(n===o?"."+i:"",o,t.sheet,!0);!__&&a!==void 0&&(s+=a),o=o.next}while(o!==void 0);if(!__&&s.length!==0)return s}};function hie(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var fie={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pie=/[A-Z]|^ms/g,gie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Az=function(t){return t.charCodeAt(1)===45},_B=function(t){return t!=null&&typeof t!="boolean"},SR=dF(function(e){return Az(e)?e:e.replace(pie,"-$&").toLowerCase()}),DB=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(gie,function(r,i,s){return Wa={name:i,styles:s,next:Wa},i})}return fie[t]!==1&&!Az(t)&&typeof n=="number"&&n!==0?n+"px":n};function mv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Wa={name:n.name,styles:n.styles,next:Wa},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Wa={name:r.name,styles:r.styles,next:Wa},r=r.next;var i=n.styles+";";return i}return mie(e,t,n)}case"function":{if(e!==void 0){var s=Wa,o=n(e);return Wa=s,mv(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function mie(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=mv(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":_B(o)&&(r+=SR(s)+":"+DB(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)_B(o[a])&&(r+=SR(s)+":"+DB(s,o[a])+";");else{var l=mv(e,t,o);switch(s){case"animation":case"animationName":{r+=SR(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var PB=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wa,vie=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Wa=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=mv(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=mv(r,n,t[a]),i&&(s+=o[a]);PB.lastIndex=0;for(var l="",c;(c=PB.exec(s))!==null;)l+="-"+c[1];var d=hie(s)+l;return{name:d,styles:s,next:Wa}},yie=kre,Cie=function(t){return t!=="theme"},FB=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?yie:Cie},kB=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},wie=typeof document<"u",bie=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;Rz(n,r,i);var s=aie(function(){return die(n,r,i)});if(!wie&&s!==void 0){for(var o,a=r.name,l=r.next;l!==void 0;)a+=" "+l.name,l=l.next;return T.createElement("style",(o={},o["data-emotion"]=n.key+" "+a,o.dangerouslySetInnerHTML={__html:s},o.nonce=n.sheet.nonce,o))}return null},Sie=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=kB(t,n,r),l=a||FB(i),c=!l("as");return function(){var d=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)f.push(d[m],d[0][m])}var y=Tz(function(C,b,x){var R=c&&C.as||i,E="",F=[],I=C;if(C.theme==null){I={};for(var _ in C)I[_]=C[_];I.theme=T.useContext(cie)}typeof C.className=="string"?E=uie(b.registered,F,C.className):C.className!=null&&(E=C.className+" ");var D=vie(f.concat(F),b.registered,I);E+=b.key+"-"+D.name,o!==void 0&&(E+=" "+o);var P=c&&a===void 0?FB(R):l,k={};for(var B in C)c&&B==="as"||P(B)&&(k[B]=C[B]);return k.className=E,k.ref=x,T.createElement(T.Fragment,null,T.createElement(bie,{cache:b,serialized:D,isStringTag:typeof R=="string"}),T.createElement(R,k))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=f,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(C,b){return e(C,T_({},n,b,{shouldForwardProp:kB(y,b,!0)})).apply(void 0,f)},y}},xie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gi=Sie.bind();xie.forEach(function(e){gi[e]=gi(e)});var _z={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(_z);var Zr=_z.exports,Dz=ue.createContext(void 0),Eie=function(e){var t=e.children,n=ue.useState({collapsed:!1,toggled:!1,broken:!1,rtl:!1,transitionDuration:300}),r=n[0],i=n[1],s=ue.useCallback(function(c){i(function(d){return Dr(Dr({},d),c)})},[]),o=ue.useCallback(function(){i(function(c){return Dr(Dr({},c),{collapsed:!c?.collapsed})})},[]),a=ue.useCallback(function(){i(function(c){return Dr(Dr({},c),{toggled:!c?.toggled})})},[]),l=ue.useMemo(function(){return Dr(Dr({},r),{updateSidebarState:s,updateCollapseState:o,updateToggleState:a})},[r,o,s,a]);return ue.createElement(Dz.Provider,{value:l},t)},Pz=function(){var e=ue.useContext(Dz);return e},Tie=function(e){var t=ue.useState(!!e&&typeof window<"u"&&window.matchMedia(e).matches),n=t[0],r=t[1];return ue.useEffect(function(){if(e){var i=window.matchMedia(e),s=function(){i.matches!==n&&r(i.matches)};return s(),i.addEventListener("change",s),function(){return i.removeEventListener("change",s)}}},[n,e]),n},_r={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},Rn={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},Rie=gi.div(IB||(IB=Yi([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),IB,Aie={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},_ie=gi.aside(MB||(MB=Yi([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")},function(e){var t=e.width;return t},function(e){var t=e.width;return t},_r.collapsed,function(e){var t=e.collapsedWidth;return t},function(e){var t=e.collapsedWidth;return t},_r.rtl,_r.broken,function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")},_r.collapsed,function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")},_r.toggled,function(e){var t=e.rtl;return t?"":"left: 0;"},_r.rtl,function(e){var t=e.width;return t},_r.collapsed,function(e){var t=e.collapsedWidth;return t},_r.toggled,function(e){var t=e.rootStyles;return t}),Die=gi.div(OB||(OB=Yi([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""}),Pie=gi.img(LB||(LB=Yi([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),_r.image),Zx=ue.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),Fie=ue.forwardRef(function(e,t){var n,r=e.collapsed,i=e.toggled,s=e.onBackdropClick,o=e.onBreakPoint,a=e.width,l=a===void 0?"250px":a,c=e.collapsedWidth,d=c===void 0?"80px":c,f=e.defaultCollapsed,p=e.className,m=e.children,y=e.breakPoint,C=e.customBreakPoint,b=e.backgroundColor,x=b===void 0?"rgb(249, 249, 249, 0.7)":b,R=e.transitionDuration,E=R===void 0?300:R,F=e.image,I=e.rtl,_=e.rootStyles,D=mh(e,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),P=function(){if(C)return"(max-width: ".concat(C,")");if(y)return["xs","sm","md","lg","xl","xxl"].includes(y)?"(max-width: ".concat(Aie[y],")"):y==="always"||y==="all"?(y==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(y,")")},k=ue.useRef();k.current=function(he){o?.(he)};var B=Tie(P()),N=ue.useState(!1),V=N[0],G=N[1],oe=Pz(),le=r??(!V&&f?!0:oe?.collapsed),J=i??oe?.toggled,se=function(){s?.(),oe?.updateSidebarState({toggled:!1})};return ue.useEffect(function(){var he;(he=k.current)===null||he===void 0||he.call(k,B)},[B]),ue.useEffect(function(){oe?.updateSidebarState({broken:B,rtl:I,transitionDuration:E})},[B,oe?.updateSidebarState,I,E]),ue.useEffect(function(){V||(oe?.updateSidebarState({collapsed:f}),G(!0))},[f,V,oe?.updateSidebarState]),ue.createElement(Zx.Provider,{value:{collapsed:le,toggled:J,rtl:I,transitionDuration:E}},ue.createElement(_ie,Dr({ref:t,"data-testid":"".concat(_r.root,"-test-id"),rtl:I,rootStyles:_,width:l,collapsedWidth:d,transitionDuration:E,className:Zr(_r.root,(n={},n[_r.collapsed]=le,n[_r.toggled]=J,n[_r.broken]=B,n[_r.rtl]=I,n),p)},D),ue.createElement(Die,{"data-testid":"".concat(_r.container,"-test-id"),className:_r.container,backgroundColor:x},m),F&&ue.createElement(Pie,{"data-testid":"".concat(_r.image,"-test-id"),src:F,alt:"sidebar background",className:_r.image}),B&&J&&ue.createElement(Rie,{"data-testid":"".concat(_r.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:se,onKeyPress:se,className:_r.backdrop})))}),MB,OB,LB,Fz=gi.ul(NB||(NB=Yi([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),NB,kie=gi.nav(BB||(BB=Yi([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),Rn.root,function(e){var t=e.rootStyles;return t}),kz=ue.createContext(void 0),vS=ue.createContext(0),Iie=function(e,t){var n=e.children,r=e.className,i=e.transitionDuration,s=i===void 0?300:i,o=e.closeOnClick,a=o===void 0?!1:o,l=e.rootStyles,c=e.menuItemStyles,d=e.renderExpandIcon,f=mh(e,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),p=ue.useMemo(function(){return{transitionDuration:s,closeOnClick:a,menuItemStyles:c,renderExpandIcon:d}},[s,a,c,d]);return ue.createElement(kz.Provider,{value:p},ue.createElement(vS.Provider,{value:0},ue.createElement(kie,Dr({ref:t,className:Zr(Rn.root,r),rootStyles:l},f),ue.createElement(Fz,null,n))))},Mie=ue.forwardRef(Iie),BB,gF=function(){var e=ue.useContext(kz);if(e===void 0)throw new Error("Menu Component is required!");return e},Oie=gi.div(VB||(VB=Yi([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(e){var t=e.transitionDuration;return t},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(e){var t=e.defaultOpen;return t&&"height: auto;display: block;"},function(e){var t=e.collapsed,n=e.firstLevel,r=e.openWhenCollapsed;return t&&n?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(r?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(e){var t=e.rootStyles;return t}),Lie=function(e,t){var n=e.children,r=e.open,i=e.openWhenCollapsed,s=e.firstLevel,o=e.collapsed,a=e.defaultOpen,l=mh(e,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),c=gF().transitionDuration,d=ue.useState(a)[0];return ue.createElement(Oie,Dr({"data-testid":"".concat(Rn.subMenuContent,"-test-id"),ref:t,firstLevel:s,collapsed:o,open:r,openWhenCollapsed:i,transitionDuration:c,defaultOpen:d},l),ue.createElement(Fz,null,n))},Nie=ue.forwardRef(Lie),VB,Iz=gi.span(HB||(HB=Yi([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(e){var t=e.rootStyles;return t}),HB,Mz=gi.span(GB||(GB=Yi([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 10px;":"margin-right: 10px;"},function(e){var t=e.rootStyles;return t}),GB,Oz=gi.span(UB||(UB=Yi([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 5px;":"margin-right: 5px;"},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),UB,Lz=gi.span(zB||(zB=Yi([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),zB,Bie=gi.span(jB||(jB=Yi([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(e){var t=e.collapsed,n=e.level,r=e.rtl;return t&&n===0&&`
    position: absolute;
    `.concat(r?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(e){var t=e.rootStyles;return t}),Vie=gi.span(WB||(WB=Yi([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(e){var t=e.rtl;return t?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"}),Hie=gi.span($B||($B=Yi([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),jB,WB,$B,Ds="top",$o="bottom",qo="right",Ps="left",mF="auto",Py=[Ds,$o,qo,Ps],zp="start",vv="end",Gie="clippingParents",Nz="viewport",Xm="popper",Uie="reference",qB=Py.reduce(function(e,t){return e.concat([t+"-"+zp,t+"-"+vv])},[]),Bz=[].concat(Py,[mF]).reduce(function(e,t){return e.concat([t,t+"-"+zp,t+"-"+vv])},[]),zie="beforeRead",jie="read",Wie="afterRead",$ie="beforeMain",qie="main",Kie="afterMain",Yie="beforeWrite",Xie="write",Qie="afterWrite",Zie=[zie,jie,Wie,$ie,qie,Kie,Yie,Xie,Qie];function pl(e){return e?(e.nodeName||"").toLowerCase():null}function Jo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vh(e){var t=Jo(e).Element;return e instanceof t||e instanceof Element}function Uo(e){var t=Jo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function vF(e){if(typeof ShadowRoot>"u")return!1;var t=Jo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Jie(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!Uo(s)||!pl(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function ese(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Uo(i)||!pl(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var tse={name:"applyStyles",enabled:!0,phase:"write",fn:Jie,effect:ese,requires:["computeStyles"]};function el(e){return e.split("-")[0]}var eh=Math.max,yS=Math.min,jp=Math.round;function D_(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Vz(){return!/^((?!chrome|android).)*safari/i.test(D_())}function Wp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&Uo(e)&&(i=e.offsetWidth>0&&jp(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&jp(r.height)/e.offsetHeight||1);var o=vh(e)?Jo(e):window,a=o.visualViewport,l=!Vz()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,p=r.height/s;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c,x:c,y:d}}function yF(e){var t=Wp(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Hz(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&vF(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function dc(e){return Jo(e).getComputedStyle(e)}function nse(e){return["table","td","th"].indexOf(pl(e))>=0}function Xu(e){return((vh(e)?e.ownerDocument:e.document)||window.document).documentElement}function Jx(e){return pl(e)==="html"?e:e.assignedSlot||e.parentNode||(vF(e)?e.host:null)||Xu(e)}function KB(e){return!Uo(e)||dc(e).position==="fixed"?null:e.offsetParent}function rse(e){var t=/firefox/i.test(D_()),n=/Trident/i.test(D_());if(n&&Uo(e)){var r=dc(e);if(r.position==="fixed")return null}var i=Jx(e);for(vF(i)&&(i=i.host);Uo(i)&&["html","body"].indexOf(pl(i))<0;){var s=dc(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Fy(e){for(var t=Jo(e),n=KB(e);n&&nse(n)&&dc(n).position==="static";)n=KB(n);return n&&(pl(n)==="html"||pl(n)==="body"&&dc(n).position==="static")?t:n||rse(e)||t}function CF(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function D0(e,t,n){return eh(e,yS(t,n))}function ise(e,t,n){var r=D0(e,t,n);return r>n?n:r}function Gz(){return{top:0,right:0,bottom:0,left:0}}function Uz(e){return Object.assign({},Gz(),e)}function zz(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var sse=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Uz(typeof t!="number"?t:zz(t,Py))};function ose(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=el(n.placement),l=CF(a),c=[Ps,qo].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var f=sse(i.padding,n),p=yF(s),m=l==="y"?Ds:Ps,y=l==="y"?$o:qo,C=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],b=o[l]-n.rects.reference[l],x=Fy(s),R=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,E=C/2-b/2,F=f[m],I=R-p[d]-f[y],_=R/2-p[d]/2+E,D=D0(F,_,I),P=l;n.modifiersData[r]=(t={},t[P]=D,t.centerOffset=D-_,t)}}function ase(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Hz(t.elements.popper,i)&&(t.elements.arrow=i))}var lse={name:"arrow",enabled:!0,phase:"main",fn:ose,effect:ase,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $p(e){return e.split("-")[1]}var cse={top:"auto",right:"auto",bottom:"auto",left:"auto"};function use(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:jp(t*i)/i||0,y:jp(n*i)/i||0}}function YB(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=o.x,m=p===void 0?0:p,y=o.y,C=y===void 0?0:y,b=typeof d=="function"?d({x:m,y:C}):{x:m,y:C};m=b.x,C=b.y;var x=o.hasOwnProperty("x"),R=o.hasOwnProperty("y"),E=Ps,F=Ds,I=window;if(c){var _=Fy(n),D="clientHeight",P="clientWidth";if(_===Jo(n)&&(_=Xu(n),dc(_).position!=="static"&&a==="absolute"&&(D="scrollHeight",P="scrollWidth")),_=_,i===Ds||(i===Ps||i===qo)&&s===vv){F=$o;var k=f&&_===I&&I.visualViewport?I.visualViewport.height:_[D];C-=k-r.height,C*=l?1:-1}if(i===Ps||(i===Ds||i===$o)&&s===vv){E=qo;var B=f&&_===I&&I.visualViewport?I.visualViewport.width:_[P];m-=B-r.width,m*=l?1:-1}}var N=Object.assign({position:a},c&&cse),V=d===!0?use({x:m,y:C}):{x:m,y:C};if(m=V.x,C=V.y,l){var G;return Object.assign({},N,(G={},G[F]=R?"0":"",G[E]=x?"0":"",G.transform=(I.devicePixelRatio||1)<=1?"translate("+m+"px, "+C+"px)":"translate3d("+m+"px, "+C+"px, 0)",G))}return Object.assign({},N,(t={},t[F]=R?C+"px":"",t[E]=x?m+"px":"",t.transform="",t))}function dse(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:el(t.placement),variation:$p(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,YB(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,YB(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var hse={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:dse,data:{}},Bw={passive:!0};function fse(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Jo(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,Bw)}),a&&l.addEventListener("resize",n.update,Bw),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Bw)}),a&&l.removeEventListener("resize",n.update,Bw)}}var pse={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fse,data:{}},gse={left:"right",right:"left",bottom:"top",top:"bottom"};function Nb(e){return e.replace(/left|right|bottom|top/g,function(t){return gse[t]})}var mse={start:"end",end:"start"};function XB(e){return e.replace(/start|end/g,function(t){return mse[t]})}function wF(e){var t=Jo(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function bF(e){return Wp(Xu(e)).left+wF(e).scrollLeft}function vse(e,t){var n=Jo(e),r=Xu(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Vz();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+bF(e),y:l}}function yse(e){var t,n=Xu(e),r=wF(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=eh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=eh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+bF(e),l=-r.scrollTop;return dc(i||n).direction==="rtl"&&(a+=eh(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function SF(e){var t=dc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function jz(e){return["html","body","#document"].indexOf(pl(e))>=0?e.ownerDocument.body:Uo(e)&&SF(e)?e:jz(Jx(e))}function P0(e,t){var n;t===void 0&&(t=[]);var r=jz(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Jo(r),o=i?[s].concat(s.visualViewport||[],SF(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(P0(Jx(o)))}function P_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cse(e,t){var n=Wp(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function QB(e,t,n){return t===Nz?P_(vse(e,n)):vh(t)?Cse(t,n):P_(yse(Xu(e)))}function wse(e){var t=P0(Jx(e)),n=["absolute","fixed"].indexOf(dc(e).position)>=0,r=n&&Uo(e)?Fy(e):e;return vh(r)?t.filter(function(i){return vh(i)&&Hz(i,r)&&pl(i)!=="body"}):[]}function bse(e,t,n,r){var i=t==="clippingParents"?wse(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var d=QB(e,c,r);return l.top=eh(d.top,l.top),l.right=yS(d.right,l.right),l.bottom=yS(d.bottom,l.bottom),l.left=eh(d.left,l.left),l},QB(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Wz(e){var t=e.reference,n=e.element,r=e.placement,i=r?el(r):null,s=r?$p(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Ds:l={x:o,y:t.y-n.height};break;case $o:l={x:o,y:t.y+t.height};break;case qo:l={x:t.x+t.width,y:a};break;case Ps:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?CF(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case zp:l[c]=l[c]-(t[d]/2-n[d]/2);break;case vv:l[c]=l[c]+(t[d]/2-n[d]/2);break}}return l}function yv(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?Gie:a,c=n.rootBoundary,d=c===void 0?Nz:c,f=n.elementContext,p=f===void 0?Xm:f,m=n.altBoundary,y=m===void 0?!1:m,C=n.padding,b=C===void 0?0:C,x=Uz(typeof b!="number"?b:zz(b,Py)),R=p===Xm?Uie:Xm,E=e.rects.popper,F=e.elements[y?R:p],I=bse(vh(F)?F:F.contextElement||Xu(e.elements.popper),l,d,o),_=Wp(e.elements.reference),D=Wz({reference:_,element:E,placement:i}),P=P_(Object.assign({},E,D)),k=p===Xm?P:_,B={top:I.top-k.top+x.top,bottom:k.bottom-I.bottom+x.bottom,left:I.left-k.left+x.left,right:k.right-I.right+x.right},N=e.modifiersData.offset;if(p===Xm&&N){var V=N[i];Object.keys(B).forEach(function(G){var oe=[qo,$o].indexOf(G)>=0?1:-1,le=[Ds,$o].indexOf(G)>=0?"y":"x";B[G]+=V[le]*oe})}return B}function Sse(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Bz:l,d=$p(r),f=d?a?qB:qB.filter(function(y){return $p(y)===d}):Py,p=f.filter(function(y){return c.indexOf(y)>=0});p.length===0&&(p=f);var m=p.reduce(function(y,C){return y[C]=yv(e,{placement:C,boundary:i,rootBoundary:s,padding:o})[el(C)],y},{});return Object.keys(m).sort(function(y,C){return m[y]-m[C]})}function xse(e){if(el(e)===mF)return[];var t=Nb(e);return[XB(e),t,XB(t)]}function Ese(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,C=n.allowedAutoPlacements,b=t.options.placement,x=el(b),R=x===b,E=l||(R||!y?[Nb(b)]:xse(b)),F=[b].concat(E).reduce(function(X,ie){return X.concat(el(ie)===mF?Sse(t,{placement:ie,boundary:d,rootBoundary:f,padding:c,flipVariations:y,allowedAutoPlacements:C}):ie)},[]),I=t.rects.reference,_=t.rects.popper,D=new Map,P=!0,k=F[0],B=0;B<F.length;B++){var N=F[B],V=el(N),G=$p(N)===zp,oe=[Ds,$o].indexOf(V)>=0,le=oe?"width":"height",J=yv(t,{placement:N,boundary:d,rootBoundary:f,altBoundary:p,padding:c}),se=oe?G?qo:Ps:G?$o:Ds;I[le]>_[le]&&(se=Nb(se));var he=Nb(se),ne=[];if(s&&ne.push(J[V]<=0),a&&ne.push(J[se]<=0,J[he]<=0),ne.every(function(X){return X})){k=N,P=!1;break}D.set(N,ne)}if(P)for(var L=y?3:1,ae=function(ie){var fe=F.find(function(Be){var Ne=D.get(Be);if(Ne)return Ne.slice(0,ie).every(function(Ie){return Ie})});if(fe)return k=fe,"break"},W=L;W>0;W--){var H=ae(W);if(H==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}var Tse={name:"flip",enabled:!0,phase:"main",fn:Ese,requiresIfExists:["offset"],data:{_skip:!1}};function ZB(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function JB(e){return[Ds,qo,$o,Ps].some(function(t){return e[t]>=0})}function Rse(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=yv(t,{elementContext:"reference"}),a=yv(t,{altBoundary:!0}),l=ZB(o,r),c=ZB(a,i,s),d=JB(l),f=JB(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var Ase={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Rse};function _se(e,t,n){var r=el(e),i=[Ps,Ds].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Ps,qo].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Dse(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=Bz.reduce(function(d,f){return d[f]=_se(f,t.rects,s),d},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var Pse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Dse};function Fse(e){var t=e.state,n=e.name;t.modifiersData[n]=Wz({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var kse={name:"popperOffsets",enabled:!0,phase:"read",fn:Fse,data:{}};function Ise(e){return e==="x"?"y":"x"}function Mse(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,m=p===void 0?!0:p,y=n.tetherOffset,C=y===void 0?0:y,b=yv(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),x=el(t.placement),R=$p(t.placement),E=!R,F=CF(x),I=Ise(F),_=t.modifiersData.popperOffsets,D=t.rects.reference,P=t.rects.popper,k=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,B=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(_){if(s){var G,oe=F==="y"?Ds:Ps,le=F==="y"?$o:qo,J=F==="y"?"height":"width",se=_[F],he=se+b[oe],ne=se-b[le],L=m?-P[J]/2:0,ae=R===zp?D[J]:P[J],W=R===zp?-P[J]:-D[J],H=t.elements.arrow,X=m&&H?yF(H):{width:0,height:0},ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Gz(),fe=ie[oe],Be=ie[le],Ne=D0(0,D[J],X[J]),Ie=E?D[J]/2-L-Ne-fe-B.mainAxis:ae-Ne-fe-B.mainAxis,Fe=E?-D[J]/2+L+Ne+Be+B.mainAxis:W+Ne+Be+B.mainAxis,rt=t.elements.arrow&&Fy(t.elements.arrow),re=rt?F==="y"?rt.clientTop||0:rt.clientLeft||0:0,bt=(G=N?.[F])!=null?G:0,ze=se+Ie-bt-re,Xe=se+Fe-bt,Ze=D0(m?yS(he,ze):he,se,m?eh(ne,Xe):ne);_[F]=Ze,V[F]=Ze-se}if(a){var ke,ct=F==="x"?Ds:Ps,At=F==="x"?$o:qo,mt=_[I],_t=I==="y"?"height":"width",It=mt+b[ct],Gt=mt-b[At],$t=[Ds,Ps].indexOf(x)!==-1,wn=(ke=N?.[I])!=null?ke:0,ve=$t?It:mt-D[_t]-P[_t]-wn+B.altAxis,Oe=$t?mt+D[_t]+P[_t]-wn-B.altAxis:Gt,Ke=m&&$t?ise(ve,mt,Oe):D0(m?ve:It,mt,m?Oe:Gt);_[I]=Ke,V[I]=Ke-mt}t.modifiersData[r]=V}}var Ose={name:"preventOverflow",enabled:!0,phase:"main",fn:Mse,requiresIfExists:["offset"]};function Lse(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Nse(e){return e===Jo(e)||!Uo(e)?wF(e):Lse(e)}function Bse(e){var t=e.getBoundingClientRect(),n=jp(t.width)/e.offsetWidth||1,r=jp(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Vse(e,t,n){n===void 0&&(n=!1);var r=Uo(t),i=Uo(t)&&Bse(t),s=Xu(t),o=Wp(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((pl(t)!=="body"||SF(s))&&(a=Nse(t)),Uo(t)?(l=Wp(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=bF(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Hse(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function Gse(e){var t=Hse(e);return Zie.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Use(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function zse(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var e4={placement:"bottom",modifiers:[],strategy:"absolute"};function t4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function jse(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?e4:i;return function(a,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},e4,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,m={state:d,setOptions:function(x){var R=typeof x=="function"?x(d.options):x;C(),d.options=Object.assign({},s,d.options,R),d.scrollParents={reference:vh(a)?P0(a):a.contextElement?P0(a.contextElement):[],popper:P0(l)};var E=Gse(zse([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(F){return F.enabled}),y(),m.update()},forceUpdate:function(){if(!p){var x=d.elements,R=x.reference,E=x.popper;if(t4(R,E)){d.rects={reference:Vse(R,Fy(E),d.options.strategy==="fixed"),popper:yF(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(B){return d.modifiersData[B.name]=Object.assign({},B.data)});for(var F=0;F<d.orderedModifiers.length;F++){if(d.reset===!0){d.reset=!1,F=-1;continue}var I=d.orderedModifiers[F],_=I.fn,D=I.options,P=D===void 0?{}:D,k=I.name;typeof _=="function"&&(d=_({state:d,options:P,name:k,instance:m})||d)}}}},update:Use(function(){return new Promise(function(b){m.forceUpdate(),b(d)})}),destroy:function(){C(),p=!0}};if(!t4(a,l))return m;m.setOptions(c).then(function(b){!p&&c.onFirstUpdate&&c.onFirstUpdate(b)});function y(){d.orderedModifiers.forEach(function(b){var x=b.name,R=b.options,E=R===void 0?{}:R,F=b.effect;if(typeof F=="function"){var I=F({state:d,name:x,instance:m,options:E}),_=function(){};f.push(I||_)}})}function C(){f.forEach(function(b){return b()}),f=[]}return m}}var Wse=[pse,kse,hse,tse,Pse,Tse,Ose,lse,Ase],$se=jse({defaultModifiers:Wse}),qse=function(e){var t=e.level,n=e.buttonRef,r=e.contentRef,i=ue.useContext(Zx),s=i.collapsed,o=i.toggled,a=i.transitionDuration,l=ue.useRef();return ue.useEffect(function(){return t===0&&s&&r.current&&n.current&&(l.current=$se(n.current,r.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var c;return(c=l.current)===null||c===void 0?void 0:c.destroy()}},[t,s,r,n]),ue.useEffect(function(){if(r.current&&n.current){var c=new ResizeObserver(function(){var d;(d=l.current)===null||d===void 0||d.update()});c.observe(r.current),c.observe(n.current)}setTimeout(function(){var d;(d=l.current)===null||d===void 0||d.update()},a)},[a,o,r,n]),{popperInstance:l.current}},$z=function(e){var t=e.rtl,n=e.level,r=e.collapsed,i=e.disabled,s=e.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(t?`padding-left: 20px;
           padding-right: `.concat(n===0?20:(r?n:n+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(n===0?20:(r?n:n+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(i&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(s&&"background-color: #e2eef9;",`
  
  `)},Kse=function(e,t){var n=e.className,r=e.component,i=e.children,s=mh(e,["className","component","children"]);if(r){if(typeof r=="string")return ue.createElement(r,Dr(Dr({className:Zr(n)},s),{ref:t}),i);var o=r.props,a=o.className,l=mh(o,["className"]);return ue.cloneElement(r,Dr(Dr(Dr({className:Zr(n,a)},s),l),{ref:t}),i)}else return ue.createElement("a",Dr({ref:t,className:Zr(n)},s),i)},qz=ue.forwardRef(Kse),Yse=gi.li(r4||(r4=Yi([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},Rn.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return $z({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),Xse=function(e,t){var n,r=e.children,i=e.className,s=e.label,o=e.icon,a=e.title,l=e.prefix,c=e.suffix,d=e.open,f=e.defaultOpen,p=e.active,m=p===void 0?!1:p,y=e.disabled,C=y===void 0?!1:y,b=e.rootStyles,x=e.component,R=e.onOpenChange,E=e.onClick,F=e.onKeyUp,I=mh(e,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),_=ue.useContext(vS),D=ue.useContext(Zx),P=D.collapsed,k=D.rtl,B=D.transitionDuration,N=gF(),V=N.renderExpandIcon,G=N.closeOnClick,oe=N.menuItemStyles,le=N.transitionDuration,J=ue.useState(!!f),se=J[0],he=J[1],ne=ue.useState(!1),L=ne[0],ae=ne[1],W=ue.useState(!1),H=W[0],X=W[1],ie=ue.useRef(null),fe=ue.useRef(null),Be=ue.useRef(),Ne=qse({level:_,buttonRef:ie,contentRef:fe}).popperInstance,Ie=ue.useCallback(function(){var Ze,ke=fe.current;if(ke){var ct=(Ze=ke?.querySelector(".".concat(Rn.subMenuContent," > ul")))===null||Ze===void 0?void 0:Ze.clientHeight;ke.style.overflow="hidden",ke.style.height="".concat(ct,"px"),Be.current=setTimeout(function(){ke.style.overflow="auto",ke.style.height="auto"},le)}},[le]),Fe=function(){var Ze,ke=fe.current;if(ke){var ct=(Ze=ke?.querySelector(".".concat(Rn.subMenuContent," > ul")))===null||Ze===void 0?void 0:Ze.clientHeight;ke.style.overflow="hidden",ke.style.height="".concat(ct,"px"),ke.offsetHeight,ke.style.height="0px"}},rt=function(){_===0&&P||(typeof d>"u"?(clearTimeout(Number(Be.current)),se?Fe():Ie(),R?.(!se),he(!se)):R?.(!d))};ue.useEffect(function(){!(_===0&&P)&&typeof d<"u"&&H&&(clearTimeout(Number(Be.current)),d?Ie():Fe())},[P,Ie,s,_,R,d]);var re=function(Ze){E?.(Ze),rt()},bt=function(Ze){F?.(Ze),Ze.key==="Enter"&&rt()},ze=function(Ze){if(oe){var ke={level:_,disabled:C,active:m,isSubmenu:!0,open:d??se},ct=oe.root,At=oe.button,mt=oe.label,_t=oe.icon,It=oe.prefix,Gt=oe.suffix,$t=oe.subMenuContent,wn=oe.SubMenuExpandIcon;switch(Ze){case"root":return typeof ct=="function"?ct(ke):ct;case"button":return typeof At=="function"?At(ke):At;case"label":return typeof mt=="function"?mt(ke):mt;case"icon":return typeof _t=="function"?_t(ke):_t;case"prefix":return typeof It=="function"?It(ke):It;case"suffix":return typeof Gt=="function"?Gt(ke):Gt;case"SubMenuExpandIcon":return typeof wn=="function"?wn(ke):wn;case"subMenuContent":return typeof $t=="function"?$t(ke):$t;default:return}}};ue.useEffect(function(){setTimeout(function(){return Ne?.update()},B),P&&_===0&&ae(!1)},[P,_,k,B,Ne]),ue.useEffect(function(){var Ze=function(mt){var _t,It,Gt;!L&&(!((_t=ie.current)===null||_t===void 0)&&_t.contains(mt))?ae(!0):(G&&!(!((It=mt.closest(".".concat(Rn.menuItemRoot)))===null||It===void 0)&&It.classList.contains(Rn.subMenuRoot))||!(!((Gt=fe.current)===null||Gt===void 0)&&Gt.contains(mt))&&L)&&ae(!1)},ke=function(mt){Ze(mt.target)},ct=function(mt){mt.key==="Enter"?Ze(mt.target):mt.key==="Escape"&&ae(!1)},At=function(){document.removeEventListener("click",ke),document.removeEventListener("keyup",ct)};return At(),P&&_===0&&(document.addEventListener("click",ke,!1),document.addEventListener("keyup",ct,!1)),function(){At()}},[P,_,G,L]),ue.useEffect(function(){X(!0)},[]);var Xe=(n={},n[Rn.active]=m,n[Rn.disabled]=C,n[Rn.open]=d??se,n);return ue.createElement(Yse,{ref:t,className:Zr(Rn.menuItemRoot,Rn.subMenuRoot,Xe,i),menuItemStyles:ze("root"),level:_,collapsed:P,rtl:k,disabled:C,active:m,buttonStyles:ze("button"),rootStyles:b},ue.createElement(qz,Dr({"data-testid":"".concat(Rn.button,"-test-id"),ref:ie,title:a,className:Zr(Rn.button,Xe),onClick:re,onKeyUp:bt,component:x,tabIndex:0},I),o&&ue.createElement(Mz,{rtl:k,className:Zr(Rn.icon,Xe),rootStyles:ze("icon")},o),l&&ue.createElement(Oz,{collapsed:P,transitionDuration:B,firstLevel:_===0,className:Zr(Rn.prefix,Xe),rtl:k,rootStyles:ze("prefix")},l),ue.createElement(Iz,{className:Zr(Rn.label,Xe),rootStyles:ze("label")},s),c&&ue.createElement(Lz,{collapsed:P,transitionDuration:B,firstLevel:_===0,className:Zr(Rn.suffix,Xe),rootStyles:ze("suffix")},c),ue.createElement(Bie,{rtl:k,className:Zr(Rn.SubMenuExpandIcon,Xe),collapsed:P,level:_,rootStyles:ze("SubMenuExpandIcon")},V?V({level:_,disabled:C,active:m,open:d??se}):P&&_===0?ue.createElement(Hie,null):ue.createElement(Vie,{rtl:k,open:d??se}))),ue.createElement(Nie,{ref:fe,openWhenCollapsed:L,open:d??se,firstLevel:_===0,collapsed:P,defaultOpen:d&&!H||f,className:Zr(Rn.subMenuContent,Xe),rootStyles:ze("subMenuContent")},ue.createElement(vS.Provider,{value:_+1},r)))},n4=ue.forwardRef(Xse),r4,Qse=gi.li(i4||(i4=Yi([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},Rn.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return $z({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),Zse=function(e,t){var n,r=e.children,i=e.icon,s=e.className,o=e.prefix,a=e.suffix,l=e.active,c=l===void 0?!1:l,d=e.disabled,f=d===void 0?!1:d,p=e.component,m=e.rootStyles,y=mh(e,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),C=ue.useContext(vS),b=ue.useContext(Zx),x=b.collapsed,R=b.rtl,E=b.transitionDuration,F=gF().menuItemStyles,I=function(D){if(F){var P={level:C,disabled:f,active:c,isSubmenu:!1},k=F.root,B=F.button,N=F.label,V=F.icon,G=F.prefix,oe=F.suffix;switch(D){case"root":return typeof k=="function"?k(P):k;case"button":return typeof B=="function"?B(P):B;case"label":return typeof N=="function"?N(P):N;case"icon":return typeof V=="function"?V(P):V;case"prefix":return typeof G=="function"?G(P):G;case"suffix":return typeof oe=="function"?oe(P):oe;default:return}}},_=(n={},n[Rn.active]=c,n[Rn.disabled]=f,n);return ue.createElement(Qse,{ref:t,className:Zr(Rn.menuItemRoot,_,s),menuItemStyles:I("root"),level:C,collapsed:x,rtl:R,disabled:f,active:c,buttonStyles:I("button"),rootStyles:m},ue.createElement(qz,Dr({className:Zr(Rn.button,_),"data-testid":"".concat(Rn.button,"-test-id"),component:p,tabIndex:0},y),i&&ue.createElement(Mz,{rtl:R,className:Zr(Rn.icon,_),rootStyles:I("icon")},i),o&&ue.createElement(Oz,{collapsed:x,transitionDuration:E,firstLevel:C===0,className:Zr(Rn.prefix,_),rtl:R,rootStyles:I("prefix")},o),ue.createElement(Iz,{className:Zr(Rn.label,_),rootStyles:I("label")},r),a&&ue.createElement(Lz,{collapsed:x,transitionDuration:E,firstLevel:C===0,className:Zr(Rn.suffix,_),rootStyles:I("suffix")},a)))},Jc=ue.forwardRef(Zse),i4,Jse=function(e){var t=e.children;return console.warn("ProSidebarProvider is deprecated and will be removed in the next major release."),ue.createElement(Eie,null,t)},eoe=function(){var e=Pz();if(e===void 0)throw new Error("useProSidebar must be used within a ProSidebarProvider. Please wrap your component with a ProSidebarProvider to use this hook.");var t=ue.useCallback(function(r){r===void 0?e.updateCollapseState():e.updateSidebarState({collapsed:r})},[e.updateCollapseState,e.updateSidebarState]),n=ue.useCallback(function(r){r===void 0?e.updateToggleState():e.updateSidebarState({toggled:r})},[e.updateToggleState,e.updateSidebarState]);return ue.useEffect(function(){console.warn("useProSidebar is deprecated and will be removed in the next major release. Please use Sidebar props instead.")},[]),{collapseSidebar:t,toggleSidebar:n,collapsed:!!e.collapsed,broken:!!e.broken,toggled:!!e.toggled,rtl:!!e.rtl}},xR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var s4;function toe(){return s4||(s4=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(xR)),xR.exports}var noe=toe();const wt=vg(noe);function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cv.apply(null,arguments)}function Kz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function o4(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function roe(e){var t=ioe(e,"string");return typeof t=="symbol"?t:String(t)}function ioe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function soe(e,t,n){var r=T.useRef(e!==void 0),i=T.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,T.useCallback(function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];n&&n.apply(void 0,[c].concat(f)),o(c)},[n])]}function xF(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[o4(r)],a=s[r],l=Kz(s,[o4(r),r].map(roe)),c=t[r],d=soe(a,o,e[c]),f=d[0],p=d[1];return Cv({},l,(i={},i[r]=f,i[c]=p,i))},e)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},F_(e,t)}function ooe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,F_(e,t)}const aoe=["xxl","xl","lg","md","sm","xs"],loe="xs",ky=T.createContext({prefixes:{},breakpoints:aoe,minBreakpoint:loe}),{Consumer:PQe,Provider:FQe}=ky;function Ft(e,t){const{prefixes:n}=T.useContext(ky);return e||n[t]||t}function Yz(){const{breakpoints:e}=T.useContext(ky);return e}function Xz(){const{minBreakpoint:e}=T.useContext(ky);return e}function coe(){const{dir:e}=T.useContext(ky);return e==="rtl"}function e1(e){return e&&e.ownerDocument||document}function uoe(e){var t=e1(e);return t&&t.defaultView||window}function doe(e,t){return uoe(e).getComputedStyle(e,t)}var hoe=/([A-Z])/g;function foe(e){return e.replace(hoe,"-$1").toLowerCase()}var poe=/^ms-/;function Vw(e){return foe(e).replace(poe,"-ms-")}var goe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function moe(e){return!!(e&&goe.test(e))}function nc(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Vw(t))||doe(e).getPropertyValue(Vw(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(Vw(i)):moe(i)?r+=i+"("+s+") ":n+=Vw(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var ER={exports:{}},TR,a4;function voe(){if(a4)return TR;a4=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return TR=e,TR}var RR,l4;function yoe(){if(l4)return RR;l4=1;var e=voe();function t(){}function n(){}return n.resetWarningCache=t,RR=function(){function r(o,a,l,c,d,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},RR}var c4;function Coe(){return c4||(c4=1,ER.exports=yoe()()),ER.exports}var woe=Coe();const rc=vg(woe),u4={disabled:!1},Qz=ue.createContext(null);var boe=function(t){return t.scrollTop},f0="unmounted",lu="exited",la="entering",Ql="entered",wv="exiting",Tc=function(e){ooe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=lu,s.appearStatus=la):l=Ql:r.unmountOnExit||r.mountOnEnter?l=f0:l=lu,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===f0?{status:lu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==la&&o!==Ql&&(s=la):(o===la||o===Ql)&&(s=wv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===la){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:yu.findDOMNode(this);o&&boe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lu&&this.setState({status:f0})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[yu.findDOMNode(this),a],c=l[0],d=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||u4.disabled){this.safeSetState({status:Ql},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:la},function(){s.props.onEntering(c,d),s.onTransitionEnd(p,function(){s.safeSetState({status:Ql},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:yu.findDOMNode(this);if(!s||u4.disabled){this.safeSetState({status:lu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:wv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:lu},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:yu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===f0)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Kz(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ue.createElement(Qz.Provider,{value:null},typeof o=="function"?o(i,a):ue.cloneElement(ue.Children.only(o),a))},t}(ue.Component);Tc.contextType=Qz;Tc.propTypes={};function Wf(){}Tc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wf,onEntering:Wf,onEntered:Wf,onExit:Wf,onExiting:Wf,onExited:Wf};Tc.UNMOUNTED=f0;Tc.EXITED=lu;Tc.ENTERING=la;Tc.ENTERED=Ql;Tc.EXITING=wv;function Soe(e){return e.code==="Escape"||e.keyCode===27}function xoe(){const e=T.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function bg(e){if(!e||typeof e=="function")return null;const{major:t}=xoe();return t>=19?e.props.ref:e.ref}const Sg=!!(typeof window<"u"&&window.document&&window.document.createElement);var k_=!1,I_=!1;try{var AR={get passive(){return k_=!0},get once(){return I_=k_=!0}};Sg&&(window.addEventListener("test",AR,AR),window.removeEventListener("test",AR,!0))}catch{}function Zz(e,t,n,r){if(r&&typeof r!="boolean"&&!I_){var i=r.once,s=r.capture,o=n;!I_&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,k_?r:s)}e.addEventListener(t,n,r)}function M_(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function CS(e,t,n,r){return Zz(e,t,n,r),function(){M_(e,t,n,r)}}function Eoe(e,t,n,r){if(r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function Toe(e){var t=nc(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function Roe(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||Eoe(e,"transitionend",!0)},t+n),s=CS(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function Jz(e,t,n,r){n==null&&(n=Toe(e)||0);var i=Roe(e,n,r),s=CS(e,"transitionend",t);return function(){i(),s()}}function d4(e,t){const n=nc(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function EF(e,t){const n=d4(e,"transitionDuration"),r=d4(e,"transitionDelay"),i=Jz(e,s=>{s.target===e&&(i(),t(s))},n+r)}function Qm(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function e8(e){e.offsetHeight}const h4=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Aoe(e,t){const n=h4(e),r=h4(t);return i=>{n&&n(i),r&&r(i)}}function t8(e,t){return T.useMemo(()=>Aoe(e,t),[e,t])}function _oe(e){return e&&"setState"in e?yu.findDOMNode(e):e??null}const t1=ue.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},d)=>{const f=T.useRef(null),p=t8(f,l),m=_=>{p(_oe(_))},y=_=>D=>{_&&f.current&&_(f.current,D)},C=T.useCallback(y(e),[e]),b=T.useCallback(y(t),[t]),x=T.useCallback(y(n),[n]),R=T.useCallback(y(r),[r]),E=T.useCallback(y(i),[i]),F=T.useCallback(y(s),[s]),I=T.useCallback(y(o),[o]);return M.jsx(Tc,{ref:d,...c,onEnter:C,onEntered:x,onEntering:b,onExit:R,onExited:F,onExiting:E,addEndListener:I,nodeRef:f,children:typeof a=="function"?(_,D)=>a(_,{...D,ref:m}):ue.cloneElement(a,{ref:m})})});t1.displayName="TransitionWrapper";const Doe={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Poe(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=Doe[e];return r+parseInt(nc(t,i[0]),10)+parseInt(nc(t,i[1]),10)}const Foe={[lu]:"collapse",[wv]:"collapsing",[la]:"collapsing",[Ql]:"collapse show"},n8=ue.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:p=!1,getDimensionValue:m=Poe,...y},C)=>{const b=typeof a=="function"?a():a,x=T.useMemo(()=>Qm(_=>{_.style[b]="0"},e),[b,e]),R=T.useMemo(()=>Qm(_=>{const D=`scroll${b[0].toUpperCase()}${b.slice(1)}`;_.style[b]=`${_[D]}px`},t),[b,t]),E=T.useMemo(()=>Qm(_=>{_.style[b]=null},n),[b,n]),F=T.useMemo(()=>Qm(_=>{_.style[b]=`${m(b,_)}px`,e8(_)},r),[r,m,b]),I=T.useMemo(()=>Qm(_=>{_.style[b]=null},i),[b,i]);return M.jsx(t1,{ref:C,addEndListener:EF,...y,"aria-expanded":y.role?l:null,onEnter:x,onEntering:R,onEntered:E,onExit:F,onExiting:I,childRef:bg(o),in:l,timeout:c,mountOnEnter:d,unmountOnExit:f,appear:p,children:(_,D)=>ue.cloneElement(o,{...D,className:wt(s,o.props.className,Foe[_],b==="width"&&"collapse-horizontal")})})});n8.displayName="Collapse";function koe(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e},[e]),t}function Iu(e){const t=koe(e);return T.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Iy=e=>T.forwardRef((t,n)=>M.jsx("div",{...t,ref:n,className:wt(t.className,e)})),r8=Iy("h4");r8.displayName="DivStyledAsH4";const i8=T.forwardRef(({className:e,bsPrefix:t,as:n=r8,...r},i)=>(t=Ft(t,"alert-heading"),M.jsx(n,{ref:i,className:wt(e,t),...r})));i8.displayName="AlertHeading";function Ioe(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e},[e]),t}function Zl(e){const t=Ioe(e);return T.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Moe(){const e=T.useRef(!0),t=T.useRef(()=>e.current);return T.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ooe(e){const t=T.useRef(null);return T.useEffect(()=>{t.current=e}),t.current}const Loe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Noe=typeof document<"u",f4=Noe||Loe?T.useLayoutEffect:T.useEffect,Boe=["as","disabled"];function Voe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Hoe(e){return!e||e.trim()==="#"}function TF({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||r!=null||i!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},c];const d=p=>{if((t||e==="a"&&Hoe(n))&&p.preventDefault(),t){p.stopPropagation();return}o?.(p)},f=p=>{p.key===" "&&(p.preventDefault(),d(p))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:d,onKeyDown:f},c]}const s8=T.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=Voe(e,Boe);const[s,{tagName:o}]=TF(Object.assign({tagName:n,disabled:r},i));return M.jsx(o,Object.assign({},i,s,{ref:t}))});s8.displayName="Button";const Goe=["onKeyDown"];function Uoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zoe(e){return!e||e.trim()==="#"}const o8=T.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=Uoe(e,Goe);const[i]=TF(Object.assign({tagName:"a"},r)),s=Zl(o=>{i.onKeyDown(o),n?.(o)});return zoe(r.href)||r.role==="button"?M.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:s})):M.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});o8.displayName="Anchor";const a8=T.forwardRef(({className:e,bsPrefix:t,as:n=o8,...r},i)=>(t=Ft(t,"alert-link"),M.jsx(n,{ref:i,className:wt(e,t),...r})));a8.displayName="AlertLink";const joe={[la]:"show",[Ql]:"show"},qp=T.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=T.useCallback((l,c)=>{e8(l),r?.(l,c)},[r]);return M.jsx(t1,{ref:s,addEndListener:EF,...o,onEnter:a,childRef:bg(t),children:(l,c)=>T.cloneElement(t,{...c,className:wt("fade",e,t.props.className,joe[l],n[l])})})});qp.displayName="Fade";const Woe={"aria-label":rc.string,onClick:rc.func,variant:rc.oneOf(["white"])},n1=T.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>M.jsx("button",{ref:i,type:"button",className:wt("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));n1.displayName="CloseButton";n1.propTypes=Woe;const l8=T.forwardRef((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:d,transition:f=qp,...p}=xF(e,{show:"onClose"}),m=Ft(n,"alert"),y=Iu(x=>{c&&c(!1,x)}),C=f===!0?qp:f,b=M.jsxs("div",{role:"alert",...C?void 0:p,ref:t,className:wt(o,m,l&&`${m}-${l}`,d&&`${m}-dismissible`),children:[d&&M.jsx(n1,{onClick:y,"aria-label":i,variant:s}),a]});return C?M.jsx(C,{unmountOnExit:!0,...p,ref:void 0,in:r,children:b}):r?b:null});l8.displayName="Alert";const wS=Object.assign(l8,{Link:a8,Heading:i8}),O_=T.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:i,as:s="span",...o},a)=>{const l=Ft(e,"badge");return M.jsx(s,{ref:a,...o,className:wt(i,l,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});O_.displayName="Badge";const vr=T.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=Ft(t,"btn"),[d,{tagName:f}]=TF({tagName:e,disabled:s,...a}),p=f;return M.jsx(p,{...d,...a,ref:l,disabled:s,className:wt(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});vr.displayName="Button";const RF=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ft(t,"card-body"),M.jsx(n,{ref:i,className:wt(e,t),...r})));RF.displayName="CardBody";const c8=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ft(t,"card-footer"),M.jsx(n,{ref:i,className:wt(e,t),...r})));c8.displayName="CardFooter";const u8=T.createContext(null);u8.displayName="CardHeaderContext";const d8=T.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Ft(e,"card-header"),o=T.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return M.jsx(u8.Provider,{value:o,children:M.jsx(n,{ref:i,...r,className:wt(t,s)})})});d8.displayName="CardHeader";const h8=T.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},s)=>{const o=Ft(e,"card-img");return M.jsx(r,{ref:s,className:wt(n?`${o}-${n}`:o,t),...i})});h8.displayName="CardImg";const f8=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ft(t,"card-img-overlay"),M.jsx(n,{ref:i,className:wt(e,t),...r})));f8.displayName="CardImgOverlay";const p8=T.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},i)=>(t=Ft(t,"card-link"),M.jsx(n,{ref:i,className:wt(e,t),...r})));p8.displayName="CardLink";const $oe=Iy("h6"),g8=T.forwardRef(({className:e,bsPrefix:t,as:n=$oe,...r},i)=>(t=Ft(t,"card-subtitle"),M.jsx(n,{ref:i,className:wt(e,t),...r})));g8.displayName="CardSubtitle";const m8=T.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},i)=>(t=Ft(t,"card-text"),M.jsx(n,{ref:i,className:wt(e,t),...r})));m8.displayName="CardText";const qoe=Iy("h5"),v8=T.forwardRef(({className:e,bsPrefix:t,as:n=qoe,...r},i)=>(t=Ft(t,"card-title"),M.jsx(n,{ref:i,className:wt(e,t),...r})));v8.displayName="CardTitle";const y8=T.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const d=Ft(e,"card");return M.jsx(a,{ref:c,...l,className:wt(t,d,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?M.jsx(RF,{children:o}):o})});y8.displayName="Card";const zr=Object.assign(y8,{Img:h8,Title:v8,Subtitle:g8,Body:RF,Link:p8,Text:m8,Header:d8,Footer:c8,ImgOverlay:f8});function Koe(e){const t=T.useRef(e);return t.current=e,t}function Yoe(e){const t=Koe(e);T.useEffect(()=>()=>t.current(),[])}function Xoe(e,t){return T.Children.toArray(e).some(n=>T.isValidElement(n)&&n.type===t)}function Qoe({as:e,bsPrefix:t,className:n,...r}){t=Ft(t,"col");const i=Yz(),s=Xz(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let d,f,p;typeof c=="object"&&c!=null?{span:d,offset:f,order:p}=c:d=c;const m=l!==s?`-${l}`:"";d&&o.push(d===!0?`${t}${m}`:`${t}${m}-${d}`),p!=null&&a.push(`order${m}-${p}`),f!=null&&a.push(`offset${m}-${f}`)}),[{...r,className:wt(n,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const tl=T.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=Qoe(e);return M.jsx(i,{...r,ref:t,className:wt(n,!o.length&&s)})});tl.displayName="Col";const bv=T.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...i},s)=>{const o=Ft(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return M.jsx(n,{ref:s,...i,className:wt(r,t?`${o}${a}`:o)})});bv.displayName="Container";var Zoe=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ld(e,t){return Zoe(e.querySelectorAll(t))}function Joe(){const[,e]=T.useReducer(t=>t+1,0);return e}function p4(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const bS=T.createContext(null),AF=(e,t=null)=>e!=null?String(e):t||null,_F=T.createContext(null);_F.displayName="NavContext";const eae="data-rr-ui-",tae="rrUi";function r1(e){return`${eae}${e}`}function nae(e){return`${tae}${e}`}const C8=T.createContext(Sg?window:void 0);C8.Provider;function DF(){return T.useContext(C8)}const rae=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",iae=typeof document<"u",sae=iae||rae?T.useLayoutEffect:T.useEffect,w8=T.createContext(null);w8.displayName="InputGroupContext";const My=T.createContext(null);My.displayName="NavbarContext";const oae={type:rc.string,tooltip:rc.bool,as:rc.elementType},i1=T.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},s)=>M.jsx(e,{...i,ref:s,className:wt(t,`${n}-${r?"tooltip":"feedback"}`)}));i1.displayName="Feedback";i1.propTypes=oae;const hc=T.createContext({}),Oy=T.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=T.useContext(hc);return t=Ft(t,"form-check-input"),M.jsx(o,{...a,ref:l,type:r,id:e||c,className:wt(n,t,i&&"is-valid",s&&"is-invalid")})});Oy.displayName="FormCheckInput";const SS=T.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},i)=>{const{controlId:s}=T.useContext(hc);return e=Ft(e,"form-check-label"),M.jsx("label",{...r,ref:i,htmlFor:n||s,className:wt(t,e)})});SS.displayName="FormCheckLabel";const b8=T.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:d,className:f,style:p,title:m="",type:y="checkbox",label:C,children:b,as:x="input",...R},E)=>{t=Ft(t,"form-check"),n=Ft(n,"form-switch");const{controlId:F}=T.useContext(hc),I=T.useMemo(()=>({controlId:e||F}),[F,e]),_=!b&&C!=null&&C!==!1||Xoe(b,SS),D=M.jsx(Oy,{...R,type:y==="switch"?"checkbox":y,ref:E,isValid:o,isInvalid:a,disabled:s,as:x});return M.jsx(hc.Provider,{value:I,children:M.jsx("div",{style:p,className:wt(f,_&&t,r&&`${t}-inline`,i&&`${t}-reverse`,y==="switch"&&n),children:b||M.jsxs(M.Fragment,{children:[D,_&&M.jsx(SS,{title:m,children:C}),c&&M.jsx(i1,{type:d,tooltip:l,children:c})]})})})});b8.displayName="FormCheck";const xS=Object.assign(b8,{Input:Oy,Label:SS}),S8=T.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:d="input",...f},p)=>{const{controlId:m}=T.useContext(hc);return e=Ft(e,"form-control"),M.jsx(d,{...f,type:t,size:r,ref:p,readOnly:c,id:i||m,className:wt(s,l?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",a&&"is-invalid")})});S8.displayName="FormControl";const aae=Object.assign(S8,{Feedback:i1}),x8=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ft(t,"form-floating"),M.jsx(n,{ref:i,className:wt(e,t),...r})));x8.displayName="FormFloating";const PF=T.forwardRef(({controlId:e,as:t="div",...n},r)=>{const i=T.useMemo(()=>({controlId:e}),[e]);return M.jsx(hc.Provider,{value:i,children:M.jsx(t,{...n,ref:r})})});PF.displayName="FormGroup";const E8=T.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=T.useContext(hc);t=Ft(t,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=wt(i,t,r&&"visually-hidden",n&&c);return s=s||l,n?M.jsx(tl,{ref:a,as:"label",className:d,htmlFor:s,...o}):M.jsx(e,{ref:a,className:d,htmlFor:s,...o})});E8.displayName="FormLabel";const T8=T.forwardRef(({bsPrefix:e,className:t,id:n,...r},i)=>{const{controlId:s}=T.useContext(hc);return e=Ft(e,"form-range"),M.jsx("input",{...r,type:"range",ref:i,className:wt(t,e),id:n||s})});T8.displayName="FormRange";const R8=T.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=T.useContext(hc);return e=Ft(e,"form-select"),M.jsx("select",{...a,size:n,ref:l,className:wt(r,e,t&&`${e}-${t}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});R8.displayName="FormSelect";const A8=T.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...i},s)=>(e=Ft(e,"form-text"),M.jsx(n,{...i,ref:s,className:wt(t,e,r&&"text-muted")})));A8.displayName="FormText";const _8=T.forwardRef((e,t)=>M.jsx(xS,{...e,ref:t,type:"switch"}));_8.displayName="Switch";const lae=Object.assign(_8,{Input:xS.Input,Label:xS.Label}),ES=T.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:i,...s},o)=>(e=Ft(e,"form-floating"),M.jsxs(PF,{ref:o,className:wt(t,e),controlId:r,...s,children:[n,M.jsx("label",{htmlFor:r,children:i})]})));ES.displayName="FloatingLabel";const cae={_ref:rc.any,validated:rc.bool,as:rc.elementType},FF=T.forwardRef(({className:e,validated:t,as:n="form",...r},i)=>M.jsx(n,{...r,ref:i,className:wt(e,t&&"was-validated")}));FF.displayName="Form";FF.propTypes=cae;const Sn=Object.assign(FF,{Group:PF,Control:aae,Floating:x8,Check:xS,Switch:lae,Label:E8,Text:A8,Range:T8,Select:R8,FloatingLabel:ES}),s1=T.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Ft(t,"input-group-text"),M.jsx(n,{ref:i,className:wt(e,t),...r})));s1.displayName="InputGroupText";const uae=e=>M.jsx(s1,{children:M.jsx(Oy,{type:"checkbox",...e})}),dae=e=>M.jsx(s1,{children:M.jsx(Oy,{type:"radio",...e})}),D8=T.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:r,as:i="div",...s},o)=>{e=Ft(e,"input-group");const a=T.useMemo(()=>({}),[]);return M.jsx(w8.Provider,{value:a,children:M.jsx(i,{ref:o,...s,className:wt(r,e,t&&`${e}-${t}`,n&&"has-validation")})})});D8.displayName="InputGroup";const $d=Object.assign(D8,{Text:s1,Radio:dae,Checkbox:uae}),g4=e=>!e||typeof e=="function"?e:t=>{e.current=t};function hae(e,t){const n=g4(e),r=g4(t);return i=>{n&&n(i),r&&r(i)}}function o1(e,t){return T.useMemo(()=>hae(e,t),[e,t])}const P8=T.createContext(null),fae=["as","active","eventKey"];function pae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function F8({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=T.useContext(bS),a=T.useContext(_F),l=T.useContext(P8);let c=n;const d={role:i};if(a){!i&&a.role==="tablist"&&(d.role="tab");const f=a.getControllerId(e??null),p=a.getControlledId(e??null);d[r1("event-key")]=e,d.id=f||r,c=n==null&&e!=null?a.activeKey===e:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Zl(f=>{s||(t?.(f),e!=null&&o&&!f.isPropagationStopped()&&o(e,f))}),[d,{isActive:c}]}const k8=T.forwardRef((e,t)=>{let{as:n=s8,active:r,eventKey:i}=e,s=pae(e,fae);const[o,a]=F8(Object.assign({key:AF(i,s.href),active:r},s));return o[r1("active")]=a.isActive,M.jsx(n,Object.assign({},s,o,{ref:t}))});k8.displayName="NavItem";const gae=["as","onSelect","activeKey","role","onKeyDown"];function mae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const m4=()=>{},v4=r1("event-key"),I8=T.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,a=mae(e,gae);const l=Joe(),c=T.useRef(!1),d=T.useContext(bS),f=T.useContext(P8);let p,m;f&&(s=s||"tablist",i=f.activeKey,p=f.getControlledId,m=f.getControllerId);const y=T.useRef(null),C=E=>{const F=y.current;if(!F)return null;const I=Ld(F,`[${v4}]:not([aria-disabled=true])`),_=F.querySelector("[aria-selected=true]");if(!_||_!==document.activeElement)return null;const D=I.indexOf(_);if(D===-1)return null;let P=D+E;return P>=I.length&&(P=0),P<0&&(P=I.length-1),I[P]},b=(E,F)=>{E!=null&&(r?.(E,F),d?.(E,F))},x=E=>{if(o?.(E),!f)return;let F;switch(E.key){case"ArrowLeft":case"ArrowUp":F=C(-1);break;case"ArrowRight":case"ArrowDown":F=C(1);break;default:return}F&&(E.preventDefault(),b(F.dataset[nae("EventKey")]||null,E),c.current=!0,l())};T.useEffect(()=>{if(y.current&&c.current){const E=y.current.querySelector(`[${v4}][aria-selected=true]`);E?.focus()}c.current=!1});const R=o1(t,y);return M.jsx(bS.Provider,{value:b,children:M.jsx(_F.Provider,{value:{role:s,activeKey:AF(i),getControlledId:p||m4,getControllerId:m||m4},children:M.jsx(n,Object.assign({},a,{onKeyDown:x,ref:R,role:s}))})})});I8.displayName="Nav";const vae=Object.assign(I8,{Item:k8}),M8=T.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},c)=>{e=Ft(e,"list-group-item");const[d,f]=F8({key:AF(r,l.href),active:t,...l}),p=Iu(y=>{if(n){y.preventDefault(),y.stopPropagation();return}d.onClick(y)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const m=a||(o?l.href?"a":"button":"div");return M.jsx(m,{ref:c,...l,...d,onClick:p,className:wt(i,e,f.isActive&&"active",n&&"disabled",s&&`${e}-${s}`,o&&`${e}-action`)})});M8.displayName="ListGroupItem";const O8=T.forwardRef((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=xF(e,{activeKey:"onSelect"}),c=Ft(r,"list-group");let d;return s&&(d=s===!0?"horizontal":`horizontal-${s}`),M.jsx(vae,{ref:t,...l,as:a,className:wt(n,c,i&&`${c}-${i}`,d&&`${c}-${d}`,o&&`${c}-numbered`)})});O8.displayName="ListGroup";const ua=Object.assign(O8,{Item:M8});var Hw;function y4(e){if((!Hw&&Hw!==0||e)&&Sg){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Hw=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Hw}function yae(){return T.useState(null)}function _R(e){e===void 0&&(e=e1());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Cae(e){const t=T.useRef(e);return t.current=e,t}function wae(e){const t=Cae(e);T.useEffect(()=>()=>t.current(),[])}function bae(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const C4=r1("modal-open");class kF{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return bae(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(nc(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(C4,""),nc(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(C4),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const DR=(e,t)=>Sg?e==null?(t||e1()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Sae(e,t){const n=DF(),[r,i]=T.useState(()=>DR(e,n?.document));if(!r){const s=DR(e);s&&i(s)}return T.useEffect(()=>{},[t,r]),T.useEffect(()=>{const s=DR(e);s!==r&&i(s)},[e,r]),r}function xae({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=T.useRef(null),o=T.useRef(t),a=Zl(n);T.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const l=o1(s,bg(e)),c=T.cloneElement(e,{ref:l});return t?c:i||!o.current&&r?null:c}const Eae=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Tae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rae(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=e,c=Tae(e,Eae);const d=T.useRef(null),f=o1(d,bg(l)),p=F=>I=>{F&&d.current&&F(d.current,I)},m=T.useCallback(p(t),[t]),y=T.useCallback(p(n),[n]),C=T.useCallback(p(r),[r]),b=T.useCallback(p(i),[i]),x=T.useCallback(p(s),[s]),R=T.useCallback(p(o),[o]),E=T.useCallback(p(a),[a]);return Object.assign({},c,{nodeRef:d},t&&{onEnter:m},n&&{onEntering:y},r&&{onEntered:C},i&&{onExit:b},s&&{onExiting:x},o&&{onExited:R},a&&{addEndListener:E},{children:typeof l=="function"?(F,I)=>l(F,Object.assign({},I,{ref:f})):T.cloneElement(l,{ref:f})})}const Aae=["component"];function _ae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Dae=T.forwardRef((e,t)=>{let{component:n}=e,r=_ae(e,Aae);const i=Rae(r);return M.jsx(n,Object.assign({ref:t},i))});function Pae({in:e,onTransition:t}){const n=T.useRef(null),r=T.useRef(!0),i=Zl(t);return f4(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),f4(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Fae({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=T.useState(!t);t&&s&&o(!1);const a=Pae({in:!!t,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r?.(c.element,c.initial):(o(!0),n?.(c.element)))};Promise.resolve(i(c)).then(d,f=>{throw c.in||o(!0),f})}}),l=o1(a,bg(e));return s&&!t?null:T.cloneElement(e,{ref:l})}function w4(e,t,n){return e?M.jsx(Dae,Object.assign({},n,{component:e})):t?M.jsx(Fae,Object.assign({},n,{transition:t})):M.jsx(xae,Object.assign({},n))}const kae=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Iae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let PR;function Mae(e){return PR||(PR=new kF({ownerDocument:e?.document})),PR}function Oae(e){const t=DF(),n=e||Mae(t),r=T.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:T.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:T.useCallback(i=>{r.current.backdrop=i},[])})}const L8=T.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:y,autoFocus:C=!0,enforceFocus:b=!0,restoreFocus:x=!0,restoreFocusOptions:R,renderDialog:E,renderBackdrop:F=Xe=>M.jsx("div",Object.assign({},Xe)),manager:I,container:_,onShow:D,onHide:P=()=>{},onExit:k,onExited:B,onExiting:N,onEnter:V,onEntering:G,onEntered:oe}=e,le=Iae(e,kae);const J=DF(),se=Sae(_),he=Oae(I),ne=Moe(),L=Ooe(n),[ae,W]=T.useState(!n),H=T.useRef(null);T.useImperativeHandle(t,()=>he,[he]),Sg&&!L&&n&&(H.current=_R(J?.document)),n&&ae&&W(!1);const X=Zl(()=>{if(he.add(),Fe.current=CS(document,"keydown",Ne),Ie.current=CS(document,"focus",()=>setTimeout(fe),!0),D&&D(),C){var Xe,Ze;const ke=_R((Xe=(Ze=he.dialog)==null?void 0:Ze.ownerDocument)!=null?Xe:J?.document);he.dialog&&ke&&!p4(he.dialog,ke)&&(H.current=ke,he.dialog.focus())}}),ie=Zl(()=>{if(he.remove(),Fe.current==null||Fe.current(),Ie.current==null||Ie.current(),x){var Xe;(Xe=H.current)==null||Xe.focus==null||Xe.focus(R),H.current=null}});T.useEffect(()=>{!n||!se||X()},[n,se,X]),T.useEffect(()=>{ae&&ie()},[ae,ie]),wae(()=>{ie()});const fe=Zl(()=>{if(!b||!ne()||!he.isTopModal())return;const Xe=_R(J?.document);he.dialog&&Xe&&!p4(he.dialog,Xe)&&he.dialog.focus()}),Be=Zl(Xe=>{Xe.target===Xe.currentTarget&&(c?.(Xe),a===!0&&P())}),Ne=Zl(Xe=>{l&&Soe(Xe)&&he.isTopModal()&&(d?.(Xe),Xe.defaultPrevented||P())}),Ie=T.useRef(),Fe=T.useRef(),rt=(...Xe)=>{W(!0),B?.(...Xe)};if(!se)return null;const re=Object.assign({role:r,ref:he.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},le,{style:s,className:i,tabIndex:-1});let bt=E?E(re):M.jsx("div",Object.assign({},re,{children:T.cloneElement(o,{role:"document"})}));bt=w4(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:k,onExiting:N,onExited:rt,onEnter:V,onEntering:G,onEntered:oe,children:bt});let ze=null;return a&&(ze=F({ref:he.setBackdropRef,onClick:Be}),ze=w4(m,y,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ze})),M.jsx(M.Fragment,{children:yu.createPortal(M.jsxs(M.Fragment,{children:[ze,bt]}),se)})});L8.displayName="Modal";const N8=Object.assign(L8,{Manager:kF});function Lae(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Nae(e,t){e.classList?e.classList.add(t):Lae(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function b4(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Bae(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=b4(e.className,t):e.setAttribute("class",b4(e.className&&e.className.baseVal||"",t))}const $f={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class B8 extends kF{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,nc(n,{[t]:`${parseFloat(nc(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],nc(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Nae(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ld(n,$f.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),Ld(n,$f.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),Ld(n,$f.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Bae(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ld(n,$f.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Ld(n,$f.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Ld(n,$f.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let FR;function V8(e){return FR||(FR=new B8(e)),FR}const H8=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ft(t,"modal-body"),M.jsx(n,{ref:i,className:wt(e,t),...r})));H8.displayName="ModalBody";const IF=T.createContext({onHide(){}}),MF=T.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{e=Ft(e,"modal");const d=`${e}-dialog`,f=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return M.jsx("div",{...l,ref:c,className:wt(d,t,i&&`${e}-${i}`,r&&`${d}-centered`,a&&`${d}-scrollable`,s&&f),children:M.jsx("div",{className:wt(`${e}-content`,n),children:o})})});MF.displayName="ModalDialog";const G8=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ft(t,"modal-footer"),M.jsx(n,{ref:i,className:wt(e,t),...r})));G8.displayName="ModalFooter";const OF=T.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=T.useContext(IF),l=Iu(()=>{a?.onHide(),r?.()});return M.jsxs("div",{ref:o,...s,children:[i,n&&M.jsx(n1,{"aria-label":e,variant:t,onClick:l})]})});OF.displayName="AbstractModalHeader";const U8=T.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Ft(e,"modal-header"),M.jsx(OF,{ref:s,...i,className:wt(t,e),closeLabel:n,closeButton:r})));U8.displayName="ModalHeader";const Vae=Iy("h4"),z8=T.forwardRef(({className:e,bsPrefix:t,as:n=Vae,...r},i)=>(t=Ft(t,"modal-title"),M.jsx(n,{ref:i,className:wt(e,t),...r})));z8.displayName="ModalTitle";function Hae(e){return M.jsx(qp,{...e,timeout:null})}function Gae(e){return M.jsx(qp,{...e,timeout:null})}const j8=T.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=MF,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":c,"aria-label":d,show:f=!1,animation:p=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:C,onShow:b,onHide:x,container:R,autoFocus:E=!0,enforceFocus:F=!0,restoreFocus:I=!0,restoreFocusOptions:_,onEntered:D,onExit:P,onExiting:k,onEnter:B,onEntering:N,onExited:V,backdropClassName:G,manager:oe,...le},J)=>{const[se,he]=T.useState({}),[ne,L]=T.useState(!1),ae=T.useRef(!1),W=T.useRef(!1),H=T.useRef(null),[X,ie]=yae(),fe=t8(J,ie),Be=Iu(x),Ne=coe();e=Ft(e,"modal");const Ie=T.useMemo(()=>({onHide:Be}),[Be]);function Fe(){return oe||V8({isRTL:Ne})}function rt(ve){if(!Sg)return;const Oe=Fe().getScrollbarWidth()>0,Ke=ve.scrollHeight>e1(ve).documentElement.clientHeight;he({paddingRight:Oe&&!Ke?y4():void 0,paddingLeft:!Oe&&Ke?y4():void 0})}const re=Iu(()=>{X&&rt(X.dialog)});Yoe(()=>{M_(window,"resize",re),H.current==null||H.current()});const bt=()=>{ae.current=!0},ze=ve=>{ae.current&&X&&ve.target===X.dialog&&(W.current=!0),ae.current=!1},Xe=()=>{L(!0),H.current=Jz(X.dialog,()=>{L(!1)})},Ze=ve=>{ve.target===ve.currentTarget&&Xe()},ke=ve=>{if(m==="static"){Ze(ve);return}if(W.current||ve.target!==ve.currentTarget){W.current=!1;return}x?.()},ct=ve=>{y?C?.(ve):(ve.preventDefault(),m==="static"&&Xe())},At=(ve,Oe)=>{ve&&rt(ve),B?.(ve,Oe)},mt=ve=>{H.current==null||H.current(),P?.(ve)},_t=(ve,Oe)=>{N?.(ve,Oe),Zz(window,"resize",re)},It=ve=>{ve&&(ve.style.display=""),V?.(ve),M_(window,"resize",re)},Gt=T.useCallback(ve=>M.jsx("div",{...ve,className:wt(`${e}-backdrop`,G,!p&&"show")}),[p,G,e]),$t={...n,...se};$t.display="block";const wn=ve=>M.jsx("div",{role:"dialog",...ve,style:$t,className:wt(t,e,ne&&`${e}-static`,!p&&"show"),onClick:m?ke:void 0,onMouseUp:ze,"data-bs-theme":a,"aria-label":d,"aria-labelledby":l,"aria-describedby":c,children:M.jsx(o,{...le,onMouseDown:bt,className:r,contentClassName:i,children:s})});return M.jsx(IF.Provider,{value:Ie,children:M.jsx(N8,{show:f,ref:fe,backdrop:m,container:R,keyboard:!0,autoFocus:E,enforceFocus:F,restoreFocus:I,restoreFocusOptions:_,onEscapeKeyDown:ct,onShow:b,onHide:x,onEnter:At,onEntering:_t,onEntered:D,onExit:mt,onExiting:k,onExited:It,manager:Fe(),transition:p?Hae:void 0,backdropTransition:p?Gae:void 0,renderBackdrop:Gt,renderDialog:wn})})});j8.displayName="Modal";const sr=Object.assign(j8,{Body:H8,Header:U8,Title:z8,Footer:G8,Dialog:MF,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),W8=T.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=Ft(e,"navbar-brand");const s=n||(r.href?"a":"span");return M.jsx(s,{...r,ref:i,className:wt(t,e)})});W8.displayName="NavbarBrand";const $8=T.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=Ft(t,"navbar-collapse");const i=T.useContext(My);return M.jsx(n8,{in:!!(i&&i.expanded),...n,children:M.jsx("div",{ref:r,className:t,children:e})})});$8.displayName="NavbarCollapse";const q8=T.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{e=Ft(e,"navbar-toggler");const{onToggle:l,expanded:c}=T.useContext(My)||{},d=Iu(f=>{s&&s(f),l&&l()});return i==="button"&&(o.type="button"),M.jsx(i,{...o,ref:a,onClick:d,"aria-label":r,className:wt(t,e,!c&&"collapsed"),children:n||M.jsx("span",{className:`${e}-icon`})})});q8.displayName="NavbarToggle";const L_=new WeakMap,S4=(e,t)=>{if(!e||!t)return;const n=L_.get(t)||new Map;L_.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Uae(e,t=typeof window>"u"?void 0:window){const n=S4(e,t),[r,i]=T.useState(()=>n?n.matches:!1);return sae(()=>{let s=S4(e,t);if(!s)return i(!1);let o=L_.get(t);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[e]),r}function zae(e){const t=Object.keys(e);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function i(a){const l=r(a);let c=e[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let l=e[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,c){let d;typeof a=="object"?(d=a,c=l,l=!0):(l=l||!0,d={[a]:l});let f=T.useMemo(()=>Object.entries(d).reduce((p,[m,y])=>((y==="up"||y===!0)&&(p=n(p,s(m))),(y==="down"||y===!0)&&(p=n(p,i(m))),p),""),[JSON.stringify(d)]);return Uae(f,c)}return o}const jae=zae({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),K8=T.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ft(t,"offcanvas-body"),M.jsx(n,{ref:i,className:wt(e,t),...r})));K8.displayName="OffcanvasBody";const Wae={[la]:"show",[Ql]:"show"},Y8=T.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(e=Ft(e,"offcanvas"),M.jsx(t1,{ref:l,addEndListener:EF,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:bg(n),children:(c,d)=>T.cloneElement(n,{...d,className:wt(t,n.props.className,(c===la||c===wv)&&`${e}-toggling`,Wae[c])})})));Y8.displayName="OffcanvasToggling";const X8=T.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Ft(e,"offcanvas-header"),M.jsx(OF,{ref:s,...i,className:wt(t,e),closeLabel:n,closeButton:r})));X8.displayName="OffcanvasHeader";const $ae=Iy("h5"),Q8=T.forwardRef(({className:e,bsPrefix:t,as:n=$ae,...r},i)=>(t=Ft(t,"offcanvas-title"),M.jsx(n,{ref:i,className:wt(e,t),...r})));Q8.displayName="OffcanvasTitle";function qae(e){return M.jsx(Y8,{...e})}function Kae(e){return M.jsx(qp,{...e})}const Z8=T.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:f,onHide:p,container:m,autoFocus:y=!0,enforceFocus:C=!0,restoreFocus:b=!0,restoreFocusOptions:x,onEntered:R,onExit:E,onExiting:F,onEnter:I,onEntering:_,onExited:D,backdropClassName:P,manager:k,renderStaticNode:B=!1,...N},V)=>{const G=T.useRef();e=Ft(e,"offcanvas");const[oe,le]=T.useState(!1),J=Iu(p),se=jae(s||"xs","up");T.useEffect(()=>{le(s?o&&!se:o)},[o,s,se]);const he=T.useMemo(()=>({onHide:J}),[J]);function ne(){return k||(c?(G.current||(G.current=new B8({handleContainerOverflow:!1})),G.current):V8())}const L=(X,...ie)=>{X&&(X.style.visibility="visible"),I?.(X,...ie)},ae=(X,...ie)=>{X&&(X.style.visibility=""),D?.(...ie)},W=T.useCallback(X=>M.jsx("div",{...X,className:wt(`${e}-backdrop`,P)}),[P,e]),H=X=>M.jsx("div",{...X,...N,className:wt(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return M.jsxs(M.Fragment,{children:[!oe&&(s||B)&&H({}),M.jsx(IF.Provider,{value:he,children:M.jsx(N8,{show:oe,ref:V,backdrop:a,container:m,keyboard:l,autoFocus:y,enforceFocus:C&&!c,restoreFocus:b,restoreFocusOptions:x,onEscapeKeyDown:d,onShow:f,onHide:J,onEnter:L,onEntering:_,onEntered:R,onExit:E,onExiting:F,onExited:ae,manager:ne(),transition:qae,backdropTransition:Kae,renderBackdrop:W,renderDialog:H})})]})});Z8.displayName="Offcanvas";const p0=Object.assign(Z8,{Body:K8,Header:X8,Title:Q8}),J8=T.forwardRef(({onHide:e,...t},n)=>{const r=T.useContext(My),i=Iu(()=>{r==null||r.onToggle==null||r.onToggle(),e?.()});return M.jsx(p0,{ref:n,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:i})});J8.displayName="NavbarOffcanvas";const e9=T.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Ft(t,"navbar-text"),M.jsx(n,{ref:i,className:wt(e,t),...r})));e9.displayName="NavbarText";const t9=T.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:d,onToggle:f,onSelect:p,collapseOnSelect:m=!1,...y}=xF(e,{expanded:"onToggle"}),C=Ft(n,"navbar"),b=T.useCallback((...E)=>{p?.(...E),m&&d&&f?.(!1)},[p,m,d,f]);y.role===void 0&&c!=="nav"&&(y.role="navigation");let x=`${C}-expand`;typeof r=="string"&&(x=`${x}-${r}`);const R=T.useMemo(()=>({onToggle:()=>f?.(!d),bsPrefix:C,expanded:!!d,expand:r}),[C,d,r,f]);return M.jsx(My.Provider,{value:R,children:M.jsx(bS.Provider,{value:b,children:M.jsx(c,{ref:t,...y,className:wt(l,C,r&&x,i&&`${C}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});t9.displayName="Navbar";const Yae=Object.assign(t9,{Brand:W8,Collapse:$8,Offcanvas:J8,Text:e9,Toggle:q8}),Kp=T.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Ft(e,"row"),o=Yz(),a=Xz(),l=`${s}-cols`,c=[];return o.forEach(d=>{const f=r[d];delete r[d];let p;f!=null&&typeof f=="object"?{cols:p}=f:p=f;const m=d!==a?`-${d}`:"";p!=null&&c.push(`${l}${m}-${p}`)}),M.jsx(n,{ref:i,...r,className:wt(t,s,...c)})});Kp.displayName="Row";const Ko=T.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{e=Ft(e,"spinner");const l=`${e}-${n}`;return M.jsx(i,{ref:a,...o,className:wt(s,l,r&&`${l}-${r}`,t&&`text-${t}`)})});Ko.displayName="Spinner";const n9=T.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...c},d)=>{const f=Ft(e,"table"),p=wt(t,f,a&&`${f}-${a}`,o&&`${f}-${o}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,i&&`${f}-borderless`,s&&`${f}-hover`),m=M.jsx("table",{...c,className:p,ref:d});if(l){let y=`${f}-responsive`;return typeof l=="string"&&(y=`${y}-${l}`),M.jsx("div",{className:y,children:m})}return m});n9.displayName="Table";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),x4=e=>{const t=Qae(e);return t.charAt(0).toUpperCase()+t.slice(1)},r9=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Zae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...Jae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:r9("lucide",i),...!s&&!Zae(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=(e,t)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(ele,{ref:s,iconNode:t,className:r9(`lucide-${Xae(x4(e))}`,`lucide-${e}`,r),...i}));return n.displayName=x4(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],E4=Jn("arrow-right",tle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T4=Jn("book-open",nle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],LF=Jn("bot",rle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],sle=Jn("box",ile);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ale=Jn("eye-off",ole);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cle=Jn("eye",lle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],i9=Jn("heart",ule);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],R4=Jn("image",dle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fle=Jn("info",hle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gle=Jn("layers",ple);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vle=Jn("log-out",mle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cle=Jn("mail",yle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ble=Jn("map",wle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],xle=Jn("menu",Sle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Tle=Jn("message-square",Ele);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ly=Jn("plus",Rle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_le=Jn("refresh-cw",Ale);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ple=Jn("save",Dle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],NF=Jn("search",Fle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ile=Jn("send",kle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BF=Jn("trash-2",Mle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lle=Jn("upload",Ole);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],VF=Jn("user-plus",Nle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HF=Jn("user",Ble);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ic=Jn("users",Vle),Hle=()=>{};var A4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Gle=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},o9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Gle(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Ule;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ule extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zle=function(e){const t=s9(e);return o9.encodeByteArray(t,!0)},TS=function(e){return zle(e).replace(/\./g,"")},a9=function(e){try{return o9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wle=()=>jle().__FIREBASE_DEFAULTS__,$le=()=>{if(typeof process>"u"||typeof A4>"u")return;const e=A4.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qle=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&a9(e[1]);return t&&JSON.parse(t)},a1=()=>{try{return Hle()||Wle()||$le()||qle()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},l9=e=>a1()?.emulatorHosts?.[e],c9=e=>{const t=l9(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},u9=()=>a1()?.config,d9=e=>a1()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kle{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GF(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[TS(JSON.stringify(n)),TS(JSON.stringify(o)),""].join(".")}const F0={};function Yle(){const e={prod:[],emulator:[]};for(const t of Object.keys(F0))F0[t]?e.emulator.push(t):e.prod.push(t);return e}function Xle(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let _4=!1;function UF(e,t){if(typeof window>"u"||typeof document>"u"||!Qu(window.location.host)||F0[e]===t||F0[e]||_4)return;F0[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=Yle().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{_4=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Xle(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),C=n("learnmore"),b=document.getElementById(C)||document.createElement("a"),x=n("preprendIcon"),R=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(b,C);const F=c();l(R,x),E.append(R,y,b,F),document.body.appendChild(E)}s?(y.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qi())}function Zle(){const e=a1()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jle(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ece(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nce(){const e=qi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rce(){return!Zle()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ice(){try{return typeof indexedDB=="object"}catch{return!1}}function sce(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oce="FirebaseError";class ba extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=oce,Object.setPrototypeOf(this,ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ny.prototype.create)}}class Ny{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?ace(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ba(i,a,r)}}function ace(e,t){return e.replace(lce,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const lce=/\{\$([^}]+)}/g;function cce(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(D4(s)&&D4(o)){if(!fc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D4(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function g0(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function m0(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function uce(e,t){const n=new dce(e,t);return n.subscribe.bind(n)}class dce{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hce(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=kR),i.error===void 0&&(i.error=kR),i.complete===void 0&&(i.complete=kR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hce(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function kR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e){return e&&e._delegate?e._delegate:e}let Mu=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fce=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Kle;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gce(t))try{this.getOrInitializeService({instanceIdentifier:Nd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Nd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Nd){return this.instances.has(t)}getOptions(t=Nd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pce(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Nd){return this.component?this.component.multipleInstances?t:Nd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pce(e){return e===Nd?void 0:e}function gce(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fce(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rn||(rn={}));const vce={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},yce=rn.INFO,Cce={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},wce=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Cce[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zF{constructor(t){this.name=t,this._logLevel=yce,this._logHandler=wce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vce[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...t),this._logHandler(this,rn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...t),this._logHandler(this,rn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...t),this._logHandler(this,rn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...t),this._logHandler(this,rn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...t),this._logHandler(this,rn.ERROR,...t)}}const bce=(e,t)=>t.some(n=>e instanceof n);let P4,F4;function Sce(){return P4||(P4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xce(){return F4||(F4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f9=new WeakMap,N_=new WeakMap,p9=new WeakMap,IR=new WeakMap,jF=new WeakMap;function Ece(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Su(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&f9.set(n,e)}).catch(()=>{}),jF.set(t,e),t}function Tce(e){if(N_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});N_.set(e,t)}let B_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return N_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||p9.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Su(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rce(e){B_=e(B_)}function Ace(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(MR(this),t,...n);return p9.set(r,t.sort?t.sort():[t]),Su(r)}:xce().includes(e)?function(...t){return e.apply(MR(this),t),Su(f9.get(this))}:function(...t){return Su(e.apply(MR(this),t))}}function _ce(e){return typeof e=="function"?Ace(e):(e instanceof IDBTransaction&&Tce(e),bce(e,Sce())?new Proxy(e,B_):e)}function Su(e){if(e instanceof IDBRequest)return Ece(e);if(IR.has(e))return IR.get(e);const t=_ce(e);return t!==e&&(IR.set(e,t),jF.set(t,e)),t}const MR=e=>jF.get(e);function Dce(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Su(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Su(o.result),l.oldVersion,l.newVersion,Su(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Pce=["get","getKey","getAll","getAllKeys","count"],Fce=["put","add","delete","clear"],OR=new Map;function k4(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(OR.get(t))return OR.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Fce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pce.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return OR.set(t,s),s}Rce(e=>({...e,get:(t,n,r)=>k4(t,n)||e.get(t,n,r),has:(t,n)=>!!k4(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ice(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ice(e){return e.getComponent()?.type==="VERSION"}const V_="@firebase/app",I4="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new zF("@firebase/app"),Mce="@firebase/app-compat",Oce="@firebase/analytics-compat",Lce="@firebase/analytics",Nce="@firebase/app-check-compat",Bce="@firebase/app-check",Vce="@firebase/auth",Hce="@firebase/auth-compat",Gce="@firebase/database",Uce="@firebase/data-connect",zce="@firebase/database-compat",jce="@firebase/functions",Wce="@firebase/functions-compat",$ce="@firebase/installations",qce="@firebase/installations-compat",Kce="@firebase/messaging",Yce="@firebase/messaging-compat",Xce="@firebase/performance",Qce="@firebase/performance-compat",Zce="@firebase/remote-config",Jce="@firebase/remote-config-compat",eue="@firebase/storage",tue="@firebase/storage-compat",nue="@firebase/firestore",rue="@firebase/ai",iue="@firebase/firestore-compat",sue="firebase",oue="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="[DEFAULT]",aue={[V_]:"fire-core",[Mce]:"fire-core-compat",[Lce]:"fire-analytics",[Oce]:"fire-analytics-compat",[Bce]:"fire-app-check",[Nce]:"fire-app-check-compat",[Vce]:"fire-auth",[Hce]:"fire-auth-compat",[Gce]:"fire-rtdb",[Uce]:"fire-data-connect",[zce]:"fire-rtdb-compat",[jce]:"fire-fn",[Wce]:"fire-fn-compat",[$ce]:"fire-iid",[qce]:"fire-iid-compat",[Kce]:"fire-fcm",[Yce]:"fire-fcm-compat",[Xce]:"fire-perf",[Qce]:"fire-perf-compat",[Zce]:"fire-rc",[Jce]:"fire-rc-compat",[eue]:"fire-gcs",[tue]:"fire-gcs-compat",[nue]:"fire-fst",[iue]:"fire-fst-compat",[rue]:"fire-vertex","fire-js":"fire-js",[sue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new Map,lue=new Map,G_=new Map;function M4(e,t){try{e.container.addComponent(t)}catch(n){pc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function yh(e){const t=e.name;if(G_.has(t))return pc.debug(`There were multiple attempts to register component ${t}.`),!1;G_.set(t,e);for(const n of RS.values())M4(n,e);for(const n of lue.values())M4(n,e);return!0}function l1(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ys(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xu=new Ny("app","Firebase",cue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=oue;function g9(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:H_,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw xu.create("bad-app-name",{appName:String(i)});if(n||(n=u9()),!n)throw xu.create("no-options");const s=RS.get(i);if(s){if(fc(n,s.options)&&fc(r,s.config))return s;throw xu.create("duplicate-app",{appName:i})}const o=new mce(i);for(const l of G_.values())o.addComponent(l);const a=new uue(n,r,o);return RS.set(i,a),a}function WF(e=H_){const t=RS.get(e);if(!t&&e===H_&&u9())return g9();if(!t)throw xu.create("no-app",{appName:e});return t}function nl(e,t,n){let r=aue[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pc.warn(o.join(" "));return}yh(new Mu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const due="firebase-heartbeat-database",hue=1,Sv="firebase-heartbeat-store";let LR=null;function m9(){return LR||(LR=Dce(due,hue,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Sv)}catch(n){console.warn(n)}}}}).catch(e=>{throw xu.create("idb-open",{originalErrorMessage:e.message})})),LR}async function fue(e){try{const n=(await m9()).transaction(Sv),r=await n.objectStore(Sv).get(v9(e));return await n.done,r}catch(t){if(t instanceof ba)pc.warn(t.message);else{const n=xu.create("idb-get",{originalErrorMessage:t?.message});pc.warn(n.message)}}}async function O4(e,t){try{const r=(await m9()).transaction(Sv,"readwrite");await r.objectStore(Sv).put(t,v9(e)),await r.done}catch(n){if(n instanceof ba)pc.warn(n.message);else{const r=xu.create("idb-set",{originalErrorMessage:n?.message});pc.warn(r.message)}}}function v9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pue=1024,gue=30;class mue{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>gue){const i=Cue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pc.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L4(),{heartbeatsToSend:n,unsentEntries:r}=vue(this._heartbeatsCache.heartbeats),i=TS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return pc.warn(t),""}}}function L4(){return new Date().toISOString().substring(0,10)}function vue(e,t=pue){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),N4(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N4(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yue{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ice()?sce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fue(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function N4(e){return TS(JSON.stringify({version:2,heartbeats:e})).length}function Cue(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wue(e){yh(new Mu("platform-logger",t=>new kce(t),"PRIVATE")),yh(new Mu("heartbeat",t=>new mue(t),"PRIVATE")),nl(V_,I4,e),nl(V_,I4,"esm2020"),nl("fire-js","")}wue("");var bue="firebase",Sue="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nl(bue,Sue,"app");const xue="AIzaSyCw5stPCkMrXawbxzgT-aFT8Q3_swl5Ms4",Eue="tutordecolonial.firebaseapp.com",Tue="tutordecolonial",Rue="tutordecolonial.firebasestorage.app",Aue="1086836762849",_ue="1:1086836762849:web:ed4d9b2715c421e4eeafa0",Due={apiKey:xue,authDomain:Eue,projectId:Tue,storageBucket:Rue,messagingSenderId:Aue,appId:_ue};function y9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pue=y9,C9=new Ny("auth","Firebase",y9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new zF("@firebase/auth");function Fue(e,...t){AS.logLevel<=rn.WARN&&AS.warn(`Auth (${Gh}): ${e}`,...t)}function Bb(e,...t){AS.logLevel<=rn.ERROR&&AS.error(`Auth (${Gh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(e,...t){throw $F(e,...t)}function rl(e,...t){return $F(e,...t)}function w9(e,t,n){const r={...Pue(),[t]:n};return new Ny("auth","Firebase",r).create(t,{appName:e.name})}function sc(e){return w9(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $F(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return C9.create(e,...t)}function Lt(e,t,...n){if(!e)throw $F(t,...n)}function Jl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Bb(t),new Error(t)}function gc(e,t){e||Jl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){return typeof self<"u"&&self.location?.href||""}function kue(){return B4()==="http:"||B4()==="https:"}function B4(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kue()||ece()||"connection"in navigator)?navigator.onLine:!0}function Mue(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,n){this.shortDelay=t,this.longDelay=n,gc(n>t,"Short delay should be less than long delay!"),this.isMobile=Qle()||tce()}get(){return Iue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(e,t){gc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nue=new Vy(3e4,6e4);function Zu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ju(e,t,n,r,i={}){return S9(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=By({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...s};return Jle()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Qu(e.emulatorConfig.host)&&(c.credentials="include"),b9.fetch()(await x9(e,e.config.apiHost,n,a),c)})}async function S9(e,t,n){e._canInitEmulator=!1;const r={...Oue,...t};try{const i=new Vue(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gw(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gw(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gw(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gw(e,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw w9(e,d,c);ya(e,d)}}catch(i){if(i instanceof ba)throw i;ya(e,"network-request-failed",{message:String(i)})}}async function Hy(e,t,n,r,i={}){const s=await Ju(e,t,n,r,i);return"mfaPendingCredential"in s&&ya(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function x9(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?qF(e.config,i):`${e.config.apiScheme}://${i}`;return Lue.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Bue(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rl(this.auth,"network-request-failed")),Nue.get())})}}function Gw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rl(e,t,r);return i.customData._tokenResponse=n,i}function V4(e){return e!==void 0&&e.enterprise!==void 0}class Hue{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Bue(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gue(e,t){return Ju(e,"GET","/v2/recaptchaConfig",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uue(e,t){return Ju(e,"POST","/v1/accounts:delete",t)}async function _S(e,t){return Ju(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zue(e,t=!1){const n=Zn(e),r=await n.getIdToken(t),i=KF(r);Lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:k0(NR(i.auth_time)),issuedAtTime:k0(NR(i.iat)),expirationTime:k0(NR(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function NR(e){return Number(e)*1e3}function KF(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Bb("JWT malformed, contained fewer than 3 sections"),null;try{const i=a9(n);return i?JSON.parse(i):(Bb("Failed to decode base64 JWT payload"),null)}catch(i){return Bb("Caught error parsing JWT payload as JSON",i?.toString()),null}}function H4(e){const t=KF(e);return Lt(t,"internal-error"),Lt(typeof t.exp<"u","internal-error"),Lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ba&&jue(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function jue({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wue{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=k0(this.lastLoginAt),this.creationTime=k0(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(e){const t=e.auth,n=await e.getIdToken(),r=await xv(e,_S(t,{idToken:n}));Lt(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?E9(i.providerUserInfo):[],o=que(e.providerData,s),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new z_(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function $ue(e){const t=Zn(e);await DS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function que(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function E9(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kue(e,t){const n=await S9(e,{},async()=>{const r=By({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await x9(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&Qu(e.emulatorConfig.host)&&(l.credentials="include"),b9.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Yue(e,t){return Ju(e,"POST","/v2/accounts:revokeToken",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Lt(t.idToken,"internal-error"),Lt(typeof t.idToken<"u","internal-error"),Lt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):H4(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Lt(t.length!==0,"internal-error");const n=H4(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Kue(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cp;return r&&(Lt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Lt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Lt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Cp,this.toJSON())}_performRefresh(){return Jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(e,t){Lt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class da{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Wue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new z_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await xv(this,this.stsTokenManager.getToken(this.auth,t));return Lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return zue(this,t)}reload(){return $ue(this)}_assign(t){this!==t&&(Lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new da({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await DS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ys(this.auth.app))return Promise.reject(sc(this.auth));const t=await this.getIdToken();return await xv(this,Uue(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:C}=n;Lt(f&&C,t,"internal-error");const b=Cp.fromJSON(this.name,C);Lt(typeof f=="string",t,"internal-error"),eu(r,t.name),eu(i,t.name),Lt(typeof p=="boolean",t,"internal-error"),Lt(typeof m=="boolean",t,"internal-error"),eu(s,t.name),eu(o,t.name),eu(a,t.name),eu(l,t.name),eu(c,t.name),eu(d,t.name);const x=new da({uid:f,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(R=>({...R}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(t,n,r=!1){const i=new Cp;i.updateFromServerResponse(n);const s=new da({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await DS(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Lt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?E9(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Cp;a.updateFromIdToken(r);const l=new da({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new z_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Map;function ec(e){gc(e instanceof Function,"Expected a class definition");let t=G4.get(e);return t?(gc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,G4.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}T9.type="NONE";const U4=T9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(e,t,n){return`firebase:${e}:${t}:${n}`}class wp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vb(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await _S(this.auth,{idToken:t}).catch(()=>{});return n?da._fromGetAccountInfoResponse(this.auth,n,t):null}return da._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new wp(ec(U4),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ec(U4);const o=Vb(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await _S(t,{idToken:d}).catch(()=>{});if(!p)break;f=await da._fromGetAccountInfoResponse(t,p,d)}else f=da._fromJSON(t,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wp(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new wp(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D9(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(R9(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(F9(t))return"Blackberry";if(k9(t))return"Webos";if(A9(t))return"Safari";if((t.includes("chrome/")||_9(t))&&!t.includes("edge/"))return"Chrome";if(P9(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function R9(e=qi()){return/firefox\//i.test(e)}function A9(e=qi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _9(e=qi()){return/crios\//i.test(e)}function D9(e=qi()){return/iemobile/i.test(e)}function P9(e=qi()){return/android/i.test(e)}function F9(e=qi()){return/blackberry/i.test(e)}function k9(e=qi()){return/webos/i.test(e)}function YF(e=qi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xue(e=qi()){return YF(e)&&!!window.navigator?.standalone}function Que(){return nce()&&document.documentMode===10}function I9(e=qi()){return YF(e)||P9(e)||k9(e)||F9(e)||/windows phone/i.test(e)||D9(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(e,t=[]){let n;switch(e){case"Browser":n=z4(qi());break;case"Worker":n=`${z4(qi())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jue(e,t={}){return Ju(e,"GET","/v2/passwordPolicy",Zu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ede=6;class tde{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ede,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j4(this),this.idTokenSubscription=new j4(this),this.beforeStateQueue=new Zue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ec(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wp.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await _S(this,{idToken:t}),r=await da._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ys(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await DS(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Mue()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ys(this.app))return Promise.reject(sc(this));const n=t?Zn(t):null;return n&&Lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ys(this.app)?Promise.reject(sc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ys(this.app)?Promise.reject(sc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ec(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Jue(this),n=new tde(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ny("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Yue(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ec(t)||this._popupRedirectResolver;Lt(n,this,"argument-error"),this.redirectPersistenceManager=await wp.create(this,[ec(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=M9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Fue(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Uh(e){return Zn(e)}class j4{constructor(t){this.auth=t,this.observer=null,this.addObserver=uce(n=>this.observer=n)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rde(e){c1=e}function O9(e){return c1.loadJS(e)}function ide(){return c1.recaptchaEnterpriseScript}function sde(){return c1.gapiScript}function ode(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class ade{constructor(){this.enterprise=new lde}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class lde{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const cde="recaptcha-enterprise",L9="NO_RECAPTCHA";class ude{constructor(t){this.type=cde,this.auth=Uh(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Gue(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Hue(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;V4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(L9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ade().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&V4(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ide();l.length!==0&&(l+=a),O9(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function W4(e,t,n,r=!1,i=!1){const s=new ude(e);let o;if(i)o=L9;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function j_(e,t,n,r,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await W4(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await W4(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dde(e,t){const n=l1(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(fc(s,t??{}))return i;ya(i,"already-initialized")}return n.initialize({options:t})}function hde(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ec);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function fde(e,t,n){const r=Uh(e);Lt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=N9(t),{host:o,port:a}=pde(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Lt(fc(c,r.config.emulator)&&fc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Qu(o)?(GF(`${s}//${o}${l}`),UF("Auth",!0)):gde()}function N9(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pde(e){const t=N9(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$4(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$4(o)}}}function $4(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function gde(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Jl("not implemented")}_getIdTokenResponse(t){return Jl("not implemented")}_linkToIdToken(t,n){return Jl("not implemented")}_getReauthenticationResolver(t){return Jl("not implemented")}}async function mde(e,t){return Ju(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vde(e,t){return Hy(e,"POST","/v1/accounts:signInWithPassword",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yde(e,t){return Hy(e,"POST","/v1/accounts:signInWithEmailLink",Zu(e,t))}async function Cde(e,t){return Hy(e,"POST","/v1/accounts:signInWithEmailLink",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends XF{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ev(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ev(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j_(t,n,"signInWithPassword",vde);case"emailLink":return yde(t,{email:this._email,oobCode:this._password});default:ya(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j_(t,r,"signUpPassword",mde);case"emailLink":return Cde(t,{idToken:n,email:this._email,oobCode:this._password});default:ya(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(e,t){return Hy(e,"POST","/v1/accounts:signInWithIdp",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wde="http://localhost";class Ch extends XF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ch(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ya("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Ch(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return bp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,bp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bp(t,n)}buildRequest(){const t={requestUri:wde,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=By(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bde(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sde(e){const t=g0(m0(e)).link,n=t?g0(m0(t)).deep_link_id:null,r=g0(m0(e)).deep_link_id;return(r?g0(m0(r)).link:null)||r||n||t||e}class QF{constructor(t){const n=g0(m0(t)),r=n.apiKey??null,i=n.oobCode??null,s=bde(n.mode??null);Lt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Sde(t);try{return new QF(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.providerId=xg.PROVIDER_ID}static credential(t,n){return Ev._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=QF.parseLink(n);return Lt(r,"argument-error"),Ev._fromEmailAndCode(t,r.code,r.tenantId)}}xg.PROVIDER_ID="password";xg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends B9{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Gy{constructor(){super("facebook.com")}static credential(t){return Ch._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return du.credentialFromTaggedObject(t)}static credentialFromError(t){return du.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return du.credential(t.oauthAccessToken)}catch{return null}}}du.FACEBOOK_SIGN_IN_METHOD="facebook.com";du.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Gy{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ch._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hu.credentialFromTaggedObject(t)}static credentialFromError(t){return hu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hu.credential(n,r)}catch{return null}}}hu.GOOGLE_SIGN_IN_METHOD="google.com";hu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Gy{constructor(){super("github.com")}static credential(t){return Ch._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fu.credentialFromTaggedObject(t)}static credentialFromError(t){return fu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fu.credential(t.oauthAccessToken)}catch{return null}}}fu.GITHUB_SIGN_IN_METHOD="github.com";fu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Gy{constructor(){super("twitter.com")}static credential(t,n){return Ch._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return pu.credentialFromTaggedObject(t)}static credentialFromError(t){return pu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pu.credential(n,r)}catch{return null}}}pu.TWITTER_SIGN_IN_METHOD="twitter.com";pu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xde(e,t){return Hy(e,"POST","/v1/accounts:signUp",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await da._fromIdTokenResponse(t,r,i),o=q4(r);return new wh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=q4(r);return new wh({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function q4(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends ba{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,PS.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new PS(t,n,r,i)}}function V9(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?PS._fromErrorAndOperation(e,s,t,r):s})}async function Ede(e,t,n=!1){const r=await xv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wh._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tde(e,t,n=!1){const{auth:r}=e;if(Ys(r.app))return Promise.reject(sc(r));const i="reauthenticate";try{const s=await xv(e,V9(r,i,t,e),n);Lt(s.idToken,r,"internal-error");const o=KF(s.idToken);Lt(o,r,"internal-error");const{sub:a}=o;return Lt(e.uid===a,r,"user-mismatch"),wh._forOperation(e,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ya(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(e,t,n=!1){if(Ys(e.app))return Promise.reject(sc(e));const r="signIn",i=await V9(e,r,t),s=await wh._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Rde(e,t){return H9(Uh(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(e){const t=Uh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ade(e,t,n){if(Ys(e.app))return Promise.reject(sc(e));const r=Uh(e),o=await j_(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xde).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&G9(e),l}),a=await wh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _de(e,t,n){return Ys(e.app)?Promise.reject(sc(e)):Rde(Zn(e),xg.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G9(e),r})}function Dde(e,t,n,r){return Zn(e).onIdTokenChanged(t,n,r)}function Pde(e,t,n){return Zn(e).beforeAuthStateChanged(t,n)}function Fde(e){return Zn(e).signOut()}const FS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(FS,"1"),this.storage.removeItem(FS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kde=1e3,Ide=10;class z9 extends U9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I9(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Que()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Ide):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},kde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}z9.type="LOCAL";const Mde=z9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9 extends U9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}j9.type="SESSION";const W9=j9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ode(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new u1(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Ode(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}u1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ZF("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(){return window}function Nde(e){il().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(){return typeof il().WorkerGlobalScope<"u"&&typeof il().importScripts=="function"}async function Bde(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vde(){return navigator?.serviceWorker?.controller||null}function Hde(){return $9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="firebaseLocalStorageDb",Gde=1,kS="firebaseLocalStorage",K9="fbase_key";class Uy{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function d1(e,t){return e.transaction([kS],t?"readwrite":"readonly").objectStore(kS)}function Ude(){const e=indexedDB.deleteDatabase(q9);return new Uy(e).toPromise()}function W_(){const e=indexedDB.open(q9,Gde);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(kS,{keyPath:K9})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(kS)?t(r):(r.close(),await Ude(),t(await W_()))})})}async function K4(e,t,n){const r=d1(e,!0).put({[K9]:t,value:n});return new Uy(r).toPromise()}async function zde(e,t){const n=d1(e,!1).get(t),r=await new Uy(n).toPromise();return r===void 0?null:r.value}function Y4(e,t){const n=d1(e,!0).delete(t);return new Uy(n).toPromise()}const jde=800,Wde=3;class Y9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W_(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Wde)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=u1._getInstance(Hde()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Bde(),!this.activeServiceWorker)return;this.sender=new Lde(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Vde()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await W_();return await K4(t,FS,"1"),await Y4(t,FS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K4(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>zde(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y4(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=d1(i,!1).getAll();return new Uy(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y9.type="LOCAL";const $de=Y9;new Vy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qde(e,t){return t?ec(t):(Lt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF extends XF{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Kde(e){return H9(e.auth,new JF(e),e.bypassAuthState)}function Yde(e){const{auth:t,user:n}=e;return Lt(n,t,"internal-error"),Tde(n,new JF(e),e.bypassAuthState)}async function Xde(e){const{auth:t,user:n}=e;return Lt(n,t,"internal-error"),Ede(n,new JF(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Kde;case"linkViaPopup":case"linkViaRedirect":return Xde;case"reauthViaPopup":case"reauthViaRedirect":return Yde;default:ya(this.auth,"internal-error")}}resolve(t){gc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qde=new Vy(2e3,1e4);class ap extends X9{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ap.currentPopupAction&&ap.currentPopupAction.cancel(),ap.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Lt(t,this.auth,"internal-error"),t}async onExecution(){gc(this.filter.length===1,"Popup operations only handle one event");const t=ZF();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ap.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qde.get())};t()}}ap.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zde="pendingRedirect",Hb=new Map;class Jde extends X9{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Hb.get(this.auth._key());if(!t){try{const r=await ehe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Hb.set(this.auth._key(),t)}return this.bypassAuthState||Hb.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ehe(e,t){const n=rhe(t),r=nhe(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function the(e,t){Hb.set(e._key(),t)}function nhe(e){return ec(e._redirectPersistence)}function rhe(e){return Vb(Zde,e.config.apiKey,e.name)}async function ihe(e,t,n=!1){if(Ys(e.app))return Promise.reject(sc(e));const r=Uh(e),i=qde(r,t),o=await new Jde(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const she=600*1e3;class ohe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ahe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Q9(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(rl(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=she&&this.cachedEventUids.clear(),this.cachedEventUids.has(X4(t))}saveEventToCache(t){this.cachedEventUids.add(X4(t)),this.lastProcessedEventTime=Date.now()}}function X4(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Q9({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function ahe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q9(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lhe(e,t={}){return Ju(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const che=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uhe=/^https?/;async function dhe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await lhe(e);for(const n of t)try{if(hhe(n))return}catch{}ya(e,"unauthorized-domain")}function hhe(e){const t=U_(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uhe.test(n))return!1;if(che.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fhe=new Vy(3e4,6e4);function Q4(){const e=il().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function phe(e){return new Promise((t,n)=>{function r(){Q4(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Q4(),n(rl(e,"network-request-failed"))},timeout:fhe.get()})}if(il().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(il().gapi?.load)r();else{const i=ode("iframefcb");return il()[i]=()=>{gapi.load?r():n(rl(e,"network-request-failed"))},O9(`${sde()}?onload=${i}`).catch(s=>n(s))}}).catch(t=>{throw Gb=null,t})}let Gb=null;function ghe(e){return Gb=Gb||phe(e),Gb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mhe=new Vy(5e3,15e3),vhe="__/auth/iframe",yhe="emulator/auth/iframe",Che={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},whe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bhe(e){const t=e.config;Lt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qF(t,yhe):`https://${e.config.authDomain}/${vhe}`,r={apiKey:t.apiKey,appName:e.name,v:Gh},i=whe.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${By(r).slice(1)}`}async function She(e){const t=await ghe(e),n=il().gapi;return Lt(n,e,"internal-error"),t.open({where:document.body,url:bhe(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Che,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rl(e,"network-request-failed"),a=il().setTimeout(()=>{s(o)},mhe.get());function l(){il().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ehe=500,The=600,Rhe="_blank",Ahe="http://localhost";class Z4{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _he(e,t,n,r=Ehe,i=The){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...xhe,width:r.toString(),height:i.toString(),top:s,left:o},c=qi().toLowerCase();n&&(a=_9(c)?Rhe:n),R9(c)&&(t=t||Ahe,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(Xue(c)&&a!=="_self")return Dhe(t||"",a),new Z4(null);const f=window.open(t||"",a,d);Lt(f,e,"popup-blocked");try{f.focus()}catch{}return new Z4(f)}function Dhe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe="__/auth/handler",Fhe="emulator/auth/handler",khe=encodeURIComponent("fac");async function J4(e,t,n,r,i,s){Lt(e.config.authDomain,e,"auth-domain-config-required"),Lt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gh,eventId:i};if(t instanceof B9){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",cce(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof Gy){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),c=l?`#${khe}=${encodeURIComponent(l)}`:"";return`${Ihe(e)}?${By(a).slice(1)}${c}`}function Ihe({config:e}){return e.emulator?qF(e,Fhe):`https://${e.authDomain}/${Phe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="webStorageSupport";class Mhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W9,this._completeRedirectFn=ihe,this._overrideRedirectResult=the}async _openPopup(t,n,r,i){gc(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await J4(t,n,r,U_(),i);return _he(t,s,ZF())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await J4(t,n,r,U_(),i);return Nde(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await She(t),r=new ohe(t);return n.register("authEvent",i=>(Lt(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(BR,{type:BR},i=>{const s=i?.[0]?.[BR];s!==void 0&&n(!!s),ya(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dhe(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return I9()||A9()||YF()}}const Ohe=Mhe;var eV="@firebase/auth",tV="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lhe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nhe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bhe(e){yh(new Mu("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Lt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M9(e)},c=new nde(r,i,s,l);return hde(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),yh(new Mu("auth-internal",t=>{const n=Uh(t.getProvider("auth").getImmediate());return(r=>new Lhe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nl(eV,tV,Nhe(e)),nl(eV,tV,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe=300,Hhe=d9("authIdTokenMaxAge")||Vhe;let nV=null;const Ghe=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Hhe)return;const i=n?.token;nV!==i&&(nV=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Uhe(e=WF()){const t=l1(e,"auth");if(t.isInitialized())return t.getImmediate();const n=dde(e,{popupRedirectResolver:Ohe,persistence:[$de,Mde,W9]}),r=d9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Ghe(s.toString());Pde(n,o,()=>o(n.currentUser)),Dde(n,a=>o(a))}}const i=l9("auth");return i&&fde(n,`http://${i}`),n}function zhe(){return document.getElementsByTagName("head")?.[0]??document}rde({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=rl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zhe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bhe("Browser");var rV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eu,Z9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,P){function k(){}k.prototype=P.prototype,D.D=P.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(B,N,V){for(var G=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)G[oe-2]=arguments[oe];return P.prototype[N].apply(B,G)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,P,k){k||(k=0);var B=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)B[N]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(N=0;16>N;++N)B[N]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=D.g[0],k=D.g[1],N=D.g[2];var V=D.g[3],G=P+(V^k&(N^V))+B[0]+3614090360&4294967295;P=k+(G<<7&4294967295|G>>>25),G=V+(N^P&(k^N))+B[1]+3905402710&4294967295,V=P+(G<<12&4294967295|G>>>20),G=N+(k^V&(P^k))+B[2]+606105819&4294967295,N=V+(G<<17&4294967295|G>>>15),G=k+(P^N&(V^P))+B[3]+3250441966&4294967295,k=N+(G<<22&4294967295|G>>>10),G=P+(V^k&(N^V))+B[4]+4118548399&4294967295,P=k+(G<<7&4294967295|G>>>25),G=V+(N^P&(k^N))+B[5]+1200080426&4294967295,V=P+(G<<12&4294967295|G>>>20),G=N+(k^V&(P^k))+B[6]+2821735955&4294967295,N=V+(G<<17&4294967295|G>>>15),G=k+(P^N&(V^P))+B[7]+4249261313&4294967295,k=N+(G<<22&4294967295|G>>>10),G=P+(V^k&(N^V))+B[8]+1770035416&4294967295,P=k+(G<<7&4294967295|G>>>25),G=V+(N^P&(k^N))+B[9]+2336552879&4294967295,V=P+(G<<12&4294967295|G>>>20),G=N+(k^V&(P^k))+B[10]+4294925233&4294967295,N=V+(G<<17&4294967295|G>>>15),G=k+(P^N&(V^P))+B[11]+2304563134&4294967295,k=N+(G<<22&4294967295|G>>>10),G=P+(V^k&(N^V))+B[12]+1804603682&4294967295,P=k+(G<<7&4294967295|G>>>25),G=V+(N^P&(k^N))+B[13]+4254626195&4294967295,V=P+(G<<12&4294967295|G>>>20),G=N+(k^V&(P^k))+B[14]+2792965006&4294967295,N=V+(G<<17&4294967295|G>>>15),G=k+(P^N&(V^P))+B[15]+1236535329&4294967295,k=N+(G<<22&4294967295|G>>>10),G=P+(N^V&(k^N))+B[1]+4129170786&4294967295,P=k+(G<<5&4294967295|G>>>27),G=V+(k^N&(P^k))+B[6]+3225465664&4294967295,V=P+(G<<9&4294967295|G>>>23),G=N+(P^k&(V^P))+B[11]+643717713&4294967295,N=V+(G<<14&4294967295|G>>>18),G=k+(V^P&(N^V))+B[0]+3921069994&4294967295,k=N+(G<<20&4294967295|G>>>12),G=P+(N^V&(k^N))+B[5]+3593408605&4294967295,P=k+(G<<5&4294967295|G>>>27),G=V+(k^N&(P^k))+B[10]+38016083&4294967295,V=P+(G<<9&4294967295|G>>>23),G=N+(P^k&(V^P))+B[15]+3634488961&4294967295,N=V+(G<<14&4294967295|G>>>18),G=k+(V^P&(N^V))+B[4]+3889429448&4294967295,k=N+(G<<20&4294967295|G>>>12),G=P+(N^V&(k^N))+B[9]+568446438&4294967295,P=k+(G<<5&4294967295|G>>>27),G=V+(k^N&(P^k))+B[14]+3275163606&4294967295,V=P+(G<<9&4294967295|G>>>23),G=N+(P^k&(V^P))+B[3]+4107603335&4294967295,N=V+(G<<14&4294967295|G>>>18),G=k+(V^P&(N^V))+B[8]+1163531501&4294967295,k=N+(G<<20&4294967295|G>>>12),G=P+(N^V&(k^N))+B[13]+2850285829&4294967295,P=k+(G<<5&4294967295|G>>>27),G=V+(k^N&(P^k))+B[2]+4243563512&4294967295,V=P+(G<<9&4294967295|G>>>23),G=N+(P^k&(V^P))+B[7]+1735328473&4294967295,N=V+(G<<14&4294967295|G>>>18),G=k+(V^P&(N^V))+B[12]+2368359562&4294967295,k=N+(G<<20&4294967295|G>>>12),G=P+(k^N^V)+B[5]+4294588738&4294967295,P=k+(G<<4&4294967295|G>>>28),G=V+(P^k^N)+B[8]+2272392833&4294967295,V=P+(G<<11&4294967295|G>>>21),G=N+(V^P^k)+B[11]+1839030562&4294967295,N=V+(G<<16&4294967295|G>>>16),G=k+(N^V^P)+B[14]+4259657740&4294967295,k=N+(G<<23&4294967295|G>>>9),G=P+(k^N^V)+B[1]+2763975236&4294967295,P=k+(G<<4&4294967295|G>>>28),G=V+(P^k^N)+B[4]+1272893353&4294967295,V=P+(G<<11&4294967295|G>>>21),G=N+(V^P^k)+B[7]+4139469664&4294967295,N=V+(G<<16&4294967295|G>>>16),G=k+(N^V^P)+B[10]+3200236656&4294967295,k=N+(G<<23&4294967295|G>>>9),G=P+(k^N^V)+B[13]+681279174&4294967295,P=k+(G<<4&4294967295|G>>>28),G=V+(P^k^N)+B[0]+3936430074&4294967295,V=P+(G<<11&4294967295|G>>>21),G=N+(V^P^k)+B[3]+3572445317&4294967295,N=V+(G<<16&4294967295|G>>>16),G=k+(N^V^P)+B[6]+76029189&4294967295,k=N+(G<<23&4294967295|G>>>9),G=P+(k^N^V)+B[9]+3654602809&4294967295,P=k+(G<<4&4294967295|G>>>28),G=V+(P^k^N)+B[12]+3873151461&4294967295,V=P+(G<<11&4294967295|G>>>21),G=N+(V^P^k)+B[15]+530742520&4294967295,N=V+(G<<16&4294967295|G>>>16),G=k+(N^V^P)+B[2]+3299628645&4294967295,k=N+(G<<23&4294967295|G>>>9),G=P+(N^(k|~V))+B[0]+4096336452&4294967295,P=k+(G<<6&4294967295|G>>>26),G=V+(k^(P|~N))+B[7]+1126891415&4294967295,V=P+(G<<10&4294967295|G>>>22),G=N+(P^(V|~k))+B[14]+2878612391&4294967295,N=V+(G<<15&4294967295|G>>>17),G=k+(V^(N|~P))+B[5]+4237533241&4294967295,k=N+(G<<21&4294967295|G>>>11),G=P+(N^(k|~V))+B[12]+1700485571&4294967295,P=k+(G<<6&4294967295|G>>>26),G=V+(k^(P|~N))+B[3]+2399980690&4294967295,V=P+(G<<10&4294967295|G>>>22),G=N+(P^(V|~k))+B[10]+4293915773&4294967295,N=V+(G<<15&4294967295|G>>>17),G=k+(V^(N|~P))+B[1]+2240044497&4294967295,k=N+(G<<21&4294967295|G>>>11),G=P+(N^(k|~V))+B[8]+1873313359&4294967295,P=k+(G<<6&4294967295|G>>>26),G=V+(k^(P|~N))+B[15]+4264355552&4294967295,V=P+(G<<10&4294967295|G>>>22),G=N+(P^(V|~k))+B[6]+2734768916&4294967295,N=V+(G<<15&4294967295|G>>>17),G=k+(V^(N|~P))+B[13]+1309151649&4294967295,k=N+(G<<21&4294967295|G>>>11),G=P+(N^(k|~V))+B[4]+4149444226&4294967295,P=k+(G<<6&4294967295|G>>>26),G=V+(k^(P|~N))+B[11]+3174756917&4294967295,V=P+(G<<10&4294967295|G>>>22),G=N+(P^(V|~k))+B[2]+718787259&4294967295,N=V+(G<<15&4294967295|G>>>17),G=k+(V^(N|~P))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(N+(G<<21&4294967295|G>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var k=P-this.blockSize,B=this.B,N=this.h,V=0;V<P;){if(N==0)for(;V<=k;)i(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<P;)if(B[N++]=D.charCodeAt(V++),N==this.blockSize){i(this,B),N=0;break}}else for(;V<P;)if(B[N++]=D[V++],N==this.blockSize){i(this,B),N=0;break}}this.h=N,this.o+=P},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var k=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=k&255,k/=256;for(this.u(D),D=Array(16),P=k=0;4>P;++P)for(var B=0;32>B;B+=8)D[k++]=this.g[P]>>>B&255;return D};function s(D,P){var k=a;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=P(D)}function o(D,P){this.h=P;for(var k=[],B=!0,N=D.length-1;0<=N;N--){var V=D[N]|0;B&&V==P||(k[N]=V,B=!1)}this.g=k}var a={};function l(D){return-128<=D&&128>D?s(D,function(P){return new o([P|0],0>P?-1:0)}):new o([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return b(c(-D));for(var P=[],k=1,B=0;D>=k;B++)P[B]=D/k|0,k*=4294967296;return new o(P,0)}function d(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return b(d(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(P,8)),B=f,N=0;N<D.length;N+=8){var V=Math.min(8,D.length-N),G=parseInt(D.substring(N,N+V),P);8>V?(V=c(Math.pow(P,V)),B=B.j(V).add(c(G))):(B=B.j(k),B=B.add(c(G)))}return B}var f=l(0),p=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(C(this))return-b(this).m();for(var D=0,P=1,k=0;k<this.g.length;k++){var B=this.i(k);D+=(0<=B?B:4294967296+B)*P,P*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(y(this))return"0";if(C(this))return"-"+b(this).toString(D);for(var P=c(Math.pow(D,6)),k=this,B="";;){var N=F(k,P).g;k=x(k,N.j(P));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=N,y(k))return V+B;for(;6>V.length;)V="0"+V;B=V+B}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function y(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function C(D){return D.h==-1}e.l=function(D){return D=x(this,D),C(D)?-1:y(D)?0:1};function b(D){for(var P=D.g.length,k=[],B=0;B<P;B++)k[B]=~D.g[B];return new o(k,~D.h).add(p)}e.abs=function(){return C(this)?b(this):this},e.add=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],B=0,N=0;N<=P;N++){var V=B+(this.i(N)&65535)+(D.i(N)&65535),G=(V>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);B=G>>>16,V&=65535,G&=65535,k[N]=G<<16|V}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(D,P){return D.add(b(P))}e.j=function(D){if(y(this)||y(D))return f;if(C(this))return C(D)?b(this).j(b(D)):b(b(this).j(D));if(C(D))return b(this.j(b(D)));if(0>this.l(m)&&0>D.l(m))return c(this.m()*D.m());for(var P=this.g.length+D.g.length,k=[],B=0;B<2*P;B++)k[B]=0;for(B=0;B<this.g.length;B++)for(var N=0;N<D.g.length;N++){var V=this.i(B)>>>16,G=this.i(B)&65535,oe=D.i(N)>>>16,le=D.i(N)&65535;k[2*B+2*N]+=G*le,R(k,2*B+2*N),k[2*B+2*N+1]+=V*le,R(k,2*B+2*N+1),k[2*B+2*N+1]+=G*oe,R(k,2*B+2*N+1),k[2*B+2*N+2]+=V*oe,R(k,2*B+2*N+2)}for(B=0;B<P;B++)k[B]=k[2*B+1]<<16|k[2*B];for(B=P;B<2*P;B++)k[B]=0;return new o(k,0)};function R(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function E(D,P){this.g=D,this.h=P}function F(D,P){if(y(P))throw Error("division by zero");if(y(D))return new E(f,f);if(C(D))return P=F(b(D),P),new E(b(P.g),b(P.h));if(C(P))return P=F(D,b(P)),new E(b(P.g),P.h);if(30<D.g.length){if(C(D)||C(P))throw Error("slowDivide_ only works with positive integers.");for(var k=p,B=P;0>=B.l(D);)k=I(k),B=I(B);var N=_(k,1),V=_(B,1);for(B=_(B,2),k=_(k,2);!y(B);){var G=V.add(B);0>=G.l(D)&&(N=N.add(k),V=G),B=_(B,1),k=_(k,1)}return P=x(D,N.j(P)),new E(N,P)}for(N=f;0<=D.l(P);){for(k=Math.max(1,Math.floor(D.m()/P.m())),B=Math.ceil(Math.log(k)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),V=c(k),G=V.j(P);C(G)||0<G.l(D);)k-=B,V=c(k),G=V.j(P);y(V)&&(V=p),N=N.add(V),D=x(D,G)}return new E(N,D)}e.A=function(D){return F(this,D).h},e.and=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)&D.i(B);return new o(k,this.h&D.h)},e.or=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)|D.i(B);return new o(k,this.h|D.h)},e.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)^D.i(B);return new o(k,this.h^D.h)};function I(D){for(var P=D.g.length+1,k=[],B=0;B<P;B++)k[B]=D.i(B)<<1|D.i(B-1)>>>31;return new o(k,D.h)}function _(D,P){var k=P>>5;P%=32;for(var B=D.g.length-k,N=[],V=0;V<B;V++)N[V]=0<P?D.i(V+k)>>>P|D.i(V+k+1)<<32-P:D.i(V+k);return new o(N,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Z9=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Eu=o}).apply(typeof rV<"u"?rV:typeof self<"u"?self:typeof window<"u"?window:{});var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J9,v0,ej,Ub,$_,tj,nj,rj;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,O,U){return w==Array.prototype||w==Object.prototype||(w[O]=U.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uw=="object"&&Uw];for(var O=0;O<w.length;++O){var U=w[O];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(w,O){if(O)e:{var U=r;w=w.split(".");for(var Z=0;Z<w.length-1;Z++){var Se=w[Z];if(!(Se in U))break e;U=U[Se]}w=w[w.length-1],Z=U[w],O=O(Z),O!=Z&&O!=null&&t(U,w,{configurable:!0,writable:!0,value:O})}}function s(w,O){w instanceof String&&(w+="");var U=0,Z=!1,Se={next:function(){if(!Z&&U<w.length){var Le=U++;return{value:O(Le,w[Le]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}i("Array.prototype.values",function(w){return w||function(){return s(this,function(O,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(w){var O=typeof w;return O=O!="object"?O:w?Array.isArray(w)?"array":O:"null",O=="array"||O=="object"&&typeof w.length=="number"}function c(w){var O=typeof w;return O=="object"&&w!=null||O=="function"}function d(w,O,U){return w.call.apply(w.bind,arguments)}function f(w,O,U){if(!w)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,Z),w.apply(O,Se)}}return function(){return w.apply(O,arguments)}}function p(w,O,U){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(w,O){var U=Array.prototype.slice.call(arguments,1);return function(){var Z=U.slice();return Z.push.apply(Z,arguments),w.apply(this,Z)}}function y(w,O){function U(){}U.prototype=O.prototype,w.aa=O.prototype,w.prototype=new U,w.prototype.constructor=w,w.Qb=function(Z,Se,Le){for(var it=Array(arguments.length-2),un=2;un<arguments.length;un++)it[un-2]=arguments[un];return O.prototype[Se].apply(Z,it)}}function C(w){const O=w.length;if(0<O){const U=Array(O);for(let Z=0;Z<O;Z++)U[Z]=w[Z];return U}return[]}function b(w,O){for(let U=1;U<arguments.length;U++){const Z=arguments[U];if(l(Z)){const Se=w.length||0,Le=Z.length||0;w.length=Se+Le;for(let it=0;it<Le;it++)w[Se+it]=Z[it]}else w.push(Z)}}class x{constructor(O,U){this.i=O,this.j=U,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function R(w){return/^[\s\xa0]*$/.test(w)}function E(){var w=a.navigator;return w&&(w=w.userAgent)?w:""}function F(w){return F[" "](w),w}F[" "]=function(){};var I=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function _(w,O,U){for(const Z in w)O.call(U,w[Z],Z,w)}function D(w,O){for(const U in w)O.call(void 0,w[U],U,w)}function P(w){const O={};for(const U in w)O[U]=w[U];return O}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(w,O){let U,Z;for(let Se=1;Se<arguments.length;Se++){Z=arguments[Se];for(U in Z)w[U]=Z[U];for(let Le=0;Le<k.length;Le++)U=k[Le],Object.prototype.hasOwnProperty.call(Z,U)&&(w[U]=Z[U])}}function N(w){var O=1;w=w.split(":");const U=[];for(;0<O&&w.length;)U.push(w.shift()),O--;return w.length&&U.push(w.join(":")),U}function V(w){a.setTimeout(()=>{throw w},0)}function G(){var w=ne;let O=null;return w.g&&(O=w.g,w.g=w.g.next,w.g||(w.h=null),O.next=null),O}class oe{constructor(){this.h=this.g=null}add(O,U){const Z=le.get();Z.set(O,U),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var le=new x(()=>new J,w=>w.reset());class J{constructor(){this.next=this.g=this.h=null}set(O,U){this.h=O,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let se,he=!1,ne=new oe,L=()=>{const w=a.Promise.resolve(void 0);se=()=>{w.then(ae)}};var ae=()=>{for(var w;w=G();){try{w.h.call(w.g)}catch(U){V(U)}var O=le;O.j(w),100>O.h&&(O.h++,w.next=O.g,O.g=w)}he=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(w,O){this.type=w,this.g=this.target=O,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,O=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};a.addEventListener("test",U,O),a.removeEventListener("test",U,O)}catch{}return w}();function ie(w,O){if(H.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var U=this.type=w.type,Z=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=O,O=w.relatedTarget){if(I){e:{try{F(O.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(O=null)}}else U=="mouseover"?O=w.fromElement:U=="mouseout"&&(O=w.toElement);this.relatedTarget=O,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:fe[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ie.aa.h.call(this)}}y(ie,H);var fe={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Ie(w,O,U,Z,Se){this.listener=w,this.proxy=null,this.src=O,this.type=U,this.capture=!!Z,this.ha=Se,this.key=++Ne,this.da=this.fa=!1}function Fe(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function rt(w){this.src=w,this.g={},this.h=0}rt.prototype.add=function(w,O,U,Z,Se){var Le=w.toString();w=this.g[Le],w||(w=this.g[Le]=[],this.h++);var it=bt(w,O,Z,Se);return-1<it?(O=w[it],U||(O.fa=!1)):(O=new Ie(O,this.src,Le,!!Z,Se),O.fa=U,w.push(O)),O};function re(w,O){var U=O.type;if(U in w.g){var Z=w.g[U],Se=Array.prototype.indexOf.call(Z,O,void 0),Le;(Le=0<=Se)&&Array.prototype.splice.call(Z,Se,1),Le&&(Fe(O),w.g[U].length==0&&(delete w.g[U],w.h--))}}function bt(w,O,U,Z){for(var Se=0;Se<w.length;++Se){var Le=w[Se];if(!Le.da&&Le.listener==O&&Le.capture==!!U&&Le.ha==Z)return Se}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),Xe={};function Ze(w,O,U,Z,Se){if(Array.isArray(O)){for(var Le=0;Le<O.length;Le++)Ze(w,O[Le],U,Z,Se);return null}return U=wn(U),w&&w[Be]?w.K(O,U,c(Z)?!!Z.capture:!1,Se):ke(w,O,U,!1,Z,Se)}function ke(w,O,U,Z,Se,Le){if(!O)throw Error("Invalid event type");var it=c(Se)?!!Se.capture:!!Se,un=Gt(w);if(un||(w[ze]=un=new rt(w)),U=un.add(O,U,Z,it,Le),U.proxy)return U;if(Z=ct(),U.proxy=Z,Z.src=w,Z.listener=U,w.addEventListener)X||(Se=it),Se===void 0&&(Se=!1),w.addEventListener(O.toString(),Z,Se);else if(w.attachEvent)w.attachEvent(_t(O.toString()),Z);else if(w.addListener&&w.removeListener)w.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return U}function ct(){function w(U){return O.call(w.src,w.listener,U)}const O=It;return w}function At(w,O,U,Z,Se){if(Array.isArray(O))for(var Le=0;Le<O.length;Le++)At(w,O[Le],U,Z,Se);else Z=c(Z)?!!Z.capture:!!Z,U=wn(U),w&&w[Be]?(w=w.i,O=String(O).toString(),O in w.g&&(Le=w.g[O],U=bt(Le,U,Z,Se),-1<U&&(Fe(Le[U]),Array.prototype.splice.call(Le,U,1),Le.length==0&&(delete w.g[O],w.h--)))):w&&(w=Gt(w))&&(O=w.g[O.toString()],w=-1,O&&(w=bt(O,U,Z,Se)),(U=-1<w?O[w]:null)&&mt(U))}function mt(w){if(typeof w!="number"&&w&&!w.da){var O=w.src;if(O&&O[Be])re(O.i,w);else{var U=w.type,Z=w.proxy;O.removeEventListener?O.removeEventListener(U,Z,w.capture):O.detachEvent?O.detachEvent(_t(U),Z):O.addListener&&O.removeListener&&O.removeListener(Z),(U=Gt(O))?(re(U,w),U.h==0&&(U.src=null,O[ze]=null)):Fe(w)}}}function _t(w){return w in Xe?Xe[w]:Xe[w]="on"+w}function It(w,O){if(w.da)w=!0;else{O=new ie(O,this);var U=w.listener,Z=w.ha||w.src;w.fa&&mt(w),w=U.call(Z,O)}return w}function Gt(w){return w=w[ze],w instanceof rt?w:null}var $t="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(w){return typeof w=="function"?w:(w[$t]||(w[$t]=function(O){return w.handleEvent(O)}),w[$t])}function ve(){W.call(this),this.i=new rt(this),this.M=this,this.F=null}y(ve,W),ve.prototype[Be]=!0,ve.prototype.removeEventListener=function(w,O,U,Z){At(this,w,O,U,Z)};function Oe(w,O){var U,Z=w.F;if(Z)for(U=[];Z;Z=Z.F)U.push(Z);if(w=w.M,Z=O.type||O,typeof O=="string")O=new H(O,w);else if(O instanceof H)O.target=O.target||w;else{var Se=O;O=new H(Z,w),B(O,Se)}if(Se=!0,U)for(var Le=U.length-1;0<=Le;Le--){var it=O.g=U[Le];Se=Ke(it,Z,!0,O)&&Se}if(it=O.g=w,Se=Ke(it,Z,!0,O)&&Se,Se=Ke(it,Z,!1,O)&&Se,U)for(Le=0;Le<U.length;Le++)it=O.g=U[Le],Se=Ke(it,Z,!1,O)&&Se}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var w=this.i,O;for(O in w.g){for(var U=w.g[O],Z=0;Z<U.length;Z++)Fe(U[Z]);delete w.g[O],w.h--}}this.F=null},ve.prototype.K=function(w,O,U,Z){return this.i.add(String(w),O,!1,U,Z)},ve.prototype.L=function(w,O,U,Z){return this.i.add(String(w),O,!0,U,Z)};function Ke(w,O,U,Z){if(O=w.i.g[String(O)],!O)return!0;O=O.concat();for(var Se=!0,Le=0;Le<O.length;++Le){var it=O[Le];if(it&&!it.da&&it.capture==U){var un=it.listener,qr=it.ha||it.src;it.fa&&re(w.i,it),Se=un.call(qr,Z)!==!1&&Se}}return Se&&!Z.defaultPrevented}function lt(w,O,U){if(typeof w=="function")U&&(w=p(w,U));else if(w&&typeof w.handleEvent=="function")w=p(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:a.setTimeout(w,O||0)}function dt(w){w.g=lt(()=>{w.g=null,w.i&&(w.i=!1,dt(w))},w.l);const O=w.h;w.h=null,w.m.apply(null,O)}class Ut extends W{constructor(O,U){super(),this.m=O,this.l=U,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(w){W.call(this),this.h=w,this.g={}}y(xn,W);var Yt=[];function er(w){_(w.g,function(O,U){this.g.hasOwnProperty(U)&&mt(O)},w),w.g={}}xn.prototype.N=function(){xn.aa.N.call(this),er(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=a.JSON.stringify,qn=a.JSON.parse,br=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Sr(){}Sr.prototype.h=null;function fo(w){return w.h||(w.h=w.i())}function Ea(){}var ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ls(){H.call(this,"d")}y(Ls,H);function Ns(){H.call(this,"c")}y(Ns,H);var vi={},po=null;function go(){return po=po||new ve}vi.La="serverreachability";function Ta(w){H.call(this,vi.La,w)}y(Ta,H);function de(w){const O=go();Oe(O,new Ta(O))}vi.STAT_EVENT="statevent";function be(w,O){H.call(this,vi.STAT_EVENT,w),this.stat=O}y(be,H);function Ee(w){const O=go();Oe(O,new be(O,w))}vi.Ma="timingevent";function Ue(w,O){H.call(this,vi.Ma,w),this.size=O}y(Ue,H);function Ye(w,O){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},O)}function ht(){this.g=!0}ht.prototype.xa=function(){this.g=!1};function vt(w,O,U,Z,Se,Le){w.info(function(){if(w.g)if(Le)for(var it="",un=Le.split("&"),qr=0;qr<un.length;qr++){var dn=un[qr].split("=");if(1<dn.length){var ii=dn[0];dn=dn[1];var Kr=ii.split("_");it=2<=Kr.length&&Kr[1]=="type"?it+(ii+"="+dn+"&"):it+(ii+"=redacted&")}}else it=null;else it=Le;return"XMLHTTP REQ ("+Z+") [attempt "+Se+"]: "+O+`
`+U+`
`+it})}function pt(w,O,U,Z,Se,Le,it){w.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+Se+"]: "+O+`
`+U+`
`+Le+" "+it})}function j(w,O,U,Z){w.info(function(){return"XMLHTTP TEXT ("+O+"): "+q(w,U)+(Z?" "+Z:"")})}function Q(w,O){w.info(function(){return"TIMEOUT: "+O})}ht.prototype.info=function(){};function q(w,O){if(!w.g)return O;if(!O)return null;try{var U=JSON.parse(O);if(U){for(w=0;w<U.length;w++)if(Array.isArray(U[w])){var Z=U[w];if(!(2>Z.length)){var Se=Z[1];if(Array.isArray(Se)&&!(1>Se.length)){var Le=Se[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var it=1;it<Se.length;it++)Se[it]=""}}}}return dr(U)}catch{return O}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},te;function Ce(){}y(Ce,Sr),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},te=new Ce;function _e(w,O,U,Z){this.j=w,this.i=O,this.l=U,this.R=Z||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Te={};function We(w,O,U){w.L=1,w.v=ud(Bs(O)),w.m=U,w.P=!0,Qe(w,null)}function Qe(w,O){w.F=Date.now(),tt(w),w.A=Bs(w.v);var U=w.A,Z=w.R;Array.isArray(Z)||(Z=[String(Z)]),Qg(U.i,"t",Z),w.C=0,U=w.j.J,w.h=new me,w.g=FC(w.j,U?O:null,!w.m),0<w.O&&(w.M=new Ut(p(w.Y,w,w.g),w.O)),O=w.U,U=w.g,Z=w.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Yt[0]=Se.toString()),Se=Yt);for(var Le=0;Le<Se.length;Le++){var it=Ze(U,Se[Le],Z||O.handleEvent,!1,O.h||O);if(!it)break;O.g[it.key]=it}O=w.H?P(w.H):{},w.m?(w.u||(w.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,O)):(w.u="GET",w.g.ea(w.A,w.u,null,O)),de(),vt(w.i,w.u,w.A,w.l,w.R,w.m)}_e.prototype.ca=function(w){w=w.target;const O=this.M;O&&Co(w)==3?O.j():this.Y(w)},_e.prototype.Y=function(w){try{if(w==this.g)e:{const Kr=Co(this.g);var O=this.g.Ba();const Ml=this.g.Z();if(!(3>Kr)&&(Kr!=3||this.g&&(this.h.h||this.g.oa()||xC(this.g)))){this.J||Kr!=4||O==7||(O==8||0>=Ml?de(3):de(2)),en(this);var U=this.g.Z();this.X=U;t:if(ot(this)){var Z=xC(this.g);w="";var Se=Z.length,Le=Co(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yt(this),Xt(this);var it="";break t}this.h.i=new a.TextDecoder}for(O=0;O<Se;O++)this.h.h=!0,w+=this.h.i.decode(Z[O],{stream:!(Le&&O==Se-1)});Z.length=0,this.h.g+=w,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=U==200,pt(this.i,this.u,this.A,this.l,this.R,Kr,U),this.o){if(this.T&&!this.K){t:{if(this.g){var un,qr=this.g;if((un=qr.g?qr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(un)){var dn=un;break t}}dn=null}if(U=dn)j(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,U);else{this.o=!1,this.s=3,Ee(12),yt(this),Xt(this);break e}}if(this.P){U=!0;let yi;for(;!this.J&&this.C<it.length;)if(yi=Je(this,it),yi==Te){Kr==4&&(this.s=4,Ee(14),U=!1),j(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==ye){this.s=4,Ee(15),j(this.i,this.l,it,"[Invalid Chunk]"),U=!1;break}else j(this.i,this.l,yi,null),_n(this,yi);if(ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kr!=4||it.length!=0||this.h.h||(this.s=1,Ee(16),U=!1),this.o=this.o&&U,!U)j(this.i,this.l,it,"[Invalid Chunked Response]"),yt(this),Xt(this);else if(0<it.length&&!this.W){this.W=!0;var ii=this.j;ii.g==this&&ii.ba&&!ii.M&&(ii.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),yd(ii),ii.M=!0,Ee(11))}}else j(this.i,this.l,it,null),_n(this,it);Kr==4&&yt(this),this.o&&!this.J&&(Kr==4?_C(this.j,this):(this.o=!1,tt(this)))}else CE(this.g),U==400&&0<it.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),yt(this),Xt(this)}}}catch{}finally{}};function ot(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Je(w,O){var U=w.C,Z=O.indexOf(`
`,U);return Z==-1?Te:(U=Number(O.substring(U,Z)),isNaN(U)?ye:(Z+=1,Z+U>O.length?Te:(O=O.slice(Z,Z+U),w.C=Z+U,O)))}_e.prototype.cancel=function(){this.J=!0,yt(this)};function tt(w){w.S=Date.now()+w.I,Tt(w,w.I)}function Tt(w,O){if(w.B!=null)throw Error("WatchDog timer not null");w.B=Ye(p(w.ba,w),O)}function en(w){w.B&&(a.clearTimeout(w.B),w.B=null)}_e.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Q(this.i,this.A),this.L!=2&&(de(),Ee(17)),yt(this),this.s=2,Xt(this)):Tt(this,this.S-w)};function Xt(w){w.j.G==0||w.J||_C(w.j,w)}function yt(w){en(w);var O=w.M;O&&typeof O.ma=="function"&&O.ma(),w.M=null,er(w.U),w.g&&(O=w.g,w.g=null,O.abort(),O.ma())}function _n(w,O){try{var U=w.j;if(U.G!=0&&(U.g==w||ni(U.h,w))){if(!w.K&&ni(U.h,w)&&U.G==3){try{var Z=U.Da.g.parse(O)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var Se=Z;if(Se[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<w.F)gf(U),ff(U);else break e;nm(U),Ee(18)}}else U.za=Se[1],0<U.za-U.T&&37500>Se[2]&&U.F&&U.v==0&&!U.C&&(U.C=Ye(p(U.Za,U),6e3));if(1>=es(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else Il(U,11)}else if((w.K||U.g==w)&&gf(U),!R(O))for(Se=U.Da.g.parse(O),O=0;O<Se.length;O++){let dn=Se[O];if(U.T=dn[0],dn=dn[1],U.G==2)if(dn[0]=="c"){U.K=dn[1],U.ia=dn[2];const ii=dn[3];ii!=null&&(U.la=ii,U.j.info("VER="+U.la));const Kr=dn[4];Kr!=null&&(U.Aa=Kr,U.j.info("SVER="+U.Aa));const Ml=dn[5];Ml!=null&&typeof Ml=="number"&&0<Ml&&(Z=1.5*Ml,U.L=Z,U.j.info("backChannelRequestTimeoutMs_="+Z)),Z=U;const yi=w.g;if(yi){const ka=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var Le=Z.h;Le.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Dc(Le,Le.h),Le.h=null))}if(Z.D){const im=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;im&&(Z.ya=im,Ln(Z.I,Z.D,im))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-w.F,U.j.info("Handshake RTT: "+U.R+"ms")),Z=U;var it=w;if(Z.qa=PC(Z,Z.J?Z.ia:null,Z.W),it.K){ts(Z.h,it);var un=it,qr=Z.L;qr&&(un.I=qr),un.B&&(en(un),tt(un)),Z.g=it}else RC(Z);0<U.i.length&&pf(U)}else dn[0]!="stop"&&dn[0]!="close"||Il(U,7);else U.G==3&&(dn[0]=="stop"||dn[0]=="close"?dn[0]=="stop"?Il(U,7):em(U):dn[0]!="noop"&&U.l&&U.l.ta(dn),U.v=0)}}de(4)}catch{}}var Ji=class{constructor(w,O){this.g=w,this.map=O}};function xr(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function es(w){return w.h?1:w.g?w.g.size:0}function ni(w,O){return w.h?w.h==O:w.g?w.g.has(O):!1}function Dc(w,O){w.g?w.g.add(O):w.h=O}function ts(w,O){w.h&&w.h==O?w.h=null:w.g&&w.g.has(O)&&w.g.delete(O)}xr.prototype.cancel=function(){if(this.i=qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function qg(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let O=w.i;for(const U of w.g.values())O=O.concat(U.D);return O}return C(w.i)}function gE(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var O=[],U=w.length,Z=0;Z<U;Z++)O.push(w[Z]);return O}O=[],U=0;for(Z in w)O[U++]=w[Z];return O}function af(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var O=[];w=w.length;for(var U=0;U<w;U++)O.push(U);return O}O=[],U=0;for(const Z in w)O[U++]=Z;return O}}}function Kg(w,O){if(w.forEach&&typeof w.forEach=="function")w.forEach(O,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,O,void 0);else for(var U=af(w),Z=gE(w),Se=Z.length,Le=0;Le<Se;Le++)O.call(void 0,Z[Le],U&&U[Le],w)}var ld=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mE(w,O){if(w){w=w.split("&");for(var U=0;U<w.length;U++){var Z=w[U].indexOf("="),Se=null;if(0<=Z){var Le=w[U].substring(0,Z);Se=w[U].substring(Z+1)}else Le=w[U];O(Le,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function Ir(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Ir){this.h=w.h,cd(this,w.j),this.o=w.o,this.g=w.g,Pc(this,w.s),this.l=w.l;var O=w.i,U=new Dl;U.i=O.i,O.g&&(U.g=new Map(O.g),U.h=O.h),_l(this,U),this.m=w.m}else w&&(O=String(w).match(ld))?(this.h=!1,cd(this,O[1]||"",!0),this.o=mo(O[2]||""),this.g=mo(O[3]||"",!0),Pc(this,O[4]),this.l=mo(O[5]||"",!0),_l(this,O[6]||"",!0),this.m=mo(O[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}Ir.prototype.toString=function(){var w=[],O=this.j;O&&w.push(dd(O,Yg,!0),":");var U=this.g;return(U||O=="file")&&(w.push("//"),(O=this.o)&&w.push(dd(O,Yg,!0),"@"),w.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&w.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(dd(U,U.charAt(0)=="/"?vE:Xg,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",dd(U,lf)),w.join("")};function Bs(w){return new Ir(w)}function cd(w,O,U){w.j=U?mo(O,!0):O,w.j&&(w.j=w.j.replace(/:$/,""))}function Pc(w,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);w.s=O}else w.s=null}function _l(w,O,U){O instanceof Dl?(w.i=O,bC(w.i,w.h)):(U||(O=dd(O,yE)),w.i=new Dl(O,w.h))}function Ln(w,O,U){w.i.set(O,U)}function ud(w){return Ln(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function mo(w,O){return w?O?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function dd(w,O,U){return typeof w=="string"?(w=encodeURI(w).replace(O,wC),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function wC(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Yg=/[#\/\?@]/g,Xg=/[#\?:]/g,vE=/[#\?]/g,yE=/[#\?@]/g,lf=/#/g;function Dl(w,O){this.h=this.g=null,this.i=w||null,this.j=!!O}function vo(w){w.g||(w.g=new Map,w.h=0,w.i&&mE(w.i,function(O,U){w.add(decodeURIComponent(O.replace(/\+/g," ")),U)}))}e=Dl.prototype,e.add=function(w,O){vo(this),this.i=null,w=Ra(this,w);var U=this.g.get(w);return U||this.g.set(w,U=[]),U.push(O),this.h+=1,this};function Pl(w,O){vo(w),O=Ra(w,O),w.g.has(O)&&(w.i=null,w.h-=w.g.get(O).length,w.g.delete(O))}function Fl(w,O){return vo(w),O=Ra(w,O),w.g.has(O)}e.forEach=function(w,O){vo(this),this.g.forEach(function(U,Z){U.forEach(function(Se){w.call(O,Se,Z,this)},this)},this)},e.na=function(){vo(this);const w=Array.from(this.g.values()),O=Array.from(this.g.keys()),U=[];for(let Z=0;Z<O.length;Z++){const Se=w[Z];for(let Le=0;Le<Se.length;Le++)U.push(O[Z])}return U},e.V=function(w){vo(this);let O=[];if(typeof w=="string")Fl(this,w)&&(O=O.concat(this.g.get(Ra(this,w))));else{w=Array.from(this.g.values());for(let U=0;U<w.length;U++)O=O.concat(w[U])}return O},e.set=function(w,O){return vo(this),this.i=null,w=Ra(this,w),Fl(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[O]),this.h+=1,this},e.get=function(w,O){return w?(w=this.V(w),0<w.length?String(w[0]):O):O};function Qg(w,O,U){Pl(w,O),0<U.length&&(w.i=null,w.g.set(Ra(w,O),C(U)),w.h+=U.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],O=Array.from(this.g.keys());for(var U=0;U<O.length;U++){var Z=O[U];const Le=encodeURIComponent(String(Z)),it=this.V(Z);for(Z=0;Z<it.length;Z++){var Se=Le;it[Z]!==""&&(Se+="="+encodeURIComponent(String(it[Z]))),w.push(Se)}}return this.i=w.join("&")};function Ra(w,O){return O=String(O),w.j&&(O=O.toLowerCase()),O}function bC(w,O){O&&!w.j&&(vo(w),w.i=null,w.g.forEach(function(U,Z){var Se=Z.toLowerCase();Z!=Se&&(Pl(this,Z),Qg(this,Se,U))},w)),w.j=O}function hd(w,O){const U=new ht;if(a.Image){const Z=new Image;Z.onload=m(yo,U,"TestLoadImage: loaded",!0,O,Z),Z.onerror=m(yo,U,"TestLoadImage: error",!1,O,Z),Z.onabort=m(yo,U,"TestLoadImage: abort",!1,O,Z),Z.ontimeout=m(yo,U,"TestLoadImage: timeout",!1,O,Z),a.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=w}else O(!1)}function ta(w,O){const U=new ht,Z=new AbortController,Se=setTimeout(()=>{Z.abort(),yo(U,"TestPingServer: timeout",!1,O)},1e4);fetch(w,{signal:Z.signal}).then(Le=>{clearTimeout(Se),Le.ok?yo(U,"TestPingServer: ok",!0,O):yo(U,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(Se),yo(U,"TestPingServer: error",!1,O)})}function yo(w,O,U,Z,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),Z(U)}catch{}}function fd(){this.g=new br}function Aa(w,O,U){const Z=U||"";try{Kg(w,function(Se,Le){let it=Se;c(Se)&&(it=dr(Se)),O.push(Z+Le+"="+encodeURIComponent(it))})}catch(Se){throw O.push(Z+"type="+encodeURIComponent("_badmap")),Se}}function Fc(w){this.l=w.Ub||null,this.j=w.eb||!1}y(Fc,Sr),Fc.prototype.g=function(){return new kl(this.l,this.j)},Fc.prototype.i=function(w){return function(){return w}}({});function kl(w,O){ve.call(this),this.D=w,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(kl,ve),e=kl.prototype,e.open=function(w,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=O,this.readyState=1,Da(this)},e.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(O.body=w),(this.D||a).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},e.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zg(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zg(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}e.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var O=w.value?w.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!w.done}))&&(this.response=this.responseText+=O)}w.done?_a(this):Da(this),this.readyState==3&&Zg(this)}},e.Ra=function(w){this.g&&(this.response=this.responseText=w,_a(this))},e.Qa=function(w){this.g&&(this.response=w,_a(this))},e.ga=function(){this.g&&_a(this)};function _a(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Da(w)}e.setRequestHeader=function(w,O){this.u.append(w,O)},e.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],O=this.h.entries();for(var U=O.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=O.next();return w.join(`\r
`)};function Da(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Jg(w){let O="";return _(w,function(U,Z){O+=Z,O+=":",O+=U,O+=`\r
`}),O}function ri(w,O,U){e:{for(Z in U){var Z=!1;break e}Z=!0}Z||(U=Jg(U),typeof w=="string"?U!=null&&encodeURIComponent(String(U)):Ln(w,O,U))}function Dn(w){ve.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Dn,ve);var cf=/^https?$/i,pd=["POST","PUT"];e=Dn.prototype,e.Ha=function(w){this.J=w},e.ea=function(w,O,U,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);O=O?O.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():te.g(),this.v=this.o?fo(this.o):fo(te),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(O,String(w),!0),this.B=!1}catch(Le){SC(this,Le);return}if(w=U||"",U=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var Se in Z)U.set(Se,Z[Se]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Le of Z.keys())U.set(Le,Z.get(Le));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(U.keys()).find(Le=>Le.toLowerCase()=="content-type"),Se=a.FormData&&w instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pd,O,void 0))||Z||Se||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,it]of U)this.g.setRequestHeader(Le,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gd(this),this.u=!0,this.g.send(w),this.u=!1}catch(Le){SC(this,Le)}};function SC(w,O){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=O,w.m=5,uf(w),Pa(w)}function uf(w){w.A||(w.A=!0,Oe(w,"complete"),Oe(w,"error"))}e.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Oe(this,"complete"),Oe(this,"abort"),Pa(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),Dn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?df(this):this.bb())},e.bb=function(){df(this)};function df(w){if(w.h&&typeof o<"u"&&(!w.v[1]||Co(w)!=4||w.Z()!=2)){if(w.u&&Co(w)==4)lt(w.Ea,0,w);else if(Oe(w,"readystatechange"),Co(w)==4){w.h=!1;try{const it=w.Z();e:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var U;if(!(U=O)){var Z;if(Z=it===0){var Se=String(w.D).match(ld)[1]||null;!Se&&a.self&&a.self.location&&(Se=a.self.location.protocol.slice(0,-1)),Z=!cf.test(Se?Se.toLowerCase():"")}U=Z}if(U)Oe(w,"complete"),Oe(w,"success");else{w.m=6;try{var Le=2<Co(w)?w.g.statusText:""}catch{Le=""}w.l=Le+" ["+w.Z()+"]",uf(w)}}finally{Pa(w)}}}}function Pa(w,O){if(w.g){gd(w);const U=w.g,Z=w.v[0]?()=>{}:null;w.g=null,w.v=null,O||Oe(w,"ready");try{U.onreadystatechange=Z}catch{}}}function gd(w){w.I&&(a.clearTimeout(w.I),w.I=null)}e.isActive=function(){return!!this.g};function Co(w){return w.g?w.g.readyState:0}e.Z=function(){try{return 2<Co(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(w){if(this.g){var O=this.g.responseText;return w&&O.indexOf(w)==0&&(O=O.substring(w.length)),qn(O)}};function xC(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function CE(w){const O={};w=(w.g&&2<=Co(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<w.length;Z++){if(R(w[Z]))continue;var U=N(w[Z]);const Se=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Le=O[Se]||[];O[Se]=Le,Le.push(U)}D(O,function(Z){return Z.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function md(w,O,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||O}function hf(w){this.Aa=0,this.i=[],this.j=new ht,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=md("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=md("baseRetryDelayMs",5e3,w),this.cb=md("retryDelaySeedMs",1e4,w),this.Wa=md("forwardChannelMaxRetries",2,w),this.wa=md("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(w&&w.concurrentRequestLimit),this.Da=new fd,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=hf.prototype,e.la=8,e.G=1,e.connect=function(w,O,U,Z){Ee(0),this.W=w,this.H=O||{},U&&Z!==void 0&&(this.H.OSID=U,this.H.OAID=Z),this.F=this.X,this.I=PC(this,null,this.W),pf(this)};function em(w){if(EC(w),w.G==3){var O=w.U++,U=Bs(w.I);if(Ln(U,"SID",w.K),Ln(U,"RID",O),Ln(U,"TYPE","terminate"),vd(w,U),O=new _e(w,w.j,O),O.L=2,O.v=ud(Bs(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(O.v.toString(),"")}catch{}!U&&a.Image&&(new Image().src=O.v,U=!0),U||(O.g=FC(O.j,null),O.g.ea(O.v)),O.F=Date.now(),tt(O)}DC(w)}function ff(w){w.g&&(yd(w),w.g.cancel(),w.g=null)}function EC(w){ff(w),w.u&&(a.clearTimeout(w.u),w.u=null),gf(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&a.clearTimeout(w.s),w.s=null)}function pf(w){if(!cn(w.h)&&!w.s){w.s=!0;var O=w.Ga;se||L(),he||(se(),he=!0),ne.add(O,w),w.B=0}}function wE(w,O){return es(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=O.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=Ye(p(w.Ga,w,O),rm(w,w.B)),w.B++,!0)}e.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Se=new _e(this,this.j,w);let Le=this.o;if(this.S&&(Le?(Le=P(Le),B(Le,this.S)):Le=this.S),this.m!==null||this.O||(Se.H=Le,Le=null),this.P)e:{for(var O=0,U=0;U<this.i.length;U++){t:{var Z=this.i[U];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(O+=Z,4096<O){O=U;break e}if(O===4096||U===this.i.length-1){O=U+1;break e}}O=1e3}else O=1e3;O=TC(this,Se,O),U=Bs(this.I),Ln(U,"RID",w),Ln(U,"CVER",22),this.D&&Ln(U,"X-HTTP-Session-Id",this.D),vd(this,U),Le&&(this.O?O="headers="+encodeURIComponent(String(Jg(Le)))+"&"+O:this.m&&ri(U,this.m,Le)),Dc(this.h,Se),this.Ua&&Ln(U,"TYPE","init"),this.P?(Ln(U,"$req",O),Ln(U,"SID","null"),Se.T=!0,We(Se,U,null)):We(Se,U,O),this.G=2}}else this.G==3&&(w?tm(this,w):this.i.length==0||cn(this.h)||tm(this))};function tm(w,O){var U;O?U=O.l:U=w.U++;const Z=Bs(w.I);Ln(Z,"SID",w.K),Ln(Z,"RID",U),Ln(Z,"AID",w.T),vd(w,Z),w.m&&w.o&&ri(Z,w.m,w.o),U=new _e(w,w.j,U,w.B+1),w.m===null&&(U.H=w.o),O&&(w.i=O.D.concat(w.i)),O=TC(w,U,1e3),U.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Dc(w.h,U),We(U,Z,O)}function vd(w,O){w.H&&_(w.H,function(U,Z){Ln(O,Z,U)}),w.l&&Kg({},function(U,Z){Ln(O,Z,U)})}function TC(w,O,U){U=Math.min(w.i.length,U);var Z=w.l?p(w.l.Na,w.l,w):null;e:{var Se=w.i;let Le=-1;for(;;){const it=["count="+U];Le==-1?0<U?(Le=Se[0].g,it.push("ofs="+Le)):Le=0:it.push("ofs="+Le);let un=!0;for(let qr=0;qr<U;qr++){let dn=Se[qr].g;const ii=Se[qr].map;if(dn-=Le,0>dn)Le=Math.max(0,Se[qr].g-100),un=!1;else try{Aa(ii,it,"req"+dn+"_")}catch{Z&&Z(ii)}}if(un){Z=it.join("&");break e}}}return w=w.i.splice(0,U),O.D=w,Z}function RC(w){if(!w.g&&!w.u){w.Y=1;var O=w.Fa;se||L(),he||(se(),he=!0),ne.add(O,w),w.v=0}}function nm(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=Ye(p(w.Fa,w),rm(w,w.v)),w.v++,!0)}e.Fa=function(){if(this.u=null,AC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=Ye(p(this.ab,this),w)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),ff(this),AC(this))};function yd(w){w.A!=null&&(a.clearTimeout(w.A),w.A=null)}function AC(w){w.g=new _e(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var O=Bs(w.qa);Ln(O,"RID","rpc"),Ln(O,"SID",w.K),Ln(O,"AID",w.T),Ln(O,"CI",w.F?"0":"1"),!w.F&&w.ja&&Ln(O,"TO",w.ja),Ln(O,"TYPE","xmlhttp"),vd(w,O),w.m&&w.o&&ri(O,w.m,w.o),w.L&&(w.g.I=w.L);var U=w.g;w=w.ia,U.L=1,U.v=ud(Bs(O)),U.m=null,U.P=!0,Qe(U,w)}e.Za=function(){this.C!=null&&(this.C=null,ff(this),nm(this),Ee(19))};function gf(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function _C(w,O){var U=null;if(w.g==O){gf(w),yd(w),w.g=null;var Z=2}else if(ni(w.h,O))U=O.D,ts(w.h,O),Z=1;else return;if(w.G!=0){if(O.o)if(Z==1){U=O.m?O.m.length:0,O=Date.now()-O.F;var Se=w.B;Z=go(),Oe(Z,new Ue(Z,U)),pf(w)}else RC(w);else if(Se=O.s,Se==3||Se==0&&0<O.X||!(Z==1&&wE(w,O)||Z==2&&nm(w)))switch(U&&0<U.length&&(O=w.h,O.i=O.i.concat(U)),Se){case 1:Il(w,5);break;case 4:Il(w,10);break;case 3:Il(w,6);break;default:Il(w,2)}}}function rm(w,O){let U=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(U*=2),U*O}function Il(w,O){if(w.j.info("Error code "+O),O==2){var U=p(w.fb,w),Z=w.Xa;const Se=!Z;Z=new Ir(Z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cd(Z,"https"),ud(Z),Se?hd(Z.toString(),U):ta(Z.toString(),U)}else Ee(2);w.G=0,w.l&&w.l.sa(O),DC(w),EC(w)}e.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function DC(w){if(w.G=0,w.ka=[],w.l){const O=qg(w.h);(O.length!=0||w.i.length!=0)&&(b(w.ka,O),b(w.ka,w.i),w.h.i.length=0,C(w.i),w.i.length=0),w.l.ra()}}function PC(w,O,U){var Z=U instanceof Ir?Bs(U):new Ir(U);if(Z.g!="")O&&(Z.g=O+"."+Z.g),Pc(Z,Z.s);else{var Se=a.location;Z=Se.protocol,O=O?O+"."+Se.hostname:Se.hostname,Se=+Se.port;var Le=new Ir(null);Z&&cd(Le,Z),O&&(Le.g=O),Se&&Pc(Le,Se),U&&(Le.l=U),Z=Le}return U=w.D,O=w.ya,U&&O&&Ln(Z,U,O),Ln(Z,"VER",w.la),vd(w,Z),Z}function FC(w,O,U){if(O&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=w.Ca&&!w.pa?new Dn(new Fc({eb:U})):new Dn(w.pa),O.Ha(w.J),O}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function kC(){}e=kC.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function mf(){}mf.prototype.g=function(w,O){return new ns(w,O)};function ns(w,O){ve.call(this),this.g=new hf(O),this.l=w,this.h=O&&O.messageUrlParams||null,w=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(w?w["X-WebChannel-Content-Type"]=O.messageContentType:w={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(w?w["X-WebChannel-Client-Profile"]=O.va:w={"X-WebChannel-Client-Profile":O.va}),this.g.S=w,(w=O&&O.Sb)&&!R(w)&&(this.g.m=w),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!R(O)&&(this.g.D=O,w=this.h,w!==null&&O in w&&(w=this.h,O in w&&delete w[O])),this.j=new Fa(this)}y(ns,ve),ns.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ns.prototype.close=function(){em(this.g)},ns.prototype.o=function(w){var O=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.u&&(U={},U.__data__=dr(w),w=U);O.i.push(new Ji(O.Ya++,w)),O.G==3&&pf(O)},ns.prototype.N=function(){this.g.l=null,delete this.j,em(this.g),delete this.g,ns.aa.N.call(this)};function IC(w){Ls.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var O=w.__sm__;if(O){e:{for(const U in O){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,O=O!==null&&w in O?O[w]:void 0),this.data=O}else this.data=w}y(IC,Ls);function MC(){Ns.call(this),this.status=1}y(MC,Ns);function Fa(w){this.g=w}y(Fa,kC),Fa.prototype.ua=function(){Oe(this.g,"a")},Fa.prototype.ta=function(w){Oe(this.g,new IC(w))},Fa.prototype.sa=function(w){Oe(this.g,new MC)},Fa.prototype.ra=function(){Oe(this.g,"b")},mf.prototype.createWebChannel=mf.prototype.g,ns.prototype.send=ns.prototype.o,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,rj=function(){return new mf},nj=function(){return go()},tj=vi,$_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Ub=K,ee.COMPLETE="complete",ej=ee,Ea.EventType=ys,ys.OPEN="a",ys.CLOSE="b",ys.ERROR="c",ys.MESSAGE="d",ve.prototype.listen=ve.prototype.K,v0=Ea,Dn.prototype.listenOnce=Dn.prototype.L,Dn.prototype.getLastError=Dn.prototype.Ka,Dn.prototype.getLastErrorCode=Dn.prototype.Ba,Dn.prototype.getStatus=Dn.prototype.Z,Dn.prototype.getResponseJson=Dn.prototype.Oa,Dn.prototype.getResponseText=Dn.prototype.oa,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Ha,J9=Dn}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});const iV="@firebase/firestore",sV="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new zF("@firebase/firestore");function ep(){return bh.logLevel}function ft(e,...t){if(bh.logLevel<=rn.DEBUG){const n=t.map(ek);bh.debug(`Firestore (${Eg}): ${e}`,...n)}}function mc(e,...t){if(bh.logLevel<=rn.ERROR){const n=t.map(ek);bh.error(`Firestore (${Eg}): ${e}`,...n)}}function Yp(e,...t){if(bh.logLevel<=rn.WARN){const n=t.map(ek);bh.warn(`Firestore (${Eg}): ${e}`,...n)}}function ek(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,ij(e,r,n)}function ij(e,t,n){let r=`FIRESTORE (${Eg}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mc(r),new Error(r)}function vn(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||ij(t,i,r)}function zt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ba{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Hi.UNAUTHENTICATED))}shutdown(){}}class Whe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $he{constructor(t){this.t=t,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){vn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new sl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vn(typeof r.accessToken=="string",31837,{l:r}),new sj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vn(t===null||typeof t=="string",2055,{h:t}),new Hi(t)}}class qhe{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Khe{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new qhe(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yhe{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ys(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){vn(this.o===void 0,3512);const r=s=>{s.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ft("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oV(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(vn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xhe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Xhe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function sn(e,t){return e<t?-1:e>t?1:0}function q_(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return VR(i)===VR(s)?sn(i,s):VR(i)?1:-1}return sn(e.length,t.length)}const Qhe=55296,Zhe=57343;function VR(e){const t=e.charCodeAt(0);return t>=Qhe&&t<=Zhe}function Xp(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="__name__";class za{constructor(t,n,r){n===void 0?n=0:n>t.length&&Dt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Dt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return za.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof za?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=za.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return sn(t.length,n.length)}static compareSegments(t,n){const r=za.isNumericId(t),i=za.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?za.extractNumericId(t).compare(za.extractNumericId(n)):q_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Eu.fromString(t.substring(4,t.length-2))}}class Hn extends za{construct(t,n,r){return new Hn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Hn(n)}static emptyPath(){return new Hn([])}}const Jhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends za{construct(t,n,r){return new Ai(t,n,r)}static isValidIdentifier(t){return Jhe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aV}static keyField(){return new Ai([aV])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ut(He.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ut(He.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ut(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ut(He.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(n)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(Hn.fromString(t))}static fromName(t){return new Rt(Hn.fromString(t).popFirst(5))}static empty(){return new Rt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Hn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Hn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new Hn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(e,t,n){if(!n)throw new ut(He.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function efe(e,t,n,r){if(t===!0&&r===!0)throw new ut(He.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function lV(e){if(!Rt.isDocumentKey(e))throw new ut(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function cV(e){if(Rt.isDocumentKey(e))throw new ut(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function aj(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function h1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Dt(12329,{type:typeof e})}function ps(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ut(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=h1(e);throw new ut(He.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e,t){const n={typeString:e};return t&&(n.value=t),n}function zy(e,t){if(!aj(e))throw new ut(He.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ut(He.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=-62135596800,dV=1e6;class Xn{static now(){return Xn.fromMillis(Date.now())}static fromDate(t){return Xn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*dV);return new Xn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uV)throw new ut(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dV}_compareTo(t){return this.seconds===t.seconds?sn(this.nanoseconds,t.nanoseconds):sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zy(t,Xn._jsonSchema))return new Xn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uV;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xn._jsonSchemaVersion="firestore/timestamp/1.0",Xn._jsonSchema={type:$r("string",Xn._jsonSchemaVersion),seconds:$r("number"),nanoseconds:$r("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new Xn(0,0))}static max(){return new Ot(new Xn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-1;function tfe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(r===1e9?new Xn(n+1,0):new Xn(n,r));return new Ou(i,Rt.empty(),t)}function nfe(e){return new Ou(e.readTime,e.key,Tv)}class Ou{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ou(Ot.min(),Rt.empty(),Tv)}static max(){return new Ou(Ot.max(),Rt.empty(),Tv)}}function rfe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Rt.comparator(e.documentKey,t.documentKey),n!==0?n:sn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ife="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(e){if(e.code!==He.FAILED_PRECONDITION||e.message!==ife)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $e((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $e?n:$e.resolve(n)}catch(n){return $e.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$e.reject(n)}static resolve(t){return new $e((n,r)=>{n(t)})}static reject(t){return new $e((n,r)=>{r(t)})}static waitFor(t){return new $e((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=$e.resolve(!1);for(const r of t)n=n.next(i=>i?$e.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new $e((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new $e((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function ofe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rg(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}f1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=-1;function jy(e){return e==null}function IS(e){return e===0&&1/e==-1/0}function afe(e){return typeof e=="number"&&Number.isInteger(e)&&!IS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="";function lfe(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hV(t)),t=cfe(e.get(n),t);return hV(t)}function cfe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case lj:n+="";break;default:n+=s}}return n}function hV(e){return e+lj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ed(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t,n){this.comparator=t,this.root=n||Ei.EMPTY}insert(t,n){return new cr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(t){return new cr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zw(this.root,t,this.comparator,!1)}getReverseIterator(){return new zw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zw(this.root,t,this.comparator,!0)}}class zw{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ei{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ei.RED,this.left=i??Ei.EMPTY,this.right=s??Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ei(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1;Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ei(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.comparator=t,this.data=new cr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new pV(this.data.getIterator())}getIteratorFrom(t){return new pV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ei)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ei(this.comparator);return n.data=t,n}}class pV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new Zs([])}unionWith(t){let n=new ei(Ai.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Zs(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xp(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uj("Invalid base64 string: "+s):s}}(t);return new Mi(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Mi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const ufe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(e){if(vn(!!e,39018),typeof e=="string"){let t=0;const n=ufe.exec(e);if(vn(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pr(e.seconds),nanos:Pr(e.nanos)}}function Pr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Nu(e){return typeof e=="string"?Mi.fromBase64String(e):Mi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="server_timestamp",hj="__type__",fj="__previous_value__",pj="__local_write_time__";function rk(e){return(e?.mapValue?.fields||{})[hj]?.stringValue===dj}function p1(e){const t=e.mapValue.fields[fj];return rk(t)?p1(t):t}function Rv(e){const t=Lu(e.mapValue.fields[pj].timestampValue);return new Xn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(t,n,r,i,s,o,a,l,c,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const MS="(default)";class Av{constructor(t,n){this.projectId=t,this.database=n||MS}static empty(){return new Av("","")}get isDefaultDatabase(){return this.database===MS}isEqual(t){return t instanceof Av&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="__type__",hfe="__max__",jw={mapValue:{}},mj="__vector__",OS="value";function Bu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rk(e)?4:pfe(e)?9007199254740991:ffe(e)?10:11:Dt(28295,{value:e})}function gl(e,t){if(e===t)return!0;const n=Bu(e);if(n!==Bu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rv(e).isEqual(Rv(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Lu(i.timestampValue),a=Lu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Nu(i.bytesValue).isEqual(Nu(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Pr(i.geoPointValue.latitude)===Pr(s.geoPointValue.latitude)&&Pr(i.geoPointValue.longitude)===Pr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pr(i.integerValue)===Pr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Pr(i.doubleValue),a=Pr(s.doubleValue);return o===a?IS(o)===IS(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Xp(e.arrayValue.values||[],t.arrayValue.values||[],gl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fV(o)!==fV(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gl(o[l],a[l])))return!1;return!0}(e,t);default:return Dt(52216,{left:e})}}function _v(e,t){return(e.values||[]).find(n=>gl(n,t))!==void 0}function Qp(e,t){if(e===t)return 0;const n=Bu(e),r=Bu(t);if(n!==r)return sn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Pr(s.integerValue||s.doubleValue),l=Pr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return gV(e.timestampValue,t.timestampValue);case 4:return gV(Rv(e),Rv(t));case 5:return q_(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Nu(s),l=Nu(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=sn(a[c],l[c]);if(d!==0)return d}return sn(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=sn(Pr(s.latitude),Pr(o.latitude));return a!==0?a:sn(Pr(s.longitude),Pr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return mV(e.arrayValue,t.arrayValue);case 10:return function(s,o){const a=s.fields||{},l=o.fields||{},c=a[OS]?.arrayValue,d=l[OS]?.arrayValue,f=sn(c?.values?.length||0,d?.values?.length||0);return f!==0?f:mV(c,d)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===jw.mapValue&&o===jw.mapValue)return 0;if(s===jw.mapValue)return 1;if(o===jw.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=q_(l[f],d[f]);if(p!==0)return p;const m=Qp(a[l[f]],c[d[f]]);if(m!==0)return m}return sn(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Dt(23264,{he:n})}}function gV(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return sn(e,t);const n=Lu(e),r=Lu(t),i=sn(n.seconds,r.seconds);return i!==0?i:sn(n.nanos,r.nanos)}function mV(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Qp(n[i],r[i]);if(s)return s}return sn(n.length,r.length)}function Zp(e){return K_(e)}function K_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Lu(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Nu(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Rt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=K_(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${K_(n.fields[o])}`;return i+"}"}(e.mapValue):Dt(61005,{value:e})}function zb(e){switch(Bu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=p1(e);return t?16+zb(t):16;case 5:return 2*e.stringValue.length;case 6:return Nu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+zb(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return ed(r.fields,(s,o)=>{i+=s.length+zb(o)}),i}(e.mapValue);default:throw Dt(13486,{value:e})}}function vV(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Y_(e){return!!e&&"integerValue"in e}function ik(e){return!!e&&"arrayValue"in e}function yV(e){return!!e&&"nullValue"in e}function CV(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jb(e){return!!e&&"mapValue"in e}function ffe(e){return(e?.mapValue?.fields||{})[gj]?.stringValue===mj}function I0(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ed(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=I0(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=I0(e.arrayValue.values[n]);return t}return{...e}}function pfe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===hfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.value=t}static empty(){return new us({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!jb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=I0(n)}setAll(t){let n=Ai.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=I0(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());jb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];jb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ed(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new us(I0(this.value))}}function vj(e){const t=[];return ed(e.fields,(n,r)=>{const i=new Ai([n]);if(jb(r)){const s=vj(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Zs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new di(t,0,Ot.min(),Ot.min(),Ot.min(),us.empty(),0)}static newFoundDocument(t,n,r,i){return new di(t,1,n,Ot.min(),r,i,0)}static newNoDocument(t,n){return new di(t,2,n,Ot.min(),Ot.min(),us.empty(),0)}static newUnknownDocument(t,n){return new di(t,3,n,Ot.min(),Ot.min(),us.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n){this.position=t,this.inclusive=n}}function wV(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Rt.comparator(Rt.fromName(o.referenceValue),n.key):r=Qp(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bV(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n="asc"){this.field=t,this.dir=n}}function gfe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{}class Wr extends yj{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new vfe(t,n,r):n==="array-contains"?new wfe(t,r):n==="in"?new bfe(t,r):n==="not-in"?new Sfe(t,r):n==="array-contains-any"?new xfe(t,r):new Wr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new yfe(t,r):new Cfe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qp(n,this.value)):n!==null&&Bu(this.value)===Bu(n)&&this.matchesComparison(Qp(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ca extends yj{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ca(t,n)}matches(t){return Cj(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cj(e){return e.op==="and"}function wj(e){return mfe(e)&&Cj(e)}function mfe(e){for(const t of e.filters)if(t instanceof Ca)return!1;return!0}function X_(e){if(e instanceof Wr)return e.field.canonicalString()+e.op.toString()+Zp(e.value);if(wj(e))return e.filters.map(t=>X_(t)).join(",");{const t=e.filters.map(n=>X_(n)).join(",");return`${e.op}(${t})`}}function bj(e,t){return e instanceof Wr?function(r,i){return i instanceof Wr&&r.op===i.op&&r.field.isEqual(i.field)&&gl(r.value,i.value)}(e,t):e instanceof Ca?function(r,i){return i instanceof Ca&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&bj(o,i.filters[a]),!0):!1}(e,t):void Dt(19439)}function Sj(e){return e instanceof Wr?function(n){return`${n.field.canonicalString()} ${n.op} ${Zp(n.value)}`}(e):e instanceof Ca?function(n){return n.op.toString()+" {"+n.getFilters().map(Sj).join(" ,")+"}"}(e):"Filter"}class vfe extends Wr{constructor(t,n,r){super(t,n,r),this.key=Rt.fromName(r.referenceValue)}matches(t){const n=Rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class yfe extends Wr{constructor(t,n){super(t,"in",n),this.keys=xj("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Cfe extends Wr{constructor(t,n){super(t,"not-in",n),this.keys=xj("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function xj(e,t){return(t.arrayValue?.values||[]).map(n=>Rt.fromName(n.referenceValue))}class wfe extends Wr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ik(n)&&_v(n.arrayValue,this.value)}}class bfe extends Wr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&_v(this.value.arrayValue,n)}}class Sfe extends Wr{constructor(t,n){super(t,"not-in",n)}matches(t){if(_v(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_v(this.value.arrayValue,n)}}class xfe extends Wr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ik(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_v(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Efe{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function SV(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Efe(e,t,n,r,i,s,o)}function sk(e){const t=zt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>X_(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Zp(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Zp(r)).join(",")),t.Te=n}return t.Te}function ok(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gfe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bV(e.startAt,t.startAt)&&bV(e.endAt,t.endAt)}function Q_(e){return Rt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Tfe(e,t,n,r,i,s,o,a){return new Ag(e,t,n,r,i,s,o,a)}function g1(e){return new Ag(e)}function xV(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ej(e){return e.collectionGroup!==null}function M0(e){const t=zt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ei(Ai.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Dv(s,r))}),n.has(Ai.keyField().canonicalString())||t.Ie.push(new Dv(Ai.keyField(),r))}return t.Ie}function ol(e){const t=zt(e);return t.Ee||(t.Ee=Rfe(t,M0(e))),t.Ee}function Rfe(e,t){if(e.limitType==="F")return SV(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dv(i.field,s)});const n=e.endAt?new LS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new LS(e.startAt.position,e.startAt.inclusive):null;return SV(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Z_(e,t){const n=e.filters.concat([t]);return new Ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function J_(e,t,n){return new Ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function m1(e,t){return ok(ol(e),ol(t))&&e.limitType===t.limitType}function Tj(e){return`${sk(ol(e))}|lt:${e.limitType}`}function tp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Sj(i)).join(", ")}]`),jy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zp(i)).join(",")),`Target(${r})`}(ol(e))}; limitType=${e.limitType})`}function v1(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of M0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=wV(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,M0(r),i)||r.endAt&&!function(o,a,l){const c=wV(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,M0(r),i))}(e,t)}function Afe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rj(e){return(t,n)=>{let r=!1;for(const i of M0(e)){const s=_fe(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _fe(e,t,n){const r=e.field.isKeyField()?Rt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Qp(l,c):Dt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ed(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return cj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dfe=new cr(Rt.comparator);function vc(){return Dfe}const Aj=new cr(Rt.comparator);function y0(...e){let t=Aj;for(const n of e)t=t.insert(n.key,n);return t}function _j(e){let t=Aj;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function qd(){return O0()}function Dj(){return O0()}function O0(){return new zh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Pfe=new cr(Rt.comparator),Ffe=new ei(Rt.comparator);function on(...e){let t=Ffe;for(const n of e)t=t.add(n);return t}const kfe=new ei(sn);function Ife(){return kfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:IS(t)?"-0":t}}function Pj(e){return{integerValue:""+e}}function Fj(e,t){return afe(t)?Pj(t):ak(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this._=void 0}}function Mfe(e,t,n){return e instanceof NS?function(i,s){const o={fields:{[hj]:{stringValue:dj},[pj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rk(s)&&(s=p1(s)),s&&(o.fields[fj]=s),{mapValue:o}}(n,t):e instanceof Jp?Ij(e,t):e instanceof eg?Mj(e,t):function(i,s){const o=kj(i,s),a=EV(o)+EV(i.Ae);return Y_(o)&&Y_(i.Ae)?Pj(a):ak(i.serializer,a)}(e,t)}function Ofe(e,t,n){return e instanceof Jp?Ij(e,t):e instanceof eg?Mj(e,t):n}function kj(e,t){return e instanceof Pv?function(r){return Y_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class NS extends y1{}class Jp extends y1{constructor(t){super(),this.elements=t}}function Ij(e,t){const n=Oj(t);for(const r of e.elements)n.some(i=>gl(i,r))||n.push(r);return{arrayValue:{values:n}}}class eg extends y1{constructor(t){super(),this.elements=t}}function Mj(e,t){let n=Oj(t);for(const r of e.elements)n=n.filter(i=>!gl(i,r));return{arrayValue:{values:n}}}class Pv extends y1{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function EV(e){return Pr(e.integerValue||e.doubleValue)}function Oj(e){return ik(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n){this.field=t,this.transform=n}}function Lfe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Jp&&i instanceof Jp||r instanceof eg&&i instanceof eg?Xp(r.elements,i.elements,gl):r instanceof Pv&&i instanceof Pv?gl(r.Ae,i.Ae):r instanceof NS&&i instanceof NS}(e.transform,t.transform)}class Nfe{constructor(t,n){this.version=t,this.transformResults=n}}class _i{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _i}static exists(t){return new _i(void 0,t)}static updateTime(t){return new _i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wb(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class C1{}function Lj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new w1(e.key,_i.none()):new Wy(e.key,e.data,_i.none());{const n=e.data,r=us.empty();let i=new ei(Ai.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new td(e.key,r,new Zs(i.toArray()),_i.none())}}function Bfe(e,t,n){e instanceof Wy?function(i,s,o){const a=i.value.clone(),l=RV(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof td?function(i,s,o){if(!Wb(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=RV(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Nj(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function L0(e,t,n,r){return e instanceof Wy?function(s,o,a,l){if(!Wb(s.precondition,o))return a;const c=s.value.clone(),d=AV(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof td?function(s,o,a,l){if(!Wb(s.precondition,o))return a;const c=AV(s.fieldTransforms,l,o),d=o.data;return d.setAll(Nj(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return Wb(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Vfe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=kj(r.transform,i||null);s!=null&&(n===null&&(n=us.empty()),n.set(r.field,s))}return n||null}function TV(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xp(r,i,(s,o)=>Lfe(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wy extends C1{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class td extends C1{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Nj(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function RV(e,t,n){const r=new Map;vn(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Ofe(o,a,n[i]))}return r}function AV(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Mfe(s,o,t))}return r}class w1 extends C1{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bj extends C1{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Bfe(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=L0(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=L0(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Dj();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Lj(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),on())}isEqual(t){return this.batchId===t.batchId&&Xp(this.mutations,t.mutations,(n,r)=>TV(n,r))&&Xp(this.baseMutations,t.baseMutations,(n,r)=>TV(n,r))}}class ck{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){vn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Pfe}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ck(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr,fn;function Vj(e){switch(e){case He.OK:return Dt(64938);case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0;default:return Dt(15467,{code:e})}}function Hj(e){if(e===void 0)return mc("GRPC error has no .code"),He.UNKNOWN;switch(e){case Nr.OK:return He.OK;case Nr.CANCELLED:return He.CANCELLED;case Nr.UNKNOWN:return He.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return He.INTERNAL;case Nr.UNAVAILABLE:return He.UNAVAILABLE;case Nr.UNAUTHENTICATED:return He.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case Nr.NOT_FOUND:return He.NOT_FOUND;case Nr.ALREADY_EXISTS:return He.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return He.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case Nr.ABORTED:return He.ABORTED;case Nr.OUT_OF_RANGE:return He.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return He.UNIMPLEMENTED;case Nr.DATA_LOSS:return He.DATA_LOSS;default:return Dt(39323,{code:e})}}(fn=Nr||(Nr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zfe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jfe=new Eu([4294967295,4294967295],0);function _V(e){const t=zfe().encode(e),n=new Z9;return n.update(t),new Uint8Array(n.digest())}function DV(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Eu([n,r],0),new Eu([i,s],0)]}class uk{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new C0(`Invalid padding: ${n}`);if(r<0)throw new C0(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new C0(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new C0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Eu.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(Eu.fromNumber(r)));return i.compare(jfe)===1&&(i=new Eu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=_V(t),[r,i]=DV(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new uk(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=_V(t),[r,i]=DV(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class C0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,$y.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new b1(Ot.min(),i,new cr(sn),vc(),on())}}class $y{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new $y(r,n,on(),on(),on())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class Gj{constructor(t,n){this.targetId=t,this.Ce=n}}class Uj{constructor(t,n,r=Mi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PV{constructor(){this.ve=0,this.Fe=FV(),this.Me=Mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=on(),n=on(),r=on();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dt(38017,{changeType:s})}}),new $y(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=FV()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Wfe{constructor(t){this.Ge=t,this.ze=new Map,this.je=vc(),this.Je=Ww(),this.He=Ww(),this.Ye=new cr(sn)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Dt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Q_(s))if(r===0){const o=new Rt(s.path);this.et(n,o,di.newNoDocument(o,Ot.min()))}else vn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Nu(r).toUint8Array()}catch(l){if(l instanceof uj)return Yp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uk(o,i,s)}catch(l){return Yp(l instanceof C0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Q_(a.target)){const l=new Rt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,di.newNoDocument(l,t))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=on();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new b1(t,n,this.Ye,this.je,r);return this.je=vc(),this.Je=Ww(),this.He=Ww(),this.Ye=new cr(sn),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new PV,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ei(sn),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ei(sn),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new PV),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ww(){return new cr(Rt.comparator)}function FV(){return new cr(Rt.comparator)}const $fe={asc:"ASCENDING",desc:"DESCENDING"},qfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kfe={and:"AND",or:"OR"};class Yfe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function eD(e,t){return e.useProto3Json||jy(t)?t:{value:t}}function BS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xfe(e,t){return BS(e,t.toTimestamp())}function so(e){return vn(!!e,49232),Ot.fromTimestamp(function(n){const r=Lu(n);return new Xn(r.seconds,r.nanos)}(e))}function dk(e,t){return tD(e,t).canonicalString()}function tD(e,t){const n=function(i){return new Hn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function jj(e){const t=Hn.fromString(e);return vn(Xj(t),10190,{key:t.toString()}),t}function VS(e,t){return dk(e.databaseId,t.path)}function N0(e,t){const n=jj(t);if(n.get(1)!==e.databaseId.projectId)throw new ut(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ut(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rt($j(n))}function Wj(e,t){return dk(e.databaseId,t)}function Qfe(e){const t=jj(e);return t.length===4?Hn.emptyPath():$j(t)}function nD(e){return new Hn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $j(e){return vn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function kV(e,t,n){return{name:VS(e,t),fields:n.value.mapValue.fields}}function Zfe(e,t){return"found"in t?function(r,i){vn(!!i.found,43571),i.found.name,i.found.updateTime;const s=N0(r,i.found.name),o=so(i.found.updateTime),a=i.found.createTime?so(i.found.createTime):Ot.min(),l=new us({mapValue:{fields:i.found.fields}});return di.newFoundDocument(s,o,a,l)}(e,t):"missing"in t?function(r,i){vn(!!i.missing,3894),vn(!!i.readTime,22933);const s=N0(r,i.missing),o=so(i.readTime);return di.newNoDocument(s,o)}(e,t):Dt(7234,{result:t})}function Jfe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Dt(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(vn(d===void 0||typeof d=="string",58123),Mi.fromBase64String(d||"")):(vn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mi.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=c.code===void 0?He.UNKNOWN:Hj(c.code);return new ut(d,c.message||"")}(o);n=new Uj(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=N0(e,r.document.name),s=so(r.document.updateTime),o=r.document.createTime?so(r.document.createTime):Ot.min(),a=new us({mapValue:{fields:r.document.fields}}),l=di.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new $b(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=N0(e,r.document),s=r.readTime?so(r.readTime):Ot.min(),o=di.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $b([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=N0(e,r.document),s=r.removedTargetIds||[];n=new $b([],s,i,null)}else{if(!("filter"in t))return Dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Ufe(i,s),a=r.targetId;n=new Gj(a,o)}}return n}function qj(e,t){let n;if(t instanceof Wy)n={update:kV(e,t.key,t.value)};else if(t instanceof w1)n={delete:VS(e,t.key)};else if(t instanceof td)n={update:kV(e,t.key,t.data),updateMask:lpe(t.fieldMask)};else{if(!(t instanceof Bj))return Dt(16599,{Vt:t.type});n={verify:VS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof NS)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pv)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Dt(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Xfe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Dt(27497)}(e,t.precondition)),n}function epe(e,t){return e&&e.length>0?(vn(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?so(i.updateTime):so(s);return o.isEqual(Ot.min())&&(o=so(s)),new Nfe(o,i.transformResults||[])}(n,t))):[]}function tpe(e,t){return{documents:[Wj(e,t.path)]}}function npe(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wj(e,i);const s=function(c){if(c.length!==0)return Yj(Ca.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:np(p.field),direction:spe(p.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=eD(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function rpe(e){let t=Qfe(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vn(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=Kj(f);return p instanceof Ca&&wj(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(y){return new Dv(rp(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,jy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new LS(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new LS(m,p)}(n.endAt)),Tfe(t,i,o,s,a,"F",l,c)}function ipe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Kj(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rp(n.unaryFilter.field);return Wr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rp(n.unaryFilter.field);return Wr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rp(n.unaryFilter.field);return Wr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rp(n.unaryFilter.field);return Wr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Wr.create(rp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ca.create(n.compositeFilter.filters.map(r=>Kj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}}(n.compositeFilter.op))}(e):Dt(30097,{filter:e})}function spe(e){return $fe[e]}function ope(e){return qfe[e]}function ape(e){return Kfe[e]}function np(e){return{fieldPath:e.canonicalString()}}function rp(e){return Ai.fromServerFormat(e.fieldPath)}function Yj(e){return e instanceof Wr?function(n){if(n.op==="=="){if(CV(n.value))return{unaryFilter:{field:np(n.field),op:"IS_NAN"}};if(yV(n.value))return{unaryFilter:{field:np(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CV(n.value))return{unaryFilter:{field:np(n.field),op:"IS_NOT_NAN"}};if(yV(n.value))return{unaryFilter:{field:np(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:np(n.field),op:ope(n.op),value:n.value}}}(e):e instanceof Ca?function(n){const r=n.getFilters().map(i=>Yj(i));return r.length===1?r[0]:{compositeFilter:{op:ape(n.op),filters:r}}}(e):Dt(54877,{filter:e})}function lpe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Xj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n,r,i,s=Ot.min(),o=Ot.min(),a=Mi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Cu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cpe{constructor(t){this.yt=t}}function upe(e){const t=rpe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?J_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dpe{constructor(){this.Cn=new hpe}addToCollectionParentIndex(t,n){return this.Cn.add(n),$e.resolve()}getCollectionParents(t,n){return $e.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $e.resolve()}deleteFieldIndex(t,n){return $e.resolve()}deleteAllFieldIndexes(t){return $e.resolve()}createTargetIndexes(t,n){return $e.resolve()}getDocumentsMatchingTarget(t,n){return $e.resolve(null)}getIndexType(t,n){return $e.resolve(0)}getFieldIndexes(t,n){return $e.resolve([])}getNextCollectionGroupToUpdate(t){return $e.resolve(null)}getMinOffset(t,n){return $e.resolve(Ou.min())}getMinOffsetFromCollectionGroup(t,n){return $e.resolve(Ou.min())}updateCollectionGroup(t,n,r){return $e.resolve()}updateIndexEntries(t,n){return $e.resolve()}}class hpe{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ei(Hn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ei(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qj=41943040;class Ts{static withCacheSize(t){return new Ts(t,Ts.DEFAULT_COLLECTION_PERCENTILE,Ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts.DEFAULT_COLLECTION_PERCENTILE=10,Ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ts.DEFAULT=new Ts(Qj,Ts.DEFAULT_COLLECTION_PERCENTILE,Ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ts.DISABLED=new Ts(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tg(0)}static cr(){return new tg(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="LruGarbageCollector",fpe=1048576;function OV([e,t],[n,r]){const i=sn(e,n);return i===0?sn(t,r):i}class ppe{constructor(t){this.Ir=t,this.buffer=new ei(OV),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();OV(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gpe{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(MV,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rg(n)?ft(MV,"Ignoring IndexedDB error during garbage collection: ",n):await Tg(n)}await this.Vr(3e5)})}}class mpe{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return $e.resolve(f1.ce);const r=new ppe(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(IV)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IV):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(c=Date.now(),ep()<=rn.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function vpe(e,t){return new mpe(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ype{constructor(){this.changes=new zh(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,di.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$e.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cpe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wpe{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&L0(r.mutation,i,Zs.empty(),Xn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,on()).next(()=>r))}getLocalViewOfDocuments(t,n,r=on()){const i=qd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=y0();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=qd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,on()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=vc();const o=O0(),a=function(){return O0()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof td)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),L0(d.mutation,c,d.mutation.getFieldMask(),Xn.now())):o.set(c.key,Zs.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new Cpe(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(t,n){const r=O0();let i=new cr((o,a)=>o-a),s=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Zs.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||on()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=Dj();d.forEach(p=>{if(!s.has(p)){const m=Lj(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,f))}return $e.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ej(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):$e.resolve(qd());let a=Tv,l=s;return o.next(c=>$e.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?$e.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,on())).next(d=>({batchId:a,changes:_j(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Rt(n)).next(r=>{let i=y0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=y0();return this.indexManager.getCollectionParents(t,s).next(a=>$e.forEach(a,l=>{const c=function(f,p){return new Ag(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,di.newInvalidDocument(d)))});let a=y0();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&L0(d.mutation,c,Zs.empty(),Xn.now()),v1(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bpe{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $e.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:so(i.createTime)}}(n)),$e.resolve()}getNamedQuery(t,n){return $e.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:upe(i.bundledQuery),readTime:so(i.readTime)}}(n)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(){this.overlays=new cr(Rt.comparator),this.qr=new Map}getOverlay(t,n){return $e.resolve(this.overlays.get(n))}getOverlays(t,n){const r=qd();return $e.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),$e.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),$e.resolve()}getOverlaysForCollection(t,n,r){const i=qd(),s=n.length+1,o=new Rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $e.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new cr((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=qd(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=qd(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return $e.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gfe(n,r));let s=this.qr.get(n);s===void 0&&(s=on(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpe{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(t){return $e.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.Qr=new ei(ci.$r),this.Ur=new ei(ci.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ci(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new ci(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new Rt(new Hn([])),r=new ci(n,t),i=new ci(n,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Rt(new Hn([])),r=new ci(n,t),i=new ci(n,t+1);let s=on();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ci(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ci{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Rt.comparator(t.key,n.key)||sn(t.Yr,n.Yr)}static Kr(t,n){return sn(t.Yr,n.Yr)||Rt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ei(ci.$r)}checkEmpty(t){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hfe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ci(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return $e.resolve(o)}lookupMutationBatch(t,n){return $e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?nk:this.tr-1)}getAllMutationBatches(t){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ci(n,0),i=new ci(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ei(sn);return n.forEach(i=>{const s=new ci(i,0),o=new ci(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),$e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Rt.isDocumentKey(s)||(s=s.child(""));const o=new ci(new Rt(s),0);let a=new ei(sn);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),$e.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){vn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $e.forEach(n.mutations,i=>{const s=new ci(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new ci(n,0),i=this.Zr.firstAfterOrEqual(r);return $e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$e.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tpe{constructor(t){this.ri=t,this.docs=function(){return new cr(Rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $e.resolve(r?r.document.mutableCopy():di.newInvalidDocument(n))}getEntries(t,n){let r=vc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():di.newInvalidDocument(i))}),$e.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=vc();const o=n.path,a=new Rt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rfe(nfe(d),r)<=0||(i.has(d.key)||v1(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Dt(9500)}ii(t,n){return $e.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Rpe(this)}getSize(t){return $e.resolve(this.size)}}class Rpe extends ype{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),$e.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ape{constructor(t){this.persistence=t,this.si=new zh(n=>sk(n),ok),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.oi=0,this._i=new hk,this.targetCount=0,this.ai=tg.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),$e.resolve()}getLastRemoteSnapshotVersion(t){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $e.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$e.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new tg(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$e.resolve()}updateTargetData(t,n){return this.Pr(n),$e.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),$e.waitFor(s).next(()=>i)}getTargetCount(t){return $e.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return $e.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),$e.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),$e.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$e.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return $e.resolve(r)}containsKey(t,n){return $e.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(t,n){this.ui={},this.overlays={},this.ci=new f1(0),this.li=!1,this.li=!0,this.hi=new xpe,this.referenceDelegate=t(this),this.Pi=new Ape(this),this.indexManager=new dpe,this.remoteDocumentCache=function(i){return new Tpe(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new cpe(n),this.Ii=new bpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Spe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new Epe(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ft("MemoryPersistence","Starting transaction:",t);const i=new _pe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,n){return $e.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class _pe extends sfe{constructor(t){super(),this.currentSequenceNumber=t}}class fk{constructor(t){this.persistence=t,this.Ri=new hk,this.Vi=null}static mi(t){return new fk(t)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$e.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$e.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,r=>{const i=Rt.fromPath(r);return this.gi(t,i).next(s=>{s||n.removeEntry(i,Ot.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return $e.or([()=>$e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class HS{constructor(t,n){this.persistence=t,this.pi=new zh(r=>lfe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vpe(this,n)}static mi(t,n){return new HS(t,n)}Ei(){}di(t){return $e.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return $e.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?$e.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,n).next(a=>{a||(r++,s.removeEntry(o,Ot.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$e.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$e.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$e.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$e.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zb(t.data.value)),n}br(t,n,r){return $e.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return $e.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=on(),i=on();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pk(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dpe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rce()?8:ofe(qi())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ys(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Dpe;return this.Ss(t,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(t,n,o,a.size)})}).next(()=>s.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(ep()<=rn.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",tp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(ep()<=rn.DEBUG&&ft("QueryEngine","Query:",tp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ep()<=rn.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",tp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ol(n))):$e.resolve())}ys(t,n){if(xV(n))return $e.resolve(null);let r=ol(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=J_(n,null,"F"),r=ol(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=on(...s);return this.ps.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(t,J_(n,null,"F")):this.vs(t,c,n,l)}))})))}ws(t,n,r,i){return xV(n)||i.isEqual(Ot.min())?$e.resolve(null):this.ps.getDocuments(t,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?$e.resolve(null):(ep()<=rn.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tp(n)),this.vs(t,o,n,tfe(i,Tv)).next(a=>a))})}Ds(t,n){let r=new ei(Rj(t));return n.forEach((i,s)=>{v1(t,s)&&(r=r.add(s))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,n,r){return ep()<=rn.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",tp(n)),this.ps.getDocumentsMatchingQuery(t,n,Ou.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="LocalStore",Fpe=3e8;class kpe{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new cr(sn),this.xs=new zh(s=>sk(s),ok),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wpe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Ipe(e,t,n,r){return new kpe(e,t,n,r)}async function Jj(e,t){const n=zt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=on();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function Mpe(e,t){const n=zt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=$e.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(C=>{const b=c.docVersions.get(y);vn(b!==null,48541),C.version.compareTo(b)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),d.addEntry(C)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=on();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function eW(e){const t=zt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function Ope(e,t){const n=zt(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(Mi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(C,b,x){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Fpe?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(s,m))});let l=vc(),c=on();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Lpe(s,o,t.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(Ot.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $e.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function Lpe(e,t,n){let r=on(),i=on();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=vc();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ot.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ft(gk,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function Npe(e,t){const n=zt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=nk),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Bpe(e,t){const n=zt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(s=>s?(i=s,$e.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Cu(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function rD(e,t,n){const r=zt(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Rg(o))throw o;ft(gk,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function LV(e,t,n){const r=zt(e);let i=Ot.min(),s=on();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=zt(l),p=f.xs.get(d);return p!==void 0?$e.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,ol(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,n?i:Ot.min(),n?s:on())).next(a=>(Vpe(r,Afe(t),a),{documents:a,Qs:s})))}function Vpe(e,t,n){let r=e.Os.get(t)||Ot.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Os.set(t,r)}class NV{constructor(){this.activeTargetIds=Ife()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Hpe{constructor(){this.Mo=new NV,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new NV,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="ConnectivityMonitor";class VV{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(BV,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(BV,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $w=null;function iD(){return $w===null?$w=function(){return 268435456+Math.round(2147483648*Math.random())}():$w++,"0x"+$w.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="RestConnection",Upe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zpe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===MS?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,s){const o=iD(),a=this.zo(t,n.toUriEncodedString());ft(HR,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),d=Qu(c);return this.Jo(t,a,l,r,d).then(f=>(ft(HR,`Received RPC '${t}' ${o}: `,f),f),f=>{throw Yp(HR,`RPC '${t}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(t,n,r,i,s,o){return this.Go(t,n,r,i,s)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eg}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,n){const r=Upe[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="WebChannelConnection";class Wpe extends zpe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,s){const o=iD();return new Promise((a,l)=>{const c=new J9;c.setWithCredentials(!0),c.listenOnce(ej.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ub.NO_ERROR:const f=c.getResponseJson();ft(Ni,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),a(f);break;case Ub.TIMEOUT:ft(Ni,`RPC '${t}' ${o} timed out`),l(new ut(He.DEADLINE_EXCEEDED,"Request time out"));break;case Ub.HTTP_ERROR:const p=c.getStatus();if(ft(Ni,`RPC '${t}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const C=function(x){const R=x.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(R)>=0?R:He.UNKNOWN}(y.status);l(new ut(C,y.message))}else l(new ut(He.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ut(He.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ft(Ni,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(i);ft(Ni,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(t,n,r){const i=iD(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=rj(),a=nj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ft(Ni,`Creating RPC '${t}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,m=!1;const y=new jpe({Yo:b=>{m?ft(Ni,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(p||(ft(Ni,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),ft(Ni,`RPC '${t}' stream ${i} sending:`,b),f.send(b))},Zo:()=>f.close()}),C=(b,x,R)=>{b.listen(x,E=>{try{R(E)}catch(F){setTimeout(()=>{throw F},0)}})};return C(f,v0.EventType.OPEN,()=>{m||(ft(Ni,`RPC '${t}' stream ${i} transport opened.`),y.o_())}),C(f,v0.EventType.CLOSE,()=>{m||(m=!0,ft(Ni,`RPC '${t}' stream ${i} transport closed`),y.a_(),this.E_(f))}),C(f,v0.EventType.ERROR,b=>{m||(m=!0,Yp(Ni,`RPC '${t}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),y.a_(new ut(He.UNAVAILABLE,"The operation could not be completed")))}),C(f,v0.EventType.MESSAGE,b=>{if(!m){const x=b.data[0];vn(!!x,16349);const R=x,E=R?.error||R[0]?.error;if(E){ft(Ni,`RPC '${t}' stream ${i} received error:`,E);const F=E.status;let I=function(P){const k=Nr[P];if(k!==void 0)return Hj(k)}(F),_=E.message;I===void 0&&(I=He.INTERNAL,_="Unknown error status: "+F+" with message "+E.message),m=!0,y.a_(new ut(I,_)),f.close()}else ft(Ni,`RPC '${t}' stream ${i} received:`,x),y.u_(x)}}),C(a,tj.STAT_EVENT,b=>{b.stat===$_.PROXY?ft(Ni,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===$_.NOPROXY&&ft(Ni,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function GR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(e){return new Yfe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="PersistentStream";class tW{constructor(t,n,r,i,s,o,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mk(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===He.RESOURCE_EXHAUSTED?(mc(n.toString()),mc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new ut(He.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ft(HV,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ft(HV,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $pe extends tW{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Jfe(this.serializer,t),r=function(s){if(!("targetChange"in s))return Ot.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ot.min():o.readTime?so(o.readTime):Ot.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=nD(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Q_(l)?{documents:tpe(s,l)}:{query:npe(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zj(s,o.resumeToken);const c=eD(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ot.min())>0){a.readTime=BS(s,o.snapshotVersion.toTimestamp());const c=eD(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=ipe(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=nD(this.serializer),n.removeTarget=t,this.q_(n)}}class qpe extends tW{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return vn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,vn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){vn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=epe(t.writeResults,t.commitTime),r=so(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=nD(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>qj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe{}class Ype extends Kpe{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ut(He.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,tD(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(He.UNKNOWN,s.toString())})}Ho(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(t,tD(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut(He.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Xpe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mc(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RemoteStore";class Qpe{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{jh(this)&&(ft(Sh,"Restarting streams for network reachability change."),await async function(l){const c=zt(l);c.Ea.add(4),await qy(c),c.Ra.set("Unknown"),c.Ea.delete(4),await x1(c)}(this))})}),this.Ra=new Xpe(r,i)}}async function x1(e){if(jh(e))for(const t of e.da)await t(!0)}async function qy(e){for(const t of e.da)await t(!1)}function nW(e,t){const n=zt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),wk(n)?Ck(n):_g(n).O_()&&yk(n,t))}function vk(e,t){const n=zt(e),r=_g(n);n.Ia.delete(t),r.O_()&&rW(n,t),n.Ia.size===0&&(r.O_()?r.L_():jh(n)&&n.Ra.set("Unknown"))}function yk(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_g(e).Y_(t)}function rW(e,t){e.Va.Ue(t),_g(e).Z_(t)}function Ck(e){e.Va=new Wfe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),_g(e).start(),e.Ra.ua()}function wk(e){return jh(e)&&!_g(e).x_()&&e.Ia.size>0}function jh(e){return zt(e).Ea.size===0}function iW(e){e.Va=void 0}async function Zpe(e){e.Ra.set("Online")}async function Jpe(e){e.Ia.forEach((t,n)=>{yk(e,t)})}async function ege(e,t){iW(e),wk(e)?(e.Ra.ha(t),Ck(e)):e.Ra.set("Unknown")}async function tge(e,t,n){if(e.Ra.set("Online"),t instanceof Uj&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(r){ft(Sh,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await GS(e,r)}else if(t instanceof $b?e.Va.Ze(t):t instanceof Gj?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ot.min()))try{const r=await eW(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Mi.EMPTY_BYTE_STRING,d.snapshotVersion)),rW(s,l);const f=new Cu(d.target,l,c,d.sequenceNumber);yk(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){ft(Sh,"Failed to raise snapshot:",r),await GS(e,r)}}async function GS(e,t,n){if(!Rg(t))throw t;e.Ea.add(1),await qy(e),e.Ra.set("Offline"),n||(n=()=>eW(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ft(Sh,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await x1(e)})}function sW(e,t){return t().catch(n=>GS(e,n,t))}async function E1(e){const t=zt(e),n=Vu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:nk;for(;nge(t);)try{const i=await Npe(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,rge(t,i)}catch(i){await GS(t,i)}oW(t)&&aW(t)}function nge(e){return jh(e)&&e.Ta.length<10}function rge(e,t){e.Ta.push(t);const n=Vu(e);n.O_()&&n.X_&&n.ea(t.mutations)}function oW(e){return jh(e)&&!Vu(e).x_()&&e.Ta.length>0}function aW(e){Vu(e).start()}async function ige(e){Vu(e).ra()}async function sge(e){const t=Vu(e);for(const n of e.Ta)t.ea(n.mutations)}async function oge(e,t,n){const r=e.Ta.shift(),i=ck.from(r,t,n);await sW(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await E1(e)}async function age(e,t){t&&Vu(e).X_&&await async function(r,i){if(function(o){return Vj(o)&&o!==He.ABORTED}(i.code)){const s=r.Ta.shift();Vu(r).B_(),await sW(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await E1(r)}}(e,t),oW(e)&&aW(e)}async function GV(e,t){const n=zt(e);n.asyncQueue.verifyOperationInProgress(),ft(Sh,"RemoteStore received new credentials");const r=jh(n);n.Ea.add(3),await qy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await x1(n)}async function lge(e,t){const n=zt(e);t?(n.Ea.delete(2),await x1(n)):t||(n.Ea.add(2),await qy(n),n.Ra.set("Unknown"))}function _g(e){return e.ma||(e.ma=function(n,r,i){const s=zt(n);return s.sa(),new $pe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:Zpe.bind(null,e),t_:Jpe.bind(null,e),r_:ege.bind(null,e),H_:tge.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),wk(e)?Ck(e):e.Ra.set("Unknown")):(await e.ma.stop(),iW(e))})),e.ma}function Vu(e){return e.fa||(e.fa=function(n,r,i){const s=zt(n);return s.sa(),new qpe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:ige.bind(null,e),r_:age.bind(null,e),ta:sge.bind(null,e),na:oge.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await E1(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(Sh,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new bk(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(He.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sk(e,t){if(mc("AsyncQueue",`${t}: ${e}`),Rg(e))return new ut(He.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{static emptySet(t){return new Sp(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Rt.comparator(n.key,r.key):(n,r)=>Rt.comparator(n.key,r.key),this.keyedMap=y0(),this.sortedSet=new cr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Sp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Sp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.ga=new cr(Rt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class ng{constructor(t,n,r,i,s,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ng(t,n,Sp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&m1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cge{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class uge{constructor(){this.queries=zV(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=zt(n),s=i.queries;i.queries=zV(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ut(He.ABORTED,"Firestore shutting down"))}}function zV(){return new zh(e=>Tj(e),m1)}async function xk(e,t){const n=zt(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new cge,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Sk(o,`Initialization of query '${tp(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Tk(n)}async function Ek(e,t){const n=zt(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dge(e,t){const n=zt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Tk(n)}function hge(e,t,n){const r=zt(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Tk(e){e.Ca.forEach(t=>{t.next()})}var sD,jV;(jV=sD||(sD={})).Ma="default",jV.Cache="cache";class Rk{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ng(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ng.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sD.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(t){this.key=t}}class cW{constructor(t){this.key=t}}class fge{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=on(),this.mutatedKeys=on(),this.eu=Rj(t),this.tu=new Sp(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new UV,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,f)=>{const p=i.get(d),m=v1(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),C=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?y!==C&&(r.track({type:3,doc:m}),b=!0):this.su(p,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),b=!0):p&&!m&&(r.track({type:1,doc:p}),b=!0,(l||c)&&(a=!0)),b&&(m?(o=o.add(m),s=C?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((d,f)=>function(m,y){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:b})}};return C(m)-C(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new ng(this.query,t.tu,s,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UV,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=on(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new cW(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new lW(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=on();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ng.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ak="SyncEngine";class pge{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class gge{constructor(t){this.key=t,this.hu=!1}}class mge{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zh(a=>Tj(a),m1),this.Iu=new Map,this.Eu=new Set,this.du=new cr(Rt.comparator),this.Au=new Map,this.Ru=new hk,this.Vu={},this.mu=new Map,this.fu=tg.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vge(e,t,n=!0){const r=gW(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await uW(r,t,n,!0),i}async function yge(e,t){const n=gW(e);await uW(n,t,!0,!1)}async function uW(e,t,n,r){const i=await Bpe(e.localStore,ol(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Cge(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&nW(e.remoteStore,i),a}async function Cge(e,t,n,r,i){e.pu=(f,p,m)=>async function(C,b,x,R){let E=b.view.ru(x);E.Cs&&(E=await LV(C.localStore,b.query,!1).then(({documents:D})=>b.view.ru(D,E)));const F=R&&R.targetChanges.get(b.targetId),I=R&&R.targetMismatches.get(b.targetId)!=null,_=b.view.applyChanges(E,C.isPrimaryClient,F,I);return $V(C,b.targetId,_.au),_.snapshot}(e,f,p,m);const s=await LV(e.localStore,t,!0),o=new fge(t,s.Qs),a=o.ru(s.documents),l=$y.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);$V(e,n,c.au);const d=new pge(t,n,o);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function wge(e,t,n){const r=zt(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!m1(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rD(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vk(r.remoteStore,i.targetId),oD(r,i.targetId)}).catch(Tg)):(oD(r,i.targetId),await rD(r.localStore,i.targetId,!0))}async function bge(e,t){const n=zt(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vk(n.remoteStore,r.targetId))}async function Sge(e,t,n){const r=Dge(e);try{const i=await function(o,a){const l=zt(o),c=Xn.now(),d=a.reduce((m,y)=>m.add(y.key),on());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=vc(),C=on();return l.Ns.getEntries(m,d).next(b=>{y=b,y.forEach((x,R)=>{R.isValidDocument()||(C=C.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(b=>{f=b;const x=[];for(const R of a){const E=Vfe(R,f.get(R.key).overlayedDocument);E!=null&&x.push(new td(R.key,E,vj(E.value.mapValue),_i.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(b=>{p=b;const x=b.applyToLocalDocumentSet(f,C);return l.documentOverlayCache.saveOverlays(m,b.batchId,x)})}).then(()=>({batchId:p.batchId,changes:_j(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new cr(sn)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ky(r,i.changes),await E1(r.remoteStore)}catch(i){const s=Sk(i,"Failed to persist write");n.reject(s)}}async function dW(e,t){const n=zt(e);try{const r=await Ope(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?vn(o.hu,14607):i.removedDocuments.size>0&&(vn(o.hu,42227),o.hu=!1))}),await Ky(n,r,t)}catch(r){await Tg(r)}}function WV(e,t,n){const r=zt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=zt(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&Tk(l)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xge(e,t,n){const r=zt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new cr(Rt.comparator);o=o.insert(s,di.newNoDocument(s,Ot.min()));const a=on().add(s),l=new b1(Ot.min(),new Map,new cr(sn),o,a);await dW(r,l),r.du=r.du.remove(s),r.Au.delete(t),_k(r)}else await rD(r.localStore,t,!1).then(()=>oD(r,t,n)).catch(Tg)}async function Ege(e,t){const n=zt(e),r=t.batch.batchId;try{const i=await Mpe(n.localStore,t);fW(n,r,null),hW(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ky(n,i)}catch(i){await Tg(i)}}async function Tge(e,t,n){const r=zt(e);try{const i=await function(o,a){const l=zt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(vn(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,t);fW(r,t,n),hW(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ky(r,i)}catch(i){await Tg(i)}}function hW(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function fW(e,t,n){const r=zt(e);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function oD(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||pW(e,r)})}function pW(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(vk(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),_k(e))}function $V(e,t,n){for(const r of n)r instanceof lW?(e.Ru.addReference(r.key,t),Rge(e,r)):r instanceof cW?(ft(Ak,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||pW(e,r.key)):Dt(19791,{wu:r})}function Rge(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ft(Ak,"New document in limbo: "+n),e.Eu.add(r),_k(e))}function _k(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Rt(Hn.fromString(t)),r=e.fu.next();e.Au.set(r,new gge(n)),e.du=e.du.insert(n,r),nW(e.remoteStore,new Cu(ol(g1(n.path)),r,"TargetPurposeLimboResolution",f1.ce))}}async function Ky(e,t,n){const r=zt(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=pk.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const d=zt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$e.forEach(c,p=>$e.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>$e.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Rg(f))throw f;ft(gk,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),y=m.snapshotVersion,C=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(p,C)}}}(r.localStore,s))}async function Age(e,t){const n=zt(e);if(!n.currentUser.isEqual(t)){ft(Ak,"User change. New user:",t.toKey());const r=await Jj(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new ut(He.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ky(n,r.Ls)}}function _ge(e,t){const n=zt(e),r=n.Au.get(t);if(r&&r.hu)return on().add(r.key);{let i=on();const s=n.Iu.get(t);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function gW(e){const t=zt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dW.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_ge.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xge.bind(null,t),t.Pu.H_=dge.bind(null,t.eventManager),t.Pu.yu=hge.bind(null,t.eventManager),t}function Dge(e){const t=zt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ege.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tge.bind(null,t),t}class US{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=S1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Ipe(this.persistence,new Ppe,t.initialUser,this.serializer)}Cu(t){return new Zj(fk.mi,this.serializer)}Du(t){return new Hpe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}US.provider={build:()=>new US};class Pge extends US{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){vn(this.persistence.referenceDelegate instanceof HS,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gpe(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ts.withCacheSize(this.cacheSizeBytes):Ts.DEFAULT;return new Zj(r=>HS.mi(r,n),this.serializer)}}class aD{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Age.bind(null,this.syncEngine),await lge(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uge}()}createDatastore(t){const n=S1(t.databaseInfo.databaseId),r=function(s){return new Wpe(s)}(t.databaseInfo);return function(s,o,a,l){return new Ype(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Qpe(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>WV(this.syncEngine,n,0),function(){return VV.v()?new VV:new Gpe}())}createSyncEngine(t,n){return function(i,s,o,a,l,c,d){const f=new mge(i,s,o,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=zt(n);ft(Sh,"RemoteStore shutting down."),r.Ea.add(5),await qy(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}aD.provider={build:()=>new aD};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mc("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fge{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(He.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=zt(i),a={documents:s.map(f=>VS(o.serializer,f))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Hn.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{const p=Zfe(o.serializer,f);c.set(p.key.toString(),p)});const d=[];return s.forEach(f=>{const p=c.get(f.toString());vn(!!p,55234,{key:f}),d.push(p)}),d}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new w1(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=Rt.fromPath(r);this.mutations.push(new Bj(i,this.precondition(i)))}),await async function(r,i){const s=zt(r),o={writes:i.map(a=>qj(s.serializer,a))};await s.Go("Commit",s.serializer.databaseId,Hn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Dt(50498,{Gu:t.constructor.name});n=Ot.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new ut(He.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Ot.min())?_i.exists(!1):_i.updateTime(n):_i.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ot.min()))throw new ut(He.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _i.updateTime(n)}return _i.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kge{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new mk(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const t=new Fge(this.datastore),n=this.Hu(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(t){try{const n=this.updateFunction(t);return!jy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(t)}Zu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Vj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="FirestoreClient";class Ige{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hi.UNAUTHENTICATED,this.clientId=tk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ft(Hu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ft(Hu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Sk(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function UR(e,t){e.asyncQueue.verifyOperationInProgress(),ft(Hu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Jj(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function qV(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Mge(e);ft(Hu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>GV(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>GV(t.remoteStore,i)),e._onlineComponents=t}async function Mge(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(Hu,"Using user provided OfflineComponentProvider");try{await UR(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===He.FAILED_PRECONDITION||i.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yp("Error using user provided cache. Falling back to memory cache: "+n),await UR(e,new US)}}else ft(Hu,"Using default OfflineComponentProvider"),await UR(e,new Pge(void 0));return e._offlineComponents}async function Pk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(Hu,"Using user provided OnlineComponentProvider"),await qV(e,e._uninitializedComponentsProvider._online)):(ft(Hu,"Using default OnlineComponentProvider"),await qV(e,new aD))),e._onlineComponents}function Oge(e){return Pk(e).then(t=>t.syncEngine)}function Lge(e){return Pk(e).then(t=>t.datastore)}async function zS(e){const t=await Pk(e),n=t.eventManager;return n.onListen=vge.bind(null,t.syncEngine),n.onUnlisten=wge.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yge.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bge.bind(null,t.syncEngine),n}function Nge(e,t,n={}){const r=new sl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Dk({next:p=>{d.Nu(),o.enqueueAndForget(()=>Ek(s,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new ut(He.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new ut(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Rk(g1(a.path),d,{includeMetadataChanges:!0,qa:!0});return xk(s,f)}(await zS(e),e.asyncQueue,t,n,r)),r.promise}function Bge(e,t,n={}){const r=new sl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Dk({next:p=>{d.Nu(),o.enqueueAndForget(()=>Ek(s,f)),p.fromCache&&l.source==="server"?c.reject(new ut(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Rk(a,d,{includeMetadataChanges:!0,qa:!0});return xk(s,f)}(await zS(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW="firestore.googleapis.com",YV=!0;class XV{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vW,this.ssl=YV}else this.host=t.host,this.ssl=t.ssl??YV;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Qj;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fpe)throw new ut(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}efe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mW(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class T1{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XV({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XV(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jhe;switch(r.type){case"firstParty":return new Khe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=KV.get(n);r&&(ft("ComponentProvider","Removing Datastore"),KV.delete(n),r.terminate())}(this),Promise.resolve()}}function Vge(e,t,n,r={}){e=ps(e,T1);const i=Qu(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(GF(`https://${a}`),UF("Firestore",!0)),s.host!==vW&&s.host!==a&&Yp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!fc(l,o)&&(e._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Hi.MOCK_USER;else{c=h9(r.mockUserToken,e._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ut(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Hi(f)}e._authCredentials=new Whe(new sj(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new nd(this.firestore,t,this._query)}}class lr{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new lr(this.firestore,t,this._key)}toJSON(){return{type:lr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(zy(n,lr._jsonSchema))return new lr(t,r||null,new Rt(Hn.fromString(n.referencePath)))}}lr._jsonSchemaVersion="firestore/documentReference/1.0",lr._jsonSchema={type:$r("string",lr._jsonSchemaVersion),referencePath:$r("string")};class Tu extends nd{constructor(t,n,r){super(t,n,g1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new lr(this.firestore,null,new Rt(t))}withConverter(t){return new Tu(this.firestore,t,this._path)}}function Dg(e,t,...n){if(e=Zn(e),oj("collection","path",t),e instanceof T1){const r=Hn.fromString(t,...n);return cV(r),new Tu(e,null,r)}{if(!(e instanceof lr||e instanceof Tu))throw new ut(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Hn.fromString(t,...n));return cV(r),new Tu(e.firestore,null,r)}}function ml(e,t,...n){if(e=Zn(e),arguments.length===1&&(t=tk.newId()),oj("doc","path",t),e instanceof T1){const r=Hn.fromString(t,...n);return lV(r),new lr(e,null,new Rt(r))}{if(!(e instanceof lr||e instanceof Tu))throw new ut(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Hn.fromString(t,...n));return lV(r),new lr(e.firestore,e instanceof Tu?e.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="AsyncQueue";class ZV{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mk(this,"async_queue_retry"),this._c=()=>{const r=GR();r&&ft(QV,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=GR();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=GR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new sl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Rg(t))throw t;ft(QV,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,mc("INTERNAL UNHANDLED ERROR: ",JV(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=bk.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Dt(47125,{Pc:JV(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function JV(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class vl extends T1{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new ZV,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZV(t),this._firestoreClient=void 0,await t}}}function Hge(e,t){const n=typeof e=="object"?e:WF(),r=typeof e=="string"?e:MS,i=l1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=c9("firestore");s&&Vge(i,...s)}return i}function Yy(e){if(e._terminated)throw new ut(He.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gge(e),e._firestoreClient}function Gge(e){const t=e._freezeSettings(),n=function(i,s,o,a){return new dfe(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,mW(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Ige(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xs(Mi.fromBase64String(t))}catch(n){throw new ut(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xs(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zy(t,Xs._jsonSchema))return Xs.fromBase64String(t.bytes)}}Xs._jsonSchemaVersion="firestore/bytes/1.0",Xs._jsonSchema={type:$r("string",Xs._jsonSchemaVersion),bytes:$r("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return sn(this._lat,t._lat)||sn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:al._jsonSchemaVersion}}static fromJSON(t){if(zy(t,al._jsonSchema))return new al(t.latitude,t.longitude)}}al._jsonSchemaVersion="firestore/geoPoint/1.0",al._jsonSchema={type:$r("string",al._jsonSchemaVersion),latitude:$r("number"),longitude:$r("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ll._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zy(t,ll._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new ll(t.vectorValues);throw new ut(He.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ll._jsonSchemaVersion="firestore/vectorValue/1.0",ll._jsonSchema={type:$r("string",ll._jsonSchemaVersion),vectorValues:$r("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uge=/^__.*__$/;class zge{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new td(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wy(t,this.data,n,this.fieldTransforms)}}class yW{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new td(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function CW(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:e})}}class R1{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new R1({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jS(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(CW(this.Ac)&&Uge.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jge{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||S1(t)}Cc(t,n,r,i=!1){return new R1({Ac:t,methodName:n,Dc:r,path:Ai.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qy(e){const t=e._freezeSettings(),n=S1(e._databaseId);return new jge(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fk(e,t,n,r,i,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Ok("Data must be an object, but it was:",o,r);const a=xW(r,o);let l,c;if(s.merge)l=new Zs(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=lD(t,f,n);if(!o.contains(p))throw new ut(He.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);TW(d,p)||d.push(p)}l=new Zs(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new zge(new us(a),l,c)}class A1 extends Pg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof A1}}function wW(e,t,n){return new R1({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class kk extends Pg{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=wW(this,t,!0),r=this.vc.map(s=>Wh(s,n)),i=new Jp(r);return new lk(t.path,i)}isEqual(t){return t instanceof kk&&fc(this.vc,t.vc)}}class Ik extends Pg{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=wW(this,t,!0),r=this.vc.map(s=>Wh(s,n)),i=new eg(r);return new lk(t.path,i)}isEqual(t){return t instanceof Ik&&fc(this.vc,t.vc)}}class Mk extends Pg{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new Pv(t.serializer,Fj(t.serializer,this.Fc));return new lk(t.path,n)}isEqual(t){return t instanceof Mk&&this.Fc===t.Fc}}function bW(e,t,n,r){const i=e.Cc(1,t,n);Ok("Data must be an object, but it was:",i,r);const s=[],o=us.empty();ed(r,(l,c)=>{const d=Lk(t,l,n);c=Zn(c);const f=i.yc(d);if(c instanceof A1)s.push(d);else{const p=Wh(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Zs(s);return new yW(o,a,i.fieldTransforms)}function SW(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[lD(t,r,n)],l=[i];if(s.length%2!=0)throw new ut(He.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(lD(t,s[p])),l.push(s[p+1]);const c=[],d=us.empty();for(let p=a.length-1;p>=0;--p)if(!TW(c,a[p])){const m=a[p];let y=l[p];y=Zn(y);const C=o.yc(m);if(y instanceof A1)c.push(m);else{const b=Wh(y,C);b!=null&&(c.push(m),d.set(m,b))}}const f=new Zs(c);return new yW(d,f,o.fieldTransforms)}function Wge(e,t,n,r=!1){return Wh(n,e.Cc(r?4:3,t))}function Wh(e,t){if(EW(e=Zn(e)))return Ok("Unsupported field value:",t,e),xW(e,t);if(e instanceof Pg)return function(r,i){if(!CW(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Wh(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Fj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xn.fromDate(r);return{timestampValue:BS(i.serializer,s)}}if(r instanceof Xn){const s=new Xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:BS(i.serializer,s)}}if(r instanceof al)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xs)return{bytesValue:zj(i.serializer,r._byteString)};if(r instanceof lr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ll)return function(o,a){return{mapValue:{fields:{[gj]:{stringValue:mj},[OS]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return ak(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${h1(r)}`)}(e,t)}function xW(e,t){const n={};return cj(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ed(e,(r,i)=>{const s=Wh(i,t.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function EW(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xn||e instanceof al||e instanceof Xs||e instanceof lr||e instanceof Pg||e instanceof ll)}function Ok(e,t,n){if(!EW(n)||!aj(n)){const r=h1(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function lD(e,t,n){if((t=Zn(t))instanceof Xy)return t._internalPath;if(typeof t=="string")return Lk(e,t);throw jS("Field path arguments must be of type string or ",e,!1,void 0,n)}const $ge=new RegExp("[~\\*/\\[\\]]");function Lk(e,t,n){if(t.search($ge)>=0)throw jS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Xy(...t.split("."))._internalPath}catch{throw jS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ut(He.INVALID_ARGUMENT,a+e+l)}function TW(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qge extends WS{data(){return super.data()}}function _1(e,t){return typeof t=="string"?Lk(e,t):t instanceof Xy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ut(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nk{}class AW extends Nk{}function D1(e,t,...n){let r=[];t instanceof Nk&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Vk).length,a=s.filter(l=>l instanceof P1).length;if(o>1||o>0&&a>0)throw new ut(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class P1 extends AW{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new P1(t,n,r)}_apply(t){const n=this._parse(t);return DW(t._query,n),new nd(t.firestore,t.converter,Z_(t._query,n))}_parse(t){const n=Qy(t.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ut(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){n3(f,d);const y=[];for(const C of f)y.push(t3(l,s,C));p={arrayValue:{values:y}}}else p=t3(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||n3(f,d),p=Wge(a,o,f,d==="in"||d==="not-in");return Wr.create(c,d,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Bk(e,t,n){const r=t,i=_1("where",e);return P1._create(i,r,n)}class Vk extends Nk{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Vk(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ca.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)DW(o,l),o=Z_(o,l)}(t._query,n),new nd(t.firestore,t.converter,Z_(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hk extends AW{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Hk(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new ut(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ut(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dv(s,o)}(t._query,this._field,this._direction);return new nd(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ag(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function _W(e,t="asc"){const n=t,r=_1("orderBy",e);return Hk._create(r,n)}function t3(e,t,n){if(typeof(n=Zn(n))=="string"){if(n==="")throw new ut(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ej(t)&&n.indexOf("/")!==-1)throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Hn.fromString(n));if(!Rt.isDocumentKey(r))throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vV(e,new Rt(r))}if(n instanceof lr)return vV(e,n._key);throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h1(n)}.`)}function n3(e,t){if(!Array.isArray(e)||e.length===0)throw new ut(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function DW(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ut(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class PW{convertValue(t,n="none"){switch(Bu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ed(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){const n=t.fields?.[OS].arrayValue?.values?.map(r=>Pr(r.doubleValue));return new ll(n)}convertGeoPoint(t){return new al(Pr(t.latitude),Pr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=p1(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rv(t));default:return null}}convertTimestamp(t){const n=Lu(t);return new Xn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Hn.fromString(t);vn(Xj(r),9688,{name:t});const i=new Av(r.get(1),r.get(3)),s=new Rt(r.popFirst(5));return i.isEqual(n)||mc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Kge extends PW{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new lr(this.firestore,null,n)}}class lp{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ru extends WS{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(_1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(He.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ru._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ru._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ru._jsonSchema={type:$r("string",Ru._jsonSchemaVersion),bundleSource:$r("string","DocumentSnapshot"),bundleName:$r("string"),bundle:$r("string")};class qb extends Ru{data(t={}){return super.data(t)}}class th{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new lp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new qb(this._firestore,this._userDataWriter,r.key,r,new lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new qb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new qb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Yge(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(He.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=th._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Yge(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xge(e){e=ps(e,lr);const t=ps(e.firestore,vl);return Nge(Yy(t),e._key).then(n=>OW(t,e,n))}th._jsonSchemaVersion="firestore/querySnapshot/1.0",th._jsonSchema={type:$r("string",th._jsonSchemaVersion),bundleSource:$r("string","QuerySnapshot"),bundleName:$r("string"),bundle:$r("string")};class F1 extends PW{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new lr(this.firestore,null,n)}}function FW(e){e=ps(e,nd);const t=ps(e.firestore,vl),n=Yy(t),r=new F1(t);return RW(e._query),Bge(n,e._query).then(i=>new th(t,r,e,i))}function kW(e,t,n){e=ps(e,lr);const r=ps(e.firestore,vl),i=Gk(e.converter,t,n);return k1(r,[Fk(Qy(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,_i.none())])}function cD(e,t,n,...r){e=ps(e,lr);const i=ps(e.firestore,vl),s=Qy(i);let o;return o=typeof(t=Zn(t))=="string"||t instanceof Xy?SW(s,"updateDoc",e._key,t,n,r):bW(s,"updateDoc",e._key,t),k1(i,[o.toMutation(e._key,_i.exists(!0))])}function IW(e){return k1(ps(e.firestore,vl),[new w1(e._key,_i.none())])}function Qge(e,t){const n=ps(e.firestore,vl),r=ml(e),i=Gk(e.converter,t);return k1(n,[Fk(Qy(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}function MW(e,...t){e=Zn(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||e3(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e3(t[r])){const l=t[r];t[r]=l.next?.bind(l),t[r+1]=l.error?.bind(l),t[r+2]=l.complete?.bind(l)}let s,o,a;if(e instanceof lr)o=ps(e.firestore,vl),a=g1(e._key.path),s={next:l=>{t[r]&&t[r](OW(o,e,l))},error:t[r+1],complete:t[r+2]};else{const l=ps(e,nd);o=ps(l.firestore,vl),a=l._query;const c=new F1(o);s={next:d=>{t[r]&&t[r](new th(o,c,l,d))},error:t[r+1],complete:t[r+2]},RW(e._query)}return function(c,d,f,p){const m=new Dk(p),y=new Rk(d,m,f);return c.asyncQueue.enqueueAndForget(async()=>xk(await zS(c),y)),()=>{m.Nu(),c.asyncQueue.enqueueAndForget(async()=>Ek(await zS(c),y))}}(Yy(o),a,i,s)}function k1(e,t){return function(r,i){const s=new sl;return r.asyncQueue.enqueueAndForget(async()=>Sge(await Oge(r),i,s)),s.promise}(Yy(e),t)}function OW(e,t,n){const r=n.docs.get(t._key),i=new F1(e);return new Ru(e,i,t._key,r,new lp(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zge={maxAttempts:5};function w0(e,t){if((e=Zn(e)).firestore!==t)throw new ut(He.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Qy(t)}get(t){const n=w0(t,this._firestore),r=new Kge(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Dt(24041);const s=i[0];if(s.isFoundDocument())return new WS(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new WS(this._firestore,r,n._key,null,n.converter);throw Dt(18433,{doc:s})})}set(t,n,r){const i=w0(t,this._firestore),s=Gk(i.converter,n,r),o=Fk(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(t,n,r,...i){const s=w0(t,this._firestore);let o;return o=typeof(n=Zn(n))=="string"||n instanceof Xy?SW(this._dataReader,"Transaction.update",s._key,n,r,i):bW(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(t){const n=w0(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme extends Jge{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=w0(t,this._firestore),r=new F1(this._firestore);return super.get(t).then(i=>new Ru(this._firestore,r,n._key,i._document,new lp(!1,!1),n.converter))}}function tme(e,t,n){e=ps(e,vl);const r={...Zge,...n};return function(s){if(s.maxAttempts<1)throw new ut(He.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new sl;return s.asyncQueue.enqueueAndForget(async()=>{const c=await Lge(s);new kge(s.asyncQueue,c,a,o,l).ju()}),l.promise}(Yy(e),i=>t(new eme(e,i)),r)}function nme(...e){return new kk("arrayUnion",e)}function rme(...e){return new Ik("arrayRemove",e)}function ime(e){return new Mk("increment",e)}(function(t,n=!0){(function(i){Eg=i})(Gh),yh(new Mu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new vl(new $he(r.getProvider("auth-internal")),new Yhe(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ut(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Av(c.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nl(iV,sV,t),nl(iV,sV,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="firebasestorage.googleapis.com",NW="storageBucket",sme=120*1e3,ome=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ba{constructor(t,n,r=0){super(zR(t),`Firebase Storage: ${n} (${zR(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return zR(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yr||(yr={}));function zR(e){return"storage/"+e}function Uk(){const e="An unknown error occurred, please check the error payload for server response.";return new wr(yr.UNKNOWN,e)}function ame(e){return new wr(yr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function lme(e){return new wr(yr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cme(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wr(yr.UNAUTHENTICATED,e)}function ume(){return new wr(yr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dme(e){return new wr(yr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function hme(){return new wr(yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fme(){return new wr(yr.CANCELED,"User canceled the upload/download.")}function pme(e){return new wr(yr.INVALID_URL,"Invalid URL '"+e+"'.")}function gme(e){return new wr(yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function mme(){return new wr(yr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NW+"' property when initializing the app?")}function vme(){return new wr(yr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yme(){return new wr(yr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cme(e){return new wr(yr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function uD(e){return new wr(yr.INVALID_ARGUMENT,e)}function BW(){return new wr(yr.APP_DELETED,"The Firebase app was deleted.")}function wme(e){return new wr(yr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function B0(e,t){return new wr(yr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Zm(e){throw new wr(yr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Js.makeFromUrl(t,n)}catch{return new Js(t,"")}if(r.path==="")return r;throw gme(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(F){F.path_=decodeURIComponent(F.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},C=n===LW?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",x=new RegExp(`^https?://${C}/${i}/${b}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let F=0;F<E.length;F++){const I=E[F],_=I.regex.exec(t);if(_){const D=_[I.indices.bucket];let P=_[I.indices.path];P||(P=""),r=new Js(D,P),I.postModify(r);break}}if(r==null)throw pme(t);return r}}class bme{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sme(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...b){c||(c=!0,t.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,e(m,l())},b)}function p(){s&&clearTimeout(s)}function m(b,...x){if(c){p();return}if(b){p(),d.call(null,b,...x);return}if(l()||o){p(),d.call(null,b,...x);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let y=!1;function C(b){y||(y=!0,p(),!c&&(i!==null?(b||(a=2),clearTimeout(i),f(0)):b||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function xme(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eme(e){return e!==void 0}function Tme(e){return typeof e=="object"&&!Array.isArray(e)}function zk(e){return typeof e=="string"||e instanceof String}function r3(e){return jk()&&e instanceof Blob}function jk(){return typeof Blob<"u"}function i3(e,t,n,r){if(r<t)throw uD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw uD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function VW(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(nh||(nh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rme(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ame{constructor(t,n,r,i,s,o,a,l,c,d,f,p=!0,m=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,C)=>{this.resolve_=y,this.reject_=C,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new qw(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===nh.NO_ERROR,l=s.getStatus();if(!a||Rme(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===nh.ABORT;r(!1,new qw(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new qw(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Eme(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Uk();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?BW():fme();o(l)}else{const l=hme();o(l)}};this.canceled_?n(!1,new qw(!1,null,!0)):this.backoffId_=Sme(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xme(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qw{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function _me(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Dme(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Pme(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Fme(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function kme(e,t,n,r,i,s,o=!0,a=!1){const l=VW(e.urlParams),c=e.url+l,d=Object.assign({},e.headers);return Pme(d,t),_me(d,n),Dme(d,s),Fme(d,r),new Ame(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ime(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Mme(...e){const t=Ime();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(jk())return new Blob(e);throw new wr(yr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ome(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lme(e){if(typeof atob>"u")throw Cme("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jR{constructor(t,n){this.data=t,this.contentType=n||null}}function Nme(e,t){switch(e){case Xa.RAW:return new jR(HW(t));case Xa.BASE64:case Xa.BASE64URL:return new jR(GW(e,t));case Xa.DATA_URL:return new jR(Vme(t),Hme(t))}throw Uk()}function HW(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Bme(e){let t;try{t=decodeURIComponent(e)}catch{throw B0(Xa.DATA_URL,"Malformed data URL.")}return HW(t)}function GW(e,t){switch(e){case Xa.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw B0(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xa.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw B0(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Lme(t)}catch(i){throw i.message.includes("polyfill")?i:B0(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class UW{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw B0(Xa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Gme(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Vme(e){const t=new UW(e);return t.base64?GW(Xa.BASE64,t.rest):Bme(t.rest)}function Hme(e){return new UW(e).contentType}function Gme(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n){let r=0,i="";r3(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(r3(this.data_)){const r=this.data_,i=Ome(r,t,n);return i===null?null:new gu(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new gu(r,!0)}}static getBlob(...t){if(jk()){const n=t.map(r=>r instanceof gu?r.data_:r);return new gu(Mme.apply(null,n))}else{const n=t.map(o=>zk(o)?Nme(Xa.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new gu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(e){let t;try{t=JSON.parse(e)}catch{return null}return Tme(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ume(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function zme(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function jW(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jme(e,t){return t}class is{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||jme}}let Kw=null;function Wme(e){return!zk(e)||e.length<2?e:jW(e)}function WW(){if(Kw)return Kw;const e=[];e.push(new is("bucket")),e.push(new is("generation")),e.push(new is("metageneration")),e.push(new is("name","fullPath",!0));function t(s,o){return Wme(o)}const n=new is("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new is("size");return i.xform=r,e.push(i),e.push(new is("timeCreated")),e.push(new is("updated")),e.push(new is("md5Hash",null,!0)),e.push(new is("cacheControl",null,!0)),e.push(new is("contentDisposition",null,!0)),e.push(new is("contentEncoding",null,!0)),e.push(new is("contentLanguage",null,!0)),e.push(new is("contentType",null,!0)),e.push(new is("metadata","customMetadata",!0)),Kw=e,Kw}function $me(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Js(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function qme(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return $me(r,e),r}function $W(e,t,n){const r=zW(t);return r===null?null:qme(e,r,n)}function Kme(e,t,n,r){const i=zW(t);if(i===null||!zk(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=e.bucket,f=e.fullPath,p="/b/"+o(d)+"/o/"+o(f),m=I1(p,n,r),y=VW({alt:"media",token:c});return m+y})[0]}function Yme(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Wk{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(e){if(!e)throw Uk()}function Xme(e,t){function n(r,i){const s=$W(e,i,t);return qW(s!==null),s}return n}function Qme(e,t){function n(r,i){const s=$W(e,i,t);return qW(s!==null),Kme(s,i,e.host,e._protocol)}return n}function KW(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ume():i=cme():n.getStatus()===402?i=lme(e.bucket):n.getStatus()===403?i=dme(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function YW(e){const t=KW(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=ame(e.path)),s.serverResponse=i.serverResponse,s}return n}function Zme(e,t,n){const r=t.fullServerUrl(),i=I1(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Wk(i,s,Qme(e,n),o);return a.errorHandler=YW(t),a}function Jme(e,t){const n=t.fullServerUrl(),r=I1(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(l,c){}const a=new Wk(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=YW(t),a}function e0e(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function t0e(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=e0e(null,t)),r}function n0e(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let F=0;F<2;F++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=t0e(t,r,i),d=Yme(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=gu.getBlob(f,r,p);if(m===null)throw vme();const y={name:c.fullPath},C=I1(s,e.host,e._protocol),b="POST",x=e.maxUploadRetryTime,R=new Wk(C,b,Xme(e,n),x);return R.urlParams=y,R.headers=o,R.body=m.uploadData(),R.errorHandler=KW(t),R}class r0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,s){if(this.sent_)throw Zm("cannot .send() more than once");if(Qu(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class i0e extends r0e{initXhr(){this.xhr_.responseType="text"}}function $k(){return new i0e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n){this._service=t,n instanceof Js?this._location=n:this._location=Js.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new xh(t,n)}get root(){const t=new Js(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jW(this._location.path)}get storage(){return this._service}get parent(){const t=Ume(this._location.path);if(t===null)return null;const n=new Js(this._location.bucket,t);return new xh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw wme(t)}}function s0e(e,t,n){e._throwIfRoot("uploadBytes");const r=n0e(e.storage,e._location,WW(),new gu(t,!0),n);return e.storage.makeRequestWithTokens(r,$k).then(i=>({metadata:i,ref:e}))}function o0e(e){e._throwIfRoot("getDownloadURL");const t=Zme(e.storage,e._location,WW());return e.storage.makeRequestWithTokens(t,$k).then(n=>{if(n===null)throw yme();return n})}function a0e(e){e._throwIfRoot("deleteObject");const t=Jme(e.storage,e._location);return e.storage.makeRequestWithTokens(t,$k)}function l0e(e,t){const n=zme(e._location.path,t),r=new Js(e._location.bucket,n);return new xh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0e(e){return/^[A-Za-z]+:\/\//.test(e)}function u0e(e,t){return new xh(e,t)}function XW(e,t){if(e instanceof qk){const n=e;if(n._bucket==null)throw mme();const r=new xh(n,n._bucket);return t!=null?XW(r,t):r}else return t!==void 0?l0e(e,t):e}function d0e(e,t){if(t&&c0e(t)){if(e instanceof qk)return u0e(e,t);throw uD("To use ref(service, url), the first argument must be a Storage instance.")}else return XW(e,t)}function s3(e,t){const n=t?.[NW];return n==null?null:Js.makeFromBucketSpec(n,e)}function h0e(e,t,n,r={}){e.host=`${t}:${n}`;const i=Qu(t);i&&(GF(`https://${e.host}/b`),UF("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:h9(s,e.app.options.projectId))}class qk{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=LW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sme,this._maxUploadRetryTime=ome,this._requests=new Set,i!=null?this._bucket=Js.makeFromBucketSpec(i,this._host):this._bucket=s3(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Js.makeFromBucketSpec(this._url,t):this._bucket=s3(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){i3("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){i3("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new bme(BW());{const o=kme(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const o3="@firebase/storage",a3="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW="storage";function f0e(e,t,n){return e=Zn(e),s0e(e,t,n)}function p0e(e){return e=Zn(e),o0e(e)}function g0e(e){return e=Zn(e),a0e(e)}function ZW(e,t){return e=Zn(e),d0e(e,t)}function m0e(e=WF(),t){e=Zn(e);const r=l1(e,QW).getImmediate({identifier:t}),i=c9("storage");return i&&v0e(r,...i),r}function v0e(e,t,n,r={}){h0e(e,t,n,r)}function y0e(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new qk(n,r,i,t,Gh)}function C0e(){yh(new Mu(QW,y0e,"PUBLIC").setMultipleInstances(!0)),nl(o3,a3,""),nl(o3,a3,"esm2020")}C0e();const Kk=g9(Due),Yk=Uhe(Kk),Is=Hge(Kk),JW=m0e(Kk);var Kn=(e=>(e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMINISTRATOR="ADMINISTRATOR",e))(Kn||{});const Xk="users",w0e=async(e,t)=>{await kW(ml(Is,Xk,t),e)},b0e=async e=>(await Xge(ml(Is,Xk,e))).data(),e7=async()=>(await FW(D1(Dg(Is,Xk),Bk("role","==",Kn.STUDENT)))).docs.map(t=>t.data()),S0e=async(e,t)=>{const n=e.includes("@")?e:`${e}@mail.com`,r=await _de(Yk,n,t);return await b0e(r.user.uid)},t7=async e=>{const t=e.name.slice(0,3)+e.email.slice(0,3),n=await Ade(Yk,e.email,t);return e={...e,id:n.user.uid},await w0e(e,n.user.uid),e},x0e=async()=>{await Fde(Yk)},l3=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},E0e=e=>e?l3(e):l3,T0e=e=>e;function R0e(e,t=T0e){const n=ue.useSyncExternalStore(e.subscribe,ue.useCallback(()=>t(e.getState()),[e,t]),ue.useCallback(()=>t(e.getInitialState()),[e,t]));return ue.useDebugValue(n),n}const c3=e=>{const t=E0e(e),n=r=>R0e(t,r);return Object.assign(n,t),n},M1=e=>e?c3(e):c3,El=M1(e=>({user:null,setUser:t=>e({user:t})})),u3=({onNavigate:e})=>{const t=oF(),{user:n,setUser:r}=El(),i=a=>{t(a),e&&e()},s=()=>{x0e(),t("/"),r(null),localStorage.removeItem("user")},o=n?.role===Kn.TEACHER||n?.role===Kn.ADMINISTRATOR;return M.jsxs(Mie,{children:[o&&M.jsx(Jc,{icon:M.jsx(ic,{size:18}),onClick:()=>i("/dashboard/estudiantes"),children:"Estudiantes"}),M.jsxs(n4,{icon:M.jsx(T4,{size:18}),label:"Taller 1",children:[M.jsx(Jc,{icon:M.jsx(ble,{size:18}),onClick:()=>i("/dashboard/mapa"),children:"Mapa Interactivo"}),o&&M.jsx(Jc,{icon:M.jsx(gle,{size:18}),onClick:()=>i("/dashboard/grupos"),children:"Grupos"}),M.jsx(Jc,{icon:M.jsx(R4,{size:18}),onClick:()=>i("/dashboard/galeria/default-session"),children:"Galera"}),M.jsx(Jc,{icon:M.jsx(sle,{size:18}),component:"a",href:"https://gamma.app/docs/Youth-Culture--4xh4jd5otf2d7bu",target:"_blank",rel:"noopener noreferrer",children:"Practice Language Corner"})]}),M.jsx(n4,{icon:M.jsx(T4,{size:18}),label:"Taller 2",children:M.jsx(Jc,{icon:M.jsx(R4,{size:18}),onClick:()=>i("/dashboard/galeria/taller2-session"),children:"Galera"})}),M.jsx(Jc,{icon:M.jsx(LF,{size:18}),onClick:()=>i("/dashboard/chatbot"),children:"Chatbot"}),M.jsx(Jc,{icon:M.jsx(vle,{size:18}),onClick:s,children:"Cerrar Sesin"})]})},A0e=()=>{const[e,t]=T.useState(!1),{collapseSidebar:n,collapsed:r}=eoe();return M.jsxs("div",{className:"d-flex flex-column vh-100",children:[M.jsx(Yae,{bg:"light",expand:"lg",className:"border-bottom px-3",children:M.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[M.jsx("div",{className:"fw-bold fs-4",children:"TutorIngls"}),M.jsx("div",{className:"d-lg-none",children:M.jsx(vr,{variant:"outline-primary",onClick:()=>t(!0),children:M.jsx(xle,{size:20})})}),M.jsx("div",{className:"d-none d-lg-block",children:M.jsx(vr,{variant:"outline-secondary",onClick:()=>n(),size:"sm",children:r?"":""})})]})}),M.jsxs("div",{className:"flex-grow-1 d-flex",children:[M.jsx("div",{className:"d-none d-lg-block",children:M.jsx(Fie,{breakPoint:"lg",collapsed:!1,style:{height:"100%"},className:"bg-dark",children:M.jsx(u3,{})})}),M.jsx("div",{className:"flex-grow-1 p-3",style:{overflowY:"auto"},children:M.jsx(Kne,{})})]}),M.jsxs(p0,{show:e,onHide:()=>t(!1),placement:"end",children:[M.jsx(p0.Header,{closeButton:!0,children:M.jsx(p0.Title,{children:"Men"})}),M.jsx(p0.Body,{children:M.jsx(u3,{onNavigate:()=>t(!1)})})]})]})};function n7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=n7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rh(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=n7(e))&&(r&&(r+=" "),r+=t);return r}function _0e(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}_0e(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Zy=e=>typeof e=="number"&&!isNaN(e),Eh=e=>typeof e=="string",yc=e=>typeof e=="function",D0e=e=>Eh(e)||Zy(e),dD=e=>Eh(e)||yc(e)?e:null,P0e=(e,t)=>e===!1||Zy(e)&&e>0?e:t,hD=e=>T.isValidElement(e)||Eh(e)||yc(e)||Zy(e);function F0e(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function k0e({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:f}){let p=n?`${e}--${o}`:e,m=n?`${t}--${o}`:t,y=T.useRef(0);return T.useLayoutEffect(()=>{let C=c.current,b=p.split(" "),x=R=>{R.target===c.current&&(f(),C.removeEventListener("animationend",x),C.removeEventListener("animationcancel",x),y.current===0&&R.type!=="animationcancel"&&C.classList.remove(...b))};C.classList.add(...b),C.addEventListener("animationend",x),C.addEventListener("animationcancel",x)},[]),T.useEffect(()=>{let C=c.current,b=()=>{C.removeEventListener("animationend",b),r?F0e(C,l,i):l()};d||(a?b():(y.current=1,C.className+=` ${m}`,C.addEventListener("animationend",b)))},[d]),ue.createElement(ue.Fragment,null,s)}}function d3(e,t){return{content:r7(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function r7(e,t,n=!1){return T.isValidElement(e)&&!Eh(e.type)?T.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):yc(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function I0e({closeToast:e,theme:t,ariaLabel:n="close"}){return ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function M0e({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let f=i||o&&a===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let m=rh("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),y=yc(s)?s({rtl:l,type:r,defaultClassName:m}):rh(m,s),C={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),ue.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:p,...C}))}var O0e=1,i7=()=>`${O0e++}`;function L0e(e,t,n){let r=1,i=0,s=[],o=[],a=t,l=new Map,c=new Set,d=R=>(c.add(R),()=>c.delete(R)),f=()=>{o=Array.from(l.values()),c.forEach(R=>R())},p=({containerId:R,toastId:E,updateId:F})=>{let I=R?R!==e:e!==1,_=l.has(E)&&F==null;return I||_},m=(R,E)=>{l.forEach(F=>{var I;(E==null||E===F.props.toastId)&&((I=F.toggle)==null||I.call(F,R))})},y=R=>{var E,F;(F=(E=R.props)==null?void 0:E.onClose)==null||F.call(E,R.removalReason),R.isActive=!1},C=R=>{if(R==null)l.forEach(y);else{let E=l.get(R);E&&y(E)}f()},b=()=>{i-=s.length,s=[]},x=R=>{var E,F;let{toastId:I,updateId:_}=R.props,D=_==null;R.staleId&&l.delete(R.staleId),R.isActive=!0,l.set(I,R),f(),n(d3(R,D?"added":"updated")),D&&((F=(E=R.props).onOpen)==null||F.call(E))};return{id:e,props:a,observe:d,toggle:m,removeToast:C,toasts:l,clearQueue:b,buildToast:(R,E)=>{if(p(E))return;let{toastId:F,updateId:I,data:_,staleId:D,delay:P}=E,k=I==null;k&&i++;let B={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(E).filter(([V,G])=>G!=null)),toastId:F,updateId:I,data:_,isIn:!1,className:dD(E.className||a.toastClassName),progressClassName:dD(E.progressClassName||a.progressClassName),autoClose:E.isLoading?!1:P0e(E.autoClose,a.autoClose),closeToast(V){l.get(F).removalReason=V,C(F)},deleteToast(){let V=l.get(F);if(V!=null){if(n(d3(V,"removed")),l.delete(F),i--,i<0&&(i=0),s.length>0){x(s.shift());return}f()}}};B.closeButton=a.closeButton,E.closeButton===!1||hD(E.closeButton)?B.closeButton=E.closeButton:E.closeButton===!0&&(B.closeButton=hD(a.closeButton)?a.closeButton:!0);let N={content:R,props:B,staleId:D};a.limit&&a.limit>0&&i>a.limit&&k?s.push(N):Zy(P)?setTimeout(()=>{x(N)},P):x(N)},setProps(R){a=R},setToggle:(R,E)=>{let F=l.get(R);F&&(F.toggle=E)},isToastActive:R=>{var E;return(E=l.get(R))==null?void 0:E.isActive},getSnapshot:()=>o}}var ds=new Map,Fv=[],fD=new Set,N0e=e=>fD.forEach(t=>t(e)),s7=()=>ds.size>0;function B0e(){Fv.forEach(e=>a7(e.content,e.options)),Fv=[]}var V0e=(e,{containerId:t})=>{var n;return(n=ds.get(t||1))==null?void 0:n.toasts.get(e)};function o7(e,t){var n;if(t)return!!((n=ds.get(t))!=null&&n.isToastActive(e));let r=!1;return ds.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function H0e(e){if(!s7()){Fv=Fv.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||D0e(e))ds.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ds.get(e.containerId);t?t.removeToast(e.id):ds.forEach(n=>{n.removeToast(e.id)})}}var G0e=(e={})=>{ds.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function a7(e,t){hD(e)&&(s7()||Fv.push({content:e,options:t}),ds.forEach(n=>{n.buildToast(e,t)}))}function U0e(e){var t;(t=ds.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function l7(e,t){ds.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function z0e(e){let t=e.containerId||1;return{subscribe(n){let r=L0e(t,e,N0e);ds.set(t,r);let i=r.observe(n);return B0e(),()=>{i(),ds.delete(t)}},setProps(n){var r;(r=ds.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=ds.get(t))==null?void 0:n.getSnapshot()}}}function j0e(e){return fD.add(e),()=>{fD.delete(e)}}function W0e(e){return e&&(Eh(e.toastId)||Zy(e.toastId))?e.toastId:i7()}function Jy(e,t){return a7(e,t),t.toastId}function O1(e,t){return{...t,type:t&&t.type||e,toastId:W0e(t)}}function L1(e){return(t,n)=>Jy(t,O1(e,n))}function yn(e,t){return Jy(e,O1("default",t))}yn.loading=(e,t)=>Jy(e,O1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function $0e(e,{pending:t,error:n,success:r},i){let s;t&&(s=Eh(t)?yn.loading(t,i):yn.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,f)=>{if(d==null){yn.dismiss(s);return}let p={type:c,...o,...i,data:f},m=Eh(d)?{render:d}:d;return s?yn.update(s,{...p,...m}):yn(m.render,{...p,...m}),f},l=yc(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}yn.promise=$0e;yn.success=L1("success");yn.info=L1("info");yn.error=L1("error");yn.warning=L1("warning");yn.warn=yn.warning;yn.dark=(e,t)=>Jy(e,O1("default",{theme:"dark",...t}));function q0e(e){H0e(e)}yn.dismiss=q0e;yn.clearWaitingQueue=G0e;yn.isActive=o7;yn.update=(e,t={})=>{let n=V0e(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:i7()};s.toastId!==e&&(s.staleId=e);let o=s.render||i;delete s.render,Jy(o,s)}};yn.done=e=>{yn.update(e,{progress:1})};yn.onChange=j0e;yn.play=e=>l7(!0,e);yn.pause=e=>l7(!1,e);function K0e(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=T.useRef(z0e(e)).current;i(e);let s=(t=T.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:o7,count:s?.length}}function Y0e(e){let[t,n]=T.useState(!1),[r,i]=T.useState(!1),s=T.useRef(null),o=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:f}=e;U0e({id:e.toastId,containerId:e.containerId,fn:n}),T.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{m()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function y(D){if(e.draggable===!0||e.draggable===D.pointerType){R();let P=s.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(o.start=D.clientX,o.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(o.start=D.clientY,o.removalDistance=P.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function C(D){let{top:P,bottom:k,left:B,right:N}=s.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&e.pauseOnHover&&D.clientX>=B&&D.clientX<=N&&D.clientY>=P&&D.clientY<=k?x():b()}function b(){n(!0)}function x(){n(!1)}function R(){o.didMove=!1,document.addEventListener("pointermove",F),document.addEventListener("pointerup",I)}function E(){document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",I)}function F(D){let P=s.current;if(o.canDrag&&P){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=D.clientX-o.start:o.delta=D.clientY-o.start,o.start!==D.clientX&&(o.canCloseOnClick=!1);let k=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;P.style.transform=`translate3d(${k},0)`,P.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function I(){E();let D=s.current;if(o.canDrag&&o.didMove&&D){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let _={onPointerDown:y,onPointerUp:C};return a&&l&&(_.onMouseEnter=x,e.stacked||(_.onMouseLeave=b)),f&&(_.onClick=D=>{d&&d(D),o.canCloseOnClick&&c(!0)}),{playToast:b,pauseToast:x,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:_}}var X0e=typeof window<"u"?T.useLayoutEffect:T.useEffect,N1=({theme:e,type:t,isLoading:n,...r})=>ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function Q0e(e){return ue.createElement(N1,{...e},ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Z0e(e){return ue.createElement(N1,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function J0e(e){return ue.createElement(N1,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function eve(e){return ue.createElement(N1,{...e},ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function tve(){return ue.createElement("div",{className:"Toastify__spinner"})}var pD={info:Z0e,warning:Q0e,success:J0e,error:eve,spinner:tve},nve=e=>e in pD;function rve({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(yc(r)?i=r({...s,isLoading:n}):T.isValidElement(r)?i=T.cloneElement(r,s):n?i=pD.spinner():nve(t)&&(i=pD[t](s))),i}var ive=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=Y0e(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:f,closeToast:p,transition:m,position:y,className:C,style:b,progressClassName:x,updateId:R,role:E,progress:F,rtl:I,toastId:_,deleteToast:D,isIn:P,isLoading:k,closeOnClick:B,theme:N,ariaLabel:V}=e,G=rh("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":B}),oe=yc(C)?C({rtl:I,position:y,type:d,defaultClassName:G}):rh(G,C),le=rve(e),J=!!F||!l,se={closeToast:p,type:d,theme:N},he=null;return o===!1||(yc(o)?he=o(se):T.isValidElement(o)?he=T.cloneElement(o,se):he=I0e(se)),ue.createElement(m,{isIn:P,done:D,position:y,preventExitTransition:n,nodeRef:r,playToast:s},ue.createElement("div",{id:_,tabIndex:0,onClick:c,"data-in":P,className:oe,...i,style:b,ref:r,...P&&{role:E,"aria-label":V}},le!=null&&ue.createElement("div",{className:rh("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},le),r7(a,e,!t),he,!e.customProgressBar&&ue.createElement(M0e,{...R&&!J?{key:`p-${R}`}:{},rtl:I,theme:N,delay:l,isRunning:t,isIn:P,closeToast:p,hide:f,type:d,className:x,controlledProgress:J,progress:F||0})))},sve=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),c7=k0e(sve("bounce",!0)),ove={position:"top-right",transition:c7,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function u7(e){let t={...ove,...e},n=e.stacked,[r,i]=T.useState(!0),s=T.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=K0e(t),{className:c,style:d,rtl:f,containerId:p,hotKeys:m}=t;function y(b){let x=rh("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return yc(c)?c({position:b,rtl:f,defaultClassName:x}):rh(x,dD(c))}function C(){n&&(i(!0),yn.play())}return X0e(()=>{var b;if(n){let x=s.current.querySelectorAll('[data-in="true"]'),R=12,E=(b=t.position)==null?void 0:b.includes("top"),F=0,I=0;Array.from(x).reverse().forEach((_,D)=>{let P=_;P.classList.add("Toastify__toast--stacked"),D>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=E?"top":"bot");let k=F*(r?.2:1)+(r?0:R*D);P.style.setProperty("--y",`${E?k:k*-1}px`),P.style.setProperty("--g",`${R}`),P.style.setProperty("--s",`${1-(r?I:0)}`),F+=P.offsetHeight,I+=.025})}},[r,l,n]),T.useEffect(()=>{function b(x){var R;let E=s.current;m(x)&&((R=E.querySelector('[tabIndex="0"]'))==null||R.focus(),i(!1),yn.pause()),x.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(i(!0),yn.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),ue.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),yn.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,x)=>{let R=x.length?{...d}:{...d,pointerEvents:"none"};return ue.createElement("div",{tabIndex:-1,className:y(b),"data-stacked":n,style:R,key:`c-${b}`},x.map(({content:E,props:F})=>ue.createElement(ive,{...F,stacked:n,collapseAll:C,isIn:a(F.toastId,F.containerId),key:`t-${F.key}`},E)))}))}const d7=e=>{if(console.log(e),e instanceof ba)switch(e.code){case"auth/invalid-credential":return"Correo electrnico o contrasea invlidos";case"auth/email-already-in-use":return"El correo electrnico ya est en uso";default:return"Ocurri un error al iniciar sesin"}return"Ocurri un error al iniciar sesin"},ave=()=>{const{setUser:e}=El(),[t,n]=T.useState(""),[r,i]=T.useState(""),[s,o]=T.useState(!1),[a,l]=T.useState(!1),c=f=>{f.preventDefault(),l(!0),S0e(t,r).then(p=>{e(p),localStorage.setItem("user",JSON.stringify(p))}).catch(p=>{yn.error(d7(p),{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{l(!1)})},d=()=>{o(f=>!f)};return M.jsxs(bv,{className:"d-flex align-items-center justify-content-center min-vh-100",children:[M.jsx(Kp,{className:"w-100 justify-content-center",children:M.jsx(tl,{xs:12,sm:10,md:6,lg:4,children:M.jsxs(zr,{className:"p-4 shadow",children:[M.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesin"}),M.jsxs(Sn,{onSubmit:c,children:[M.jsxs(Sn.Group,{className:"mb-3",controlId:"formEmail",children:[M.jsx(Sn.Label,{children:"Correo electrnico"}),M.jsx(Sn.Control,{type:"email",placeholder:"ejemplo@email.com",value:t,onChange:f=>n(f.target.value),required:!0})]}),M.jsxs(Sn.Group,{className:"mb-3",controlId:"formPassword",children:[M.jsx(Sn.Label,{children:"Contrasea"}),M.jsxs($d,{children:[M.jsx(Sn.Control,{type:s?"text":"password",placeholder:"",value:r,onChange:f=>i(f.target.value),required:!0}),M.jsx(vr,{variant:"outline-secondary",onClick:d,tabIndex:-1,children:s?M.jsx(ale,{size:20}):M.jsx(cle,{size:20})})]})]}),M.jsx("div",{className:"d-grid",children:M.jsx(vr,{variant:"primary",type:"submit",disabled:a,children:a?M.jsx(Ko,{animation:"border",size:"sm",className:"me-2"}):"Ingresar"})})]})]})})}),M.jsx(u7,{})]})},lve="/TutorIngles/assets/avatar_1-C53UKM51.mp4",cve="/TutorIngles/assets/avatar_2-B2MM8iM6.mp4",uve="/TutorIngles/assets/avatar_3-DdalsJRq.mp4",dve="/TutorIngles/assets/avatar_4-BVmCFxuO.mp4",hve="/TutorIngles/assets/avatar_5-DQdjSsDe.mp4",h3="/TutorIngles/assets/mapa_colombia-5TUvGaog.png",fve="/TutorIngles/assets/choco-BBZz_lSB.png",pve="/TutorIngles/assets/narino-BPiHBDGg.png",gve="/TutorIngles/assets/palenquera-CKdrs8GG.png",mve="/TutorIngles/assets/nasa-Bgu4UTQT.png",vve="/TutorIngles/assets/ni%C3%B1osikuani-CNppRRPB.png",yve=[{id:1,region:"Vichada",position:{x:630,y:450},avatarImage:vve,text:"Hello, my name is Jomo, and I belong to the Sikuani indigenous people. I am from the department of Vichada and I am ten years old. My language is Sikuani. I like to fish, hunt, gather fruits, and live in harmony with nature. My favorite tradition in my community is when we dance and sing elcachodevenado.",videoSrc:lve},{id:2,region:"Cauca",position:{x:150,y:580},avatarImage:mve,text:'Hello everyone. My name is Wiya, which means "bird" in the Nasa Yuwe language. I am eleven years old. I am from a town called Inz and I speak Nasa Yuwe, Spanish, and English. I like to play palmo, a traditional game in my community where we have to throw an object into a hole. My favorite family tradition is when we weave ruanas and backpacks calledkwetanderas.',videoSrc:cve},{id:3,region:"Bolvar",position:{x:270,y:240},avatarImage:gve,text:"Hi there. My name is Rosalina; this name represents the ancestral wisdom of traditional medicine. I am twelve years old. I am from San Basilio de Palenque, located in the department of Bolvar. I speak Spanish, but my family also speaks other languages, such as Palenquera. I love designing colorful dresses for the women in my community with my grandmother. I also enjoy playingthemarimba.",videoSrc:uve},{id:4,region:"Nario",position:{x:140,y:640},avatarImage:pve,text:"Hello everyone. My name is Santiago. I am nine years old, I speak Spanish and English, and I was born in the city of San Juan de Pasto in Colombia. I like my city because it has very beautiful tourist sites such as La Laguna de la Cocha and the Gold Museum. My favorite food is pusandao and pailaicecream.",videoSrc:dve},{id:5,region:"Choc",position:{x:150,y:420},avatarImage:fve,text:"Hello everyone. My name is Camila. I am ten years old, I speak Spanish and English, and I was born in the city of Quibd, in the department of Choc. I like to dance chirima, which is a traditional dance from my region. My favorite food is fish, sancocho and I love chontaduro withsaltandsugar.",videoSrc:hve}];function Cve(){const[e,t]=T.useState(null),[n,r]=T.useState(!1),i=T.useRef(null),s=()=>{e&&i.current&&(i.current.muted=!1,i.current.paused?i.current.play():i.current.pause())};return T.useEffect(()=>{const o=i.current;if(!o)return;const a=()=>r(!0),l=()=>r(!1),c=()=>r(!1);return o.addEventListener("play",a),o.addEventListener("pause",l),o.addEventListener("ended",c),()=>{o.removeEventListener("play",a),o.removeEventListener("pause",l),o.removeEventListener("ended",c)}},[e]),T.useEffect(()=>{e||r(!1)},[e]),M.jsxs("div",{className:"map-container",children:[M.jsx("img",{src:h3,alt:"Mapa de Colombia",className:"map-image",onError:o=>{const a=o.target;a.onerror=null,a.src=h3,console.error("Error loading map image")}}),yve.map(o=>M.jsx("button",{className:"map-point",style:{left:`${o.position.x}px`,top:`${o.position.y}px`},onClick:()=>t(o),"aria-label":`Ver avatar de ${o.region}`},o.id)),M.jsxs(sr,{show:!!e,onHide:()=>t(null),centered:!0,children:[M.jsx(sr.Header,{closeButton:!0,children:M.jsx(sr.Title,{children:e?.region})}),M.jsx(sr.Body,{className:"text-center",children:e&&M.jsxs(M.Fragment,{children:[e.videoSrc?M.jsx("video",{ref:i,src:e.videoSrc,className:"avatar-video",width:"80%",controls:!1}):M.jsx("img",{src:e.avatarImage,alt:`Avatar de ${e.region}`,className:"avatar-image",onError:o=>{const a=o.target;a.onerror=null,a.src="/assets/default-avatar.png"}}),M.jsx("p",{className:"mt-3",children:e.text}),M.jsx(vr,{variant:"primary",onClick:s,children:n?" Pause":" Play"})]})})]})]})}var Th=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:r}=this,i=a=>{const l=r?()=>r.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&i(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)i(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function wve(e,t){return t}function h7(e){return e?.getLocaleTextFunc()??wve}function bve(e,t,n,r){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(r):i,r)}function oc(e){return e==null||e===""?null:e}function nt(e){return e!=null&&e!==""}function Qn(e){return!nt(e)}function gD(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function kv(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function Sve(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var f7=new Set(["__proto__","constructor","prototype"]);function xve(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!f7.has(r)))t(n,e[n])}}function gs(e,t,n=!0,r=!1){nt(t)&&xve(t,(i,s)=>{let o=e[i];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),f3(s)&&f3(o)&&!Array.isArray(o)?gs(o,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function V0(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}function f3(e){return typeof e=="object"&&e!==null}var Qk=class Bd{static applyGlobalGridOptions(t){if(!Bd.gridOptions)return{...t};let n={};return gs(n,Bd.gridOptions,!0,!0),Bd.mergeStrategy==="deep"?gs(n,t,!0,!0):n={...n,...t},Bd.gridOptions.context&&(n.context=Bd.gridOptions.context),t.context&&(Bd.mergeStrategy==="deep"&&n.context&&gs(t.context,n.context,!0,!0),n.context=t.context),n}};Qk.gridOptions=void 0;Qk.mergeStrategy="shallow";var p7=Qk;function Eve(e){return p7.gridOptions?.[e]}var g7={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function Sa(e,t,n){n==null||typeof n=="string"&&n==""?m7(e,t):xa(e,t,n)}function xa(e,t,n){e.setAttribute(v7(t),n.toString())}function m7(e,t){e.removeAttribute(v7(t))}function v7(e){return`aria-${e}`}function Rh(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Tve(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Rve(e){return e.getAttribute("aria-label")}function rg(e,t){Sa(e,"label",t)}function Iv(e,t){Sa(e,"labelledby",t)}function y7(e,t){Sa(e,"live",t)}function Ave(e,t){Sa(e,"atomic",t)}function _ve(e,t){Sa(e,"relevant",t)}function Dve(e,t){Sa(e,"invalid",t)}function Pve(e,t){Sa(e,"disabled",t)}function C7(e,t){Sa(e,"hidden",t)}function mD(e,t){xa(e,"expanded",t)}function Fve(e,t){xa(e,"setsize",t)}function kve(e,t){xa(e,"posinset",t)}function Ive(e,t){xa(e,"rowcount",t)}function w7(e,t){xa(e,"rowindex",t)}function Mve(e,t){xa(e,"rowspan",t)}function Ove(e,t){xa(e,"colcount",t)}function b7(e,t){xa(e,"colindex",t)}function Lve(e,t){xa(e,"colspan",t)}function Nve(e,t){xa(e,"sort",t)}function Bve(e){m7(e,"sort")}function vD(e,t){Sa(e,"selected",t)}function Vve(e,t){Sa(e,"controls",t)}function Hve(e,t){Vve(e,t.id),Iv(t,e.id)}function p3(e,t){Sa(e,"owns",t)}function B1(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var WR,$R,qR,KR,yD,CD,YR;function $h(){return WR===void 0&&(WR=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),WR}function S7(){return $R===void 0&&($R=/(firefox)/i.test(navigator.userAgent)),$R}function x7(){return qR===void 0&&(qR=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),qR}function ih(){return KR===void 0&&(KR=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),KR}function wD(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!S7())?null:t.toString()}function Gve(){if(YR!==void 0)return YR;if(!document.body)return-1;let e=1e6;const t=S7()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),YR=e,e}function Uve(){return CD==null&&E7(),CD}function E7(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(CD=n,yD=n===0)}function T7(){return yD==null&&E7(),yD}var zve="[tabindex], input, select, button, textarea, [href]",R7="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Zk(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,R7),s=yl(e);return r&&!i&&s}function or(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||C7(e,!t)}function jve(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||C7(e,!t)}function Mv(e,t){const n="disabled",r=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const s of i)r(s)}function sh(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function qh(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:f,marginRight:p,marginBottom:m,marginLeft:y,boxSizing:C}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:C}}function Jk(e){const t=qh(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Ov(e){const t=qh(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function A7(e){const{height:t,marginBottom:n,marginTop:r}=qh(e);return Math.floor(t+n+r)}function $S(e){const{width:t,marginLeft:n,marginRight:r}=qh(e);return Math.floor(t+n+r)}function _7(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=qh(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function qS(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function KS(e,t,n){n&&(t*=-1),e.scrollLeft=t}function co(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Cc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function D7(e){return!!e.offsetParent}function yl(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!D7(e)||window.getComputedStyle(e).visibility!=="visible")}function eI(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Kb(e){return()=>{const t=e();return t?P7(t)||F7(t):!0}}function P7(e){return e.clientWidth<e.scrollWidth}function F7(e){return e.clientHeight<e.scrollHeight}function YS(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):cl(e,t)}function cl(e,t){t=tI(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function H0(e,t){t=tI(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function tI(e){return typeof e=="number"?`${e}px`:e}function nI(e){return e instanceof Node||e instanceof HTMLElement}function eo(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function Rc(e,t,n){const i=G7(e).ResizeObserver,s=i?new i(n):null;return s?.observe(t),()=>s?.disconnect()}function Ac(e,t){const n=G7(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var k7="data-ref",XR;function g3(){return XR??(XR=document.createTextNode(" ")),XR.cloneNode()}function kr(e){const{attrs:t,children:n,cls:r,ref:i,role:s,tag:o}=e,a=document.createElement(o);if(r&&(a.className=r),i&&a.setAttribute(k7,i),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(g3()),l=!1),a.append(kr(c)),a.appendChild(g3())))}return a}var m3={};function rI(e,t){m3[t]||(e(),m3[t]=!0)}function Ah(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function G0(e,...t){rI(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function xp(e,...t){rI(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var Wve={pending:!1,funcs:[]},$ve={pending:!1,funcs:[]};function bD(e,t="setTimeout",n){const r=t==="raf"?$ve:Wve;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const s=r.funcs.slice();r.funcs.length=0,r.pending=!1,s.forEach(o=>o())};t==="raf"?Ac(n,i):window.setTimeout(i,0)}function Di(e,t,n){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n)}}function v3(e,t){let n=0;return function(...r){const i=this,s=Date.now();s-n<t||(n=s,e.apply(i,r))}}function qve(e,t,n=100,r){const i=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-i>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var I7="https://www.ag-grid.com",at="34.1.1",y3=2e3,C3=100,M7="_version_",O7=null,Ep=`${I7}/javascript-data-grid`;function Kve(e){O7=e}function Yve(e){Ep=e}function L7(e,t,n){return O7?.getConsoleMessage(e,t)??[Jve(e,t,n)]}function iI(e,t,n,r){e(`error #${t}`,...L7(t,n,r))}function Xve(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function Qve(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=Xve(e)),t}function XS(e){return e===void 0?"undefined":e===null?"null":e}function SD(e,t){return`${e}?${t.toString()}`}function Zve(e,t,n){const r=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=SD(e,t);for(const[s,o]of r){if(s===M7)continue;const a=i.length-n;if(a<=0)break;const l="...",c=a+l.length,d=o.length-c>C3?o.slice(0,o.length-c)+l:o.slice(0,C3)+l;t.set(s,d),i=SD(e,t)}return i}function N7(e,t){const n=new URLSearchParams;if(n.append(M7,at),t)for(const s of Object.keys(t))n.append(s,Qve(t[s]));const r=`${Ep}/errors/${e}`,i=SD(r,n);return i.length<=y3?i:Zve(r,n,y3)}var Jve=(e,t,n)=>{const r=N7(e,t);return`${n?n+` 
`:""}Visit ${r}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function qe(...e){iI(G0,e[0],e[1])}function kn(...e){iI(xp,e[0],e[1])}function b0(e,t,n){iI(xp,e,t,n)}function eye(e,t){const n=t[0];return`error #${n} `+L7(n,t[1],e).join(" ")}function ul(...e){return eye(void 0,e)}function B7(e,t){return e.get("rowModelType")===t}function jr(e,t){return B7(e,"clientSide")}function Kh(e,t){return B7(e,"serverSide")}function Fi(e,t){return e.get("domLayout")===t}function oh(e){return ZS(e)!==void 0}function V7(e){return typeof e.get("getRowHeight")=="function"}function tye(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Gu(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),V7(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},c=i.getCallback("getRowHeight")(l);if(xD(c))return c===0&&qe(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&i.get("masterDetail"))return nye(i);const o=i.get("rowHeight");return{height:o&&xD(o)?o:r,estimated:!1}}function nye(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return xD(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function ah(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||Qn(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(qe(24),t.getDefaultRowHeight())}function xD(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function H7(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function _h(e,t,n,r){const i=e.getDomDataKey();let s=t[i];Qn(s)&&(s={},t[i]=s),s[n]=r}function hi(e){const{gos:t,eGridDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&nt(i)?r=i():n&&(r=n.ownerDocument),r&&nt(r)?r:document}function G7(e){return hi(e).defaultView||window}function Lv(e){return e.eGridDiv.getRootNode()}function ur(e){return Lv(e).activeElement}function sI(e){let t=null,n=null;try{t=hi(e).fullscreenElement}catch{}finally{t||(t=Lv(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function rye(e){return sI(e)?.clientWidth??(window.innerWidth||-1)}function iye(e){return sI(e)?.clientHeight??(window.innerHeight||-1)}function sye(e,t,n){const i=e.getBoundingClientRect().height,s=rye(n)-2,o=iye(n)-2;if(!e.offsetParent)return;const l=_7(e.offsetParent),{clientY:c,clientX:d}=t;let f=c-l.top-i/2,p=d-l.left-10;const m=hi(n),y=m.defaultView||window,C=y.pageYOffset||m.documentElement.scrollTop,b=y.pageXOffset||m.documentElement.scrollLeft;s>0&&p+e.clientWidth>s+b&&(p=s+b-e.clientWidth),p<0&&(p=0),o>0&&f+e.clientHeight>o+C&&(f=o+C-e.clientHeight),f<0&&(f=0),e.style.left=`${p}px`,e.style.top=`${f}px`}function U7(e){const t=ur(e);return t===null||t===hi(e).body}function Tp(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function z7(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Fi(e,"print"))}function $a(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function ED(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function j7(e){return e.get("grandTotalRow")}function W7(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function $7(e,t,n){return!!t.group&&!t.footer&&W7(e,n)}function ig(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(rI(()=>qe(25,{id:r}),"getRowIdString"),r=String(r)),r}}function oye(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function aye(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Rp(e){return e?.checkboxes??!0}function Yb(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function QS(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function QR(e){return e?.hideDisabledCheckboxes??!1}function lye(e){return typeof e.get("rowSelection")!="string"}function Uu(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function q7(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function cye(e){const t=q7(e);return t===!0||t==="enableSelection"}function uye(e){const t=q7(e);return t===!0||t==="enableDeselection"}function TD(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function ZS(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function JS(e){return ZS(e)==="multiRow"}function dye(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function ex(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function K7(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Nv(e){const t=ex(e);return t==="descendants"||t==="filteredDescendants"}function w3(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function hye(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function to(e){return e.get("columnMenu")==="legacy"}function fye(e){return!to(e)}function pye(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function gye(e,t,n){typeof e!="object"&&(e={});const r={...e};return n.forEach(i=>{const s=t[i];typeof s<"u"&&(r[i]=s)}),r}function mye(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function Et(e,t){return e.addGridCommonParams(t)}function Y7(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function Xb(e,t){return e[t]??e.gridOptions?.[t]??Eve(t)??g7[t]}var X7="__ag_Grid_Stop_Propagation",vye=["touchstart","touchend","touchmove","touchcancel","scroll"],yye=["wheel"],ZR={};function Dh(e){e[X7]=!0}function ac(e){return e[X7]===!0}var Q7=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof ZR[n]=="boolean")return ZR[n];const r=document.createElement(e[n]||"div");return n="on"+n,ZR[n]=n in r}})();function Z7(e,t,n){let r=t;for(;r;){const i=H7(e,r,n);if(i)return i;r=r.parentElement}return null}function Cye(e,t){return!t||!e?!1:bye(t).indexOf(e)>=0}function wye(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function bye(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():wye(t)}function Sye(e,t,n,r){const i=J7(n);let s;i!=null&&(s={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,r,s)}var J7=e=>{const t=vye.includes(e),n=yye.includes(e);if(t)return!0;if(n)return!1},Me=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Th),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;return xye(e)?(e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?Sye(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),r=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,r))}getLocaleTextFunc(){return h7(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function xye(e){return e.__addEventListener!==void 0}var Eye=/[&<>"']/g,Tye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Fg(e){return e?.toString().toString()??null}function Qb(e){return Fg(e)?.replace(Eye,t=>Tye[t])??null}var Rye={resizable:!0,sortable:!0},Aye=0;function e$(){return Aye++}function zu(e){return e instanceof Yh}var Yh=class extends Me{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=e$(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Th,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Qb(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=nt(t)&&t.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=nt(n)&&n.indexOf(".")>=0&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Et(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Rye[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Et(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Qn(this.sort)}isSorting(){return nt(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return qe(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Et(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Qn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Qn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&gs(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Gi(e){return e instanceof Zb}var Zb=class extends Me{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=e$(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)zu(t)?e(t):Gi(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{zu(t)?e.push(t):Gi(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,o=r.length;s<o;s++){const a=r[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{Gi(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},_ye={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function b3(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var Dye=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=gD(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const i=String(r);return e&&n>0&&qe(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}},tx=Object.freeze([]);function Fn(e){if(e?.length)return e[e.length-1]}function Xh(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function Yw(e,t){if(e)for(const n of e)t(n)}function Yo(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function S3(e,t,n){for(let r=0;r<t.length;r++)Yo(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var V1="ag-Grid-AutoColumn",t$="ag-Grid-SelectionColumn",n$="ag-Grid-RowNumbersColumn";function r$(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];zu(s)?t.push(s):Gi(s)&&n(s.getChildren())}};return n(e),t}function Kl(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function nx(e,t,n){const r={};if(!t)return;lc(null,t,s=>{r[s.getInstanceId()]=s}),n&&lc(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function oI(e){return e.getId().startsWith(V1)}function rd(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(t$)??!1}function Au(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(n$)??!1}function Pye(e){return rd(e)||Au(e)}function rx(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Fye(e,t){return Xh(e,t,(n,r)=>n.getColId()===r.getColId())}function kye(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Ap(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function i$(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var Iye=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),nt(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),nt(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function Mye(e,t=null,n,r,i){const s=new Dye,{existingCols:o,existingGroups:a,existingColKeys:l}=Oye(r);s.addExistingKeys(l);const c=s$(e,t,0,n,o,s,a,i),{colGroupSvc:d}=e,f=d?.findMaxDepth(c,0)??0,p=d?d.balanceColumnTree(c,0,f,s):c;return lc(null,p,(y,C)=>{Gi(y)&&y.setupExpandable(),y.originalParent=C}),{columnTree:p,treeDepth:f}}function Oye(e){const t=[],n=[],r=[];return e&&lc(null,e,i=>{if(Gi(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function s$(e,t,n,r,i,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){const f=t[d];l&&Gye(f)?c[d]=l.createProvidedColumnGroup(r,f,n,i,s,o,a):c[d]=Lye(e,r,f,i,s,a)}return c}function Lye(e,t,n,r,i,s){const o=Bye(n,r);o&&r?.splice(o.idx,1);let a=o?.column;if(a){const l=RD(e,n,a.getColId());a.setColDef(l,n,s),Nye(e,a,l,s)}else{const l=i.getUniqueKey(n.colId,n.field),c=RD(e,n,l);a=new Yh(c,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function o$(e,t,n,r,i,s,o,a){const{sortSvc:l,pinnedCols:c,colFlex:d}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,r,a),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&c?.setColPinned(t,s),o!==void 0&&d?.setColFlex(t,o)}function Nye(e,t,n,r){o$(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function Bye(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function RD(e,t,n,r){const{gos:i,dataTypeSvc:s}=e,o={},a=i.get("defaultColDef");gs(o,a,!1,!0);const l=Vye(e,o,t,n);l&&Hye(e,l,o);const c=o.cellDataType;gs(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);const d=i.get("autoGroupColumnDef"),f=$a(i);return t.rowGroup&&d&&f&&gs(o,{sort:d.sort,initialSort:d.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),i.validateColDef(o,n,r),o}function Vye(e,t,n,r){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?rx(s):void 0}function Hye(e,t,n){if(!t.length)return;const r=Object.assign({},_ye),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in r?qe(34,{key:s}):(o.type&&qe(35),r[s]=o)}t.forEach(s=>{const o=r[s.trim()];o?gs(n,o,!1,!0):qe(36,{t:s})})}function Gye(e){return e.children!==void 0}function lc(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];Gi(i)&&lc(i,i.getChildren(),n),n(i,e)}}function a$(e,t){const n=[],r=[],i=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?i.push(o):a==="left"||a===!0?n.push(o):r.push(o)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function l$(e,t){let n=!0;return lc(null,t,r=>{if(!Gi(r))return;const i=r,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(p=>{const m=e.indexOf(p);a.push(m)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,f=i.getLeafColumns().length-1;d>f&&(n=!1)}),n}function c$(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function u$(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=c$(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function Uye(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=c$(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function zye(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function sg(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function ga(e,t,n){const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:f,valueColsSvc:p,eventSvc:m,gos:y}=e,C=r.getColDefCols()??[],b=a?.getColumns();if(!C?.length&&!b?.length)return!1;if(t?.state&&!t.state.forEach)return qe(32),!1;const x=(I,_,D,P,k)=>{if(!I)return;const B=Iye(_,t.defaultState),N=B("flex").value1;if(o$(e,I,B("hide").value1,B("sort").value1,B("sortIndex").value1,B("pinned").value1,N,n),N==null){const V=B("width").value1;if(V!=null){const G=I.getColDef().minWidth??f.getDefaultColumnMinWidth();G!=null&&V>=G&&I.setActualWidth(V,n)}}k||!I.isPrimary()||(p?.syncColumnWithState(I,n,B),i?.syncColumnWithState(I,n,B,D),s?.syncColumnWithState(I,n,B,P))},R=(I,_,D)=>{const P=d$(e,n),k=_.slice(),B={},N={},V=[],G=[],oe=[];let le=0;const J=i?.columns.slice()??[],se=s?.columns.slice()??[];I.forEach(L=>{const ae=L.colId;if(ae.startsWith(V1)){V.push(L),oe.push(L);return}if(rd(ae)){G.push(L),oe.push(L);return}const H=D(ae);H?(x(H,L,B,N,!1),Yo(k,H)):(oe.push(L),le+=1)});const he=L=>x(L,null,B,N,!1);k.forEach(he),i?.sortColumns(x3.bind(i,B,J)),s?.sortColumns(x3.bind(s,N,se)),r.refreshCols(!1);const ne=(L,ae,W=[])=>{ae.forEach(H=>{const X=L(H.colId);Yo(W,X),x(X,H,null,null,!0)}),W.forEach(he)};return ne(L=>o?.getColumn(L)??null,V,o?.getColumns()?.slice()),ne(L=>a?.getColumn(L)??null,G,a?.getColumns()?.slice()),Wye(t,r,y),c.refresh(n),m.dispatchEvent({type:"columnEverythingChanged",source:n}),P(),{unmatchedAndAutoStates:oe,unmatchedCount:le}};l?.start();let{unmatchedAndAutoStates:E,unmatchedCount:F}=R(t.state||[],C,I=>r.getColDefCol(I));if(E.length>0||nt(t.defaultState)){const I=d?.getPivotResultCols()?.list??[];F=R(E,I,_=>d?.getPivotResultCol(_)??null).unmatchedCount}return l?.finish(),F===0}function jye(e,t){const{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),c=r$(l),d=[];let f=1e3,p=1e3;const m=R=>{const E=h$(R);Qn(E.rowGroupIndex)&&E.rowGroup&&(E.rowGroupIndex=f++),Qn(E.pivotIndex)&&E.pivot&&(E.pivotIndex=p++),d.push(E)};r?.getColumns()?.forEach(m),i?.getColumns()?.forEach(m),c?.forEach(m),ga(e,{state:d},t);const y=r?.getColumns()??[],x=[...i?.getColumns()??[],...y,...a].map(R=>({colId:R.colId}));ga(e,{state:x,applyOrder:!0},t),s.dispatchEvent(Et(o,{type:"columnsReset",source:t}))}function d$(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},c=ix(e),d={};return c.forEach(f=>{d[f.colId]=f}),()=>{const f=(_,D,P,k)=>{const B=D.map(k),N=P.map(k);if(Xh(B,N))return;const G=new Set(D);P.forEach(le=>{G.delete(le)||G.add(le)});const oe=[...G];a.dispatchEvent({type:_,columns:oe,column:oe.length===1?oe[0]:null,source:t})},p=_=>{const D=[];return s.forAllCols(P=>{const k=d[P.getColId()];k&&_(k,P)&&D.push(P)}),D},m=_=>_.getColId();f("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],m),f("columnPivotChanged",l.pivotColumns,r?.columns??[],m);const C=p((_,D)=>{const P=_.aggFunc!=null,k=P!=D.isValueActive(),B=P&&_.aggFunc!=D.getAggFunc();return k||B});C.length>0&&zye(a,"columnValueChanged",C,t),sg(a,p((_,D)=>_.width!=D.getActualWidth()),!0,t),u$(a,p((_,D)=>_.pinned!=D.getPinned()),t),Uye(a,p((_,D)=>_.hide==D.isVisible()),t);const F=p((_,D)=>_.sort!=D.getSort()||_.sortIndex!=D.getSortIndex());F.length>0&&o?.dispatchSortChangedEvents(t,F);const I=ix(e);qye(c,I,t,s,a)}}function ix(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(Qn(i)||!t.isAlive())return[];const s=n?.columns,o=r?.columns,a=[],l=d=>{const f=d.isRowGroupActive()&&s?s.indexOf(d):null,p=d.isPivotActive()&&o?o.indexOf(d):null,m=d.isValueActive()?d.getAggFunc():null,y=d.getSort()!=null?d.getSort():null,C=d.getSortIndex()!=null?d.getSortIndex():null;a.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:y,sortIndex:C,aggFunc:m,rowGroup:d.isRowGroupActive(),rowGroupIndex:f,pivot:d.isPivotActive(),pivotIndex:p,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));const c=new Map(t.getCols().map((d,f)=>[d.getColId(),f]));return a.sort((d,f)=>{const p=c.has(d.colId)?c.get(d.colId):-1,m=c.has(f.colId)?c.get(f.colId):-1;return p-m}),a}function h$(e){const t=(y,C)=>y??C??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let f=t(n.pivotIndex,n.initialPivotIndex),p=t(n.pivot,n.initialPivot);f==null&&(p==null||p==!1)&&(f=null,p=null);const m=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:p,pivotIndex:f,aggFunc:m}}function Wye(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];e.state.forEach(i=>{i.colId!=null&&r.push(i.colId)}),$ye(t.cols,r,t,n)}function $ye(e,t,n,r){if(e==null)return;let i=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(i.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(V1)?i.splice(o++,0,a):i.push(a)}),i=a$(i,r),!l$(i,n.getColTree())){qe(39);return}e.list=i}function qye(e,t,n,r,i){const s={};t.forEach(d=>s[d.colId]=d);const o={};e.forEach(d=>{s[d.colId]&&(o[d.colId]=!0)});const a=e.filter(d=>o[d.colId]),l=t.filter(d=>o[d.colId]),c=[];l.forEach((d,f)=>{const p=a&&a[f];if(p&&p.colId!==d.colId){const m=r.getCol(p.colId);m&&c.push(m)}}),c.length&&i.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var x3=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(r),d=l>=0,f=c>=0;return d&&f?l-c:d?-1:1},Kye=class extends Me{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(Ap(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Ap(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,c=this.colDefs?d$(t,e):void 0;n?.expire();const d=this.colDefCols?.list,f=this.colDefCols?.tree,p=Mye(t,this.colDefs,!0,f,e);nx(t,this.colDefCols?.tree,p.columnTree);const m=p.columnTree,y=p.treeDepth,C=r$(m),b={};C.forEach(x=>b[x.getId()]=x),this.colDefCols={tree:m,treeDepth:y,list:C,map:b},i?.extractCols(e,d),s?.extractCols(e,d),o?.extractCols(e,d),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&r?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:i,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:d,eventSvc:f}=this.beans,p=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,r,i],p);const m=tye(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(p),this.positionLockedCols(p),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(p),c.clear(),d.clear(),!Xh(t,this.cols.tree)&&f.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const c=oI(l);if(r){const d=o?.includes(l);return c||d||i&&rd(l)||s&&Au(l)}else return c||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){ga(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(f=>e.map[f.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=f=>{const p=f.getOriginalParent();return p?p.getChildren().length>1?!0:r(p):!1};if(!n.some(f=>r(f))){const f=new Set(n);for(const p of e.list)f.has(p)||n.push(p);e.list=n;return}const i=new Map;for(let f=0;f<n.length;f++){const p=n[f];i.set(p,f)}const s=e.list.filter(f=>!i.has(f));if(s.length===0){e.list=n;return}const o=(f,p)=>{const m=p?p.getOriginalParent():f.getOriginalParent();if(!m)return null;let y=null,C=null;for(const b of m.getChildren())if(!(b===p||b===f)){if(b instanceof Yh){const x=i.get(b);if(x==null)continue;(y==null||y<x)&&(y=x,C=b);continue}b.forEachLeafColumn(x=>{const R=i.get(x);R!=null&&(y==null||y<R)&&(y=R,C=x)})}return C??o(f,m)},a=[],l=new Map;for(const f of s){const p=o(f,null);if(p==null){a.push(f);continue}const m=l.get(p);m===void 0?l.set(p,f):Array.isArray(m)?m.push(f):l.set(p,[m,f])}const c=new Array(e.list.length);let d=c.length-1;for(let f=a.length-1;f>=0;f--)c[d--]=a[f];for(let f=n.length-1;f>=0;f--){const p=n[f],m=l.get(p);if(m)if(Array.isArray(m))for(let y=m.length-1;y>=0;y--){const C=m[y];c[d--]=C}else c[d--]=m;c[d--]=p}e.list=c}positionLockedCols(e){e.list=a$(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=Ap(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){nx(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r}=this.beans;Yw(this.colDefCols?.list,e),Yw(n?.columns?.list,e),Yw(r?.columns?.list,e),Yw(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<r.length;i++)if(i$(r[i],e))return r[i];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},f$=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},kg=class extends Me{};function eC(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var tC=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.toggleCss(i,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},Yye=0,Ct=null,Gn=class extends Me{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Yye++,this.cssManager=new tC(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(k7):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Ct)this[t]=r??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);n.forEach(r=>{if(!(r instanceof HTMLElement))return;const i=this.createComponentFromElement(r,s=>{const o=s.getGui();if(o)for(const a of r.attributes??[])o.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)})}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,o=s?this.componentSelectors.get(r):null;let a=null;if(o){const l=n&&i?n[i]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,a),a}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=eI(e):r=kr(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),nI(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;jve(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;or(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function p$(e){return typeof e=="object"&&!!e.component}var an=class S0{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new S0(n=>{let r=t.length;const i=new Array(r);t.forEach((s,o)=>{s.then(a=>{i[o]=a,r--,r===0&&n(i)})})}):S0.resolve()}static resolve(t=null){return new S0(n=>n(t))}then(t){return new S0(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function Xye(e){return e?e.prototype&&"getGui"in e.prototype:!1}function g$(e,t,n,r){const{name:i}=n;let s,o,a,l,c,d;if(t){const f=t,p=f[i+"Selector"],m=p?p(r):null,y=C=>{typeof C=="string"?s=C:C!=null&&C!==!0&&(e.isFrameworkComponent(C)?a=C:o=C)};m?(y(m.component),l=m.params,c=m.popup,d=m.popupPosition):y(f[i])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var Qye=class extends Me{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:f,popupPositionFromSelector:p}=g$(this.beans.frameworkOverrides,e,t,r),m,y;const C=E=>{const F=this.registry.getUserComponent(s,E);F&&(l=F.componentFromFramework?void 0:F.component,c=F.componentFromFramework?F.component:void 0,m=F.params,y=F.processParams)};if(a!=null&&C(a),l==null&&c==null&&n!=null&&C(n),l&&o&&!Xye(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){const{validation:E}=this.beans;i&&(a!==n||!n)?a?E?.isProvidedUserComp(a)||kn(50,{compName:a}):n?E||kn(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):kn(216,{name:s}):n&&!E&&kn(146,{comp:n});return}const b=this.mergeParams(e,t,r,d,m,y),x=l==null,R=l??c;return{componentFromFramework:x,componentClass:R,params:b,type:t,popupFromSelector:f,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(R,x,b,t)}}newAgStackInstance(e,t,n,r){const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const o=s.init?.(n);return o==null?an.resolve(s):o.then(()=>s)}mergeParams(e,t,n,r=null,i,s){const o={...n,...i},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const c=l(n);gs(o,c)}else typeof l=="object"&&gs(o,l);return gs(o,r),s?s(o):o}},Zye={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},Jye={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},eCe={name:"headerComponent",optionalMethods:["refresh"]},tCe={name:"innerHeaderComponent"},nCe={name:"innerHeaderGroupComponent"},rCe={name:"headerGroupComponent"},iCe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},sCe={name:"loadingCellRenderer",cellRenderer:!0},oCe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},aCe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},lCe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},cCe={name:"tooltipComponent"},aI={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},uCe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},dCe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},hCe={name:"loadingCellRenderer",cellRenderer:!0},fCe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},pCe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function gCe(e,t){return e.getCompDetailsFromGridOptions(Jye,"agDragAndDropImage",t,!0)}function mCe(e,t,n){return e.getCompDetails(t,eCe,"agColumnHeader",n)}function vCe(e,t,n){return e.getCompDetails(t,tCe,void 0,n)}function yCe(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,rCe,"agColumnGroupHeader",t)}function CCe(e,t,n){return e.getCompDetails(t,nCe,void 0,n)}function wCe(e,t){return e.getCompDetailsFromGridOptions(dCe,void 0,t,!0)}function bCe(e,t){return e.getCompDetailsFromGridOptions(hCe,"agLoadingCellRenderer",t,!0)}function SCe(e,t){return e.getCompDetailsFromGridOptions(fCe,"agGroupRowRenderer",t,!0)}function xCe(e,t){return e.getCompDetailsFromGridOptions(pCe,"agDetailCellRenderer",t,!0)}function E3(e,t,n){return e.getCompDetails(t,iCe,void 0,n)}function T3(e,t,n){return e.getCompDetails(t,sCe,"agSkeletonCellRenderer",n,!0)}function m$(e,t,n){return e.getCompDetails(t,oCe,"agCellEditor",n,!0)}function ECe(e,t,n,r){const i=t.filter;return p$(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,aI,r,n,!0)}function TCe(e,t,n){return e.getCompDetails(t,Zye,"agDateInput",n,!0)}function RCe(e,t){return e.getCompDetailsFromGridOptions(aCe,"agLoadingOverlay",t,!0)}function ACe(e,t){return e.getCompDetailsFromGridOptions(lCe,"agNoRowsOverlay",t,!0)}function _Ce(e,t){return e.getCompDetails(t.colDef,cCe,"agTooltipComponent",t,!0)}function DCe(e,t,n,r){return e.getCompDetails(t,uCe,r,n)}function v$(e,t){return g$(e,t,aI)}function JR(e,t,n){return e.mergeParams(t,aI,n)}function Bv(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var y$=new Set,sx={},lh={},Jb,C$=!1,w$=!1,PCe=!1;function FCe(e){const[t,n]=e.version.split(".")||[],[r,i]=Jb.split(".")||[];return t===r&&n===i}function kCe(e){Jb||(Jb=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?FCe(e)||xp(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Jb}.`)):xp(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||xp(`${n.message}`)}}function Vv(e,t,n=!1){n||(C$=!0),kCe(e);const r=e.rowModels??["all"];y$.add(e);let i;t!==void 0?(w$=!0,lh[t]===void 0&&(lh[t]={}),i=lh[t]):i=sx,r.forEach(s=>{i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Vv(s,t,n))}function ICe(e){delete lh[e]}function AD(e,t,n){const r=i=>!!sx[i]?.[e]||!!lh[t]?.[i]?.[e];return r(n)||r("all")}function lI(){return w$}function MCe(e,t){const n=lh[e]??{};return[...Object.values(sx.all??{}),...Object.values(n.all??{}),...Object.values(sx[t]??{}),...Object.values(n[t]??{})]}function OCe(){return new Set(y$)}function LCe(e,t){const n=lh[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function NCe(){return C$}function BCe(){return PCe}var VCe=class{static register(e){Vv(e,void 0)}static registerModules(e){e.forEach(t=>Vv(t,void 0))}},HCe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function GCe(e){return typeof e=="object"&&!!e.getComp}var UCe=class extends HCe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),ICe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},zCe=class extends Me{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new b$,this.rowValidations=new S$,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:c},d)=>{c!==Xo&&(l[d.getColId()]=c)});return n&&o(n,s),i&&o(i,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>t.set(r,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((i,s)=>r.set(s,{...i})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const r=this._getEdit(e);r&&(r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed")}else this.getEditRow(t)?.forEach(r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const i of n.keys())t.push({rowNode:r,column:i,...n.get(i)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){const s=this.getEditRow(n,t);return s?r?i?this.getEdit(e)?.state==="editing":s.has(r)??!1:s.size!==0?i?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:Xo,sourceValue:this.beans.valueSvc.getValue(r,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},b$=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},S$=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function jCe(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function x$(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function WCe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(nt(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function $Ce(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function qCe(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r?.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function KCe(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function wc(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function x0(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function YCe(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let s;return s??(s=r?.getRowNode(t)),n?s??(s=i?.getPinnedRowById(t,n)):(s??(s=i?.getPinnedRowById(t,"top")),s??(s=i?.getPinnedRowById(t,"bottom"))),s}function ox(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(n===0)return r==="top"?null:r==="bottom"&&o.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=r?void 0:o.getRow(n);return E$(e,a,!0)??{rowIndex:n-1,rowPinned:r}}function R3(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(XCe(e,t))return r==="bottom"?null:r==="top"&&o.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=r?void 0:o.getRow(n);return E$(e,a)??{rowIndex:n+1,rowPinned:r}}function E$(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!t?.sticky||!z7(r))return;const s=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),a=!o.some(f=>f.rowNode.rowIndex===t.rowIndex),l=a?s:o,c=(n?-1:1)*(a?-1:1);let d;for(let f=0;f<l.length;f++)if(l[f].rowNode.rowIndex===t.rowIndex){d=l[f+c];break}return d?{rowIndex:d.rowNode.rowIndex,rowPinned:null}:void 0}function XCe(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:s}=e;return n==="top"?(i?.getPinnedTopRowCount()??0)-1<=r:n==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=r:s.getLastRow()<=r}function cI(e,t={}){const{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(r?l=YCe(e,r,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function Yn(e,t={}){const{cellCtrl:n,colId:r,columnId:i,column:s}=t;if(n)return n;const o=e.colModel.getCol(r??i??_D(s)),a=t.rowCtrl??cI(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[o])?.[0]}function A3(e){const{editSvc:t}=e;t?.isBatchEditing()?_p(e):t?.stopEditing(void 0,{source:"api"})}function QCe(e,t,n){const{gos:r,popupSvc:i}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(wD(a)===null){A3(t);return}let l=n.some(c=>c.contains(a))&&L$(r,a);l||(l=!!i&&(i.getActivePopups().some(c=>c.contains(a))||i.isElementWithinCustomPopup(a))),l||A3(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function _D(e){if(e)return typeof e=="string"?e:e.getColId()}var Xo=Symbol("unedited");function T$(e,t={}){const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of r){const s=i.comp?.getCellEditor();s&&n.push({ctrl:i,editor:Bv(s)})}return n}var ZCe=(e,t={})=>T$(e,t).map(n=>n.editor);function JCe(e,t,n,r,i,s){t.length===0&&n?.rowNode&&n?.column&&og(e,n,{key:r,event:i,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:d}=n??{};for(const f of t){const{rowNode:p,column:m}=f,y=Yn(e,f);if(!y){if(p&&m){const b=o.getValue(m,p,void 0,"api"),E=(n?.rowNode===p&&n?.column===m&&r||void 0)??a?.getCellDataValue(f,!1)??o.getValueForDisplay(m,p)?.value??b??Xo;l?.setEdit(f,{pendingValue:E,sourceValue:b,state:"editing"})}continue}const C=s&&c===y.rowNode&&y.column===d;og(e,{rowNode:c,column:y.column},{key:C?r:null,event:C?i:null,cellStartedEdit:C})}}function _u({pendingValue:e,sourceValue:t}){return e===Xo&&(e=t),e!==t}function og(e,t,n){const{key:r,event:i,cellStartedEdit:s,silent:o}=n??{},a=Yn(e,t),l=a?.comp?.getCellEditor(),c=A$(e,t,r,s),d=e.editModelSvc?.getEdit(t);let f=r?.length===1?r:c.value;if(f===void 0&&(f=d?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:f,state:"editing"}),l){l.refresh?.(c);return}const p=t.column.getColDef(),m=m$(e.userCompFactory,p,c),y=m?.popupFromSelector!=null?m.popupFromSelector:!!p.cellEditorPopup,C=m?.popupPositionFromSelector!=null?m.popupPositionFromSelector:p.cellEditorPopupPosition;_$(m.params,i),a&&(a.editCompDetails=m,a.comp?.setEditDetails(m,y,C,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,i,"cellEditingStarted"))}function R$(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function A$(e,t,n,r){const{valueSvc:i,gos:s,editSvc:o}=e,a=Yn(e,t),l=t.rowNode?.rowIndex??void 0,c=o?.isBatchEditing(),d=e.colModel.getCol(t.column.getId()),{rowNode:f,column:p}=t,m=a.comp?.getCellEditor(),y=o?.getCellDataValue(t,!1)??(m?R$(m)?.editorValue:void 0),C=y===Xo?i.getValueForDisplay(d,f)?.value:y;return Et(s,{value:C,eventKey:n??null,column:p,colDef:p.getColDef(),rowIndex:l,node:f,data:f.data,cellStartedEdit:r??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:b=>{o.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:b}),ax(e,t)},eGridCell:a?.eGui,parseValue:b=>i.parseValue(d,f,b,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function DD(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((r,i)=>{r.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===Xo)||!_u(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:i,column:o})})})}function ewe(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,o=A$(e,t,r,i),a=s.getColDef(),l=m$(e.userCompFactory,a,o);n.refresh(_$(l.params,r))}function _$(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Kd(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const r=Yn(e,n);if(!r)return;const i=r.comp.getCellEditor();if(!i)return;const{editorValue:s,editorValueExists:o}=R$(i);eS(e,n,t,s,void 0,!o)})}function eS(e,t,n,r,i,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:c}=t;if(!(l&&c))return;const f=!!Yn(e,t)?.comp?.getCellEditor();let p=o.getEdit(t,!0);p?.sourceValue||(p=o.setEdit(t,{sourceValue:a.getValue(c,l,void 0,"api"),pendingValue:Xo,state:f?"editing":"changed"})),o.setEdit(t,{editorValue:s?p.sourceValue:r,state:f?"editing":"changed"}),n&&twe(e,t)}function twe(e,t){const{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function _p(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(r=>ax(e,r,n))}function ax(e,t,n){const{editSvc:r,editModelSvc:i}=e,{rowNode:s,column:o}=t,a=Yn(e,t);if(!a){i?.hasEdits(t)&&s&&o&&i?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor())return;const c=l?.getCellEditor()?.getValidationErrors?.(),d=i?.getCellValidationModel();c?.length?d?.setCellValidation(t,{errorMessages:c}):d?.clearCellValidation(t),i?.getEdit(t)&&i?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const f=i?.getEdit(t);f?.state==="changed"&&!n?.silent&&r?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:_u(f),newValue:f?.pendingValue,oldValue:f?.sourceValue})}function Ph(e){const t=T$(e),n=new b$,{ariaAnnounce:r,localeSvc:i,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",c=h7(i)("ariaValidationErrorPrefix","Cell Editor Validation");for(const f of t){const{ctrl:p,editor:m}=f,{rowNode:y,column:C}=p,b=m.getValidationErrors?.()??[],x=m.getValidationElement?.(!1)||!m.isPopup?.()&&p.eGui;if(x){const R=b!=null&&b.length>0,E=R?b.join(". "):"";Dve(x,R),R&&r.announceValue(`${c} ${b}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(E):x.classList.toggle("invalid",R)}b?.length>0&&n.setCellValidation({rowNode:y,column:C},{errorMessages:b})}Kd(e,!1),s?.setCellValidationModel(n);const d=new Set;for(const{ctrl:f}of t)d.add(f.rowCtrl);if(a){const f=nwe(e);s?.setRowValidationModel(f)}for(const f of d.values()){f.rowEditStyleFeature?.applyRowStyles();for(const p of f.getAllCellCtrls())p.tooltipFeature?.refreshTooltip(!0),p.editorTooltipFeature?.refreshTooltip(!0),p.editStyleFeature?.applyCellStyles?.()}}var nwe=e=>{const t=new S$,n=e.gos.get("getFullRowEditValidationErrors"),r=e.editModelSvc?.getEditMap();if(!r)return t;for(const i of r.keys()){const s=r.get(i);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=i;for(const d of s.keys()){const f=s.get(d);if(!f)continue;const{editorValue:p,pendingValue:m,sourceValue:y}=f,C=p??(m===Xo?void 0:m)??y;o.push({column:d,colId:d.getColId(),rowIndex:a,rowPinned:l,oldValue:y,newValue:C})}const c=n?.({editorsState:o})??[];c.length>0&&t.setRowValidation({rowNode:i},{errorMessages:c})}return t};function rwe(e){Ph(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((r,i)=>{r.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:s??null})})}),n}var iwe="ag-column-first",swe="ag-column-last";function D$(e,t,n,r){return Qn(e)?[]:awe(e.headerClass,e,t,n,r)}function P$(e,t,n){e.toggleCss(iwe,n.isColAtEdge(t,"first")),e.toggleCss(swe,n.isColAtEdge(t,"last"))}function owe(e,t,n,r){return Et(t,{colDef:e,column:n,columnGroup:r})}function awe(e,t,n,r,i){if(Qn(e))return[];let s;if(typeof e=="function"){const o=owe(t,n,r,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function nC(e){return!!(e.rowPinned&&e.pinnedSibling)}function Fo(e,t,n,r){const i=t==="top";if(!n)return Fo(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Fo(e,t,n,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===r){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var Ae={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},PD=!1,lx=0;function lwe(e){lx>0||(e.addEventListener("keydown",cx),e.addEventListener("mousedown",cx))}function cwe(e){lx>0||(e.removeEventListener("keydown",cx),e.removeEventListener("mousedown",cx))}function cx(e){const t=PD,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(PD=n)}function uwe(e){const t=hi(e);return lwe(t),lx++,()=>{lx--,cwe(t)}}function dwe(){return PD}function hwe(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===Ae.TAB){const i=r.shiftKey;Qh(e,n,!1,i)||ag(e,i)&&r.preventDefault()}}})}function Dp(e,t,n=!1){const r=zve;let i=R7;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>yl(l)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(s,o):s}function Fh(e,t=!1,n=!1,r=!1){const i=Dp(e,r?".ag-tab-guard":null,n),s=t?Fn(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function Qh(e,t,n,r){const i=Dp(t,n?':not([tabindex="-1"])':null),s=ur(e);let o;n?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(r?-1:1);return a<0||a>=i.length?null:i[a]}function F$(e,t=5){let n=0;for(;e&&wD(e)===null&&++n<=t;)e=e.parentElement;return wD(e)===null?null:e}function fwe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function ch(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function H1(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function ag(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function pwe(e,t,n,{rowNode:r,column:i},s){return Et(e.gos,{type:n,node:r,data:r.data,value:s,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function gwe(e,t=!1){return e===Ae.DELETE?!0:!t&&e===Ae.BACKSPACE?x7():!1}var mwe=class extends Me{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Ae.ENTER:this.onEnterKeyDown(e);break;case Ae.F2:this.onF2KeyDown(e);break;case Ae.ESCAPE:this.onEscapeKeyDown(e);break;case Ae.TAB:this.onTabKeyDown(e);break;case Ae.BACKSPACE:case Ae.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Ae.DOWN:case Ae.UP:case Ae.RIGHT:case Ae.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===Ae.LEFT||e.key===Ae.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=r;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),gwe(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&Uu(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:c}=n,d=this.beans.valueSvc.getDeleteValue(c,i);i.setDataValue(c,d,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,s=r?.isEditing(t),o=t.rowNode,a=r?.isRowEditing(o),l=c=>{r?.startEditing(c,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(Ph(n),r?.checkNavWithValidation(void 0,e)==="block-stop")return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const c=e.shiftKey?Ae.UP:Ae.DOWN;i?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===Ae.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(Ph(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n||r?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===Ae.SPACE)this.onSpaceKeyDown(e);else if(r?.isCellEditable(i,"ui")){if(r?.hasValidationErrors()&&!r?.hasValidationErrors(i))return;r?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&oh(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,"spaceKey"),e.preventDefault()}};function k$(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}function _3({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var vwe=class extends Me{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!ac(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:c}=a;n&&o&&n.getCellRangeCount(c)>1&&n.intersectLastRange(!0);const d=a.createEvent(e,"cellClicked");t.dispatchEvent(d);const f=l.getColDef();if(f.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{f.onCellClicked(d)})},0),i?.getState(a)!=="editing"){const p=r?.isEditing(),m=i?.getCellValidationModel().getCellValidationMap().size??0,y=i?.getRowValidationModel().getRowValidationMap().size??0;if(p&&(m>0||y>0))return;r?.shouldStartEditing(a,e)?r?.startEditing(a,{event:e}):r?.shouldStopEditing(a,e)&&r?.stopEditing(a)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,editSvc:o,editModelSvc:a}=n,l=t.getColDef(),c=r.createEvent(e,"cellDoubleClicked");if(i.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const d=o?.isEditing(),f=a?.getCellValidationModel().getCellValidationMap().size??0,p=a?.getRowValidationModel().getRowValidationMap().size??0;if(d&&(f>0||p>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:d,gos:f,editSvc:p}=o;if(this.isRightClickInExistingRange(e))return;const m=l&&!l.isEmpty(),y=this.containsWidget(i),{cellPosition:C,column:b}=s,x=Au(b);if(c&&x&&!c.handleMouseDownOnCell(C,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!m){const R=p?.isEditing(s),F=f.get("enableCellTextSelection")&&e.defaultPrevented,I=($h()||F)&&!R&&!Zk(i)&&!y;s.focusCell(I,e)}if(r&&m&&!d.isCellFocused(C)){e.preventDefault();const R=d.getFocusedCell();if(R){const{column:E,rowIndex:F,rowPinned:I}=R;p?.isEditing(R)&&p?.stopEditing(R),d.setFocusedCell({column:E,rowIndex:F,rowPinned:I,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!y){if(l){x&&e.preventDefault();const R=_3(this.beans,e)&&x;if(r)l.extendLatestRangeToCell(C);else if(!R){const E=t||n;l.setRangeToCell(C,E)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=_3(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return sh(e,"ag-selection-checkbox",3)||sh(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},ywe=class extends Me{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Xh(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Qn(i)||s!==i.getPinned()));o++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Fn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=ah(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Cwe="ag-cell",wwe="ag-cell-auto-height",bwe="ag-cell-normal-height",Swe="ag-cell-focus",xwe="ag-cell-first-right-pinned",Ewe="ag-cell-last-left-pinned",Twe="ag-cell-not-inline-editing",Rwe="ag-cell-wrap-text",ux="cellCtrl";function I$(e,t){return Z7(e,t,ux)}var Awe=0,Pp=class extends Me{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+Awe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new ywe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new vwe(this,e,this.column),this.keyboardListener=new mwe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Uu(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Au(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Ph(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=T3(n,s,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const c=new an(d=>{l=d});return this.addManagedListeners(i,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:an.resolve()}}showValue(e,t){const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const c=i.stub&&i.groupData?.[r.getId()]==null,d=r.getColDef();if(c||this.isCellRenderer()){const f=this.createCellRendererParams();!c||Au(r)?l=E3(o,d,f):l=T3(o,d,f)}if(!l&&!c&&n.findSvc?.isMatch(i,r)){const f=this.createCellRendererParams();l=E3(o,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},f)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const f=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});f&&(f.compDetails?l=f.compDetails:f.valueToDisplay&&(a=f.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&Ac(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&nC(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=QS(t),i=rd(this.column);return n==="custom"&&r!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&Rp(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return Et(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r).value,setValue:d=>l?.setDataValue({rowNode:r,column:n},d)||o.setValue(r,n,d),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(d,f,p,m)=>this.registerRowDragger(d,f,m),setTooltip:(d,f)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,f),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const r=this.column.getColDef(),i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,s=e||i||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!n,!1);const c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&r.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;_h(this.beans.gos,t,ux,this),e.addDestroyFunc(()=>_h(this.beans.gos,t,ux,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return pwe(s,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;P$(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);b7(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=r.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Au(this.column)&&(e=!0),eo(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(xwe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(Ewe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(H1(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(Swe,n),n&&e&&e.forceBrowserFocus){let i=this.comp.getFocusableElement();if(r){const s=Dp(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:oc(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Cwe,!0),e.toggleCss(Twe,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(wwe,t),e.toggleCss(bwe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(Rwe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(ur(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},M$="__ag_grid_instance";function O$(e,t){t[M$]=e.gridInstanceId}function Hv(e,t){return L$(e,t.target)}function L$(e,t){let n=t;for(;n;){const r=n[M$];if(nt(r))return r===e.gridInstanceId;n=n.parentElement}return!1}function _we(e,t){return I$(e,t.target)?.getFocusedCellPosition()??null}function D3(e,t){const n=Fi(e.gos,"normal"),r=t;let i,s;r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var Dwe=class extends Me{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.removeDragSource(r.params),Yo(t,r))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(r=>t.removeDragSource(r.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),s=this.findCurrentDropTarget(e,i),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,r,t),o!==null&&s===null&&a?.onGridExit?.(c),o===null&&s!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(s,e,n,r,t),s&&l){const{comp:d,promise:f}=l;d?d.setIcon(s.getIconName?s.getIconName():null,!1):f.then(p=>{p&&p.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const d=this.createDropTargetEvent(s,e,n,r,t);s.onDragging(d)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(a,l)=>{for(const c of l){const{width:d,height:f,left:p,right:m,top:y,bottom:C}=c.getBoundingClientRect();if(d===0||f===0)return!1;const b=a.clientX>=p&&a.clientX<m,x=a.clientY>=y&&a.clientY<C;if(!b||!x)return!1}return!0};for(const a of n)if(i(e,a)){r=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=Lv(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,r){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const o=this.createDropTargetEvent(i,e,t,n,r);i.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,r,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,d=t.clientX-o.left,f=t.clientY-o.top;return Et(c,{event:t,x:d,y:f,vDirection:r,hDirection:n,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&sye(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const r=gCe(n,Et(t,{dragSource:e}));if(!r)return;const i=r.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),O$(this.gos,r),n.applyThemeClasses(r),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),r.style.top="20px",r.style.left="20px";const s=sI(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(r):qe(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},Pwe=class extends Me{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(r=>r.dragSource===e);n&&(this.removeListener(n),Yo(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");r&&!o&&(s=a=>{Zk(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!r})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Lv(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=c=>this.onMouseMove(c,e.eElement),i=c=>this.onMouseUp(c,e.eElement),s=c=>c.preventDefault(),o=c=>{c.key===Ae.ESCAPE&&this.cancelDrag(e.eElement)},a=Lv(this.beans),l=[{target:a,type:"mousemove",listener:r},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.addEventListener(r,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.removeEventListener(r,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=nt(n)?n:4;return k$(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){$h()&&hi(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),r=e.type==="mousemove",i=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&r&&e.cancelable&&Hv(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function N$(e,t){return e+"_"+t}function Fr(e){return e instanceof Gv}var Gv=class extends Me{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return N$(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Fr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Fn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{zu(t)?e.push(t):Fr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{zu(t)?e.push(t):Fr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Fr(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},FD="row-group-",uI="t-",dI="b-",Fwe=0,kh=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Fwe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(kn(13),null):this.rowPinned==="top"?uI+this.rowIndex:this.rowPinned==="bottom"?dI+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=ig(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(FD)&&kn(14,{groupPrefix:FD})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:f},data:p,rowIndex:m,rowPinned:y}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:y,column:a,colDef:a.colDef,data:p,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o){const f=o.setDataValue({rowNode:this,column:a},t,n);if(f!=null)return f}const c=i.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const d=this.pinnedSibling;return d&&c&&d.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Th),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Th),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(qe(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function kwe(e,t,n){return Et(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Iwe=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function Mwe(e,t){const n=new kh(t);return Object.keys(e).forEach(r=>{Iwe.has(r)||(n[r]=e[r])}),n.oldRowTop=null,n}var B$={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},Owe=new Set(Object.values(B$));function tu(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function Lwe(e,t,n,r,i,s){return t.refresh?.({...n,model:r,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;V$(a,l,r,i,s)}})}function V$(e,t,n,r,i){e?.refresh?.({...t,model:n,state:r,source:i})}function H$(e,t,n){const r=e();r?.created&&r.promise.then(i=>{const s=t();V$(i,r.filterParams,s,n()??{model:s},"ui")})}function P3(e,t,n,r,i,s){let o,a=!1,l;switch(e){case"apply":{const c=r();l=c?.model??null,o={state:c?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:n()};break}}i(o),a?s(l):H$(t,n,r)}function li(e,t){return e[t]??null}function Nwe(e){return{tag:"div",cls:e}}var Bwe=class extends Gn{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(Nwe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();co(r);let i;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:c,label:d})=>{const f=x=>{this.dispatchLocalEvent({type:c,event:x})};["apply","clear","reset","cancel"].includes(c)||qe(75);const p=c==="apply",y=kr({tag:"button",attrs:{type:p&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${p?" "+o+"-apply-button":""}`,children:d});this.activateTabIndex([y]),p&&(i=y);const C=x=>{x.key===Ae.ENTER&&(x.preventDefault(),f(x))},b=this.listeners;y.addEventListener("click",f),b.push(()=>y.removeEventListener("click",f)),y.addEventListener("keydown",C),b.push(()=>y.removeEventListener("keydown",C)),s.append(y)};e.forEach(c=>a(c)),this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),r.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Mv(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},Vwe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function mu(e,t,n){return bve(e,Vwe,t,n)}function hI(e,t){const{debounceMs:n}=e;return G1(e)?(n!=null&&qe(71),0):n??t}function G1(e){return(e.buttons?.indexOf("apply")??-1)>=0}var Hwe=class extends Gn{constructor(e,t,n,r,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:i}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&i===o&&kv(r,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(l){const d=s.map(f=>{const p=`${f}Filter`;return{type:f,label:mu(this,p)}});if(this.applyActive=G1(this.params),!c){c=this.createBean(new Bwe),this.appendChild(c.getGui());const f=this.column,p=m=>({event:y})=>{this.updateModel(f,m),this.afterAction(m,y)};c?.addManagedListeners(c,{apply:p("apply"),clear:p("clear"),reset:p("reset"),cancel:p("cancel")}),this.eButtons=c}c.updateButtons(d,a)}else this.applyActive=!1,c&&(Cc(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n&&n.key;let i;(r===Ae.ENTER||r===Ae.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&r&&this.close(t);break}case"reset":{i&&r&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===Ae.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},Gwe={tag:"div",cls:"ag-filter"},Uwe=class extends Gn{constructor(e,t,n){super(Gwe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??an.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const c=!!this.enableGlobalButtonCheck,d=this.createBean(new Hwe(t,s,r,r.updateModel.bind(r),c&&r.isGlobalButtons,c));this.comp=d,l=d.getGui()}else l=a.getGui(),nt(l)||qe(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(co(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},fI="T",zwe=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${fI}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function qa(e,t){return e.toString().padStart(t,"0")}function oo(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>qa(i,2)).join(n);return t&&(r+=fI+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>qa(i,2)).join(":")),r}function Xw(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),qa(e.getDate(),2),qa(e.getHours(),2),`:${qa(e.getMinutes(),2)}`,`:${qa(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,qa(e.getDate(),2)].map(String):null}var eA=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function kD(e,t){if(t==null)return oo(e,!1);const n=qa(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>qa(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${eA(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${eA(e.getDate())}`,DD:()=>qa(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${eA(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function tS(e,t=!1){return!!Ms(e,t)}function jwe(e){return tS(e,!0)}function Ms(e,t=!1){if(!e||!zwe.test(e))return null;const[n,r]=e.split(fI);if(!n)return null;const i=n.split("-").map(p=>parseInt(p,10));if(i.filter(p=>!isNaN(p)).length!==3)return null;const[s,o,a]=i,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!r&&t)return null;if(!r||r==="00:00:00")return l;const[c,d,f]=r.split(":").map(p=>parseInt(p,10));if(c>=0&&c<24)l.setHours(c);else if(t)return null;if(d>=0&&d<60)l.setMinutes(d);else if(t)return null;if(f>=0&&f<60)l.setSeconds(f);else if(t)return null;return l}var F3={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},k3=["january","february","march","april","may","june","july","august","september","october","november","december"];function Wwe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function I3(e){return e instanceof Date&&!isNaN(e.getTime())}var ID={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:I3}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&I3(e.dateParser(t))}),dateTime:e=>ID.date(e),dateTimeString:e=>ID.dateString(e),object:()=>{},text:()=>{}},MD={number:()=>({comparator:Wwe}),boolean:({t:e})=>({valueFormatter:t=>nt(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return nt(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const i=k3[Number(n)-1];return t(i,F3[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>Xw(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const i=e(r);return nt(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>Xw(t.dateParser(r??void 0),!1),treeListFormatter:(r,i)=>{if(i===1&&r!=null){const s=k3[Number(r)-1];return n(s,F3[s])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=MD.date(e);return t.treeListPathGetter=Xw,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=MD.dateString(e);return n.treeListPathGetter=r=>Xw(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return nt(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function $we(e,t,n,r,i,s,o){let a=t,l=n;const c=e==="agSetColumnFilter";!l&&r.baseDataType==="object"&&!c&&(l=({column:m,node:y})=>i({column:m,node:y,value:s.valueSvc.getValue(m,y)}));const f=(c?MD:ID)[r.baseDataType],p=f({dataTypeDefinition:r,formatValue:i,t:o});return a=typeof t=="object"?{...p,...t}:p,{filterParams:a,filterValueGetter:l}}var qwe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},Kwe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Ywe(e,t=!1){return(t?Kwe:qwe)[e??"text"]}var G$="ag-resizer-wrapper",nu=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),Xwe={tag:"div",cls:G$,children:[nu("eTopLeft","topLeft"),nu("eTop","top"),nu("eTopRight","topRight"),nu("eRight","right"),nu("eBottomRight","bottomRight"),nu("eBottom","bottom"),nu("eBottomLeft","bottomLeft"),nu("eLeft","left")]},Qwe=class extends Me{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0;const f=yl(this.element);if(f){const p=this.findBoundaryElement(),m=window.getComputedStyle(p);if(m.minWidth!=null){const y=p.offsetWidth-this.element.offsetWidth;d=parseInt(m.minWidth,10)-y}if(m.minHeight!=null){const y=p.offsetHeight-this.element.offsetHeight;c=parseInt(m.minHeight,10)-y}}if(this.minHeight=s||c,this.minWidth=r||d,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(f&&n){let p=this.boundaryEl,m=!0;if(p||(p=this.findBoundaryElement(),m=!1),p){const y=parseFloat(p.style.top),C=parseFloat(p.style.left);m?this.offsetElement(isNaN(C)?0:C,isNaN(y)?0:y,e):this.setPosition(C,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)H0(n,e),e=A7(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?H0(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,o=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-r.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)cl(t,e),e=$S(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?cl(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=Rc(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,o)?0:o,c=this.shouldSkipY(t,!!r,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=r<0&&e.clientX>a+s.left||r>0&&e.clientX<a+s.left:n?l=r<0&&e.clientX>o.right||r>0&&e.clientX<a+s.left:l=r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=r<0&&e.clientY>a+s.top+n||r>0&&e.clientY<a+s.top:l=r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(kr(Xwe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${G$}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||r,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),f=this.position.x,p=this.position.y;let m=0,y=0;if(a&&c){const C=o?-1:1,b=this.getWidth(),x=b+c*C;let R=!1;o&&(m=b-x,(f+m<=0||x<=this.minWidth)&&(R=!0,m=0)),R||this.setWidth(x)}if(l&&d){const C=r?-1:1,b=this.getHeight(),x=b+d*C;let R=!1;r?(y=b-x,(p+y<=0||x<=this.minHeight)&&(R=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(R=!0),R||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&m||y)&&this.offsetElement(f+m,p+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Zwe="ag-focus-managed",Ig=class extends Me{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=Qh(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(Zwe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||ac(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Dh(t);return}t.key===Ae.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},Jwe=class extends Gn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Ig(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new Qwe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const i=t.state,s=this.state;return this.state=i,(i.model!==s.model||i.state!==s.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=G1(e),this.setupApplyDebounced()}doesFilterPass(e){qe(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return qe(284),this.params.model!=null}setupApplyDebounced(){const e=hI(this.params,this.defaultDebounceMs),t=Di(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return qe(285),this.params.model}setModel(e){qe(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const i=this.params;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return mu(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function ebe(e){return!!e.operator}function tbe(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:o}=v$(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(r=n()),r}var nS={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},pI=class extends Me{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?nS.AUTO_HEIGHT:t.print?nS.PRINT:nS.NORMAL;this.view.updateLayoutClasses(n,t)}},ru="Viewport",M3="fakeVScrollComp",tA=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],O3=100,nA=150,nbe=class extends Me{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Di(this,()=>this.lastScrollSource[1]=null,nA),this.resetLastVScrollDebounced=Di(this,()=>this.lastScrollSource[0]=null,nA)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,ru)});for(const e of tA){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Di(this,this.onVScroll.bind(this,ru),O3):this.onVScroll.bind(this,ru),r=t?Di(this,this.onVScroll.bind(this,M3),O3):this.onVScroll.bind(this,M3);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...tA,ru]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);KS(n,e,this.enableRtl)}}getViewportForSource(e){return e===ru?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=qS(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===ru?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===ru?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},nA)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!ih()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Jk(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of tA)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(ru)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),KS(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(Fi(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!="number"||e<0||e>=i){qe(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const c=this.ctrlsSvc.getGridBodyCtrl(),d=r.getRow(e);let f,p,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:y,stickyBottomHeight:C}=c,b=d.rowTop,x=d.rowHeight,R=o.getPixelOffset(),E=d.rowTop-R,F=E+d.rowHeight,I=this.getVScrollPosition(),_=a.divStretchOffset,D=I.top+_,P=I.bottom+_,k=P-D,B=a.getScrollPositionForPixel(E),N=a.getScrollPositionForPixel(F-k),V=Math.min((B+N)/2,E),G=D+y>E,oe=P-C<F;let le=null;t==="top"?le=B-y:t==="bottom"?le=N+C:t==="middle"?le=V:G?le=B-y:oe&&(N-B>k?le=B-y:le=N+C),le!==null&&(this.setVerticalScrollPosition(le),l.redraw({afterScroll:!0})),f=b!==d.rowTop||x!==d.rowHeight,p=y!==c.stickyTopHeight||C!==c.stickyBottomHeight,m++}while((f||p)&&m<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(d?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const y=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const C=this.getVScrollPosition().top;y!==C&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:r)||i,l=o?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:d,colMiddle:f,colRight:p}=this.getColumnBounds(e);return c?f-s/2:a?o?p:d:o?d-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:n<i,a=s?n<r:t>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?n-i:i,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},gI=class extends Me{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Fi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=r+i+s:(o=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},rbe=class extends Me{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{Ac(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=Jk(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function mI(e,t,n,r,i,s){if(n==null&&t==null)return;const o={},a={},l=(c,d)=>{c.split(" ").forEach(f=>{f.trim()!=""&&d(f)})};if(n){const c=Object.keys(n);for(let d=0;d<c.length;d++){const f=c[d],p=n[f];let m;typeof p=="string"?m=e?e.evaluate(p,r):!0:typeof p=="function"&&(m=p(r)),l(f,y=>{m?o[y]=!0:a[y]=!0})}}t&&s&&Object.keys(t).forEach(c=>l(c,d=>{o[d]||(a[d]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}function L3(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var ibe=class extends Me{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);r(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=Et(r,{data:e.data,node:e,rowIndex:e.rowIndex});mI(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},sbe=0,dx="renderedRow",hx=class extends Me{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+sbe++,this.rowId=Qb(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=L3(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Qb(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){const{context:i,focusSvc:s}=this.beans;r=eC(this,i,r);const o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const d=this.fullWidthGui?.element;d&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),oh(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>n.toggleCss(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&mD(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),_h(t,e.element,dx,this),e.compBean.addDestroyFunc(()=>_h(t,e.element,dx,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Qb(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(bD(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(bD(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,o=!!n||!r.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=$7(this.gos,this.rowNode,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Pp(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(c,d,f)=>{f!=null?r.list.splice(f,0,d):r.list.push(d),r.map[c]=d},s=[];for(const c of t){const d=c.getInstanceId();let f=e.map[d];f&&!this.isCorrectCtrlForSpan(f)&&(f.destroy(),f=void 0),f||(f=this.getNewCellCtrl(c)),f&&i(d,f)}for(const c of e.list){const d=c.column.getInstanceId();if(r.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?s.push([d,c]):c.destroy()}if(s.length)for(const[c,d]of s){const f=r.list.findIndex(m=>m.column.getLeft()>d.column.getLeft()),p=f===-1?void 0:Math.max(f-1,0);i(c,d,p)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!r.map[c]&&a.allCols.includes(l.column)){const f=this.createFocusedCellCtrl();if(f){const p=r.list.findIndex(y=>y.column.getLeft()>f.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);i(c,f,m)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Fi(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=nt(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",i=t==="below",o=this.gos.get("treeData")&&(i||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const c=l.rowComp;c.toggleCss("ag-row-highlight-above",n),c.toggleCss("ag-row-highlight-inside",r),c.toggleCss("ag-row-highlight-below",i),c.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:oc(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:c?.column??r};l?.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||ac(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=ur(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let o=null;!r&&!s&&(o=Qh(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>yl(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{eo(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?r=s==="right"?this.rightGui?.element:this.leftGui?.element:r=this.centerGui?.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(r=>{r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Et(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){ac(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=sh(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:r}=this.beans;n?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,a=s.element,l=e.target;let c=e.defaultPrevented||$h();a&&a.contains(l)&&Zk(l)&&(c=!1),r.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(ac(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:r}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),r?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=Et(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return xCe(s,i);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=o,i.valueFormatted=a,SCe(s,i)}case"FullWidthLoading":return bCe(s,i);default:return wCe(s,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=L3(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(s.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&s.push("ag-row-pinned-source"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,r),o.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=V7(this.gos)?Gu(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Tp(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(ur(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&nt(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(r=>{r.column==e&&(n=r)}),n!=null||t||this.getAllCellCtrls().forEach(r=>{r?.getColSpanningList().indexOf(e)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",r),s.rowComp.toggleCss("ag-row-odd",!r),w7(s.element,i)})}};function U$(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function OD(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=Et(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(o))}function obe(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=r?null:"top";let o,a;i?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:c}=e,d=l.allCols;!c||!d?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var abe=65,lbe=67,cbe=86,ube=68,dbe=90,hbe=89;function fbe(e){const{keyCode:t}=e;let n;switch(t){case abe:n=Ae.A;break;case lbe:n=Ae.C;break;case cbe:n=Ae.V;break;case ube:n=Ae.D;break;case dbe:n=Ae.Z;break;case hbe:n=Ae.Y;break;default:n=e.code}return n}var pbe=class extends Me{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Q7("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){if(!Hv(this.gos,t)||ac(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:I$(t,e),rowCtrl:Z7(t,e,dx)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!OD(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),U$(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell()?.column;if(!OD(this.gos,n,r,a,!1)){const c=n.key;if(t==="keydown")switch(c){case Ae.PAGE_HOME:case Ae.PAGE_END:case Ae.PAGE_UP:case Ae.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case Ae.LEFT:case Ae.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Ae.UP:case Ae.DOWN:e.onKeyboardNavigate(n);break;case Ae.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Hv(this.gos,e))return;const n=fbe(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===Ae.A)return this.onCtrlAndA(e);if(n===Ae.C)return this.onCtrlAndC(r,e);if(n===Ae.D)return this.onCtrlAndD(r,e);if(n===Ae.V)return this.onCtrlAndV(r,e);if(n===Ae.X)return this.onCtrlAndX(r,e);if(n===Ae.Y)return this.onCtrlAndY(i);if(n===Ae.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&Uu(i)&&t.isRowsToRender()?obe(this.beans):r&&r?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:K7(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},z$=class extends Me{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},Qw=e=>e.topRowCtrls,Zw=e=>e.getStickyTopRowCtrls(),Jw=e=>e.getStickyBottomRowCtrls(),eb=e=>e.bottomRowCtrls,tb=e=>e.allRowCtrls,rA=e=>e.getCtrls("top"),iA=e=>e.getCtrls("center"),sA=e=>e.getCtrls("bottom"),gbe={center:{type:"center",name:"center-cols",getRowCtrls:tb,getSpannedRowCtrls:iA},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:tb,getSpannedRowCtrls:iA},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:tb,getSpannedRowCtrls:iA},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:tb},topCenter:{type:"center",name:"floating-top",getRowCtrls:Qw,getSpannedRowCtrls:rA},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Qw,getSpannedRowCtrls:rA},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Qw,getSpannedRowCtrls:rA},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Qw},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Zw},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Zw},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Zw},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Zw},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Jw},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Jw},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Jw},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Jw},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:eb,getSpannedRowCtrls:sA},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:eb,getSpannedRowCtrls:sA},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:eb,getSpannedRowCtrls:sA},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:eb}};function j$(e){return`ag-${rC(e).name}-viewport`}function rS(e){const t=rC(e);return t.container??`ag-${t.name}-container`}function mbe(e){return`ag-${rC(e).name}-spanned-cells-container`}function rC(e){return gbe[e]}var vbe=["topCenter","topLeft","topRight"],ybe=["bottomCenter","bottomLeft","bottomRight"],Cbe=["center","left","right"],wbe=["center","left","right","fullWidth"],bbe=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Sbe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],xbe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],W$=["stickyTopCenter","stickyTopLeft","stickyTopRight"],$$=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Ebe=[...W$,"stickyTopFullWidth",...$$,"stickyBottomFullWidth"],Tbe=[...vbe,...ybe,...Cbe,...W$,...$$],Rbe=class extends Me{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=rC(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new rbe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new pbe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(Sbe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(xbe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(wbe,()=>this.createManagedBean(new z$(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(Tbe,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(bbe,()=>this.createManagedBean(new gI(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(Ebe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=Fi(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ov(this.eViewport)}getCenterViewportScrollLeft(){return qS(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=Rc(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return D7(this.eViewport)}getViewportScrollLeft(){return qS(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||P7(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){KS(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Fi(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},Abe="ag-force-vertical-scroll",_be="ag-selectable",Dbe="ag-column-moving",Pbe=class extends Me{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${j$("center")}`),this.eFullWidthContainer=n.querySelector(`.${rS("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${rS("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${rS("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new pI(this.comp)),this.scrollFeature=this.createManagedBean(new nbe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=T7()?16:0,i=`calc(100% + ${n+r}px)`;Ac(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=sh(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),o=sh(i,"ag-root",t);sh(r,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Dbe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(_be,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Abe:null,n=Fi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&F7(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&Tp(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const d of[t,n,r,i])this.addManagedElementListeners(d,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&Hv(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=i-s,a=n?o+n:0,l=r?o+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=r+s;n.setStickyBottomBottom(`${o}px`)}},q$=class extends Gn{constructor(e,t){super(),this.direction=t,this.eViewport=Ct,this.eContainer=Ct,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",x7()||ih())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=T7(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Ac(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;qve(()=>yl(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},Fbe={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},kbe=class extends q${constructor(){super(Fbe,"horizontal"),this.eLeftSpacer=Ct,this.eRightSpacer=Ct,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new gI(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),cl(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),cl(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),H0(this.getGui(),s),H0(this.eViewport,s),H0(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return qS(this.eViewport,this.enableRtl)}setScrollPosition(e){yl(this.eViewport)||this.attemptSettingScrollPosition(e),KS(this.eViewport,e,this.enableRtl)}},Ibe={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},Mbe=class extends q${constructor(){super(Ibe,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new z$(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),cl(this.getGui(),i),cl(this.eViewport,i),cl(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!yl(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Qa(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function vI(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=r.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=Obe(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function Obe(e,t){let r=e.colModel.isPivotMode()?Nbe(e):Y$(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>r&&o.isAutoHeaderHeight()&&(r=a)}return r}function yI(e){let n=e.colModel.isPivotMode()?Lbe(e):iC(e);return e.colModel.forAllCols(r=>{const i=r.getAutoHeaderHeight();i!=null&&i>n&&r.isAutoHeaderHeight()&&(n=i)}),n}function iC(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function K$(e){return e.gos.get("floatingFiltersHeight")??iC(e)}function Y$(e){return e.gos.get("groupHeaderHeight")??iC(e)}function Lbe(e){return e.gos.get("pivotHeaderHeight")??iC(e)}function Nbe(e){return e.gos.get("pivotGroupHeaderHeight")??Y$(e)}var Bbe=class extends Me{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=r;i&&this.createManagedBean(new Ig(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Ac(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=vI(e).reduce((s,o)=>s+o,0),r=yI(e);if(e.filterManager?.hasFloatingFilters()&&(t+=K$(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||ag(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case Ae.LEFT:t="LEFT";case Ae.RIGHT:{nt(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Ae.UP:t="UP";case Ae.DOWN:{nt(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(ur(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},CI=class extends Me{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Fn(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=nt(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!Fi(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const o=r.bodyWidth;return s+o+t}return s+t}setLeft(e){if(nt(e)&&(this.eCell.style.left=`${e}px`),Fr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Lve(this.ariaEl,t.length)}}},Vbe=0,X$="headerCtrl",wI=class extends Me{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Vbe++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r&&r.suppressHeaderKeyboardEvent;if(!nt(i))return!1;const s=Et(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return ur(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=f=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:y,borderTopWidth:C}=qh(this.eGui),b=p+m+y+C,R=t.offsetHeight+b;if(f<5){const E=hi(i),F=!E||!E.contains(t),I=R==0;if(F||I){bD(()=>s(f+1),"raf",i);return}}this.setColHeaderHeight(this.column,R)};let o=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!o&&c(),!f&&o&&d()},c=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=Rc(this.beans,t,()=>s(0))},d=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>d()),r.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(P$(e,t,n.visibleCols),b7(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=ch(this.beans);this.eGui&&eo(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=ur(this.beans),n=e.key===Ae.LEFT||e.key===Ae.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===Ae.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===Ae.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Ae.PAGE_DOWN:case Ae.PAGE_UP:case Ae.PAGE_HOME:case Ae.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=X$,{eGui:n,gos:r}=this;_h(r,n,t,this),e.addDestroyFunc(()=>_h(r,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Hbe=class extends wI{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:f}=a,p=eC(this,c,i);this.setGui(t,p),this.updateState(),this.setupWidth(p),this.setupMovingCss(p),this.setupMenuClass(p),this.setupSortableClass(p),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:p}),this.addColumnHoverListener(p),this.setupFilterClass(p),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(p),this.setupSelectAll(p),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=p.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):or(n,!1),d?.createHoverFeature(p,[o],t),f?.createRangeHighlightFeature(p,o,e),p.createManagedBean(new CI(o,t,a)),p.createManagedBean(new Ig(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(p),p.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),p.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),p.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();p.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),p.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Et(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return mCe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return Et(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||to(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Ae.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===Ae.ENTER&&this.onEnterKeyDown(e),e.key===Ae.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();N3(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),dwe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=D$(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.toggleCss(i,!0)}),r.forEach(i=>this.comp.toggleCss(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=vI(this.beans),s=i.reduce((p,m)=>p+=m,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=yI(r);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,d=i.length-c;let f=0;for(let p=0;p<d;p++)f+=i[i.length-1-p];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${l+f}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Tve(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!to(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(ur(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return N3(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function N3(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Gbe=0,oA=class extends Me{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Gbe++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=Fi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=eC(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Fi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=vI(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=yI(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=K$(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.ctrlsById.set(r,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new Hbe(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},Ube=class extends Me{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const f=r.headerGroupRowCount;i=f;const p=this.groupsRowCtrls.length;if(p!==f){if(p>f){for(let m=f;m<p;m++)this.destroyBean(this.groupsRowCtrls[m]);this.groupsRowCtrls.length=f;return}for(let m=p;m<f;m++){const y=this.createBean(new oA(m,this.pinned,"group"));this.groupsRowCtrls.push(y)}}},a=()=>{const f=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new oA(f,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==f&&this.columnsRowCtrl.setRowIndex(f)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}e||f();const p=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==p&&this.filtersRowCtrl.setRowIndex(p):this.filtersRowCtrl=this.createBean(new oA(p,this.pinned,"filter"))},c=this.getAllCtrls();o(),a(),l();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,s),c.length!==d.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(r=>r.column===e);if(zu(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new gI(e=>this.comp.setCenterWidth(`${e}px`),!0))}},zbe=class extends Me{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(V3(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){V3(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(to(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&zu(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(ih()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!to(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!to(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return to(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,r)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,r)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),Ac(a,()=>{const c=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);c&&e?.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(r),n,s,r)})}}};function B3(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function V3(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&to(r)?t:n}var bI=class extends Gn{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},U1=class extends bI{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},Q$=class extends Gn{constructor(){super()}},jbe={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},Wbe=class extends Q${init(){const e=oc(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??jbe),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},$be={tag:"span",cls:"ag-overlay-no-rows-center"},qbe=class extends Q${init(){const e=oc(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??$be),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function Kbe(e,t,n){const r=Vo(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const i=kr({tag:"span"});return i.appendChild(r),i}function Vo(e,t,n){let r=null;e==="smallDown"?qe(262):e==="smallLeft"?qe(263):e==="smallRight"&&qe(264);const i=n&&n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const s=t.gos.get("icons");s&&(r=s[e])}if(r){let s;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else{qe(38,{iconName:e});return}if(typeof s=="string")return eI(s);if(nI(s))return s;qe(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),kr({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var Ybe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Xbe={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Qbe=class extends Gn{constructor(){super(),this.dragSource=null,this.eIcon=Ct,this.eLabel=Ct,this.eGhost=Ct,this.registerCSS(Ybe)}postConstruct(){const e=t=>Kbe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Xbe),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:r,dropIconMap:i,gos:s}=this;co(n);let o=null;e||(e=r?.getDefaultIconName?r.getDefaultIconName():"notAllowed"),o=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===i.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},Zbe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Jbe=class extends Gn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Zbe)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;co(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(or(t,!1),Rh(t,"presentation")):(or(t,!0),Rh(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(YS(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Mv(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Z$=class extends Jbe{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||Rve(e)!==null?Iv(e,""):Iv(e,t??"")}setAriaLabel(e){return rg(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return cl(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function eSe(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Yd=class extends Z${constructor(e,t,n="text",r="input"){super(e,e?.template??eSe(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Ct,this.eWrapper=Ct,this.eInput=Ct}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,eo(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return YS(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return eo(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return rg(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Mv(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)eo(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";eo(this.eInput,"autocomplete",t)}return this}},SI=class extends Yd{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},xI={selector:"AG-CHECKBOX",component:SI},tSe=".ag-checkbox-cell{height:100%}",nSe={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},rSe=class extends Gn{constructor(){super(nSe,[xI]),this.eCheckbox=Ct,this.registerCSS(tSe)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),y7(r,"polite"),this.addManagedListeners(r,{click:i=>{if(Dh(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Dh(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===Ae.SPACE&&!t.isDisabled()){e.eGridCell===ur(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const f=i.getColId();f.startsWith(V1)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[f]!==void 0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!i?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),c=B1(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(d)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0});const s=r.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},H3=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Yo(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=oSe(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;const s=j7(n);s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(r=>e(r)?n.delete(r):n.add(r)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function J$(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?J$(t):!1}function aA(e,t){const{gos:n,rowModel:r,filterManager:i}=e;return Kh(n)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!J$(t):n.get("pivotMode")?!t.group:!1}function iSe(e){return!!e.footer&&e.level===-1}function sSe(e){return!!e.pinnedSibling&&iSe(e.pinnedSibling)}function oSe(e){const t=e.findIndex(sSe);if(t>-1)return e.splice(t,1)?.[0]}var G3=class extends Me{postConstruct(){const{gos:e,beans:t}=this;this.top=new H3(t,"top"),this.bottom=new H3(t,"bottom");const n=i=>aA(t,i.pinnedSibling),r=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),i||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(lSe),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,uSe(this.beans);return}const r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&cSe(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;lA(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=U3(this.beans,e,t),a=this.getContainer(t);a.add(o),aA(this.beans,e)&&a.hide(l=>aA(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Gu(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return z3(this.top)}getPinnedBottomTotalHeight(){return z3(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const i=this.beans.rowModel.getRowNode(r);i?this.pinRow(i,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const i=this.beans.rowModel.getRowNode(r);i&&n.add(i)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!jr(e))return;const i=r.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),lA(s)),!o||o.floating!==n){const a=U3(t,i,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),lA(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>aSe(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function aSe(e,t){let n=0;t.forEach((r,i)=>{r.setRowTop(n),(r.rowHeightEstimated||r.rowHeight==null)&&r.setRowHeight(Gu(e,r).height),r.setRowIndex(i),n+=r.rowHeight})}function U3(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=Mwe(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const i=n==="top"?uI:dI;return r.id=`${i}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function lA(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function lSe(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function cSe(e,t,n){const{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function z3(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function uSe({gos:e,rowModel:t}){jr(e)&&t.refreshModel({step:"map"})}var j3=class extends Me{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Jm(this.pinnedBottomRows,t),Jm(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Gu(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return Jm(this.pinnedBottomRows,n),t=0,Jm(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=ig(this.gos),i=t==="top"?uI:dI,s=new Set(n.order),o=[],a=new Set;let l=0,c=-1;for(const d of e){const f=r?.({data:d,level:0,rowPinned:t})??i+this.nextId++;if(a.has(f)){qe(96,{id:f,data:d});continue}c++,a.add(f),o.push(f);const p=U0(n,f);if(p!==void 0)p.data!==d&&p.updateData(d),l+=this.setRowTopAndRowIndex(p,l,c),s.delete(f);else{const m=new kh(this.beans);m.id=f,m.data=d,m.rowPinned=t,l+=this.setRowTopAndRowIndex(m,l,c),n.cache[f]=m,n.order.push(f)}}s.forEach(d=>{U0(n,d)?.clearRowTopAndRowIndex(),delete n.cache[d]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Gu(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return W3(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return W3(this.pinnedBottomRows)}getPinnedTopRowCount(){return ND(this.pinnedTopRows)}getPinnedBottomRowCount(){return ND(this.pinnedBottomRows)}getPinnedTopRow(e){return LD(this.pinnedTopRows,e)}getPinnedBottomRow(e){return LD(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return U0(this.getCache(t),e)}forEachPinnedRow(e,t){return Jm(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function W3(e){const t=ND(e);if(t===0)return 0;const n=LD(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function U0(e,t){return e.cache[t]}function LD(e,t){return U0(e,e.order[t])}function Jm(e,t){e.order.forEach((n,r)=>{const i=U0(e,n);i&&t(i,r)})}function ND(e){return e.order.length}var dSe=class extends Me{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=j7(e),s=!!n||(r==="pinnedBottom"||r==="pinnedTop"),o=s?this.inner instanceof j3:this.inner instanceof G3;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new G3:new j3))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},hSe="ROOT_NODE_ID",fSe=class extends Me{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=hSe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=ig(this.gos),r=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let c=!1,d=!1,f=!1,p=!1;for(let y=0,C=-1,b=t.length;y<b;y++){const x=t[y];let R=this.getRowNode(n({data:x,level:0}));if(!R)c=!0,R=this.createRowNode(x,-1),i.add(R);else{if(r){const E=R.sourceRowIndex;p||(p=E<=C||c),C=E}R.data!==x&&(f=!0,R.updateData(x),i.update(R))}s.add(R)}const m=[];for(let y=0;y<l;y++){const C=a[y];s.has(C)||(d=!0,C.isSelected()&&m.push(C),C.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(C.pinnedSibling,null),this.rowNodeDeleted(C),i.remove(C))}if(c||d||p){const y=new Array(s.size);let C=0;if(!r)for(let x=0;x<l;++x){const R=a[x];s.delete(R)&&(R.sourceRowIndex=C,y[C++]=R)}for(const x of s)x.sourceRowIndex=C,y[C++]=x;o.allLeafChildren=y;const b=o.sibling;b&&(b.allLeafChildren=y),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=p)}(c||d||p||f)&&(this.deselectNodes(m),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[],i=ig(this.gos);return this.executeRemove(i,e,n,r),this.executeUpdate(i,e,n,r),this.executeAdd(e,n),this.deselectNodes(r),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let r=this.rootNode.allLeafChildren,i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let f=0;f<r.length;f++)if(r[f]?.rowIndex==i-1){i=f+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let d=0;d<s;d++){const f=this.createRowNode(n[d],i+d);o.add(f),a[d]=f}const l=this.rootNode;if(i<r.length){const d=r.slice(0,i),f=r.slice(i,r.length),p=d.length+a.length;for(let m=0,y=f.length;m<y;++m)f[m].sourceRowIndex=p+m;r=[...d,...a,...f],t.rowsInserted=!0}else r=r.concat(a);l.allLeafChildren=r;const c=l.sibling;c&&(c.allLeafChildren=r),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(c=>{const d=this.lookupRowNode(e,c);d&&(d.isSelected()&&i.push(d),d.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(d.pinnedSibling,null),d.clearRowTopAndRowIndex(),o[d.id]=!0,delete this.allNodesMap[d.id],r.remove.push(d),n.remove(d))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!o[c.id])??null,a.allLeafChildren?.forEach((c,d)=>{c.sourceRowIndex=d});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&i.push(a),r.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,r=e.length>0;r&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),r&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new kh(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&qe(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const r=e({data:t,level:0});if(n=this.allNodesMap[r],!n)return kn(4,{id:r}),null}else if(n=this.rootNode?.allLeafChildren?.find(r=>r.data===t),!n)return kn(5,{data:t}),null;return n||null}},pSe={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},gSe=class extends Gn{constructor(){super(pSe,[xI]),this.eCheckbox=Ct}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=B1(e,r),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(r,!0),n.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Dh,click:r=>{Dh(r),this.beans.selectionSvc?.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?QR(r):void 0,o=typeof i=="object"?QR(i):void 0;s!==o&&this.onSelectableChanged()}),TD(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const f=n?.callbackParams;if(!e)o=s({...f,node:t,data:t.data});else{const p=e.createColumnFunctionCallbackParams(t);o=s({...f,...p})}}else o=s??!1;const a=i&&!o||!i&&o,l=i||o,c=r.get("rowSelection"),d=c&&typeof c!="string"?!QR(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?d:!0)),this.setDisplayed(l&&(a?d:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Rp(t):this.column?.getColDef()?.checkboxSelection}},mSe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r?.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return Fo(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=Fo(n,"bottom",void 0,e),s=r.getRowCount(),o=r.getRow(s-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return Fo(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=Fo(n,"top",t,void 0),s=Fo(n,"bottom",void 0,e),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return Fo(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=Fo(n,"top",e,void 0),s=Fo(n,"bottom",void 0,t),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return Fo(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=Fo(n,"bottom",void 0,t),s=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},vSe=class extends Me{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(ur(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new SI);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Rh(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(r)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue(),o=B1(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${a} (${o})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return JS(this.gos)?!0:(qe(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return jr(t)||Kh(t)?!0:(qe(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return eq(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=K7(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function eq({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;if(typeof r=="object"){const l=rd(n),c=oI(n);(QS(r)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(o=Yb(r))}else typeof s=="function"?o=s(Et(e,{column:n,colDef:i})):o=!!s;return o}var ySe=class extends Me{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new mSe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=TD(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=TD(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new gSe}createSelectAllFeature(e){if(eq(this.beans,e))return new vSe(e)}isMultiSelect(){return JS(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",r);const s=i.element;vD(s,r),s.contains(ur(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(r,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!nC(e)||!oh(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Nv(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const i=e.childrenAfterGroup[r];let s=i.isSelected();if(!i.selectable){const o=this.calculateSelectedFromChildren(i);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...kwe(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=rd(e)&&Rp(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),a=Nv(i),l=cye(i),c=uye(i),d=this.isMultiSelect(),f=r==="rowClicked";if(f&&!(l||c))return null;if(t&&n&&d){const p=s.getRoot();if(p)if(p.isSelected()){const m=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=s.extend(e,a);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&d){const p=s.selectAll?this.beans.rowModel.getRow(0):void 0,m=s.getRoot(p),y=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:y.keep,deselect:y.discard,reset:s.selectAll||!!(m&&!m.isSelected())}}else if(n){if(f){const p=!o;return p&&!l||!p&&!c?null:(s.setRoot(e),{node:e,newValue:p,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!d}}else{s.setRoot(e);const p=dye(i),m=ex(i)==="filteredDescendants",y=f&&(!p||!l);if(m&&o===void 0&&jr(i))return{node:e,newValue:!1,clearSelection:!d||y};if(f){const C=o?!p:l;return C===o&&!y||C&&!l||!C&&!c?null:{node:e,newValue:C,clearSelection:!d||y,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!d||y}}}},CSe=class extends SI{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Zh=class extends Yd{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=nt(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{U$(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const r=n.clipboardData?.getData("text");r&&r.split("").some(i=>!e.test(i))&&n.preventDefault()}})}},z1={selector:"AG-INPUT-TEXT-FIELD",component:Zh},wSe=class extends Yd{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},bSe={selector:"AG-INPUT-TEXT-AREA",component:wSe},EI=class extends Zh{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){ur(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=parseFloat(e).toFixed(n);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,eo(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,eo(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,eo(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(nt(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},SSe={selector:"AG-INPUT-NUMBER-FIELD",component:EI},xSe=class extends Zh{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=$h();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){ur(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?oo(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,eo(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?oo(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,eo(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,eo(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Ms(this.getValue())??void 0}setDate(e,t){this.setValue(oo(e??null,this.includeTime),t)}},tq={selector:"AG-INPUT-DATE-FIELD",component:xSe},ESe=class extends Gn{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Ae.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case Ae.DOWN:case Ae.UP:e.preventDefault(),this.navigate(t);break;case Ae.PAGE_DOWN:case Ae.PAGE_UP:case Ae.PAGE_HOME:case Ae.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Ae.DOWN;let n;const{itemEls:r,highlightedEl:i}=this;if(!i)n=r[t?0:r.length-1];else{let o=r.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),r.length-1),n=r[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===Ae.PAGE_HOME?a=0:e===Ae.PAGE_END?a=i:e===Ae.PAGE_DOWN?a=Math.min(r+o,i):e===Ae.PAGE_UP&&(a=Math.max(r-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Cc(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();Rh(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{kve(t,n+1),Fve(t,e.length)})}renderOption(e,t){const n=kr({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),r=kr({tag:"span",children:t});n.appendChild(r),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!yl(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),vD(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>n+r||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!yl(e)||(e.classList.remove(this.activeClass),vD(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},TSe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",RSe={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},ASe=class extends Z${constructor(e){if(super(e,e?.template||RSe,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ct,this.eWrapper=Ct,this.eDisplayField=Ct,this.eIcon=Ct,this.registerCSS(TSe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=Vo(n,this.beans);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),mD(e,!1),this.ariaRole&&Rh(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Ae.UP:case Ae.DOWN:case Ae.ENTER:case Ae.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Ae.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,f={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const C=U7(c);this.beforeHidePicker(),C&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:d};e.style.position="absolute";const p=c.popupSvc,m=p.addPopup(f);l?(o&&(e.style.minWidth=o),e.style.width=tI($S(d)),a&&(e.style.maxWidth=a)):YS(e,a??$S(d));const y=s??`${Jk(p.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,o=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();mD(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return YS(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},_Se=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",TI=class extends ASe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(_Se)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Kb(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new ESe("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),Hve(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===Ae.TAB&&this.hidePicker(),t){case Ae.ENTER:case Ae.UP:case Ae.DOWN:case Ae.PAGE_UP:case Ae.PAGE_DOWN:case Ae.PAGE_HOME:case Ae.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Ae.ESCAPE:super.onKeyDown(e);break;case Ae.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},DSe={selector:"AG-SELECT",component:TI},Fp={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},nq=class extends Me{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:f,handleKeyDown:p,isEmpty:m,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=y,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=p,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new Ig(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Dp(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=hi(this.beans),n=Dp(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const o=n.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return f===a?1:d===a?-1:d===0?1:f===0?-1:d-f}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Dp(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Qh(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},PSe=class extends Me{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],s={setTabIndex:b=>{i.forEach(x=>b!=null?x.setAttribute("tabindex",b):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C}=e;this.tabGuardCtrl=this.createManagedBean(new nq({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:C}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=hi(this.beans).createElement("div"),n=e==="top"?Fp.TAB_GUARD_TOP:Fp.TAB_GUARD_BOTTOM;return t.classList.add(Fp.TAB_GUARD,n),Rh(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];co(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){nI(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Cc(e),Cc(t),super.destroy()}},FSe=class extends Gn{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new PSe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},Vd=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Th,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",r,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!k$(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},kSe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},rq=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${I7}/${this.frameworkName}-data-grid`,Yve(this.baseDocLink)}setInterval(e,t){return new an(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){let i={};if(typeof r=="object"?i=r:typeof r=="boolean"&&(i={capture:r}),i.passive==null){const s=J7(t);s!=null&&(i.passive=s)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function ISe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var MSe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],$3=Object.fromEntries(MSe.map((e,t)=>[e,t]));function OSe(e,t){const n=(e.beanName?$3[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?$3[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function LSe(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var NSe=class extends Me{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),O$(this.gos,t),this.createManagedBean(new pI(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=Rc(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){return F$(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,a=Fn(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(Fn(n),e);const o=Fn(s);if(r.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||ch(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(Fh(n[o].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!H1(e)||!ch(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=ur(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Fh(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Mt=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},q3={dispatchEvent:"CommunityCore",...Mt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Mt("GridState",{getState:0,setState:0}),...Mt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Mt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Mt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Mt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Mt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Mt("ValueCache",{expireValueCache:0}),...Mt("CellApi",{getCellValue:0}),...Mt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Mt("Sort",{onSortChanged:0}),...Mt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Mt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Mt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Mt("HighlightChanges",{flashCells:0}),...Mt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Mt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Mt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Mt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Mt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Mt("ColumnResize",{setColumnWidths:0}),...Mt("ColumnHover",{isColumnHovered:0}),...Mt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Mt("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Mt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Mt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Mt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Mt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Mt("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Mt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Mt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Mt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Mt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Mt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Mt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Mt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Mt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Mt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Mt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Mt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Mt("ContextMenu",{showContextMenu:0}),...Mt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Mt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Mt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Mt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Mt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Mt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Mt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Mt("StatusBar",{getStatusPanel:0})},cA={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},BSe=(e,t)=>e.eventSvc.dispatchEvent(t),iq=class{};Reflect.defineProperty(iq,"name",{value:"GridApi"});var VSe=class extends Me{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new iq,this.fns={...cA,dispatchEvent:BSe},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(q3))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:r}=this;n!==cA&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)qe(26,{fnName:e,preDestroyLink:r});else{const i=q3[e];n.assertModuleRegistered(i,`api.${e}`)&&qe(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=cA,this.beans=null}};function HSe(e){return e.context.getGridId()}function GSe(e){e.gridDestroySvc.destroy()}function USe(e){return e.gridDestroySvc.destroyCalled}function zSe(e,t){return e.gos.get(t)}function jSe(e,t,n){sq(e,{[t]:n})}function sq(e,t){e.gos.updateGridOptions({options:t})}function WSe(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var $Se={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},qSe=class extends Gn{constructor(e,t,n){super($Se),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Vo("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),s){const a=Et(i,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function KSe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function YSe(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function XSe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function QSe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function ZSe(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=r?.rowIndex;s==null||i==="none"?n.clear():n.set(r,i)}var JSe=class extends Me{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},exe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},txe=class extends Gn{constructor(e,t,n,r,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:r}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(exe),this.getGui().appendChild(Vo("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=r.get("rowDragManaged")?new rxe(this,t,n):new nxe(this,t,n);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const r=this.getDragItem(),i=r.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},oq=class extends Me{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let r=!t,i=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;i=typeof l=="function",r=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}i?(a.setDisplayed(!0,n),a.setVisible(r&&!t,n)):(a.setDisplayed(r,n),a.setVisible(!t,n))}}},nxe=class extends oq{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},rxe=class extends oq{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,r=e.rowDragFeature,i=r&&r.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=i&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},Uv=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const o=r[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},ixe=class extends Me{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;jr(t)&&(this.clientSideRowModel=e),n.whenReady(this,r=>{const i=r.gridBodyCtrl;let s=0;const o=()=>i.scrollFeature.getVScrollPosition().top;this.autoScrollService=new kSe({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>i.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:r}=this.beans,i=this.isFromThisGrid(e);if(!(r.get("rowDragManaged")&&this.shouldPreventRowMove()))if(r.get("suppressMoveWhenRowDragging")||!i){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Fn(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:r}=e.dragItem,s=r?.length&&(n??r[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,c=l.rootNode,d=D3(o,e).y;let f=l.getRowIndexAtPixel(d),p=l.getRow(f)??null;const m=s!==p;let y=p?(d-p.rowTop-p.rowHeight/2)/p.rowHeight||0:1;const C=this.isFromThisGrid(e),x=Y7(a)!=="group"&&C;let R=null;if(x&&p?.footer){R=p.sibling??c;const N=z0(l,-1,p)??z0(l,1,p);y=N&&N.rowIndex>p.rowIndex?-.5:.5,p=N??null}let E=y<0,F=!1;if(C&&p){if(m){if(F=r.indexOf(p)>=0,F){const N=sxe(l,f<s.rowIndex,r);N?.parent===p.parent&&(p=N,f=p.rowIndex)}}else{if(Math.abs(y)<=.5)return this.makeGroupThrottleClear(),null;F=!0}(F||!x&&Math.abs(f-s.rowIndex)===1)&&(E=f<s.rowIndex)}const I=this.makeGroupThrottleTarget;I!==null&&I!==p&&this.makeGroupThrottleClear(),p?.expanded&&p.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=p),R===null&&x&&(!p||y>=.5&&p.rowIndex===o.pageBounds.getLastRow()?R=c:this.targetShouldBeParent(p,y,F,r)&&(this.makeGroupThrottled&&(R=p),t&&(R===null||!p.expanded)&&(this.makeGroupThrottleTarget=p,this.makeGroupThrottleStart())),R??(R=p?.parent??c));let _=!1;if(R!==null){if(R===p&&R!==c){_=!0;const N=R.expanded?z0(l,1,p):null;N?.parent===R&&(p=N,_=!1,E=!0)}if(p&&!_){let N=p;for(;N&&N!==c&&N!==R;)p=N,N=N.parent}axe(r,R)&&(R=null)}if(!R&&F&&(x||s===p))return null;const D=_?"inside":E?"above":"below",P={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:C,position:D,source:s,target:p,newParent:R,rows:r};let k=!1;const B=a.get("isRowValidDropPosition");if(B){const N=B(P);N?typeof N=="object"&&(N.rows!==void 0&&(P.rows=N.rows??tx),N.newParent!==void 0&&(P.newParent=N.newParent),N.target!==void 0&&(P.target=N.target),N.position&&(k=!0,P.position=N.position)):P.rows=tx}return(!P.newParent||!P.rows.length)&&!k&&(P.position=E?"above":"below"),P}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,r){const i=e?.rowIndex;if(n||i===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=i+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const c=e.childrenAfterGroup;if(o&&o.parent===e&&c?.length){const d=new Set(r);for(const f of c)if(f.rowIndex!==null&&!d.has(f))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){qe(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){qe(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(n.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(n.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(n.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(n.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{r(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:r,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:r,rowModel:i,gos:s}=n,o=D3(this.beans,t).y,a=o>r.getCurrentPagePixelRange().pageLastPixel;let l=-1,c;return a||(l=i.getRowIndexAtPixel(o),c=i.getRow(l)),Et(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const r=this.managedRowsDrop(e,!1);r&&this.dropRows(r),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const r=ig(this.gos),i=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!i.getRowNode(r?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?K3(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Uv(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:r}){let i=!1;const s=this.clientSideRowModel,o=new Set;for(const d of n){if(d.footer||d.rowTop===null&&d!==s.getRowNode(d.id))continue;if(r&&d.parent!==r){if(oxe(d,r))continue;d.treeParent=r,i=!0}const f=aq(d);f&&o.add(f)}if(!i&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&x0(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(i=!0),i?(this.refreshModelAfterDrop(),c?c.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const r=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let i=K3(t);i<0||i>=r?i=r:n||++i;let s=i,o=Math.min(i,r-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,i,o]}reorderLeafChildren(e,t,n,r){let i=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const c=s[l];e.has(c)||(c.sourceRowIndex!==o&&(c.sourceRowIndex=o,s[o]=c,i=!0),++o)}let a=r;for(let l=r;l>=n;--l){const c=s[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,s[a]=c,i=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,i=!0),++o;return i}},sxe=(e,t,n)=>t?z0(e,-1,n[0]):z0(e,1,Fn(n)),z0=(e,t,n)=>{if(n){const r=e.getRowCount();let i=n.rowIndex+t;for(;i>=0&&i<r;){const s=e.getRow(i);if(!s||!s.footer)return s;i+=t}}},oxe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},axe=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},K3=e=>{const t=aq(e);return t!==void 0?t.sourceRowIndex:-1},aq=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},lxe=class extends Me{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new ixe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,s){return new txe(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(Uu(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!jr(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}},cxe=class extends Me{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,i=t!==this.position,s=r!==this.uiLevel;(n||i||s)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},lq={moduleName:"Drag",version:at,beans:[Pwe]},uxe={moduleName:"DragAndDrop",version:at,dynamicBeans:{dndSourceComp:qSe},icons:{rowDrag:"grip"}},cq={moduleName:"SharedDragAndDrop",version:at,beans:[Dwe],dependsOn:[lq],userComponents:{agDragAndDropImage:Qbe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},dxe={moduleName:"RowDrag",version:at,beans:[cxe,lxe],apiFunctions:{addRowDropZone:KSe,removeRowDropZone:YSe,getRowDropZoneParams:XSe,getRowDropPositionIndicator:QSe,setRowDropPositionIndicator:ZSe},dependsOn:[cq]},hxe={moduleName:"HorizontalResize",version:at,beans:[JSe],dependsOn:[lq]},fxe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",pxe=class extends Me{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function gxe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function mxe(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var vxe=class extends Me{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function yxe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),o=e.indexOf(i);return s-o})}function Cxe(e){const t=[...e];return e.forEach(n=>{let r=null,i=n.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)r=i,i=i.getParent();r!=null&&(!!r.getColGroupDef()?.marryChildren?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function wxe(e,t,n,r){const i=r.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],c=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(c))continue;const d=c.filter(p=>i.includes(p));if(o===null)o=d;else if(!Xh(d,o))break;const f=Sxe(c);(s===null||f<s.fragCount)&&(s={move:l,fragCount:f})}return s}function uq(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:d}=e;let{allMovingColumns:f}=e;t&&(f=Cxe(f));const p=f.slice();yxe(l.getCols(),p);const m=Exe({movingCols:p,draggingRight:n,xPosition:r,pinned:o,gos:a,colModel:l,visibleCols:d}),y=bxe(p,l);if(m.length===0)return;const C=m[0];if(y!==null&&(t||!i)&&!s&&(!n&&C>=y||n&&C<=y))return;const x=wxe(m,p,c,d);if(!x)return;const R=x.move;if(!(R>l.getCols().length-p.length))return{columns:p,toIndex:R}}function dq(e){const{columns:t,toIndex:n}=uq(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function bxe(e,t){const n=t.getCols(),r=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),i=r[0];return Fn(r)-i!==r.length-1?null:i}function Sxe(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function xxe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function Exe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(E=>E.getColDef().suppressMovable))return[];const c=xxe(a,i),d=o.getCols(),f=c.filter(E=>t.includes(E)),p=c.filter(E=>!t.includes(E)),m=d.filter(E=>!t.includes(E));let y=0,C=r;if(n){let E=0;f.forEach(F=>E+=F.getActualWidth()),C-=E}if(C>0){for(let E=0;E<p.length;E++){const F=p[E];if(C-=F.getActualWidth(),C<0)break;y++}n&&y++}let b;if(y>0){const E=p[y-1];b=m.indexOf(E)+1}else b=m.indexOf(p[0]),b===-1&&(b=0);const x=[b],R=(E,F)=>E-F;if(n){let E=b+1;const F=d.length-1;for(;E<=F;)x.push(E),E++;x.sort(R)}else{let E=b;const F=d.length-1;let I=d[E];for(;E<=F&&c.indexOf(I)<0;)E++,x.push(E),I=d[E];E=b-1;const _=0;for(;E>=_;)x.push(E),E--;x.sort(R).reverse()}return x}function BD(e){const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function uA(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var Y3=7,VD=100,nb=VD/2,Txe=5,Rxe=100,Axe=class extends Me{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!nt(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(const i of r){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(o=>i[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&Qn(e.hDirection))return;const a=BD({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,r):this.handleColumnDragWhileAllowingMovement(e,t,n,a,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const r=e.filter(i=>!i.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),c=dq({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let o=null,a=null,l=null;for(const d of s){if(a=d.getActualWidth(),o=this.getNormalisedColumnLeft(d,0,i),o!=null){const f=o+a;if(o<=t&&f>=t){l=d;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=s.length-1;d>=0;d--){const f=s[d],p=s[d].getParent();if(!p){l=f;break}const m=p?.getDisplayedLeafColumns();if(m.length){l=Fn(m);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==i?c=0:c=1,X3(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const l=r.allCols,c=l.indexOf(s),d=l.indexOf(o),f=a===0!==i,p=c<d||c===d&&!f;let m=0;if(f?p&&(m-=1):p||(m+=1),d+m===c)return;const y=l[d+m];if(!y)return;const C=this.getNormalisedColumnLeft(y,20,i);return{fromLeft:p,xPosition:C}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=_xe(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return BD({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>Y3;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=uq(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(X3(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+nb,s=e>r-nb):(s=e<n+nb,i=e>r-nb),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Rxe),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*Txe,e>VD&&(e=VD);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:i,gos:s}=this.beans;if(this.failedMoveAttempts<=Y3+1||!r)return;if(i.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i?.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function X3(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function _xe(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var Dxe=class extends Me{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new Axe(n)),this.bodyDropPivotTarget=this.createManagedBean(new vxe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Pxe=class extends Me{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){qe(30,{toIndex:t});return}s?.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(S3(i.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:r,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!l$(e,t.getColTree())||!(i=>{const s=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return i.forEach(c=>{const d=s(c.getColDef().lockPosition);o?d>a&&(l=!1):d<a&&(l=!1),a=d}),l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return S3(r,e,t),r}createBodyDropTarget(e,t){return new Dxe(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),f=d.left,p=Fr(n),m=p?d.width:n.getActualWidth(),y=e==="left"!==o.get("enableRtl"),C=BD({x:y?f-20:f+m+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:s}),b=c.focusedHeader;dq({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:C,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let x;if(p){const R=n.getDisplayedLeafColumns();x=y?R[0]:Fn(R)}else x=n;if(s.getScrollFeature().ensureColumnVisible(x,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&b){let R;if(p){const E=n.getGroupId(),F=n.getLeafColumns();if(!F.length)return;const I=F[0].getParent();if(!I)return;R=Fxe(I,E)}else R=n;R&&c.focusHeaderPosition({headerPosition:{...b,column:R}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let a=!r.get("suppressDragLeaveHidesColumns");const l=Fr(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>Ixe(t,o.allCols):()=>kxe(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),uA(c,!0)},onDragStopped:()=>uA(c,!1),onDragCancelled:()=>uA(c,!1),onGridEnter:p=>{if(a){const{columns:m=[],visibleState:y}=p??{},C=l?x=>!y||y[x.getColId()]:()=>!0,b=m.filter(x=>!x.getColDef().lockVisible&&C(x));i.setColsVisible(b,!0,"uiColumnMoved")}},onGridExit:p=>{if(a){const m=p?.columns?.filter(y=>!y.getColDef().lockVisible)||[];i.setColsVisible(m,!1,"uiColumnMoved")}}};return s.addDragSource(f,!0),f}};function Fxe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function kxe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function Ixe(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(a=>r[a.getId()]=a.isVisible());const i=[];t.forEach(a=>{n.indexOf(a)>=0&&(i.push(a),Yo(n,a))}),n.forEach(a=>i.push(a));const s=[],o=e.getLeafColumns();for(const a of i)o.indexOf(a)!==-1&&s.push(a);return{columns:i,columnsInSplit:s,visibleState:r,containerType:s[0]?.pinned}}var Mxe={moduleName:"ColumnMove",version:at,beans:[Pxe,pxe],apiFunctions:{moveColumnByIndex:gxe,moveColumns:mxe},dependsOn:[cq],css:[fxe]},Oxe=class extends Me{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),r.appendChild(n);const i=n.offsetWidth;return r.removeChild(n),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}},hq={moduleName:"AutoWidth",version:at,beans:[Oxe]};function Lxe(e,t,n=!0,r="api"){e.colResize?.setColumnWidths(t,!1,n,r)}var Nxe=class extends Me{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=l=>l.reduce((c,d)=>c+d.getActualWidth(),0),n=(l,c)=>l.map(d=>d.getActualWidth()/c),r=this.getColumnsToResize(),i=t(r),s=n(r,i),o={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),c=o.groupAfterColumns=l.filter(f=>f.isResizable()),d=o.groupAfterStartWidth=t(c);o.groupAfterRatios=n(c,d)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:i,ratios:o,width:t}),a){const f=t-s;d.push({columns:a,ratios:c,width:l-f})}this.beans.colResize?.resizeColumnSets({resizeSets:d,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},Bxe=class extends Me{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(or(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),a=i+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:f}=s;if(this.column.getPinned()){const p=c?.leftWidth??0,m=c?.rightWidth??0,y=Ov(d.getGridBodyCtrl().eBodyViewport)-50;if(p+m+(o-r)>y)return}this.lastResizeAmount=o,f?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},Vxe=class extends Me{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)return;if(i.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(c);if(!f)return;const p=c.getActualWidth()-l.newWidth,m=f.getActualWidth()+p;i.push({width:m,ratios:[1],columns:[f]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(d=>Hxe(d)))){if(n){const d=t&&t.length>0?t[0].columns:null;sg(this.eventSvc,d,n,r)}return}const s=[],o=[];t.forEach(d=>{const{width:f,columns:p,ratios:m}=d,y={},C={};p.forEach(R=>o.push(R));let b=!0,x=0;for(;b;){if(x++,x>1e3){kn(31);break}b=!1;const R=[];let E=0,F=f;p.forEach((_,D)=>{if(C[_.getId()])F-=y[_.getId()];else{R.push(_);const k=m[D];E+=k}});const I=1/E;R.forEach((_,D)=>{const P=D===R.length-1;let k;P?k=F:(k=Math.round(m[D]*f*I),F-=k);const B=_.getMinWidth(),N=_.getMaxWidth();k<B?(k=B,C[_.getId()]=!0,b=!0):N>0&&k>N&&(k=N,C[_.getId()]=!0,b=!0),y[_.getId()]=k})}p.forEach(R=>{const E=y[R.getId()];R.getActualWidth()!==E&&(R.setActualWidth(E,r),s.push(R))})});const a=s.length>0;let l=[];if(a){const{colFlex:d,visibleCols:f,colViewport:p}=this.beans;l=d?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],f.setLeftValues(r),f.updateBodyWidths(),p.checkViewportColumns()}const c=o.concat(l);(a||n)&&sg(this.eventSvc,c,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new Bxe(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new Nxe(e,t,n,r)}};function Hxe(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;t.forEach(l=>{const c=l.getMinWidth();r+=c||0;const d=l.getMaxWidth();d>0?i+=d:s=!1});const o=n>=r,a=!s||n<=i;return o&&a}var Gxe={moduleName:"ColumnResize",version:at,beans:[Vxe],apiFunctions:{setColumnWidths:Lxe},dependsOn:[hxe,hq]},Uxe=class extends Me{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},zxe=class extends wI{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,r,i){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:f}=o;this.comp=e,i=eC(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const p=this.rowCtrl.pinned,m=s.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(i,m,t),d?.createRangeHighlightFeature(i,s,e),i.createManagedBean(new CI(s,t,o)),i.createManagedBean(new Uxe(e,s)),f?this.resizeFeature=i.createManagedBean(f.createGroupResizeFeature(e,n,p,s)):e.setResizableDisplayed(!1),i.createManagedBean(new Ig(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,m),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Et(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=Fn(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=i===1,d=i===0;n&&(l?a=c:o=d),r&&(l?o=d:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),o=Et(n,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>r?.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>r?.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),a=yCe(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=D$(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(r=>this.comp.toggleCss(r,!0))}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Ae.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function jxe(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function Wxe(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function $xe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function qxe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function Kxe(e){return e.colGroupSvc?.getColumnGroupState()??[]}function Yxe(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function Xxe(e){e.colGroupSvc?.resetColumnGroupState("api")}function Qxe(e){return e.visibleCols.treeLeft}function Zxe(e){return e.visibleCols.treeCenter}function Jxe(e){return e.visibleCols.treeRight}function e1e(e){return e.visibleCols.getAllTrees()}function t1e(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var n1e=class extends Me{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=dA(this.treeLeft),this.centerCols=dA(this.treeCenter),this.rightCols=dA(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=Kl(this.centerCols),t=Kl(this.leftCols),n=Kl(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?Fn(n):null):(i=t?Fn(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===i,r),o.setFirstRightPinned(o===s,r)})}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new f$,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:r,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return Fr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Fr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(i){let o=Kl(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}t1e(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){const p=c-1;for(let m=1;m<=p;m++)d.push(t[o+m]);o+=p}let f;n?(f=!1,d.forEach(p=>{n(p)&&(f=!0)})):f=!0,f&&(i.length===0&&s&&(r&&r(a))&&i.push(s),i.push(a)),s=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};uh(this.treeCenter,!1,e),uh(this.treeLeft,!1,e),uh(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?Fn(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Kl(this.leftCols)}getDisplayedColumnsRightWidth(){return Kl(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(Fr(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:Fn(s)}else i=e;return(r?n[0]:Fn(n))===i}};function uh(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(Fr(i)){const s=t?i.getDisplayedChildren():i.getChildren();uh(s,t,n)}n(i)}}function dA(e){const t=[];return uh(e,!0,n=>{zu(n)&&t.push(n)}),t}var r1e=class extends Me{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return lc(null,t,n=>{Gi(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];lc(null,t,r=>{if(Gi(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r?.start();const a=[];e.forEach(l=>{const c=l.groupId,d=l.open,f=this.getProvidedColGroup(c);f&&f.isExpanded()!==d&&(f.setExpanded(d),a.push(f))}),i.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),r?.finish()}setColumnGroupOpened(e,t,n){let r;Gi(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return lc(null,this.beans.colModel.getColTree(),n=>{Gi(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?Fn(r):r[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();uh(e,!1,t=>{Fr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Fr(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return uh(n,!1,s=>{if(Fr(s)){const o=s;let a;r?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let d=0;const f=p=>{const m=d;d=p;const y=c[m],b=(Fr(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(b==null){for(let R=m;R<p;R++)a.push(c[R]);return}const x=this.createColumnGroup(b,n,o,r,s);for(let R=m;R<p;R++)x.addChild(c[R]);l.push(x)};for(let p=1;p<c.length;p++){const m=c[p],C=(Fr(m)?m.getProvidedColumnGroup():m).getOriginalParent(),b=c[d],R=(Fr(b)?b.getProvidedColumnGroup():b).getOriginalParent();C!==R&&f(p)}d<c.length&&f(c.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,r,i,s,o){const a=i.getUniqueKey(t.groupId||null,null),l=b3(this.beans,t,a),c=new Zb(l,a,!1,n);this.createBean(c);const d=this.findExistingGroup(t,s);d&&s.splice(d.idx,1);const f=d?.group;f&&c.setExpanded(f.isExpanded());const p=s$(this.beans,l.children,n+1,e,r,i,s,o);return c.setChildren(p),c}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(Gi(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let c=t;c<n;c++){const d=r.getUniqueKey(null,null),f=b3(this.beans,null,d),p=new Zb(f,d,!0,c);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(i.push(a),e.some(d=>Gi(d))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Gi(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(Gi(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(r=>{let i=r;for(let s=t-1;s>=0;s--){const o=new Zb(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(r.originalParent=null),n.push(i)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=N$(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),nt(l)?l.reset():(l=new Gv(e,s,o,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(Fr(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Fr(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}},i1e={moduleName:"ColumnGroup",version:at,dynamicBeans:{headerGroupCellCtrl:zxe},beans:[r1e],apiFunctions:{getAllDisplayedColumnGroups:e1e,getCenterDisplayedColumnGroups:Zxe,getColumnGroup:Wxe,getColumnGroupState:Kxe,getDisplayNameForColumnGroup:qxe,getLeftDisplayedColumnGroups:Qxe,getProvidedColumnGroup:$xe,getRightDisplayedColumnGroups:Jxe,resetColumnGroupState:Xxe,setColumnGroupOpened:jxe,setColumnGroupState:Yxe}},s1e={tag:"div",cls:"ag-skeleton-container"},o1e=class extends Gn{constructor(){super(s1e)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Iv(t.eParentOfValue)),Iv(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");rg(this.getGui(),n)}setupLoading(t){const n=kr({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const o=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${o}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");rg(this.getGui(),s)}refresh(t){return!1}},a1e={moduleName:"CheckboxCellRenderer",version:at,userComponents:{agCheckboxCellRenderer:rSe}},l1e={moduleName:"SkeletonCellRenderer",version:at,userComponents:{agSkeletonCellRenderer:o1e}};function c1e(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function u1e(e){return e.colModel.getColumnDefs()}function d1e(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function h1e(e,t){return e.colModel.getColDefCol(t)}function f1e(e){return e.colModel.getColDefCols()}function p1e(e,t){return ga(e,t,"api")}function g1e(e){return ix(e)}function m1e(e){jye(e,"api")}function v1e(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function y1e(e){return e.visibleCols.isPinningLeft()}function C1e(e){return e.visibleCols.isPinningRight()}function w1e(e,t){return e.visibleCols.getColAfter(t)}function b1e(e,t){return e.visibleCols.getColBefore(t)}function S1e(e,t,n){e.colModel.setColsVisible(t,n,"api")}function x1e(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function E1e(e){return e.colModel.getCols()}function T1e(e){return e.visibleCols.leftCols}function R1e(e){return e.visibleCols.centerCols}function A1e(e){return e.visibleCols.rightCols}function _1e(e){return e.visibleCols.allCols}function D1e(e){return e.colViewport.getViewportColumns()}function HD(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||f7.has(i))return;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=HD(s):r[i]=s}),r}var P1e=class extends Me{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r){const i=e.slice();t?i.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&i.sort((a,l)=>r.indexOf(a)-r.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(i,s,o)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,c=s.getOriginalParent(),d=null;for(;c;){let f=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=i[c.getGroupId()];if(p){p.children.push(l),a=!1;break}if(f=this.createDefFromGroup(c),f&&(f.children=[l],i[f.groupId]=f,l=f,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&r.push(l)}),r}createDefFromGroup(e){const t=HD(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=HD(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},F1e=class extends Me{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:r}=this.beans,i=r.centerCols;let s=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let C=i.length-1;C>=0;C--)if(y.has(i[C])){s=C;break}}let o=!1;const a=i.map((y,C)=>{const b=y.getFlex(),x=b!=null&&b>0&&C>s;return o||(o=x),{col:y,isFlex:x,flex:Math.max(0,b??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,c=a.reduce((y,C)=>y+C.flex,0),d=n;const f=(y,C)=>{y.frozenSize=C,y.col.setActualWidth(C,t),d-=C,c-=y.flex,l-=1},p=y=>y.frozenSize!=null;for(const y of a)y.isFlex||f(y,y.initialSize);for(;l>0;){const y=Math.round(c<1?d*c:d);let C,b=0,x=0;for(const F of a){if(p(F))continue;C=F,x+=y*(F.flex/c);const I=x-b,_=Math.round(I);F.targetSize=_,b+=_}C&&(C.targetSize+=y-b);let R=0;for(const F of a){if(p(F))continue;const I=F.targetSize,_=Math.min(Math.max(I,F.min),F.max);R+=_-I,F.violationType=_===I?void 0:_<I?"max":"min",F.targetSize=_}const E=R===0?"all":R>0?"min":"max";for(const F of a)p(F)||(E==="all"||F.violationType===E)&&f(F,F.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const m=a.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=a.filter(b=>b.initialSize!==b.frozenSize).map(b=>b.col),C=a.filter(b=>b.flex).map(b=>b.col);sg(this.eventSvc,y,!0,t,C)}return m}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},k1e=["dateTimeString","dateString","text","number","boolean","date"],I1e=class extends Me{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===Ae.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=r==null?"":e({column:s,node:null,value:r}),l=i==null?"":e({column:s,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=d=>f=>{const{column:p,node:m,value:y}=f;let C=p.getColDef().valueFormatter;return C===d.groupSafeValueFormatter&&(C=d.valueFormatter),this.beans.valueSvc.formatValue(p,m,y,C)};for(const d of Object.keys(e)){const f=e[d],p={...f,groupSafeValueFormatter:J3(f,this.gos)};t[d]=p,n[d]=r(p)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const d of Object.keys(i)){const f=i[d],p=this.processDataTypeDefinition(f,i,[d],e);p&&(t[d]=p,f.dataTypeMatcher&&(s[d]=f.dataTypeMatcher),n[d]=r(p))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of k1e)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=r[s];const a=t[s];if(o&&a&&(o=a),!Z3(e,o,s))return;i=Q3(o,e)}else{if(n.includes(s)){qe(44);return}const o=t[s];if(!Z3(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],r);if(!a)return;i=Q3(a,e)}return{...i,groupSafeValueFormatter:J3(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){qe(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!jr(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(hA(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(rx(i).some(a=>{const l=s[a.trim()];return l&&hA(l,r)}))return!1}return!hA(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=V0(r,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const d=O1e(a,o);d.rowGroup&&d.rowGroupIndex==null&&(r[s]=d),d.pivot&&d.pivotIndex==null&&(i[s]=d),n.push(d)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&ga(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=RD(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>qe(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,s=n[t];r.colFilter?.setColDefPropsForDataType(e,s,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>Ms(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):oo(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Ms(n)??void 0,dateFormatter:n=>oo(n??null,t)??void 0,valueParser:n=>tS(String(n.newValue))?n.newValue:null,valueFormatter:n=>tS(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&tS(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:gD(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&jwe(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>gD(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function Q3(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...rx(e.columnTypes),...rx(t.columnTypes)]),n}function Z3(e,t,n){return t?t.baseDataType!==e.baseDataType?(qe(46),!1):!0:(qe(45,{parentCellDataType:n}),!1)}function J3(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function M1e(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function hA(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>M1e(e,t,n,r))}function O1e(e,t){const n=h$(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}var L1e={moduleName:"DataType",version:at,beans:[I1e],dependsOn:[a1e]},N1e={moduleName:"ColumnFlex",version:at,beans:[F1e]},fq={moduleName:"ColumnApi",version:at,beans:[P1e],apiFunctions:{getColumnDef:c1e,getDisplayNameForColumn:d1e,getColumn:h1e,getColumns:f1e,applyColumnState:p1e,getColumnState:g1e,resetColumnState:m1e,isPinning:v1e,isPinningLeft:y1e,isPinningRight:C1e,getDisplayedColAfter:w1e,getDisplayedColBefore:b1e,setColumnsVisible:S1e,setColumnsPinned:x1e,getAllGridColumns:E1e,getDisplayedLeftColumns:T1e,getDisplayedCenterColumns:R1e,getDisplayedRightColumns:A1e,getAllDisplayedColumns:_1e,getAllDisplayedVirtualColumns:D1e,getColumnDefs:u1e}};function B1e(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var V1e=class extends Me{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){const s=e.headerValueGetter;if(s){const o=Et(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return B1e(e.field)}return""}},H1e=class extends Me{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=r.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||G1e(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,o=t>i&&n>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return nt(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const i=new Set,s={};for(const o of r){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const d=a.getProvidedColumnGroup().getLevel();s[d]??(s[d]=[]),s[d].push(a),i.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function G1e(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var U1e=class extends Me{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=eI("<span>"+s+"</span>");return}if(s==null){this.eGui=kr({tag:"span"});return}this.eGui=s}}return n}},z1e={moduleName:"CellRendererFunction",version:at,beans:[U1e]},j1e=class extends Me{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(o,a,l,c)=>{this.agGridDefaults[o]=a,(l||c)&&(this.agGridDefaultOverrides[o]={params:l,processParams:c})};for(const o of Object.keys(n)){let a=n[o];if(GCe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:c,processParams:d}=a;s(o,l,c,d)}else s(o,a)}}if(r){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(r))this.dynamicBeans[s]=r[s]}if(i?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,c,d)=>({componentFromFramework:l,component:a,params:c,processParams:d}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const a=r.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(ul(279,{name:e}));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??ul(256));return}return new r(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},W1e=23,$1e=class extends Me{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===W1e&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},q1e=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',RI=typeof window!="object"||!window?.document?.fonts?.forEach,lg=(e,t,n,r,i,s)=>{if(RI)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=kp.map.get(t);if(o||(o=[],kp.map.set(t,o)),o.find(d=>d.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:i};let c;for(const d of o){if(d.priority>i)break;c=d}if(c){c.el.insertAdjacentElement("afterend",a);const d=o.indexOf(c);o.splice(d+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},pq=(e,t,n)=>{lg(q1e,e,"core",t,0,n),Array.from(OCe()).sort((r,i)=>r.moduleName.localeCompare(i.moduleName)).forEach(r=>r.css?.forEach(i=>lg(i,e,`module-${r.moduleName}`,t,0,n)))},K1e=e=>{kp.grids.add(e)},Y1e=e=>{if(kp.grids.delete(e),kp.grids.size===0){kp.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},eH,kp=(eH=typeof window=="object"?window:{}).agStyleInjectionState??(eH.agStyleInjectionState={map:new WeakMap,grids:new Set}),Cl=e=>new gq(e),cu="$default",X1e=0,gq=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[cu]:{...n[cu]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++X1e}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const o of this.cssImports??[])i=`@import url(${JSON.stringify(o)});
${i}`;r={css:i,class:s}}else r=!1;this._inject=r}return r&&e&&lg(r.css,e,r.class,t,1,n),r?r.class:!1}},Q1e=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),mq=e=>`--ag-${Q1e(e)}`,wl=e=>`var(${mq(e)})`,Z1e=(e,t,n)=>Math.max(t,Math.min(n,e)),J1e=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},Ga=e=>({ref:"accentColor",mix:e}),ko=e=>({ref:"foregroundColor",mix:e}),Bo=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),eEe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),As={ref:"backgroundColor"},ip={ref:"foregroundColor"},Yl={ref:"accentColor"},fx={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:ko(.15),chromeBackgroundColor:Bo(.02),browserColorScheme:"light"},tEe={...fx,textColor:ip,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:As,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Yl,rangeSelectionBackgroundColor:Ga(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Ga(.5),rangeHeaderHighlightColor:eEe(.08),rowNumbersSelectedColor:Ga(.5),rowHoverColor:Ga(.08),columnHoverColor:Ga(.05),selectedRowBackgroundColor:Ga(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:As,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:As,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:ko(.7),focusShadow:{spread:3,color:Ga(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:ko(.1),iconButtonActiveColor:Yl,iconButtonActiveBackgroundColor:Ga(.28),iconButtonActiveIndicatorColor:Yl,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Yl,toggleButtonOffBackgroundColor:Bo(.3),toggleButtonSwitchBackgroundColor:As,toggleButtonSwitchInset:2,menuBorder:{color:ko(.2)},menuBackgroundColor:Bo(.03),menuTextColor:Bo(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:ko(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Yl},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:ko(.2)},panelBackgroundColor:As,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:ko(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:ko(.13)},selectCellBackgroundColor:ko(.07),selectCellBorder:{color:ko(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:As,filterPanelApplyButtonBackgroundColor:Yl,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:ip,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:ip,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:ko(.15),statusBarLabelColor:ip,statusBarLabelFontWeight:500,statusBarValueColor:ip,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},nEe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",vq={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},rEe={...vq,cellBatchEditTextColor:"#f3d0b3"},iEe=()=>Cl({feature:"batchEditStyle",params:vq,css:nEe}),sEe=iEe(),oEe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",aEe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},lEe=()=>Cl({feature:"buttonStyle",params:{...aEe,buttonBackgroundColor:As,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Yl}},css:oEe}),cEe=lEe(),uEe=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",dEe=()=>Cl({feature:"columnDropStyle",css:uEe}),yq=dEe(),hEe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],fEe=J1e(e=>(e=e.toLowerCase(),hEe.find(t=>e.endsWith(t.toLowerCase()))??"length")),j1=e=>typeof e=="object"&&e?.ref?wl(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,AI=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=wl(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?wl(e.onto):"transparent"}, ${t} ${Z1e(e.mix*100,0,100)}%)`}return!1},pEe=j1,cp=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${wl(n)} `)})`:e&&"ref"in e?wl(e.ref):!1,gEe=j1,GD=(e,t)=>typeof e=="string"?e:e===!0?GD({},t):e===!1?t==="columnBorder"?GD({color:"transparent"},t):"none":e&&"ref"in e?wl(e.ref):Cq(e.style??"solid")+" "+cp(e.width??{ref:"borderWidth"})+" "+AI(e.color??{ref:"borderColor"}),mEe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?wl(e.ref):[cp(e.offsetX??0),cp(e.offsetY??0),cp(e.radius??0),cp(e.spread??0),AI(e.color??{ref:"foregroundColor"})].join(" "),Cq=j1,wq=e=>typeof e=="string"?e.includes(",")?e:tH(e):e&&"googleFont"in e?wq(e.googleFont):e&&"ref"in e?wl(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),tH(t))).join(", "):!1,tH=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),vEe=j1,bq=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?bq({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?wl(e.ref):!1,yEe=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&kn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?wl(e.ref):!1,CEe={color:AI,colorScheme:pEe,length:cp,scale:gEe,border:GD,borderStyle:Cq,shadow:mEe,image:bq,fontFamily:wq,fontWeight:vEe,duration:yEe},wEe=(e,t)=>{const n=fEe(e);return CEe[n](t,e)},bEe=()=>new Sq().withPart(cEe).withPart(yq).withPart(sEe),Sq=class xq{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof gq?new xq([...this.parts,t]):(b0(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Cl({feature:t}))}withParams(t,n=cu){return this.withPart(Cl({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:i}){if(RI)return;xEe(),pq(t,n,r);const s=SEe(this);if(s.length>0)for(const o of s)i&&TEe(o,r);for(const o of this.parts)o.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=nH(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[cu]:{...tEe}};for(const r of nH(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const o=n[i]??(n[i]={}),a=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(o[l]=c,a.add(l))}if(i===cu)for(const l of Object.keys(n)){const c=n[l];if(l!==cu)for(const d of a)delete c[d]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==cu){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=f,s+=f}for(const d of Object.keys(c).sort()){const f=c[d],p=wEe(d,f);if(p===!1)kn(107,{key:d,value:f});else{const m=mq(d),y=m.replace("--ag-","--ag-inherited-");i+=`	${m}: var(${y}, ${p});
`,s+=`	${y}: var(${m});
`}}l!==cu&&(i+=`}
`,s+=`}
`)}let a=`${n} {
${i}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=a}return r.replaceAll(n,`:where(.${t})`)}},nH=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},SEe=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},rH=!1,xEe=()=>{if(!rH){rH=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},EEe=new Set,TEe=async(e,t)=>{EEe.add(e);const n=`@import url('https://${REe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;lg(n,document.head,`googleFont:${e}`,void 0,0,t)},REe="fonts.googleapis.com",AEe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',_Ee=()=>Cl({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:As,checkboxUncheckedBorderColor:Bo(.3),checkboxCheckedBackgroundColor:Yl,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:As,checkboxIndeterminateBackgroundColor:Bo(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:As,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:AEe}),DEe=_Ee(),Eq=()=>({...fx,...rEe,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Bo(.05),rowHoverColor:Ga(.15),selectedRowBackgroundColor:Ga(.2),menuBackgroundColor:Bo(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:ip,findMatchColor:As,findActiveMatchColor:As,checkboxUncheckedBorderColor:Bo(.4),toggleButtonOffBackgroundColor:Bo(.4),rowBatchEditBackgroundColor:Bo(.1)}),PEe=()=>({...Eq(),backgroundColor:"#1f2836"}),FEe=()=>Cl({feature:"colorScheme",params:fx,modeParams:{light:fx,dark:Eq(),"dark-blue":PEe()}}),kEe=FEe(),Tq={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},Rq={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},IEe=(e={})=>{let t="";for(const n of[...Object.keys(Tq),...Object.keys(Rq)]){const r=MEe(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},MEe=(e,t=1.5)=>{const n=Rq[e];if(n)return n;const r=Tq[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},OEe=(e={})=>Cl({feature:"iconSet",css:()=>IEe(e)}),LEe=OEe(),NEe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',BEe=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",VEe={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},HEe=()=>Cl({feature:"inputStyle",params:{...VEe,inputBackgroundColor:As,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Yl},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Bo(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>NEe+BEe}),GEe=HEe(),UEe='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',zEe={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},jEe=()=>Cl({feature:"tabStyle",params:{...zEe,tabBarBorder:!0,tabBarBackgroundColor:ko(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:As},css:UEe}),WEe=jEe(),$Ee=()=>bEe().withPart(DEe).withPart(kEe).withPart(LEe).withPart(WEe).withPart(GEe).withPart(yq).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),qEe=$Ee(),KEe={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},YEe={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},XEe={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},iH={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},sH={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},oH={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},fA={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},aH={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},QEe=0,ZEe=class extends Me{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++QEe}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(iH),this.getSizeEl(sH),this.getSizeEl(oH),this.getSizeEl(fA),this.getSizeEl(aH),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>Y1e(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(aH)}getRowBorderWidth(){return this.getCSSVariablePixelValue(fA)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(iH)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(sH)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(KEe)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(YEe),n=this.getCSSVariablePixelValue(XEe);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(oH)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let r=this.eGridDiv;for(;r;){let i=!1;for(const s of Array.from(r.classList))s.startsWith("ag-theme-")&&(i=!0,n=n?`${n} ${s}`:s);i&&this.mutationObserver.observe(r,{attributes:!0,attributeFilter:["class"]}),r=r.parentElement}}for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){const r=e.className;e.className=r+(r?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?lg(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===pA?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=kr({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=kr({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${pA}px)`)):t.style.width=`var(${e.cssName}, ${pA}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&qe(9,{variable:e});const o=Rc(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(fA);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:r}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const o=i??qEe;o instanceof Sq?s=o:kn(240,{theme:o})}if(s!==r){if(s){K1e(this),pq(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)lg(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=kr({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}RI||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&kn(i?106:239)}},pA=15538,JEe=class extends Me{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new Th}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(Et(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(Et(this.gos,e))}};function Aq(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var eTe=class extends Me{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=hi(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=i?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Fn(a||[]).type==="filter",c=Qa(this.beans)-1;let d=-1,f=n;for(;f;)d++,f=f.getParent();let p=d;return t&&l&&p===c-1&&p++,p===-1?null:{headerRowIndex:p,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:s}=i,o=i.column,a=Qa(this.beans),l=this.getHeaderRowType(s),c=r.headerGroupRowCount;let{headerRowIndex:d,column:f,headerRowIndexWithoutSpan:p}=e==="UP"?tTe(l,o,s):nTe(o,s,c),m=!1;return d<0&&(d=0,f=o,m=!0),d>=a?(d=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!m&&!f?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:f},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s={...r.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const c=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:d}=r.focusedHeader||{};d!=null&&d!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let s=null,o;const a=Qa(r),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=Fn(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:d}=Aq(this.beans,s,o);return d>=a&&(d=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:d},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Fr(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?Fn(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof Gv){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?r.getColBefore(i):r.getColAfter(i);if(!s)return;const o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof Yh&&s.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function tTe(e,t,n){const r=n-1;if(e!=="filter"){const i=t instanceof Yh&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>r||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function nTe(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof Gv){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let o=e.getDisplayedChildren()[0];if(o instanceof Gv&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}i.column=o,o instanceof Yh&&o.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var rTe=class extends Me{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(uwe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(ur(this.beans),X$)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=ur(this.beans);return this.isDomDataPresentInHierarchy(e,ux)?!0:this.isDomDataPresentInHierarchy(e,dx)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(H7(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:oc(r),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:x$(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),ch(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){const l=this.focusedHeader,c=Qa(this.beans);if(n){const d=this.gos.getCallback("tabToNextHeader");d&&(a=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{const d=this.gos.getCallback("navigateToNextHeader");if(d&&i){const f={key:i.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:i};a=d(f)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(ch(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,o=Qa(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return a===!0?r:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:d}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});d?.scrollToColumn(o,n);const p=c.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return d&&p&&(i!=null||r)&&(d.currentHeaderRowWithoutSpan=i??-1),p}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=Aq(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Qa(this.beans)-1,n=Fn(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===oc(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Fh(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(H1(this.beans))return t&&!ch(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:ag(this.beans,t);const i=t?KCe(this.beans):qCe(this.beans);if(i){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=i,l=wc(this.beans,i);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const c=this.gos.get("enableRtl");let d;return!r||r.key===Ae.TAB?d=c?Ae.LEFT:Ae.RIGHT:d=r.key,this.beans.navigation?.navigateToNextCell(null,d,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:oc(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Qa(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},iTe=class extends Me{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:Uve();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},sTe=class extends Me{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},iS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),oTe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],_I=oTe.reduce((e,t)=>(e[t]=pye(t),e),{}),e0=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),aTe={tag:"span",cls:"ag-sort-indicator-container",children:[e0("Order","order"),e0("Asc","ascending-icon"),e0("Desc","descending-icon"),e0("Mixed","mixed-icon"),e0("None","none-icon")]},DI=class extends Gn{constructor(e){super(),this.eSortOrder=Ct,this.eSortAsc=Ct,this.eSortDesc=Ct,this.eSortMixed=Ct,this.eSortNone=Ct,e||this.setTemplate(aTe)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=Vo(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(r);if(e&&or(e,o==="asc",{skipAriaHidden:!0}),t&&or(t,o==="desc",{skipAriaHidden:!0}),n){const a=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),l=o==null;or(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;$a(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";or(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=i>=0&&s;or(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():co(e)}},lTe={selector:"AG-SORT-INDICATOR",component:DI},zv=["asc","desc",null],cTe=class extends Me{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=$a(i);let a=[e];if(o&&e.getColDef().showRowGroup){const f=s?.getSourceColumnsForGroupColumn?.(e)?.filter(p=>p.isSortable());f&&(a=[e,...f])}a.forEach(d=>this.setColSort(d,t,r));const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),c=[];if(!l){const d=this.clearSortBarTheseColumns(a,r);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(r,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=$a(t),s=r?.getShowRowGroupCol(e.getId()),o=i&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(d=>this.setColSortIndex(d,null));const l=a.filter(d=>i&&d.getColDef().showRowGroup?!1:d!==o);(o.getSort()?[...l,o]:l).forEach((d,f)=>this.setColSortIndex(d,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??zv,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(c=>{c.getSort()&&i.push(c)}),t.isPivotMode()){const c=$a(e);i=i.filter(d=>{const f=!!d.getAggFunc(),p=!d.isPrimary(),m=c?n?.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return f||p||m})}const s=r?.columns.filter(c=>!!c.getSort())??[],o={};i.forEach((c,d)=>o[c.getId()]=d),i.sort((c,d)=>{const f=c.getSortIndex(),p=d.getSortIndex();if(f!=null&&p!=null)return f-p;if(f==null&&p==null){const m=o[c.getId()],y=o[d.getId()];return m>y?1:-1}else return p==null?-1:1});const a=$a(e)&&!!s.length;a&&(i=[...new Set(i.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);const l=new Map;return i.forEach((c,d)=>l.set(c,d)),a&&s.forEach(c=>{const d=n.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=$a(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-r<50;o||l||this.progressSortFromEvent(t,s)}});const i=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new DI(e)}getSortIndicatorSelector(){return lTe}},Ip={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},uTe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),dTe={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?Ip[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:Ip[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?Ip[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},hTe=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return ul(262);if(t.smallLeft)return ul(263);if(t.smallRight)return ul(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(i=>!zv.includes(i));if(r.length>0)return`sortingOrder must be an array with elements from [${zv.map(XS).join()}], currently it includes [${r.map(XS).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),fTe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},pTe=()=>Object.keys(fTe),gTe=()=>({objectName:"colDef",allProperties:pTe(),docsUrl:"column-properties/",deprecations:uTe(),validations:hTe()}),mTe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],vTe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],yTe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],_q=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],CTe=["theme","rowSelection"],wTe=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],Dq=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],bTe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],STe=()=>[...yTe,...vTe,...mTe,..._q,...bTe,...Dq,...wTe,...CTe],xTe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Ba(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var ETe={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},TTe=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Ba("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Ba("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Ba("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:i}){return n&&(r||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return ul(262);if(n.smallLeft)return ul(263);if(n.smallRight)return ul(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Ba("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Ba("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Ba("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Ba("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Ba("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!zv.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${zv.map(XS).join()}], currently it includes [${i.map(XS).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!i&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Ba("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Ba("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n?.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,i=["default","legacy"];return r&&!i.includes(r)?`renderingMode must be one of [${i.join()}], currently it's ${r}`:null}}},t={};return Dq.forEach(n=>{t[n]={expectedType:"boolean"}}),_q.forEach(n=>{t[n]={expectedType:"number"}}),gs(t,e),t},RTe=()=>({objectName:"gridOptions",allProperties:[...STe(),...Object.values(_I)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:xTe(),validations:TTe()}),ATe=0,_Te=0,DTe=class extends Me{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=_Te++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Th,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=iS.has(t);if(r&&!e||!r&&e||!PTe(t))return;const i=(s,o)=>{const a=_I[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??g7[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return nt(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:ATe++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(n,a);const c=t||typeof l=="object"&&n==="api",d=s[a];if(c||d!==l){s[a]=l;const f={type:a,currentValue:l,previousValue:d,changeSet:r,source:n};i.push(f)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(a=>a.type),i.forEach(a=>{Ah(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,ETe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,dTe),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||kn(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:lI(),rowModelType:this.get("rowModelType"),isUmd:BCe()}}isModuleRegistered(e){return AD(e,this.gridId,this.get("rowModelType"))}};function PTe(e){return!!_I[e]}function Pq(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var FTe=Pq(!0),kTe=Pq(!1),ITe=class extends Gn{constructor(){super(...arguments),this.eFilter=Ct,this.eFilterButton=Ct,this.eSortIndicator=Ct,this.eMenu=Ct,this.eLabel=Ct,this.eText=Ct,this.eSortOrder=Ct,this.eSortAsc=Ct,this.eSortDesc=Ct,this.eSortMixed=Ct,this.eSortNone=Ct,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};gs(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?FTe:kTe}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=vCe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Fg(t))}addInIcon(e,t,n){const r=Vo(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Cc(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=to(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,o=t.column,a=to(n);if(e&&!a){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;r.attachCustomElements(i,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();or(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return Cc(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},MTe={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},OTe=class extends Gn{constructor(){super(MTe),this.agOpened=Ct,this.agClosed=Ct,this.agLabel=Ct,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&qe(89)}workOutInnerHeaderGroupComponent(e,t){const n=CCe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(ac(l))return;const c=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const s=l=>{Dh(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();or(e,r),or(t,!r)}else or(e,!1),or(t,!1)}addInIcon(e,t){const n=Vo(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;or(t,!1),or(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;nt(t)&&!r&&(this.agLabel.textContent=Fg(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},LTe={moduleName:"ColumnHeaderComp",version:at,userComponents:{agColumnHeader:ITe},icons:{menu:"menu",menuAlt:"menu-alt"}},NTe={moduleName:"ColumnGroupHeaderComp",version:at,userComponents:{agColumnGroupHeader:OTe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},BTe=class extends Me{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&qe(92)}createTask(e,t,n,r,i=!1){this.verify();let s=n;r&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,c=n.list,d=r.list,f=Date.now();let p=0;const m=e<=0,y=o.getScrollFeature();for(;m||p<e;){if(!y.scrollGridIfNeeded()){let b;if(l.length)this.sortTaskList(t),b=l.pop().task;else if(c.length)this.sortTaskList(n),b=c.pop().task;else if(d.length)a.wrapOutgoing(()=>{for(;(m||p<e)&&!y.scrollGridIfNeeded();){if(d.length)this.sortTaskList(r),b=d.pop().task,b();else break;p=Date.now()-f}}),b=()=>{};else if(i.length)b=i.pop();else break;b()}p=Date.now()-f}l.length||c.length||d.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Ac(this.beans,e)}isQueueEmpty(){return!this.ticking}},VTe={moduleName:"AnimationFrame",version:at,beans:[BTe]},HTe=class extends Me{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!ih())return;const t=(n,r,i)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(i?.target??null);o?.column&&o.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!ih()||Q7("dblclick"))return!1;const r=Date.now(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:o}=e,a=new Vd(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&nt(s)&&i.enableMenu,d=c?new Vd(s,!0):a;if(i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){const f=c?"tap":"longTap",p=m=>i.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(d,{[f]:p})}if(i.enableSorting){const f=p=>{const m=p.touchStart.target;l&&(s?.contains(m)||o?.contains(m))||n?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:f})}if(i.enableFilterButton&&o){const f=new Vd(o,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new Vd(t.eGridHeader,!0),r=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new Vd(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!ih())return;const r=new Vd(t),i=s=>{Hv(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},GTe={moduleName:"Touch",version:at,beans:[HTe]},UTe=class extends Me{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Ae.UP,r=e===Ae.DOWN,i=e===Ae.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:c,pinnedRowModel:d}=this.beans,{rowPinned:f}=t;if(n||r)f&&d?n?o=0:o=f==="top"?d.getPinnedTopRowCount()-1:d.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const p=l.get("enableRtl");o=t.rowIndex,s=(i!==p?c.allCols:[...c.allCols].reverse()).find(y=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:y}))}return s?{rowIndex:o,rowPinned:f,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case Ae.UP:n=this.getCellAbove(n);break;case Ae.DOWN:n=this.getCellBelow(n);break;case Ae.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Ae.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,qe(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=R3(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=ox(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];const a=R3(this.beans,e);if(Qn(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=Fn(i);const l=ox(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Qn(l)||!l.rowPinned&&!(r?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function zTe(e){return e.focusSvc.getFocusedCell()}function jTe(e){return e.focusSvc.clearFocusedCell()}function WTe(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function $Te(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function qTe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function KTe(e,t,n=!1){const r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var YTe=class extends Me{constructor(){super(),this.beanName="navigation",this.onPageDown=v3(this.onPageDown,100),this.onPageUp=v3(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=_we(this.gos,e);let a=!1;switch(n){case Ae.PAGE_HOME:case Ae.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case Ae.LEFT:case Ae.RIGHT:case Ae.UP:case Ae.DOWN:if(!o)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case Ae.PAGE_DOWN:case Ae.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Ae.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;nt(n)&&!n.isPinned()&&a.ensureColumnVisible(n),nt(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){const t=this.beans,n=gA(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,a=i.getPixelOffset(),l=n.top+r,c=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=gA(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,o=r.getPixelOffset(),a=n.top,l=i.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),o=r.getFirstRow(),a=r.getLastRow(),l=r.getPixelOffset(),c=i.getRow(e.rowIndex),d=n?c?.rowHeight-s-l:s-l,f=c?.rowTop+d;let p=i.getRowIndexAtPixel(f+l);if(p===e.rowIndex){const y=n?-1:1;t=p=e.rowIndex+y}let m;n?(m="bottom",p<o&&(p=o),t<o&&(t=o)):(m="top",p>a&&(p=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(p))&&(t=p,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=s.getRow(l);if(c){const d=c.rowHeight??0;if(a+d>r)break;a+=d}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=gA(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r,rowPinned:i}=n,s=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s,rowPinned:i})}onHomeOrEndKey(e){const t=e===Ae.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,o=t?r.getFirstRow():r.getLastRow(),a=i.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||ch(i)?ag(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof Pp&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||ag(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let o=x0(n,s);return!o&&(o=i.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){const{editSvc:i,focusSvc:s}=this.beans;let o;const a=e instanceof Pp?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?o=i?.moveToNextCell(a,t,n,r):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof hx){if(i={...e.getRowPosition(),column:t?r[0]:Fn(r)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(i.column=o.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Pp)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return nt(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:d}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const f=a.getCallback("tabToNextCell");if(nt(f)){const C=f({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(C===!0)i=e;else{if(C===!1)return!1;i={rowIndex:C.rowIndex,column:C.column,rowPinned:C.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const y=Qa(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:y+i.rowIndex,column:i.column},fromCell:!0}),null}const p=a.get("editType")==="fullRow";if(n&&(!p||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const m=x0(s,i);if(!m){const y=c.getRowByPosition(i);if(!y||!y.isFullWidth()||n)continue;return{...y.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(i),d?.setRangeToCell(i),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===Ae.LEFT&&(i=this.getLastCellOfColSpan(i)):t===Ae.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),s=Qn(i);if(s&&e&&e.key===Ae.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const f=c.getCallback("navigateToNextCell");if(nt(f)){const m=f({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});nt(m)?i={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:i=null}}if(!i)return;if(i.rowIndex<0){const f=Qa(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const d=this.getNormalisedPosition(i);d?this.focusPosition(d):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=x0(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,o=n.allCols,a=r.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Fn(o):o[0])};this.focusPosition(c);const d=t??(l!=null&&WCe(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!wc(this.beans,e)}getLastCellOfColSpan(e){const t=x0(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Fn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=z7(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&Qn(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function gA(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var XTe={moduleName:"KeyboardNavigation",version:at,beans:[YTe,UTe,eTe],apiFunctions:{getFocusedCell:zTe,clearFocusedCell:jTe,setFocusedCell:WTe,setFocusedHeader:KTe,tabToNextCell:$Te,tabToPreviousCell:qTe}},QTe=class extends Me{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},ZTe=class extends Me{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},JTe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",eRe=class extends Me{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(or(n,t),cl(n,e))}},tRe=class extends Me{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=Fi(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ov(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let o=i;!o.length&&!s||(r&&(o=r({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!Au(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new eRe(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(Fi(o,"print")){qe(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(c=>{if(!c)return;const d=r.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}),l.length&&(s.refresh(n),u$(this.eventSvc,l,n)),i?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&n||!l&&r)?s+c:s;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=Ov(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,c=0;const d=0,f=[];let p=r-d-e;for(;(c<o.length||l<a.length)&&p>0;){if(l<a.length){const m=a[l++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}if(c<o.length&&p>0){const m=o[c++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}}return{columns:f,hasLockedPinned:i}}},nRe={moduleName:"PinnedColumn",version:at,beans:[tRe],css:[JTe]},rRe=class extends Me{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Di(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=hi(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),y7(n,"polite"),_ve(n,"additions text"),Ave(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(co(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},iRe={moduleName:"Aria",version:at,beans:[rRe]};function sRe(e){e.overlays?.showLoadingOverlay()}function oRe(e){e.overlays?.showNoRowsOverlay()}function aRe(e){e.overlays?.hideOverlay()}var lRe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",cRe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},Fq=class extends Gn{constructor(){super(cRe),this.eOverlayWrapper=Ct,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(lRe)}handleKeyDown(e){if(e.key!==Ae.TAB||e.defaultPrevented||ac(e))return;const t=this.beans;if(Qh(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:Fn(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=ag(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:s}=nS;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new pI(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=ur(this.beans);i&&!U7(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:o})=>{s.refresh?.(Et(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&Fh(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),co(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=ur(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},uRe={selector:"AG-OVERLAY-WRAPPER",component:Fq},dRe=class extends Me{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=jr(this.gos),this.isServerSide=!this.isClientSide&&Kh(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){qe(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return uRe}getOverlayWrapperCompClass(){return Fq}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(RCe(this.beans.userCompFactory,Et(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(ACe(this.beans.userCompFactory,Et(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},hRe={moduleName:"Overlay",version:at,userComponents:{agLoadingOverlay:Wbe,agNoRowsOverlay:qbe},apiFunctions:{showLoadingOverlay:sRe,showNoRowsOverlay:oRe,hideOverlay:aRe},beans:[dRe]},fRe=class extends Me{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Gve(),Ah(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Ah(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},pRe=400,gRe=class extends Me{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},r=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Uu(this.gos)?n():r()}),Uu(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:i})=>{(!i&&r||i&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.getShowRowGroupCols();r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Fi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new mRe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Fi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));r?.forEachPinnedRow(t,(l,c)=>{const d=e[c];d&&r.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in o&&n?(e[c]=o[l.id],delete o[l.id]):e[c]=new hx(l,i,!1,!1,s)});const a=(t==="top"?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const i=r[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&Tp(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(ul(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Qa(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Et(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=ox(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(r);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};r=ox(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=UD(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return zD(i,t)})}getCellCtrls(e,t){let n;nt(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);nt(s)&&(n[s.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const s=this.stickyRowFeature;s&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const d=s.extraTopHeight+s.extraBottomHeight;d&&this.updateContainerHeights(d)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),i!=null)){const d=t?.getFocusCellToUseAfterRefresh();i!=null&&d==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const i=o=>{const a=o.rowNode.rowIndex;a==null||a===r||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))i(o);if(e)for(const o of Object.values(e))i(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i?.active&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=UD(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!zD(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),nt(i)&&nt(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),nt(i))s=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(r=>r()),pRe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=ah(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const d=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),p=this.gos.get("suppressRowVirtualisation");let m=!1,y,C;do{const F=t.getPixelOffset(),{pageFirstPixel:I,pageLastPixel:_}=t.getCurrentPagePixelRange(),D=e.divStretchOffset,P=f.getVScrollPosition(),k=P.top,B=P.bottom;p?(y=I+D,C=_+D):(y=Math.max(k+F-d,I)+D,C=Math.min(B+F+d,_)+D),this.firstVisibleVPixel=Math.max(k+F,I)+D,this.lastVisibleVPixel=Math.min(B+F,_)+D,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,C)}while(m);let b=n.getRowIndexAtPixel(y),x=n.getRowIndexAtPixel(C);const R=t.getFirstRow(),E=t.getLastRow();b<R&&(b=R),x>E&&(x=E),r=b,i=x}const s=Fi(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&i-r>a&&(i=r+a);const l=r!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Ac(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),s=this.editSvc?.isEditing(e),o=r.detail;return i||s||o?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;const i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new hx(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},mRe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Yo(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Yo(this.entriesList,e)}getEntries(){return this.entriesList}};function UD(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}function zD(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var vRe=class extends Me{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=$a(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=$a(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(r,a.column),d=this.getValue(i,a.column);let f;const p=this.getComparator(a,r);if(p?f=p(c,d,r,i,l):f=Sve(c,d,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(W7(s,r.isPivotActive())){const c=e.allLeafChildren?.[0];return c?n.getValue(t,c,!1):void 0}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function yRe(e){e.sortSvc?.onSortChanged("api")}var kq={moduleName:"Sort",version:at,beans:[cTe,vRe],apiFunctions:{onSortChanged:yRe},userComponents:{agSortIndicator:DI},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},CRe=class extends Me{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Ah(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Ap(e.source))}}};function wRe(e){e.valueCache?.expire()}function bRe(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Qn(s))return null;const o=e.valueSvc.getValueForDisplay(s,r,i);return i?o.valueFormatted??Fg(o.value):o.value}var SRe="paste",xRe=class extends Me{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;jr(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===SRe||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!r.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Uv(a,o);l.addParentNode(r.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{i.push(c),c.sibling&&i.push(c.sibling)})}n.refreshCells({rowNodes:i})}},ERe=class extends Me{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);kn(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return kn(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},TRe=class extends Me{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},RRe={moduleName:"ValueCache",version:at,beans:[TRe],apiFunctions:{expireValueCache:wRe}},ARe={moduleName:"Expression",version:at,beans:[ERe]},_Re={moduleName:"ChangeDetection",version:at,beans:[xRe]},DRe={moduleName:"CellApi",version:at,apiFunctions:{getCellValue:bRe}},rb={checkSiblings:!0},PRe=class extends Me{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Kh(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const C=s.getGroupValue(t,e);if(C==null)return{value:null,valueFormatted:null};if(!n)return{value:C.value,valueFormatted:null};const b=s.formatAndPrefixGroupColValue(C,e,r);return{value:C.value,valueFormatted:b}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),d=t.group&&t.expanded&&!t.footer&&!c,f=this.gos.get("groupSuppressBlankHeader")||!t.sibling,p=d&&!f,m=this.getValue(e,t,p,i),y=n&&!(r&&e.colDef.useValueFormatterForExport===!1);return{value:m,valueFormatted:y?this.formatValue(e,t,m):null}}getValue(e,t,n=!1,r="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId();let a=t.data;if(this.hasEdit&&r==="ui"){const C=this.editSvc;if(C.isRowEditing(t,rb)&&(a=C.getRowDataValue(t,rb)),C.isEditing()){const b=C.getCellDataValue({rowNode:t,column:e},!0);if(b!==void 0)return b}}let l;const c=i.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;const d=typeof c!="string"||!t.group,f=t.groupData&&o in t.groupData,p=!n&&t.aggData&&t.aggData[o]!==void 0,m=this.isSsrm&&n&&!!i.aggFunc,y=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&p)l=t.aggData[o];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=V0(a,s,e.isFieldContainsDots());else if(f)l=t.groupData[o];else if(p)l=t.aggData[o];else if(i.valueGetter&&!m){if(!d)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(y)l=V0(a,t.field,e.isFieldContainsDots());else if(s&&a&&!m){if(!d)return l;l=V0(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const C=l.substring(1);l=this.executeValueGetter(C,a,e,t)}return l}parseValue(e,t,n,r){const i=e.getColDef(),s=i.valueParser;if(nt(s)){const o=Et(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return nt(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(r?a=r:i&&(a=l.valueFormatter),a){let c=t?t.data:null;if(t){const f={rowNode:t};if(this.hasEdit){const p=this.editSvc;p.isEditing(f,rb)&&(c=p.getRowDataValue(t,rb))}}const d=Et(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof a=="function"?o=a(d):o=s?s.evaluate(a,d):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,r){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;Qn(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(Qn(s)&&Qn(o))return qe(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return qe(135),!1;const a=Et(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(nt(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const c=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,c,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===n,i||(o[a]=n)):o=o[a]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){const i=Et(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=this.expressionSvc?.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=Et(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&qe(121)),i}},FRe={moduleName:"CommunityCore",version:at,beans:[sTe,VSe,j1e,Qye,fRe,n1e,JEe,DTe,Kye,ZTe,QTe,gRe,PRe,rTe,ZEe,iTe,$1e,CRe,V1e,H1e],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:HSe,destroy:GSe,isDestroyed:USe,getGridOption:zSe,setGridOption:jSe,updateGridOptions:sq,isModuleRegistered:WSe},dependsOn:[L1e,Mxe,Gxe,kq,LTe,i1e,NTe,hRe,_Re,VTe,XTe,nRe,iRe,GTe,z1e,N1e,ARe,l1e]};function jD(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e;let s=(n??[]).map((l,c)=>({value:l,relevance:kRe(t,l),idx:c}));if(s.sort((l,c)=>l.relevance-c.relevance),r&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const c=s[0].relevance*i;s=s.filter(d=>c-d.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function kRe(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[];const i=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=i;a++){r[0]=a;for(let l=1;l<=s;l++){const c=e[a-1],d=t[l-1];if(c.toLocaleLowerCase()===d.toLocaleLowerCase())++o,c===d&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<i/2-10&&++o,r[l]=n[l-1];else{const f=r[l-1],p=n[l],m=n[l-1];r[l]=1+Math.min(f,p,m)}}[n,r]=[r,n]}return n[s]/(o+1)}var Iq={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},mA=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],IRe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:mA,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...mA,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...mA,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},MRe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function ORe(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(r=>{const i=IRe[r];i?i.forEach(s=>{const o=MRe[s];(!o||o===t)&&n.push(s)}):n.push(r)}),n}var Mq=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,LRe=e=>{const t=e.map(r=>`import { ${j0(r)} } from '${Iq[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>j0(r,!0)).join(", ")} ]); 

For more info see: ${Ep}/modules/`};function j0(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function NRe(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>Iq[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function Oq({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var lH=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:o})=>{const a=ORe(t,i),l=typeof e=="string"?e:GRe[e];if(o)return NRe(l,a);const c=a.filter(p=>p==="IntegratedCharts"||p==="Sparklines"),d=c.length>0?`${c.map(p=>j0(p)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(p=>j0(p)).join(", "):j0(a[0])} is not registered${n?" for gridId: "+r:""}. ${d} Check if you have registered the module:
`}
${LRe(a)}`+(s?` 

${s}`:"")},cH=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,BRe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,VRe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${BRe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(r??[]).filter(a=>!!r[a])],o=jD({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Ep}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=jD({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:lH,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Ep}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>cH("IntegratedChartsModule"),258:()=>cH("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>lH({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Ip[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Ep}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>Mq(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:Oq,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function HRe(e,t){const n=VRe[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${N7(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var GRe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},uH=new WeakMap,dH=new WeakMap,URe=1,zRe=class{create(e,t,n,r,i,s){const o=p7.applyGlobalGridOptions(t),a=o.gridId??String(URe++),l=this.getRegisteredModules(i,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(e,o,i);if(!c)return;const p={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:OSe,beanDestroyComparator:LSe,derivedBeans:[ISe],destroyCallback:()=>{dH.delete(y),uH.delete(e),s?.()}},m=new UCe(p);this.registerModuleFeatures(m,l),n(m),m.getBean("syncSvc").start(),r?.(m);const y=m.getBean("gridApi");return uH.set(e,y),dH.set(y,e),y}getRegisteredModules(e,t,n){return Vv(FRe,void 0,!0),e?.modules?.forEach(r=>Vv(r,t)),MCe(t,hH(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const s=i.apiFunctions;s&&Object.keys(s).forEach(a=>{r?.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;Qn(r)&&(r=new rq);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=hH(e),s=r[i];if(!s){b0(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!NCe()){b0(272,void 0,Mq());return}if(!e){const a=Object.entries(r).filter(([l,c])=>AD(c,n,l));if(a.length==1){const[l,c]=a[0];if(l!==i){const d={moduleName:c,rowModelType:l};b0(275,d,Oq(d));return}}}if(!AD(s,n,i)){b0(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:s,gridScoped:lI(),gridId:n,rowModelType:i},`Missing module ${s}Module for rowModelType ${i}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function hH(e){return e??"clientSide"}function Tl(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function W1(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Lq(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var jRe=class extends Me{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(r,i,s)=>t({key:r,defaultValue:i,variableValues:s});const n=e.get("localeText");return(r,i,s)=>{let o=n&&n[r];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??i}}};function WRe(e,t=!1){const n=[],r=[],i=[],s=[],o=[],a=[],l=[],c=[],d=[];let f=0;for(let p=0;p<e.length;p++){const{colId:m,sort:y,sortIndex:C,rowGroup:b,rowGroupIndex:x,aggFunc:R,pivot:E,pivotIndex:F,pinned:I,hide:_,width:D,flex:P}=e[p];d.push(m),y&&(n[C??f++]={colId:m,sort:y}),b&&(r[x??0]=m),typeof R=="string"&&i.push({colId:m,aggFunc:R}),E&&(s[F??0]=m),I&&(I==="right"?a:o).push(m),_&&l.push(m),(P!=null||D)&&c.push({colId:m,flex:P??void 0,width:D})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function $Re(e){const t=[];return e.forEach(({groupId:n,open:r})=>{r&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var qRe=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);return t?.forEach(s=>{this.createMethod(i,s,!0)}),n?.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&qe(49,{methodName:t}),null)}}},KRe={tag:"div",cls:"ag-tooltip"},YRe=class extends bI{constructor(){super(KRe)}init(e){const{value:t}=e,n=this.getGui();n.textContent=Fg(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},XRe=1e3,QRe=1e3,fH=100,pH,ib=!1,ZRe=class extends Me{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!ih()&&(ib?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},fH):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||ib)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-pH<XRe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!nt(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),r=Et(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);_Ce(this.userCompFactory,r)?.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),pH=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(hi(this.beans),{keydown:o=>{r.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=ur(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?QRe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){ib=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},fH)}unlockService(){ib=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function vA(e){return e.get("tooltipShowMode")==="whenTruncated"}var JRe=class extends Me{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new ZRe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function eAe(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var tAe=class extends Me{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},nAe=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=t===0&&$7(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(Et(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Et(this.gos,{accumulatedRowIndex:n,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:r,parseValue:p=>this.valueSvc.parseValue(e,i,p,this.valueSvc.getValue(e,i,void 0)),formatValue:p=>this.valueSvc.formatValue(e,i,p)??p}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,c=e.colDef.showRowGroup===!0&&(i.group||o);if(!l&&(s||c)){let p="",m=i;for(;m&&m.level!==-1;){const{value:y,valueFormatted:C}=a.getValueForDisplay(s?void 0:e,m,!0,!0);p=` -> ${C??y??""}${p}`,m=m.parent}return{value:p,valueFormatted:p}}const{value:d,valueFormatted:f}=a.getValueForDisplay(e,i,!0,!0);return{value:d??"",valueFormatted:f}}getHeaderName(e,t){return e?e(Et(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function rAe(e,t){const n=document.defaultView||window;if(!n){qe(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var iAe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Ss="clientSide",ss="serverSide",qf="infinite",sAe={onGroupExpandedOrCollapsed:[Ss],refreshClientSideRowModel:[Ss],isRowDataEmpty:[Ss],forEachLeafNode:[Ss],forEachNodeAfterFilter:[Ss],forEachNodeAfterFilterAndSort:[Ss],resetRowHeights:[Ss],applyTransaction:[Ss],applyTransactionAsync:[Ss],flushAsyncTransactions:[Ss],getBestCostNodeSelection:[Ss],getServerSideSelectionState:[ss],setServerSideSelectionState:[ss],applyServerSideTransaction:[ss],applyServerSideTransactionAsync:[ss],applyServerSideRowData:[ss],retryServerSideLoads:[ss],flushServerSideAsyncTransactions:[ss],refreshServerSide:[ss],getServerSideGroupLevelState:[ss],refreshInfiniteCache:[qf],purgeInfiniteCache:[qf],getInfiniteRowCount:[qf],isLastRowIndexKnown:[qf,ss],expandAll:[Ss,ss],collapseAll:[Ss,ss],onRowHeightChanged:[Ss,ss],setRowCount:[qf,ss],getCacheBlockState:[qf,ss]},oAe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function aAe(e,t,n){const r=oAe[e];if(r){const{version:s,new:o,old:a,message:l}=r,c=a??e;return(...d)=>{const f=o?`Please use ${o} instead. `:"";return G0(`Since ${s} api.${c} is deprecated. ${f}${l??""}`),t.apply(t,d)}}const i=sAe[e];return i?(...s)=>{const o=n.rowModel.getType();if(!i.includes(o)){xp(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var lAe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},cAe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},uAe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},dAe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),hAe=class extends Me{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,Kve(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&iAe[t]&&qe(22,{key:t})}processGridOptions(e){this.processOptions(e,RTe())}validateApiFunction(e,t){return aAe(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=Ip[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):qe(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=lAe[e];return t?ul(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){pAe.has(e)&&qe(10,{eventType:e})}validateIcon(e){if(dAe.has(e)&&qe(43,{iconName:e}),cAe[e])return;const t=uAe[e];if(t){kn(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:lI(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}qe(134,{iconName:e})}isProvidedUserComp(e){return!!Ip[e]}validateColDef(e){this.processOptions(e,gTe())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,o,a);const l=new Set;Object.keys(e).forEach(d=>{const f=r[d];if(f){const{message:R,version:E}=f;l.add(`As of v${E}, ${String(d)} is deprecated. ${R??""}`)}const p=e[d];if(p==null||p===!1)return;const m=n[d];if(!m)return;const{dependencies:y,validate:C,supportedRowModels:b,expectedType:x}=m;if(x){const R=typeof p;if(R!==x){l.add(`${String(d)} should be of type '${x}' but received '${R}' (${p}).`);return}}if(b){const R=this.gridOptions.rowModelType??"clientSide";if(!b.includes(R)){l.add(`${String(d)} is not supported with the '${R}' row model. It is only valid with: ${b.join(", ")}.`);return}}if(y){const R=this.checkForRequiredDependencies(d,y,e);if(R){l.add(R);return}}if(C){const R=C(e,this.gridOptions,this.beans);if(R){l.add(R);return}}}),l.size>0&&l.forEach(d=>{G0(d)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],o=fAe(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const c=o[l];let d=`invalid ${r} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),G0(d)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);G0(`to see all the valid ${r} properties please check: ${l}`)}}getConsoleMessage(e,t){return HRe(e,t)}};function fAe(e,t,n){const r={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>r[s]=jD({inputValue:s,allSuggestions:n}).values),r}var pAe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),gAe={moduleName:"Validation",version:at,beans:[hAe]};function Nq(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var mAe=class extends Me{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,Nq(r)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],c):n(l,c)}n(s,o)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},vAe=class extends wI{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,r,i){this.comp=e;const s=eC(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Et(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Vo("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Ig(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();rg(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(ur(t)===this.eGui)return;const i=Qh(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Ae.UP:case Ae.DOWN:case Ae.LEFT:case Ae.RIGHT:if(t)return;Dh(e);case Ae.ENTER:t&&Fh(this.eGui)&&e.preventDefault();break;case Ae.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&sh(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===Ae.TAB);if(i&&s){const o=i.shiftKey;Fh(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new CI(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!to(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,i=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(r.get("enableFilterHandlers")){const d=s;let f="filter";d?.afterFloatingFilter?f="ui":d?.afterDataChange?f="dataChanged":s?.source==="api"&&(f="api"),this.updateFloatingFilterParams(this.userCompDetails,f);return}const l=t?.getCurrentFloatingFilterParentModel(n),c=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(o=>{!o||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(r=>{typeof r?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:li(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),r.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function yAe(e,t){const n=e.colModel.getCol(t);if(!n){kn(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function CAe(e){e.menuSvc?.hidePopupMenu()}var wAe={moduleName:"SharedMenu",version:at,beans:[zbe],apiFunctions:{showColumnMenu:yAe,hidePopupMenu:CAe}},sb=0,bAe=200,SAe=class extends Me{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:r,node:i,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const c=()=>{const d=this.keepXYWithinBounds(n,o.top-a.top,0),f=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${f}px`,l=!0);const m=a.right-a.left-f;let y;return this.gos.get("enableRtl")?(y=b(),y<0&&(y=C(),this.setAlignedStyles(n,"left")),y>m&&(y=0,this.setAlignedStyles(n,"right"))):(y=C(),y>m&&(y=b(),this.setAlignedStyles(n,"right")),y<0&&(y=0,this.setAlignedStyles(n,"left"))),{x:y,y:d};function C(){return o.right-a.left-2}function b(){return o.left-a.left-f}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,r,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=e,f=s.getBoundingClientRect(),p=this.getParentRect();this.setAlignedTo(s,t);const m=()=>{let y=f.left-p.left;o==="right"&&(y-=t.offsetWidth-f.width);let C;return a==="over"?(C=f.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,p,e.nudgeY||0)==="under"?C=f.top-p.top+f.height:C=f.top-t.offsetHeight-(r||0)*2-p.top),{x:y,y:C}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(d,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+r;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}callPostProcessPopup(e,t,n,r,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:f}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(d+=r),i&&(f+=i),n&&(d=this.keepXYWithinBounds(t,d,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${d}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=Rc(this.beans,t,()=>l(!0));setTimeout(()=>c(),bAe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=hi(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),_7(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=hi(this.beans),c=l.documentElement,d=this.getPopupParent(),f=e.getBoundingClientRect(),p=d.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),y=d===l.body,C=Math.ceil(f[o]);let x=y?(r?A7:$S)(c)+c[a]:d[i];y&&(x-=Math.abs(m[s]-p[s]));const R=x-C;return Math.min(Math.max(t,0),Math.abs(R))}addPopup(e){const t=hi(this.beans),{eChild:n,ariaLabel:r,ariaOwns:i,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return qe(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const c=this.createPopupWrapper(n,!!s,r,i),d=this.addEventListenersToPopup({...e,wrapperEl:c});return o&&o(),this.addPopupToPopupList(n,c,d,a),{hideFunc:d}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();nt(e.style.top)||(e.style.top=`${n.top*-1}px`),nt(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const i=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=kr({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Rh(e,"dialog"),n?rg(e,n):r&&(e.id||(e.id=`popup-component-${sb}`),p3(r,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=hi(t),r=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c,ariaOwns:d}=e;let f=!1;const p=b=>{if(!i.contains(ur(t)))return;b.key===Ae.ESCAPE&&!ac(b)&&C({keyboardEvent:b})},m=b=>C({mouseEvent:b}),y=b=>C({touchEvent:b}),C=(b={})=>{const{mouseEvent:x,touchEvent:R,keyboardEvent:E,forceHide:F}=b;!F&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:R},s)||f)||(f=!0,r.removeChild(i),n.removeEventListener("keydown",p),n.removeEventListener("mousedown",m),n.removeEventListener("touchstart",y),n.removeEventListener("contextmenu",m),this.eventSvc.removeEventListener("dragStarted",m),o&&o(x||R||E),this.removePopupFromPopupList(s,d))};return a&&a({hidePopup:C}),window.setTimeout(()=>{l&&n.addEventListener("keydown",p),c&&(n.addEventListener("mousedown",m),this.eventSvc.addEventListener("dragStarted",m),n.addEventListener("touchstart",y),n.addEventListener("contextmenu",m))},0),C}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:sb,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),sb=sb+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&p3(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),o=f=>parseInt(f.substring(0,f.length-1),10),a=(f,p)=>{const m=n[f]-s[f],y=o(i.style[f]);return{initialDiff:m,lastDiff:m,initial:y,last:y,direction:p}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new an(f=>{d.wrapIncoming(()=>{d.setInterval(()=>{const p=t.getBoundingClientRect(),m=r.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const C=(b,x)=>{const R=o(i.style[x]);b.last!==R&&(b.initial=R,b.last=R);const E=p[x]-m[x];if(E!=b.lastDiff){const F=this.keepXYWithinBounds(i,b.initial+b.initialDiff-E,b.direction);i.style[x]=`${F}px`,b.last=F}b.lastDiff=E};C(l,"top"),C(c,"left")},200).then(p=>{f(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(Cye(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=hi(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],o=[];for(const p of n)p!==i&&(p.classList.contains("ag-always-on-top")?o.push(p):s.push(p));const a=[],l=o.length,f=i.classList.contains("ag-always-on-top")||!l?[...s,...o,i]:[...s,i,...o];for(let p=0;p<=r;p++){const m=f[p];if(n[p]===f[p]||m===i)continue;m.querySelectorAll("div").forEach(C=>{C.scrollTop!==0&&a.push([C,C.scrollTop])}),p===0?t.insertAdjacentElement("afterbegin",m):f[p-1].insertAdjacentElement("afterend",m)}for(;a.length;){const p=a.pop();p[0].scrollTop=p[1]}}},$1={moduleName:"Popup",version:at,beans:[SAe]},xAe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function EAe(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function TAe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function RAe(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function AAe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function _Ae(e){return e.filterManager?.getFilterModel()??{}}function DAe(e,t,n){const{gos:r,colModel:i,colFilter:s}=e;n&&!r.get("enableFilterHandlers")&&(qe(288),n=!1);const o=i.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function PAe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function FAe(e,t){const n=e.colModel.getCol(t);if(!n){kn(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function kAe(e){e.menuSvc?.hideFilterMenu()}function IAe(e,t){const n=e.colModel.getCol(t);if(!n){kn(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function MAe(e,t){const{colModel:n,colFilter:r,gos:i}=e;if(!i.get("enableFilterHandlers")){qe(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&r?.updateModel(a,o)}else r?.updateAllModels(o)}var OAe={filterHandler:()=>({doesFilterPass:()=>!0})},LAe=class extends Me{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...B$},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:r,filterManager:i}=this.beans;if(r?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{const d=e[c];s.push(this.setModelOnFilterWrapper(l,d)),a.delete(c)}),a.forEach(l=>{const c=n.getColDefCol(l)||n.getCol(l);if(!c){qe(62,{colId:l});return}if(!c.isFilterAllowed()){qe(63,{colId:l});return}const d=this.getOrCreateFilterWrapper(c,!0);if(!d){qe(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(d,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});an.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((c,d)=>{const f=o?o[d]:null,p=a?a[d]:null;kv(f,p)||l.push(c.column)}),l.length>0&&i?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);nt(a)&&(t[o]=a)}),!e)for(const s of Object.keys(r)){const o=r[s];nt(o)&&!n.has(s)&&i.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const i=t[r];this.state.set(r,{model:li(this.model,r),state:i})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,i)=>{const s=r.state;s!=null&&(n=!0,t[i]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return li(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(qe(66),null):r.getModel():li(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(qe(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!ED(n),i=c=>{if(!c.isPrimary())return!0;const f=!t.isPivotActive();return!c.isValueActive()||!f?!1:t.isPivotMode()?!0:r},s=[],o=[],a=(c,d,f)=>{d&&(i(c)?s.push(f):o.push(f))},l=[];return this.allColumnFilters.forEach(c=>{const d=c.column,f=d.getColId();if(c.isHandler)l.push(an.resolve().then(()=>{a(d,this.isHandlerActive(d),{colId:f,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const p=tu(c);p&&l.push(p.then(m=>{a(d,e(m),{colId:f,isHandler:!1,comp:m})}))}}),an.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(r=>{const i=r.column;if(r.isHandler)n.push(an.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const s=tu(r);s&&n.push(s.then(o=>{this.setColFilterActive(i,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),an.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,a=this.model;for(let l=0;l<s.length;l++){const c=s[l],{colId:d,isHandler:f}=c;if(d!==t)if(f){const{handler:p,handlerParams:m}=c;if(!p.doesFilterPass({node:e,data:o,model:li(a,d),handlerParams:m}))return!1}else{const p=c.comp;if(typeof p.doesFilterPass!="function"){kn(91);continue}if(!p.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{const{column:s,isHandler:o}=i;r!==s.getColId()&&(o&&i.handler.onAnyFilterChanged?.(),tu(i,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const r=n.isHandler;r&&n.handler.onNewRowsLoaded?.();const i=tu(n,r);i&&t.push(i.then(s=>{s.onNewRowsLoaded?.()}))}),an.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(i,s)=>{const o=s?r.getCol(s):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():li(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=nt(li(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?tu(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=tu(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return hye(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Ywe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,s){const o=()=>{const c=this.createFilterCompParams(e,i,s),d=r(c,i);return ECe(this.beans.userCompFactory,t,d,n)},a=o();return a?{compDetails:a,createFilterUi:c=>(c?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,r,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:c,createFilterUi:d}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||qe(281,{colId:e.getColId()})),{compDetails:c,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:d}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return Et(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>n?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,r);if(s.filterChangedCallback=i,s.filterModifiedCallback=r?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=li(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(c,d)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{i({...d,source:"columnFilter"})})},o.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},o.onAction=(c,d,f)=>{this.updateModel(e,c,d),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:f})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=c=>this.filterUiChanged(e,c),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:"init",model:li(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:r,registry:i}=this.beans;let s;const o=f=>{const p=f.filter;if(p$(p)){const m=p.handler;return m||(s=p.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof p=="string"?p:void 0},a=n.get("enableFilterHandlers")?o(e):void 0,l=f=>()=>this.createBean(i.createDynamicBean(f,!0));let c,d;if(typeof a=="string"){const f=n.get("filterHandlers")?.[a];f!=null?c=f:Owe.has(a)&&(c=l(a),d=a)}else c=a;if(!c){let f;const{compName:p,jsComp:m,fwComp:y}=v$(r,e);p?f=p:m==null&&y==null&&e.filter===!0&&(f=t),d=this.handlerMap[f],d&&(c=l(d))}if(c)return{filterHandler:c,handlerNameOrCallback:s??d}}createHandler(e,t,n){let r=this.createHandlerFunc(t,n);if(!r){const c=this.gos;if(!c.get("enableFilterHandlers"))return;jr(c)&&qe(277,{colId:e.getColId()}),r=OAe}const i=JR(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=r,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,i);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),i=t(Et(this.gos,{column:e,colDef:r})),s=this.createHandlerParams(e,n);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return Et(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(r,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(r,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{i({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const i=r&&e.every(s=>r.isGroupFilter(s));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:i}=this.beans,s=p=>{const m=this.getOrCreateFilterUi(e);m?.then(y=>{p(Bv(y))})},o=e.getColDef(),a=i?.isSelectable(o)?i.getFilterDef(e,o):o,l=tbe(r,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),d=JR(n,a,this.createFilterCompParams(e,c,"init",!0)),f=Et(this.gos,{column:e,filterParams:d,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(c){const p=f,m=e.getColId(),y=this.filterChangedCallbackFactory(e);p.onUiChange=C=>this.floatingFilterUiChanged(e,C),p.model=li(this.model,m),p.onModelChange=(C,b)=>{this.updateStoredModel(m,C),this.refreshHandlerAndUi(e,C,"floating",!0).then(()=>{y({...b,source:"columnFilter"})})},p.getHandler=()=>this.getHandler(e,!0),p.source="init"}return DCe(n,o,f,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){if(e.isHandler){const i=t.getColId();delete this.initialModel[i],this.state.delete(i);const s=e.filterUi,o=this.createFilterUiForHandler(n,r);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:i,filterUi:s}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(s){if(s.created)return s.promise.then(l=>(n=i?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return an.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,i=n.column,s=i.getColDef(),o=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=r.selectableFilter,c=l?.isSelectable(s)?l.getFilterDef(i,s):s,d=o?this.createHandlerFunc(c,this.getDefaultFilter(i)):void 0,f=!!d,p=n.isHandler;if(p!=f){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:m,createFilterUi:y}=(o?this.createFilterComp(i,c,a,b=>b,f,"colDef"):null)??{compDetails:null,createFilterUi:null},C=m?.params??JR(r.userCompFactory,c,this.createFilterCompParams(i,f,"colDef"));if(p){const b=d?.handlerNameOrCallback??d?.filterHandler,x=li(this.model,e);if(n.handlerGenerator!=b){const R=n.handler,{handler:E,handlerParams:F}=this.createHandlerFromFunc(i,d.filterHandler,C);n.handler=E,n.handlerParams=F,n.handlerGenerator=b,delete this.model[e],E.init?.({...F,source:"init",model:null}),this.destroyBean(R),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const R=this.createHandlerParams(i,m?.params);n.handlerParams=R,n.handler.refresh?.({...R,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,m)||!n.filterUi||!m){this.destroyFilterUi(n,i,m,y);return}n.filterUi.filterParams=C,tu(n,p)?.then(b=>{(b?.refresh?b.refresh(C):!0)===!1?this.destroyFilterUi(n,i,m,y):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:C})})}refreshHandlerAndUi(e,t,n,r){const i=this.cachedFilter(e);if(!i)return r&&this.getOrCreateFilterWrapper(e,!0),an.resolve();if(!i.isHandler)return an.resolve();const{filterUi:s,handler:o,handlerParams:a}=i;return Lwe(()=>{if(s){const{created:l,filterParams:c}=s;if(l)return s.promise.then(d=>d?{filter:d,filterParams:c}:void 0);s.refreshed=!0}return an.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(i=>{r(Bv(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:i}=this,s=e.getColId(),o=r.get(s);return o?o.model??null:li(i,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const r=new Promise(i=>{n=i});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(r=>n(r))})}getStateForColumn(e){return this.state.get(e)??{model:li(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):an.resolve()}setColDefPropsForDataType(e,t,n){const r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:c}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,c,t,n)??{}:{filterParams:s,filterValueGetter:o}=$we(i,l,c,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new an(r=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){r();return}this.refreshHandlerAndUi(s,t,"api").then(()=>r());return}const i=tu(e);if(i){i.then(s=>{if(typeof s?.setModel!="function"){qe(65),r();return}(s.setModel(t)||an.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){nt(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n?.state};this.state.set(e,r)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const r=e.getColId(),i=()=>this.cachedFilter(e)?.filterUi;P3(t,i,()=>li(this.model,r),()=>this.state.get(r),s=>this.updateState(e,s),s=>i()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,i)=>{const s=this.beans.colModel.getColDefCol(i);s&&P3(e,()=>r.filterUi,()=>li(this.model,i),()=>this.state.get(i),o=>this.updateState(s,o),o=>{this.updateStoredModel(i,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&an.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();H$(()=>this.cachedFilter(e)?.filterUi,()=>li(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let r=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==li(t,i)&&(r=!0)}return r}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==li(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function NAe(e){return!!e.filterManager?.isAnyFilterPresent()}function BAe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var VAe=class extends Me{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){ED(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):an.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:r};n&&gs(i,n),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!ED(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){qe(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},HAe=class extends Me{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,to(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,s="left";const o=to(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const a=o?void 0:4*i,l=o?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,r)}showPopup(e,t,n,r,i,s){const o=e?this.createBean(new Uwe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){kn(57);return}const a=kr({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:C=>this.trapFocusWithin(C,a)}),a.appendChild(o?.getGui());let l;const c=()=>o?.afterGuiDetached(),d=fye(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=C=>{B3(e,!1,"contextMenu");const b=C instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),b&&r&&yl(r)&&F$(r)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},p=this.getLocaleTextFunc(),m=i&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),y=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:m});y&&(this.hidePopup=l=y.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),B3(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Ae.TAB||e.defaultPrevented||Qh(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Fh(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},GAe=class extends Me{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:i,valueSvc:s}=this.beans,o=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,r):s.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:o}=this.beans,a=Et(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},UAe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},zAe=class extends Gn{constructor(){super(UAe,[z1]),this.eFloatingFilterText=Ct}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const i=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},PI=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(qe(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;qe(73)}else qe(74)}getCustomOption(e){return this.customFilterOptions[e]}};function W0(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function px(e){return e==null||typeof e=="string"&&e.trim().length===0}function jAe(e){return e==="AND"||e==="OR"?e:"AND"}function WAe(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function $Ae(e,t){let n=e.length;return n>t&&(e.splice(t),qe(78),n=t),n}function jv(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var FI=class extends Jwe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new PI;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=jAe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&Xh(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),an.resolve();if(e.operator){const r=e;let i=r.conditions;i==null&&(i=[],qe(77));const s=$Ae(i,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=r.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),an.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(qe(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(qe(80),n=1),n>t&&(qe(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new TI);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,i=>this.resetInput(i)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=kr({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new CSe);e.push(r);const i="ag-filter-condition-operator";return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(Mv(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{or(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOrs.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,s,o)=>{this.setElementDisplayed(r,i<o),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){W0(e,t,n).forEach(i=>Cc(i))}removeComponents(e,t,n){W0(e,t,n).forEach(i=>{Cc(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof Yd&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),r=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof Yd))return;const s=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof Yd&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Gn&&or(e.getGui(),t)}setElementDisabled(e,t){e instanceof Gn&&Mv(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Yd&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=jv(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&n(o,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return jv(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},Bq=class{constructor(e,t,n,r,i,s){this.alive=!0,this.context=e,this.eParent=i;const o=TCe(t,n,r);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){or(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},kI=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function Vq(e,t){const{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&Ms(n)||null,r&&Ms(r)||null].slice(0,jv(i,t))}var gH=1e3,mH=1/0,qAe=class extends FI{constructor(){super("dateFilter",Vq,kI),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=gH,this.maxValidYear=mH,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,c)=>{const d=e[l];if(d!=null)if(isNaN(d))qe(82,{param:l});else return d==null?c:Number(d);return c},n=t("minValidYear",gH),r=t("maxValidYear",mH);this.minValidYear=n,this.maxValidYear=r,n>r&&qe(83);const{minValidDate:i,maxValidDate:s}=e,o=i instanceof Date?i:Ms(i);this.minValidDate=o;const a=s instanceof Date?s:Ms(s);this.maxValidDate=a,o&&a&&o>a&&qe(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:r},params:i}=this,s=new Bq(n,t,i.colDef,Et(r,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=kr({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const i=kr({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),W0(this.eConditionPanelsFrom,e,t),W0(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){W0(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,s)=>{i!==e||!t||r>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=oo(r[0])),r.length>1&&(n.dateTo=oo(r[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},Hq=class extends Me{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new PI;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);const i=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return r[i](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let s=ebe(t)?t.conditions:[t];const o=n?.map(d=>typeof d=="string"?d:d.displayKey)??this.defaultOptions;if(!(!s||s.every(d=>o.find(f=>f===d.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const c=this.filterType;if((s&&!s.every(d=>d.filterType===c)||t.filterType!==c)&&(s=s.map(d=>({...d,filterType:c})),l=!0),typeof r=="number"&&s&&s.length>r&&(s=s.slice(0,r),l=!0),l){const d=s.length>1?{...t,filterType:c,conditions:s}:{...s[0],filterType:c};this.params={...e,model:d},e.onModelChange(d);return}}individualConditionPasses(e,t,n){const r=this.optionsFactory,i=this.mapValuesFromModel(t,r),s=r.getCustomOption(t.type),o=WAe(s,i,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},Gq=class extends Hq{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return px(t);case"notBlank":return!px(t);default:return qe(76,{filterModelType:r}),!0}}},Uq={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},KAe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},II=class extends Me{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?mu(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(c=>this.getModelAsString(c,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${mu(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?mu(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:c}=o||{};return a&&l&&c===0?n(a,l):this.conditionToString(s,r,s.type==="inRange"||c===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,s){let o;const a=this.getTypeKey(e);return a&&(o=mu(this,a)),i&&s&&(o=this.getLocaleTextFunc()(i,s)),o!=null?t?`${o} ${mu(this,"filterSummaryInRangeValues",[n(),r()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},zq=class extends II{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:i}=this.beans,s=t.column,a=r?.getDateFormatterFunction(s)?.(n??void 0);return i.formatValue(s,null,a)}),this.filterTypeKeys=Uq}conditionToString(e,t,n,r,i){const{type:s}=e,o=Ms(e.dateFrom),a=Ms(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):p=>kD(p,l),d=()=>o!==null?c(o):"null",f=()=>a!==null?c(a):"null";if(t){const p=this.conditionForToolPanel(s,n,d,f,r,i);if(p!=null)return p}return n?`${d()}-${f()}`:o!=null?c(o):`${s}`}};function YAe(e,t){const n=t;return n<e?-1:n>e?1:0}var XAe=class extends Gq{constructor(){super(Vq,kI),this.filterType="date",this.FilterModelFormatterClass=zq}comparator(){return this.params.filterParams.comparator??YAe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},jq=class extends Gn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new PI;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:i}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},QAe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},ZAe=class extends jq{constructor(){super(QAe,[z1]),this.eReadOnlyText=Ct,this.eDateWrapper=Ct,this.FilterModelFormatterClass=zq,this.filterType="date",this.defaultOptions=kI}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Ms(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){or(this.eDateWrapper,e),or(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=oo(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=hI(e,this.defaultDebounceMs);return Et(this.gos,{onDateChanged:Di(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new Bq(e,t,r.column.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},JAe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},e_e=class extends Gn{constructor(){super(JAe,[z1]),this.eDateInput=Ct,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&$h();const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},d=this.beans.dataTypeSvc,f=l??d?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(n?f?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&r&&qe(85),o&&i&&qe(86),s&&o){const[p,m]=[s,o].map(y=>y instanceof Date?y:Ms(y));p&&m&&p.getTime()>m.getTime()&&qe(87)}s?s instanceof Date?t.min=kD(s):t.min=s:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=kD(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ms(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(oo(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},MI=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function WD(e){const{allowedCharPattern:t}=e??{};return t??null}function $D(e){return e==null||isNaN(e)?null:e}function Wq(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[$D(n),$D(r)].slice(0,jv(i,t))}var t_e=class extends FI{constructor(){super("numberFilter",Wq,MI),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createEValue(){const e=WD(this.params),t=kr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new Zh({allowedCharPattern:r}):new EI);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push($D(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=oc(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},$q=class extends II{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=Uq}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),r,i);if(c!=null)return c}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},n_e=class extends Gq{constructor(){super(Wq,MI),this.filterType="number",this.FilterModelFormatterClass=$q}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},qq=class extends Me{constructor(e){super(),this.params=e,this.eInput=Ct,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Zh(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function Kq(e){const t=e?.trim();return t===""?e:t}function Yq(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,jv(i,t))}var r_e={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},Xq=class extends jq{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ct,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(r_e)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=G1(e.filterParams),!i){const s=hI(e.filterParams,r),o=Di(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();co(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===Ae.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:i,lastType:s}=this;let o=r.getValue();if(i.filterParams.trimInput&&(o=Kq(o),r.setValue(o,!0)),n){const a=i,l=a.model,c=this.convertValue(o),d=c==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:c};a.onModelChange(d,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},i_e=class extends Me{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new EI),this.eTextInput=this.createManagedBean(new Zh),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},s_e=class extends Xq{constructor(){super(...arguments),this.FilterModelFormatterClass=$q,this.filterType="number",this.defaultOptions=MI}updateParams(e){WD(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=WD(e.filterParams),this.allowedCharPattern?this.createManagedBean(new qq({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new i_e)}convertValue(e){return e?Number(e):null}},OI=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],o_e=class extends FI{constructor(){super("textFilter",Yq,OI),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,s,o)=>{if(i<o){let a=oc(r.getValue());t&&this.params.trimInput&&(a=Kq(a)??null,r.setValue(a,!0)),n.push(a)}}),n}createEValue(){const e=kr({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new Zh);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},Qq=class extends II{constructor(){super(...arguments),this.filterTypeKeys=KAe}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e;if(t){const l=d=>()=>mu(this,"filterSummaryTextQuote",[d]),c=this.conditionForToolPanel(a,n,l(s),l(o),r,i);if(c!=null)return c}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},a_e=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},l_e=e=>e,c_e=e=>e==null?null:e.toString().toLowerCase(),u_e=class extends Hq{constructor(){super(Yq,OI),this.filterType="text",this.FilterModelFormatterClass=Qq}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??a_e,this.formatter=t.textFormatter??(t.caseSensitive?l_e:c_e)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(p=>this.formatter(p))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,filterParams:{textFormatter:d}}=this.params;if(n.type==="blank")return px(t);if(n.type==="notBlank")return!px(t);const f={api:o,colDef:a,column:l,context:c,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:d};return i.some(p=>this.matcher({...f,filterText:p}))}},d_e=class extends Xq{constructor(){super(...arguments),this.FilterModelFormatterClass=Qq,this.filterType="text",this.defaultOptions=OI}createFloatingFilterInputService(){return this.createManagedBean(new qq)}};function h_e(e){return!!e.quickFilter?.isFilterPresent()}function f_e(e){return e.quickFilter?.getText()}function p_e(e){e.quickFilter?.resetCache()}var g_e=class extends Me{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?r?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return nt(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){qe(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return nt(r)&&r.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=Et(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return nt(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const r=this.getTextForColumn(n,e);nt(r)&&t.push(r)}),t.join(`
`)}},m_e={moduleName:"ClientSideRowModelFilter",version:at,rowModels:["clientSide"],beans:[mAe]},LI={moduleName:"FilterCore",version:at,beans:[VAe],apiFunctions:{isAnyFilterPresent:NAe,onFilterChanged:BAe},css:[xAe],dependsOn:[m_e]},Zq={moduleName:"FilterValue",version:at,beans:[GAe]},q1={moduleName:"ColumnFilter",version:at,beans:[LAe,HAe],dynamicBeans:{headerFilterCellCtrl:vAe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:EAe,getColumnFilterInstance:TAe,destroyFilter:RAe,setFilterModel:AAe,getFilterModel:_Ae,getColumnFilterModel:DAe,setColumnFilterModel:PAe,showColumnFilter:FAe,hideColumnFilter:kAe,getColumnFilterHandler:IAe,doFilterAction:MAe},dependsOn:[LI,$1,Zq,wAe]},v_e={moduleName:"CustomFilter",version:at,userComponents:{agReadOnlyFloatingFilter:zAe},dependsOn:[q1]},y_e={moduleName:"TextFilter",version:at,dependsOn:[q1],userComponents:{agTextColumnFilter:{classImp:o_e,params:{useForm:!0}},agTextColumnFloatingFilter:d_e},dynamicBeans:{agTextColumnFilterHandler:u_e}},C_e={moduleName:"NumberFilter",version:at,dependsOn:[q1],userComponents:{agNumberColumnFilter:{classImp:t_e,params:{useForm:!0}},agNumberColumnFloatingFilter:s_e},dynamicBeans:{agNumberColumnFilterHandler:n_e}},w_e={moduleName:"DateFilter",version:at,dependsOn:[q1],userComponents:{agDateColumnFilter:{classImp:qAe,params:{useForm:!0}},agDateInput:e_e,agDateColumnFloatingFilter:ZAe},dynamicBeans:{agDateColumnFilterHandler:XAe}},b_e={moduleName:"QuickFilterCore",version:at,rowModels:["clientSide"],beans:[g_e],dependsOn:[LI,Zq]},S_e={moduleName:"QuickFilter",version:at,apiFunctions:{isQuickFilterPresent:h_e,getQuickFilter:f_e,resetQuickFilter:p_e},dependsOn:[b_e]},x_e={moduleName:"ExternalFilter",version:at,dependsOn:[LI]},E_e=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",yA=(e,t,n)=>{const{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},T_e=class extends Me{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=vA(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!r&&i&&!a.headerComponent&&(r=Kb(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:r};let c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=vA(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!r&&i&&!a?.headerGroupComponent&&(r=Kb(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:r};a&&(l.getColDef=()=>a);const c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:i,editSvc:s}=r,{column:o,rowNode:a}=e;let l="cell";const c=()=>{const m=!!!s?.isEditing(e)&&yA(r,e,this.getLocaleTextFunc());if(m)return l="cellEditor",m;l="cell";const y=o.getColDef(),C=a.data;if(y.tooltipField&&nt(C))return V0(C,y.tooltipField,o.isTooltipFieldContainsDots());const b=y.tooltipValueGetter;return b?b(Et(i,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},d=vA(i);n||(d&&!e.isCellRenderer()?n=()=>{const p=!!s?.isEditing(e);if(!p&&yA(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const C=Kb(()=>{const b=e.eGui;return b.children.length===0?b:b.querySelector(".ag-cell-value")});return!p&&C()}:n=()=>!s?.isEditing(e));const f={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(f,r)}setupFullWidthRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(i,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>yA(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),d=!!l&&l.size>0,f=!!c&&c.size>0;return d||f}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=nt(t.tooltipField)||nt(t.tooltipValueGetter)||nt(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Jq={moduleName:"Tooltip",version:at,beans:[T_e],dynamicBeans:{tooltipFeature:JRe},userComponents:{agTooltipComponent:YRe},dependsOn:[$1],css:[E_e]},sp=class{constructor(e){this.cellValueChanges=e}},CA=class extends sp{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},R_e=10,vH=class{constructor(e){this.actionStack=[],this.maxStackSize=e||R_e,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},A_e=class extends Me{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&x$(this.activeCellEdit,t),r=this.activeRowEdit!==null&&$Ce(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,d={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new vH(n),this.redoStack=new vH(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],i),s instanceof CA?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:s,columnId:o}=r,a={rowIndex:i,rowPinned:s},l=wc(this.beans,a);l.displayed&&l.setDataValue(o,t(r),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=wc(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,a=i.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:r};s.setFocusedCell({...c,forceBrowserFocus:!0}),o?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new sp(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new sp(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new sp(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new CA(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Uu(n)?e=new CA(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new sp(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new sp(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},__e=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",D_e={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},P_e=class extends U1{constructor(){super(D_e,[xI]),this.eEditor=Ct}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=B1(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},K1=class extends U1{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Ct}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;r?(this.focusAfterAttached=!0,i===Ae.BACKSPACE||i===Ae.DELETE?o="":i&&i.length===1?s?a=!1:o=i:(o=t.getStartValue(),i!==Ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:c}=l;(c===Ae.PAGE_UP||c===Ae.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;$h()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},F_e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},k_e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return F_e}getAgComponents(){return[tq]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:i,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const l=r instanceof Date?r:new Date(r);if(t<l){const c=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const c=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!nt(n)&&!nt(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return oo(e,this.includeTime??!1)}},I_e=class extends K1{constructor(){super(new k_e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},M_e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},O_e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return M_e}getAgComponents(){return[tq]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:s,getValidationErrors:o}=t;let a=[];if(r){const l=new Date(r),c=this.getLocaleTextFunc();if(i){const d=new Date(i);if(l<d){const f=d.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${f}`,[f]))}}if(s){const d=new Date(s);if(l>d){const f=d.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${f}`,[f]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!nt(n)&&!nt(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return oo(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ms(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):oo(e??null,this.includeTime??!1)??void 0}},L_e=class extends K1{constructor(){super(new O_e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},N_e={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},B_e=class extends U1{constructor(){super(N_e,[bSe]),this.eEditor=Ct}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,value:i,maxLength:s,cols:o,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(a||10);let l;n?(this.focusAfterAttached=!0,r===Ae.BACKSPACE||r===Ae.DELETE?l="":r&&r.length===1?l=r:(l=i.toString(),r!==Ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=i.toString()),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Ae.LEFT||t===Ae.UP||t===Ae.RIGHT||t===Ae.DOWN||e.shiftKey&&t===Ae.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!nt(r)&&!nt(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},V_e={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},H_e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return V_e}getAgComponents(){return[SSe]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),r?r({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===Ae.UP||e.key===Ae.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!nt(n)&&!nt(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){$h()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},G_e=class extends K1{constructor(){super(new H_e(()=>this.getLocaleTextFunc()))}},U_e={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},z_e=class extends U1{constructor(){super(U_e,[DSe]),this.eEditor=Ct,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:o}=e;if(Qn(i)){qe(58);return}this.startedByEnter=o!=null?o===Ae.ENTER:!1;let a=!1;i.forEach(f=>{const p={value:f},m=n.formatValue(e.column,null,f),y=m!=null;p.text=y?m:f,t.addOption(p),a=a||s===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let i=[];if(t&&!t.includes(r)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},j_e={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},W_e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return j_e}getAgComponents(){return[z1]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof r=="string"&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!nt(n)&&!nt(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=nt(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},yH=class extends K1{constructor(){super(new W_e(()=>this.getLocaleTextFunc()))}};function $_e(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function q_e(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function eK(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function tK(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function K_e(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function Y_e(e){e.undoRedo?.undo("api")}function X_e(e){e.undoRedo?.redo("api")}function Q_e(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((r,i)=>{const{rowIndex:s,rowPinned:o}=i;r.forEach((a,l)=>{const{editorValue:c,pendingValue:d,sourceValue:f,state:p}=a,m=_u(a);let y=c??d;y===Xo&&(y=void 0);const C={newValue:y,oldValue:f,state:p,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(p==="editing"||p==="changed"&&m)&&n.push(C)})}),n}function Z_e(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(r=>{r.state==="editing"&&n.revertSingleCellEdit(r)}):Kd(e,!0),_p(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function J_e(e,t){const n=Yn(e,t);return e.editSvc?.isEditing(n)??!1}function eDe(e,t){const{key:n,colKey:r,rowIndex:i,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(r);if(!l){qe(12,{colKey:r});return}const d=wc(e,{rowIndex:i,rowPinned:s||null});if(!d){qe(290,{rowIndex:i,rowPinned:s});return}if(!l.isCellEditable(d))return;s==null&&tK(e,i),eK(e,r),o?.startEditing({rowNode:d,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function tDe(e){return e.editSvc?.validateEdit()||null}function nDe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function rDe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var iDe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},sDe=class extends bI{constructor(e){super(iDe),this.params=e}postConstruct(){_h(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{OD(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},gx=(e,t=!1)=>{if(e!==void 0)return _u(e)||t&&e.state==="editing"};function nK(e,t,n=!1){return gx(e.editModelSvc?.getEdit(t),n)}function rK(e,t){const{editModelSvc:n}=e,{column:r,rowNode:i}=t;if(e.gos.get("groupTotalRow")&&!i?.footer)return!1;for(const s of i?.allLeafChildren??[])if(gx(n?.getEdit({rowNode:s,column:r}))||gx(n?.getEdit({rowNode:s.pinnedSibling,column:r})))return!0}function iK(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return gx(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var oDe=class extends Me{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=nK(n,e)||rK(n,e)||iK(n,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},aDe=class extends Me{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,i=t?.getEditRow(r);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){const o=Array.from(i.keys()).some(a=>{const l={rowNode:r,column:a};return nK(n,l,!0)||rK(n,l)||iK(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",r&&t),i.toggleCss("ag-row-batch-edit",r&&t&&n),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},lDe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const i=new Set;return e.forEachNode(s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("top",s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("bottom",s=>r.has(s)&&i.add(s)),r.forEach(s=>{i.has(s)||n.removeEdits({rowNode:s})}),i},cDe=({editModelSvc:e},t,n)=>{t.forEach(r=>e?.getEditRow(r)?.forEach((i,s)=>!n.has(s)&&e.removeEdits({rowNode:r,column:s})))},uDe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());cDe(e,lDe(e,r),t)},dDe=new Set(["undo","redo"]),sK={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},hDe=new Set(Object.keys(sK)),fDe=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),ob={cancel:!0,source:"api"},pDe={cancel:!1,source:"api"},Kf={checkSiblings:!0},t0={force:!0,suppressFlash:!0},gDe=class extends Me{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,ob),this.createStrategy(r)});const t=uDe(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||i?this.stopEditing(void 0,ob):this.isEditing()&&(this.isBatchEditing()?_p(e,this.model.getEditPositions()):this.stopEditing(void 0,pDe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,ob)):(this.stopEditing(void 0,ob),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,i=e??n.get("editType")??"singleCell";if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,r)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return rwe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Kf)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:i="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=Yn(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const a=this.shouldStartEditing?.(e,r,n,i);if(a===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&this.stopEditing(void 0,{source:i}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,r,i,s)}stopEditing(e,t){const{event:n,cancel:r,source:i="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(hDe.has(i))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:sK[i]});if(!(this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,Kf))||!this.strategy)return!1;const c=Yn(o,e);c&&(c.onEditorAttachedFuncs=[]);let d=a.getEditMap(!0),f=!1;const p=!r&&!!this.shouldStopEditing(e,n,i),m=r&&!!this.shouldCancelEditing(e,n,i);if(p||m){Kd(o,!0);const y=a.getEditMap();this.processEdits(y,r),this.strategy?.stop(r,n),this.bulkRefresh(void 0,d),d=y,f||(f=p)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const y=n.key,C=y===Ae.ENTER,b=y===Ae.ESCAPE,x=y===Ae.TAB;(C||x||b)&&(C||x?Kd(o,!0):b&&this.revertSingleCellEdit(c),this.isBatchEditing()?this.strategy?.cleanupEditors():_p(o,a.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,d,{suppressFlash:!0}),d=a.getEditMap())}else Kd(o,!0),d=a.getEditMap();return f&&e&&this.model.removeEdits(e),!s&&c&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,c.cellPosition),DD(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),m&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(d.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),f&&p&&this.dispatchBatchEvent("batchEditingStopped",d)),f}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?Ae.UP:Ae.DOWN;this.beans.navigation?.navigateToNextCell(null,r,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:r}=this,i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const a=e.get(o);for(const l of a.keys()){const c=a.get(l),d={rowNode:o,column:l},f=Yn(r,d),p=_u(c),m=f?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!m&&p&&!i&&(this.setNodeDataValue(o,l,c.pendingValue)||s.push(d)),f?.refreshCell(t0)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,r){const{beans:i}=this,s=Yn(i,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),r&&s?.refreshCell(t0),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(t0)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:i}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:r,gos:i}=this,{editModelSvc:s,rowModel:o}=r;jr(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),n)}))}refCell({rowNode:e,column:t},n,r={}){const{beans:i,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const c=e.sibling;c&&a.add(c);let d=e.parent;for(;d;)d.sibling?.footer&&s.get("groupTotalRow")||!d.parent&&d.sibling&&s.get("grandTotalRow")?a.add(d.sibling):a.add(d),d=d.parent;o.forEach(f=>this.dispatchEditValuesChanged({rowNode:f,column:t},n)),o.forEach(f=>Yn(i,{rowNode:f,column:t})?.refreshCell(r)),a.forEach(f=>Yn(i,{rowNode:f,column:t})?.refreshCell(r))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const r=Yn(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(r&&this.revertSingleCellEdit(r),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=Yn(this.beans,e);n?.comp?.getCellEditor()&&(_p(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),og(this.beans,e,{silent:!0}),Ph(this.beans),n?.refreshCell(t0),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Ph(this.beans);const t=Yn(this.beans,e);t&&(t.refreshCell(t0),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){let i;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof Pp&&s&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const o=this.model.getEdit({rowNode:i,column:t});o&&(r=o)}const s=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return s===Xo||!r?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){QCe(this,this.beans,e)}createPopupEditorWrapper(e){return new sDe(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!fDe.has(n))return;const{beans:r}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":"api";if(!n||dDe.has(n))return eS(r,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return eS(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return eS(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){ewe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Kf))return;const{rowNode:r,column:i}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(r,Kf),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,Kf);if(o!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,r)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Et(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:r,rangeSvc:i,valueSvc:s}=this;Kd(r,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(c=>{if(i?.forEachRowInRange(c,d=>{const f=wc(r,d);if(f===void 0)return;const p=o.get(f)??new Map;for(const m of c.columns)if(m&&this.isCellEditable({rowNode:f,column:m},"api")){const y=s.getValue(m,f,!0,"api");let C=s.parseValue(m,f??null,a,y);Number.isNaN(C)&&(C=null),p.set(m,{editorValue:void 0,pendingValue:C,sourceValue:y,state:"changed"})}p.size>0&&o.set(f,p)}),this.setEditMap(o),this.batch){this.cleanupEditors(),DD(r),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=Yn(r,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new oDe(e,t)}createRowStyleFeature(e,t){return new aDe(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:i}=n,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:c,rowPinned:d,newValue:f,state:p})=>{const m=o?r.getCol(o):l?r.getCol(l):a;if(!m)return;const y=wc(n,{rowIndex:c,rowPinned:d});if(!y)return;const C=i.getValue(m,y,!0,"api");if(!_u({pendingValue:f,sourceValue:C})&&p!=="editing")return;let b=s.get(y);b||(b=new Map,s.set(y,b)),f===void 0&&(f=Xo),b.set(m,{editorValue:void 0,pendingValue:f,sourceValue:C,state:p??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=Yn(this.beans,e);if(!t||!this.isEditing(t,Kf))return;const n=this.model.getEdit(t);if(!n||!_u(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return Yn(this.beans,e)}},oK=class extends Me{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=Yn(i,n));const{gos:o,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:d,rowPinned:f}=e,p={column:c,rowNode:wc(i,{rowIndex:d,rowPinned:f})},m=o.get("invalidEditValueMode")==="block";if(m)return;const y=!m,C=!!a?.getCellValidationModel().hasCellValidation(p),b=y&&C;(n||l?r.stopEditing(void 0,{cancel:b,source:l&&y?"api":void 0,event:s}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(r.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){r.fail.push(s);return}r.pass.push(s)}),e)return n.forEach(s=>{ax(this.beans,s),this.model.stop(s)}),!0;const i=this.processValidationResults(r);return i.destroy.length>0&&i.destroy.forEach(s=>{ax(this.beans,s,{event:t}),this.model.stop(s)}),i.keep.length>0&&i.keep.forEach(s=>{const o=Yn(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Kd(this.beans,!1);const n=this.model.getEditPositions(),r=[];e?n.forEach(i=>{!e||i.rowNode===e||r.push(i)}):n.forEach(i=>{r.push(i)}),_p(this.beans,r),DD(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,r,i=!1){const s=r instanceof KeyboardEvent&&!i&&r.key||void 0;JCe(this.beans,e,t,s,r,n)}dispatchCellEvent(e,t,n,r){const i=Yn(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t){const n=cI(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,r="ui"){if(t instanceof KeyboardEvent&&(t.key===Ae.TAB||t.key===Ae.ENTER||t.key===Ae.F2||t.key===Ae.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:r==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===Ae.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===Ae.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((r,i)=>{r.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:i,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const r=n.at(-1),i=r.pendingValue===Xo?void 0:r.pendingValue;this.start(r,new KeyboardEvent("keydown",{key:i}),"api");const s=Yn(this.beans,r);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},mDe=class extends oK{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(i=>super.isCellEditable({rowNode:e.rowNode,column:i},t))}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!cI(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",r){const{rowNode:i}=e;this.rowNode!==i&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:i},"rowEditingStarted"),this.startedRows.push(i);const s=this.beans.visibleCols.allCols,o=[];s.forEach(a=>{if(!a.isCellEditable(i))return;const l={rowNode:i,column:a};o.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=i,this.setupEditors(o,e,!0,t,r)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];return e||this.model.getEditMap().forEach((i,s)=>{if(!(!i||i.size===0)){for(const o of i.values())if(_u(o)){r.push(s);break}}}),Ph(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),r.forEach(i=>this.dispatchRowEvent({rowNode:i},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const r=Yn(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),c=o.isCellEditable(),d=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const f=this.gos.get("suppressStartEditOnTab");return c&&!i?f?o.focusCell(!0,n):(o.comp?.getCellEditor()||og(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(c&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!d&&!i&&(this.cleanupEditors(o,!0),f?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{if(n!=="editing")return;const i=Yn(this.beans,{rowNode:t,column:r});i&&!i.comp?.getCellEditor()&&og(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},vDe=class extends oK{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",r){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,r)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:s}=e,o=wc(this.beans,{rowIndex:r,rowPinned:s}),a=_D(i),l=t.getCol(a),c=e.previousParams;if(c){const d=_D(c.column);if(c?.rowIndex===r&&d===a&&c?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,c=e.isCellEditable(),d=o.isCellEditable(),f=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;c&&!i&&this.setFocusOutOnEditor(e);const p=this.gos.get("suppressStartEditOnTab");return!f&&!i&&(super.cleanupEditors(o,!0),p?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),d&&!i?(o.focusCell(!1,n),p?o.focusCell(!0,n):o.comp?.getCellEditor()||(og(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(d&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},id={moduleName:"EditCore",version:at,beans:[zCe,gDe],apiFunctions:{getEditingCells:Q_e,getCellEditorInstances:ZCe,startEditingCell:eDe,stopEditing:Z_e,isEditing:J_e,validateEdit:tDe},dynamicBeans:{singleCell:vDe,fullRow:mDe},dependsOn:[$1,Jq],css:[__e]},yDe={moduleName:"UndoRedoEdit",version:at,beans:[A_e],apiFunctions:{undoCellEditing:Y_e,redoCellEditing:X_e,getCurrentUndoSize:nDe,getCurrentRedoSize:rDe},dependsOn:[id]},CDe={moduleName:"TextEditor",version:at,userComponents:{agCellEditor:yH,agTextCellEditor:yH},dependsOn:[id]},wDe={moduleName:"NumberEditor",version:at,userComponents:{agNumberCellEditor:{classImp:G_e}},dependsOn:[id]},bDe={moduleName:"DateEditor",version:at,userComponents:{agDateCellEditor:I_e,agDateStringCellEditor:L_e},dependsOn:[id]},SDe={moduleName:"CheckboxEditor",version:at,userComponents:{agCheckboxCellEditor:P_e},dependsOn:[id]},xDe={moduleName:"SelectEditor",version:at,userComponents:{agSelectCellEditor:z_e},dependsOn:[id]},EDe={moduleName:"LargeTextEditor",version:at,userComponents:{agLargeTextCellEditor:B_e},dependsOn:[id]},TDe={moduleName:"CustomEditor",version:at,dependsOn:[id]},RDe=class extends Me{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Ap(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),kye(e))}createColumns(e,t){const n=()=>{nx(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,s=(this.columns?.treeDepth??-1)==r,o=this.generateSelectionCols();if(Fye(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,d=l?.balanceTreeForAutoCols(o,c)??[];this.columns={list:o,tree:d,treeDepth:c,map:{}},t(p=>{if(!p)return null;const m=p.filter(y=>!rd(y));return[...o,...m]})}updateColumns(e){const t=Ap(e.source);this.columns?.list.forEach(n=>{const r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),ga(this.beans,{state:[{...r,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>i$(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!oh(e))return!1;const r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!Rp(n),s=Yb(n);return i||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(a,l,c,d){const f=c.isSelected(),p=d.isSelected();return f===p?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:t$,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new Yh(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?Rp(t):void 0,i=e&&typeof e!="string"?Rp(e):void 0,s=r!==i,o=t&&typeof t!="string"?Yb(t):void 0,a=e&&typeof e!="string"?Yb(e):void 0,l=o!==a,c=QS(e),d=QS(t);(s||l||c!==d)&&this.beans.colModel.refreshAll(n)}destroy(){nx(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const r=e.length+t.length+n.length;if(r===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&Yo(l,i)};(this.beans.rowNumbersSvc?.getColumn(n$)?2:1)===r&&s()}};function ADe(e,t){if(!t.nodes.every(o=>o.rowPinned&&!nC(o)?(qe(59),!1):o.id===void 0?(qe(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function _De(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function DDe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function PDe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function FDe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function kDe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function IDe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function MDe(e){return e.selectionSvc?.getSelectedNodes()??[]}function ODe(e){return e.selectionSvc?.getSelectedRows()??[]}var LDe=class extends ySe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=ZS(e),this.groupSelectsDescendants=Nv(e),this.groupSelectsFiltered=ex(e)==="filteredDescendants",this.masterSelectsDetail=w3(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Nv(e),n=ZS(e),r=ex(e)==="filteredDescendants";this.masterSelectsDetail=w3(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return r==null?0:(this.selectionCtx.selectAll=!1,"select"in r?(r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n)):this.setNodesSelected({nodes:[r.node],newValue:r.newValue,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s,keepDescendants:o=!1}){if(!oh(this.gos)&&e)return qe(132),0;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return qe(130),0;let a=0;for(let l=0;l<r.length;l++){const c=r[l],d=Yf(c),f=this.groupSelectsFiltered&&d.group;if(d.rowPinned&&!nC(d)){qe(59);continue}if(d.id===void 0){qe(60);continue}f||this.selectRowNode(d,e,i,s)&&(this.detailSelection.delete(d.id),a++),this.groupSelectsDescendants&&d.childrenAfterGroup?.length&&(a+=this.selectChildren(d,e,s))}return n||(r.length===1&&s==="api"&&this.selectionCtx.setRoot(Yf(r[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(Yf(r[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let r=0;return e.forEach(i=>{const s=Yf(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!jr(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new Uv(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!BDe(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new kh(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!jr(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=jr(this.gos);let r=!1;const i=s=>{const o=this.selectRowNode(Yf(s),!1,void 0,e);r||(r=o)};if(t==="currentPage"||t==="filtered"){if(!n){kn(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return aK(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(i);return}this.groupSelectsDescendants||n(i)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!oh(t)){qe(132);return}if(lye(t)&&!JS(t)){qe(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const a=this.selectRowNode(Yf(o),!0,void 0,r);s||(s=a)}),n.selectAll=!0,jr(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(r);s||(s=o)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){kn(103);return}const r=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!jr(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!oh(t))return;const r="selectableChanged",i=e!==void 0,s=jr(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(i&&!l.group)return;if(s&&l.group){const d=l.childrenAfterGroup?.some(f=>f.selectable)??!1;this.setRowSelectable(l,d,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new Uv(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&s&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const r=NDe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!JS(t)){qe(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const o=n.getRowNode(s);o&&i.push(o)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Yf(e){return nC(e)?e.pinnedSibling:e.footer?e.sibling:e}function NDe(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),aK(t,n)}function aK(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function BDe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var VDe={moduleName:"SharedRowSelection",version:at,beans:[RDe],apiFunctions:{setNodesSelected:ADe,selectAll:_De,deselectAll:DDe,selectAllFiltered:PDe,deselectAllFiltered:FDe,selectAllOnCurrentPage:kDe,deselectAllOnCurrentPage:IDe,getSelectedNodes:MDe,getSelectedRows:ODe}},HDe={moduleName:"RowSelection",version:at,rowModels:["clientSide","infinite","viewport"],beans:[LDe],dependsOn:[VDe]};function GDe(e){e.expansionSvc?.expandAll(!0)}function UDe(e){e.expansionSvc?.expandAll(!1)}function zDe(e){const t=Tl(e),n=Lq(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function jDe(e,t,n){const r=Lq(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){kn(238);return}r.setRowCount(t,n);return}kn(28);return}const i=W1(e);if(i){i.setRowCount(t,n);return}}function WDe(e){return Kh(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function $De(e){return e.rowModel.isLastRowIndexKnown()}var qDe={moduleName:"CsrmSsrmSharedApi",version:at,apiFunctions:{expandAll:GDe,collapseAll:UDe,onRowHeightChanged:zDe}},KDe={moduleName:"SsrmInfiniteSharedApi",version:at,apiFunctions:{setRowCount:jDe,getCacheBlockState:WDe,isLastRowIndexKnown:$De}},YDe=class extends Me{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{if(!r){kn(18),t||kn(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?i.current?.api:(i.api||kn(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":qe(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(p=>({colId:p.colId}));ga(r,{state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));ga(r,{state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));ga(r,{state:f},"alignedGridChanged")}break;case"columnResized":{const d=e,f={};a.forEach(p=>{f[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),d.flexColumns?.forEach(p=>{f[p.getId()]&&delete f[p.getId()]}),i?.setColumnWidths(Object.values(f),!1,d.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",c)})}},XDe={moduleName:"AlignedGrids",version:at,beans:[YDe],dependsOn:[fq]},QDe=class extends fSe{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},wA=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function ZDe(e){if(Qn(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,s=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.lastChild!==s&&(r.lastChild=s,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==n&&(r.childIndex=n,r.dispatchRowEvent("childIndexChanged"))}}function lK(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),ZDe(e)}var JDe=class extends Me{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),r=nt(n)&&n.length>0,i=r&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>$a(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,r,i,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,r,i,s,o){const{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:d,rowRenderer:f,showRowGroupCols:p}=e,m=a.get("groupMaintainOrder"),y=l.getCols().some(E=>E.isRowGroupActive()),C=l.isPivotMode(),b=a.getCallback("postSortRows");let x=!1;const R=E=>{const F=C&&E.leafGroup,I=m&&y&&!E.leafGroup&&!o;let _;if(I){const P=c?.columns?.[E.level+1]?.getSort()===null,k=E.childrenAfterAggFilter.slice(0);if(E.childrenAfterSort&&!P){const B={};E.childrenAfterSort.forEach((N,V)=>{B[N.id]=V}),k.sort((N,V)=>(B[N.id]??0)-(B[V.id]??0))}_=k}else!n||F?_=E.childrenAfterAggFilter.slice(0):r&&i?_=ePe(d,E,i,s,t):_=d.doFullSort(E.childrenAfterAggFilter,t);if(x||(x=E.childrenAfterSort?.[0]!==_[0]),E.childrenAfterSort=_,lK(E),b){const D={nodes:E.childrenAfterSort};b(D)}};if(s?.forEachChangedNodeDepthFirst(R),x&&this.gos.get("groupHideOpenParents")){const E=p?.getShowRowGroupCols();E?.length&&f.refreshCells({columns:E,force:!0})}}};function ePe(e,t,n,r,i){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const a=new Set,l=[],{updates:c,adds:d}=n;for(let p=0,m=s.length;p<m;++p){const y=s[p];c.has(y)||d.has(y)||r&&!r.canSkip(y)?l.push({currentPos:l.length,rowNode:y}):a.add(y.id)}const f=o.filter(p=>a.has(p.id)).map((p,m)=>({currentPos:m,rowNode:p}));return l.sort((p,m)=>e.compareRowNodes(i,p,m)),tPe(e,i,l,f)}function tPe(e,t,n,r){const i=[];let s=0,o=0;const a=n.length,l=r.length;for(;s<a&&o<l;){const c=n[s],d=r[o],f=e.compareRowNodes(t,c,d);let p;f<0?(p=c,++s):(p=d,++o),i.push(p.rowNode)}for(;s<a;)i.push(n[s++].rowNode);for(;o<l;)i.push(r[o++].rowNode);return i}var nPe=class extends Me{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Di(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new kh(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return Y7(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,r);for(let d=l;d<=c;d++){const f=this.getRow(d);if(f.rowHeightEstimated){const p=Gu(this.beans,f);f.setRowHeight(p.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),r={step:"nothing",changedProps:n},i=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||i&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||i)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,qe(1))),a&&(i||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))r.keepRenderedRows=!0,r.animate=!this.gos.get("suppressAnimationFrame"),r.changedRowNodes=new wA,o.setImmutableRowData(r,l);else{r.rowDataUpdated=!0,r.newData=!0;const{selectionSvc:d,pinnedRowModel:f}=this.beans;d?.reset("rowDataChanged"),f?.isManual()&&f.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(r.rowDataUpdated)r.step="group";else if(r.step==="nothing"){for(const{refreshProps:c,step:d}of this.orderedStages)if(e.some(f=>c.has(f))){r.step=d;break}}r.step!=="nothing"&&this.refreshModel(r)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let r=0;const i=new Set,s=Fi(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&i.add(l.id),l.rowHeight==null){const c=Gu(e,l,s,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(r),l.setRowIndex(o),r+=l.rowHeight}return i}clearRowTopAndRowIndex(e,t){const n=e.active,r=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(s!==null&&(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,r=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+r}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,s=a=>{let l=i[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,i,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);for(i.footer&&(i=i.sibling);i.parent&&i.parent!==t;)i=i.parent;const s=t.childrenAfterSort?.findIndex(o=>o===i);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Tp(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Tp(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Tp(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Uv(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const r=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(e.changedRowNodes,r);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=Nv(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(n&&(o===t||o===e)&&(r=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){i.push(o);return}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,r=t.length-1;if(e<=0)return 0;if(Fn(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+r)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(r=a-1),s===n&&o===r))return a;s=n,o=r}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const o=r===this.rootNode;o||e(r,s++);const{footerSvc:a}=this.beans;if(r.hasChildren()&&!r.footer){const l=n(r);if(l){s=a?.addTotalRows(s,r,e,t,o,"top")??s;for(const c of l)s=this.depthFirstSearchRowNodes(e,t,n,c,s);return a?.addTotalRows(s,r,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),lK(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const r=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,r&&(r.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,Nq(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(FD)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new wA;let r=!1;this.rowDataTransactionBatch?.forEach(i=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(i.rowDataTransaction,n);o&&(r=!0),t.push(s),i.callback&&e.push(i.callback.bind(null,s))}),this.commitTransactions(r,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new wA,{rowNodeTransaction:n,rowsInserted:r}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(r,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const r of n)r.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=tx,this.rowsToDisplay=tx}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function rPe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function iPe(e,t){const n=Tl(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function sPe(e){return Tl(e)?.isEmpty()??!0}function oPe(e,t){Tl(e)?.forEachLeafNode(t)}function aPe(e,t){Tl(e)?.forEachNodeAfterFilter(t)}function lPe(e,t){Tl(e)?.forEachNodeAfterFilterAndSort(t)}function cPe(e){if(e.rowAutoHeight?.active){qe(3);return}Tl(e)?.resetRowHeights()}function uPe(e,t){return e.frameworkOverrides.wrapIncoming(()=>Tl(e)?.updateRowData(t))}function dPe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Tl(e)?.batchUpdateRowData(t,n))}function hPe(e){e.frameworkOverrides.wrapIncoming(()=>Tl(e)?.flushAsyncTransactions())}function fPe(e){return e.selectionSvc?.getBestCostNodeSelection()}var pPe={moduleName:"ClientSideRowModel",version:at,rowModels:["clientSide"],beans:[QDe,nPe,JDe],dependsOn:[kq]},gPe={moduleName:"ClientSideRowModelApi",version:at,apiFunctions:{onGroupExpandedOrCollapsed:rPe,refreshClientSideRowModel:iPe,isRowDataEmpty:sPe,forEachLeafNode:oPe,forEachNodeAfterFilter:aPe,forEachNodeAfterFilterAndSort:lPe,resetRowHeights:cPe,applyTransaction:uPe,applyTransactionAsync:dPe,flushAsyncTransactions:hPe,getBestCostNodeSelection:fPe},dependsOn:[qDe]},mPe=class extends Me{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,r){const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,d=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&oye(this.gos,r);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!l&&!c||i(Et(this.gos,{node:r})))return;const m=e.onNewBodyRow(r);if(n.forEach((y,C)=>{m.onColumn(y,C,r)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(Et(this.gos,{node:r}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new f$,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,i=jr(this.gos),s=Kh(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return i?r.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a),n;if(e.onlySelectedAllPages||o){const c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?r.forEachNode(a):i||s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(r,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),c=p=>rd(p)?!1:!Au(p)||r;if(i&&i.length)return s.getColsForKeys(i).filter(c);const d=o.get("treeData");let f=[];return t&&!l?f=s.getCols():f=a.allCols,f=f.filter(p=>c(p)&&(n&&!d?!oI(p):!0)),f}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),e.length>0&&Fr(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;n?a=n(Et(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,d,f,p)=>{let m=Fn(c);return d.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[f],c.push(m)):m&&m[1]==null&&(m[1]=f-1),f===p.length-1&&m&&m[1]==null&&(m[1]=f),c},[]);r.onColumn(o,a||"",i++,o.getLeafColumns().length-1,l)})}},vPe={moduleName:"SharedExport",version:at,beans:[mPe]},CH=`\r
`,yPe=class extends nAe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,CH),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(qe(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=CH),this.isFirstLine=!1}},CPe=class extends tAe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){qe(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(Et(this.gos,{})):t.fileName;rAe(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:f}=e;return new yPe({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:f||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function wPe(e,t){return e.csvCreator?.getDataAsCsv(t)}function bPe(e,t){e.csvCreator?.exportDataAsCsv(t)}var SPe={moduleName:"CsvExport",version:at,beans:[CPe],apiFunctions:{getDataAsCsv:wPe,exportDataAsCsv:bPe},dependsOn:[vPe]},xPe=class extends Me{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const o=n+s,a=new kh(r);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){nt(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Qn(this.params.datasource.getRows)){qe(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:Et(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new kh(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},EPe=2,TPe=class extends Me{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new xPe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Ah(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=EPe-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,c=r?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,nt(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(i&&r+1!==l.id){o=!0;return}r=l.id,l.forEachNode(c=>{const d=c===e||c===t;(i||d)&&n.push(c),d&&(i=!i)},s,this.rowCount)}}),o||i?[]:n}},RPe=class extends Me{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=ah(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=ah(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!kv(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;ig(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:ah(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new TPe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function APe(e){W1(e)?.refreshCache()}function _Pe(e){W1(e)?.purgeCache()}function DPe(e){return W1(e)?.getRowCount()}var PPe=class extends Me{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=aye(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Di(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Yo(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Ah(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){Ah(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},FPe={moduleName:"InfiniteRowModelCore",version:at,rowModels:["infinite"],beans:[RPe,PPe]},kPe={moduleName:"InfiniteRowModel",version:at,apiFunctions:{refreshInfiniteCache:APe,purgeInfiniteCache:_Pe,getInfiniteRowCount:DPe},dependsOn:[FPe,KDe]},IPe="",MPe="",OPe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},LPe=class extends Gn{constructor(){super(OPe),this.eValue=Ct,this.eDelta=Ct,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=nt(r)?r:n,s=t>=0,o=this.eDelta;s?o.textContent=IPe+i:o.textContent=MPe+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),co(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:o}=this;if(n===s||(nt(r)?i.textContent=r:nt(n)?i.textContent=n:co(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const c=a-l;this.showDelta(e,c)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},NPe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",BPe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},VPe=class extends Gn{constructor(){super(BPe),this.eCurrent=Ct,this.refreshCount=0,this.registerCSS(NPe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,r=kr({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Qn(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return nt(e.valueFormatted)?r.textContent=e.valueFormatted:nt(e.value)?r.textContent=n:co(r),!0}},HPe=class extends Me{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),o=s+n,a=s+n+r,l={phase:"flash",flashEndTime:o,fadeEndTime:a};i.set(e,l);const c=`ag-cell-${t}`,d=`${c}-animation`,{comp:f,eGui:{style:p}}=e;f.toggleCss(c,!0),f.toggleCss(d,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],i=`ag-cell-${n}`,s=`${i}-animation`;for(const[o,a]of r){if(!o.isAlive()||!o.comp){r.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:d}=a,f=l==="flash"?c:d;if(!(e+15>=f)){t=Math.min(f,t??1/0);continue}const{comp:m,eGui:{style:y}}=o;switch(l){case"flash":m.toggleCss(i,!1),m.toggleCss(s,!0),y.transition=`background-color ${d-c}ms`,y.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),a.phase="fade";break;case"fade":m.toggleCss(i,!1),m.toggleCss(s,!1),y.removeProperty("transition"),y.removeProperty("transition-delay"),r.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=jCe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function GPe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>n.flashCell(r,t))})}var UPe={moduleName:"HighlightChanges",version:at,beans:[HPe],userComponents:{agAnimateShowChangeCellRenderer:LPe,agAnimateSlideCellRenderer:VPe},apiFunctions:{flashCells:GPe}};function zPe(e){return e.stateSvc?.getState()??{}}function jPe(e,t,n){return e.stateSvc?.setState(t,n)}function wH(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=WPe(e)}return e.version=at,e}function WPe(e){return e.cellSelection=$Pe(e,"rangeSelection"),e}function $Pe(e,t){if(e&&typeof e=="object")return e[t]}var qPe=class extends Me{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Di(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Di(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Di(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=jr(this.gos);const e=wH(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[r,i,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(r(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{i?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=wH(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",i=t?new Set(t):void 0;this.setGridReadyState(n,r,i),this.setColumnsInitialisedState(n,r,!1,i),this.setRowCountState(n,r,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,i),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:i,rowSelection:s,pagination:o}=e,a=(c,d)=>!n?.has(c)&&(d||t==="api");a("filter",r)&&this.setFilterState(r),a("rowGroupExpansion",i)&&this.setRowGroupExpansionState(i,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},r=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:r,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:i,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(f,p)=>!n?.has(f)&&(p||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",r)&&this.setScrollState(r),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();c("rangeSelection",d),c("cellSelection",d),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const r=this.getRangeSelectionState();t("rangeSelection",r),t("cellSelection",r)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return WRe(ix(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:i,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:d,columnOrder:f}=e,p=(B,N)=>!r?.has(B)&&(N||t==="api"),m={},y=B=>{let N=m[B];return N||(N={colId:B},m[B]=N,N)},C={},b=p("sort",i);b&&i?.sortModel.forEach(({colId:B,sort:N},V)=>{const G=y(B);G.sort=N,G.sortIndex=V}),(b||!n)&&(C.sort=null,C.sortIndex=null);const x=p("rowGroup",s);x&&s?.groupColIds.forEach((B,N)=>{const V=y(B);V.rowGroup=!0,V.rowGroupIndex=N}),(x||!n)&&(C.rowGroup=null,C.rowGroupIndex=null);const R=p("aggregation",o);R&&o?.aggregationModel.forEach(({colId:B,aggFunc:N})=>{y(B).aggFunc=N}),(R||!n)&&(C.aggFunc=null);const E=p("pivot",a);E&&(a?.pivotColIds.forEach((B,N)=>{const V=y(B);V.pivot=!0,V.pivotIndex=N}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(E||!n)&&(C.pivot=null,C.pivotIndex=null);const F=p("columnPinning",l);F&&(l?.leftColIds.forEach(B=>{y(B).pinned="left"}),l?.rightColIds.forEach(B=>{y(B).pinned="right"})),(F||!n)&&(C.pinned=null);const I=p("columnVisibility",c);I&&c?.hiddenColIds.forEach(B=>{y(B).hide=!0}),(I||!n)&&(C.hide=null);const _=p("columnSizing",d);_&&d?.columnSizingModel.forEach(({colId:B,flex:N,width:V})=>{const G=y(B);G.flex=N??null,G.width=V}),(_||!n)&&(C.flex=null);const D=f?.orderedColIds,P=!!D?.length&&!r?.has("columnOrder"),k=P?D.map(B=>y(B)):Object.values(m);k.length&&(this.columnStates=k,ga(this.beans,{state:k,applyOrder:P,defaultState:C},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:o}=i;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);ga(i,{state:a,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return $Re(t)}setColumnGroupState(e,t,n){const r=this.beans.colGroupSvc;if(!r||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),o=r.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});i.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),r.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:r,startRow:i,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:r,startRow:i,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!Uu(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const d=r.getCol(c);d&&a.push(d)}),!a.length)return;let l=r.getCol(o.startColId);if(!l){const c=i.allCols,d=new Set(a);l=c.find(f=>d.has(f))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:i,page:s}=e??{page:0,pageSize:r.get("paginationPageSize")},o=t==="gridInitializing";i&&!r.get("paginationAutoPageSize")&&n.setPageSize(i,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:r,id:i})=>{r&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const r=e?.expandedRowGroupIds??[];let i;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of r)o.delete(a);i=Array.from(o)}}n.expandRows(r,i)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];kv(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),kv(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},KPe={moduleName:"GridState",version:at,beans:[qPe],apiFunctions:{getState:zPe,setState:jPe}};function YPe(e){return e.rowModel.isLastRowIndexKnown()}function XPe(e){return e.pagination?.getPageSize()??100}function QPe(e){return e.pagination?.getCurrentPage()??0}function ZPe(e){return e.pagination?.getTotalPages()??1}function JPe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function eFe(e){e.pagination?.goToNextPage()}function tFe(e){e.pagination?.goToPreviousPage()}function nFe(e){e.pagination?.goToFirstPage()}function rFe(e){e.pagination?.goToLastPage()}function iFe(e,t){e.pagination?.goToPage(t)}var sFe=class extends Me{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(ah(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?Di(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},n0="paginationPageSizeSelector",oFe={tag:"span",cls:"ag-paging-page-size"},aFe=class extends Gn{constructor(){super(oFe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(n0,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){co(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(n0)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(n0)!==!0;qe(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||qe(95,{paginationPageSizeOption:t,paginationPageSizeSelector:n0}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Xh(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new TI).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(n0);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},lFe={selector:"AG-PAGE-SIZE-SELECTOR",component:aFe},cFe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",uFe=class extends FSe{constructor(){super(),this.btFirst=Ct,this.btPrevious=Ct,this.btNext=Ct,this.btLast=Ct,this.lbRecordCount=Ct,this.lbFirstRowOnPage=Ct,this.lbLastRowOnPage=Ct,this.lbCurrent=Ct,this.lbTotal=Ct,this.pageSizeComp=Ct,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(cFe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[lFe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",Vo(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Vo(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",Vo(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",Vo(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):fwe(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===Ae.ENTER||r.key===Ae.SPACE)&&(r.preventDefault(),n())}})}),hwe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):eAe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Pve(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>r&&(a=r));const l=o+s-1,c=!e&&n<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let f;const p=this.getLocaleTextFunc();c?f=p("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const y=t>0?i+1:0,C=this.formatNumber(y);this.lbCurrent.textContent=C;let b,x;if(e)b=this.formatNumber(t),x=this.formatNumber(r);else{const R=p("more","more");b=R,x=R}this.lbTotal.textContent=b,this.lbRecordCount.textContent=x,this.announceAriaStatus(d,f,x,C,b)}announceAriaStatus(e,t,n,r,i){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,d=`${o} ${r} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnounce?.announceValue(d,"paginationPage"))}},dFe={selector:"AG-PAGINATION",component:uFe},hFe=class extends Me{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return dFe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return nt(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:nt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:nt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:nt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let o=n*(i+1)-1;if(o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},fFe={moduleName:"Pagination",version:at,beans:[hFe,sFe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:YPe,paginationGetPageSize:XPe,paginationGetCurrentPage:QPe,paginationGetTotalPages:ZPe,paginationGetRowCount:JPe,paginationGoToNextPage:eFe,paginationGoToPreviousPage:tFe,paginationGoToFirstPage:nFe,paginationGoToLastPage:rFe,paginationGoToPage:iFe},dependsOn:[$1]};function pFe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function cK(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&cK(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function gFe(e,t){return e.rowModel.getRowNode(t)}function mFe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function vFe(e){return e.rowRenderer.getRenderedNodes()}function yFe(e,t,n){e.rowModel.forEachNode(t,n)}function CFe(e){return e.rowRenderer.firstRenderedRow}function wFe(e){return e.rowRenderer.lastRenderedRow}function bFe(e,t){return e.rowModel.getRow(t)}function SFe(e){return e.rowModel.getRowCount()}var xFe={moduleName:"RowApi",version:at,apiFunctions:{redrawRows:pFe,setRowNodeExpanded:cK,getRowNode:gFe,addRenderedRowListener:mFe,getRenderedNodes:vFe,forEachNode:yFe,getFirstDisplayedRowIndex:CFe,getLastDisplayedRowIndex:wFe,getDisplayedRowAtIndex:bFe,getDisplayedRowCount:SFe}},EFe={moduleName:"ScrollApi",version:at,apiFunctions:{getVerticalPixelRange:$_e,getHorizontalPixelRange:q_e,ensureColumnVisible:eK,ensureIndexVisible:tK,ensureNodeVisible:K_e}};function TFe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function RFe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function AFe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function _Fe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function DFe(e){e.animationFrameSvc?.flushAllFrames()}function PFe(e){return{rowHeight:ah(e),headerHeight:iC(e)}}function FFe(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(Bv(o))}),t.columns?.length)return n;const r=[],i=UD(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(i&&!zD(s.rowNode,i)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(Bv(l))}}),[...r,...n]}var kFe={moduleName:"RenderApi",version:at,apiFunctions:{setGridAriaProperty:TFe,refreshCells:RFe,refreshHeader:AFe,isAnimationFrameQueueEmpty:_Fe,flushAllAnimationFrames:DFe,getSizesForCurrentTheme:PFe,getCellRendererInstances:FFe}};function IFe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function uK({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function MFe(e,t){t&&typeof t=="object"?uK(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var OFe=class extends Me{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:c,renderStatus:d,colModel:f,autoWidthCalc:p,visibleCols:m}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&d&&!d.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const y=[];let C=-1;const b=Object.fromEntries(a.map(({colId:E,maxWidth:F,minWidth:I})=>[E,{maxWidth:F,minWidth:I}])),x=n??this.gos.get("skipHeaderOnAutoSize"),R=r??x;for(;C!==0;){C=0;const E=[];t.forEach(F=>{if(!F||Pye(F))return;const I=f.getCol(F);if(!I||y.indexOf(I)>=0)return;const _=p.getPreferredWidthForColumn(I,x);if(_>0){const D=b[I.colId]??{};D.minWidth??(D.minWidth=o),D.maxWidth??(D.maxWidth=s);const P=LFe(I,_,D);I.setActualWidth(P,l),y.push(I),C++}E.push(I)}),E.length&&m.refresh(l)}R||this.autoSizeColumnGroupsByColumns(t,l,i),sg(this.eventSvc,y,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set;r.getColsForKeys(e).forEach(c=>{let d=c.getParent();for(;d&&d!=n;)d.isPadding()||s.add(d),d=d.getParent()});let a;const l=[];for(const c of s){for(const d of i.getHeaderRowContainerCtrls())if(a=d.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new Vd(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.removeEventListener("doubleTap",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:r}=this.beans,i=n.getGridBodyCtrl(),o=i.isVerticalScrollShowing()?r.getScrollbarWidth():0,l=Ov(i.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):qe(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&r?.columnLimits?.forEach(({key:m,...y})=>{i[typeof m=="string"?m:m.getColId()]=y});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===Kl(s)&&s.every(y=>{if(y.colDef.suppressSizeToFit)return!0;const C=i?.[y.getId()],b=C?.minWidth??r?.defaultMinWidth,x=C?.maxWidth??r?.defaultMaxWidth,R=y.getActualWidth();return(b==null||R>=b)&&(x==null||R<=x)}))return;const a=[],l=[];s.forEach(m=>{m.getColDef().suppressSizeToFit===!0?l.push(m):a.push(m)});const c=a.slice(0);let d=!1;const f=m=>{Yo(a,m),l.push(m)};for(a.forEach(m=>{m.resetActualWidth(t);const y=i?.[m.getId()],C=y?.minWidth??r?.defaultMinWidth,b=y?.maxWidth??r?.defaultMaxWidth,x=m.getActualWidth();typeof C=="number"&&x<C?m.setActualWidth(C,t,!0):typeof b=="number"&&x>b&&m.setActualWidth(b,t,!0)});!d;){d=!0;const m=e-Kl(l);if(m<=0)a.forEach(y=>{const C=i?.[y.getId()]?.minWidth??r?.defaultMinWidth;if(typeof C=="number"){y.setActualWidth(C,t,!0);return}y.setActualWidth(y.minWidth,t)});else{const y=m/Kl(a);let C=m;for(let b=a.length-1;b>=0;b--){const x=a[b],R=i?.[x.getId()],E=R?.minWidth??r?.defaultMinWidth,F=R?.maxWidth??r?.defaultMaxWidth,I=x.getMinWidth(),_=x.getMaxWidth(),D=typeof E=="number"&&E>I?E:I,P=typeof F=="number"&&F<_?F:_;let k=Math.round(x.getActualWidth()*y);k<D?(k=D,f(x),d=!1):k>P?(k=P,f(x),d=!1):b===0&&(k=C),x.setActualWidth(k,t,!0),C-=k}}}c.forEach(m=>{m.fireColumnWidthChangedEvent(t)});const p=this.beans.visibleCols;p.setLeftValues(t),p.updateBodyWidths(),!n&&sg(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function LFe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}var NFe={moduleName:"ColumnAutoSize",version:at,beans:[OFe],apiFunctions:{sizeColumnsToFit:IFe,autoSizeColumns:uK,autoSizeAllColumns:MFe},dependsOn:[hq]},BFe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function VFe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function HFe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function GFe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function UFe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function zFe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var jFe={moduleName:"PinnedRow",version:at,beans:[dSe],css:[BFe],apiFunctions:{getPinnedTopRowCount:VFe,getPinnedBottomRowCount:HFe,getPinnedTopRow:GFe,getPinnedBottomRow:UFe,forEachPinnedRow:zFe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},WFe=class extends Pp{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,o){this.eWrapper=n,super.setComp(e,t,n,r,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&w7(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){Mve(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(H1(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},$Fe=class extends hx{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new WFe(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},qFe=class extends Me{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,r=this[n],i=r.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const c of s)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(d,f)=>{if(o.has(f.firstNode))return;const p=r.get(f.firstNode);if(p){o.set(f.firstNode,p),r.delete(f.firstNode);return}a=!0;const m=new $Fe(f.firstNode,this.beans,!1,!1,!1);o.set(f.firstNode,m)});this[n]=o;const l=o.size===i;if(!(!a&&l)){for(const c of r.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const r=`${dK(e.rowPinned)}Ctrls`,i=this[r].get(n.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},dK=e=>e??"center",KFe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},YFe=class extends Me{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,d=n.getCallback("isFullWidthRow"),f=a.equals,p=a.spanRows,m=typeof p=="function";let y=null,C=null,b;const x=(E,F)=>{y=E,C=null,b=F},R=E=>{const F=!E.isExpandable()&&!E.group&&!E.detail&&(d?!d({rowNode:E}):!0);if(E.rowIndex==null||!F){x(null,null);return}if(y==null||E.level!==y.level||E.footer||C&&E.rowIndex-1!==C?.getLastNode().rowIndex){x(E,s.getValue(t,E));return}const I=s.getValue(t,E);if(m){const _=Et(n,{valueA:b,nodeA:y,valueB:I,nodeB:E,column:t,colDef:a});if(!p(_)){x(E,I);return}}else if(f?!f(b,I):b!==I){x(E,I);return}if(!C){const _=l?.get(y);_?.firstNode===y?(_.reset(),C=_):C=new KFe(t,y),c.set(y,C)}C.addSpannedNode(E),c.set(E,C)};switch(e){case"center":i.forEachDisplayedNode?.(E=>{(!o||o.isRowInPage(E.rowIndex))&&R(E)});break;case"top":r?.forEachPinnedRow("top",R);break;case"bottom":r?.forEachPinnedRow("bottom",R);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${dK(e.rowPinned)}ValueNodeMap`].get(e)}},XFe=class extends Me{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Di(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Di(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new YFe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(i);break;case"bottom":o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},QFe={moduleName:"CellSpan",version:at,beans:[XFe,qFe]},ZFe=class extends Me{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);mI(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i,i.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return Et(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},JFe=class extends Me{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){mI(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new ZFe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},eke={moduleName:"CellStyle",version:at,beans:[JFe]},tke={moduleName:"RowStyle",version:at,beans:[ibe]};function nke(e,t){return!!e.colHover?.isHovered(t)}var rke=class extends Me{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:i,element:s,columns:o}=this,a=r.colHover;n??!!i.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},ike="ag-column-hover",ske=class extends Me{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(ike,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new rke(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},oke={moduleName:"ColumnHover",version:at,beans:[ske],apiFunctions:{isColumnHovered:nke}},ake=class extends Me{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,r=!iS.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addEventListener(e,n,r)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(n);i||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{iS.has(s)&&t(s,o)},r=(s,o)=>{iS.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){const{syncListener:o,asyncListener:a}=r.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function lke(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function cke(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function uke(e,t){e.apiEventSvc?.addGlobalListener(t)}function dke(e,t){e.apiEventSvc?.removeGlobalListener(t)}var hke={moduleName:"EventApi",version:at,apiFunctions:{addEventListener:lke,addGlobalListener:uke,removeEventListener:cke,removeGlobalListener:dke},beans:[ake]},fke={moduleName:"Locale",version:at,beans:[jRe]},pke=class extends Me{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Di(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let c=Gu(this.beans,a).height;for(const d of i){let f=l?.[d.getColId()];const p=n?.getCellSpan(d,a);if(p){if(p.getLastNode()!==a)continue;if(f=n?.getCellSpan(d,a)?.getLastNodeAutoHeight(),!f)return}if(f==null){if(this.colSpanSkipCell(d,a))continue;return}c=Math.max(f,c)}c!==a.rowHeight&&(a.setRowHeight(c),s=!0)};r?.forEachPinnedRow?.("top",o),r?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,a=d=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:p,borderBottomWidth:m,borderTopWidth:y}=qh(r),C=f+p+m+y,x=t.offsetHeight+C;if(d<5){const R=hi(o),E=!R||!R.contains(t),F=x==0;if(E||F){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(i,x,s)},l=()=>a(0);l();const c=Rc(o,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const i=n.__autoHeights[r.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},gke={moduleName:"RowAutoHeight",version:at,beans:[pke]},mke={moduleName:"AllCommunity",version:at,dependsOn:[pPe,SPe,kPe,gAe,CDe,wDe,bDe,SDe,xDe,EDe,TDe,yDe,y_e,C_e,w_e,v_e,S_e,x_e,KPe,XDe,fFe,fq,xFe,EFe,kFe,NFe,dxe,jFe,HDe,RRe,eke,oke,tke,hke,DRe,UPe,Jq,fke,gke,uxe,gPe,QFe]},Xi=ue.createContext({}),hK=ue.createContext("default"),sC=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),bH(r,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),r&&bH(r,void 0))}},bH=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Lo=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),Ho=class fK{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new fK;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Mg=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},qD=ue.version?.split(".")[0],pK=qD==="16"||qD==="17";function vke(){return qD==="19"}var sS=!1;function yke(e){return sS||setTimeout(()=>sS=!1,0),sS=!0,e()}var Wv=(e,t)=>{!pK&&e&&!sS?yu.flushSync(t):t()},Cke=e=>{pK?e():ue.startTransition(e)};function wke(e,t,n){return ue.useSyncExternalStore?ue.useSyncExternalStore(e,t):n}function mx(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;s.has(c)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var gK=T.forwardRef((e,t)=>{const{registry:n,context:r}=T.useContext(Xi),i=T.useRef(null),s=T.useRef(null),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),c=T.useRef(),[d,f]=T.useState(),[p,m]=T.useState(),[y,C]=T.useState(),[b,x]=T.useState(()=>new Ho),[R,E]=T.useState(()=>new Ho("ag-hidden")),[F,I]=T.useState(()=>new Ho("ag-hidden")),[_,D]=T.useState(()=>new Ho("ag-invisible"));T.useImperativeHandle(t,()=>({refresh(){return!1}})),T.useLayoutEffect(()=>sC(d,r,s.current),[d]);const P=T.useCallback(se=>{if(i.current=se,!se){c.current=r.destroyBean(c.current);return}const he={setInnerRenderer:(L,ae)=>{f(L),C(ae)},setChildCount:L=>m(L),toggleCss:(L,ae)=>x(W=>W.setClass(L,ae)),setContractedDisplayed:L=>I(ae=>ae.setClass("ag-hidden",!L)),setExpandedDisplayed:L=>E(ae=>ae.setClass("ag-hidden",!L)),setCheckboxVisible:L=>D(ae=>ae.setClass("ag-invisible",!L)),setCheckboxSpacing:L=>D(ae=>ae.setClass("ag-group-checkbox-spacing",L))},ne=n.createDynamicBean("groupCellRendererCtrl",!0);ne&&(c.current=r.createBean(ne),c.current.init(he,se,o.current,a.current,l.current,gK,e))},[]),k=T.useMemo(()=>`ag-cell-wrapper ${b.toString()}`,[b]),B=T.useMemo(()=>`ag-group-expanded ${R.toString()}`,[R]),N=T.useMemo(()=>`ag-group-contracted ${F.toString()}`,[F]),V=T.useMemo(()=>`ag-group-checkbox ${_.toString()}`,[_]),G=d?.componentFromFramework,oe=G?d.componentClass:void 0,le=d==null&&y!=null,J=Fg(y);return ue.createElement("span",{className:k,ref:P,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},ue.createElement("span",{className:B,ref:a}),ue.createElement("span",{className:N,ref:l}),ue.createElement("span",{className:V,ref:o}),ue.createElement("span",{className:"ag-group-value",ref:s},le?J:G?ue.createElement(oe,{...d.params}):null),ue.createElement("span",{className:"ag-group-child-count"},p))}),SH=gK,NI=T.createContext({setMethods:()=>{}}),bke=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...o},a]=T.useState(t);return T.useEffect(()=>{n(l=>a(l))},[]),ue.createElement(NI.Provider,{value:{setMethods:i}},ue.createElement(r,{key:s,...o}))},Ske=T.memo(bke),xke=0;function xH(){return`agPortalKey_${++xke}`}var mK=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=xH(),this.portalKey=xH(),this.instanceCreated=this.isStatelessComponent()?an.resolve(!1):new an(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new an(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Cg.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return T.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Y1(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var ho=class extends mK{constructor(){super(...arguments),this.awaitUpdateCallback=new an(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Ske}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new an(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Y1(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new an(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Eke=class extends ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Tke=class extends ho{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Rke=class extends ho{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},Ake=class extends ho{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new an(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new an(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},_ke=class extends ho{constructor(){super(...arguments),this.awaitSetMethodsCallback=new an(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function vK(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||an.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Dke=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Y1(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),vK(this.floatingFilterParams,e)}},Pke=class extends ho{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),vK(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Fke=class extends ho{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},kke=class extends ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ike=class extends ho{refresh(e){this.sourceParams=e,this.refreshProps()}},Mke=class extends ho{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Oke=class extends ho{refresh(e){this.sourceParams=e,this.refreshProps()}},Lke=class extends ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Nke=class extends ho{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function BI(){qe(231)}var Bke=1e3,Vke=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||Bke}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Wv(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},Hke=({ctrl:e})=>{const t=e.isAlive(),{context:n}=T.useContext(Xi),r=t?e.column.getColId():void 0,[i,s]=T.useState(),[o,a]=T.useState(),l=T.useRef(),c=T.useRef(null),d=T.useRef(null),f=T.useRef(null),p=T.useRef(),m=T.useRef();t&&!m.current&&(m.current=new tC(()=>c.current));const y=T.useCallback(R=>{if(c.current=R,l.current=R?n.createBean(new kg):n.destroyBean(l.current),!R||!e.isAlive())return;const E=()=>{const I=e.getSelectAllGui();I&&(d.current?.insertAdjacentElement("afterend",I),l.current.addDestroyFunc(()=>I.remove()))},F={setWidth:I=>{c.current&&(c.current.style.width=I)},toggleCss:(I,_)=>m.current.toggleCss(I,_),setUserStyles:I=>a(I),setAriaSort:I=>{c.current&&(I?Nve(c.current,I):Bve(c.current))},setUserCompDetails:I=>s(I),getUserCompInstance:()=>p.current||void 0,refreshSelectAllGui:E,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(F,R,d.current,f.current,l.current),E()},[]);T.useLayoutEffect(()=>sC(i,n,f.current,p),[i]),T.useEffect(()=>{e.setDragSource(c.current)},[i]);const C=T.useMemo(()=>!!(i?.componentFromFramework&&Mg(i.componentClass)),[i]),b=i?.componentFromFramework,x=i?.componentClass;return ue.createElement("div",{ref:y,style:o,className:"ag-header-cell","col-id":r,role:"columnheader"},ue.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),ue.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},b?C?ue.createElement(x,{...i.params}):ue.createElement(x,{...i.params,ref:p}):null))},Gke=T.memo(Hke),Uke=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Y1(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},zke=({ctrl:e})=>{const{context:t,gos:n}=T.useContext(Xi),[r,i]=T.useState(),[s,o]=T.useState(()=>new Ho("ag-header-cell","ag-floating-filter")),[a,l]=T.useState(()=>new Ho),[c,d]=T.useState(()=>new Ho("ag-floating-filter-button","ag-hidden")),[f,p]=T.useState("false"),[m,y]=T.useState(),[,C]=T.useState(1),b=T.useRef(),x=T.useRef(null),R=T.useRef(null),E=T.useRef(null),F=T.useRef(null),I=T.useRef(),_=T.useRef(),D=L=>{L!=null&&I.current&&I.current(L)},P=T.useCallback(L=>{if(x.current=L,b.current=L?t.createBean(new kg):t.destroyBean(b.current),!L||!e.isAlive())return;_.current=new an(W=>{I.current=W});const ae={toggleCss:(W,H)=>o(X=>X.setClass(W,H)),setUserStyles:W=>i(W),addOrRemoveBodyCssClass:(W,H)=>l(X=>X.setClass(W,H)),setButtonWrapperDisplayed:W=>{d(H=>H.setClass("ag-hidden",!W)),p(W?"false":"true")},setWidth:W=>{x.current&&(x.current.style.width=W)},setCompDetails:W=>y(W),getFloatingFilterComp:()=>_.current?_.current:null,setMenuIcon:W=>F.current?.appendChild(W)};e.setComp(ae,L,F.current,R.current,b.current)},[]);T.useLayoutEffect(()=>sC(m,t,R.current,D),[m]);const k=T.useMemo(()=>s.toString(),[s]),B=T.useMemo(()=>a.toString(),[a]),N=T.useMemo(()=>c.toString(),[c]),V=T.useMemo(()=>!!(m&&m.componentFromFramework&&Mg(m.componentClass)),[m]),G=T.useMemo(()=>n.get("reactiveCustomComponents"),[]),oe=T.useMemo(()=>n.get("enableFilterHandlers"),[]),[le,J]=T.useState();T.useEffect(()=>{if(m?.componentFromFramework)if(G){const L=oe?Uke:Dke,ae=new L(m.params,()=>C(W=>W+1));D(ae),J(ae)}else BI()},[m]);const se=le?.getProps(),he=m?.componentFromFramework,ne=m?.componentClass;return ue.createElement("div",{ref:P,style:r,className:k,role:"gridcell"},ue.createElement("div",{ref:R,className:B,role:"presentation"},he?G?se&&ue.createElement(NI.Provider,{value:{setMethods:L=>le.setMethods(L)}},ue.createElement(ne,{...se})):ue.createElement(ne,{...m.params,ref:V?()=>{}:D}):null),ue.createElement("div",{ref:E,"aria-hidden":f,className:N,role:"presentation"},ue.createElement("button",{ref:F,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},jke=T.memo(zke),Wke=({ctrl:e})=>{const{context:t}=T.useContext(Xi),[n,r]=T.useState(),[i,s]=T.useState(()=>new Ho),[o,a]=T.useState(()=>new Ho),[l,c]=T.useState("false"),[d,f]=T.useState(),[p,m]=T.useState(),y=T.useMemo(()=>e.column.getUniqueId(),[]),C=T.useRef(),b=T.useRef(null),x=T.useRef(null),R=T.useRef(null),E=T.useRef(),F=T.useCallback(B=>{if(b.current=B,C.current=B?t.createBean(new kg):t.destroyBean(C.current),!B||!e.isAlive())return;const N={setWidth:V=>{b.current&&(b.current.style.width=V)},toggleCss:(V,G)=>s(oe=>oe.setClass(V,G)),setUserStyles:V=>r(V),setHeaderWrapperHidden:V=>{const G=R.current;G&&(V?G.style.setProperty("display","none"):G.style.removeProperty("display"))},setHeaderWrapperMaxHeight:V=>{const G=R.current;G&&(V!=null?G.style.setProperty("max-height",`${V}px`):G.style.removeProperty("max-height"),G.classList.toggle("ag-header-cell-comp-wrapper-limited-height",V!=null))},setUserCompDetails:V=>m(V),setResizableDisplayed:V=>{a(G=>G.setClass("ag-hidden",!V)),c(V?"false":"true")},setAriaExpanded:V=>f(V),getUserCompInstance:()=>E.current||void 0};e.setComp(N,B,x.current,R.current,C.current)},[]);T.useLayoutEffect(()=>sC(p,t,R.current),[p]),T.useEffect(()=>{b.current&&e.setDragSource(b.current)},[p]);const I=T.useMemo(()=>!!(p?.componentFromFramework&&Mg(p.componentClass)),[p]),_=T.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),D=T.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),P=p?.componentFromFramework,k=p?.componentClass;return ue.createElement("div",{ref:F,style:n,className:_,"col-id":y,role:"columnheader","aria-expanded":d},ue.createElement("div",{ref:R,className:"ag-header-cell-comp-wrapper",role:"presentation"},P?I?ue.createElement(k,{...p.params}):ue.createElement(k,{...p.params,ref:E}):null),ue.createElement("div",{ref:x,"aria-hidden":l,className:D}))},$ke=T.memo(Wke),qke=({ctrl:e})=>{const{context:t}=T.useContext(Xi),{topOffset:n,rowHeight:r}=T.useMemo(()=>e.getTopAndHeight(),[]),[i,s]=T.useState(e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=T.useState(()=>r+"px"),[c,d]=T.useState(()=>n+"px"),f=T.useRef([]),[p,m]=T.useState(()=>e.getUpdatedHeaderCtrls()),y=T.useRef(),C=T.useRef(null),b=T.useCallback(E=>{if(C.current=E,y.current=E?t.createBean(new kg):t.destroyBean(y.current),!E)return;const F={setHeight:I=>l(I),setTop:I=>d(I),setHeaderCtrls:(I,_,D)=>{const P=f.current,k=mx(P,I,_);k!==P&&(f.current=k,Wv(D,()=>m(k)))},setWidth:I=>{C.current&&(C.current.style.width=I)},setRowIndex:I=>{s(I)}};e.setComp(F,y.current,!1)},[]),x=T.useMemo(()=>({height:a,top:c}),[a,c]),R=T.useCallback(E=>{switch(e.type){case"group":return ue.createElement($ke,{ctrl:E,key:E.instanceId});case"filter":return ue.createElement(jke,{ctrl:E,key:E.instanceId});default:return ue.createElement(Gke,{ctrl:E,key:E.instanceId})}},[]);return ue.createElement("div",{ref:b,className:o,role:"row",style:x,"aria-rowindex":i},p.map(R))},Kke=T.memo(qke),Yke=({pinned:e})=>{const[t,n]=T.useState(!0),[r,i]=T.useState([]),{context:s}=T.useContext(Xi),o=T.useRef(null),a=T.useRef(null),l=T.useRef(),c=e==="left",d=e==="right",f=!c&&!d,p=T.useCallback(C=>{if(o.current=C,l.current=C?s.createBean(new Ube(e)):s.destroyBean(l.current),!C)return;const b={setDisplayed:n,setCtrls:x=>i(x),setCenterWidth:x=>{a.current&&(a.current.style.width=x)},setViewportScrollLeft:x=>{o.current&&(o.current.scrollLeft=x)},setPinnedContainerWidth:x=>{o.current&&(o.current.style.width=x,o.current.style.minWidth=x,o.current.style.maxWidth=x)}};l.current.setComp(b,o.current)},[]),m=t?"":"ag-hidden",y=()=>r.map(C=>ue.createElement(Kke,{ctrl:C,key:C.instanceId}));return c?ue.createElement("div",{ref:p,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},y()):d?ue.createElement("div",{ref:p,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},y()):f?ue.createElement("div",{ref:p,className:"ag-header-viewport "+m,role:"presentation",tabIndex:-1},ue.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())):null},bA=T.memo(Yke),Xke=()=>{const[e,t]=T.useState(()=>new Ho),[n,r]=T.useState(),{context:i}=T.useContext(Xi),s=T.useRef(null),o=T.useRef(),a=T.useCallback(d=>{if(s.current=d,o.current=d?i.createBean(new Bbe):i.destroyBean(o.current),!d)return;const f={toggleCss:(p,m)=>t(y=>y.setClass(p,m)),setHeightAndMinHeight:p=>r(p)};o.current.setComp(f,d,d)},[]),l=T.useMemo(()=>"ag-header "+e.toString(),[e]),c=T.useMemo(()=>({height:n,minHeight:n}),[n]);return ue.createElement("div",{ref:a,className:l,style:c,role:"presentation"},ue.createElement(bA,{pinned:"left"}),ue.createElement(bA,{pinned:null}),ue.createElement(bA,{pinned:"right"}))},Qke=T.memo(Xke),Zke=(e,t)=>{T.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},zd=Zke,Jke=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new an(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Y1(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},eIe=e=>{const t=T.useRef(e),n=T.useRef(),r=T.useRef(!1),i=T.useRef(!1),[,s]=T.useState(0);r.current&&(i.current=!0),T.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(o=>o+1),()=>{i.current&&n.current?.()}),[])},tIe=e=>{const[t,n]=T.useState(),r=T.useContext(Xi),{context:i,popupSvc:s,gos:o,editSvc:a}=r,{editDetails:l,cellCtrl:c,eParentCell:d}=e;return eIe(()=>{const{compDetails:f}=l,p=o.get("stopEditingWhenCellsLoseFocus"),m=i.createBean(a.createPopupEditorWrapper(f.params)),y=m.getGui();if(e.jsChildComp){const I=e.jsChildComp.getGui();I&&y.appendChild(I)}const{column:C,rowNode:b}=c,x={column:C,rowNode:b,type:"popupCellEditor",eventSource:d,ePopup:y,position:l.popupPosition,keepWithinBounds:!0},R=s?.positionPopupByComponent.bind(s,x),E=s?.addPopup({modal:p,eChild:y,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:d,positionCallback:R,ariaOwns:d}),F=E?E.hideFunc:void 0;return n(m),e.jsChildComp?.afterGuiAttached?.(),()=>{F?.(),i.destroyBean(m)}}),T.useLayoutEffect(()=>()=>{c.isCellFocused()&&t?.getGui().contains(ur(r))&&d.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Cg.createPortal(e.wrappedContent,t.getGui()):null},EH=T.memo(tIe),nIe=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=Mg(t);return ue.createElement(NI.Provider,{value:{setMethods:o=>r.setMethods(o)}},s?ue.createElement(t,{...i}):ue.createElement(t,{...i,ref:o=>r.setRef(o)}))},TH=(e,t,n)=>e.compProxy?nIe(e,t,n):ue.createElement(t,{...e.compDetails.params,ref:n}),rIe=(e,t,n,r,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return a?TH(e,o,t):l?ue.createElement(EH,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:TH(e,o,t)}):c&&i?ue.createElement(EH,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},iIe=(e,t,n,r,i,s)=>{const{context:o}=T.useContext(Xi),a=T.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),i.current=void 0},[]);T.useEffect(()=>{const l=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,d=t&&n==null;if(!(l&&c&&!d)){a();return}const p=e.compDetails;if(i.current){const y=i.current,b=y.refresh!=null&&e.force==!1?y.refresh(p.params):!1;if(b===!0||b===void 0)return;a()}p.newAgStackInstance().then(y=>{if(!y)return;const C=y.getGui();if(!C)return;(t?n:s.current).appendChild(C),i.current=y})},[e,t,r]),T.useEffect(()=>a,[])},yK=iIe,sIe=({cellCtrl:e,parent:t})=>{const n=T.useRef(),r=T.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(yK(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){const i=r.compDetails.componentClass;return ue.createElement(i,{...r.compDetails.params})}return ue.createElement(ue.Fragment,null)},oIe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=T.useContext(Xi),{context:i}=r,{column:{colIdSanitised:s},instanceId:o}=e,a=T.useRef(),[l,c]=T.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,f]=T.useState(),[p,m]=T.useState(1),[y,C]=T.useState(),[b,x]=T.useState(!1),[R,E]=T.useState(!1),[F,I]=T.useState(!1),[_,D]=T.useState(),P=T.useMemo(()=>e.isForceWrapper(),[e]),k=T.useMemo(()=>e.getCellAriaRole(),[e]),B=T.useRef(null),N=T.useRef(null),V=T.useRef(null),G=T.useRef(),oe=T.useRef(),le=T.useRef(),J=T.useRef([]),se=T.useRef(),[he,ne]=T.useState(0),L=T.useCallback(ze=>{se.current=ze,ne(Xe=>Xe+1)},[]),ae=l!=null&&(b||F||R)&&(d==null||!!d.popup),W=P||ae,H=T.useCallback(ze=>{if(oe.current=ze,ze){const Xe=ze.isCancelBeforeStart&&ze.isCancelBeforeStart();setTimeout(()=>{Xe?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(ze))})}},[e]),X=T.useRef();X.current||(X.current=new tC(()=>B.current)),yK(l,W,se.current,he,G,B);const ie=T.useRef();T.useLayoutEffect(()=>{const ze=ie.current,Xe=l;if(ie.current=l,ze==null||ze.compDetails==null||Xe==null||Xe.compDetails==null)return;const Ze=ze.compDetails,ke=Xe.compDetails;if(Ze.componentClass!=ke.componentClass||V.current?.refresh==null)return;V.current.refresh(ke.params)!=!0&&m(At=>At+1)},[l]),T.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const Xe=d.compDetails,Ze=d.popup===!0,ke=Xe.newAgStackInstance();return ke.then(ct=>{if(!ct)return;const At=ct.getGui();H(ct),Ze||((P?le:B).current?.appendChild(At),ct.afterGuiAttached&&ct.afterGuiAttached()),D(ct)}),()=>{ke.then(ct=>{const At=ct.getGui();e.disableEditorTooltipFeature(),i.destroyBean(ct),H(void 0),D(void 0),At?.parentElement?.removeChild(At)})}},[d]);const fe=T.useCallback(ze=>{if(le.current=ze,!ze){J.current.forEach(Ze=>Ze()),J.current=[];return}const Xe=Ze=>{if(Ze){const ke=Ze.getGui();ze.insertAdjacentElement("afterbegin",ke),J.current.push(()=>{i.destroyBean(Ze),Cc(ke)})}return Ze};if(b){const Ze=e.createSelectionCheckbox();Xe(Ze)}F&&Xe(e.createDndSource()),R&&Xe(e.createRowDragComp())},[e,i,F,R,b]),Be=T.useCallback(()=>{const ze=!e.isCellSpanning()||N.current,Xe=B.current;if(a.current=Xe?i.createBean(new kg):i.destroyBean(a.current),!Xe||!ze||!e)return;const Ze={toggleCss:(ct,At)=>X.current.toggleCss(ct,At),setUserStyles:ct=>C(ct),getFocusableElement:()=>B.current,setIncludeSelection:ct=>x(ct),setIncludeRowDrag:ct=>E(ct),setIncludeDndSource:ct=>I(ct),getCellEditor:()=>oe.current||null,getCellRenderer:()=>V.current??G.current,getParentOfValue:()=>se.current??le.current??B.current,setRenderDetails:(ct,At,mt)=>{const _t=()=>{c(It=>It?.compDetails!==ct||It?.value!==At||It?.force!==mt?{value:At,compDetails:ct,force:mt}:It)};if(ct?.params?.deferRender&&!e.rowNode.group){const{loadingComp:It,onReady:Gt}=e.getDeferLoadingCellRenderer();if(It){c({value:void 0,compDetails:It,force:!1}),Gt.then(()=>Cke(_t));return}}_t()},setEditDetails:(ct,At,mt,_t)=>{if(ct){let It;ct.componentFromFramework&&(_t?It=new Jke(ct.params,()=>m(Gt=>Gt+1)):BI()),f({compDetails:ct,popup:At,popupPosition:mt,compProxy:It}),At||c(void 0)}else e.hasBrowserFocus()&&Ze.getFocusableElement().focus({preventScroll:!0}),f(Gt=>{Gt?.compProxy&&(oe.current=void 0)})},refreshEditStyles:(ct,At)=>{if(!B.current)return;const{current:mt}=X;mt.toggleCss("ag-cell-value",!W),mt.toggleCss("ag-cell-inline-editing",!!ct&&!At),mt.toggleCss("ag-cell-popup-editing",!!ct&&!!At),mt.toggleCss("ag-cell-not-inline-editing",!ct||!!At)}},ke=le.current||void 0;e.setComp(Ze,Xe,N.current??void 0,ke,t,n,a.current)},[]),Ne=T.useCallback(ze=>{B.current=ze,Be()},[]),Ie=T.useCallback(ze=>{N.current=ze,Be()},[]),Fe=T.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Mg(l.compDetails.componentClass)),[l]);T.useLayoutEffect(()=>{if(!B.current)return;const{current:ze}=X;ze.toggleCss("ag-cell-value",!W),ze.toggleCss("ag-cell-inline-editing",!!d&&!d.popup),ze.toggleCss("ag-cell-popup-editing",!!d&&!!d.popup),ze.toggleCss("ag-cell-not-inline-editing",!d||!!d.popup)});const rt=()=>{const{compDetails:ze,value:Xe}=l;if(!ze)return Xe?.toString?.()??Xe;if(ze.componentFromFramework){const Ze=ze.componentClass;return ue.createElement(T.Suspense,{fallback:ue.createElement(sIe,{cellCtrl:e,parent:B})},Fe?ue.createElement(Ze,{...ze.params,key:p}):ue.createElement(Ze,{...ze.params,key:p,ref:V}))}},re=()=>{const ze=()=>l==null?null:W?ue.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:L},rt()):rt(),Xe=Ze=>rIe(Ze,H,B.current,e,_);return d!=null?d.popup?ue.createElement(ue.Fragment,null,ze(),Xe(d)):Xe(d):ze()},bt=()=>ue.createElement("div",{ref:Ne,style:y,role:k,"col-id":s},W?ue.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:fe},re()):re());return e.isCellSpanning()?ue.createElement("div",{ref:Ie,className:"ag-spanned-cell-wrapper",role:"presentation"},bt()):bt()},aIe=T.memo(oIe),lIe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:i}=T.useContext(Xi),s=T.useContext(hK)==="default",o=T.useRef(),a=T.useRef(e.getDomOrder()),l=e.isFullWidth(),c=e.rowNode.displayed,[d,f]=T.useState(()=>c?e.rowNode.getRowIndexString():null),[p,m]=T.useState(()=>e.rowId),[y,C]=T.useState(()=>e.businessKey),[b,x]=T.useState(()=>e.rowStyles),R=T.useRef(null),[E,F]=T.useState(()=>null),[I,_]=T.useState(),[D,P]=T.useState(()=>c?e.getInitialRowTop(t):void 0),[k,B]=T.useState(()=>c?e.getInitialTransform(t):void 0),N=T.useRef(null),V=T.useRef(),G=T.useRef(!1),[oe,le]=T.useState(0);T.useEffect(()=>{if(G.current||!I||oe>10)return;const Ie=N.current?.firstChild;Ie?(e.setupDetailRowAutoHeight(Ie),G.current=!0):le(Fe=>Fe+1)},[I,oe]);const J=T.useRef();J.current||(J.current=new tC(()=>N.current));const se=T.useRef(()=>{}),he=T.useCallback(Ie=>(se.current=Ie,()=>{se.current=()=>{}}),[]),ne=wke(he,()=>R.current,[]),L=s?ne:E,ae=T.useCallback(Ie=>{if(N.current=Ie,o.current=Ie?n.createBean(new kg):n.destroyBean(o.current),!Ie){e.unsetComp(t);return}if(!e.isAlive())return;const Fe={setTop:P,setTransform:B,toggleCss:(rt,re)=>J.current.toggleCss(rt,re),setDomOrder:rt=>a.current=rt,setRowIndex:f,setRowId:m,setRowBusinessKey:C,setUserStyles:x,setCellCtrls:(rt,re)=>{const bt=R.current,ze=mx(bt,rt,a.current);ze!==bt&&(R.current=ze,s?se.current():Wv(re,()=>F(ze)))},showFullWidth:rt=>_(rt),getFullWidthCellRenderer:()=>V.current,refreshFullWidth:rt=>fe.current?(_(re=>({...re,params:rt()})),!0):!V.current||!V.current.refresh?!1:V.current.refresh(rt())};e.setComp(Fe,Ie,t,o.current)},[]);T.useLayoutEffect(()=>sC(I,n,N.current,V),[I]);const W=T.useMemo(()=>{const Ie={top:D,transform:k};return Object.assign(Ie,b),Ie},[D,k,b]),H=l&&I?.componentFromFramework,X=!l&&L!=null,ie=T.useMemo(()=>!!(I?.componentFromFramework&&Mg(I.componentClass)),[I]),fe=T.useRef(!1);T.useEffect(()=>{fe.current=ie&&!!I&&!!r.get("reactiveCustomComponents")},[ie,I]);const Be=()=>L?.map(Ie=>ue.createElement(aIe,{cellCtrl:Ie,editingCell:i?.isEditing(Ie,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Ie.instanceId})),Ne=()=>{const Ie=I.componentClass;return ie?ue.createElement(Ie,{...I.params}):ue.createElement(Ie,{...I.params,ref:V})};return ue.createElement("div",{ref:ae,role:"row",style:W,"row-index":d,"row-id":p,"row-business-key":y},X?Be():H?Ne():null)},RH=T.memo(lIe),cIe=({name:e})=>{const{context:t,gos:n}=T.useContext(Xi),r=T.useMemo(()=>rC(e),[e]),i=T.useRef(null),s=T.useRef(null),o=T.useRef(null),a=T.useRef([]),l=T.useRef([]),[c,d]=T.useState(()=>[]),f=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,p=T.useRef([]),m=T.useRef([]),[y,C]=T.useState(()=>[]),b=T.useRef(!1),x=T.useRef(),R=T.useMemo(()=>Lo("ag-viewport",j$(e)),[e]),E=T.useMemo(()=>Lo(rS(e)),[e]),F=T.useMemo(()=>Lo("ag-spanning-container",mbe(e)),[e]),I=r.type==="center"||f,_=I?i:s;zd(" AG Row Container "+e+" ",_);const D=T.useCallback(()=>{const le=!I||i.current!=null,J=s.current!=null,se=!f||o.current!=null;return le&&J&&se},[]),P=T.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),k=T.useCallback(()=>{if(P()&&(x.current=t.destroyBean(x.current)),D()){const le=he=>{const ne=mx(l.current,a.current,b.current);ne!==l.current&&(l.current=ne,Wv(he,()=>d(ne)))},J=he=>{const ne=mx(m.current,p.current,b.current);ne!==m.current&&(m.current=ne,Wv(he,()=>C(ne)))},se={setHorizontalScroll:he=>{i.current&&(i.current.scrollLeft=he)},setViewportHeight:he=>{i.current&&(i.current.style.height=he)},setRowCtrls:({rowCtrls:he,useFlushSync:ne})=>{const L=!!ne&&a.current.length>0&&he.length>0;a.current=he,le(L)},setSpannedRowCtrls:(he,ne)=>{const L=!!ne&&p.current.length>0&&he.length>0;p.current=he,J(L)},setDomOrder:he=>{b.current!=he&&(b.current=he,le(!1))},setContainerWidth:he=>{s.current&&(s.current.style.width=he)},setOffsetTop:he=>{s.current&&(s.current.style.transform=`translateY(${he})`)}};x.current=t.createBean(new Rbe(e)),x.current.setComp(se,s.current,o.current??void 0,i.current)}},[D,P]),B=T.useCallback(le=>{s.current=le,k()},[k]),N=T.useCallback(le=>{o.current=le,k()},[k]),V=T.useCallback(le=>{i.current=le,k()},[k]),G=()=>ue.createElement("div",{className:E,ref:B,role:"rowgroup"},c.map(le=>ue.createElement(RH,{rowCtrl:le,containerType:r.type,key:le.instanceId})));if(!I)return G();const oe=()=>ue.createElement("div",{className:F,ref:N,role:"rowgroup"},y.map(le=>ue.createElement(RH,{rowCtrl:le,containerType:r.type,key:le.instanceId})));return ue.createElement("div",{className:R,ref:V,role:"presentation"},G(),f?oe():null)},uIe=T.memo(cIe),dIe=()=>{const e=T.useContext(Xi),{context:t,overlays:n}=e,[r,i]=T.useState(""),[s,o]=T.useState(0),[a,l]=T.useState(0),[c,d]=T.useState("0px"),[f,p]=T.useState("0px"),[m,y]=T.useState("100%"),[C,b]=T.useState("0px"),[x,R]=T.useState("0px"),[E,F]=T.useState("100%"),[I,_]=T.useState(!0),[D,P]=T.useState(!0),[k,B]=T.useState(null),[N,V]=T.useState(""),[G,oe]=T.useState(null),[le,J]=T.useState("ag-layout-normal"),se=T.useRef();se.current||(se.current=new tC(()=>he.current));const he=T.useRef(null),ne=T.useRef(null),L=T.useRef(null),ae=T.useRef(null),W=T.useRef(null),H=T.useRef(null),X=T.useRef(null),ie=T.useRef([]),fe=T.useRef([]);zd(" AG Grid Body ",he),zd(" AG Pinned Top ",ne),zd(" AG Sticky Top ",L),zd(" AG Middle ",H),zd(" AG Pinned Bottom ",X);const Be=T.useCallback(_t=>{if(he.current=_t,!_t){ie.current=t.destroyBeans(ie.current),fe.current.forEach(Ke=>Ke()),fe.current=[];return}if(!t)return;const It=(Ke,lt)=>{Ke.appendChild(lt),fe.current.push(()=>Ke.removeChild(lt))},Gt=Ke=>{const lt=t.createBean(new Ke);return ie.current.push(lt),lt},$t=(Ke,lt,dt)=>{It(Ke,document.createComment(dt)),It(Ke,Gt(lt).getGui())};$t(_t,kbe," AG Fake Horizontal Scroll ");const wn=n?.getOverlayWrapperCompClass();wn&&$t(_t,wn," AG Overlay Wrapper "),W.current&&$t(W.current,Mbe," AG Fake Vertical Scroll ");const ve={setRowAnimationCssOnBodyViewport:i,setColumnCount:Ke=>{he.current&&Ove(he.current,Ke)},setRowCount:Ke=>{he.current&&Ive(he.current,Ke)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:p,setStickyTopWidth:y,setTopInvisible:_,setBottomInvisible:P,setColumnMovingCss:(Ke,lt)=>se.current.toggleCss(Ke,lt),updateLayoutClasses:J,setAlwaysVerticalScrollClass:B,setPinnedTopBottomOverflowY:V,setCellSelectableCss:(Ke,lt)=>oe(lt?Ke:null),setBodyViewportWidth:Ke=>{H.current&&(H.current.style.width=Ke)},registerBodyViewportResizeListener:Ke=>{if(H.current){const lt=Rc(e,H.current,Ke);fe.current.push(()=>lt())}},setStickyBottomHeight:b,setStickyBottomBottom:R,setStickyBottomWidth:F,setGridRootRole:Ke=>_t.setAttribute("role",Ke)},Oe=t.createBean(new Pbe);ie.current.push(Oe),Oe.setComp(ve,_t,H.current,ne.current,X.current,L.current,ae.current)},[]),Ne=T.useMemo(()=>Lo("ag-root","ag-unselectable",le),[le]),Ie=T.useMemo(()=>Lo("ag-body-viewport",r,le,k,G),[r,le,k,G]),Fe=T.useMemo(()=>Lo("ag-body",le),[le]),rt=T.useMemo(()=>Lo("ag-floating-top",I?"ag-invisible":null,G),[G,I]),re=T.useMemo(()=>Lo("ag-sticky-top",G),[G]),bt=T.useMemo(()=>Lo("ag-sticky-bottom",C==="0px"?"ag-invisible":null,G),[G,C]),ze=T.useMemo(()=>Lo("ag-floating-bottom",D?"ag-invisible":null,G),[G,D]),Xe=T.useMemo(()=>({height:s,minHeight:s,overflowY:N}),[s,N]),Ze=T.useMemo(()=>({height:c,top:f,width:m}),[c,f,m]),ke=T.useMemo(()=>({height:C,bottom:x,width:E}),[C,x,E]),ct=T.useMemo(()=>({height:a,minHeight:a,overflowY:N}),[a,N]),At=_t=>ue.createElement(uIe,{name:_t,key:`${_t}-container`}),mt=({section:_t,children:It,className:Gt,style:$t})=>ue.createElement("div",{ref:_t,className:Gt,role:"presentation",style:$t},It.map(At));return ue.createElement("div",{ref:Be,className:Ne},ue.createElement(Qke,null),mt({section:ne,className:rt,style:Xe,children:["topLeft","topCenter","topRight","topFullWidth"]}),ue.createElement("div",{className:Fe,ref:W,role:"presentation"},mt({section:H,className:Ie,children:["left","center","right","fullWidth"]})),mt({section:L,className:re,style:Ze,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),mt({section:ae,className:bt,style:ke,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),mt({section:X,className:ze,style:ct,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},hIe=T.memo(dIe),fIe=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=T.useContext(Xi),c=T.useRef(null),d=T.useRef(null),f=T.useRef(),p=x=>{const R=x==null?void 0:parseInt(x,10).toString();[c,d].forEach(E=>{R===void 0?E.current?.removeAttribute("tabindex"):E.current?.setAttribute("tabindex",R)})};T.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){f.current?.forceFocusOutOfContainer(x)}}));const m=T.useCallback(()=>{const x=c.current,R=d.current;if(!x&&!R){f.current=l.destroyBean(f.current);return}if(x&&R){const E={setTabIndex:p};f.current=l.createBean(new nq({comp:E,eTopGuard:x,eBottomGuard:R,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:F=>s.focusInnerElement(F),isEmpty:a}))}},[]),y=T.useCallback(x=>{c.current=x,m()},[m]),C=T.useCallback(x=>{d.current=x,m()},[m]),b=x=>{const R=x==="top"?Fp.TAB_GUARD_TOP:Fp.TAB_GUARD_BOTTOM;return ue.createElement("div",{className:`${Fp.TAB_GUARD} ${R}`,role:"presentation",ref:x==="top"?y:C})};return ue.createElement(ue.Fragment,null,b("top"),n,b("bottom"))},pIe=T.forwardRef(fIe),gIe=T.memo(pIe),mIe=({context:e})=>{const[t,n]=T.useState(""),[r,i]=T.useState(""),[s,o]=T.useState(null),[a,l]=T.useState(null),[c,d]=T.useState(!1),[f,p]=T.useState(),m=T.useRef(),y=T.useRef(null),C=T.useRef(),[b,x]=T.useState(null),R=T.useRef(()=>{}),E=T.useRef(),F=T.useRef([]),I=T.useCallback(()=>{},[]),_=T.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);zd(" AG Grid ",y);const D=T.useCallback(G=>{if(y.current=G,m.current=G?e.createBean(new NSe):e.destroyBean(m.current),!G||e.isDestroyed())return;const oe=m.current;R.current=oe.focusInnerElement.bind(oe);const le={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:J=>{if(!J&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(J);return}C.current?.forceFocusOutOfContainer(J)},updateLayoutClasses:i,getFocusableContainers:()=>{const J=[],se=y.current?.querySelector(".ag-root");return se&&J.push({getGui:()=>se}),F.current.forEach(he=>{he.isDisplayed()&&J.push(he)}),J},setCursor:o,setUserSelect:l};oe.setComp(le,G,G),d(!0)},[]);T.useEffect(()=>{const G=m.current,oe=y.current;if(!f||!_||!G||!b||!oe||e.isDestroyed())return;const le=[],{watermarkSelector:J,paginationSelector:se,sideBarSelector:he,statusBarSelector:ne,gridHeaderDropZonesSelector:L}=G.getOptionalSelectors(),ae=[];if(L){const H=e.createBean(new L.component),X=H.getGui();oe.insertAdjacentElement("afterbegin",X),ae.push(X),le.push(H)}if(he){const H=e.createBean(new he.component),X=H.getGui(),ie=b.querySelector(".ag-tab-guard-bottom");ie&&(ie.insertAdjacentElement("beforebegin",X),ae.push(X)),le.push(H),F.current.push(H)}const W=H=>{const X=e.createBean(new H),ie=X.getGui();return oe.insertAdjacentElement("beforeend",ie),ae.push(ie),le.push(X),X};if(ne&&W(ne.component),se){const H=W(se.component);E.current=H,F.current.push(H)}return J&&W(J.component),()=>{e.destroyBeans(le),ae.forEach(H=>{H.parentElement?.removeChild(H)})}},[f,b,_]);const P=T.useMemo(()=>Lo("ag-root-wrapper",t,r),[t,r]),k=T.useMemo(()=>Lo("ag-root-wrapper-body","ag-focus-managed",r),[r]),B=T.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),N=T.useCallback(G=>{C.current=G,p(G!==null)},[]),V=T.useCallback(()=>!m.current?.isFocusable(),[]);return ue.createElement("div",{ref:D,className:P,style:B,role:"presentation"},ue.createElement("div",{className:k,ref:x,role:"presentation"},c&&b&&_&&ue.createElement(Xi.Provider,{value:_},ue.createElement(gIe,{ref:N,eFocusableElement:b,onTabKeyDown:I,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:V},ue.createElement(hIe,null)))))},vIe=T.memo(mIe),yIe=class extends Me{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},CK={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},CIe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...CK},wK=new Set(Object.keys(CIe)),wIe=new Set(Object.keys(CK)),bK=e=>{const t=T.useRef(),n=T.useRef(null),r=T.useRef(null),i=T.useRef([]),s=T.useRef([]),o=T.useRef(e),a=T.useRef(),l=T.useRef(),c=T.useRef(!1),[d,f]=T.useState(void 0),[,p]=T.useState(0),m=T.useCallback(x=>{if(n.current=x,!x){i.current.forEach(N=>N()),i.current.length=0;return}const R=e.modules||[];r.current||(r.current=new Vke(()=>p(N=>N+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));const E=gye(e.gridOptions,e,Object.keys(e).filter(N=>!wK.has(N))),F=()=>{if(c.current){const N=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let V=N();for(;V;)V(),V=N()}},I=new EIe(F);a.current=I;const _=new yIe,D={providedBeanInstances:{frameworkCompWrapper:new SIe(r.current,E),renderStatus:_},modules:R,frameworkOverrides:I,setThemeOnGridDiv:!0},P=N=>{f(N),N.createBean(_),i.current.push(()=>{N.destroy()}),N.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{i.current.push(V)}},()=>{if(N.isDestroyed())return;const V=t.current;V&&e.passGridApi?.(V)})},k=N=>{N.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{i.current.push(V)}},()=>{s.current.forEach(V=>V()),s.current.length=0,c.current=!0})},B=new zRe;E.gridId??(E.gridId=l.current),t.current=B.create(x,E,P,k,D),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),y=T.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),C=T.useCallback(x=>{c.current&&!a.current?.shouldQueueUpdates()?x():s.current.push(x)},[]);T.useEffect(()=>{const x=bIe(o.current,e);o.current=e,C(()=>{t.current&&mye(x,t.current)})},[e]);const b=!ue.useSyncExternalStore||Xb(e,"renderingMode")==="legacy"?"legacy":"default";return ue.createElement("div",{style:y,className:e.className,ref:m},ue.createElement(hK.Provider,{value:b},d&&!d.isDestroyed()?ue.createElement(vIe,{context:d}):null,r.current?.getPortals()??null))};function bIe(e,t){const n={};return Object.keys(t).forEach(r=>{if(wK.has(r)){wIe.has(r)&&qe(274,{prop:r});return}const i=t[r];e[r]!==i&&(n[r]=i)}),n}var SIe=class extends qRe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(Xb(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return Xb(n,"enableFilterHandlers")?_ke:Ake;case"floatingFilterComponent":return Xb(n,"enableFilterHandlers")?Fke:Pke;case"dateComponent":return Tke;case"dragAndDropImageComponent":return Rke;case"loadingOverlayComponent":return Ike;case"noRowsOverlayComponent":return Oke;case"statusPanel":return Lke;case"toolPanel":return Nke;case"menuItem":return Mke;case"cellRenderer":return Eke;case"innerHeaderComponent":return kke}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":BI();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new mK(e,this.parent,t,i)}},xIe=T.forwardRef((e,t)=>{const n=T.useContext(Xi),{registry:r,context:i,gos:s,rowModel:o}=n,[a,l]=T.useState(()=>new Ho),[c,d]=T.useState(()=>new Ho),[f,p]=T.useState(),[m,y]=T.useState(),C=T.useRef(),b=T.useRef(null),x=T.useRef(),R=T.useMemo(()=>LCe(e.api.getGridId(),f?.rowModelType??"clientSide"),[e]),E=T.useMemo(()=>a.toString()+" ag-details-row",[a]),F=T.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&T.useImperativeHandle(t,()=>({refresh(){return C.current?.refresh()??!1}})),e.template&&qe(230);const I=T.useCallback(D=>{if(b.current=D,!D){C.current=i.destroyBean(C.current),x.current?.();return}const P={toggleCss:(B,N)=>l(V=>V.setClass(B,N)),toggleDetailGridCss:(B,N)=>d(V=>V.setClass(B,N)),setDetailGrid:B=>p(B),setRowData:B=>y(B),getGui:()=>b.current},k=r.createDynamicBean("detailCellRendererCtrl",!0);if(k&&(i.createBean(k),k.init(P,e),C.current=k,s.get("detailRowAutoHeight"))){const B=()=>{if(b.current==null)return;const N=b.current.clientHeight;N!=null&&N>0&&setTimeout(()=>{e.node.setRowHeight(N),(jr(s)||Kh(s))&&o.onRowHeightChanged()},0)};x.current=Rc(n,D,B),B()}},[]),_=T.useCallback(D=>{C.current?.registerDetailWithMaster(D)},[]);return ue.createElement("div",{className:E,ref:I},f&&ue.createElement(bK,{className:F,...f,modules:R,rowData:m,passGridApi:_}))}),EIe=class extends rq{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:SH,agGroupRowRenderer:SH,agDetailCellRenderer:xIe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?yke(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return vke()}},TIe=class extends T.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ue.createElement(bK,{...this.props,passGridApi:this.setGridApi})}};const VI=M1(e=>({users:[],setUsers:t=>e({users:t}),addUser:t=>e(n=>({users:[...n.users,t]})),showForm:!1,setShowForm:t=>e({showForm:t})})),RIe=()=>M.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:M.jsx(Ko,{animation:"border",size:"sm"})}),AIe=()=>{const e=T.useRef(null),{users:t,setUsers:n}=VI(),[r,i]=T.useState(""),[s,o]=T.useState(!0),a=T.useCallback(f=>{f.api.sizeColumnsToFit()},[]),[l]=T.useState([{field:"name",headerName:"Nombre",flex:2,minWidth:150,sortable:!0,filter:!0,cellStyle:{fontWeight:"500"}},{field:"email",headerName:"Correo Electrnico",flex:3,minWidth:200,sortable:!0,filter:!0},{field:"role",headerName:"Rol",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:f=>{const p=f.value,m=p==="TEACHER"?"badge bg-primary":"badge bg-success",y=p==="TEACHER"?"Profesor":"Estudiante";return M.jsx("span",{className:m,children:y})}}]),c={sortable:!0,filter:!0,resizable:!0,cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}},d=T.useCallback(f=>{const p=f.target.value;i(p)},[]);return T.useEffect(()=>{if(o(!0),t.length>0){o(!1);return}e7().then(f=>{if(f.length===0){o(!1);return}n(f),o(!1)})},[n,o,t]),M.jsx(bv,{fluid:!0,className:"p-0",children:M.jsxs(zr,{className:"shadow-sm border-0",children:[M.jsx(zr.Header,{className:"bg-white border-bottom",children:M.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[M.jsxs("div",{className:"d-flex align-items-center",children:[M.jsx(ic,{size:24,className:"text-primary me-2"}),M.jsxs("div",{children:[M.jsx("h5",{className:"mb-0 fw-bold",children:"Gestin de Usuarios"}),M.jsxs("small",{className:"text-muted",children:[t.length," usuario",t.length!==1?"s":""," ","registrado",t.length!==1?"s":""]})]})]}),M.jsx("div",{style:{width:"300px"},children:M.jsxs($d,{className:"search-input-group",children:[M.jsx($d.Text,{className:"bg-light border-end-0",children:M.jsx(NF,{size:16,className:"text-muted"})}),M.jsx(Sn.Control,{type:"text",placeholder:"Buscar usuarios...",value:r,onChange:d,className:"border-start-0 ps-2",style:{boxShadow:"none",borderColor:"#dee2e6"}})]})})]})}),M.jsx(zr.Body,{className:"p-0",children:M.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:M.jsx(TIe,{ref:e,rowData:t,columnDefs:l,defaultColDef:c,onGridReady:a,quickFilterText:r,animateRows:!0,rowSelection:"multiple",rowHeight:50,headerHeight:45,suppressCellFocus:!0,suppressRowHoverHighlight:!1,domLayout:"normal",suppressMovableColumns:!0,loading:s,loadingOverlayComponent:RIe,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:100}})})})]})})},_Ie=({onSubmit:e})=>{const{addUser:t,setShowForm:n}=VI(),[r,i]=T.useState(!1),[s,o]=T.useState({id:"",name:"",email:"",role:Kn.STUDENT}),[a,l]=T.useState(!1),c=async f=>{if(f.preventDefault(),f.currentTarget.checkValidity()===!1)f.stopPropagation();else{i(!0);const m={...s};m.email.includes("@")||(m.email=`${m.email}@mail.com`),e(m).then(y=>{t(y),l(!0),n(!1),yn.success("Usuario creado correctamente",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",transition:c7})}).catch(y=>{yn.error(d7(y),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{i(!1)})}},d=f=>{const{name:p,value:m}=f.target;o({...s,[p]:m})};return M.jsxs(Sn,{noValidate:!0,validated:a,onSubmit:c,className:"p-2",children:[M.jsxs(Kp,{className:"g-3",children:[M.jsx(tl,{xs:12,children:M.jsx(Sn.Group,{controlId:"formUserName",children:M.jsxs($d,{hasValidation:!0,children:[M.jsx($d.Text,{children:M.jsx(HF,{size:18,className:"text-muted"})}),M.jsxs(ES,{label:"Nombre completo",children:[M.jsx(Sn.Control,{type:"text",name:"name",placeholder:"Nombre completo",value:s.name,onChange:d,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),M.jsx(Sn.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre."})]})]})})}),M.jsx(tl,{xs:12,children:M.jsx(Sn.Group,{controlId:"formUserEmail",children:M.jsxs($d,{hasValidation:!0,children:[M.jsx($d.Text,{children:M.jsx(Cle,{size:18,className:"text-muted"})}),M.jsxs(ES,{label:"Usuario o correo electrnico",children:[M.jsx(Sn.Control,{type:"text",name:"email",placeholder:"Usuario o correo electrnico",value:s.email,onChange:d,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),M.jsx(Sn.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre de usuario o correo."})]})]})})})]}),M.jsxs(wS,{variant:"info",className:"mt-4 d-flex align-items-center",children:[M.jsx(fle,{size:24,className:"me-3"}),M.jsxs("div",{children:[M.jsx(wS.Heading,{as:"h6",className:"mb-1 fw-bold",children:"Generacin de Contrasea"}),M.jsx("p",{className:"mb-0 small",children:"La contrasea se crear automticamente con los 3 primeros caracteres del nombre y del correo."})]})]}),M.jsx("div",{className:"d-grid mt-4",children:M.jsx(vr,{variant:"primary",type:"submit",size:"lg",disabled:r,children:r?M.jsx(Ko,{animation:"border",size:"sm",className:"me-2"}):M.jsxs(M.Fragment,{children:[M.jsx(Ple,{size:16,className:"me-2"}),"Crear Usuario"]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var SK=1252,DIe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],HI={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},GI=function(e){DIe.indexOf(e)!=-1&&(SK=HI[0]=e)};function PIe(){GI(1252)}var ha=function(e){GI(e)};function xK(){ha(1200),PIe()}function AH(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function FIe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function EK(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var E0=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?FIe(e.slice(2)):t==254&&n==255?EK(e.slice(2)):t==65279?e.slice(1):e},ab=function(t){return String.fromCharCode(t)},_H=function(t){return String.fromCharCode(t)},$v,wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function DH(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),s=n>>2,r=e.charCodeAt(c++),o=(n&3)<<4|r>>4,i=e.charCodeAt(c++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),t+=wu.charAt(s)+wu.charAt(o)+wu.charAt(a)+wu.charAt(l);return t}function uo(e){var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=wu.indexOf(e.charAt(c++)),o=wu.indexOf(e.charAt(c++)),n=s<<2|o>>4,t+=String.fromCharCode(n),a=wu.indexOf(e.charAt(c++)),r=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(r)),l=wu.indexOf(e.charAt(c++)),i=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var ln=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Jh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ju(e){return ln?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function PH(e){return ln?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ca=function(t){return ln?Jh(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function ef(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function UI(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return UI(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var vu=ln?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Jh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function kIe(e){for(var t=[],n=0,r=e.length+250,i=ju(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(o&3)<<4,i[n++]=128|a&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=ju(65535),r=65530)}return t.push(i.slice(0,n)),vu(t)}var ms=/\u0000/g,T0=/[\u0001-\u0006]/g;function Mp(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function fa(e,t){var n=""+e;return n.length>=t?n:gr("0",t-n.length)+n}function zI(e,t){var n=""+e;return n.length>=t?n:gr(" ",t-n.length)+n}function vx(e,t){var n=""+e;return n.length>=t?n:n+gr(" ",t-n.length)}function IIe(e,t){var n=""+Math.round(e);return n.length>=t?n:gr("0",t-n.length)+n}function MIe(e,t){var n=""+e;return n.length>=t?n:gr("0",t-n.length)+n}var FH=Math.pow(2,32);function Xf(e,t){if(e>FH||e<-FH)return IIe(e,t);var n=Math.round(e);return MIe(n,t)}function yx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var kH=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],SA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function OIe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Wt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},IH={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},LIe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cx(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,a=0,l=1,c=0,d=0,f=Math.floor(i);c<t&&(f=Math.floor(i),a=f*o+s,d=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=o,o=a,l=c,c=d;if(d>t&&(c>t?(d=l,a=s):(d=c,a=o)),!n)return[0,r*a,d];var p=Math.floor(r*a/d);return[p,r*a-p*d,d]}function Xd(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,o=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=UIe(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var TK=new Date(1899,11,31,0,0,0),NIe=TK.getTime(),BIe=new Date(1900,2,1,0,0,0);function RK(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=BIe&&(n+=1440*60*1e3),(n-(NIe+(e.getTimezoneOffset()-TK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function jI(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function VIe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function HIe(e){var t=e<0?12:11,n=jI(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function GIe(e){var t=jI(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function qv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=HIe(e):t===10?n=e.toFixed(10).substr(0,12):n=GIe(e),jI(VIe(n.toUpperCase()))}function Ih(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):qv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Qo(14,RK(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function UIe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function zIe(e,t,n,r){var i="",s=0,o=0,a=n.y,l,c=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return SA[n.m-1][1];case 5:return SA[n.m-1][0];default:return SA[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return kH[n.q][0];default:return kH[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?fa(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(i=fa(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=a,c=1;break}var d=c>0?fa(l,c):"";return d}function bu(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var AK=/%/g;function jIe(e,t,n){var r=t.replace(AK,""),i=t.length-r.length;return cc(e,r,n*Math.pow(10,2*i))+gr("%",i)}function WIe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return cc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function _K(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_K(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var DK=/# (\?+)( ?)\/( ?)(\d+)/;function $Ie(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(s===0?"":""+s)+" "+(o===0?gr(" ",e[1].length+1+e[4].length):zI(o,e[1].length)+e[2]+"/"+e[3]+fa(a,e[4].length))}function qIe(e,t,n){return n+(t===0?"":""+t)+gr(" ",e[1].length+2+e[4].length)}var PK=/^#*0*\.([0#]+)/,FK=/\).*[0#]/,kK=/\(###\) ###\\?-####/;function ls(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function MH(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function OH(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function KIe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function YIe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Po(e,t,n){if(e.charCodeAt(0)===40&&!t.match(FK)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Po("n",r,n):"("+Po("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return WIe(e,t,n);if(t.indexOf("%")!==-1)return jIe(e,t,n);if(t.indexOf("E")!==-1)return _K(t,n);if(t.charCodeAt(0)===36)return"$"+Po(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Xf(l,t.length);if(t.match(/^[#?]+$/))return i=Xf(n,0),i==="0"&&(i=""),i.length>t.length?i:ls(t.substr(0,t.length-i.length))+i;if(s=t.match(DK))return $Ie(s,l,c);if(t.match(/^#+0+$/))return c+Xf(l,t.length-t.indexOf("0"));if(s=t.match(PK))return i=MH(n,s[1].length).replace(/^([^\.]+)$/,"$1."+ls(s[1])).replace(/\.$/,"."+ls(s[1])).replace(/\.(\d*)$/,function(y,C){return"."+C+gr("0",ls(s[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+MH(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+bu(Xf(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Po(e,t,-n):bu(""+(Math.floor(n)+KIe(n,s[1].length)))+"."+fa(OH(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Po(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp(Po(e,t.replace(/[\\-]/g,""),n)),o=0,Mp(Mp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(kK))return i=Po(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Cx(l,Math.pow(10,o)-1,!1),i=""+c,d=cc("n",s[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=vx(a[2],o),d.length<s[4].length&&(d=ls(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=Cx(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?zI(a[1],o)+s[2]+"/"+s[3]+vx(a[2],o):gr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Xf(n,0),t.length<=i.length?i:ls(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,p=t.length-i.length-f;return ls(t.substr(0,f)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=OH(n,s[1].length),n<0?"-"+Po(e,t,-n):bu(YIe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?fa(0,3-y.length):"")+y})+"."+fa(o,s[1].length);switch(t){case"###,##0.00":return Po(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=bu(Xf(l,0));return m!=="0"?c+m:"";case"###,###.00":return Po(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Po(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function XIe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return cc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function QIe(e,t,n){var r=t.replace(AK,""),i=t.length-r.length;return cc(e,r,n*Math.pow(10,2*i))+gr("%",i)}function IK(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+IK(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ha(e,t,n){if(e.charCodeAt(0)===40&&!t.match(FK)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ha("n",r,n):"("+Ha("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return XIe(e,t,n);if(t.indexOf("%")!==-1)return QIe(e,t,n);if(t.indexOf("E")!==-1)return IK(t,n);if(t.charCodeAt(0)===36)return"$"+Ha(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+fa(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:ls(t.substr(0,t.length-i.length))+i;if(s=t.match(DK))return qIe(s,l,c);if(t.match(/^#+0+$/))return c+fa(l,t.length-t.indexOf("0"));if(s=t.match(PK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ls(s[1])).replace(/\.$/,"."+ls(s[1])),i=i.replace(/\.(\d*)$/,function(y,C){return"."+C+gr("0",ls(s[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+bu(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ha(e,t,-n):bu(""+n)+"."+gr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ha(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp(Ha(e,t.replace(/[\\-]/g,""),n)),o=0,Mp(Mp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(kK))return i=Ha(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=Cx(l,Math.pow(10,o)-1,!1),i=""+c,d=cc("n",s[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=vx(a[2],o),d.length<s[4].length&&(d=ls(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=Cx(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?zI(a[1],o)+s[2]+"/"+s[3]+vx(a[2],o):gr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:ls(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,p=t.length-i.length-f;return ls(t.substr(0,f)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ha(e,t,-n):bu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?fa(0,3-y.length):"")+y})+"."+fa(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=bu(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Ha(e,t.slice(0,t.lastIndexOf(".")),n)+ls(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function cc(e,t,n){return(n|0)===n?Ha(e,t,n):Po(e,t,n)}function ZIe(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var MK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Og(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":yx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(MK))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function JIe(e,t,n,r){for(var i=[],s="",o=0,a="",l="t",c,d,f,p="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!yx(e,o))throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=Xd(t,n,e.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Xd(t,n),c==null))return"";for(s=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var C={t:a,v:a};if(c==null&&(c=Xd(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(C.v=c.H>=12?"P":"A"),C.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(C.v=c.H>=12?"PM":"AM"),C.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="/"?(c!=null&&(C.v=c.H>=12?"":""),C.t="T",o+=5,p="h"):(C.t="t",++o),c==null&&C.t==="T")return"";i[i.length]=C,l=a;break;case"[":for(s=a;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(MK)){if(c==null&&(c=Xd(t,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Og(e)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<e.length&&(a=e.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;e.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"t",v:a},++o;break}var b=0,x=0,R;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,l="h",b<1&&(b=1);break;case"s":(R=i[o].v.match(/\.0+$/))&&(x=Math.max(x,R[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[o].v.match(/[Hh]/)&&(b=1),b<2&&i[o].v.match(/[Mm]/)&&(b=2),b<3&&i[o].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var E="",F;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=zIe(i[o].t.charCodeAt(0),i[o].v,c,x),i[o].t="t";break;case"n":case"?":for(F=o+1;i[F]!=null&&((a=i[F].t)==="?"||a==="D"||(a===" "||a==="t")&&i[F+1]!=null&&(i[F+1].t==="?"||i[F+1].t==="t"&&i[F+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[F].v==="/"||i[F].v===" "&&i[F+1]!=null&&i[F+1].t=="?"));)i[o].v+=i[F].v,i[F]={v:"",t:";"},++F;E+=i[o].v,o=F-1;break;case"G":i[o].t="t",i[o].v=Ih(t,n);break}var I="",_,D;if(E.length>0){E.charCodeAt(0)==40?(_=t<0&&E.charCodeAt(0)===45?-t:t,D=cc("n",E,_)):(_=t<0&&r>1?-t:t,D=cc("n",E,_),_<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),F=D.length-1;var P=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){P=o;break}var k=i.length;if(P===i.length&&D.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(F>=i[o].v.length-1?(F-=i[o].v.length,i[o].v=D.substr(F+1,i[o].v.length)):F<0?i[o].v="":(i[o].v=D.substr(0,F+1),F=-1),i[o].t="t",k=o);F>=0&&k<i.length&&(i[k].v=D.substr(0,F+1)+i[k].v)}else if(P!==i.length&&D.indexOf("E")===-1){for(F=D.indexOf(".")-1,o=P;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===P?i[o].v.indexOf(".")-1:i[o].v.length-1,I=i[o].v.substr(d+1);d>=0;--d)F>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(I=D.charAt(F--)+I);i[o].v=I,i[o].t="t",k=o}for(F>=0&&k<i.length&&(i[k].v=D.substr(0,F+1)+i[k].v),F=D.indexOf(".")+1,o=P;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==P)){for(d=i[o].v.indexOf(".")>-1&&o===P?i[o].v.indexOf(".")+1:0,I=i[o].v.substr(0,d);d<i[o].v.length;++d)F<D.length&&(I+=D.charAt(F++));i[o].v=I,i[o].t="t",k=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(_=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=cc(i[o].t,i[o].v,_),i[o].t="t");var B="";for(o=0;o!==i.length;++o)i[o]!=null&&(B+=i[o].v);return B}var LH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function NH(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function eMe(e,t){var n=ZIe(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(LH),a=n[1].match(LH);return NH(t,o)?[r,n[0]]:NH(t,a)?[r,n[1]]:[r,n[o!=null&&a!=null?2:1]]}return[r,s]}function Qo(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Wt)[e],r==null&&(r=n.table&&n.table[IH[e]]||Wt[IH[e]]),r==null&&(r=LIe[e]||"General");break}if(yx(r,0))return Ih(t,n);t instanceof Date&&(t=RK(t,n.date1904));var i=eMe(r,t);if(yx(i[1]))return Ih(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return JIe(i[1],t,n,i[0])}function dh(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Wt[n]==null){t<0&&(t=n);continue}if(Wt[n]==e){t=n;break}}t<0&&(t=391)}return Wt[t]=e,t}function OK(){Wt=OIe()}var tMe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},LK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nMe(e){var t=typeof e=="number"?Wt[e]:e;return t=t.replace(LK,"(\\d+)"),new RegExp("^"+t+"$")}function rMe(e,t,n){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(t.match(LK)||[]).forEach(function(f,p){var m=parseInt(n[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":o=m;break;case"s":l=m;break;case"m":o>=0?a=m:i=m;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:r==-1&&i==-1&&s==-1?d:c+"T"+d}var iMe=function(){var e={};e.version="1.2.0";function t(){for(var D=0,P=new Array(256),k=0;k!=256;++k)D=k,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,P[k]=D;return typeof Int32Array<"u"?new Int32Array(P):P}var n=t();function r(D){var P=0,k=0,B=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)N[B]=D[B];for(B=0;B!=256;++B)for(k=D[B],P=256+B;P<4096;P+=256)k=N[P]=k>>>8^D[k&255];var V=[];for(B=1;B!=16;++B)V[B-1]=typeof Int32Array<"u"?N.subarray(B*256,B*256+256):N.slice(B*256,B*256+256);return V}var i=r(n),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],d=i[5],f=i[6],p=i[7],m=i[8],y=i[9],C=i[10],b=i[11],x=i[12],R=i[13],E=i[14];function F(D,P){for(var k=P^-1,B=0,N=D.length;B<N;)k=k>>>8^n[(k^D.charCodeAt(B++))&255];return~k}function I(D,P){for(var k=P^-1,B=D.length-15,N=0;N<B;)k=E[D[N++]^k&255]^R[D[N++]^k>>8&255]^x[D[N++]^k>>16&255]^b[D[N++]^k>>>24]^C[D[N++]]^y[D[N++]]^m[D[N++]]^p[D[N++]]^f[D[N++]]^d[D[N++]]^c[D[N++]]^l[D[N++]]^a[D[N++]]^o[D[N++]]^s[D[N++]]^n[D[N++]];for(B+=15;N<B;)k=k>>>8^n[(k^D[N++])&255];return~k}function _(D,P){for(var k=P^-1,B=0,N=D.length,V=0,G=0;B<N;)V=D.charCodeAt(B++),V<128?k=k>>>8^n[(k^V)&255]:V<2048?(k=k>>>8^n[(k^(192|V>>6&31))&255],k=k>>>8^n[(k^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,G=D.charCodeAt(B++)&1023,k=k>>>8^n[(k^(240|V>>8&7))&255],k=k>>>8^n[(k^(128|V>>2&63))&255],k=k>>>8^n[(k^(128|G>>6&15|(V&3)<<4))&255],k=k>>>8^n[(k^(128|G&63))&255]):(k=k>>>8^n[(k^(224|V>>12&15))&255],k=k>>>8^n[(k^(128|V>>6&63))&255],k=k>>>8^n[(k^(128|V&63))&255]);return~k}return e.table=n,e.bstr=F,e.buf=I,e.str=_,e}(),pn=function(){var t={};t.version="1.2.1";function n(j,Q){for(var q=j.split("/"),K=Q.split("/"),ee=0,te=0,Ce=Math.min(q.length,K.length);ee<Ce;++ee){if(te=q[ee].length-K[ee].length)return te;if(q[ee]!=K[ee])return q[ee]<K[ee]?-1:1}return q.length-K.length}function r(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:r(j.slice(0,-1));var Q=j.lastIndexOf("/");return Q===-1?j:j.slice(0,Q+1)}function i(j){if(j.charAt(j.length-1)=="/")return i(j.slice(0,-1));var Q=j.lastIndexOf("/");return Q===-1?j:j.slice(Q+1)}function s(j,Q){typeof Q=="string"&&(Q=new Date(Q));var q=Q.getHours();q=q<<6|Q.getMinutes(),q=q<<5|Q.getSeconds()>>>1,j.write_shift(2,q);var K=Q.getFullYear()-1980;K=K<<4|Q.getMonth()+1,K=K<<5|Q.getDate(),j.write_shift(2,K)}function o(j){var Q=j.read_shift(2)&65535,q=j.read_shift(2)&65535,K=new Date,ee=q&31;q>>>=5;var te=q&15;q>>>=4,K.setMilliseconds(0),K.setFullYear(q+1980),K.setMonth(te-1),K.setDate(ee);var Ce=Q&31;Q>>>=5;var _e=Q&63;return Q>>>=6,K.setHours(Q),K.setMinutes(_e),K.setSeconds(Ce<<1),K}function a(j){Ri(j,0);for(var Q={},q=0;j.l<=j.length-4;){var K=j.read_shift(2),ee=j.read_shift(2),te=j.l+ee,Ce={};switch(K){case 21589:q=j.read_shift(1),q&1&&(Ce.mtime=j.read_shift(4)),ee>5&&(q&2&&(Ce.atime=j.read_shift(4)),q&4&&(Ce.ctime=j.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}j.l=te,Q[K]=Ce}return Q}var l;function c(){return l||(l={})}function d(j,Q){if(j[0]==80&&j[1]==75)return Ea(j,Q);if((j[0]|32)==109&&(j[1]|32)==105)return be(j,Q);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var q=3,K=512,ee=0,te=0,Ce=0,_e=0,me=0,ye=[],Te=j.slice(0,512);Ri(Te,0);var We=f(Te);switch(q=We[0],q){case 3:K=512;break;case 4:K=4096;break;case 0:if(We[1]==0)return Ea(j,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}K!==512&&(Te=j.slice(0,K),Ri(Te,28));var Qe=j.slice(0,K);p(Te,q);var ot=Te.read_shift(4,"i");if(q===3&&ot!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ot);Te.l+=4,Ce=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),_e=Te.read_shift(4,"i"),ee=Te.read_shift(4,"i"),me=Te.read_shift(4,"i"),te=Te.read_shift(4,"i");for(var Je=-1,tt=0;tt<109&&(Je=Te.read_shift(4,"i"),!(Je<0));++tt)ye[tt]=Je;var Tt=m(j,K);b(me,te,Tt,K,ye);var en=R(Tt,Ce,ye,K);en[Ce].name="!Directory",ee>0&&_e!==G&&(en[_e].name="!MiniFAT"),en[ye[0]].name="!FAT",en.fat_addrs=ye,en.ssz=K;var Xt={},yt=[],_n=[],Ji=[];E(Ce,en,Tt,yt,ee,Xt,_n,_e),y(_n,Ji,yt),yt.shift();var xr={FileIndex:_n,FullPaths:Ji};return Q&&Q.raw&&(xr.raw={header:Qe,sectors:Tt}),xr}function f(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(oe,"Header Signature: "),j.l+=16;var Q=j.read_shift(2,"u");return[j.read_shift(2,"u"),Q]}function p(j,Q){var q=9;switch(j.l+=2,q=j.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function m(j,Q){for(var q=Math.ceil(j.length/Q)-1,K=[],ee=1;ee<q;++ee)K[ee-1]=j.slice(ee*Q,(ee+1)*Q);return K[q-1]=j.slice(q*Q),K}function y(j,Q,q){for(var K=0,ee=0,te=0,Ce=0,_e=0,me=q.length,ye=[],Te=[];K<me;++K)ye[K]=Te[K]=K,Q[K]=q[K];for(;_e<Te.length;++_e)K=Te[_e],ee=j[K].L,te=j[K].R,Ce=j[K].C,ye[K]===K&&(ee!==-1&&ye[ee]!==ee&&(ye[K]=ye[ee]),te!==-1&&ye[te]!==te&&(ye[K]=ye[te])),Ce!==-1&&(ye[Ce]=K),ee!==-1&&K!=ye[K]&&(ye[ee]=ye[K],Te.lastIndexOf(ee)<_e&&Te.push(ee)),te!==-1&&K!=ye[K]&&(ye[te]=ye[K],Te.lastIndexOf(te)<_e&&Te.push(te));for(K=1;K<me;++K)ye[K]===K&&(te!==-1&&ye[te]!==te?ye[K]=ye[te]:ee!==-1&&ye[ee]!==ee&&(ye[K]=ye[ee]));for(K=1;K<me;++K)if(j[K].type!==0){if(_e=K,_e!=ye[_e])do _e=ye[_e],Q[K]=Q[_e]+"/"+Q[K];while(_e!==0&&ye[_e]!==-1&&_e!=ye[_e]);ye[K]=-1}for(Q[0]+="/",K=1;K<me;++K)j[K].type!==2&&(Q[K]+="/")}function C(j,Q,q){for(var K=j.start,ee=j.size,te=[],Ce=K;q&&ee>0&&Ce>=0;)te.push(Q.slice(Ce*V,Ce*V+V)),ee-=V,Ce=jd(q,Ce*4);return te.length===0?Qr(0):vu(te).slice(0,j.size)}function b(j,Q,q,K,ee){var te=G;if(j===G){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var Ce=q[j],_e=(K>>>2)-1;if(!Ce)return;for(var me=0;me<_e&&(te=jd(Ce,me*4))!==G;++me)ee.push(te);b(jd(Ce,K-4),Q-1,q,K,ee)}}function x(j,Q,q,K,ee){var te=[],Ce=[];ee||(ee=[]);var _e=K-1,me=0,ye=0;for(me=Q;me>=0;){ee[me]=!0,te[te.length]=me,Ce.push(j[me]);var Te=q[Math.floor(me*4/K)];if(ye=me*4&_e,K<4+ye)throw new Error("FAT boundary crossed: "+me+" 4 "+K);if(!j[Te])break;me=jd(j[Te],ye)}return{nodes:te,data:qH([Ce])}}function R(j,Q,q,K){var ee=j.length,te=[],Ce=[],_e=[],me=[],ye=K-1,Te=0,We=0,Qe=0,ot=0;for(Te=0;Te<ee;++Te)if(_e=[],Qe=Te+Q,Qe>=ee&&(Qe-=ee),!Ce[Qe]){me=[];var Je=[];for(We=Qe;We>=0;){Je[We]=!0,Ce[We]=!0,_e[_e.length]=We,me.push(j[We]);var tt=q[Math.floor(We*4/K)];if(ot=We*4&ye,K<4+ot)throw new Error("FAT boundary crossed: "+We+" 4 "+K);if(!j[tt]||(We=jd(j[tt],ot),Je[We]))break}te[Qe]={nodes:_e,data:qH([me])}}return te}function E(j,Q,q,K,ee,te,Ce,_e){for(var me=0,ye=K.length?2:0,Te=Q[j].data,We=0,Qe=0,ot;We<Te.length;We+=128){var Je=Te.slice(We,We+128);Ri(Je,64),Qe=Je.read_shift(2),ot=YI(Je,0,Qe-ye),K.push(ot);var tt={name:ot,type:Je.read_shift(1),color:Je.read_shift(1),L:Je.read_shift(4,"i"),R:Je.read_shift(4,"i"),C:Je.read_shift(4,"i"),clsid:Je.read_shift(16),state:Je.read_shift(4,"i"),start:0,size:0},Tt=Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2);Tt!==0&&(tt.ct=F(Je,Je.l-8));var en=Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2);en!==0&&(tt.mt=F(Je,Je.l-8)),tt.start=Je.read_shift(4,"i"),tt.size=Je.read_shift(4,"i"),tt.size<0&&tt.start<0&&(tt.size=tt.type=0,tt.start=G,tt.name=""),tt.type===5?(me=tt.start,ee>0&&me!==G&&(Q[me].name="!StreamData")):tt.size>=4096?(tt.storage="fat",Q[tt.start]===void 0&&(Q[tt.start]=x(q,tt.start,Q.fat_addrs,Q.ssz)),Q[tt.start].name=tt.name,tt.content=Q[tt.start].data.slice(0,tt.size)):(tt.storage="minifat",tt.size<0?tt.size=0:me!==G&&tt.start!==G&&Q[me]&&(tt.content=C(tt,Q[me].data,(Q[_e]||{}).data))),tt.content&&Ri(tt.content,0),te[ot]=tt,Ce.push(tt)}}function F(j,Q){return new Date((Ks(j,Q+4)/1e7*Math.pow(2,32)+Ks(j,Q)/1e7-11644473600)*1e3)}function I(j,Q){return c(),d(l.readFileSync(j),Q)}function _(j,Q){var q=Q&&Q.type;switch(q||ln&&Buffer.isBuffer(j)&&(q="buffer"),q||"base64"){case"file":return I(j,Q);case"base64":return d(ca(uo(j)),Q);case"binary":return d(ca(j),Q)}return d(j,Q)}function D(j,Q){var q=Q||{},K=q.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=K+"/",j.FileIndex[0]={name:K,type:5}),q.CLSID&&(j.FileIndex[0].clsid=q.CLSID),P(j)}function P(j){var Q="Sh33tJ5";if(!pn.find(j,"/"+Q)){var q=Qr(4);q[0]=55,q[1]=q[3]=50,q[2]=54,j.FileIndex.push({name:Q,type:2,content:q,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+Q),k(j)}}function k(j,Q){D(j);for(var q=!1,K=!1,ee=j.FullPaths.length-1;ee>=0;--ee){var te=j.FileIndex[ee];switch(te.type){case 0:K?q=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(te.R*te.L*te.C)&&(q=!0),te.R>-1&&te.L>-1&&te.R==te.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!Q)){var Ce=new Date(1987,1,19),_e=0,me=Object.create?Object.create(null):{},ye=[];for(ee=0;ee<j.FullPaths.length;++ee)me[j.FullPaths[ee]]=!0,j.FileIndex[ee].type!==0&&ye.push([j.FullPaths[ee],j.FileIndex[ee]]);for(ee=0;ee<ye.length;++ee){var Te=r(ye[ee][0]);K=me[Te],K||(ye.push([Te,{name:i(Te).replace("/",""),type:1,clsid:J,ct:Ce,mt:Ce,content:null}]),me[Te]=!0)}for(ye.sort(function(ot,Je){return n(ot[0],Je[0])}),j.FullPaths=[],j.FileIndex=[],ee=0;ee<ye.length;++ee)j.FullPaths[ee]=ye[ee][0],j.FileIndex[ee]=ye[ee][1];for(ee=0;ee<ye.length;++ee){var We=j.FileIndex[ee],Qe=j.FullPaths[ee];if(We.name=i(Qe).replace("/",""),We.L=We.R=We.C=-(We.color=1),We.size=We.content?We.content.length:0,We.start=0,We.clsid=We.clsid||J,ee===0)We.C=ye.length>1?1:-1,We.size=0,We.type=5;else if(Qe.slice(-1)=="/"){for(_e=ee+1;_e<ye.length&&r(j.FullPaths[_e])!=Qe;++_e);for(We.C=_e>=ye.length?-1:_e,_e=ee+1;_e<ye.length&&r(j.FullPaths[_e])!=r(Qe);++_e);We.R=_e>=ye.length?-1:_e,We.type=1}else r(j.FullPaths[ee+1]||"")==r(Qe)&&(We.R=ee+1),We.type=2}}}function B(j,Q){var q=Q||{};if(q.fileType=="mad")return Ee(j,q);switch(k(j),q.fileType){case"zip":return Ls(j,q)}var K=function(ot){for(var Je=0,tt=0,Tt=0;Tt<ot.FileIndex.length;++Tt){var en=ot.FileIndex[Tt];if(en.content){var Xt=en.content.length;Xt>0&&(Xt<4096?Je+=Xt+63>>6:tt+=Xt+511>>9)}}for(var yt=ot.FullPaths.length+3>>2,_n=Je+7>>3,Ji=Je+127>>7,xr=_n+tt+yt+Ji,cn=xr+127>>7,es=cn<=109?0:Math.ceil((cn-109)/127);xr+cn+es+127>>7>cn;)es=++cn<=109?0:Math.ceil((cn-109)/127);var ni=[1,es,cn,Ji,yt,tt,Je,0];return ot.FileIndex[0].size=Je<<6,ni[7]=(ot.FileIndex[0].start=ni[0]+ni[1]+ni[2]+ni[3]+ni[4]+ni[5])+(ni[6]+7>>3),ni}(j),ee=Qr(K[7]<<9),te=0,Ce=0;{for(te=0;te<8;++te)ee.write_shift(1,le[te]);for(te=0;te<8;++te)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),te=0;te<3;++te)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,K[2]),ee.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:G),ee.write_shift(4,K[3]),ee.write_shift(-4,K[1]?K[0]-1:G),ee.write_shift(4,K[1]),te=0;te<109;++te)ee.write_shift(-4,te<K[2]?K[1]+te:-1)}if(K[1])for(Ce=0;Ce<K[1];++Ce){for(;te<236+Ce*127;++te)ee.write_shift(-4,te<K[2]?K[1]+te:-1);ee.write_shift(-4,Ce===K[1]-1?G:Ce+1)}var _e=function(ot){for(Ce+=ot;te<Ce-1;++te)ee.write_shift(-4,te+1);ot&&(++te,ee.write_shift(-4,G))};for(Ce=te=0,Ce+=K[1];te<Ce;++te)ee.write_shift(-4,se.DIFSECT);for(Ce+=K[2];te<Ce;++te)ee.write_shift(-4,se.FATSECT);_e(K[3]),_e(K[4]);for(var me=0,ye=0,Te=j.FileIndex[0];me<j.FileIndex.length;++me)Te=j.FileIndex[me],Te.content&&(ye=Te.content.length,!(ye<4096)&&(Te.start=Ce,_e(ye+511>>9)));for(_e(K[6]+7>>3);ee.l&511;)ee.write_shift(-4,se.ENDOFCHAIN);for(Ce=te=0,me=0;me<j.FileIndex.length;++me)Te=j.FileIndex[me],Te.content&&(ye=Te.content.length,!(!ye||ye>=4096)&&(Te.start=Ce,_e(ye+63>>6)));for(;ee.l&511;)ee.write_shift(-4,se.ENDOFCHAIN);for(te=0;te<K[4]<<2;++te){var We=j.FullPaths[te];if(!We||We.length===0){for(me=0;me<17;++me)ee.write_shift(4,0);for(me=0;me<3;++me)ee.write_shift(4,-1);for(me=0;me<12;++me)ee.write_shift(4,0);continue}Te=j.FileIndex[te],te===0&&(Te.start=Te.size?Te.start-1:G);var Qe=te===0&&q.root||Te.name;if(ye=2*(Qe.length+1),ee.write_shift(64,Qe,"utf16le"),ee.write_shift(2,ye),ee.write_shift(1,Te.type),ee.write_shift(1,Te.color),ee.write_shift(-4,Te.L),ee.write_shift(-4,Te.R),ee.write_shift(-4,Te.C),Te.clsid)ee.write_shift(16,Te.clsid,"hex");else for(me=0;me<4;++me)ee.write_shift(4,0);ee.write_shift(4,Te.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,Te.start),ee.write_shift(4,Te.size),ee.write_shift(4,0)}for(te=1;te<j.FileIndex.length;++te)if(Te=j.FileIndex[te],Te.size>=4096)if(ee.l=Te.start+1<<9,ln&&Buffer.isBuffer(Te.content))Te.content.copy(ee,ee.l,0,Te.size),ee.l+=Te.size+511&-512;else{for(me=0;me<Te.size;++me)ee.write_shift(1,Te.content[me]);for(;me&511;++me)ee.write_shift(1,0)}for(te=1;te<j.FileIndex.length;++te)if(Te=j.FileIndex[te],Te.size>0&&Te.size<4096)if(ln&&Buffer.isBuffer(Te.content))Te.content.copy(ee,ee.l,0,Te.size),ee.l+=Te.size+63&-64;else{for(me=0;me<Te.size;++me)ee.write_shift(1,Te.content[me]);for(;me&63;++me)ee.write_shift(1,0)}if(ln)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function N(j,Q){var q=j.FullPaths.map(function(me){return me.toUpperCase()}),K=q.map(function(me){var ye=me.split("/");return ye[ye.length-(me.slice(-1)=="/"?2:1)]}),ee=!1;Q.charCodeAt(0)===47?(ee=!0,Q=q[0].slice(0,-1)+Q):ee=Q.indexOf("/")!==-1;var te=Q.toUpperCase(),Ce=ee===!0?q.indexOf(te):K.indexOf(te);if(Ce!==-1)return j.FileIndex[Ce];var _e=!te.match(T0);for(te=te.replace(ms,""),_e&&(te=te.replace(T0,"!")),Ce=0;Ce<q.length;++Ce)if((_e?q[Ce].replace(T0,"!"):q[Ce]).replace(ms,"")==te||(_e?K[Ce].replace(T0,"!"):K[Ce]).replace(ms,"")==te)return j.FileIndex[Ce];return null}var V=64,G=-2,oe="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function he(j,Q,q){c();var K=B(j,q);l.writeFileSync(Q,K)}function ne(j){for(var Q=new Array(j.length),q=0;q<j.length;++q)Q[q]=String.fromCharCode(j[q]);return Q.join("")}function L(j,Q){var q=B(j,Q);switch(Q&&Q.type||"buffer"){case"file":return c(),l.writeFileSync(Q.filename,q),q;case"binary":return typeof q=="string"?q:ne(q);case"base64":return DH(typeof q=="string"?q:ne(q));case"buffer":if(ln)return Buffer.isBuffer(q)?q:Jh(q);case"array":return typeof q=="string"?ca(q):q}return q}var ae;function W(j){try{var Q=j.InflateRaw,q=new Q;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)ae=j;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function H(j,Q){if(!ae)return Sr(j,Q);var q=ae.InflateRaw,K=new q,ee=K._processChunk(j.slice(j.l),K._finishFlushFlag);return j.l+=K.bytesRead,ee}function X(j){return ae?ae.deflateRawSync(j):dt(j)}var ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(j){var Q=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var Ie=typeof Uint8Array<"u",Fe=Ie?new Uint8Array(256):[],rt=0;rt<256;++rt)Fe[rt]=Ne(rt);function re(j,Q){var q=Fe[j&255];return Q<=8?q>>>8-Q:(q=q<<8|Fe[j>>8&255],Q<=16?q>>>16-Q:(q=q<<8|Fe[j>>16&255],q>>>24-Q))}function bt(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=6?0:j[K+1]<<8))>>>q&3}function ze(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=5?0:j[K+1]<<8))>>>q&7}function Xe(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=4?0:j[K+1]<<8))>>>q&15}function Ze(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=3?0:j[K+1]<<8))>>>q&31}function ke(j,Q){var q=Q&7,K=Q>>>3;return(j[K]|(q<=1?0:j[K+1]<<8))>>>q&127}function ct(j,Q,q){var K=Q&7,ee=Q>>>3,te=(1<<q)-1,Ce=j[ee]>>>K;return q<8-K||(Ce|=j[ee+1]<<8-K,q<16-K)||(Ce|=j[ee+2]<<16-K,q<24-K)||(Ce|=j[ee+3]<<24-K),Ce&te}function At(j,Q,q){var K=Q&7,ee=Q>>>3;return K<=5?j[ee]|=(q&7)<<K:(j[ee]|=q<<K&255,j[ee+1]=(q&7)>>8-K),Q+3}function mt(j,Q,q){var K=Q&7,ee=Q>>>3;return q=(q&1)<<K,j[ee]|=q,Q+1}function _t(j,Q,q){var K=Q&7,ee=Q>>>3;return q<<=K,j[ee]|=q&255,q>>>=8,j[ee+1]=q,Q+8}function It(j,Q,q){var K=Q&7,ee=Q>>>3;return q<<=K,j[ee]|=q&255,q>>>=8,j[ee+1]=q&255,j[ee+2]=q>>>8,Q+16}function Gt(j,Q){var q=j.length,K=2*q>Q?2*q:Q+5,ee=0;if(q>=Q)return j;if(ln){var te=PH(K);if(j.copy)j.copy(te);else for(;ee<j.length;++ee)te[ee]=j[ee];return te}else if(Ie){var Ce=new Uint8Array(K);if(Ce.set)Ce.set(j);else for(;ee<q;++ee)Ce[ee]=j[ee];return Ce}return j.length=K,j}function $t(j){for(var Q=new Array(j),q=0;q<j;++q)Q[q]=0;return Q}function wn(j,Q,q){var K=1,ee=0,te=0,Ce=0,_e=0,me=j.length,ye=Ie?new Uint16Array(32):$t(32);for(te=0;te<32;++te)ye[te]=0;for(te=me;te<q;++te)j[te]=0;me=j.length;var Te=Ie?new Uint16Array(me):$t(me);for(te=0;te<me;++te)ye[ee=j[te]]++,K<ee&&(K=ee),Te[te]=0;for(ye[0]=0,te=1;te<=K;++te)ye[te+16]=_e=_e+ye[te-1]<<1;for(te=0;te<me;++te)_e=j[te],_e!=0&&(Te[te]=ye[_e+16]++);var We=0;for(te=0;te<me;++te)if(We=j[te],We!=0)for(_e=re(Te[te],K)>>K-We,Ce=(1<<K+4-We)-1;Ce>=0;--Ce)Q[_e|Ce<<We]=We&15|te<<4;return K}var ve=Ie?new Uint16Array(512):$t(512),Oe=Ie?new Uint16Array(32):$t(32);if(!Ie){for(var Ke=0;Ke<512;++Ke)ve[Ke]=0;for(Ke=0;Ke<32;++Ke)Oe[Ke]=0}(function(){for(var j=[],Q=0;Q<32;Q++)j.push(5);wn(j,Oe,32);var q=[];for(Q=0;Q<=143;Q++)q.push(8);for(;Q<=255;Q++)q.push(9);for(;Q<=279;Q++)q.push(7);for(;Q<=287;Q++)q.push(8);wn(q,ve,288)})();var lt=function(){for(var Q=Ie?new Uint8Array(32768):[],q=0,K=0;q<Be.length-1;++q)for(;K<Be[q+1];++K)Q[K]=q;for(;K<32768;++K)Q[K]=29;var ee=Ie?new Uint8Array(259):[];for(q=0,K=0;q<fe.length-1;++q)for(;K<fe[q+1];++K)ee[K]=q;function te(_e,me){for(var ye=0;ye<_e.length;){var Te=Math.min(65535,_e.length-ye),We=ye+Te==_e.length;for(me.write_shift(1,+We),me.write_shift(2,Te),me.write_shift(2,~Te&65535);Te-- >0;)me[me.l++]=_e[ye++]}return me.l}function Ce(_e,me){for(var ye=0,Te=0,We=Ie?new Uint16Array(32768):[];Te<_e.length;){var Qe=Math.min(65535,_e.length-Te);if(Qe<10){for(ye=At(me,ye,+(Te+Qe==_e.length)),ye&7&&(ye+=8-(ye&7)),me.l=ye/8|0,me.write_shift(2,Qe),me.write_shift(2,~Qe&65535);Qe-- >0;)me[me.l++]=_e[Te++];ye=me.l*8;continue}ye=At(me,ye,+(Te+Qe==_e.length)+2);for(var ot=0;Qe-- >0;){var Je=_e[Te];ot=(ot<<5^Je)&32767;var tt=-1,Tt=0;if((tt=We[ot])&&(tt|=Te&-32768,tt>Te&&(tt-=32768),tt<Te))for(;_e[tt+Tt]==_e[Te+Tt]&&Tt<250;)++Tt;if(Tt>2){Je=ee[Tt],Je<=22?ye=_t(me,ye,Fe[Je+1]>>1)-1:(_t(me,ye,3),ye+=5,_t(me,ye,Fe[Je-23]>>5),ye+=3);var en=Je<8?0:Je-4>>2;en>0&&(It(me,ye,Tt-fe[Je]),ye+=en),Je=Q[Te-tt],ye=_t(me,ye,Fe[Je]>>3),ye-=3;var Xt=Je<4?0:Je-2>>1;Xt>0&&(It(me,ye,Te-tt-Be[Je]),ye+=Xt);for(var yt=0;yt<Tt;++yt)We[ot]=Te&32767,ot=(ot<<5^_e[Te])&32767,++Te;Qe-=Tt-1}else Je<=143?Je=Je+48:ye=mt(me,ye,1),ye=_t(me,ye,Fe[Je]),We[ot]=Te&32767,++Te}ye=_t(me,ye,0)-1}return me.l=(ye+7)/8|0,me.l}return function(me,ye){return me.length<8?te(me,ye):Ce(me,ye)}}();function dt(j){var Q=Qr(50+Math.floor(j.length*1.1)),q=lt(j,Q);return Q.slice(0,q)}var Ut=Ie?new Uint16Array(32768):$t(32768),xn=Ie?new Uint16Array(32768):$t(32768),Yt=Ie?new Uint16Array(128):$t(128),er=1,dr=1;function qn(j,Q){var q=Ze(j,Q)+257;Q+=5;var K=Ze(j,Q)+1;Q+=5;var ee=Xe(j,Q)+4;Q+=4;for(var te=0,Ce=Ie?new Uint8Array(19):$t(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,ye=Ie?new Uint8Array(8):$t(8),Te=Ie?new Uint8Array(8):$t(8),We=Ce.length,Qe=0;Qe<ee;++Qe)Ce[ie[Qe]]=te=ze(j,Q),me<te&&(me=te),ye[te]++,Q+=3;var ot=0;for(ye[0]=0,Qe=1;Qe<=me;++Qe)Te[Qe]=ot=ot+ye[Qe-1]<<1;for(Qe=0;Qe<We;++Qe)(ot=Ce[Qe])!=0&&(_e[Qe]=Te[ot]++);var Je=0;for(Qe=0;Qe<We;++Qe)if(Je=Ce[Qe],Je!=0){ot=Fe[_e[Qe]]>>8-Je;for(var tt=(1<<7-Je)-1;tt>=0;--tt)Yt[ot|tt<<Je]=Je&7|Qe<<3}var Tt=[];for(me=1;Tt.length<q+K;)switch(ot=Yt[ke(j,Q)],Q+=ot&7,ot>>>=3){case 16:for(te=3+bt(j,Q),Q+=2,ot=Tt[Tt.length-1];te-- >0;)Tt.push(ot);break;case 17:for(te=3+ze(j,Q),Q+=3;te-- >0;)Tt.push(0);break;case 18:for(te=11+ke(j,Q),Q+=7;te-- >0;)Tt.push(0);break;default:Tt.push(ot),me<ot&&(me=ot);break}var en=Tt.slice(0,q),Xt=Tt.slice(q);for(Qe=q;Qe<286;++Qe)en[Qe]=0;for(Qe=K;Qe<30;++Qe)Xt[Qe]=0;return er=wn(en,Ut,286),dr=wn(Xt,xn,30),Q}function br(j,Q){if(j[0]==3&&!(j[1]&3))return[ju(Q),2];for(var q=0,K=0,ee=PH(Q||1<<18),te=0,Ce=ee.length>>>0,_e=0,me=0;(K&1)==0;){if(K=ze(j,q),q+=3,K>>>1)K>>1==1?(_e=9,me=5):(q=qn(j,q),_e=er,me=dr);else{q&7&&(q+=8-(q&7));var ye=j[q>>>3]|j[(q>>>3)+1]<<8;if(q+=32,ye>0)for(!Q&&Ce<te+ye&&(ee=Gt(ee,te+ye),Ce=ee.length);ye-- >0;)ee[te++]=j[q>>>3],q+=8;continue}for(;;){!Q&&Ce<te+32767&&(ee=Gt(ee,te+32767),Ce=ee.length);var Te=ct(j,q,_e),We=K>>>1==1?ve[Te]:Ut[Te];if(q+=We&15,We>>>=4,(We>>>8&255)===0)ee[te++]=We;else{if(We==256)break;We-=257;var Qe=We<8?0:We-4>>2;Qe>5&&(Qe=0);var ot=te+fe[We];Qe>0&&(ot+=ct(j,q,Qe),q+=Qe),Te=ct(j,q,me),We=K>>>1==1?Oe[Te]:xn[Te],q+=We&15,We>>>=4;var Je=We<4?0:We-2>>1,tt=Be[We];for(Je>0&&(tt+=ct(j,q,Je),q+=Je),!Q&&Ce<ot&&(ee=Gt(ee,ot+100),Ce=ee.length);te<ot;)ee[te]=ee[te-tt],++te}}}return Q?[ee,q+7>>>3]:[ee.slice(0,te),q+7>>>3]}function Sr(j,Q){var q=j.slice(j.l||0),K=br(q,Q);return j.l+=K[1],K[0]}function fo(j,Q){if(j)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function Ea(j,Q){var q=j;Ri(q,0);var K=[],ee=[],te={FileIndex:K,FullPaths:ee};D(te,{root:Q.root});for(var Ce=q.length-4;(q[Ce]!=80||q[Ce+1]!=75||q[Ce+2]!=5||q[Ce+3]!=6)&&Ce>=0;)--Ce;q.l=Ce+4,q.l+=4;var _e=q.read_shift(2);q.l+=6;var me=q.read_shift(4);for(q.l=me,Ce=0;Ce<_e;++Ce){q.l+=20;var ye=q.read_shift(4),Te=q.read_shift(4),We=q.read_shift(2),Qe=q.read_shift(2),ot=q.read_shift(2);q.l+=8;var Je=q.read_shift(4),tt=a(q.slice(q.l+We,q.l+We+Qe));q.l+=We+Qe+ot;var Tt=q.l;q.l=Je+4,ys(q,ye,Te,te,tt),q.l=Tt}return te}function ys(j,Q,q,K,ee){j.l+=2;var te=j.read_shift(2),Ce=j.read_shift(2),_e=o(j);if(te&8257)throw new Error("Unsupported ZIP encryption");for(var me=j.read_shift(4),ye=j.read_shift(4),Te=j.read_shift(4),We=j.read_shift(2),Qe=j.read_shift(2),ot="",Je=0;Je<We;++Je)ot+=String.fromCharCode(j[j.l++]);if(Qe){var tt=a(j.slice(j.l,j.l+Qe));(tt[21589]||{}).mt&&(_e=tt[21589].mt),((ee||{})[21589]||{}).mt&&(_e=ee[21589].mt)}j.l+=Qe;var Tt=j.slice(j.l,j.l+ye);switch(Ce){case 8:Tt=H(j,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var en=!1;te&8&&(me=j.read_shift(4),me==134695760&&(me=j.read_shift(4),en=!0),ye=j.read_shift(4),Te=j.read_shift(4)),ye!=Q&&fo(en,"Bad compressed size: "+Q+" != "+ye),Te!=q&&fo(en,"Bad uncompressed size: "+q+" != "+Te),Ye(K,ot,Tt,{unsafe:!0,mt:_e})}function Ls(j,Q){var q=Q||{},K=[],ee=[],te=Qr(1),Ce=q.compression?8:0,_e=0,me=0,ye=0,Te=0,We=0,Qe=j.FullPaths[0],ot=Qe,Je=j.FileIndex[0],tt=[],Tt=0;for(me=1;me<j.FullPaths.length;++me)if(ot=j.FullPaths[me].slice(Qe.length),Je=j.FileIndex[me],!(!Je.size||!Je.content||ot=="Sh33tJ5")){var en=Te,Xt=Qr(ot.length);for(ye=0;ye<ot.length;++ye)Xt.write_shift(1,ot.charCodeAt(ye)&127);Xt=Xt.slice(0,Xt.l),tt[We]=iMe.buf(Je.content,0);var yt=Je.content;Ce==8&&(yt=X(yt)),te=Qr(30),te.write_shift(4,67324752),te.write_shift(2,20),te.write_shift(2,_e),te.write_shift(2,Ce),Je.mt?s(te,Je.mt):te.write_shift(4,0),te.write_shift(-4,tt[We]),te.write_shift(4,yt.length),te.write_shift(4,Je.content.length),te.write_shift(2,Xt.length),te.write_shift(2,0),Te+=te.length,K.push(te),Te+=Xt.length,K.push(Xt),Te+=yt.length,K.push(yt),te=Qr(46),te.write_shift(4,33639248),te.write_shift(2,0),te.write_shift(2,20),te.write_shift(2,_e),te.write_shift(2,Ce),te.write_shift(4,0),te.write_shift(-4,tt[We]),te.write_shift(4,yt.length),te.write_shift(4,Je.content.length),te.write_shift(2,Xt.length),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(4,0),te.write_shift(4,en),Tt+=te.l,ee.push(te),Tt+=Xt.length,ee.push(Xt),++We}return te=Qr(22),te.write_shift(4,101010256),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,We),te.write_shift(2,We),te.write_shift(4,Tt),te.write_shift(4,Te),te.write_shift(2,0),vu([vu(K),vu(ee),te])}var Ns={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function vi(j,Q){if(j.ctype)return j.ctype;var q=j.name||"",K=q.match(/\.([^\.]+)$/);return K&&Ns[K[1]]||Q&&(K=(q=Q).match(/[\.\\]([^\.\\])+$/),K&&Ns[K[1]])?Ns[K[1]]:"application/octet-stream"}function po(j){for(var Q=DH(j),q=[],K=0;K<Q.length;K+=76)q.push(Q.slice(K,K+76));return q.join(`\r
`)+`\r
`}function go(j){var Q=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ye){var Te=ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],K=Q.split(`\r
`),ee=0;ee<K.length;++ee){var te=K[ee];if(te.length==0){q.push("");continue}for(var Ce=0;Ce<te.length;){var _e=76,me=te.slice(Ce,Ce+_e);me.charAt(_e-1)=="="?_e--:me.charAt(_e-2)=="="?_e-=2:me.charAt(_e-3)=="="&&(_e-=3),me=te.slice(Ce,Ce+_e),Ce+=_e,Ce<te.length&&(me+="="),q.push(me)}}return q.join(`\r
`)}function Ta(j){for(var Q=[],q=0;q<j.length;++q){for(var K=j[q];q<=j.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+j[++q];Q.push(K)}for(var ee=0;ee<Q.length;++ee)Q[ee]=Q[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(te){return String.fromCharCode(parseInt(te.slice(1),16))});return ca(Q.join(`\r
`))}function de(j,Q,q){for(var K="",ee="",te="",Ce,_e=0;_e<10;++_e){var me=Q[_e];if(!me||me.match(/^\s*$/))break;var ye=me.match(/^(.*?):\s*([^\s].*)$/);if(ye)switch(ye[1].toLowerCase()){case"content-location":K=ye[2].trim();break;case"content-type":te=ye[2].trim();break;case"content-transfer-encoding":ee=ye[2].trim();break}}switch(++_e,ee.toLowerCase()){case"base64":Ce=ca(uo(Q.slice(_e).join("")));break;case"quoted-printable":Ce=Ta(Q.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var Te=Ye(j,K.slice(q.length),Ce,{unsafe:!0});te&&(Te.ctype=te)}function be(j,Q){if(ne(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=Q&&Q.root||"",K=(ln&&Buffer.isBuffer(j)?j.toString("binary"):ne(j)).split(`\r
`),ee=0,te="";for(ee=0;ee<K.length;++ee)if(te=K[ee],!!/^Content-Location:/i.test(te)&&(te=te.slice(te.indexOf("file")),q||(q=te.slice(0,te.lastIndexOf("/")+1)),te.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),te.slice(0,q.length)!=q););var Ce=(K[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var _e="--"+(Ce[1]||""),me=[],ye=[],Te={FileIndex:me,FullPaths:ye};D(Te);var We,Qe=0;for(ee=0;ee<K.length;++ee){var ot=K[ee];ot!==_e&&ot!==_e+"--"||(Qe++&&de(Te,K.slice(We,ee),q),We=ee)}return Te}function Ee(j,Q){var q=Q||{},K=q.boundary||"SheetJS";K="------="+K;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],te=j.FullPaths[0],Ce=te,_e=j.FileIndex[0],me=1;me<j.FullPaths.length;++me)if(Ce=j.FullPaths[me].slice(te.length),_e=j.FileIndex[me],!(!_e.size||!_e.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var ye=_e.content,Te=ln&&Buffer.isBuffer(ye)?ye.toString("binary"):ne(ye),We=0,Qe=Math.min(1024,Te.length),ot=0,Je=0;Je<=Qe;++Je)(ot=Te.charCodeAt(Je))>=32&&ot<128&&++We;var tt=We>=Qe*4/5;ee.push(K),ee.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+Ce),ee.push("Content-Transfer-Encoding: "+(tt?"quoted-printable":"base64")),ee.push("Content-Type: "+vi(_e,Ce)),ee.push(""),ee.push(tt?go(Te):po(Te))}return ee.push(K+`--\r
`),ee.join(`\r
`)}function Ue(j){var Q={};return D(Q,j),Q}function Ye(j,Q,q,K){var ee=K&&K.unsafe;ee||D(j);var te=!ee&&pn.find(j,Q);if(!te){var Ce=j.FullPaths[0];Q.slice(0,Ce.length)==Ce?Ce=Q:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+Q).replace("//","/")),te={name:i(Q),type:2},j.FileIndex.push(te),j.FullPaths.push(Ce),ee||pn.utils.cfb_gc(j)}return te.content=q,te.size=q?q.length:0,K&&(K.CLSID&&(te.clsid=K.CLSID),K.mt&&(te.mt=K.mt),K.ct&&(te.ct=K.ct)),te}function ht(j,Q){D(j);var q=pn.find(j,Q);if(q){for(var K=0;K<j.FileIndex.length;++K)if(j.FileIndex[K]==q)return j.FileIndex.splice(K,1),j.FullPaths.splice(K,1),!0}return!1}function vt(j,Q,q){D(j);var K=pn.find(j,Q);if(K){for(var ee=0;ee<j.FileIndex.length;++ee)if(j.FileIndex[ee]==K)return j.FileIndex[ee].name=i(q),j.FullPaths[ee]=q,!0}return!1}function pt(j){k(j,!0)}return t.find=N,t.read=_,t.parse=d,t.write=L,t.writeFile=he,t.utils={cfb_new:Ue,cfb_add:Ye,cfb_del:ht,cfb_mov:vt,cfb_gc:pt,ReadShift:$0,CheckField:iY,prep_blob:Ri,bconcat:vu,use_zlib:W,_deflateRaw:dt,_inflateRaw:Sr,consts:se},t}();function sMe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function bl(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function WI(e){for(var t=[],n=bl(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var wx=new Date(1899,11,30,0,0,0);function vs(e,t){var n=e.getTime(),r=wx.getTime()+(e.getTimezoneOffset()-wx.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var NK=new Date,oMe=wx.getTime()+(NK.getTimezoneOffset()-wx.getTimezoneOffset())*6e4,BH=NK.getTimezoneOffset();function X1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+oMe),t.getTimezoneOffset()!==BH&&t.setTime(t.getTime()+(t.getTimezoneOffset()-BH)*6e4),t}function aMe(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var VH=new Date("2017-02-19T19:06:09.000Z"),BK=isNaN(VH.getFullYear())?new Date("2/19/17"):VH,lMe=BK.getFullYear()==2017;function fi(e,t){var n=new Date(e);if(lMe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(BK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Mh(e,t){if(ln&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return A0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return A0(EK(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return A0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return A0(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function ki(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=ki(e[n]));return t}function gr(e,t){for(var n="";n.length<t;)n+=e;return n}function ma(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var cMe=["january","february","march","april","may","june","july","august","september","october","november","december"];function cg(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&cMe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var uMe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],a=1;a<s.length;++a)o.push(i),o.push(s[a]);return o}}();function VK(e){return e?e.content&&e.type?Mh(e.content,!0):e.data?E0(e.data):e.asNodeBuffer&&ln?E0(e.asNodeBuffer().toString("binary")):e.asBinary?E0(e.asBinary()):e._data&&e._data.getContent?E0(Mh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function HK(e){if(!e)return null;if(e.data)return AH(e.data);if(e.asNodeBuffer&&ln)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?AH(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function dMe(e){return e&&e.name.slice(-4)===".bin"?HK(e):VK(e)}function Mo(e,t){for(var n=e.FullPaths||bl(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function $I(e,t){var n=Mo(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Br(e,t,n){if(!n)return dMe($I(e,t));if(!t)return null;try{return Br(e,t)}catch{return null}}function Qs(e,t,n){if(!n)return VK($I(e,t));if(!t)return null;try{return Qs(e,t)}catch{return null}}function hMe(e,t,n){return HK($I(e,t))}function HH(e){for(var t=e.FullPaths||bl(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function fMe(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return ln?r=Jh(n):r=kIe(n),pn.utils.cfb_add(e,t,r)}pn.utils.cfb_add(e,t,n)}else e.file(t,n)}function GK(e,t){switch(t.type){case"base64":return pn.read(e,{type:"base64"});case"binary":return pn.read(e,{type:"binary"});case"buffer":case"array":return pn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function R0(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var UK=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pMe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,GH=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,gMe=/<[^>]*>/g,Qi=UK.match(GH)?GH:gMe,mMe=/<\w*:/,vMe=/<(\/?)\w+:/;function Vt(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(pMe),a=0,l="",c=0,d="",f="",p=1;if(o)for(c=0;c!=o.length;++c){for(f=o[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(p=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+p,f.length-p),a=0;a!=d.length&&d.charCodeAt(a)!==58;++a);if(a===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,r[d.toLowerCase()]=l;else{var m=(a===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(a+1);if(r[m]&&d.slice(a-3,a)=="ext")continue;r[m]=l,r[m.toLowerCase()]=l}}return r}function Rl(e){return e.replace(vMe,"<$1")}var zK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},yMe=WI(zK),Cn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(a,l){return zK[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),CMe=/[&<>'"]/g,wMe=/[\u0000-\u001f]/g;function qI(e){var t=e+"";return t.replace(CMe,function(n){return yMe[n]}).replace(/\n/g,"<br/>").replace(wMe,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var UH=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function nr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function xA(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=e.charCodeAt(n++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function zH(e){var t=ju(2*e.length),n,r,i=1,s=0,o=0,a;for(r=0;r<e.length;r+=i)i=1,(a=e.charCodeAt(r))<128?n=a:a<224?(n=(a&31)*64+(e.charCodeAt(r+1)&63),i=2):a<240?(n=(a&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(a&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function jH(e){return Jh(e,"binary").toString("utf8")}var lb="foo bar baz",$n=ln&&(jH(lb)==xA(lb)&&jH||zH(lb)==xA(lb)&&zH)||xA,A0=ln?function(e){return Jh(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Kv=function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),jK=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),bMe=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),SMe=/<\/?(?:vt:)?variant>/g,xMe=/<(?:vt:)([^>]*)>([\s\S]*)</;function WH(e,t){var n=Vt(e),r=e.match(bMe(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(SMe,"").match(xMe);o&&i.push({v:$n(o[2]),t:o[1]})}),i}var EMe=/(^\s|\s$|\n)/;function TMe(e){return bl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function RMe(e,t,n){return"<"+e+(n!=null?TMe(n):"")+(t!=null?(t.match(EMe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function KI(e){if(ln&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return $n(ef(UI(e)));throw new Error("Bad input format: expected Buffer or string")}var Yv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,AMe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},_Me=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function DMe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function PMe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var $H=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},qH=ln?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Jh(t)})):$H(e)}:$H,KH=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(tc(e,i)));return r.join("").replace(ms,"")},YI=ln?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(ms,""):KH(e,t,n)}:KH,YH=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},WK=ln?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):YH(e,t,n)}:YH,XH=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(op(e,i)));return r.join("")},oC=ln?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):XH(t,n,r)}:XH,$K=function(e,t){var n=Ks(e,t);return n>0?oC(e,t+4,t+4+n-1):""},qK=$K,KK=function(e,t){var n=Ks(e,t);return n>0?oC(e,t+4,t+4+n-1):""},YK=KK,XK=function(e,t){var n=2*Ks(e,t);return n>0?oC(e,t+4,t+4+n-1):""},QK=XK,ZK=function(t,n){var r=Ks(t,n);return r>0?YI(t,n+4,n+4+r):""},JK=ZK,eY=function(e,t){var n=Ks(e,t);return n>0?oC(e,t+4,t+4+n):""},tY=eY,nY=function(e,t){return DMe(e,t)},bx=nY,rY=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ln&&(qK=function(t,n){if(!Buffer.isBuffer(t))return $K(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},YK=function(t,n){if(!Buffer.isBuffer(t))return KK(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},QK=function(t,n){if(!Buffer.isBuffer(t))return XK(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},JK=function(t,n){if(!Buffer.isBuffer(t))return ZK(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},tY=function(t,n){if(!Buffer.isBuffer(t))return eY(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},bx=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):nY(t,n)},rY=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var op=function(e,t){return e[t]},tc=function(e,t){return e[t+1]*256+e[t]},FMe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Ks=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},jd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},kMe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function $0(e,t){var n="",r,i,s=[],o,a,l,c;switch(t){case"dbcs":if(c=this.l,ln&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(tc(this,c)),c+=2;e*=2;break;case"utf8":n=oC(this,this.l,this.l+e);break;case"utf16le":e*=2,n=YI(this,this.l,this.l+e);break;case"wstr":return $0.call(this,e,"dbcs");case"lpstr-ansi":n=qK(this,this.l),e=4+Ks(this,this.l);break;case"lpstr-cp":n=YK(this,this.l),e=4+Ks(this,this.l);break;case"lpwstr":n=QK(this,this.l),e=4+2*Ks(this,this.l);break;case"lpp4":e=4+Ks(this,this.l),n=JK(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ks(this,this.l),n=tY(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=op(this,this.l+e++))!==0;)s.push(ab(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=tc(this,this.l+e))!==0;)s.push(ab(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=op(this,c),this.l=c+1,a=$0.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(ab(tc(this,c))),c+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=op(this,c),this.l=c+1,a=$0.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(ab(op(this,c))),c+=1}n=s.join("");break;default:switch(e){case 1:return r=op(this,this.l),this.l++,r;case 2:return r=(t==="i"?FMe:tc)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?jd:kMe)(this,this.l),this.l+=4,r):(i=Ks(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=bx(this,this.l):i=bx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=WK(this,this.l,e);break}}return this.l+=e,n}var IMe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},MMe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},OMe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function LMe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)OMe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,IMe(this,t,this.l);break;case 8:if(r=8,n==="f"){PMe(this,t,this.l);break}case 16:break;case-4:r=4,MMe(this,t,this.l);break}return this.l+=r,this}function iY(e,t){var n=WK(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ri(e,t){e.l=t,e.read_shift=$0,e.chk=iY,e.write_shift=LMe}function Ki(e,t){e.l+=t}function Qr(e){var t=ju(e);return Ri(t,0),t}function _c(e,t,n){if(e){var r,i,s;Ri(e,e.l||0);for(var o=e.length,a=0,l=0;e.l<o;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var c=Ax[a]||Ax[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;l=e.l+s;var d=c.f&&c.f(e,s,n);if(e.l=l,t(d,c,a))return}}}function KD(){var e=[],t=ln?256:2048,n=function(c){var d=Qr(c);return Ri(d,0),d},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,t)))},o=function(){return i(),vu(e)},a=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:a,end:o,_bufs:e}}function q0(e,t,n){var r=ki(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function QH(e,t,n){var r=ki(e);return r.s=q0(r.s,t.s,n),r.e=q0(r.e,t.s,n),r}function K0(e,t){if(e.cRel&&e.c<0)for(e=ki(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ki(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=jt(e);return!e.cRel&&e.cRel!=null&&(n=VMe(n)),!e.rRel&&e.rRel!=null&&(n=NMe(n)),n}function EA(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Jr(e.s.c)+":"+(e.e.cRel?"":"$")+Jr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ii(e.s.r)+":"+(e.e.rRel?"":"$")+Ii(e.e.r):K0(e.s,t.biff)+":"+K0(e.e,t.biff)}function XI(e){return parseInt(BMe(e),10)-1}function Ii(e){return""+(e+1)}function NMe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function BMe(e){return e.replace(/\$(\d+)$/,"$1")}function QI(e){for(var t=HMe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Jr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function VMe(e){return e.replace(/^([A-Z])/,"$$$1")}function HMe(e){return e.replace(/^\$([A-Z])/,"$1")}function GMe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function hs(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function jt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Lg(e){var t=e.indexOf(":");return t==-1?{s:hs(e),e:hs(e)}:{s:hs(e.slice(0,t)),e:hs(e.slice(t+1))}}function mn(e,t){return typeof t>"u"||typeof t=="number"?mn(e.s,e.e):(typeof e!="string"&&(e=jt(e)),typeof t!="string"&&(t=jt(t)),e==t?e:e+":"+t)}function Cr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function ZH(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Qo(e.z,n?vs(t):t)}catch{}try{return e.w=Qo((e.XF||{}).numFmtId||(n?14:0),n?vs(t):t)}catch{return""+t}}function bc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?rf[e.v]||e.v:t==null?ZH(e,e.v):ZH(e,t))}function sd(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function sY(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?hs(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Cr(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),o==-1&&(c.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var m={v:t[f][p]},y=o+f,C=a+p;if(c.s.r>y&&(c.s.r=y),c.s.c>C&&(c.s.c=C),c.e.r<y&&(c.e.r=y),c.e.c<C&&(c.e.c=C),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))m=t[f][p];else if(Array.isArray(m.v)&&(m.f=t[f][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Wt[14],r.cellDates?(m.t="d",m.w=Qo(m.z,vs(m.v))):(m.t="n",m.v=vs(m.v),m.w=Qo(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][C]&&s[y][C].z&&(m.z=s[y][C].z),s[y][C]=m;else{var b=jt({c:C,r:y});s[b]&&s[b].z&&(m.z=s[b].z),s[b]=m}}}return c.s.c<1e7&&(s["!ref"]=mn(c)),s}function Ng(e,t){return sY(null,e,t)}function UMe(e){return e.read_shift(4,"i")}function $i(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zMe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ZI(e,t){var n=e.l,r=e.read_shift(1),i=$i(e),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)s.push(zMe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var jMe=ZI;function ea(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function tf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var WMe=$i;function JI(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var $Me=$i,YD=JI;function eM(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?bx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):jd(t,0)>>2;return n?i/100:i}function oY(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var nf=oY;function zi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function qMe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=hh[i];c&&(t.rgb=Qv(c));break;case 2:t.rgb=Qv([o,a,l]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function KMe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function aY(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function YMe(e){return aY(e,1)}function XMe(e){return aY(e,2)}var tM=2,Es=3,cb=11,JH=12,Sx=19,ub=64,QMe=65,ZMe=71,JMe=4108,e2e=4126,ui=80,lY=81,t2e=[ui,lY],n2e={1:{n:"CodePage",t:tM},2:{n:"Category",t:ui},3:{n:"PresentationFormat",t:ui},4:{n:"ByteCount",t:Es},5:{n:"LineCount",t:Es},6:{n:"ParagraphCount",t:Es},7:{n:"SlideCount",t:Es},8:{n:"NoteCount",t:Es},9:{n:"HiddenCount",t:Es},10:{n:"MultimediaClipCount",t:Es},11:{n:"ScaleCrop",t:cb},12:{n:"HeadingPairs",t:JMe},13:{n:"TitlesOfParts",t:e2e},14:{n:"Manager",t:ui},15:{n:"Company",t:ui},16:{n:"LinksUpToDate",t:cb},17:{n:"CharacterCount",t:Es},19:{n:"SharedDoc",t:cb},22:{n:"HyperlinksChanged",t:cb},23:{n:"AppVersion",t:Es,p:"version"},24:{n:"DigSig",t:QMe},26:{n:"ContentType",t:ui},27:{n:"ContentStatus",t:ui},28:{n:"Language",t:ui},29:{n:"Version",t:ui},255:{},2147483648:{n:"Locale",t:Sx},2147483651:{n:"Behavior",t:Sx},1919054434:{}},r2e={1:{n:"CodePage",t:tM},2:{n:"Title",t:ui},3:{n:"Subject",t:ui},4:{n:"Author",t:ui},5:{n:"Keywords",t:ui},6:{n:"Comments",t:ui},7:{n:"Template",t:ui},8:{n:"LastAuthor",t:ui},9:{n:"RevNumber",t:ui},10:{n:"EditTime",t:ub},11:{n:"LastPrinted",t:ub},12:{n:"CreatedDate",t:ub},13:{n:"ModifiedDate",t:ub},14:{n:"PageCount",t:Es},15:{n:"WordCount",t:Es},16:{n:"CharCount",t:Es},17:{n:"Thumbnail",t:ZMe},18:{n:"Application",t:ui},19:{n:"DocSecurity",t:Es},255:{},2147483648:{n:"Locale",t:Sx},2147483651:{n:"Behavior",t:Sx},1919054434:{}},eG={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},i2e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function s2e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var o2e=s2e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),hh=ki(o2e),rf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},cY={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},tG={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function a2e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function l2e(e){var t=a2e();if(!e||!e.match)return t;var n={};if((e.match(Qi)||[]).forEach(function(r){var i=Vt(r);switch(i[0].replace(mMe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[tG[i.ContentType]]!==void 0&&t[tG[i.ContentType]].push(i.PartName);break}}),t.xmlns!==AMe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var up={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function XD(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Y0(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Qi)||[]).forEach(function(i){var s=Vt(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var a=s.TargetMode==="External"?s.Target:R0(s.Target,t);n[a]=o,r[s.Id]=o}}),n["!id"]=r,n}var c2e="application/vnd.oasis.opendocument.spreadsheet";function u2e(e,t){for(var n=KI(e),r,i;r=Yv.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Vt(r[0],!1),i.path=="/"&&i.type!==c2e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var X0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],d2e=function(){for(var e=new Array(X0.length),t=0;t<X0.length;++t){var n=X0[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function uY(e){var t={};e=$n(e);for(var n=0;n<X0.length;++n){var r=X0[n],i=e.match(d2e[n]);i!=null&&i.length>0&&(t[r[1]]=Cn(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=fi(t[r[1]]))}return t}var h2e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function dY(e,t,n,r){var i=[];if(typeof e=="string")i=WH(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?WH(t,r).map(function(d){return d.v}):t,a=0,l=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(a,a+l);break}a+=l}}function f2e(e,t,n){var r={};return t||(t={}),e=$n(e),h2e.forEach(function(i){var s=(e.match(Kv(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Cn(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&dY(r.HeadingPairs,r.TitlesOfParts,t,n),t}var p2e=/<[^>]+>[^<]*/g;function g2e(e,t){var n={},r="",i=e.match(p2e);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=Vt(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Cn(a.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Cn(d);break;case"bool":n[r]=nr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=fi(d);break;case"cy":case"error":n[r]=Cn(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var m2e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},TA;function v2e(e,t,n){TA||(TA=WI(m2e)),t=TA[t]||t,e[t]=n}function nM(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function hY(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function fY(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function pY(e,t,n){return t===31?fY(e):hY(e,t,n)}function QD(e,t,n){return pY(e,t,n===!1?0:4)}function y2e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return pY(e,t,0)}function C2e(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(ms,""),e.l-i&2&&(e.l+=2)}return n}function w2e(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(ms,"");return n}function b2e(e){var t=e.l,n=xx(e,lY);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=xx(e,Es);return[n,r]}function S2e(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(b2e(e));return n}function nG(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(ms,"").replace(T0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function gY(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function x2e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function xx(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==JH&&r!==t&&t2e.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===JH?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return hY(e,r,4).replace(ms,"");case 31:return fY(e);case 64:return nM(e);case 65:return gY(e);case 71:return x2e(e);case 80:return QD(e,r,!s.raw).replace(ms,"");case 81:return y2e(e,r).replace(ms,"");case 4108:return S2e(e);case 4126:case 4127:return r==4127?C2e(e):w2e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function rG(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,a=0,l=-1,c={};for(o=0;o!=i;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+n]}s.sort(function(R,E){return R[1]-E[1]});var p={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[s[o][0]];if(p[y.n]=xx(e,y.t,{raw:!0}),y.p==="version"&&(p[y.n]=String(p[y.n]>>16)+"."+("0000"+String(p[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(p[y.n]){case 0:p[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ha(a=p[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[y.n])}}else if(s[o][0]===1){if(a=p.CodePage=xx(e,tM),ha(a),l!==-1){var C=e.l;e.l=s[l][1],c=nG(e,a),e.l=C}}else if(s[o][0]===0){if(a===0){l=o,e.l=s[o+1][1];continue}c=nG(e,a)}else{var b=c[s[o][0]],x;switch(e[e.l]){case 65:e.l+=4,x=gY(e);break;case 30:e.l+=4,x=QD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=QD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=Rr(e,4);break;case 64:e.l+=4,x=fi(nM(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[b]=x}}return e.l=n+r,p}function iG(e,t,n){var r=e.content;if(!r)return{};Ri(r,0);var i,s,o,a,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==pn.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),i===1&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);i===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=rG(r,t),p={SystemIdentifier:c};for(var m in f)p[m]=f[m];if(p.FMTID=s,i===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var y;try{y=rG(r,null)}catch{}for(m in y)p[m]=y[m];return p.FMTID=[s,o],p}function iu(e,t){return e.read_shift(t),null}function E2e(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Rr(e,t){return e.read_shift(t)===1}function Vr(e){return e.read_shift(2,"u")}function mY(e,t){return E2e(e,t,Vr)}function T2e(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function aC(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return o}function R2e(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,a,l={};i&&(o=e.read_shift(2)),r&&(a=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,c);return i&&(e.l+=4*o),r&&(e.l+=a),l.t=d,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Oh(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function lC(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Oh(e,r,n)}function sf(e,t,n){if(n.biff>5)return lC(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function A2e(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function _2e(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(ms,"");return r&&(e.l+=24),i}function D2e(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(ms,"");return n+o}function P2e(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return _2e(e);case"0303000000000000c000000000000046":return D2e(e);default:throw new Error("Unsupported Moniker "+n)}}function db(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(ms,""):"";return n}function F2e(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,a,l,c="",d,f;i&16&&(s=db(e,n-e.l)),i&128&&(o=db(e,n-e.l)),(i&257)===257&&(a=db(e,n-e.l)),(i&257)===1&&(l=P2e(e,n-e.l)),i&8&&(c=db(e,n-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(f=nM(e)),e.l=n;var p=o||a||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function vY(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function yY(e,t){var n=vY(e);return n[3]=0,n}function Al(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function k2e(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function I2e(e,t,n){return t===0?"":sf(e,t,n)}function M2e(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,s,o]}function CY(e){var t=e.read_shift(2),n=eM(e);return[t,n]}function O2e(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=aC(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function Q1(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function wY(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var L2e=wY;function bY(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function N2e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function B2e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Bi(e){e.l+=2,e.l+=e.read_shift(2)}var V2e={0:Bi,4:Bi,5:Bi,6:Bi,7:B2e,8:Bi,9:Bi,10:Bi,11:Bi,12:Bi,13:N2e,14:Bi,15:Bi,16:Bi,17:Bi,18:Bi,19:Bi,20:Bi,21:bY};function H2e(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(V2e[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function hb(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function G2e(e,t){return t===0||e.read_shift(2),1200}function U2e(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=sf(e,0,n);return e.read_shift(t+r-e.l),i}function z2e(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function j2e(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=aC(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function W2e(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(R2e(e));return s.Count=r,s.Unique=i,s}function $2e(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function q2e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function K2e(e){var t=k2e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function Y2e(e){return e.read_shift(2),e.read_shift(4)}function sG(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function X2e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:a,Selected:l,TabRatio:c}}function Q2e(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function Z2e(){}function J2e(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=aC(e,0,n),r}function eOe(e){var t=Al(e);return t.isst=e.read_shift(4),t}function tOe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Al(e);n.biff==2&&e.l++;var s=lC(e,r-e.l,n);return i.val=s,i}function nOe(e,t,n){var r=e.read_shift(2),i=sf(e,0,n);return[r,i]}var rOe=sf;function oG(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),o=e.read_shift(i),a=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:a},e:{r:o,c:l}}}function iOe(e){var t=e.read_shift(2),n=e.read_shift(2),r=CY(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function sOe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(CY(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function oOe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function aOe(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return i.patternType=i2e[a>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=a&127,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function lOe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=aOe(e,t,r.fStyle,n),r}function cOe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function aG(e,t,n){var r=Al(e);(n.biff==2||t==9)&&++e.l;var i=T2e(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function uOe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Al(e),i=zi(e);return r.val=i,r}var lG=I2e;function dOe(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Oh(e,s),a=[];r>e.l;)a.push(lC(e));return[s,i,o,a]}function cG(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=O2e(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var hOe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function uG(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=Oh(e,o,n);i&32&&(c=hOe[c.charCodeAt(0)]);var d=r-e.l;n&&n.biff==2&&--d;var f=r==e.l||a===0||!(d>0)?[]:qBe(e,d,n,a);return{chKey:s,Name:c,itab:l,rgce:f}}function SY(e,t,n){if(n.biff<8)return fOe(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(M2e(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function fOe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=aC(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function pOe(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=Oh(e,r,n),o=Oh(e,i,n);return[s,o]}function gOe(e,t,n){var r=wY(e);e.l++;var i=e.read_shift(1);return t-=8,[KBe(e,t,n),i,r]}function dG(e,t,n){var r=L2e(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,WBe(e,t,n)]}function mOe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function vOe(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=sf(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},a,o,s]}}function yOe(e,t,n){return vOe(e,t,n)}function COe(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(Q1(e));return n}function wOe(e,t,n){if(n&&n.biff<8)return SOe(e,t,n);var r=bY(e),i=H2e(e,t-22,r[1]);return{cmo:r,ft:i}}var bOe={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function SOe(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((bOe[r]||Ki)(e,t,n)),{cmo:[i,r,s],ft:o}}function xOe(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=A2e(e,6,n);var a=e.read_shift(2);e.read_shift(2),Vr(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],f=Oh(e,e.lens[c+1]-e.lens[c]-1);if(i+=f,i.length>=(d?a:2*a))break}if(i.length!==a&&i.length!==a*2)throw new Error("cchText: "+a+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function EOe(e,t){var n=Q1(e);e.l+=16;var r=F2e(e,t-24);return[n,r]}function TOe(e,t){e.read_shift(2);var n=Q1(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(ms,""),[n,r]}function ROe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=eG[n]||n,n=e.read_shift(2),t[1]=eG[n]||n,t}function AOe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(yY(e));return n}function _Oe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(yY(e));return n}function DOe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function xY(e,t,n){if(!n.cellStyles)return Ki(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:i,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function POe(e,t){var n={};return t<32||(e.l+=16,n.header=zi(e),n.footer=zi(e),e.l+=2),n}function FOe(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}var kOe=Al,IOe=mY,MOe=lC;function OOe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function LOe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Al(e);++e.l;var i=sf(e,t-7,n);return r.t="str",r.val=i,r}function NOe(e){var t=Al(e);++e.l;var n=zi(e);return t.t="n",t.val=n,t}function BOe(e){var t=Al(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function VOe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function HOe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function GOe(e,t,n){var r=e.l+t,i=Al(e),s=e.read_shift(2),o=Oh(e,s,n);return e.l=r,i.t="str",i.val=o,i}var UOe=[2,3,48,49,131,139,140,245],hG=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=WI({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],d=ju(1);switch(l.type){case"base64":d=ca(uo(a));break;case"binary":d=ca(a);break;case"buffer":case"array":d=a;break}Ri(d,0);var f=d.read_shift(1),p=!!(f&136),m=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var C=0,b=521;f==2&&(C=d.read_shift(2)),d.l+=3,f!=2&&(C=d.read_shift(4)),C>1048576&&(C=1e6),f!=2&&(b=d.read_shift(2));var x=d.read_shift(2),R=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(R=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var E=[],F={},I=Math.min(d.length,f==2?521:b-10-(m?264:0)),_=y?32:11;d.l<I&&d[d.l]!=13;)switch(F={},F.name=$v.utils.decode(R,d.slice(d.l,d.l+_)).replace(/[\u0000\r\n].*$/g,""),d.l+=_,F.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(F.offset=d.read_shift(4)),F.len=d.read_shift(1),f==2&&(F.offset=d.read_shift(2)),F.dec=d.read_shift(1),F.name.length&&E.push(F),f!=2&&(d.l+=y?13:14),F.type){case"B":(!m||F.len!=8)&&l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(d[d.l]!==13&&(d.l=b-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=b;var D=0,P=0;for(c[0]=[],P=0;P!=E.length;++P)c[0][P]=E[P].name;for(;C-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,c[++D]=[],P=0,P=0;P!=E.length;++P){var k=d.slice(d.l,d.l+E[P].len);d.l+=E[P].len,Ri(k,0);var B=$v.utils.decode(R,k);switch(E[P].type){case"C":B.trim().length&&(c[D][P]=B.replace(/\s+$/,""));break;case"D":B.length===8?c[D][P]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):c[D][P]=B;break;case"F":c[D][P]=parseFloat(B.trim());break;case"+":case"I":c[D][P]=y?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":c[D][P]=!0;break;case"N":case"F":c[D][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][P]="##MEMO##"+(y?parseInt(B.trim(),10):k.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(c[D][P]=+B||0);break;case"@":c[D][P]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[D][P]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[D][P]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][P]=-k.read_shift(-8,"f");break;case"B":if(m&&E[P].len==8){c[D][P]=k.read_shift(8,"f");break}case"G":case"P":k.l+=E[P].len;break;case"0":if(E[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[P].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=E,c}function r(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Ng(n(a,c),c);return d["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,d}function i(a,l){try{return sd(r(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&ha(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=KD(),f=iP(a,{header:1,raw:!0,cellDates:!0}),p=f[0],m=f.slice(1),y=a["!cols"]||[],C=0,b=0,x=0,R=1;for(C=0;C<p.length;++C){if(((y[C]||{}).DBF||{}).name){p[C]=y[C].DBF.name,++x;continue}if(p[C]!=null){if(++x,typeof p[C]=="number"&&(p[C]=p[C].toString(10)),typeof p[C]!="string")throw new Error("DBF Invalid column name "+p[C]+" |"+typeof p[C]+"|");if(p.indexOf(p[C])!==C){for(b=0;b<1024;++b)if(p.indexOf(p[C]+"_"+b)==-1){p[C]+="_"+b;break}}}}var E=Cr(a["!ref"]),F=[],I=[],_=[];for(C=0;C<=E.e.c-E.s.c;++C){var D="",P="",k=0,B=[];for(b=0;b<m.length;++b)m[b][C]!=null&&B.push(m[b][C]);if(B.length==0||p[C]==null){F[C]="?";continue}for(b=0;b<B.length;++b){switch(typeof B[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=B[b]instanceof Date?"D":"C";break;default:P="C"}k=Math.max(k,String(B[b]).length),D=D&&D!=P?"C":P}k>250&&(k=250),P=((y[C]||{}).DBF||{}).type,P=="C"&&y[C].DBF.len>k&&(k=y[C].DBF.len),D=="B"&&P=="N"&&(D="N",_[C]=y[C].DBF.dec,k=y[C].DBF.len),I[C]=D=="C"||P=="N"?k:s[D]||0,R+=I[C],F[C]=D}var N=d.next(32);for(N.write_shift(4,318902576),N.write_shift(4,m.length),N.write_shift(2,296+32*x),N.write_shift(2,R),C=0;C<4;++C)N.write_shift(4,0);for(N.write_shift(4,0|(+t[SK]||3)<<8),C=0,b=0;C<p.length;++C)if(p[C]!=null){var V=d.next(32),G=(p[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,G,"sbcs"),V.write_shift(1,F[C]=="?"?"C":F[C],"sbcs"),V.write_shift(4,b),V.write_shift(1,I[C]||s[F[C]]||0),V.write_shift(1,_[C]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),b+=I[C]||s[F[C]]||0}var oe=d.next(264);for(oe.write_shift(4,13),C=0;C<65;++C)oe.write_shift(4,0);for(C=0;C<m.length;++C){var le=d.next(R);for(le.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(F[b]){case"L":le.write_shift(1,m[C][b]==null?63:m[C][b]?84:70);break;case"B":le.write_shift(8,m[C][b]||0,"f");break;case"N":var J="0";for(typeof m[C][b]=="number"&&(J=m[C][b].toFixed(_[b]||0)),x=0;x<I[b]-J.length;++x)le.write_shift(1,32);le.write_shift(1,J,"sbcs");break;case"D":m[C][b]?(le.write_shift(4,("0000"+m[C][b].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(m[C][b].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+m[C][b].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var se=String(m[C][b]!=null?m[C][b]:"").slice(0,I[b]);for(le.write_shift(1,se,"sbcs"),x=0;x<I[b]-se.length;++x)le.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),zOe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+bl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,m){var y=e[m];return typeof y=="number"?_H(y):y},r=function(p,m,y){var C=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return C==59?p:_H(C)};e["|"]=254;function i(p,m){switch(m.type){case"base64":return s(uo(p),m);case"binary":return s(p,m);case"buffer":return s(ln&&Buffer.isBuffer(p)?p.toString("binary"):ef(p),m);case"array":return s(Mh(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var y=p.split(/[\n\r]+/),C=-1,b=-1,x=0,R=0,E=[],F=[],I=null,_={},D=[],P=[],k=[],B=0,N;for(+m.codepage>=0&&ha(+m.codepage);x!==y.length;++x){B=0;var V=y[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),G=V.replace(/;;/g,"\0").split(";").map(function(ie){return ie.replace(/\u0000/g,";")}),oe=G[0],le;if(V.length>0)switch(oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&F.push(V.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,se=!1,he=!1,ne=!1,L=-1,ae=-1;for(R=1;R<G.length;++R)switch(G[R].charAt(0)){case"A":break;case"X":b=parseInt(G[R].slice(1))-1,se=!0;break;case"Y":for(C=parseInt(G[R].slice(1))-1,se||(b=0),N=E.length;N<=C;++N)E[N]=[];break;case"K":le=G[R].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(ma(le))?isNaN(cg(le).getDate())||(le=fi(le)):(le=ma(le),I!==null&&Og(I)&&(le=X1(le))),J=!0;break;case"E":ne=!0;var W=Op(G[R].slice(1),{r:C,c:b});E[C][b]=[E[C][b],W];break;case"S":he=!0,E[C][b]=[E[C][b],"S5S"];break;case"G":break;case"R":L=parseInt(G[R].slice(1))-1;break;case"C":ae=parseInt(G[R].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}if(J&&(E[C][b]&&E[C][b].length==2?E[C][b][0]=le:E[C][b]=le,I=null),he){if(ne)throw new Error("SYLK shared formula cannot have own formula");var H=L>-1&&E[L][ae];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");E[C][b][1]=IY(H[1],{r:C-L,c:b-ae})}break;case"F":var X=0;for(R=1;R<G.length;++R)switch(G[R].charAt(0)){case"X":b=parseInt(G[R].slice(1))-1,++X;break;case"Y":for(C=parseInt(G[R].slice(1))-1,N=E.length;N<=C;++N)E[N]=[];break;case"M":B=parseInt(G[R].slice(1))/20;break;case"F":break;case"G":break;case"P":I=F[parseInt(G[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=G[R].slice(1).split(" "),N=parseInt(k[0],10);N<=parseInt(k[1],10);++N)B=parseInt(k[2],10),P[N-1]=B===0?{hidden:!0}:{wch:B},ug(P[N-1]);break;case"C":b=parseInt(G[R].slice(1))-1,P[b]||(P[b]={});break;case"R":C=parseInt(G[R].slice(1))-1,D[C]||(D[C]={}),B>0?(D[C].hpt=B,D[C].hpx=Zv(B)):B===0&&(D[C].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}X<1&&(I=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}}return D.length>0&&(_["!rows"]=D),P.length>0&&(_["!cols"]=P),m&&m.sheetRows&&(E=E.slice(0,m.sheetRows)),[E,_]}function o(p,m){var y=i(p,m),C=y[0],b=y[1],x=Ng(C,m);return bl(b).forEach(function(R){x[R]=b[R]}),x}function a(p,m){return sd(o(p,m),m)}function l(p,m,y,C){var b="C;Y"+(y+1)+";X"+(C+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+DNe(p.f,{r:y,c:C}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function c(p,m){m.forEach(function(y,C){var b="F;W"+(C+1)+" "+(C+1)+" ";y.hidden?b+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Tx(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Rx(y.wpx)),typeof y.wch=="number"&&(b+=Math.round(y.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function d(p,m){m.forEach(function(y,C){var b="F;";y.hidden?b+="M0;":y.hpt?b+="M"+20*y.hpt+";":y.hpx&&(b+="M"+20*PY(y.hpx)+";"),b.length>2&&p.push(b+"R"+(C+1))})}function f(p,m){var y=["ID;PWXL;N;E"],C=[],b=Cr(p["!ref"]),x,R=Array.isArray(p),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&c(y,p["!cols"]),p["!rows"]&&d(y,p["!rows"]),y.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var F=b.s.r;F<=b.e.r;++F)for(var I=b.s.c;I<=b.e.c;++I){var _=jt({r:F,c:I});x=R?(p[F]||[])[I]:p[_],!(!x||x.v==null&&(!x.f||x.F))&&C.push(l(x,p,F,I))}return y.join(E)+E+C.join(E)+E+"E"+E}return{to_workbook:a,to_sheet:o,from_sheet:f}}(),jOe=function(){function e(s,o){switch(o.type){case"base64":return t(uo(s),o);case"binary":return t(s,o);case"buffer":return t(ln&&Buffer.isBuffer(s)?s.toString("binary"):ef(s),o);case"array":return t(Mh(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var a=s.split(`
`),l=-1,c=-1,d=0,f=[];d!==a.length;++d){if(a[d].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var p=a[d].trim().split(","),m=p[0],y=p[1];++d;for(var C=a[d]||"";(C.match(/["]/g)||[]).length&1&&d<a.length-1;)C+=`
`+a[++d];switch(C=C.trim(),+m){case-1:if(C==="BOT"){f[++l]=[],c=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?f[l][c]=!0:C==="FALSE"?f[l][c]=!1:isNaN(ma(y))?isNaN(cg(y).getDate())?f[l][c]=y:f[l][c]=fi(y):f[l][c]=ma(y),++c;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),f[l][c++]=C!==""?C:null;break}if(C==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(s,o){return Ng(e(s,o),o)}function r(s,o){return sd(n(s,o),o)}var i=function(){var s=function(l,c,d,f,p){l.push(c),l.push(d+","+f),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,c,d,f){l.push(c+","+d),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],d=Cr(l["!ref"]),f,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(c,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var C=jt({r:m,c:y});if(f=p?(l[m]||[])[y]:l[C],!f){o(c,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?o(c,1,0,"="+f.f):o(c,1,0,""):o(c,0,b,"V");break;case"b":o(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Qo(f.z||Wt[14],vs(fi(f.v)))),o(c,0,f.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var x=`\r
`,R=c.join(x);return R}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),WOe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,p){for(var m=f.split(`
`),y=-1,C=-1,b=0,x=[];b!==m.length;++b){var R=m[b].trim().split(":");if(R[0]==="cell"){var E=hs(R[1]);if(x.length<=E.r)for(y=x.length;y<=E.r;++y)x[y]||(x[y]=[]);switch(y=E.r,C=E.c,R[2]){case"t":x[y][C]=e(R[3]);break;case"v":x[y][C]=+R[3];break;case"vtf":var F=R[R.length-1];case"vtc":switch(R[3]){case"nl":x[y][C]=!!+R[4];break;default:x[y][C]=+R[4];break}R[2]=="vtf"&&(x[y][C]=[x[y][C],F])}}}return p&&p.sheetRows&&(x=x.slice(0,p.sheetRows)),x}function r(f,p){return Ng(n(f,p),p)}function i(f,p){return sd(r(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var p=[],m=[],y,C="",b=Lg(f["!ref"]),x=Array.isArray(f),R=b.s.r;R<=b.e.r;++R)for(var E=b.s.c;E<=b.e.c;++E)if(C=jt({r:R,c:E}),y=x?(f[R]||[])[E]:f[C],!(!y||y.v==null||y.t==="z")){switch(m=["cell",C,"t"],y.t){case"s":case"str":m.push(t(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=t(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var F=vs(fi(y.v));m[2]="vtc",m[3]="nd",m[4]=""+F,m[5]=y.w||Qo(y.z||Wt[14],F);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(f){return[s,o,a,o,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}}(),Xv=function(){function e(d,f,p,m,y){y.raw?f[p][m]=d:d===""||(d==="TRUE"?f[p][m]=!0:d==="FALSE"?f[p][m]=!1:isNaN(ma(d))?isNaN(cg(d).getDate())?f[p][m]=d:f[p][m]=fi(d):f[p][m]=ma(d))}function t(d,f){var p=f||{},m=[];if(!d||d.length===0)return m;for(var y=d.split(/[\r\n]/),C=y.length-1;C>=0&&y[C].length===0;)--C;for(var b=10,x=0,R=0;R<=C;++R)x=y[R].indexOf(" "),x==-1?x=y[R].length:x++,b=Math.max(b,x);for(R=0;R<=C;++R){m[R]=[];var E=0;for(e(y[R].slice(0,b).trim(),m,R,E,p),E=1;E<=(y[R].length-b)/10+1;++E)e(y[R].slice(b+(E-1)*10,b+E*10).trim(),m,R,E,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var f={},p=!1,m=0,y=0;m<d.length;++m)(y=d.charCodeAt(m))==34?p=!p:!p&&y in n&&(f[y]=(f[y]||0)+1);y=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m]);if(!y.length){f=r;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m])}return y.sort(function(C,b){return C[0]-b[0]||r[C[1]]-r[b[1]]}),n[y.pop()[1]]||44}function s(d,f){var p=f||{},m="",y=p.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=i(d.slice(0,1024)):p&&p.FS?m=p.FS:m=i(d.slice(0,1024));var b=0,x=0,R=0,E=0,F=0,I=m.charCodeAt(0),_=!1,D=0,P=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?nMe(p.dateNF):null;function B(){var N=d.slice(E,F),V={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)V.t="z";else if(p.raw)V.t="s",V.v=N;else if(N.trim().length===0)V.t="s",V.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(V.t="s",V.v=N.slice(2,-1).replace(/""/g,'"')):FNe(N)?(V.t="n",V.f=N.slice(1)):(V.t="s",V.v=N);else if(N=="TRUE")V.t="b",V.v=!0;else if(N=="FALSE")V.t="b",V.v=!1;else if(!isNaN(R=ma(N)))V.t="n",p.cellText!==!1&&(V.w=N),V.v=R;else if(!isNaN(cg(N).getDate())||k&&N.match(k)){V.z=p.dateNF||Wt[14];var G=0;k&&N.match(k)&&(N=rMe(N,p.dateNF,N.match(k)||[]),G=1),p.cellDates?(V.t="d",V.v=fi(N,G)):(V.t="n",V.v=vs(fi(N,G))),p.cellText!==!1&&(V.w=Qo(V.z,V.v instanceof Date?vs(V.v):V.v)),p.cellNF||delete V.z}else V.t="s",V.v=N;if(V.t=="z"||(p.dense?(y[b]||(y[b]=[]),y[b][x]=V):y[jt({c:x,r:b})]=V),E=F+1,P=d.charCodeAt(E),C.e.c<x&&(C.e.c=x),C.e.r<b&&(C.e.r=b),D==I)++x;else if(x=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;F<d.length;++F)switch(D=d.charCodeAt(F)){case 34:P===34&&(_=!_);break;case I:case 10:case 13:if(!_&&B())break e;break}return F-E>0&&B(),y["!ref"]=mn(C),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Ng(t(d,f),f)}function a(d,f){var p="",m=f.type=="string"?[0,0,0,0]:uM(d,f);switch(f.type){case"base64":p=uo(d);break;case"binary":p=d;break;case"buffer":f.codepage==65001?p=d.toString("utf8"):f.codepage&&typeof $v<"u"||(p=ln&&Buffer.isBuffer(d)?d.toString("binary"):ef(d));break;case"array":p=Mh(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=$n(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=$n(p):f.type=="binary"&&typeof $v<"u",p.slice(0,19)=="socialcalc:version:"?WOe.to_sheet(f.type=="string"?p:$n(p),f):o(p,f)}function l(d,f){return sd(a(d,f),f)}function c(d){for(var f=[],p=Cr(d["!ref"]),m,y=Array.isArray(d),C=p.s.r;C<=p.e.r;++C){for(var b=[],x=p.s.c;x<=p.e.c;++x){var R=jt({r:C,c:x});if(m=y?(d[C]||[])[x]:d[R],!m||m.v==null){b.push("          ");continue}for(var E=(m.w||(bc(m),m.w)||"").slice(0,10);E.length<10;)E+=" ";b.push(E+(x===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();function $Oe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=zOe.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Xv.to_workbook(e,t)}}var Q0=function(){function e(W,H,X){if(W){Ri(W,W.l||0);for(var ie=X.Enum||L;W.l<W.length;){var fe=W.read_shift(2),Be=ie[fe]||ie[65535],Ne=W.read_shift(2),Ie=W.l+Ne,Fe=Be.f&&Be.f(W,Ne,X);if(W.l=Ie,H(Fe,Be,fe))return}}}function t(W,H){switch(H.type){case"base64":return n(ca(uo(W)),H);case"binary":return n(ca(W),H);case"buffer":case"array":return n(W,H)}throw"Unsupported type "+H.type}function n(W,H){if(!W)return W;var X=H||{},ie=X.dense?[]:{},fe="Sheet1",Be="",Ne=0,Ie={},Fe=[],rt=[],re={s:{r:0,c:0},e:{r:0,c:0}},bt=X.sheetRows||0;if(W[2]==0&&(W[3]==8||W[3]==9)&&W.length>=16&&W[14]==5&&W[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(W[2]==2)X.Enum=L,e(W,function(ke,ct,At){switch(At){case 0:X.vers=ke,ke>=4096&&(X.qpro=!0);break;case 6:re=ke;break;case 204:ke&&(Be=ke);break;case 222:Be=ke;break;case 15:case 51:X.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:At==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=X.dateNF||Wt[14],X.cellDates&&(ke[1].t="d",ke[1].v=X1(ke[1].v))),X.qpro&&ke[3]>Ne&&(ie["!ref"]=mn(re),Ie[fe]=ie,Fe.push(fe),ie=X.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Ne=ke[3],fe=Be||"Sheet"+(Ne+1),Be="");var mt=X.dense?(ie[ke[0].r]||[])[ke[0].c]:ie[jt(ke[0])];if(mt){mt.t=ke[1].t,mt.v=ke[1].v,ke[1].z!=null&&(mt.z=ke[1].z),ke[1].f!=null&&(mt.f=ke[1].f);break}X.dense?(ie[ke[0].r]||(ie[ke[0].r]=[]),ie[ke[0].r][ke[0].c]=ke[1]):ie[jt(ke[0])]=ke[1];break}},X);else if(W[2]==26||W[2]==14)X.Enum=ae,W[2]==14&&(X.qpro=!0,W.l=0),e(W,function(ke,ct,At){switch(At){case 204:fe=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>Ne&&(ie["!ref"]=mn(re),Ie[fe]=ie,Fe.push(fe),ie=X.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Ne=ke[3],fe="Sheet"+(Ne+1)),bt>0&&ke[0].r>=bt)break;X.dense?(ie[ke[0].r]||(ie[ke[0].r]=[]),ie[ke[0].r][ke[0].c]=ke[1]):ie[jt(ke[0])]=ke[1],re.e.c<ke[0].c&&(re.e.c=ke[0].c),re.e.r<ke[0].r&&(re.e.r=ke[0].r);break;case 27:ke[14e3]&&(rt[ke[14e3][0]]=ke[14e3][1]);break;case 1537:rt[ke[0]]=ke[1],ke[0]==Ne&&(fe=ke[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+W[2]);if(ie["!ref"]=mn(re),Ie[Be||fe]=ie,Fe.push(Be||fe),!rt.length)return{SheetNames:Fe,Sheets:Ie};for(var ze={},Xe=[],Ze=0;Ze<rt.length;++Ze)Ie[Fe[Ze]]?(Xe.push(rt[Ze]||Fe[Ze]),ze[rt[Ze]]=Ie[rt[Ze]]||Ie[Fe[Ze]]):(Xe.push(rt[Ze]),ze[rt[Ze]]={"!ref":"A1"});return{SheetNames:Xe,Sheets:ze}}function r(W,H){var X=H||{};if(+X.codepage>=0&&ha(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var ie=KD(),fe=Cr(W["!ref"]),Be=Array.isArray(W),Ne=[];oa(ie,0,s(1030)),oa(ie,6,l(fe));for(var Ie=Math.min(fe.e.r,8191),Fe=fe.s.r;Fe<=Ie;++Fe)for(var rt=Ii(Fe),re=fe.s.c;re<=fe.e.c;++re){Fe===fe.s.r&&(Ne[re]=Jr(re));var bt=Ne[re]+rt,ze=Be?(W[Fe]||[])[re]:W[bt];if(!(!ze||ze.t=="z"))if(ze.t=="n")(ze.v|0)==ze.v&&ze.v>=-32768&&ze.v<=32767?oa(ie,13,m(Fe,re,ze.v)):oa(ie,14,C(Fe,re,ze.v));else{var Xe=bc(ze);oa(ie,15,f(Fe,re,Xe.slice(0,239)))}}return oa(ie,1),ie.end()}function i(W,H){var X=H||{};if(+X.codepage>=0&&ha(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var ie=KD();oa(ie,0,o(W));for(var fe=0,Be=0;fe<W.SheetNames.length;++fe)(W.Sheets[W.SheetNames[fe]]||{})["!ref"]&&oa(ie,27,ne(W.SheetNames[fe],Be++));var Ne=0;for(fe=0;fe<W.SheetNames.length;++fe){var Ie=W.Sheets[W.SheetNames[fe]];if(!(!Ie||!Ie["!ref"])){for(var Fe=Cr(Ie["!ref"]),rt=Array.isArray(Ie),re=[],bt=Math.min(Fe.e.r,8191),ze=Fe.s.r;ze<=bt;++ze)for(var Xe=Ii(ze),Ze=Fe.s.c;Ze<=Fe.e.c;++Ze){ze===Fe.s.r&&(re[Ze]=Jr(Ze));var ke=re[Ze]+Xe,ct=rt?(Ie[ze]||[])[Ze]:Ie[ke];if(!(!ct||ct.t=="z"))if(ct.t=="n")oa(ie,23,B(ze,Ze,Ne,ct.v));else{var At=bc(ct);oa(ie,22,D(ze,Ze,Ne,At.slice(0,239)))}}++Ne}}return oa(ie,1),ie.end()}function s(W){var H=Qr(2);return H.write_shift(2,W),H}function o(W){var H=Qr(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var X=0,ie=0,fe=0,Be=0;Be<W.SheetNames.length;++Be){var Ne=W.SheetNames[Be],Ie=W.Sheets[Ne];if(!(!Ie||!Ie["!ref"])){++fe;var Fe=Lg(Ie["!ref"]);X<Fe.e.r&&(X=Fe.e.r),ie<Fe.e.c&&(ie=Fe.e.c)}}return X>8191&&(X=8191),H.write_shift(2,X),H.write_shift(1,fe),H.write_shift(1,ie),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function a(W,H,X){var ie={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&X.qpro?(ie.s.c=W.read_shift(1),W.l++,ie.s.r=W.read_shift(2),ie.e.c=W.read_shift(1),W.l++,ie.e.r=W.read_shift(2),ie):(ie.s.c=W.read_shift(2),ie.s.r=W.read_shift(2),H==12&&X.qpro&&(W.l+=2),ie.e.c=W.read_shift(2),ie.e.r=W.read_shift(2),H==12&&X.qpro&&(W.l+=2),ie.s.c==65535&&(ie.s.c=ie.e.c=ie.s.r=ie.e.r=0),ie)}function l(W){var H=Qr(8);return H.write_shift(2,W.s.c),H.write_shift(2,W.s.r),H.write_shift(2,W.e.c),H.write_shift(2,W.e.r),H}function c(W,H,X){var ie=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(ie[0].c=W.read_shift(1),ie[3]=W.read_shift(1),ie[0].r=W.read_shift(2),W.l+=2):(ie[2]=W.read_shift(1),ie[0].c=W.read_shift(2),ie[0].r=W.read_shift(2)),ie}function d(W,H,X){var ie=W.l+H,fe=c(W,H,X);if(fe[1].t="s",X.vers==20768){W.l++;var Be=W.read_shift(1);return fe[1].v=W.read_shift(Be,"utf8"),fe}return X.qpro&&W.l++,fe[1].v=W.read_shift(ie-W.l,"cstr"),fe}function f(W,H,X){var ie=Qr(7+X.length);ie.write_shift(1,255),ie.write_shift(2,H),ie.write_shift(2,W),ie.write_shift(1,39);for(var fe=0;fe<ie.length;++fe){var Be=X.charCodeAt(fe);ie.write_shift(1,Be>=128?95:Be)}return ie.write_shift(1,0),ie}function p(W,H,X){var ie=c(W,H,X);return ie[1].v=W.read_shift(2,"i"),ie}function m(W,H,X){var ie=Qr(7);return ie.write_shift(1,255),ie.write_shift(2,H),ie.write_shift(2,W),ie.write_shift(2,X,"i"),ie}function y(W,H,X){var ie=c(W,H,X);return ie[1].v=W.read_shift(8,"f"),ie}function C(W,H,X){var ie=Qr(13);return ie.write_shift(1,255),ie.write_shift(2,H),ie.write_shift(2,W),ie.write_shift(8,X,"f"),ie}function b(W,H,X){var ie=W.l+H,fe=c(W,H,X);if(fe[1].v=W.read_shift(8,"f"),X.qpro)W.l=ie;else{var Be=W.read_shift(2);F(W.slice(W.l,W.l+Be),fe),W.l+=Be}return fe}function x(W,H,X){var ie=H&32768;return H&=-32769,H=(ie?W:0)+(H>=8192?H-16384:H),(ie?"":"$")+(X?Jr(H):Ii(H))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(W,H){Ri(W,0);for(var X=[],ie=0,fe="",Be="",Ne="",Ie="";W.l<W.length;){var Fe=W[W.l++];switch(Fe){case 0:X.push(W.read_shift(8,"f"));break;case 1:Be=x(H[0].c,W.read_shift(2),!0),fe=x(H[0].r,W.read_shift(2),!1),X.push(Be+fe);break;case 2:{var rt=x(H[0].c,W.read_shift(2),!0),re=x(H[0].r,W.read_shift(2),!1);Be=x(H[0].c,W.read_shift(2),!0),fe=x(H[0].r,W.read_shift(2),!1),X.push(rt+re+":"+Be+fe)}break;case 3:if(W.l<W.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(W.read_shift(2));break;case 6:{for(var bt="";Fe=W[W.l++];)bt+=String.fromCharCode(Fe);X.push('"'+bt.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:Ie=X.pop(),Ne=X.pop(),X.push(["AND","OR"][Fe-20]+"("+Ne+","+Ie+")");break;default:if(Fe<32&&E[Fe])Ie=X.pop(),Ne=X.pop(),X.push(Ne+E[Fe]+Ie);else if(R[Fe]){if(ie=R[Fe][1],ie==69&&(ie=W[W.l++]),ie>X.length){console.error("WK1 bad formula parse 0x"+Fe.toString(16)+":|"+X.join("|")+"|");return}var ze=X.slice(-ie);X.length-=ie,X.push(R[Fe][0]+"("+ze.join(",")+")")}else return Fe<=7?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=24?console.error("WK1 unsupported op "+Fe.toString(16)):Fe<=30?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=115?console.error("WK1 unsupported function opcode "+Fe.toString(16)):console.error("WK1 unrecognized opcode "+Fe.toString(16))}}X.length==1?H[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function I(W){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=W.read_shift(2),H[3]=W[W.l++],H[0].c=W[W.l++],H}function _(W,H){var X=I(W);return X[1].t="s",X[1].v=W.read_shift(H-4,"cstr"),X}function D(W,H,X,ie){var fe=Qr(6+ie.length);fe.write_shift(2,W),fe.write_shift(1,X),fe.write_shift(1,H),fe.write_shift(1,39);for(var Be=0;Be<ie.length;++Be){var Ne=ie.charCodeAt(Be);fe.write_shift(1,Ne>=128?95:Ne)}return fe.write_shift(1,0),fe}function P(W,H){var X=I(W);X[1].v=W.read_shift(2);var ie=X[1].v>>1;if(X[1].v&1)switch(ie&7){case 0:ie=(ie>>3)*5e3;break;case 1:ie=(ie>>3)*500;break;case 2:ie=(ie>>3)/20;break;case 3:ie=(ie>>3)/200;break;case 4:ie=(ie>>3)/2e3;break;case 5:ie=(ie>>3)/2e4;break;case 6:ie=(ie>>3)/16;break;case 7:ie=(ie>>3)/64;break}return X[1].v=ie,X}function k(W,H){var X=I(W),ie=W.read_shift(4),fe=W.read_shift(4),Be=W.read_shift(2);if(Be==65535)return ie===0&&fe===3221225472?(X[1].t="e",X[1].v=15):ie===0&&fe===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Ne=Be&32768;return Be=(Be&32767)-16446,X[1].v=(1-Ne*2)*(fe*Math.pow(2,Be+32)+ie*Math.pow(2,Be)),X}function B(W,H,X,ie){var fe=Qr(14);if(fe.write_shift(2,W),fe.write_shift(1,X),fe.write_shift(1,H),ie==0)return fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(2,65535),fe;var Be=0,Ne=0,Ie=0,Fe=0;return ie<0&&(Be=1,ie=-ie),Ne=Math.log2(ie)|0,ie/=Math.pow(2,Ne-31),Fe=ie>>>0,(Fe&2147483648)==0&&(ie/=2,++Ne,Fe=ie>>>0),ie-=Fe,Fe|=2147483648,Fe>>>=0,ie*=Math.pow(2,32),Ie=ie>>>0,fe.write_shift(4,Ie),fe.write_shift(4,Fe),Ne+=16383+(Be?32768:0),fe.write_shift(2,Ne),fe}function N(W,H){var X=k(W);return W.l+=H-14,X}function V(W,H){var X=I(W),ie=W.read_shift(4);return X[1].v=ie>>6,X}function G(W,H){var X=I(W),ie=W.read_shift(8,"f");return X[1].v=ie,X}function oe(W,H){var X=G(W);return W.l+=H-10,X}function le(W,H){return W[W.l+H-1]==0?W.read_shift(H,"cstr"):""}function J(W,H){var X=W[W.l++];X>H-1&&(X=H-1);for(var ie="";ie.length<X;)ie+=String.fromCharCode(W[W.l++]);return ie}function se(W,H,X){if(!(!X.qpro||H<21)){var ie=W.read_shift(1);W.l+=17,W.l+=1,W.l+=2;var fe=W.read_shift(H-21,"cstr");return[ie,fe]}}function he(W,H){for(var X={},ie=W.l+H;W.l<ie;){var fe=W.read_shift(2);if(fe==14e3){for(X[fe]=[0,""],X[fe][0]=W.read_shift(2);W[W.l];)X[fe][1]+=String.fromCharCode(W[W.l]),W.l++;W.l++}}return X}function ne(W,H){var X=Qr(5+W.length);X.write_shift(2,14e3),X.write_shift(2,H);for(var ie=0;ie<W.length;++ie){var fe=W.charCodeAt(ie);X[X.l++]=fe>127?95:fe}return X[X.l++]=0,X}var L={0:{n:"BOF",f:Vr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:he},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}();function qOe(e){var t={},n=e.match(Qi),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Vt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=HI[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var KOe=function(){var e=Kv("t"),t=Kv("rPr");function n(s){var o=s.match(e);if(!o)return{t:"s",v:""};var a={t:"s",v:Cn(o[1])},l=s.match(t);return l&&(a.s=qOe(l[1])),a}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(a){return a.v})}}(),YOe=function(){var t=/(\r\n|\n)/g;function n(i,s,o){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),s.push('<span style="'+a.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),XOe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,QOe=/<(?:\w+:)?r>/,ZOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function rM(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Cn($n(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=$n(e),n&&(r.h=qI(r.t))):e.match(QOe)&&(r.r=$n(e),r.t=Cn($n((e.replace(ZOe,"").match(XOe)||[]).join("").replace(Qi,""))),n&&(r.h=YOe(KOe(r.r)))),r):{t:""}}var JOe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,eLe=/<(?:\w+:)?(?:si|sstItem)>/g,tLe=/<\/(?:\w+:)?(?:si|sstItem)>/;function nLe(e,t){var n=[],r="";if(!e)return n;var i=e.match(JOe);if(i){r=i[2].replace(eLe,"").split(tLe);for(var s=0;s!=r.length;++s){var o=rM(r[s].trim(),t);o!=null&&(n[n.length]=o)}i=Vt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function rLe(e){return[e.read_shift(4),e.read_shift(4)]}function iLe(e,t){var n=[],r=!1;return _c(e,function(s,o,a){switch(a){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}function EY(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function uc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function sLe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=uc(e,4),t.U=uc(e,4),t.W=uc(e,4),t}function oLe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function aLe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(oLe(e));return t}function lLe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function cLe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=uc(e,4),t.U=uc(e,4),t.W=uc(e,4),t}function uLe(e){var t=cLe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function TY(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function RY(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function dLe(e){var t=uc(e);switch(t.Minor){case 2:return[t.Minor,hLe(e)];case 3:return[t.Minor,fLe()];case 4:return[t.Minor,pLe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hLe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=TY(e,n),i=RY(e,e.length-e.l);return{t:"Std",h:r,v:i}}function fLe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pLe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Qi,function(s){var o=Vt(s);switch(Rl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){r[a]=o[a]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function gLe(e,t){var n={},r=n.EncryptionVersionInfo=uc(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=TY(e,i),t-=i,n.EncryptionVerifier=RY(e,t),n}function mLe(e){var t={},n=t.EncryptionVersionInfo=uc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function vLe(e){var t=0,n,r=EY(e),i=r.length+1,s,o,a,l,c;for(n=ju(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],a=(t&16384)===0?0:1,l=t<<1&32767,c=a|l,t=c^o;return t^52811}var AY=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,a){return r(o^a)},s=function(o){for(var a=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var d=o[c],f=0;f!=7;++f)d&64&&(a^=n[l]),d*=2,--l;return a};return function(o){for(var a=EY(o),l=s(a),c=a.length,d=ju(16),f=0;f!=16;++f)d[f]=0;var p,m,y;for((c&1)===1&&(p=l>>8,d[c]=i(e[0],p),--c,p=l&255,m=a[a.length-1],d[c]=i(m,p));c>0;)--c,p=l>>8,d[c]=i(a[c],p),--c,p=l&255,d[c]=i(a[c],p);for(c=15,y=15-a.length;y>0;)p=l>>8,d[c]=i(e[y],p),--c,--y,p=l&255,d[c]=i(a[c],p),--c,--y;return d}}(),yLe=function(e,t,n,r,i){i||(i=t),r||(r=AY(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},CLe=function(e){var t=0,n=AY(e);return function(r){var i=yLe("",r,t,n);return t=i[1],i[0]}};function wLe(e,t,n,r){var i={key:Vr(e),verificationBytes:Vr(e)};return n.password&&(i.verifier=vLe(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=CLe(n.password)),i}function bLe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=mLe(e):r.Data=gLe(e,t),r}function SLe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?bLe(e,t-2,r):wLe(e,n.biff>=8?t:t-2,n,r),r}var xLe=function(){function e(i,s){switch(s.type){case"base64":return t(uo(i),s);case"binary":return t(i,s);case"buffer":return t(ln&&Buffer.isBuffer(i)?i.toString("binary"):ef(i),s);case"array":return t(Mh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(a)&&(a[f]=[]);for(var p=/\\\w+\b/g,m=0,y,C=-1;y=p.exec(d);){switch(y[0]){case"\\cell":var b=d.slice(m,p.lastIndex-y[0].length);if(b[0]==" "&&(b=b.slice(1)),++C,b.length){var x={v:b,t:"s"};Array.isArray(a)?a[f][C]=x:a[jt({r:f,c:C})]=x}break}m=p.lastIndex}C>c.e.c&&(c.e.c=C)}),a["!ref"]=mn(c),a}function n(i,s){return sd(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Cr(i["!ref"]),a,l=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=jt({r:c,c:d});a=l?(i[c]||[])[d]:i[f],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(bc(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function ELe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Qv(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function TLe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(o===0)return[0,0,t];var a=0,l=0,c=i+s;switch(l=o/(c>1?2-c:c),i){case t:a=((n-r)/o+6)%6;break;case n:a=(r-t)/o+2;break;case r:a=(t-n)/o+4;break}return[a/6,l,c/2]}function RLe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],a=6*t,l;if(n!==0)switch(a|0){case 0:case 6:l=i*a,o[0]+=i,o[1]+=l;break;case 1:l=i*(2-a),o[0]+=l,o[1]+=i;break;case 2:l=i*(a-2),o[1]+=i,o[2]+=l;break;case 3:l=i*(4-a),o[1]+=l,o[2]+=i;break;case 4:l=i*(a-4),o[2]+=i,o[0]+=l;break;case 5:l=i*(6-a),o[2]+=l,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function Ex(e,t){if(t===0)return e;var n=TLe(ELe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Qv(RLe(n))}var _Y=6,ALe=15,_Le=1,cs=_Y;function Tx(e){return Math.floor((e+Math.round(128/cs)/256)*cs)}function Rx(e){return Math.floor((e-5)/cs*100+.5)/100}function ZD(e){return Math.round((e*cs+5)/cs*256)/256}function RA(e){return ZD(Rx(Tx(e)))}function iM(e){var t=Math.abs(e-RA(e)),n=cs;if(t>.005)for(cs=_Le;cs<ALe;++cs)Math.abs(e-RA(e))<=t&&(t=Math.abs(e-RA(e)),n=cs);cs=n}function ug(e){e.width?(e.wpx=Tx(e.width),e.wch=Rx(e.wpx),e.MDW=cs):e.wpx?(e.wch=Rx(e.wpx),e.width=ZD(e.wch),e.MDW=cs):typeof e.wch=="number"&&(e.width=ZD(e.wch),e.wpx=Tx(e.width),e.MDW=cs),e.customWidth&&delete e.customWidth}var DLe=96,DY=DLe;function PY(e){return e*96/DY}function Zv(e){return e*DY/96}var PLe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function FLe(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(Qi)||[]).forEach(function(o){var a=Vt(o);switch(Rl(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=nr(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=nr(a.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in borders")}})}function kLe(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(Qi)||[]).forEach(function(o){var a=Vt(o);switch(Rl(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fills")}})}function ILe(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(Qi)||[]).forEach(function(o){var a=Vt(o);switch(Rl(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=$n(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?nr(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?nr(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?nr(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?nr(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?nr(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?nr(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?nr(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=HI[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=nr(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var l=hh[i.color.index];i.color.index==81&&(l=hh[1]),l||(l=hh[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=Ex(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fonts")}})}function MLe(e,t,n){t.NumberFmt=[];for(var r=bl(Wt),i=0;i<r.length;++i)t.NumberFmt[r[i]]=Wt[r[i]];var s=e[0].match(Qi);if(s)for(i=0;i<s.length;++i){var o=Vt(s[i]);switch(Rl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=Cn($n(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}dh(a,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var fb=["numFmtId","fillId","fontId","borderId","xfId"],pb=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function OLe(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(Qi)||[]).forEach(function(s){var o=Vt(s),a=0;switch(Rl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],a=0;a<fb.length;++a)r[fb[a]]&&(r[fb[a]]=parseInt(r[fb[a]],10));for(a=0;a<pb.length;++a)r[pb[a]]&&(r[pb[a]]=nr(r[pb[a]]));if(t.NumberFmt&&r.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[a]){r.numFmtId=a;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=nr(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var LLe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var d={};if(!a)return d;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=a.match(t))&&MLe(f,d,c),(f=a.match(i))&&ILe(f,d,l,c),(f=a.match(r))&&kLe(f,d,l,c),(f=a.match(s))&&FLe(f,d,l,c),(f=a.match(n))&&OLe(f,d,c),d}}();function NLe(e,t){var n=e.read_shift(2),r=$i(e);return[n,r]}function BLe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=KMe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=qMe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=$i(e),r}var VLe=Ki;function HLe(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}var GLe=Ki;function ULe(e,t,n){var r={};r.NumberFmt=[];for(var i in Wt)r.NumberFmt[i]=Wt[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return _c(e,function(l,c,d){switch(d){case 44:r.NumberFmt[l[0]]=l[1],dh(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Ex(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var zLe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function jLe(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Qi)||[]).forEach(function(i){var s=Vt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[zLe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function WLe(){}function $Le(){}var qLe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,KLe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,YLe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function XLe(e,t,n){t.themeElements={};var r;[["clrScheme",qLe,jLe],["fontScheme",KLe,WLe],["fmtScheme",YLe,$Le]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var QLe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function FY(e,t){(!e||e.length===0)&&(e=ZLe());var n,r={};if(!(n=e.match(QLe)))throw new Error("themeElements not found in theme");return XLe(n[0],r,t),r.raw=e,r}function ZLe(e,t){var n=[UK];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function JLe(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var o;try{o=GK(s,{type:"array"})}catch{return}var a=Qs(o,"theme/theme/theme1.xml",!0);if(a)return FY(a,n)}}function eNe(e){return e.read_shift(4)}function tNe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=nNe(e,4);break;case 2:t.xclrValue=vY(e);break;case 3:t.xclrValue=eNe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function nNe(e,t){return Ki(e,t)}function rNe(e,t){return Ki(e,t)}function iNe(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=tNe(e);break;case 6:r[1]=rNe(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function sNe(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(iNe(e,n-e.l));return{ixfe:r,ext:s}}function oNe(e,t){t.forEach(function(n){n[0]})}function aNe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:$i(e)}}function lNe(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function cNe(e){return e.l+=4,e.read_shift(4)!=0}function uNe(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,a=2;return _c(e,function(l,c,d){switch(d){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){a==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):a==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function dNe(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,o;return e.replace(Qi,function(a){var l=Vt(a);switch(Rl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),r}function hNe(e){var t=[];if(!e)return t;var n=1;return(e.match(Qi)||[]).forEach(function(r){var i=Vt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function fNe(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=jt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function pNe(e,t,n){var r=[];return _c(e,function(s,o,a){switch(a){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+a.toString(16))}}),r}function gNe(e,t,n,r){if(!e)return e;var i=r||{},s=!1;_c(e,function(a,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function mNe(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function fG(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(o){var a=hs(o.ref);if(i?(e[a.r]||(e[a.r]=[]),s=e[a.r][a.c]):s=e[o.ref],!s){s={t:"z"},i?e[a.r][a.c]=s:e[o.ref]=s;var l=Cr(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=mn(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:n};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(d.a==r[f].id){d.a=r[f].name||d.a;break}}s.c.push(d)})}function vNe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=Vt(a[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=hs(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&rM(f[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function yNe(e,t){var n=[],r=!1,i={},s=0;return e.replace(Qi,function(a,l){var c=Vt(a);switch(Rl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+a.length;break;case"</text>":i.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),n}function CNe(e,t){var n=[],r=!1;return e.replace(Qi,function(s){var o=Vt(s);switch(Rl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function wNe(e){var t={};t.iauthor=e.read_shift(4);var n=nf(e);return t.rfx=n.s,t.ref=jt(n.s),e.l+=16,t}var bNe=$i;function SNe(e,t){var n=[],r=[],i={},s=!1;return _c(e,function(a,l,c){switch(c){case 632:r.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var xNe="application/vnd.ms-office.vbaProject";function ENe(e){var t=pn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");pn.utils.cfb_add(t,i,e.FileIndex[r].content)}}),pn.write(t)}function TNe(){return{"!type":"dialog"}}function RNe(){return{"!type":"dialog"}}function ANe(){return{"!type":"macro"}}function _Ne(){return{"!type":"macro"}}var Op=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return a?d+=t.c:--d,l?c+=t.r:--c,i+(a?"":"$")+Jr(d)+(l?"":"$")+Ii(c)}return function(i,s){return t=s,i.replace(e,n)}}(),kY=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,DNe=function(){return function(t,n){return t.replace(kY,function(r,i,s,o,a,l){var c=QI(o)-(s?0:n.c),d=XI(l)-(a?0:n.r),f=d==0?"":a?d+1:"["+d+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+p})}}();function IY(e,t){return e.replace(kY,function(n,r,i,s,o,a){return r+(i=="$"?i+s:Jr(QI(s)+t.c))+(o=="$"?o+a:Ii(XI(a)+t.r))})}function PNe(e,t,n){var r=Lg(t),i=r.s,s=hs(n),o={r:s.r-i.r,c:s.c-i.c};return IY(e,o)}function FNe(e){return e.length!=1}function pG(e){return e.replace(/_xlfn\./g,"")}function Lr(e){e.l+=1}function Wu(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function MY(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return OY(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=Wu(e),a=Wu(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function OY(e){var t=Wu(e),n=Wu(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function kNe(e,t,n){if(n.biff<8)return OY(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=Wu(e),o=Wu(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function LY(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return INe(e);var r=e.read_shift(n&&n.biff==12?4:2),i=Wu(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function INe(e){var t=Wu(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function MNe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function ONe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return LNe(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function LNe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function NNe(e,t,n){var r=(e[e.l++]&96)>>5,i=MY(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function BNe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=MY(e,s,n);return[r,i,o]}function VNe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function HNe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function GNe(e,t,n){var r=(e[e.l++]&96)>>5,i=kNe(e,t-1,n);return[r,i]}function UNe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function gG(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function zNe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function jNe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function WNe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function $Ne(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function qNe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function NY(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function KNe(e){return e.read_shift(2),NY(e)}function YNe(e){return e.read_shift(2),NY(e)}function XNe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=LY(e,0,n);return[r,i]}function QNe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=ONe(e,0,n);return[r,i]}function ZNe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=LY(e,0,n);return[r,i,s]}function JNe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[e4e[i],HY[i],r]}function eBe(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:tBe(e);return[i,(s[0]===0?HY:JBe)[s[1]]]}function tBe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nBe(e,t,n){e.l+=n&&n.biff==2?3:4}function rBe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function iBe(e){return e.l++,rf[e.read_shift(1)]}function sBe(e){return e.l++,e.read_shift(2)}function oBe(e){return e.l++,e.read_shift(1)!==0}function aBe(e){return e.l++,zi(e)}function lBe(e,t,n){return e.l++,aC(e,t-1,n)}function cBe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Rr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=rf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=zi(e);break;case 2:n[1]=sf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function uBe(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?nf:Q1)(e));return i}function dBe(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=cBe(e,n.biff);return o}function hBe(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function fBe(e,t,n){if(n.biff==5)return pBe(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function pBe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function gBe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function mBe(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function vBe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function yBe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var CBe=Ki,wBe=Ki,bBe=Ki;function cC(e,t,n){return e.l+=2,[MNe(e)]}function sM(e){return e.l+=6,[]}var SBe=cC,xBe=sM,EBe=sM,TBe=cC;function BY(e){return e.l+=2,[Vr(e),e.read_shift(2)&1]}var RBe=cC,ABe=BY,_Be=sM,DBe=cC,PBe=cC,FBe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function kBe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),o=FBe[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:s}}function IBe(e){return e.l+=2,[e.read_shift(4)]}function MBe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function OBe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function LBe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function NBe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function BBe(e){return e.l+=4,[0,0]}var mG={1:{n:"PtgExp",f:rBe},2:{n:"PtgTbl",f:bBe},3:{n:"PtgAdd",f:Lr},4:{n:"PtgSub",f:Lr},5:{n:"PtgMul",f:Lr},6:{n:"PtgDiv",f:Lr},7:{n:"PtgPower",f:Lr},8:{n:"PtgConcat",f:Lr},9:{n:"PtgLt",f:Lr},10:{n:"PtgLe",f:Lr},11:{n:"PtgEq",f:Lr},12:{n:"PtgGe",f:Lr},13:{n:"PtgGt",f:Lr},14:{n:"PtgNe",f:Lr},15:{n:"PtgIsect",f:Lr},16:{n:"PtgUnion",f:Lr},17:{n:"PtgRange",f:Lr},18:{n:"PtgUplus",f:Lr},19:{n:"PtgUminus",f:Lr},20:{n:"PtgPercent",f:Lr},21:{n:"PtgParen",f:Lr},22:{n:"PtgMissArg",f:Lr},23:{n:"PtgStr",f:lBe},26:{n:"PtgSheet",f:MBe},27:{n:"PtgEndSheet",f:OBe},28:{n:"PtgErr",f:iBe},29:{n:"PtgBool",f:oBe},30:{n:"PtgInt",f:sBe},31:{n:"PtgNum",f:aBe},32:{n:"PtgArray",f:UNe},33:{n:"PtgFunc",f:JNe},34:{n:"PtgFuncVar",f:eBe},35:{n:"PtgName",f:hBe},36:{n:"PtgRef",f:XNe},37:{n:"PtgArea",f:NNe},38:{n:"PtgMemArea",f:gBe},39:{n:"PtgMemErr",f:CBe},40:{n:"PtgMemNoMem",f:wBe},41:{n:"PtgMemFunc",f:mBe},42:{n:"PtgRefErr",f:vBe},43:{n:"PtgAreaErr",f:VNe},44:{n:"PtgRefN",f:QNe},45:{n:"PtgAreaN",f:GNe},46:{n:"PtgMemAreaN",f:LBe},47:{n:"PtgMemNoMemN",f:NBe},57:{n:"PtgNameX",f:fBe},58:{n:"PtgRef3d",f:ZNe},59:{n:"PtgArea3d",f:BNe},60:{n:"PtgRefErr3d",f:yBe},61:{n:"PtgAreaErr3d",f:HNe},255:{}},VBe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},HBe={1:{n:"PtgElfLel",f:BY},2:{n:"PtgElfRw",f:DBe},3:{n:"PtgElfCol",f:SBe},6:{n:"PtgElfRwV",f:PBe},7:{n:"PtgElfColV",f:TBe},10:{n:"PtgElfRadical",f:RBe},11:{n:"PtgElfRadicalS",f:_Be},13:{n:"PtgElfColS",f:xBe},15:{n:"PtgElfColSV",f:EBe},16:{n:"PtgElfRadicalLel",f:ABe},25:{n:"PtgList",f:kBe},29:{n:"PtgSxName",f:IBe},255:{}},GBe={0:{n:"PtgAttrNoop",f:BBe},1:{n:"PtgAttrSemi",f:qNe},2:{n:"PtgAttrIf",f:WNe},4:{n:"PtgAttrChoose",f:zNe},8:{n:"PtgAttrGoto",f:jNe},16:{n:"PtgAttrSum",f:nBe},32:{n:"PtgAttrBaxcel",f:gG},33:{n:"PtgAttrBaxcel",f:gG},64:{n:"PtgAttrSpace",f:KNe},65:{n:"PtgAttrSpaceSemi",f:YNe},128:{n:"PtgAttrIfError",f:$Ne},255:{}};function uC(e,t,n,r){if(r.biff<8)return Ki(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=dBe(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=uBe(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=i-e.l,t!==0&&s.push(Ki(e,t)),s}function dC(e,t,n){for(var r=e.l+t,i,s,o=[];r!=e.l;)t=r-e.l,s=e[e.l],i=mG[s]||mG[VBe[s]],(s===24||s===25)&&(i=(s===24?HBe:GBe)[e[e.l+1]]),!i||!i.f?Ki(e,t):o.push([i.n,i.f(e,t,n)]);return o}function UBe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var zBe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function jBe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function VY(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function vG(e,t,n){var r=VY(e,t,n);return r=="#REF"?r:jBe(r,n)}function Ui(e,t,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,c,d,f=0,p=0,m,y="";if(!e[0]||!e[0][0])return"";for(var C=-1,b="",x=0,R=e[0].length;x<R;++x){var E=e[0][x];switch(E[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),C>=0){switch(e[0][C][1][0]){case 0:b=gr(" ",e[0][C][1][1]);break;case 1:b=gr("\r",e[0][C][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}c=c+b,C=-1}a.push(c+zBe[E[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=q0(E[1][1],o,i),a.push(K0(d,s));break;case"PtgRefN":d=n?q0(E[1][1],n,i):E[1][1],a.push(K0(d,s));break;case"PtgRef3d":f=E[1][1],d=q0(E[1][2],o,i),y=vG(r,f,i),a.push(y+"!"+K0(d,s));break;case"PtgFunc":case"PtgFuncVar":var F=E[1][0],I=E[1][1];F||(F=0),F&=127;var _=F==0?[]:a.slice(-F);a.length-=F,I==="User"&&(I=_.shift()),a.push(I+"("+_.join(",")+")");break;case"PtgBool":a.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(E[1]);break;case"PtgNum":a.push(String(E[1]));break;case"PtgStr":a.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(E[1]);break;case"PtgAreaN":m=QH(E[1][1],n?{s:n}:o,i),a.push(EA(m,i));break;case"PtgArea":m=QH(E[1][1],o,i),a.push(EA(m,i));break;case"PtgArea3d":f=E[1][1],m=E[1][2],y=vG(r,f,i),a.push(y+"!"+EA(m,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=E[1][2];var D=(r.names||[])[p-1]||(r[0]||[])[p],P=D?D.Name:"SH33TJSNAME"+String(p);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),a.push(P);break;case"PtgNameX":var k=E[1][1];p=E[1][2];var B;if(i.biff<=5)k<0&&(k=-k),r[k]&&(B=r[k][p]);else{var N="";if(((r[k]||[])[0]||[])[0]==14849||(((r[k]||[])[0]||[])[0]==1025?r[k][p]&&r[k][p].itab>0&&(N=r.SheetNames[r[k][p].itab-1]+"!"):N=r.SheetNames[p-1]+"!"),r[k]&&r[k][p])N+=r[k][p].Name;else if(r[0]&&r[0][p])N+=r[0][p].Name;else{var V=(VY(r,k,i)||"").split(";;");V[p-1]?N=V[p-1]:N+="SH33TJSERRX"}a.push(N);break}B||(B={Name:"SH33TJSERRY"}),a.push(B.Name);break;case"PtgParen":var G="(",oe=")";if(C>=0){switch(b="",e[0][C][1][0]){case 2:G=gr(" ",e[0][C][1][1])+G;break;case 3:G=gr("\r",e[0][C][1][1])+G;break;case 4:oe=gr(" ",e[0][C][1][1])+oe;break;case 5:oe=gr("\r",e[0][C][1][1])+oe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}C=-1}a.push(G+a.pop()+oe);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":d={c:E[1][1],r:E[1][0]};var le={c:n.c,r:n.r};if(r.sharedf[jt(d)]){var J=r.sharedf[jt(d)];a.push(Ui(J,o,le,r,i))}else{var se=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){a.push(Ui(c[1],o,le,r,i)),se=!0;break}se||a.push(E[1])}break;case"PtgArray":a.push("{"+UBe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var he=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&he.indexOf(e[0][x][0])==-1){E=e[0][C];var ne=!0;switch(E[1][0]){case 4:ne=!1;case 0:b=gr(" ",E[1][1]);break;case 5:ne=!1;case 1:b=gr("\r",E[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}a.push((ne?b:"")+a.pop()+(ne?"":b)),C=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function WBe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],Ki(e,t-2)];var a=dC(e,o,n);return t!==o+i&&(s=uC(e,t-o-i,a,n)),e.l=r,[a,s]}function $Be(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],Ki(e,t-2)];var a=dC(e,o,n);return t!==o+i&&(s=uC(e,t-o-i,a,n)),e.l=r,[a,s]}function qBe(e,t,n,r){var i=e.l+t,s=dC(e,r,n),o;return i!==e.l&&(o=uC(e,i-e.l,s,n)),[s,o]}function KBe(e,t,n){var r=e.l+t,i,s=e.read_shift(2),o=dC(e,s,n);return s==65535?[[],Ki(e,t-2)]:(t!==s+2&&(i=uC(e,r-s-2,o,n)),[o,i])}function YBe(e){var t;if(tc(e,e.l+6)!==65535)return[zi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function AA(e,t,n){var r=e.l+t,i=Al(e);n.biff==2&&++e.l;var s=YBe(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=$Be(e,r-e.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function Z1(e,t,n){var r=e.read_shift(4),i=dC(e,r,n),s=e.read_shift(4),o=s>0?uC(e,s,i,n):null;return[i,o]}var XBe=Z1,J1=Z1,QBe=Z1,ZBe=Z1,JBe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HY={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},e4e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yG(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function _A(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Z0={},Lp={};function J0(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function GY(e,t,n,r,i,s){try{r.cellNF&&(e.z=Wt[t])}catch(a){if(r.WTF)throw a}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=fi(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Wt[t]==null&&dh(tMe[t]||"General",t),e.t==="e")e.w=e.w||rf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qv(e.v);else if(e.t==="d"){var o=vs(e.v);(o|0)===o?e.w=o.toString(10):e.w=qv(o)}else{if(e.v===void 0)return"";e.w=Ih(e.v,Lp)}else e.t==="d"?e.w=Qo(t,vs(e.v),Lp):e.w=Qo(t,e.v,Lp)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ex(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ex(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}function t4e(e,t){var n=Cr(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=mn(n))}var n4e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,r4e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,i4e=/<(?:\w:)?hyperlink [^>]*>/mg,s4e=/"(\w*:\w*)"/,o4e=/<(?:\w:)?col\b[^>]*[\/]?>/g,a4e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,l4e=/<(?:\w:)?pageMargins[^>]*\/>/g,UY=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,c4e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,u4e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function d4e(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}});var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",f=e.match(r4e);f?(c=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):c=d=e;var p=c.match(UY);p?oM(p[0],a,i,n):(p=c.match(c4e))&&h4e(p[0],p[1]||"",a,i,n);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(s4e);y&&t4e(a,y[1])}var C=c.match(u4e);C&&C[1]&&y4e(C[1],i);var b=[];if(t.cellStyles){var x=c.match(o4e);x&&g4e(b,x)}f&&C4e(f[1],a,t,l,s,o);var R=d.match(a4e);R&&(a["!autofilter"]=m4e(R[0]));var E=[],F=d.match(n4e);if(F)for(m=0;m!=F.length;++m)E[m]=Cr(F[m].slice(F[m].indexOf('"')+1));var I=d.match(i4e);I&&f4e(a,I,r);var _=d.match(l4e);if(_&&(a["!margins"]=p4e(Vt(_[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=mn(l)),t.sheetRows>0&&a["!ref"]){var D=Cr(a["!ref"]);t.sheetRows<=+D.e.r&&(D.e.r=t.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),a["!fullref"]=a["!ref"],a["!ref"]=mn(D))}return b.length>0&&(a["!cols"]=b),E.length>0&&(a["!merges"]=E),a}function oM(e,t,n,r){var i=Vt(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Cn($n(i.codeName)))}function h4e(e,t,n,r,i){oM(e.slice(0,e.indexOf(">")),n,r,i)}function f4e(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=Vt($n(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Cn(s.location))):(s.Target="#"+Cn(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=Cr(s.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var d=jt({c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function p4e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function g4e(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=Vt(t[r],!0);i.hidden&&(i.hidden=nr(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,iM(i.width)),ug(i);s<=o;)e[s++]=ki(i)}}function m4e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var v4e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function y4e(e,t){t.Views||(t.Views=[{}]),(e.match(v4e)||[]).forEach(function(n,r){var i=Vt(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),nr(i.rightToLeft)&&(t.Views[r].RTL=!0)})}var C4e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Kv("v"),o=Kv("f");return function(l,c,d,f,p,m){for(var y=0,C="",b=[],x=[],R=0,E=0,F=0,I="",_,D,P=0,k=0,B,N,V=0,G=0,oe=Array.isArray(m.CellXf),le,J=[],se=[],he=Array.isArray(c),ne=[],L={},ae=!1,W=!!d.sheetStubs,H=l.split(t),X=0,ie=H.length;X!=ie;++X){C=H[X].trim();var fe=C.length;if(fe!==0){var Be=0;e:for(y=0;y<fe;++y)switch(C[y]){case">":if(C[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(D=Vt(C.slice(Be,y),!0),P=D.r!=null?parseInt(D.r,10):P+1,k=-1,d.sheetRows&&d.sheetRows<P)continue;L={},ae=!1,D.ht&&(ae=!0,L.hpt=parseFloat(D.ht),L.hpx=Zv(L.hpt)),D.hidden=="1"&&(ae=!0,L.hidden=!0),D.outlineLevel!=null&&(ae=!0,L.level=+D.outlineLevel),ae&&(ne[P-1]=L)}break;case"<":Be=y;break}if(Be>=y)break;if(D=Vt(C.slice(Be,y),!0),P=D.r!=null?parseInt(D.r,10):P+1,k=-1,!(d.sheetRows&&d.sheetRows<P)){f.s.r>P-1&&(f.s.r=P-1),f.e.r<P-1&&(f.e.r=P-1),d&&d.cellStyles&&(L={},ae=!1,D.ht&&(ae=!0,L.hpt=parseFloat(D.ht),L.hpx=Zv(L.hpt)),D.hidden=="1"&&(ae=!0,L.hidden=!0),D.outlineLevel!=null&&(ae=!0,L.level=+D.outlineLevel),ae&&(ne[P-1]=L)),b=C.slice(y).split(e);for(var Ne=0;Ne!=b.length&&b[Ne].trim().charAt(0)=="<";++Ne);for(b=b.slice(Ne),y=0;y!=b.length;++y)if(C=b[y].trim(),C.length!==0){if(x=C.match(n),R=y,E=0,F=0,C="<c "+(C.slice(0,1)=="<"?">":"")+C,x!=null&&x.length===2){for(R=0,I=x[1],E=0;E!=I.length&&!((F=I.charCodeAt(E)-64)<1||F>26);++E)R=26*R+F;--R,k=R}else++k;for(E=0;E!=C.length&&C.charCodeAt(E)!==62;++E);if(++E,D=Vt(C.slice(0,E),!0),D.r||(D.r=jt({r:P-1,c:k})),I=C.slice(E),_={t:""},(x=I.match(s))!=null&&x[1]!==""&&(_.v=Cn(x[1])),d.cellFormula){if((x=I.match(o))!=null&&x[1]!==""){if(_.f=Cn($n(x[1])).replace(/\r\n/g,`
`),d.xlfn||(_.f=pG(_.f)),x[0].indexOf('t="array"')>-1)_.F=(I.match(i)||[])[1],_.F.indexOf(":")>-1&&J.push([Cr(_.F),_.F]);else if(x[0].indexOf('t="shared"')>-1){N=Vt(x[0]);var Ie=Cn($n(x[1]));d.xlfn||(Ie=pG(Ie)),se[parseInt(N.si,10)]=[N,Ie,D.r]}}else(x=I.match(/<f[^>]*\/>/))&&(N=Vt(x[0]),se[N.si]&&(_.f=PNe(se[N.si][1],se[N.si][2],D.r)));var Fe=hs(D.r);for(E=0;E<J.length;++E)Fe.r>=J[E][0].s.r&&Fe.r<=J[E][0].e.r&&Fe.c>=J[E][0].s.c&&Fe.c<=J[E][0].e.c&&(_.F=J[E][1])}if(D.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(W)_.t="z";else continue;else _.t=D.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),_.t){case"n":if(_.v==""||_.v==null){if(!W)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!W)continue;_.t="z"}else B=Z0[parseInt(_.v,10)],_.v=B.t,_.r=B.r,d.cellHTML&&(_.h=B.h);break;case"str":_.t="s",_.v=_.v!=null?$n(_.v):"",d.cellHTML&&(_.h=qI(_.v));break;case"inlineStr":x=I.match(r),_.t="s",x!=null&&(B=rM(x[1]))?(_.v=B.t,d.cellHTML&&(_.h=B.h)):_.v="";break;case"b":_.v=nr(_.v);break;case"d":d.cellDates?_.v=fi(_.v,1):(_.v=vs(fi(_.v,1)),_.t="n");break;case"e":(!d||d.cellText!==!1)&&(_.w=_.v),_.v=cY[_.v];break}if(V=G=0,le=null,oe&&D.s!==void 0&&(le=m.CellXf[D.s],le!=null&&(le.numFmtId!=null&&(V=le.numFmtId),d.cellStyles&&le.fillId!=null&&(G=le.fillId))),GY(_,V,G,d,p,m),d.cellDates&&oe&&_.t=="n"&&Og(Wt[V])&&(_.t="d",_.v=X1(_.v)),D.cm&&d.xlmeta){var rt=(d.xlmeta.Cell||[])[+D.cm-1];rt&&rt.type=="XLDAPR"&&(_.D=!0)}if(he){var re=hs(D.r);c[re.r]||(c[re.r]=[]),c[re.r][re.c]=_}else c[D.r]=_}}}}ne.length>0&&(c["!rows"]=ne)}}();function w4e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var b4e=nf;function S4e(){}function x4e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=WMe(e),n}function E4e(e){var t=ea(e);return[t]}function T4e(e){var t=tf(e);return[t]}function R4e(e){var t=ea(e),n=e.read_shift(1);return[t,n,"b"]}function A4e(e){var t=tf(e),n=e.read_shift(1);return[t,n,"b"]}function _4e(e){var t=ea(e),n=e.read_shift(1);return[t,n,"e"]}function D4e(e){var t=tf(e),n=e.read_shift(1);return[t,n,"e"]}function P4e(e){var t=ea(e),n=e.read_shift(4);return[t,n,"s"]}function F4e(e){var t=tf(e),n=e.read_shift(4);return[t,n,"s"]}function k4e(e){var t=ea(e),n=zi(e);return[t,n,"n"]}function zY(e){var t=tf(e),n=zi(e);return[t,n,"n"]}function I4e(e){var t=ea(e),n=eM(e);return[t,n,"n"]}function M4e(e){var t=tf(e),n=eM(e);return[t,n,"n"]}function O4e(e){var t=ea(e),n=ZI(e);return[t,n,"is"]}function L4e(e){var t=ea(e),n=$i(e);return[t,n,"str"]}function N4e(e){var t=tf(e),n=$i(e);return[t,n,"str"]}function B4e(e,t,n){var r=e.l+t,i=ea(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"b"];if(n.cellFormula){e.l+=2;var a=J1(e,r-e.l,n);o[3]=Ui(a,null,i,n.supbooks,n)}else e.l=r;return o}function V4e(e,t,n){var r=e.l+t,i=ea(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"e"];if(n.cellFormula){e.l+=2;var a=J1(e,r-e.l,n);o[3]=Ui(a,null,i,n.supbooks,n)}else e.l=r;return o}function H4e(e,t,n){var r=e.l+t,i=ea(e);i.r=n["!row"];var s=zi(e),o=[i,s,"n"];if(n.cellFormula){e.l+=2;var a=J1(e,r-e.l,n);o[3]=Ui(a,null,i,n.supbooks,n)}else e.l=r;return o}function G4e(e,t,n){var r=e.l+t,i=ea(e);i.r=n["!row"];var s=$i(e),o=[i,s,"str"];if(n.cellFormula){e.l+=2;var a=J1(e,r-e.l,n);o[3]=Ui(a,null,i,n.supbooks,n)}else e.l=r;return o}var U4e=nf;function z4e(e,t){var n=e.l+t,r=nf(e),i=JI(e),s=$i(e),o=$i(e),a=$i(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function j4e(){}function W4e(e,t,n){var r=e.l+t,i=oY(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=XBe(e,r-e.l,n);o[1]=a}else e.l=r;return o}function $4e(e,t,n){var r=e.l+t,i=nf(e),s=[i];if(n.cellFormula){var o=ZBe(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}var q4e=["left","right","top","bottom","header","footer"];function K4e(e){var t={};return q4e.forEach(function(n){t[n]=zi(e)}),t}function Y4e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function X4e(){}function Q4e(){}function Z4e(e,t,n,r,i,s,o){if(!e)return e;var a=t||{};r||(r={"!id":{}});var l=a.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,m,y,C,b,x,R,E,F,I,_=[];a.biff=12,a["!row"]=0;var D=0,P=!1,k=[],B={},N=a.supbooks||i.supbooks||[[]];if(N.sharedf=B,N.arrayf=k,N.SheetNames=i.SheetNames||i.Sheets.map(function(he){return he.name}),!a.supbooks&&(a.supbooks=N,i.Names))for(var V=0;V<i.Names.length;++V)N[0][V+1]=i.Names[V];var G=[],oe=[],le=!1;Ax[16]={n:"BrtShortReal",f:zY};var J;if(_c(e,function(ne,L,ae){if(!p)switch(ae){case 148:c=ne;break;case 0:m=ne,a.sheetRows&&a.sheetRows<=m.r&&(p=!0),F=Ii(b=m.r),a["!row"]=m.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=Zv(ne.hpt)),oe[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:ne[2]},ne[2]){case"n":y.v=ne[1];break;case"s":E=Z0[ne[1]],y.v=E.t,y.r=E.r;break;case"b":y.v=!!ne[1];break;case"e":y.v=ne[1],a.cellText!==!1&&(y.w=rf[y.v]);break;case"str":y.t="s",y.v=ne[1];break;case"is":y.t="s",y.v=ne[1].t;break}if((C=o.CellXf[ne[0].iStyleRef])&&GY(y,C.numFmtId,null,a,s,o),x=ne[0].c==-1?x+1:ne[0].c,a.dense?(l[b]||(l[b]=[]),l[b][x]=y):l[Jr(x)+F]=y,a.cellFormula){for(P=!1,D=0;D<k.length;++D){var W=k[D];m.r>=W[0].s.r&&m.r<=W[0].e.r&&x>=W[0].s.c&&x<=W[0].e.c&&(y.F=mn(W[0]),P=!0)}!P&&ne.length>3&&(y.f=ne[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>x&&(d.s.c=x),d.e.r<m.r&&(d.e.r=m.r),d.e.c<x&&(d.e.c=x),a.cellDates&&C&&y.t=="n"&&Og(Wt[C.numFmtId])){var H=Xd(y.v);H&&(y.t="d",y.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}J&&(J.type=="XLDAPR"&&(y.D=!0),J=void 0);break;case 1:case 12:if(!a.sheetStubs||f)break;y={t:"z",v:void 0},x=ne[0].c==-1?x+1:ne[0].c,a.dense?(l[b]||(l[b]=[]),l[b][x]=y):l[Jr(x)+F]=y,d.s.r>m.r&&(d.s.r=m.r),d.s.c>x&&(d.s.c=x),d.e.r<m.r&&(d.e.r=m.r),d.e.c<x&&(d.e.c=x),J&&(J.type=="XLDAPR"&&(y.D=!0),J=void 0);break;case 176:_.push(ne);break;case 49:J=((a.xlmeta||{}).Cell||[])[ne-1];break;case 494:var X=r["!id"][ne.relId];for(X?(ne.Target=X.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=X):ne.relId==""&&(ne.Target="#"+ne.loc),b=ne.rfx.s.r;b<=ne.rfx.e.r;++b)for(x=ne.rfx.s.c;x<=ne.rfx.e.c;++x)a.dense?(l[b]||(l[b]=[]),l[b][x]||(l[b][x]={t:"z",v:void 0}),l[b][x].l=ne):(R=jt({c:x,r:b}),l[R]||(l[R]={t:"z",v:void 0}),l[R].l=ne);break;case 426:if(!a.cellFormula)break;k.push(ne),I=a.dense?l[b][x]:l[Jr(x)+F],I.f=Ui(ne[1],d,{r:m.r,c:x},N,a),I.F=mn(ne[0]);break;case 427:if(!a.cellFormula)break;B[jt(ne[0].s)]=ne[1],I=a.dense?l[b][x]:l[Jr(x)+F],I.f=Ui(ne[1],d,{r:m.r,c:x},N,a);break;case 60:if(!a.cellStyles)break;for(;ne.e>=ne.s;)G[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},le||(le=!0,iM(ne.w/256)),ug(G[ne.e+1]);break;case 161:l["!autofilter"]={ref:mn(ne)};break;case 476:l["!margins"]=ne;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ne.name&&(i.Sheets[n].CodeName=ne.name),(ne.above||ne.left)&&(l["!outline"]={above:ne.above,left:ne.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ne.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!L.T){if(!f||a.WTF)throw new Error("Unexpected record 0x"+ae.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=mn(c||d)),a.sheetRows&&l["!ref"]){var se=Cr(l["!ref"]);a.sheetRows<=+se.e.r&&(se.e.r=a.sheetRows-1,se.e.r>d.e.r&&(se.e.r=d.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>d.e.c&&(se.e.c=d.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),l["!fullref"]=l["!ref"],l["!ref"]=mn(se))}return _.length>0&&(l["!merges"]=_),G.length>0&&(l["!cols"]=G),oe.length>0&&(l["!rows"]=oe),l}function J4e(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var i=Cn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function eVe(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var a=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=J4e(f);d.s.r=d.s.c=0,d.e.c=a,c=Jr(a),p[0].forEach(function(m,y){o[c+Ii(y)]={t:"n",v:m,z:p[1]},l=y}),d.e.r<l&&(d.e.r=l),++a}),a>0&&(o["!ref"]=mn(d)),o}function tVe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,a=e.match(UY);return a&&oM(a[0],s,i,n),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function nVe(e,t){e.l+=10;var n=$i(e);return{name:n}}function rVe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return _c(e,function(l,c,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var jY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],iVe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],sVe=[],oVe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function CG(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=nr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function wG(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=nr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function WY(e){wG(e.WBProps,jY),wG(e.CalcPr,oVe),CG(e.WBView,iVe),CG(e.Sheets,sVe),Lp.date1904=nr(e.WBProps.date1904)}var aVe="][*?/\\".split("");function lVe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return aVe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var cVe=/<\w+:workbook/;function uVe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(Qi,function(l,c){var d=Vt(l);switch(Rl(d[0])){case"<?xml":break;case"<workbook":l.match(cVe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":jY.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=nr(d[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:n.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(n.WBProps.CodeName=$n(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Cn($n(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=$n(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),nr(d.hidden||"0")&&(s.Hidden=!0),o=c+l.length;break;case"</definedName>":s.Ref=Cn($n(e.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),_Me.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return WY(n),n}function dVe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=YD(e),n.name=$i(e),n}function hVe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?$i(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function fVe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function pVe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=$Me(e),o=QBe(e,0,n),a=JI(e);e.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function gVe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Ax[16]={n:"BrtFRTArchID$",f:fVe},_c(e,function(l,c,d){switch(d){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Ui(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,l]):o[0]=[d,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),WY(n),n.Names=s,n.supbooks=o,n}function mVe(e,t,n){return t.slice(-4)===".bin"?gVe(e,n):uVe(e,n)}function vVe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?Z4e(e,r,n,i,s,o,a):d4e(e,r,n,i,s,o,a)}function yVe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?rVe(e,r,n,i,s):tVe(e,r,n,i,s)}function CVe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?ANe():_Ne()}function wVe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?TNe():RNe()}function bVe(e,t,n,r){return t.slice(-4)===".bin"?ULe(e,n,r):LLe(e,n,r)}function SVe(e,t,n){return FY(e,n)}function xVe(e,t,n){return t.slice(-4)===".bin"?iLe(e,n):nLe(e,n)}function EVe(e,t,n){return t.slice(-4)===".bin"?SNe(e,n):vNe(e,n)}function TVe(e,t,n){return t.slice(-4)===".bin"?pNe(e):hNe(e)}function RVe(e,t,n,r){return n.slice(-4)===".bin"?gNe(e,t,n,r):void 0}function AVe(e,t,n){return t.slice(-4)===".bin"?uNe(e,t,n):dNe(e,t,n)}var $Y=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,qY=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function sa(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match($Y),s,o,a,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(qY),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(o+1),r[a]=s[2].slice(1,s[2].length-1));return r}function _Ve(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match($Y),i,s,o,a;if(r)for(a=0;a!=r.length;++a)i=r[a].match(qY),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var ev;function DVe(e,t){var n=ev[e]||Cn(e);return n==="General"?Ih(t):Qo(n,t)}function PVe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=nr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=fi(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Cn(t)]=i}function FVe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||rf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qv(e.v):e.w=Ih(e.v):e.w=DVe(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=ev[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&Og(r)){var i=Xd(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function kVe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=PLe[r.Pattern]||r.Pattern)}e[t.ID]=t}function IVe(e,t,n,r,i,s,o,a,l,c){var d="General",f=r.StyleID,p={};c=c||{};var m=[],y=0;for(f===void 0&&a&&(f=a.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=nr(e);break;case"String":r.t="s",r.r=UH(Cn(e)),r.v=e.indexOf("<")>-1?Cn(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(fi(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Cn(e):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=cY[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=UH(t||e));break}if(FVe(r,d,c),c.cellFormula!==!1)if(r.Formula){var C=Cn(r.Formula);C.charCodeAt(0)==61&&(C=C.slice(1)),r.f=Op(C,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Op("RC:RC",i):r.ArrayRange&&(r.F=Op(r.ArrayRange,i),l.push([Cr(r.F),r.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(r.F=l[y][1]);c.cellStyles&&(m.forEach(function(b){!p.patternType&&b.patternType&&(p.patternType=b.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function MVe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function DA(e,t){var n=t||{};OK();var r=E0(KI(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=$n(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=ki(n);return o.type="string",Xv.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ct){i.indexOf("<"+ct)>=0&&(s=!0)}),s)return zVe(r,n);ev={"General Number":"General","General Date":Wt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Wt[15],"Short Date":Wt[14],"Long Time":Wt[19],"Medium Time":Wt[18],"Short Time":Wt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Wt[2],Standard:Wt[4],Percent:Wt[10],Scientific:Wt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c,d={},f=[],p=n.dense?[]:{},m="",y={},C={},b=sa('<Data ss:Type="String">'),x=0,R=0,E=0,F={s:{r:2e6,c:2e6},e:{r:0,c:0}},I={},_={},D="",P=0,k=[],B={},N={},V=0,G=[],oe=[],le={},J=[],se,he=!1,ne=[],L=[],ae={},W=0,H=0,X={Sheets:[],WBProps:{date1904:!1}},ie={};Yv.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var fe="";a=Yv.exec(r);)switch(a[3]=(fe=a[3]).toLowerCase()){case"data":if(fe=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?IVe(r.slice(x,a.index),D,b,l[l.length-1][0]=="comment"?le:y,{c:R,r:E},I,J[R],C,ne,n):(D="",b=sa(a[0]),x=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(oe.length>0&&(y.c=oe),(!n.sheetRows||n.sheetRows>E)&&y.v!==void 0&&(n.dense?(p[E]||(p[E]=[]),p[E][R]=y):p[Jr(R)+Ii(E)]=y),y.HRef&&(y.l={Target:Cn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(W=R+(parseInt(y.MergeAcross,10)|0),H=E+(parseInt(y.MergeDown,10)|0),k.push({s:{c:R,r:E},e:{c:W,r:H}})),!n.sheetStubs)y.MergeAcross?R=W+1:++R;else if(y.MergeAcross||y.MergeDown){for(var Be=R;Be<=W;++Be)for(var Ne=E;Ne<=H;++Ne)(Be>R||Ne>E)&&(n.dense?(p[Ne]||(p[Ne]=[]),p[Ne][Be]={t:"z"}):p[Jr(Be)+Ii(Ne)]={t:"z"});R=W+1}else++R;else y=_Ve(a[0]),y.Index&&(R=+y.Index-1),R<F.s.c&&(F.s.c=R),R>F.e.c&&(F.e.c=R),a[0].slice(-2)==="/>"&&++R,oe=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(E<F.s.r&&(F.s.r=E),E>F.e.r&&(F.e.r=E),a[0].slice(-2)==="/>"&&(C=sa(a[0]),C.Index&&(E=+C.Index-1)),R=0,++E):(C=sa(a[0]),C.Index&&(E=+C.Index-1),ae={},(C.AutoFitHeight=="0"||C.Height)&&(ae.hpx=parseInt(C.Height,10),ae.hpt=PY(ae.hpx),L[E]=ae),C.Hidden=="1"&&(ae.hidden=!0,L[E]=ae));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));f.push(m),F.s.r<=F.e.r&&F.s.c<=F.e.c&&(p["!ref"]=mn(F),n.sheetRows&&n.sheetRows<=F.e.r&&(p["!fullref"]=p["!ref"],F.e.r=n.sheetRows-1,p["!ref"]=mn(F))),k.length&&(p["!merges"]=k),J.length>0&&(p["!cols"]=J),L.length>0&&(p["!rows"]=L),d[m]=p}else F={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=R=0,l.push([a[3],!1]),c=sa(a[0]),m=Cn(c.Name),p=n.dense?[]:{},k=[],ne=[],L=[],ie={name:m,Hidden:0},X.Sheets.push(ie);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),J=[],he=!1}break;case"style":a[1]==="/"?kVe(I,_,n):_=sa(a[0]);break;case"numberformat":_.nf=Cn(sa(a[0]).Format||"General"),ev[_.nf]&&(_.nf=ev[_.nf]);for(var Ie=0;Ie!=392&&Wt[Ie]!=_.nf;++Ie);if(Ie==392){for(Ie=57;Ie!=392;++Ie)if(Wt[Ie]==null){dh(_.nf,Ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(se=sa(a[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!he&&se.wpx>10){he=!0,cs=_Y;for(var Fe=0;Fe<J.length;++Fe)J[Fe]&&ug(J[Fe])}he&&ug(se),J[se.Index-1||J.length]=se;for(var rt=0;rt<+se.Span;++rt)J[J.length]=ki(se);break;case"namedrange":if(a[1]==="/")break;X.Names||(X.Names=[]);var re=Vt(a[0]),bt={Name:re.Name,Ref:Op(re.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(bt.Sheet=X.Sheets.length-1),X.Names.push(bt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?D+=r.slice(P,a.index):P=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;_.Interior=sa(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?v2e(B,fe,r.slice(V,a.index)):V=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));MVe(le),oe.push(le)}else l.push([a[3],!1]),c=sa(a[0]),le={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var ze=sa(a[0]);p["!autofilter"]={ref:Op(ze.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return RG(r,n);var Xe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Xe=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Xe=!1}break;case"excelworkbook":switch(a[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Xe=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Xe=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(r.slice(V,a.index)){case"SheetHidden":ie.Hidden=1;break;case"SheetVeryHidden":ie.Hidden=2;break}else V=a.index+a[0].length;break;case"header":p["!margins"]||J0(p["!margins"]={},"xlml"),isNaN(+Vt(a[0]).Margin)||(p["!margins"].header=+Vt(a[0]).Margin);break;case"footer":p["!margins"]||J0(p["!margins"]={},"xlml"),isNaN(+Vt(a[0]).Margin)||(p["!margins"].footer=+Vt(a[0]).Margin);break;case"pagemargins":var Ze=Vt(a[0]);p["!margins"]||J0(p["!margins"]={},"xlml"),isNaN(+Ze.Top)||(p["!margins"].top=+Ze.Top),isNaN(+Ze.Left)||(p["!margins"].left=+Ze.Left),isNaN(+Ze.Right)||(p["!margins"].right=+Ze.Right),isNaN(+Ze.Bottom)||(p["!margins"].bottom=+Ze.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Xe=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Xe=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Xe=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Xe=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Xe=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Xe=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Xe=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Xe=!1}break;case"smarttags":break;default:Xe=!1;break}if(Xe||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?PVe(N,fe,G,r.slice(V,a.index)):(G=a,V=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var ke={};return!n.bookSheets&&!n.bookProps&&(ke.Sheets=d),ke.SheetNames=f,ke.Workbook=X,ke.SSF=ki(Wt),ke.Props=B,ke.Custprops=N,ke}function JD(e,t){switch(cM(t=t||{}),t.type||"base64"){case"base64":return DA(uo(e),t);case"binary":case"buffer":case"file":return DA(e,t);case"array":return DA(ef(e),t)}}function OVe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=YMe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=XMe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var LVe=[60,1084,2066,2165,2175];function NVe(e,t,n,r,i){var s=r,o=[],a=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(a)}o.push(a),n.l+=s;for(var l=tc(n,n.l),c=eP[l],d=0;c!=null&&LVe.indexOf(l)>-1;)s=tc(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),a=n.slice(d,n.l+4+s),o.push(a),n.l+=4+s,c=eP[l=tc(n,n.l)];var f=vu(o);Ri(f,0);var p=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(p),p+=o[m].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,i)}function Va(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Wt[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||rf[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qv(e.v):e.w=Ih(e.v):e.w=Qo(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&Og(Wt[r]||String(r))){var i=Xd(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function gb(e,t,n){return{v:e,ixfe:t,t:n}}function BVe(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},o={},a=null,l=[],c="",d={},f,p="",m,y,C,b,x={},R=[],E,F,I=[],_=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},k=function(dt){return dt<8?hh[dt]:dt<64&&_[dt-8]||hh[dt]},B=function(dt,Ut,xn){var Yt=Ut.XF.data;if(!(!Yt||!Yt.patternType||!xn||!xn.cellStyles)){Ut.s={},Ut.s.patternType=Yt.patternType;var er;(er=Qv(k(Yt.icvFore)))&&(Ut.s.fgColor={rgb:er}),(er=Qv(k(Yt.icvBack)))&&(Ut.s.bgColor={rgb:er})}},N=function(dt,Ut,xn){if(!(ae>1)&&!(xn.sheetRows&&dt.r>=xn.sheetRows)){if(xn.cellStyles&&Ut.XF&&Ut.XF.data&&B(dt,Ut,xn),delete Ut.ixfe,delete Ut.XF,f=dt,p=jt(dt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),dt.r<o.s.r&&(o.s.r=dt.r),dt.c<o.s.c&&(o.s.c=dt.c),dt.r+1>o.e.r&&(o.e.r=dt.r+1),dt.c+1>o.e.c&&(o.e.c=dt.c+1),xn.cellFormula&&Ut.f){for(var Yt=0;Yt<R.length;++Yt)if(!(R[Yt][0].s.c>dt.c||R[Yt][0].s.r>dt.r)&&!(R[Yt][0].e.c<dt.c||R[Yt][0].e.r<dt.r)){Ut.F=mn(R[Yt][0]),(R[Yt][0].s.c!=dt.c||R[Yt][0].s.r!=dt.r)&&delete Ut.f,Ut.f&&(Ut.f=""+Ui(R[Yt][1],o,dt,ne,V));break}}xn.dense?(i[dt.r]||(i[dt.r]=[]),i[dt.r][dt.c]=Ut):i[p]=Ut}},V={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:R,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(V.password=t.password);var G,oe=[],le=[],J=[],se=[],he=!1,ne=[];ne.SheetNames=V.snames,ne.sharedf=V.sharedf,ne.arrayf=V.arrayf,ne.names=[],ne.XTI=[];var L=0,ae=0,W=0,H=[],X=[],ie;V.codepage=1200,ha(1200);for(var fe=!1;e.l<e.length-1;){var Be=e.l,Ne=e.read_shift(2);if(Ne===0&&L===10)break;var Ie=e.l===e.length?0:e.read_shift(2),Fe=eP[Ne];if(Fe&&Fe.f){if(t.bookSheets&&L===133&&Ne!==133)break;if(L=Ne,Fe.r===2||Fe.r==12){var rt=e.read_shift(2);if(Ie-=2,!V.enc&&rt!==Ne&&((rt&255)<<8|rt>>8)!==Ne)throw new Error("rt mismatch: "+rt+"!="+Ne);Fe.r==12&&(e.l+=10,Ie-=10)}var re={};if(Ne===10?re=Fe.f(e,Ie,V):re=NVe(Ne,Fe,e,Ie,V),ae==0&&[9,521,1033,2057].indexOf(L)===-1)continue;switch(Ne){case 34:n.opts.Date1904=D.WBProps.date1904=re;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(V.enc||(e.l=0),V.enc=re,!t.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:V.lastuser=re;break;case 66:var bt=Number(re);switch(bt){case 21010:bt=1200;break;case 32768:bt=1e4;break;case 32769:bt=1252;break}ha(V.codepage=bt),fe=!0;break;case 317:V.rrtabid=re;break;case 25:V.winlocked=re;break;case 439:n.opts.RefreshAll=re;break;case 12:n.opts.CalcCount=re;break;case 16:n.opts.CalcDelta=re;break;case 17:n.opts.CalcIter=re;break;case 13:n.opts.CalcMode=re;break;case 14:n.opts.CalcPrecision=re;break;case 95:n.opts.CalcSaveRecalc=re;break;case 15:V.CalcRefMode=re;break;case 2211:n.opts.FullCalc=re;break;case 129:re.fDialog&&(i["!type"]="dialog"),re.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),re.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:I.push(re);break;case 430:ne.push([re]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(re);break;case 24:case 536:ie={Name:re.Name,Ref:Ui(re.rgce,o,null,ne,V)},re.itab>0&&(ie.Sheet=re.itab-1),ne.names.push(ie),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(X[re.itab-1]={ref:mn(re.rgce[0][0][1][2])});break;case 22:V.ExternCount=re;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(re),ne.XTI=ne.XTI.concat(re);break;case 2196:if(V.biff<8)break;ie!=null&&(ie.Comment=re[1]);break;case 18:i["!protect"]=re;break;case 19:re!==0&&V.WTF&&console.error("Password verifier: "+re);break;case 133:s[re.pos]=re,V.snames.push(re.name);break;case 10:{if(--ae)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=mn(o),t.sheetRows&&t.sheetRows<=o.e.r){var ze=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=mn(o),o.e.r=ze}o.e.r++,o.e.c++}oe.length>0&&(i["!merges"]=oe),le.length>0&&(i["!objects"]=le),J.length>0&&(i["!cols"]=J),se.length>0&&(i["!rows"]=se),D.Sheets.push(P)}c===""?d=i:r[c]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(V.biff===8&&(V.biff={9:2,521:3,1033:4}[Ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),V.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(V.biff=5,fe=!0,ha(V.codepage=28591)),V.biff==8&&re.BIFFVer==0&&re.dt==16&&(V.biff=2),ae++)break;if(i=t.dense?[]:{},V.biff<8&&!fe&&(fe=!0,ha(V.codepage=t.codepage||1252)),V.biff<5||re.BIFFVer==0&&re.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Xe={pos:e.l-Ie,name:c};s[Xe.pos]=Xe,V.snames.push(c)}else c=(s[Be]||{name:""}).name;re.dt==32&&(i["!type"]="chart"),re.dt==64&&(i["!type"]="macro"),oe=[],le=[],V.arrayf=R=[],J=[],se=[],he=!1,P={Hidden:(s[Be]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[re.r]||[])[re.c]:i[jt({c:re.c,r:re.r})])&&++re.c,E={ixfe:re.ixfe,XF:I[re.ixfe]||{},v:re.val,t:"n"},W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 5:case 517:E={ixfe:re.ixfe,XF:I[re.ixfe],v:re.val,t:re.t},W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 638:E={ixfe:re.ixfe,XF:I[re.ixfe],v:re.rknum,t:"n"},W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 189:for(var Ze=re.c;Ze<=re.C;++Ze){var ke=re.rkrec[Ze-re.c][0];E={ixfe:ke,XF:I[ke],v:re.rkrec[Ze-re.c][1],t:"n"},W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:Ze,r:re.r},E,t)}break;case 6:case 518:case 1030:{if(re.val=="String"){a=re;break}if(E=gb(re.val,re.cell.ixfe,re.tt),E.XF=I[E.ixfe],t.cellFormula){var ct=re.formula;if(ct&&ct[0]&&ct[0][0]&&ct[0][0][0]=="PtgExp"){var At=ct[0][0][1][0],mt=ct[0][0][1][1],_t=jt({r:At,c:mt});x[_t]?E.f=""+Ui(re.formula,o,re.cell,ne,V):E.F=((t.dense?(i[At]||[])[mt]:i[_t])||{}).F}else E.f=""+Ui(re.formula,o,re.cell,ne,V)}W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N(re.cell,E,t),a=re}break;case 7:case 519:if(a)a.val=re,E=gb(re,a.cell.ixfe,"s"),E.XF=I[E.ixfe],t.cellFormula&&(E.f=""+Ui(a.formula,o,a.cell,ne,V)),W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N(a.cell,E,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{R.push(re);var It=jt(re[0].s);if(m=t.dense?(i[re[0].s.r]||[])[re[0].s.c]:i[It],t.cellFormula&&m){if(!a||!It||!m)break;m.f=""+Ui(re[1],o,re[0],ne,V),m.F=mn(re[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!a)break;x[jt(a.cell)]=re[0],m=t.dense?(i[a.cell.r]||[])[a.cell.c]:i[jt(a.cell)],(m||{}).f=""+Ui(re[0],o,f,ne,V)}}break;case 253:E=gb(l[re.isst].t,re.ixfe,"s"),l[re.isst].h&&(E.h=l[re.isst].h),E.XF=I[E.ixfe],W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:re.ixfe,XF:I[re.ixfe],t:"z"},W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t));break;case 190:if(t.sheetStubs)for(var Gt=re.c;Gt<=re.C;++Gt){var $t=re.ixfe[Gt-re.c];E={ixfe:$t,XF:I[$t],t:"z"},W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:Gt,r:re.r},E,t)}break;case 214:case 516:case 4:E=gb(re.val,re.ixfe,"s"),E.XF=I[E.ixfe],W>0&&(E.z=H[E.ixfe>>8&63]),Va(E,t,n.opts.Date1904),N({c:re.c,r:re.r},E,t);break;case 0:case 512:ae===1&&(o=re);break;case 252:l=re;break;case 1054:if(V.biff==4){H[W++]=re[1];for(var wn=0;wn<W+163&&Wt[wn]!=re[1];++wn);wn>=163&&dh(re[1],W+163)}else dh(re[1],re[0]);break;case 30:{H[W++]=re;for(var ve=0;ve<W+163&&Wt[ve]!=re;++ve);ve>=163&&dh(re,W+163)}break;case 229:oe=oe.concat(re);break;case 93:le[re.cmo[0]]=V.lastobj=re;break;case 438:V.lastobj.TxO=re;break;case 127:V.lastobj.ImData=re;break;case 440:for(b=re[0].s.r;b<=re[0].e.r;++b)for(C=re[0].s.c;C<=re[0].e.c;++C)m=t.dense?(i[b]||[])[C]:i[jt({c:C,r:b})],m&&(m.l=re[1]);break;case 2048:for(b=re[0].s.r;b<=re[0].e.r;++b)for(C=re[0].s.c;C<=re[0].e.c;++C)m=t.dense?(i[b]||[])[C]:i[jt({c:C,r:b})],m&&m.l&&(m.l.Tooltip=re[1]);break;case 28:{if(V.biff<=5&&V.biff>=2)break;m=t.dense?(i[re[0].r]||[])[re[0].c]:i[jt(re[0])];var Oe=le[re[2]];m||(t.dense?(i[re[0].r]||(i[re[0].r]=[]),m=i[re[0].r][re[0].c]={t:"z"}):m=i[jt(re[0])]={t:"z"},o.e.r=Math.max(o.e.r,re[0].r),o.s.r=Math.min(o.s.r,re[0].r),o.e.c=Math.max(o.e.c,re[0].c),o.s.c=Math.min(o.s.c,re[0].c)),m.c||(m.c=[]),y={a:re[1],t:Oe.TxO.t},m.c.push(y)}break;case 2173:oNe(I[re.ixfe],re.ext);break;case 125:{if(!V.cellStyles)break;for(;re.e>=re.s;)J[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},he||(he=!0,iM(re.w/256)),ug(J[re.e+1])}break;case 520:{var Ke={};re.level!=null&&(se[re.r]=Ke,Ke.level=re.level),re.hidden&&(se[re.r]=Ke,Ke.hidden=!0),re.hpt&&(se[re.r]=Ke,Ke.hpt=re.hpt,Ke.hpx=Zv(re.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||J0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ne]]=re;break;case 161:i["!margins"]||J0(i["!margins"]={}),i["!margins"].header=re.header,i["!margins"].footer=re.footer;break;case 574:re.RTL&&(D.Views[0].RTL=!0);break;case 146:_=re;break;case 2198:G=re;break;case 140:F=re;break;case 442:c?P.CodeName=re||P.name:D.WBProps.CodeName=re||"ThisWorkbook";break}}else Fe||console.error("Missing Info for XLS Record 0x"+Ne.toString(16)),e.l+=Ie}return n.SheetNames=bl(s).sort(function(lt,dt){return Number(lt)-Number(dt)}).map(function(lt){return s[lt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&X.forEach(function(lt,dt){n.Sheets[n.SheetNames[dt]]["!autofilter"]=lt}),n.Strings=l,n.SSF=ki(Wt),V.enc&&(n.Encryption=V.enc),G&&(n.Themes=G),n.Metadata={},F!==void 0&&(n.Metadata.Country=F),ne.names.length>0&&(D.Names=ne.names),n.Workbook=D,n}var bG={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function VVe(e,t,n){var r=pn.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=iG(r,n2e,bG.DSI);for(var s in i)t[s]=i[s]}catch(c){if(n.WTF)throw c}var o=pn.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var a=iG(o,r2e,bG.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(dY(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function KY(e,t){t||(t={}),cM(t),xK(),t.codepage&&GI(t.codepage);var n,r;if(e.FullPaths){if(pn.find(e,"/encryption"))throw new Error("File is password-protected");n=pn.find(e,"!CompObj"),r=pn.find(e,"/Workbook")||pn.find(e,"/Book")}else{switch(t.type){case"base64":e=ca(uo(e));break;case"binary":e=ca(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ri(e,0),r={content:e}}var i,s;if(n&&OVe(n),t.bookProps&&!t.bookSheets)i={};else{var o=ln?"buffer":"array";if(r&&r.content)i=BVe(r.content,t);else if((s=pn.find(e,"PerfectOffice_MAIN"))&&s.content)i=Q0.to_workbook(s.content,(t.type=o,t));else if((s=pn.find(e,"NativeContent_MAIN"))&&s.content)i=Q0.to_workbook(s.content,(t.type=o,t));else throw(s=pn.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&pn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=ENe(e))}var a={};return e.FullPaths&&VVe(e,a,t),i.Props=i.Custprops=a,t.bookFiles&&(i.cfb=e),i}var Ax={0:{f:w4e},1:{f:E4e},2:{f:I4e},3:{f:_4e},4:{f:R4e},5:{f:k4e},6:{f:L4e},7:{f:P4e},8:{f:G4e},9:{f:H4e},10:{f:B4e},11:{f:V4e},12:{f:T4e},13:{f:M4e},14:{f:D4e},15:{f:A4e},16:{f:zY},17:{f:N4e},18:{f:F4e},19:{f:ZI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pVe},40:{},42:{},43:{f:BLe},44:{f:NLe},45:{f:VLe},46:{f:GLe},47:{f:HLe},48:{},49:{f:UMe},50:{},51:{f:lNe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xY},62:{f:O4e},63:{f:fNe},64:{f:X4e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ki,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Y4e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:x4e},148:{f:b4e,p:16},151:{f:j4e},152:{},153:{f:hVe},154:{},155:{},156:{f:dVe},157:{},158:{},159:{T:1,f:rLe},160:{T:-1},161:{T:1,f:nf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:U4e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:aNe},336:{T:-1},337:{f:cNe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:YD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:SY},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:W4e},427:{f:$4e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:K4e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:S4e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:z4e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:YD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bNe},633:{T:1},634:{T:-1},635:{T:1,f:wNe},636:{T:-1},637:{f:jMe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nVe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Q4e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},eP={6:{f:AA},10:{f:iu},12:{f:Vr},13:{f:Vr},14:{f:Rr},15:{f:Rr},16:{f:zi},17:{f:Rr},18:{f:Rr},19:{f:Vr},20:{f:lG},21:{f:lG},23:{f:SY},24:{f:uG},25:{f:Rr},26:{},27:{},28:{f:yOe},29:{},34:{f:Rr},35:{f:cG},38:{f:zi},39:{f:zi},40:{f:zi},41:{f:zi},42:{f:Rr},43:{f:Rr},47:{f:SLe},49:{f:J2e},51:{f:Vr},60:{},61:{f:X2e},64:{f:Rr},65:{f:Z2e},66:{f:Vr},77:{},80:{},81:{},82:{},85:{f:Vr},89:{},90:{},91:{},92:{f:U2e},93:{f:wOe},94:{},95:{f:Rr},96:{},97:{},99:{f:Rr},125:{f:xY},128:{f:cOe},129:{f:z2e},130:{f:Vr},131:{f:Rr},132:{f:Rr},133:{f:j2e},134:{},140:{f:ROe},141:{f:Vr},144:{},146:{f:_Oe},151:{},152:{},153:{},154:{},155:{},156:{f:Vr},157:{},158:{},160:{f:IOe},161:{f:POe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:sOe},190:{f:oOe},193:{f:iu},197:{},198:{},199:{},200:{},201:{},202:{f:Rr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vr},220:{},221:{f:Rr},222:{},224:{f:lOe},225:{f:G2e},226:{f:iu},227:{},229:{f:COe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:W2e},253:{f:eOe},255:{f:$2e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:mY},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Rr},353:{f:iu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:dOe},431:{f:Rr},432:{},433:{},434:{},437:{},438:{f:xOe},439:{f:Rr},440:{f:EOe},441:{},442:{f:lC},443:{},444:{f:Vr},445:{},446:{},448:{f:iu},449:{f:Y2e,r:2},450:{f:iu},512:{f:oG},513:{f:kOe},515:{f:uOe},516:{f:tOe},517:{f:aG},519:{f:MOe},520:{f:q2e},523:{},545:{f:dG},549:{f:sG},566:{},574:{f:Q2e},638:{f:iOe},659:{},1048:{},1054:{f:nOe},1084:{},1212:{f:gOe},2048:{f:TOe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hb},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:iu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:DOe,r:12},2173:{f:sNe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Rr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:pOe,r:12},2197:{},2198:{f:JLe,r:12},2199:{},2200:{},2201:{},2202:{f:mOe,r:12},2203:{f:iu},2204:{},2205:{},2206:{},2207:{},2211:{f:K2e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:FOe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:AOe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:oG},1:{},2:{f:BOe},3:{f:NOe},4:{f:LOe},5:{f:aG},7:{f:VOe},8:{},9:{f:hb},11:{},22:{f:Vr},30:{f:rOe},31:{},32:{},33:{f:dG},36:{},37:{f:sG},50:{f:HOe},62:{},52:{},67:{},68:{f:Vr},69:{},86:{},126:{},127:{f:OOe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:GOe},223:{},234:{},354:{},421:{},518:{f:AA},521:{f:hb},536:{f:uG},547:{f:cG},561:{},579:{},1030:{f:AA},1033:{f:hb},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function oa(e,t,n,r){var i=t;if(!isNaN(i)){var s=(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&rY(n)&&e.push(n)}}function SG(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,a=s&&s.index||e.length,l=uMe(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,f=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<l.length;++o){var C=l[o].trim(),b=C.slice(0,3).toLowerCase();if(b=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(b!="<td"&&b!="<th")){var x=C.split(/<\/t[dh]>/i);for(a=0;a<x.length;++a){var R=x[a].trim();if(R.match(/<t[dh]/i)){for(var E=R,F=0;E.charAt(0)=="<"&&(F=E.indexOf(">"))>-1;)E=E.slice(F+1);for(var I=0;I<y.length;++I){var _=y[I];_.s.c==d&&_.s.r<c&&c<=_.e.r&&(d=_.e.c+1,I=-1)}var D=Vt(R.slice(0,R.indexOf(">")));p=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||p>1)&&y.push({s:{r:c,c:d},e:{r:c+(f||1)-1,c:d+p-1}});var P=D.t||D["data-t"]||"";if(!E.length){d+=p;continue}if(E=jK(E),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!E.length){d+=p;continue}var k={t:"s",v:E};n.raw||!E.trim().length||P=="s"||(E==="TRUE"?k={t:"b",v:!0}:E==="FALSE"?k={t:"b",v:!1}:isNaN(ma(E))?isNaN(cg(E).getDate())||(k={t:"d",v:fi(E)},n.cellDates||(k={t:"n",v:vs(k.v)}),k.z=n.dateNF||Wt[14]):k={t:"n",v:ma(E)}),n.dense?(r[c]||(r[c]=[]),r[c][d]=k):r[jt({r:c,c:d})]=k,d+=p}}}}return r["!ref"]=mn(m),y.length&&(r["!merges"]=y),r}function HVe(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var d=jt({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[d],p=f&&f.v!=null&&(f.h||qI(f.w||(bc(f),f.w)||""))||"",m={};a>1&&(m.rowspan=a),l>1&&(m.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+d,s.push(RMe("td",p,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var GVe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',UVe="</body></html>";function zVe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return sd(SG(n[0],t),t);var r=dM();return n.forEach(function(i,s){hM(r,SG(i,t),"Sheet"+(s+1))}),r}function jVe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function WVe(e,t){var n=t||{},r=n.header!=null?n.header:GVe,i=n.footer!=null?n.footer:UVe,s=[r],o=Lg(e["!ref"]);n.dense=Array.isArray(e),s.push(jVe(e,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(HVe(e,o,a,n));return s.push("</table>"+i),s.join("")}function YY(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?hs(r.origin):r.origin;i=o.r,s=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var d=Lg(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),i==-1&&(c.e.r=i=d.e.r+1)}var f=[],p=0,m=e["!rows"]||(e["!rows"]=[]),y=0,C=0,b=0,x=0,R=0,E=0;for(e["!cols"]||(e["!cols"]=[]);y<a.length&&C<l;++y){var F=a[y];if(xG(F)){if(r.display)continue;m[C]={hidden:!0}}var I=F.children;for(b=x=0;b<I.length;++b){var _=I[b];if(!(r.display&&xG(_))){var D=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):jK(_.innerHTML),P=_.getAttribute("data-z")||_.getAttribute("z");for(p=0;p<f.length;++p){var k=f[p];k.s.c==x+s&&k.s.r<C+i&&C+i<=k.e.r&&(x=k.e.c+1-s,p=-1)}E=+_.getAttribute("colspan")||1,((R=+_.getAttribute("rowspan")||1)>1||E>1)&&f.push({s:{r:C+i,c:x+s},e:{r:C+i+(R||1)-1,c:x+s+(E||1)-1}});var B={t:"s",v:D},N=_.getAttribute("data-t")||_.getAttribute("t")||"";D!=null&&(D.length==0?B.t=N||"z":r.raw||D.trim().length==0||N=="s"||(D==="TRUE"?B={t:"b",v:!0}:D==="FALSE"?B={t:"b",v:!1}:isNaN(ma(D))?isNaN(cg(D).getDate())||(B={t:"d",v:fi(D)},r.cellDates||(B={t:"n",v:vs(B.v)}),B.z=r.dateNF||Wt[14]):B={t:"n",v:ma(D)})),B.z===void 0&&P!=null&&(B.z=P);var V="",G=_.getElementsByTagName("A");if(G&&G.length)for(var oe=0;oe<G.length&&!(G[oe].hasAttribute("href")&&(V=G[oe].getAttribute("href"),V.charAt(0)!="#"));++oe);V&&V.charAt(0)!="#"&&(B.l={Target:V}),r.dense?(e[C+i]||(e[C+i]=[]),e[C+i][x+s]=B):e[jt({c:x+s,r:C+i})]=B,c.e.c<x+s&&(c.e.c=x+s),x+=E}}++C}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,C-1+i),e["!ref"]=mn(c),C>=l&&(e["!fullref"]=mn((c.e.r=a.length-y+C-1+i,c))),e}function XY(e,t){var n=t||{},r=n.dense?[]:{};return YY(r,e,t)}function $Ve(e,t){return sd(XY(e,t),t)}function xG(e){var t="",n=qVe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function qVe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function KVe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Cn(t.replace(/<[^>]*>/g,""));return[n]}var EG={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function QY(e,t){var n=t||{},r=KI(e),i=[],s,o,a={name:""},l="",c=0,d,f,p={},m=[],y=n.dense?[]:{},C,b,x={value:""},R="",E=0,F=[],I=-1,_=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,k={},B=[],N={},V=0,G=0,oe=[],le=1,J=1,se=[],he={Names:[]},ne={},L=["",""],ae=[],W={},H="",X=0,ie=!1,fe=!1,Be=0;for(Yv.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");C=Yv.exec(r);)switch(C[3]=C[3].replace(/_.*$/,"")){case"table":case"":C[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?y["!ref"]=mn(D):y["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(y["!fullref"]=y["!ref"],D.e.r=n.sheetRows-1,y["!ref"]=mn(D)),B.length&&(y["!merges"]=B),oe.length&&(y["!rows"]=oe),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),p[d.name]=y,fe=!1):C[0].charAt(C[0].length-2)!=="/"&&(d=Vt(C[0],!1),I=_=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,y=n.dense?[]:{},B=[],oe=[],fe=!0);break;case"table-row-group":C[1]==="/"?--P:++P;break;case"table-row":case"":if(C[1]==="/"){I+=le,le=1;break}if(f=Vt(C[0],!1),f.?I=f.-1:I==-1&&(I=0),le=+f["number-rows-repeated"]||1,le<10)for(Be=0;Be<le;++Be)P>0&&(oe[I+Be]={level:P});_=-1;break;case"covered-table-cell":C[1]!=="/"&&++_,n.sheetStubs&&(n.dense?(y[I]||(y[I]=[]),y[I][_]={t:"z"}):y[jt({r:I,c:_})]={t:"z"}),R="",F=[];break;case"table-cell":case"":if(C[0].charAt(C[0].length-2)==="/")++_,x=Vt(C[0],!1),J=parseInt(x["number-columns-repeated"]||"1",10),b={t:"z",v:null},x.formula&&n.cellFormula!=!1&&(b.f=yG(Cn(x.formula))),(x.||x["value-type"])=="string"&&(b.t="s",b.v=Cn(x["string-value"]||""),n.dense?(y[I]||(y[I]=[]),y[I][_]=b):y[jt({r:I,c:_})]=b),_+=J-1;else if(C[1]!=="/"){++_,R="",E=0,F=[],J=1;var Ne=le?I+le-1:I;if(_>D.e.c&&(D.e.c=_),_<D.s.c&&(D.s.c=_),I<D.s.r&&(D.s.r=I),Ne>D.e.r&&(D.e.r=Ne),x=Vt(C[0],!1),ae=[],W={},b={t:x.||x["value-type"],v:null},n.cellFormula)if(x.formula&&(x.formula=Cn(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(V=parseInt(x["number-matrix-rows-spanned"],10)||0,G=parseInt(x["number-matrix-columns-spanned"],10)||0,N={s:{r:I,c:_},e:{r:I+V-1,c:_+G-1}},b.F=mn(N),se.push([N,b.F])),x.formula)b.f=yG(x.formula);else for(Be=0;Be<se.length;++Be)I>=se[Be][0].s.r&&I<=se[Be][0].e.r&&_>=se[Be][0].s.c&&_<=se[Be][0].e.c&&(b.F=se[Be][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(V=parseInt(x["number-rows-spanned"],10)||0,G=parseInt(x["number-columns-spanned"],10)||0,N={s:{r:I,c:_},e:{r:I+V-1,c:_+G-1}},B.push(N)),x["number-columns-repeated"]&&(J=parseInt(x["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=nr(x["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(x.value);break;case"percentage":b.t="n",b.v=parseFloat(x.value);break;case"currency":b.t="n",b.v=parseFloat(x.value);break;case"date":b.t="d",b.v=fi(x["date-value"]),n.cellDates||(b.t="n",b.v=vs(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=aMe(x["time-value"])/86400,n.cellDates&&(b.t="d",b.v=X1(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(x.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",x["string-value"]!=null&&(R=Cn(x["string-value"]),F=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(ie=!1,b.t==="s"&&(b.v=R||"",F.length&&(b.R=F),ie=E==0),ne.Target&&(b.l=ne),ae.length>0&&(b.c=ae,ae=[]),R&&n.cellText!==!1&&(b.w=R),ie&&(b.t="z",delete b.v),(!ie||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=I))for(var Ie=0;Ie<le;++Ie){if(J=parseInt(x["number-columns-repeated"]||"1",10),n.dense)for(y[I+Ie]||(y[I+Ie]=[]),y[I+Ie][_]=Ie==0?b:ki(b);--J>0;)y[I+Ie][_+J]=ki(b);else for(y[jt({r:I+Ie,c:_})]=b;--J>0;)y[jt({r:I+Ie,c:_+J})]=ki(b);D.e.c<=_&&(D.e.c=_)}J=parseInt(x["number-columns-repeated"]||"1",10),_+=J-1,J=0,b={},R="",F=[]}ne={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(C[1]==="/"){if((s=i.pop())[0]!==C[3])throw"Bad state: "+s}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!0]);break;case"annotation":if(C[1]==="/"){if((s=i.pop())[0]!==C[3])throw"Bad state: "+s;W.t=R,F.length&&(W.R=F),W.a=H,ae.push(W)}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);H="",X=0,R="",E=0,F=[];break;case"creator":C[1]==="/"?H=r.slice(X,C.index):X=C.index+C[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(C[1]==="/"){if((s=i.pop())[0]!==C[3])throw"Bad state: "+s}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);R="",E=0,F=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(C[1]==="/"){if(k[a.name]=l,(s=i.pop())[0]!==C[3])throw"Bad state: "+s}else C[0].charAt(C[0].length-2)!=="/"&&(l="",a=Vt(C[0],!1),i.push([C[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Vt(C[0],!1),l+=EG[C[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Vt(C[0],!1),l+=EG[C[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(C[0].slice(-2)==="/>")break;if(C[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,C.index);break}else c=C.index+C[0].length;break;case"named-range":o=Vt(C[0],!1),L=_A(o["cell-range-address"]);var Fe={Name:o.name,Ref:L[0]+"!"+L[1]};fe&&(Fe.Sheet=m.length),he.Names.push(Fe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(C[1]==="/"&&(!x||!x["string-value"])){var rt=KVe(r.slice(E,C.index));R=(R.length>0?R+`
`:"")+rt[0]}else Vt(C[0],!1),E=C.index+C[0].length;break;case"s":break;case"database-range":if(C[1]==="/")break;try{L=_A(Vt(C[0])["target-range-address"]),p[L[0]]["!autofilter"]={ref:L[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(C[1]!=="/"){if(ne=Vt(C[0],!1),!ne.href)break;ne.Target=Cn(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(L=_A(ne.Target.slice(1)),ne.Target="#"+L[0]+"!"+L[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(C[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(C)}}var re={Sheets:p,SheetNames:m,Workbook:he};return n.bookSheets&&delete re.Sheets,re}function TG(e,t){t=t||{},Mo(e,"META-INF/manifest.xml")&&u2e(Br(e,"META-INF/manifest.xml"),t);var n=Qs(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=QY($n(n),t);return Mo(e,"meta.xml")&&(r.Props=uY(Br(e,"meta.xml"))),r}function RG(e,t){return QY(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function aM(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tP(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):$n(ef(e))}function nP(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function AG(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function YVe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Jv(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function ti(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function ji(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=Jv(e,n),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=n[0];e[n[0]++]>=128;);a=e.slice(l,n[0])}break;case 5:o=4,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Jv(e,n),a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function lM(e,t){return e?.map(function(n){return t(n.data)})||[]}function XVe(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Jv(e,r),s=ji(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:ti(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=ji(a.data),c=ti(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=s[3])!=null&&t[0]&&(o.merge=ti(s[3][0].data)>>>0>0),n.push(o)}return n}function QVe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Jv(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[n[0]],a>1&&(o|=t[n[0]+1]<<8),a>2&&(o|=t[n[0]+2]<<16),a>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,s==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[nP(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var d=nP(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function ZVe(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(QVe(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return nP(t)}function JVe(e,t,n,r){var i=aM(e),s=i.getUint32(4,!0),o=(r>1?12:8)+AG(s&(r>1?3470:398))*4,a=-1,l=-1,c=NaN,d=new Date(2001,0,1);s&512&&(a=i.getUint32(o,!0),o+=4),o+=AG(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function e3e(e,t,n){var r=aM(e),i=r.getUint32(8,!0),s=12,o=-1,a=-1,l=NaN,c=NaN,d=new Date(2001,0,1);i&1&&(l=YVe(e,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(a=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[a]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return f}function t3e(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return JVe(e,t,n,e[0]);case 5:return e3e(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Du(e){var t=ji(e);return Jv(t[1][0].data)}function _G(e,t){var n=ji(t.data),r=ti(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var a=ji(o.data),l=ti(a[1][0].data)>>>0;switch(r){case 1:s[l]=tP(a[3][0].data);break;case 8:{var c=e[Du(a[9][0].data)][0],d=ji(c.data),f=e[Du(d[1][0].data)][0],p=ti(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=ji(f.data);s[l]=m[3].map(function(y){return tP(y.data)}).join("")}break}}),s}function n3e(e,t){var n,r,i,s,o,a,l,c,d,f,p,m,y,C,b=ji(e),x=ti(b[1][0].data)>>>0,R=ti(b[2][0].data)>>>0,E=((r=(n=b[8])==null?void 0:n[0])==null?void 0:r.data)&&ti(b[8][0].data)>0||!1,F,I;if((s=(i=b[7])==null?void 0:i[0])!=null&&s.data&&t!=0)F=(a=(o=b[7])==null?void 0:o[0])==null?void 0:a.data,I=(c=(l=b[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(d=b[4])==null?void 0:d[0])!=null&&f.data&&t!=1)F=(m=(p=b[4])==null?void 0:p[0])==null?void 0:m.data,I=(C=(y=b[3])==null?void 0:y[0])==null?void 0:C.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var _=E?4:1,D=aM(F),P=[],k=0;k<F.length/2;++k){var B=D.getUint16(k*2,!0);B<65535&&P.push([k,B])}if(P.length!=R)throw"Expected ".concat(R," cells, found ").concat(P.length);var N=[];for(k=0;k<P.length-1;++k)N[P[k][0]]=I.subarray(P[k][1]*_,P[k+1][1]*_);return P.length>=1&&(N[P[P.length-1][0]]=I.subarray(P[P.length-1][1]*_)),{R:x,cells:N}}function r3e(e,t){var n,r=ji(t.data),i=(n=r?.[7])!=null&&n[0]?ti(r[7][0].data)>>>0>0?1:0:-1,s=lM(r[5],function(o){return n3e(o,i)});return{nrows:ti(r[4][0].data)>>>0,data:s.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(l,c){if(o[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));o[a.R][c]=l}),o},[])}}function i3e(e,t,n){var r,i=ji(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ti(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(ti(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=mn(s);var o=ji(i[4][0].data),a=_G(e,e[Du(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?_G(e,e[Du(o[17][0].data)][0]):[],c=ji(o[3][0].data),d=0;c[1].forEach(function(f){var p=ji(f.data),m=e[Du(p[2][0].data)][0],y=ti(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var C=r3e(e,m);C.data.forEach(function(b,x){b.forEach(function(R,E){var F=jt({r:d+x,c:E}),I=t3e(R,a,l);I&&(n[F]=I)})}),d+=C.nrows})}function s3e(e,t){var n=ji(t.data),r={"!ref":"A1"},i=e[Du(n[2][0].data)],s=ti(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return i3e(e,i[0],r),r}function o3e(e,t){var n,r=ji(t.data),i={name:(n=r[1])!=null&&n[0]?tP(r[1][0].data):"",sheets:[]},s=lM(r[2],Du);return s.forEach(function(o){e[o].forEach(function(a){var l=ti(a.meta[1][0].data);l==6e3&&i.sheets.push(s3e(e,a))})}),i}function a3e(e,t){var n=dM(),r=ji(t.data),i=lM(r[1],Du);if(i.forEach(function(s){e[s].forEach(function(o){var a=ti(o.meta[1][0].data);if(a==2){var l=o3e(e,o);l.sheets.forEach(function(c,d){hM(n,c,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function PA(e){var t,n,r,i,s={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=ZVe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=XVe(c)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var a=((i=(r=(n=(t=s?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&ti(s[1][0].meta[1][0].data)==1&&s[1][0];if(a||o.forEach(function(l){s[l].forEach(function(c){var d=ti(c.meta[1][0].data)>>>0;if(d==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return a3e(s,a)}function l3e(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function cM(e){l3e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function c3e(e){return up.WS.indexOf(e)>-1?"sheet":e==up.CS?"chart":e==up.DS?"dialog":e==up.MS?"macro":e&&e.length?e:"sheet"}function u3e(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,c3e(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function d3e(e,t,n,r,i,s,o,a,l,c,d,f){try{s[r]=Y0(Qs(e,n,!0),t);var p=Br(e,t),m;switch(a){case"sheet":m=vVe(p,t,i,l,s[r],c,d,f);break;case"chart":if(m=yVe(p,t,i,l,s[r],c,d,f),!m||!m["!drawel"])break;var y=R0(m["!drawel"].Target,t),C=XD(y),b=mNe(Qs(e,y,!0),Y0(Qs(e,C,!0),y)),x=R0(b,y),R=XD(x);m=eVe(Qs(e,x,!0),x,l,Y0(Qs(e,R,!0),x),c,m);break;case"macro":m=CVe(p,t,i,l,s[r],c,d,f);break;case"dialog":m=wVe(p,t,i,l,s[r],c,d,f);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=m;var E=[];s&&s[r]&&bl(s[r]).forEach(function(F){var I="";if(s[r][F].Type==up.CMNT){I=R0(s[r][F].Target,t);var _=EVe(Br(e,I,!0),I,l);if(!_||!_.length)return;fG(m,_,!1)}s[r][F].Type==up.TCMNT&&(I=R0(s[r][F].Target,t),E=E.concat(yNe(Br(e,I,!0),l)))}),E&&E.length&&fG(m,E,!0,l.people||[])}catch(F){if(l.WTF)throw F}}function Ao(e){return e.charAt(0)=="/"?e.slice(1):e}function h3e(e,t){if(OK(),t=t||{},cM(t),Mo(e,"META-INF/manifest.xml")||Mo(e,"objectdata.xml"))return TG(e,t);if(Mo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PA<"u"){if(e.FileIndex)return PA(e);var n=pn.utils.cfb_new();return HH(e).forEach(function(oe){fMe(n,oe,hMe(e,oe))}),PA(n)}throw new Error("Unsupported NUMBERS file")}if(!Mo(e,"[Content_Types].xml"))throw Mo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Mo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=HH(e),i=l2e(Qs(e,"[Content_Types].xml")),s=!1,o,a;if(i.workbooks.length===0&&(a="xl/workbook.xml",Br(e,a,!0)&&i.workbooks.push(a)),i.workbooks.length===0){if(a="xl/workbook.bin",!Br(e,a,!0))throw new Error("Could not find workbook");i.workbooks.push(a),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Z0=[],i.sst)try{Z0=xVe(Br(e,Ao(i.sst)),i.sst,t)}catch(oe){if(t.WTF)throw oe}t.cellStyles&&i.themes.length&&(l=SVe(Qs(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=bVe(Br(e,Ao(i.style)),i.style,l,t))}i.links.map(function(oe){try{var le=Y0(Qs(e,XD(Ao(oe))),oe);return RVe(Br(e,Ao(oe)),le,oe,t)}catch{}});var d=mVe(Br(e,Ao(i.workbooks[0])),i.workbooks[0],t),f={},p="";i.coreprops.length&&(p=Br(e,Ao(i.coreprops[0]),!0),p&&(f=uY(p)),i.extprops.length!==0&&(p=Br(e,Ao(i.extprops[0]),!0),p&&f2e(p,f,t)));var m={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(p=Qs(e,Ao(i.custprops[0]),!0),p&&(m=g2e(p,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(le){return le.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=m),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var C={};t.bookDeps&&i.calcchain&&(C=TVe(Br(e,Ao(i.calcchain)),i.calcchain));var b=0,x={},R,E;{var F=d.Sheets;f.Worksheets=F.length,f.SheetNames=[];for(var I=0;I!=F.length;++I)f.SheetNames[I]=F[I].name}var _=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),P=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");Mo(e,P)||(P="xl/_rels/workbook."+_+".rels");var k=Y0(Qs(e,P,!0),P.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=AVe(Br(e,Ao(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=CNe(Br(e,Ao(i.people[0])),t)),k&&(k=u3e(k,d.Sheets));var B=Br(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var N="sheet";if(k&&k[b]?(R="xl/"+k[b][1].replace(/[\/]?xl\//,""),Mo(e,R)||(R=k[b][1]),Mo(e,R)||(R=P.replace(/_rels\/.*$/,"")+k[b][1]),N=k[b][2]):(R="xl/worksheets/sheet"+(b+1-B)+"."+_,R=R.replace(/sheet0\./,"sheet.")),E=R.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var V=!1,G=0;G!=t.sheets.length;++G)typeof t.sheets[G]=="number"&&t.sheets[G]==b&&(V=1),typeof t.sheets[G]=="string"&&t.sheets[G].toLowerCase()==f.SheetNames[b].toLowerCase()&&(V=1);if(!V)continue e}}d3e(e,R,E,f.SheetNames[b],b,x,o,N,t,d,l,c)}return y={Directory:i,Workbook:d,Props:f,Custprops:m,Deps:C,Sheets:o,SheetNames:f.SheetNames,Strings:Z0,Styles:c,Themes:l,SSF:ki(Wt)},t&&t.bookFiles&&(e.files?(y.keys=r,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(oe,le){oe=oe.replace(/^Root Entry[\/]/,""),y.keys.push(oe),y.files[oe]=e.FileIndex[le]}))),t&&t.bookVBA&&(i.vba.length>0?y.vbaraw=Br(e,Ao(i.vba[0]),!0):i.defaults&&i.defaults.bin===xNe&&(y.vbaraw=Br(e,"xl/vbaProject.bin",!0))),y}function f3e(e,t){var n=t||{},r="Workbook",i=pn.find(e,r);try{if(r="/!DataSpaces/Version",i=pn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(sLe(i.content),r="/!DataSpaces/DataSpaceMap",i=pn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=aLe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=pn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=lLe(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=pn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);uLe(i.content)}catch{}if(r="/EncryptionInfo",i=pn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=dLe(i.content);if(r="/EncryptedPackage",i=pn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,n.password||"",n);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function uM(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=uo(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function p3e(e,t){return pn.find(e,"EncryptedPackage")?f3e(e,t):KY(e,t)}function g3e(e,t){var n,r=e,i=t||{};return i.type||(i.type=ln&&Buffer.isBuffer(e)?"buffer":"base64"),n=GK(r,i),h3e(n,i)}function ZY(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return JD(e.slice(n),t);default:break e}return Xv.to_workbook(e,t)}function m3e(e,t){var n="",r=uM(e,t);switch(t.type){case"base64":n=uo(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Mh(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=$n(n)),t.type="binary",ZY(n,t)}function v3e(e,t){var n=e;return t.type=="base64"&&(n=uo(n)),n=$v.utils.decode(1200,n.slice(2),"str"),t.type="binary",ZY(n,t)}function y3e(e){return e.match(/[^\x00-\x7F]/)?A0(e):e}function FA(e,t,n,r){return r?(n.type="string",Xv.to_workbook(e,n)):Xv.to_workbook(t,n)}function rP(e,t){xK();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return rP(new Uint8Array(e),(n=ki(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Lp={},n.dateNF&&(Lp.dateNF=n.dateNF),n.type||(n.type=ln&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=ln?"buffer":"binary",r=sMe(e),typeof Uint8Array<"u"&&!ln&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=y3e(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return n=ki(n),n.type="array",rP(UI(r),n)}switch((i=uM(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return p3e(pn.read(r,n),n);break;case 9:if(i[1]<=8)return KY(r,n);break;case 60:return JD(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return $Oe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return jOe.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?g3e(r,n):FA(e,r,n,s);case 239:return i[3]===60?JD(r,n):FA(e,r,n,s);case 255:if(i[1]===254)return v3e(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Q0.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Q0.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return hG.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return xLe.to_workbook(r,n);break;case 10:case 13:case 32:return m3e(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return UOe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?hG.to_workbook(r,n):FA(e,r,n,s)}function C3e(e,t,n,r,i,s,o,a){var l=Ii(n),c=a.defval,d=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),f=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||e[n])for(var m=t.s.c;m<=t.e.c;++m){var y=o?e[n][m]:e[r[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(p[s[m]]=c);continue}var C=y.v;switch(y.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(C==null)if(y.t=="e"&&C===null)p[s[m]]=null;else if(c!==void 0)p[s[m]]=c;else if(d&&C===null)p[s[m]]=null;else continue;else p[s[m]]=d&&(y.t!=="n"||y.t==="n"&&a.rawNumbers!==!1)?C:bc(y,C,a);C!=null&&(f=!1)}}return{row:p,isempty:f}}function iP(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof d){case"string":l=Cr(d);break;case"number":l=Cr(e["!ref"]),l.s.r=d;break;default:l=d}r>0&&(i=0);var f=Ii(l.s.r),p=[],m=[],y=0,C=0,b=Array.isArray(e),x=l.s.r,R=0,E={};b&&!e[x]&&(e[x]=[]);var F=c.skipHidden&&e["!cols"]||[],I=c.skipHidden&&e["!rows"]||[];for(R=l.s.c;R<=l.e.c;++R)if(!(F[R]||{}).hidden)switch(p[R]=Jr(R),n=b?e[x][R]:e[p[R]+f],r){case 1:s[R]=R-l.s.c;break;case 2:s[R]=p[R];break;case 3:s[R]=c.header[R-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=bc(n,null,c),C=E[o]||0,!C)E[o]=1;else{do a=o+"_"+C++;while(E[a]);E[o]=C,E[a]=1}s[R]=a}for(x=l.s.r+i;x<=l.e.r;++x)if(!(I[x]||{}).hidden){var _=C3e(e,l,x,p,r,s,b,c);(_.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=_.row)}return m.length=y,m}var DG=/"/g;function w3e(e,t,n,r,i,s,o,a){for(var l=!0,c=[],d="",f=Ii(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=a.dense?(e[n]||[])[p]:e[r[p]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(a.rawNumbers&&m.t=="n"?m.v:bc(m,null,a));for(var y=0,C=0;y!==d.length;++y)if((C=d.charCodeAt(y))===i||C===s||C===34||a.forceQuotes){d='"'+d.replace(DG,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(DG,'""')+'"')):d="";c.push(d)}return a.blankrows===!1&&l?null:c.join(o)}function JY(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=Cr(e["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(p[y]||{}).hidden||(f[y]=Jr(y));for(var C=0,b=i.s.r;b<=i.e.r;++b)(m[b]||{}).hidden||(d=w3e(e,i,b,f,o,l,s,r),d!=null&&(r.strip&&(d=d.replace(c,"")),(d||r.blankrows!==!1)&&n.push((C++?a:"")+d)));return delete r.dense,n.join("")}function b3e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=JY(e,t);return n}function S3e(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=Cr(e["!ref"]),s="",o=[],a,l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=Jr(a);for(var d=i.s.r;d<=i.e.r;++d)for(s=Ii(d),a=i.s.c;a<=i.e.c;++a)if(t=o[a]+s,n=c?(e[d]||[])[a]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function eX(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?hs(r.origin):r.origin;o=l.r,a=l.c}var c,d={s:{c:0,r:0},e:{c:a,r:o+t.length-1+i}};if(s["!ref"]){var f=Cr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+i)}else o==-1&&(o=0,d.e.r=t.length-1+i);var p=r.header||[],m=0;t.forEach(function(C,b){bl(C).forEach(function(x){(m=p.indexOf(x))==-1&&(p[m=p.length]=x);var R=C[x],E="z",F="",I=jt({c:a+m,r:o+b+i});c=ey(s,I),R&&typeof R=="object"&&!(R instanceof Date)?s[I]=R:(typeof R=="number"?E="n":typeof R=="boolean"?E="b":typeof R=="string"?E="s":R instanceof Date?(E="d",r.cellDates||(E="n",R=vs(R)),F=r.dateNF||Wt[14]):R===null&&r.nullError&&(E="e",R=0),c?(c.t=E,c.v=R,delete c.w,delete c.R,F&&(c.z=F)):s[I]=c={t:E,v:R},F&&(c.z=F))})}),d.e.c=Math.max(d.e.c,a+p.length-1);var y=Ii(o);if(i)for(m=0;m<p.length;++m)s[Jr(m+a)+y]={t:"s",v:p[m]};return s["!ref"]=mn(d),s}function x3e(e,t){return eX(null,e,t)}function ey(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=hs(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ey(e,jt(t)):ey(e,jt({r:t,c:n||0}))}function E3e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dM(){return{SheetNames:[],Sheets:{}}}function hM(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(lVe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function T3e(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=E3e(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function R3e(e,t){return e.z=t,e}function tX(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function A3e(e,t,n){return tX(e,"#"+t,n)}function _3e(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function D3e(e,t,n,r){for(var i=typeof t!="string"?t:Cr(t),s=typeof t=="string"?t:mn(t),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=ey(e,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=n,r&&(l.D=!0))}return e}var P3e={encode_col:Jr,encode_row:Ii,encode_cell:jt,encode_range:mn,decode_col:QI,decode_row:XI,split_cell:GMe,decode_cell:hs,decode_range:Lg,format_cell:bc,sheet_add_aoa:sY,sheet_add_json:eX,sheet_add_dom:YY,aoa_to_sheet:Ng,json_to_sheet:x3e,table_to_sheet:XY,table_to_book:$Ve,sheet_to_csv:JY,sheet_to_txt:b3e,sheet_to_json:iP,sheet_to_html:WVe,sheet_to_formulae:S3e,sheet_to_row_object_array:iP,sheet_get_cell:ey,book_new:dM,book_append_sheet:hM,book_set_sheet_visibility:T3e,cell_set_number_format:R3e,cell_set_hyperlink:tX,cell_set_internal_link:A3e,cell_add_comment:_3e,sheet_set_array_formula:D3e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const F3e=()=>{const[e,t]=T.useState(!1),n=async r=>{const i=r.target.files?.[0];if(i){t(!0);try{const s=await i.arrayBuffer(),o=rP(s),a=o.SheetNames[0],l=o.Sheets[a],c=P3e.sheet_to_json(l);for(const d of c){const f=d.nombre||d.Nombre,p=d.usuario||d.Usuario;if(!f||!p){yn.error("Faltan datos en alguna fila (nombre o usuario)");continue}const m=p.includes("@")?p:`${p}@mail.com`,y={name:f,email:m,role:Kn.STUDENT,id:""};await t7(y)}yn.success("Usuarios importados correctamente")}catch(s){console.error(s),yn.error("Error al importar usuarios")}finally{t(!1)}}};return M.jsx("div",{children:M.jsxs(vr,{variant:"outline-primary",as:"label",htmlFor:"fileUpload",disabled:e,className:"d-flex align-items-center gap-2",children:[e?M.jsxs(M.Fragment,{children:[M.jsx(Ko,{animation:"border",size:"sm"})," Importando..."]}):M.jsxs(M.Fragment,{children:[M.jsx(Lle,{size:16}),"Importar Usuarios"]}),M.jsx("input",{type:"file",id:"fileUpload",accept:".xlsx, .xls",onChange:n,hidden:!0})]})})},k3e=()=>{const{showForm:e,setShowForm:t}=VI();return M.jsxs("div",{children:[M.jsxs("div",{className:"d-flex gap-2 mb-3",children:[M.jsxs(vr,{variant:"outline-success",onClick:()=>t(!0),children:[M.jsx(Ly,{size:16,className:"me-2"}),"Agregar Usuario"]}),M.jsx(F3e,{})]}),M.jsx(AIe,{}),e&&M.jsxs(sr,{show:e,onHide:()=>t(!1),children:[M.jsx(sr.Header,{closeButton:!0,children:M.jsx(sr.Title,{children:"Agregar Usuario"})}),M.jsx(sr.Body,{children:M.jsx(_Ie,{onSubmit:t7})})]}),M.jsx(u7,{})]})};function as(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I3e=typeof Symbol=="function"&&Symbol.observable||"@@observable",PG=I3e,FG=()=>Math.random().toString(36).substring(7).split("").join("."),M3e={INIT:`@@redux/INIT${FG()}`,REPLACE:`@@redux/REPLACE${FG()}`},kG=M3e;function O3e(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function nX(e,t,n){if(typeof e!="function")throw new Error(as(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(as(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(as(1));return n(nX)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((b,x)=>{o.set(x,b)}))}function d(){if(l)throw new Error(as(3));return i}function f(b){if(typeof b!="function")throw new Error(as(4));if(l)throw new Error(as(5));let x=!0;c();const R=a++;return o.set(R,b),function(){if(x){if(l)throw new Error(as(6));x=!1,c(),o.delete(R),s=null}}}function p(b){if(!O3e(b))throw new Error(as(7));if(typeof b.type>"u")throw new Error(as(8));if(typeof b.type!="string")throw new Error(as(17));if(l)throw new Error(as(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=o).forEach(R=>{R()}),b}function m(b){if(typeof b!="function")throw new Error(as(10));r=b,p({type:kG.REPLACE})}function y(){const b=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(as(11));function R(){const F=x;F.next&&F.next(d())}return R(),{unsubscribe:b(R)}},[PG](){return this}}}return p({type:kG.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[PG]:y}}function IG(e,t){return function(...n){return t(e.apply(this,n))}}function MG(e,t){if(typeof e=="function")return IG(e,t);if(typeof e!="object"||e===null)throw new Error(as(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=IG(i,t))}return n}function rX(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function L3e(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(as(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(o));return s=rX(...a)(i.dispatch),{...i,dispatch:s}}}var kA={exports:{}},IA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OG;function N3e(){if(OG)return IA;OG=1;var e=jx();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return IA.useSyncExternalStoreWithSelector=function(l,c,d,f,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=o(function(){function b(I){if(!x){if(x=!0,R=I,I=f(I),p!==void 0&&y.hasValue){var _=y.value;if(p(_,I))return E=_}return E=I}if(_=E,n(R,I))return _;var D=f(I);return p!==void 0&&p(_,D)?(R=I,_):(R=I,E=D)}var x=!1,R,E,F=d===void 0?null:d;return[function(){return b(c())},F===null?void 0:function(){return b(F())}]},[c,d,f,p]);var C=r(l,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=C},[C]),a(C),C},IA}var LG;function B3e(){return LG||(LG=1,kA.exports=N3e()),kA.exports}B3e();var V3e=T.version.startsWith("19"),H3e=Symbol.for(V3e?"react.transitional.element":"react.element"),G3e=Symbol.for("react.portal"),U3e=Symbol.for("react.fragment"),z3e=Symbol.for("react.strict_mode"),j3e=Symbol.for("react.profiler"),W3e=Symbol.for("react.consumer"),$3e=Symbol.for("react.context"),iX=Symbol.for("react.forward_ref"),q3e=Symbol.for("react.suspense"),K3e=Symbol.for("react.suspense_list"),fM=Symbol.for("react.memo"),Y3e=Symbol.for("react.lazy"),X3e=iX,Q3e=fM;function Z3e(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case H3e:switch(e=e.type,e){case U3e:case j3e:case z3e:case q3e:case K3e:return e;default:switch(e=e&&e.$$typeof,e){case $3e:case iX:case Y3e:case fM:return e;case W3e:return e;default:return t}}case G3e:return t}}}function J3e(e){return Z3e(e)===fM}function eHe(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,c,d,f,p;function m(R,E){return l=R,c=E,d=e(l,c),f=t(r,c),p=n(d,f,c),a=!0,p}function y(){return d=e(l,c),t.dependsOnOwnProps&&(f=t(r,c)),p=n(d,f,c),p}function C(){return e.dependsOnOwnProps&&(d=e(l,c)),t.dependsOnOwnProps&&(f=t(r,c)),p=n(d,f,c),p}function b(){const R=e(l,c),E=!o(R,d);return d=R,E&&(p=n(d,f,c)),p}function x(R,E){const F=!s(E,c),I=!i(R,l,E,c);return l=R,c=E,F&&I?y():F?C():I?b():p}return function(E,F){return a?x(E,F):m(E,F)}}function tHe(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),o=n(e,i),a=r(e,i);return eHe(s,o,a,e,i)}function nHe(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function sP(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function NG(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function sX(e,t){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=NG(e);let c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=NG(c),c=s(a,l)),c},s}}function pM(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function rHe(e){return e&&typeof e=="object"?sP(t=>nHe(e,t)):e?typeof e=="function"?sX(e):pM(e,"mapDispatchToProps"):sP(t=>({dispatch:t}))}function iHe(e){return e?typeof e=="function"?sX(e):pM(e,"mapStateToProps"):sP(()=>({}))}function sHe(e,t,n){return{...n,...e,...t}}function oHe(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,c,d){const f=e(l,c,d);return s?i(f,o)||(o=f):(s=!0,o=f),o}}}function aHe(e){return e?typeof e=="function"?oHe(e):pM(e,"mergeProps"):()=>sHe}function lHe(e){e()}function cHe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lHe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var BG={notify(){},get:()=>[]};function oX(e,t){let n,r=BG,i=0,s=!1;function o(C){d();const b=r.subscribe(C);let x=!1;return()=>{x||(x=!0,b(),f())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return s}function d(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=cHe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=BG)}function p(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return y}var uHe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dHe=uHe(),hHe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fHe=hHe(),pHe=()=>dHe||fHe?T.useLayoutEffect:T.useEffect,_x=pHe();function VG(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function MA(e,t){if(VG(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!VG(e[n[i]],t[n[i]]))return!1;return!0}var gHe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mHe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vHe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},aX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yHe={[X3e]:vHe,[Q3e]:aX};function HG(e){return J3e(e)?aX:yHe[e.$$typeof]||gHe}var CHe=Object.defineProperty,wHe=Object.getOwnPropertyNames,GG=Object.getOwnPropertySymbols,bHe=Object.getOwnPropertyDescriptor,SHe=Object.getPrototypeOf,UG=Object.prototype;function oP(e,t){if(typeof t!="string"){if(UG){const s=SHe(t);s&&s!==UG&&oP(e,s)}let n=wHe(t);GG&&(n=n.concat(GG(t)));const r=HG(e),i=HG(t);for(let s=0;s<n.length;++s){const o=n[s];if(!mHe[o]&&!(i&&i[o])&&!(r&&r[o])){const a=bHe(t,o);try{CHe(e,o,a)}catch{}}}}return e}var xHe=Symbol.for("react-redux-context"),EHe=typeof globalThis<"u"?globalThis:{};function THe(){if(!T.createContext)return{};const e=EHe[xHe]??=new Map;let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var lX=THe(),RHe=[null,null];function AHe(e,t,n){_x(()=>e(...t),n)}function _He(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function DHe(e,t,n,r,i,s,o,a,l,c,d){if(!e)return()=>{};let f=!1,p=null;const m=()=>{if(f||!a.current)return;const C=t.getState();let b,x;try{b=r(C,i.current)}catch(R){x=R,p=R}x||(p=null),b===s.current?o.current||c():(s.current=b,l.current=b,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function PHe(e,t){return e===t}function FHe(e,t,n,{pure:r,areStatesEqual:i=PHe,areOwnPropsEqual:s=MA,areStatePropsEqual:o=MA,areMergedPropsEqual:a=MA,forwardRef:l=!1,context:c=lX}={}){const d=c,f=iHe(e),p=rHe(t),m=aHe(n),y=!!e;return b=>{const x=b.displayName||b.name||"Component",R=`Connect(${x})`,E={shouldHandleStateChanges:y,displayName:R,wrappedComponentName:x,WrappedComponent:b,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function F(D){const[P,k,B]=T.useMemo(()=>{const{reactReduxForwardedRef:re,...bt}=D;return[D.context,re,bt]},[D]),N=T.useMemo(()=>{let re=d;return P?.Consumer,re},[P,d]),V=T.useContext(N),G=!!D.store&&!!D.store.getState&&!!D.store.dispatch,oe=!!V&&!!V.store,le=G?D.store:V.store,J=oe?V.getServerState:le.getState,se=T.useMemo(()=>tHe(le.dispatch,E),[le]),[he,ne]=T.useMemo(()=>{if(!y)return RHe;const re=oX(le,G?void 0:V.subscription),bt=re.notifyNestedSubs.bind(re);return[re,bt]},[le,G,V]),L=T.useMemo(()=>G?V:{...V,subscription:he},[G,V,he]),ae=T.useRef(void 0),W=T.useRef(B),H=T.useRef(void 0),X=T.useRef(!1),ie=T.useRef(!1),fe=T.useRef(void 0);_x(()=>(ie.current=!0,()=>{ie.current=!1}),[]);const Be=T.useMemo(()=>()=>H.current&&B===W.current?H.current:se(le.getState(),B),[le,B]),Ne=T.useMemo(()=>bt=>he?DHe(y,le,he,se,W,ae,X,ie,H,ne,bt):()=>{},[he]);AHe(_He,[W,ae,X,B,H,ne]);let Ie;try{Ie=T.useSyncExternalStore(Ne,Be,J?()=>se(J(),B):Be)}catch(re){throw fe.current&&(re.message+=`
The error may be correlated with this previous error:
${fe.current.stack}

`),re}_x(()=>{fe.current=void 0,H.current=void 0,ae.current=Ie});const Fe=T.useMemo(()=>T.createElement(b,{...Ie,ref:k}),[k,b,Ie]);return T.useMemo(()=>y?T.createElement(N.Provider,{value:L},Fe):Fe,[N,Fe,L])}const _=T.memo(F);if(_.WrappedComponent=b,_.displayName=F.displayName=R,l){const P=T.forwardRef(function(B,N){return T.createElement(_,{...B,reactReduxForwardedRef:N})});return P.displayName=R,P.WrappedComponent=b,oP(P,b)}return oP(_,b)}}var cX=FHe;function kHe(e){const{children:t,context:n,serverState:r,store:i}=e,s=T.useMemo(()=>{const l=oX(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);_x(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||lX;return T.createElement(a.Provider,{value:s},t)}var IHe=kHe,MHe="Invariant failed";function OHe(e,t){throw new Error(MHe)}var pa=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},gM=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},zG=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},LHe=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},OA={top:0,right:0,bottom:0,left:0},mM=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?OA:r,s=t.border,o=s===void 0?OA:s,a=t.padding,l=a===void 0?OA:a,c=pa(gM(n,i)),d=pa(zG(n,o)),f=pa(zG(d,l));return{marginBox:c,borderBox:pa(n),paddingBox:d,contentBox:f,margin:i,border:o,padding:l}},_o=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&OHe(),i},NHe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Dx=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,a=LHe(r,n);return mM({borderBox:a,border:i,margin:s,padding:o})},Px=function(t,n){return n===void 0&&(n=NHe()),Dx(t,n)},uX=function(t,n){var r={top:_o(n.marginTop),right:_o(n.marginRight),bottom:_o(n.marginBottom),left:_o(n.marginLeft)},i={top:_o(n.paddingTop),right:_o(n.paddingRight),bottom:_o(n.paddingBottom),left:_o(n.paddingLeft)},s={top:_o(n.borderTopWidth),right:_o(n.borderRightWidth),bottom:_o(n.borderBottomWidth),left:_o(n.borderLeftWidth)};return mM({borderBox:t,margin:r,padding:i,border:s})},dX=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return uX(n,r)},ty=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function hX(e,t){}hX.bind(null,"warn");hX.bind(null,"error");function Pu(){}function BHe(e,t){return{...e,...t}}function Go(e,t,n){const r=t.map(i=>{const s=BHe(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const VHe="Invariant failed";class Fx extends Error{}Fx.prototype.toString=function(){return this.message};function st(e,t){throw new Fx(VHe)}class HHe extends ue.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Pu,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Fx&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Go(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Fx){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const GHe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,kx=e=>e+1,UHe=e=>`
  You have lifted an item in position ${kx(e.source.index)}
`,fX=(e,t)=>{const n=e.droppableId===t.droppableId,r=kx(e.index),i=kx(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},pX=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,zHe=e=>{const t=e.destination;if(t)return fX(e.source,t);const n=e.combine;return n?pX(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},jG=e=>`
  The item has returned to its starting position
  of ${kx(e.index)}
`,jHe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${jG(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${fX(e.source,t)}
    `:n?`
      You have dropped the item.
      ${pX(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${jG(e.source)}
  `},oS={dragHandleUsageInstructions:GHe,onDragStart:UHe,onDragUpdate:zHe,onDragEnd:jHe};function WHe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function gX(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!WHe(e[n],t[n]))return!1;return!0}function gn(e,t){const n=T.useState(()=>({inputs:t,result:e()}))[0],r=T.useRef(!0),i=T.useRef(n),o=r.current||!!(t&&i.current.inputs&&gX(t,i.current.inputs))?i.current:{inputs:t,result:e()};return T.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function xt(e,t){return gn(()=>e,t)}const mi={x:0,y:0},Pi=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),no=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Fu=(e,t)=>e.x===t.x&&e.y===t.y,Bg=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Lh=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},ny=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),WG=(e,t)=>Math.min(...t.map(n=>ny(e,n))),mX=e=>t=>({x:e(t.x),y:e(t.y)});var $He=(e,t)=>{const n=pa({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const hC=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),$G=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],qHe={top:0,right:0,bottom:0,left:0},KHe=(e,t)=>t?hC(e,t.scroll.diff.displacement):e,YHe=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,XHe=(e,t)=>t&&t.shouldClipSubject?$He(t.pageMarginBox,e):pa(e);var dg=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=KHe(e.marginBox,r),s=YHe(i,n,t),o=XHe(s,r);return{page:e,withPlaceholder:t,active:o}},vM=(e,t)=>{e.frame||st();const n=e.frame,r=no(t,n.scroll.initial),i=Bg(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=dg({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function pi(e,t=gX){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const vX=pi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),yX=pi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),eE=pi(e=>Object.values(e)),QHe=pi(e=>Object.values(e));var Vg=pi((e,t)=>QHe(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function yM(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function tE(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var nE=pi((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),ZHe=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!yM(i))return null;function o(m){const y={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:y}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const c=nE(t,r);if(!l){if(!c.length)return null;const m=c[c.length-1];return o(m.descriptor.id)}const d=c.findIndex(m=>m.descriptor.id===l);d===-1&&st();const f=d-1;if(f<0)return null;const p=c[f];return o(p.descriptor.id)},Hg=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const CX={point:mi,value:0},ry={invisible:{},visible:{},all:[]},JHe={displaced:ry,displacedBy:CX,at:null};var zo=(e,t)=>n=>e<=n&&n<=t,wX=e=>{const t=zo(e.top,e.bottom),n=zo(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return l&&c?!0:l&&o||c&&s}},eGe=e=>{const t=zo(e.top,e.bottom),n=zo(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const CM={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},bX={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var tGe=e=>t=>{const n=zo(t.top,t.bottom),r=zo(t.left,t.right);return i=>e===CM?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const nGe=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:mi;return hC(e,n)},rGe=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,iGe=(e,t,n)=>n(t)(e),wM=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?nGe(e,t):e;return rGe(s,t,i)&&iGe(s,n,i)},sGe=e=>wM({...e,isVisibleThroughFrameFn:wX}),SX=e=>wM({...e,isVisibleThroughFrameFn:eGe}),oGe=e=>wM({...e,isVisibleThroughFrameFn:tGe(e.destination.axis)}),aGe=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const s=i[e];return s?s.shouldAnimate:!0};function lGe(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pa(gM(n,r))}function iy({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return e.reduce(function(a,l){const c=lGe(l,n),d=l.descriptor.id;if(a.all.push(d),!sGe({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const p=aGe(d,s,i),m={draggableId:d,shouldAnimate:p};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function cGe(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function qG({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=cGe(e,{inHomeList:t});return{displaced:ry,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Ix({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=Hg(e,n);if(o==null)return qG({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const c=t.find(y=>y.descriptor.index===o);if(!c)return qG({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const d=nE(e,t),f=t.indexOf(c),p=d.slice(f);return{displaced:iy({afterDragging:p,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function $u(e,t){return!!t.effected[e]}var uGe=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return $u(s,i)?e?a:a-1:e?a+1:a},dGe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=e?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return s<o||s>l?null:s},hGe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||st(),c.type==="REORDER"){const f=dGe({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:s});return f==null?null:Ix({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:f})}const d=uGe({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:c.combine,afterCritical:l});return d==null?null:Ix({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})},fGe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return $u(n,t)?i?mi:Bg(r.point):i?r.point:mi},pGe=({afterCritical:e,impact:t,draggables:n})=>{const r=tE(t);r||st();const i=r.draggableId,s=n[i].page.borderBox.center,o=fGe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Pi(s,o)};const xX=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,gGe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,bM=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,KG=({axis:e,moveRelativeTo:t,isMoving:n})=>Lh(e.line,t.marginBox[e.end]+xX(e,n),bM(e,t.marginBox,n)),YG=({axis:e,moveRelativeTo:t,isMoving:n})=>Lh(e.line,t.marginBox[e.start]-gGe(e,n),bM(e,t.marginBox,n)),mGe=({axis:e,moveInto:t,isMoving:n})=>Lh(e.line,t.contentBox[e.start]+xX(e,n),bM(e,t.contentBox,n));var vGe=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const s=Vg(r.descriptor.id,n),o=t.page,a=r.axis;if(!s.length)return mGe({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:c}=e,d=l.all[0];if(d){const p=n[d];if($u(d,i))return YG({axis:a,moveRelativeTo:p.page,isMoving:o});const m=Dx(p.page,c.point);return YG({axis:a,moveRelativeTo:m,isMoving:o})}const f=s[s.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if($u(f.descriptor.id,i)){const p=Dx(f.page,Bg(i.displacedBy.point));return KG({axis:a,moveRelativeTo:p,isMoving:o})}return KG({axis:a,moveRelativeTo:f.page,isMoving:o})},aP=(e,t)=>{const n=e.frame;return n?Pi(t,n.scroll.diff.displacement):t};const yGe=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?vGe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):pGe({impact:e,draggables:r,afterCritical:i})};var rE=e=>{const t=yGe(e),n=e.droppable;return n?aP(n,t):t},EX=(e,t)=>{const n=no(t,e.scroll.initial),r=Bg(n);return{frame:pa({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function XG(e,t){return e.map(n=>t[n])}function CGe(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var wGe=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const s=EX(t,Pi(t.scroll.current,i)),o=n.frame?vM(n,Pi(n.frame.scroll.current,i)):n,a=e.displaced,l=iy({afterDragging:XG(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=iy({afterDragging:XG(a.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),d={},f={},p=[a,l,c];return a.all.forEach(y=>{const C=CGe(y,p);if(C){f[y]=C;return}d[y]=!0}),{...e,displaced:{all:a.all,invisible:d,visible:f}}},bGe=(e,t)=>Pi(e.scroll.diff.displacement,t),SM=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=bGe(n,e),i=no(r,t.page.borderBox.center);return Pi(t.client.borderBox.center,i)},TX=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=no(n,e.page.borderBox.center),l={target:hC(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return s?oGe(l):SX(l)},SGe=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=Vg(n.descriptor.id,r),d=Hg(t,n),f=ZHe({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:i})||hGe({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:s,afterCritical:l});if(!f)return null;const p=rE({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:l});if(TX({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:SM({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:f,scrollJumpRequest:null};const y=no(p,o),C=wGe({impact:f,viewport:s,destination:n,draggables:r,maxScrollChange:y});return{clientSelection:a,impact:C,scrollJumpRequest:y}};const os=e=>{const t=e.subject.active;return t||st(),t};var xGe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=zo(s[o.start],s[o.end]),l=eE(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>wX(i.frame)(os(d))).filter(d=>{const f=os(d);return e?s[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<s[o.crossAxisStart]}).filter(d=>{const f=os(d),p=zo(f[o.start],f[o.end]);return a(f[o.start])||a(f[o.end])||p(s[o.start])||p(s[o.end])}).sort((d,f)=>{const p=os(d)[o.crossAxisStart],m=os(f)[o.crossAxisStart];return e?p-m:m-p}).filter((d,f,p)=>os(d)[o.crossAxisStart]===os(p[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(d=>zo(os(d)[o.start],os(d)[o.end])(t[o.line]));return c.length===1?c[0]:c.length>1?c.sort((d,f)=>os(d)[o.start]-os(f)[o.start])[0]:l.sort((d,f)=>{const p=WG(t,$G(os(d))),m=WG(t,$G(os(f)));return p!==m?p-m:os(d)[o.start]-os(f)[o.start]})[0]};const QG=(e,t)=>{const n=e.page.borderBox.center;return $u(e.descriptor.id,t)?no(n,t.displacedBy.point):n},EGe=(e,t)=>{const n=e.page.borderBox;return $u(e.descriptor.id,t)?hC(n,Bg(t.displacedBy.point)):n};var TGe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>SX({target:EGe(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=ny(e,aP(n,QG(o,i))),c=ny(e,aP(n,QG(a,i)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,fC=pi(function(t,n){const r=n[t.line];return{value:r,point:Lh(t.line,r)}});const RGe=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Lh(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=Vg(e.descriptor.id,n).reduce((c,d)=>c+d.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:Lh(r.line,l)},RX=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),AX=(e,t,n)=>{const r=e.frame;Hg(t,e)&&st(),e.subject.withPlaceholder&&st();const i=fC(e.axis,t.displaceBy).point,s=RGe(e,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=dg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:d}}const a=s?Pi(r.scroll.max,s):r.scroll.max,l=RX(r,a),c=dg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},AGe=e=>{const t=e.subject.withPlaceholder;t||st();const n=e.frame;if(!n){const o=dg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||st();const i=RX(n,r),s=dg({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:s,frame:i}};var _Ge=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!t){if(n.length)return null;const f={displaced:ry,displacedBy:CX,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=rE({impact:f,draggable:r,droppable:s,draggables:i,afterCritical:a}),m=Hg(r,s)?s:AX(s,r,i);return TX({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],c=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?f:f+1})(),d=fC(s.axis,r.displaceBy);return Ix({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:d,last:ry,index:c})},DGe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=xGe({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:o});if(!l)return null;const c=Vg(l.descriptor.id,i),d=TGe({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:c,afterCritical:a}),f=_Ge({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:c,viewport:o,afterCritical:a});if(!f)return null;const p=rE({impact:f,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:SM({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null}},ao=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const PGe=(e,t)=>{const n=ao(e);return n?t[n]:null};var FGe=({state:e,type:t})=>{const n=PGe(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:f,droppables:p}=e.dimensions;return a?SGe({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):DGe({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Hd(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function _X(e){const t=zo(e.top,e.bottom),n=zo(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function kGe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function IGe({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=Lh(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:ny(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function MGe({pageBorderBox:e,draggable:t,droppables:n}){const r=eE(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!kGe(e,s))return!1;if(_X(s)(e.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=e[o.crossAxisStart],c=e[o.crossAxisEnd],d=zo(s[o.crossAxisStart],s[o.crossAxisEnd]),f=d(l),p=d(c);return!f&&!p?!0:f?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:IGe({pageBorderBox:e,draggable:t,candidates:r}):null}const DX=(e,t)=>pa(hC(e,t));var OGe=(e,t)=>{const n=e.frame;return n?DX(t,n.scroll.diff.value):t};function PX({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function LGe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var NGe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=fC(n.axis,t.displaceBy),c=l.value,d=e[a.start],f=e[a.end],m=nE(t,r).find(C=>{const b=C.descriptor.id,x=C.page.borderBox.center[a.line],R=$u(b,o),E=PX({displaced:i,id:b});return R?E?f<=x:d<x-c:E?f<=x+c:d<x})||null,y=LGe({draggable:t,closest:m,inHomeList:Hg(t,n)});return Ix({draggable:t,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:y})};const BGe=4;var VGe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=fC(r.axis,e.displaceBy),l=a.value,c=t[o.start],d=t[o.end],p=nE(e,i).find(y=>{const C=y.descriptor.id,b=y.page.borderBox,R=b[o.size]/BGe,E=$u(C,s),F=PX({displaced:n.displaced,id:C});return E?F?d>b[o.start]+R&&d<b[o.end]-R:c>b[o.start]-l+R&&c<b[o.end]-l-R:F?d>b[o.start]+l+R&&d<b[o.end]+l-R:c>b[o.start]+R&&c<b[o.end]-R});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},FX=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=DX(t.page.borderBox,e),l=MGe({pageBorderBox:a,draggable:t,droppables:r});if(!l)return JHe;const c=r[l],d=Vg(c.descriptor.id,n),f=OGe(c,a);return VGe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:i,destination:c,insideDestination:d,afterCritical:o})||NGe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:c,insideDestination:d,last:i.displaced,viewport:s,afterCritical:o})},xM=(e,t)=>({...e,[t.descriptor.id]:t});const HGe=({previousImpact:e,impact:t,droppables:n})=>{const r=ao(e),i=ao(t);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=AGe(s);return xM(n,o)};var GGe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const s=HGe({previousImpact:r,impact:i,droppables:n}),o=ao(i);if(!o)return s;const a=n[o];if(Hg(e,a)||a.subject.withPlaceholder)return s;const l=AX(a,e,t);return xM(s,l)},tv=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=no(l,e.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:Pi(e.initial.client.borderBoxCenter,c)},f={selection:Pi(d.selection,o.scroll.current),borderBoxCenter:Pi(d.borderBoxCenter,o.scroll.current),offset:Pi(d.offset,o.scroll.diff.value)},p={client:d,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:p};const m=a.draggables[e.critical.draggable.id],y=i||FX({pageOffset:f.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),C=GGe({draggable:m,impact:y,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:C},impact:y,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function UGe(e,t){return e.map(n=>t[n])}var kX=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=e.displaced,o=UGe(s.all,n),a=iy({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:s});return{...e,displaced:a}},IX=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=rE({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return SM({pageBorderBoxCenter:o,draggable:t,viewport:i})},MX=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&st();const r=e.impact,i=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:a}=s,l=o[e.critical.draggable.id],c=ao(r);c||st();const d=a[c],f=kX({impact:r,viewport:i,destination:d,draggables:o}),p=IX({impact:f,draggable:l,droppable:d,draggables:o,viewport:i,afterCritical:e.afterCritical});return tv({impact:f,clientSelection:p,state:e,dimensions:s,viewport:i})},zGe=e=>({index:e.index,droppableId:e.droppableId}),OX=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=fC(t.axis,e.displaceBy),s=Vg(t.descriptor.id,n),o=s.indexOf(e);o===-1&&st();const a=s.slice(o+1),l=a.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:iy({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:zGe(e.descriptor)}},afterCritical:c}},jGe=(e,t)=>({draggables:e.draggables,droppables:xM(e.droppables,t)}),WGe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Dx(e.client,t),i=Px(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},$Ge=e=>{const t=e.frame;return t||st(),t},qGe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const s=i.descriptor.droppableId,o=t[s],l=$Ge(o).scroll.diff.value,c=Pi(r,l);return WGe({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},KGe=({state:e,published:t})=>{const n=t.modified.map(x=>{const R=e.dimensions.droppables[x.droppableId];return vM(R,x.scroll)}),r={...e.dimensions.droppables,...vX(n)},i=yX(qGe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...i};t.removals.forEach(x=>{delete s[x]});const o={droppables:r,draggables:s},a=ao(e.impact),l=a?o.droppables[a]:null,c=o.draggables[e.critical.draggable.id],d=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:p}=OX({draggable:c,home:d,draggables:s,viewport:e.viewport}),m=l&&l.isCombineEnabled?e.impact:f,y=FX({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),C={...e,phase:"DRAGGING",impact:y,onLiftImpact:f,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?C:{...C,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const lP=e=>e.movementMode==="SNAP",LA=(e,t,n)=>{const r=jGe(e.dimensions,t);return!lP(e)||n?tv({state:e,dimensions:r}):MX({state:e,dimensions:r})};function NA(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const ZG={phase:"IDLE",completed:null,shouldFlush:!1};var YGe=(e=ZG,t)=>{if(t.type==="FLUSH")return{...ZG,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&st();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:mi},d={client:c,page:{selection:Pi(c.selection,i.scroll.initial),borderBoxCenter:Pi(c.selection,i.scroll.initial),offset:Pi(c.selection,i.scroll.diff.value)}},f=eE(s.droppables).every(C=>!C.isFixedOnPage),{impact:p,afterCritical:m}=OX({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&st(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||st(),KGe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Hd(e)||st();const{client:n}=t.payload;return Fu(n,e.current.client.selection)?e:tv({state:e,clientSelection:n,impact:lP(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return NA(e);Hd(e)||st();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const s=vM(i,r);return LA(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hd(e)||st();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||st(),i.isEnabled===r&&st();const s={...i,isEnabled:r};return LA(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hd(e)||st();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||st(),i.isCombineEnabled===r&&st();const s={...i,isCombineEnabled:r};return LA(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Hd(e)||st(),e.isWindowScrollAllowed||st();const n=t.payload.newScroll;if(Fu(e.viewport.scroll.current,n))return NA(e);const r=EX(e.viewport,n);return lP(e)?MX({state:e,viewport:r}):tv({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Hd(e))return e;const n=t.payload.maxScroll;if(Fu(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&st();const n=FGe({state:e,type:t.type});return n?tv({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&st(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||st(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function In(e,t){return e instanceof Object&&"type"in e&&e.type===t}const XGe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),QGe=e=>({type:"LIFT",payload:e}),ZGe=e=>({type:"INITIAL_PUBLISH",payload:e}),JGe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),e6e=()=>({type:"COLLECTION_STARTING",payload:null}),t6e=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),n6e=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),r6e=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),LX=e=>({type:"MOVE",payload:e}),i6e=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),s6e=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),o6e=()=>({type:"MOVE_UP",payload:null}),a6e=()=>({type:"MOVE_DOWN",payload:null}),l6e=()=>({type:"MOVE_RIGHT",payload:null}),c6e=()=>({type:"MOVE_LEFT",payload:null}),EM=()=>({type:"FLUSH",payload:null}),u6e=e=>({type:"DROP_ANIMATE",payload:e}),TM=e=>({type:"DROP_COMPLETE",payload:e}),NX=e=>({type:"DROP",payload:e}),d6e=e=>({type:"DROP_PENDING",payload:e}),BX=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var h6e=e=>({getState:t,dispatch:n})=>r=>i=>{if(!In(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(TM({completed:l.completed})),t().phase!=="IDLE"&&st(),n(EM()),n(XGe({draggableId:s,movementMode:a}));const d={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:p,viewport:m}=e.startPublishing(d);n(ZGe({critical:f,dimensions:p,clientSelection:o,movementMode:a,viewport:m}))},f6e=e=>()=>t=>n=>{In(n,"INITIAL_PUBLISH")&&e.dragging(),In(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(In(n,"FLUSH")||In(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const RM={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},sy={opacity:{drop:0,combining:.7},scale:{drop:.75}},VX={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Md=`${VX.outOfTheWay}s ${RM.outOfTheWay}`,nv={fluid:`opacity ${Md}`,snap:`transform ${Md}, opacity ${Md}`,drop:e=>{const t=`${e}s ${RM.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Md}`,placeholder:`height ${Md}, width ${Md}, margin ${Md}`},JG=e=>Fu(e,mi)?void 0:`translate(${e.x}px, ${e.y}px)`,cP={moveTo:JG,drop:(e,t)=>{const n=JG(e);if(n)return t?`${n} scale(${sy.scale.drop})`:n}},{minDropTime:uP,maxDropTime:HX}=VX,p6e=HX-uP,e6=1500,g6e=.6;var m6e=({current:e,destination:t,reason:n})=>{const r=ny(e,t);if(r<=0)return uP;if(r>=e6)return HX;const i=r/e6,s=uP+p6e*i,o=n==="CANCEL"?s*g6e:s;return Number(o.toFixed(2))},v6e=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=ao(e),l=a?o[a]:null,c=o[t.descriptor.droppableId],d=IX({impact:e,draggable:t,draggables:s,afterCritical:i,droppable:l||c,viewport:r});return no(d,t.client.borderBox.center)},y6e=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:kX({draggables:e,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ry},didDropInsideDroppable:!0};const C6e=({getState:e,dispatch:t})=>n=>r=>{if(!In(r,"DROP")){n(r);return}const i=e(),s=r.payload.reason;if(i.phase==="COLLECTING"){t(d6e({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&st(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||st();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=y6e({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=f?yM(d):null,m=f?tE(d):null,y={index:a.draggable.index,droppableId:a.droppable.id},C={draggableId:c.descriptor.id,type:c.descriptor.type,source:y,reason:s,mode:i.movementMode,destination:p,combine:m},b=v6e({impact:d,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:C,impact:d};if(!(!Fu(i.current.client.offset,b)||!!C.combine)){t(TM({completed:x}));return}const E=m6e({current:i.current.client.offset,destination:b,reason:s});t(u6e({newHomeClientOffset:b,dropDuration:E,completed:x}))};var GX=()=>({x:window.pageXOffset,y:window.pageYOffset});function w6e(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function b6e({onWindowScroll:e}){function t(){e(GX())}const n=ty(t),r=w6e(n);let i=Pu;function s(){return i!==Pu}function o(){s()&&st(),i=Go(window,[r])}function a(){s()||st(),n.cancel(),i(),i=Pu}return{start:o,stop:a,isActive:s}}const S6e=e=>In(e,"DROP_COMPLETE")||In(e,"DROP_ANIMATE")||In(e,"FLUSH"),x6e=e=>{const t=b6e({onWindowScroll:n=>{e.dispatch(i6e({newScroll:n}))}});return n=>r=>{!t.isActive()&&In(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&S6e(r)&&t.stop(),n(r)}};var E6e=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=()=>t,i},T6e=()=>{const e=[],t=i=>{const s=e.findIndex(a=>a.timerId===i);s===-1&&st();const[o]=e.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const R6e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,A6e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,_6e=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},r0=(e,t)=>{t()},mb=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function BA(e,t,n,r){if(!e){n(r(t));return}const i=E6e(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var D6e=(e,t)=>{const n=T6e();let r=null;const i=(f,p)=>{r&&st(),r0("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:p})})},s=(f,p)=>{r&&st(),r0("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(mb(f,p))})},o=(f,p)=>{r&&st();const m=mb(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{r0("onDragStart",()=>BA(e().onDragStart,m,t,oS.onDragStart))})},a=(f,p)=>{const m=yM(p),y=tE(p);r||st();const C=!_6e(f,r.lastCritical);C&&(r.lastCritical=f);const b=!R6e(r.lastLocation,m);b&&(r.lastLocation=m);const x=!A6e(r.lastCombine,y);if(x&&(r.lastCombine=y),!C&&!b&&!x)return;const R={...mb(f,r.mode),combine:y,destination:m};n.add(()=>{r0("onDragUpdate",()=>BA(e().onDragUpdate,R,t,oS.onDragUpdate))})},l=()=>{r||st(),n.flush()},c=f=>{r||st(),r=null,r0("onDragEnd",()=>BA(e().onDragEnd,f,t,oS.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const f={...mb(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(f)}}},P6e=(e,t)=>{const n=D6e(e,t);return r=>i=>s=>{if(In(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(In(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(In(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),In(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const F6e=e=>t=>n=>{if(!In(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&st(),e.dispatch(TM({completed:r.completed}))},k6e=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>s=>{if((In(s,"FLUSH")||In(s,"DROP_COMPLETE")||In(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!In(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(BX())}};n=requestAnimationFrame(()=>{n=null,t=Go(window,[o])})}};var I6e=e=>()=>t=>n=>{(In(n,"DROP_COMPLETE")||In(n,"FLUSH")||In(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},M6e=e=>{let t=!1;return()=>n=>r=>{if(In(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(In(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(In(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const O6e=e=>In(e,"DROP_COMPLETE")||In(e,"DROP_ANIMATE")||In(e,"FLUSH");var L6e=e=>t=>n=>r=>{if(O6e(r)){e.stop(),n(r);return}if(In(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&st(),e.start(i);return}n(r),e.scroll(t.getState())};const N6e=e=>t=>n=>{if(t(n),!In(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(NX({reason:r.reason})))},B6e=rX;var V6e=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>nX(YGe,B6e(L3e(f6e(n),I6e(e),h6e(e),C6e,F6e,k6e,N6e,L6e(s),x6e,M6e(t),P6e(r,i))));const VA=()=>({additions:{},removals:{},modified:{}});function H6e({registry:e,callbacks:t}){let n=VA(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:d}=n,f=Object.keys(l).map(y=>e.draggable.getById(y).getDimension(mi)).sort((y,C)=>y.descriptor.index-C.descriptor.index),p=Object.keys(d).map(y=>{const b=e.droppable.getById(y).callbacks.getScrollWhileDragging();return{droppableId:y,scroll:b}}),m={additions:f,removals:Object.keys(c),modified:p};n=VA(),t.publish(m)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=VA())}}}var UX=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=no({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},zX=()=>{const e=document.documentElement;return e||st(),e},jX=()=>{const e=zX();return UX({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},G6e=()=>{const e=GX(),t=jX(),n=e.y,r=e.x,i=zX(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:pa({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:mi,displacement:mi}}}},U6e=({critical:e,scrollOptions:t,registry:n})=>{const r=G6e(),i=r.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(d=>d.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(i));return{dimensions:{draggables:yX(a),droppables:vX(o)},critical:e,viewport:r}};function t6(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var z6e=(e,t)=>{let n=null;const r=H6e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(p,m)=>{e.droppable.exists(p)||st(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},s=(p,m)=>{n&&(e.droppable.exists(p)||st(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},o=(p,m)=>{n&&(e.droppable.exists(p)||st(),t.updateDroppableScroll({id:p,newScroll:m}))},a=(p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},c=p=>{n||st();const m=n.critical.draggable;p.type==="ADDITION"&&t6(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&t6(e,m,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:p=>{n&&st();const m=e.draggable.getById(p.draggableId),y=e.droppable.getById(m.descriptor.droppableId),C={draggable:m.descriptor,droppable:y.descriptor},b=e.subscribe(c);return n={critical:C,unsubscribe:b},U6e({critical:C,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:l}},WX=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",j6e=e=>{window.scrollBy(e.x,e.y)};const W6e=pi(e=>eE(e).filter(t=>!(!t.isEnabled||!t.frame))),$6e=(e,t)=>W6e(t).find(r=>(r.frame||st(),_X(r.frame.pageMarginBox)(e)))||null;var q6e=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return $6e(e,n)};const oy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var K6e=(e,t,n=()=>oy)=>{const r=n(),i=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},$X=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},AM=1,Y6e=(e,t,n=()=>oy)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return AM;const s=1-$X({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},X6e=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=t,a=s,c=Date.now()-o;if(c>=s)return e;if(c<i)return AM;const d=$X({startOfRange:i,endOfRange:a,current:c}),f=e*r.ease(d);return Math.ceil(f)},n6=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=Y6e(e,t,i);return s===0?0:r?Math.max(X6e(s,n,i),AM):s},r6=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=K6e(e,r,s);return t[r.end]<t[r.start]?n6({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*n6({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},Q6e=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Z6e=mX(e=>e===0?0:e);var qX=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=r6({container:t,distanceToEdges:o,dragStartTime:e,axis:CM,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=r6({container:t,distanceToEdges:o,dragStartTime:e,axis:bX,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=Z6e({x:l,y:a});if(Fu(c,mi))return null;const d=Q6e({container:t,subject:n,proposedScroll:c});return d?Fu(d,mi)?null:d:null};const J6e=mX(e=>e===0?0:e>0?1:-1),_M=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Pi(t,r),s={x:e(i.x,n.x),y:e(i.y,n.y)};return Fu(s,mi)?null:s}})(),KX=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=J6e(n),s=_M({max:r,current:t,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},DM=(e,t)=>KX({current:e.scroll.current,max:e.scroll.max,change:t}),e5e=(e,t)=>{if(!DM(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return _M({current:r,max:n,change:t})},PM=(e,t)=>{const n=e.frame;return n?KX({current:n.scroll.current,max:n.scroll.max,change:t}):!1},t5e=(e,t)=>{const n=e.frame;return!n||!PM(e,t)?null:_M({current:n.scroll.current,max:n.scroll.max,change:t})};var n5e=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=qX({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&DM(e,o)?o:null},r5e=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const a=qX({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&PM(e,a)?a:null},i6=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,p=n5e({dragStartTime:t,viewport:f,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(p){r(p);return}}const c=q6e({center:o,destination:ao(e.impact),droppables:e.dimensions.droppables});if(!c)return;const d=r5e({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});d&&i(c.descriptor.id,d)},i5e=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>oy})=>{const r=ty(e),i=ty(t);let s=null;const o=c=>{s||st();const{shouldUseTimeDampening:d,dragStartTime:f}=s;i6({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:c=>{s&&st();const d=Date.now();let f=!1;const p=()=>{f=!0};i6({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),s={dragStartTime:d,shouldUseTimeDampening:f},f&&o(c)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},s5e=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const c=Pi(a.current.client.selection,l);e({client:c})},i=(a,l)=>{if(!PM(a,l))return l;const c=t5e(a,l);if(!c)return t(a.descriptor.id,l),null;const d=no(l,c);return t(a.descriptor.id,d),no(l,d)},s=(a,l,c)=>{if(!a||!DM(l,c))return c;const d=e5e(l,c);if(!d)return n(c),null;const f=no(c,d);return n(f),no(c,f)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=ao(a.impact);c||st();const d=i(a.dimensions.droppables[c],l);if(!d)return;const f=a.viewport,p=s(a.isWindowScrollAllowed,f,d);p&&r(a,p)}},o5e=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=i5e({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=s5e({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const hg="data-rfd",fg=(()=>{const e=`${hg}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),dP=(()=>{const e=`${hg}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),a5e=(()=>{const e=`${hg}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),s6={contextId:`${hg}-scroll-container-context-id`},l5e=e=>t=>`[${t}="${e}"]`,i0=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),c5e="pointer-events: none;";var u5e=e=>{const t=l5e(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(fg.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:c5e,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${nv.outOfTheWay};
    `;return{selector:t(dP.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(a5e.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:i0(o,"always"),resting:i0(o,"resting"),dragging:i0(o,"dragging"),dropAnimating:i0(o,"dropAnimating"),userCancel:i0(o,"userCancel")}};const lo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect,HA=()=>{const e=document.querySelector("head");return e||st(),e},o6=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function d5e(e,t){const n=gn(()=>u5e(e),[e]),r=T.useRef(null),i=T.useRef(null),s=xt(pi(f=>{const p=i.current;p||st(),p.textContent=f}),[]),o=xt(f=>{const p=r.current;p||st(),p.textContent=f},[]);lo(()=>{!r.current&&!i.current||st();const f=o6(t),p=o6(t);return r.current=f,i.current=p,f.setAttribute(`${hg}-always`,e),p.setAttribute(`${hg}-dynamic`,e),HA().appendChild(f),HA().appendChild(p),o(n.always),s(n.resting),()=>{const m=y=>{const C=y.current;C||st(),HA().removeChild(C),y.current=null};m(r),m(i)}},[t,o,s,n.always,n.resting,e]);const a=xt(()=>s(n.dragging),[s,n.dragging]),l=xt(f=>{if(f==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=xt(()=>{i.current&&s(n.resting)},[s,n.resting]);return gn(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function YX(e,t){return Array.from(e.querySelectorAll(t))}var XX=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function iE(e){return e instanceof XX(e).HTMLElement}function h5e(e,t){const n=`[${fg.contextId}="${e}"]`,r=YX(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(fg.draggableId)===t);return!i||!iE(i)?null:i}function f5e(e){const t=T.useRef({}),n=T.useRef(null),r=T.useRef(null),i=T.useRef(!1),s=xt(function(p,m){const y={id:p,focus:m};return t.current[p]=y,function(){const b=t.current;b[p]!==y&&delete b[p]}},[]),o=xt(function(p){const m=h5e(e,p);m&&m!==document.activeElement&&m.focus()},[e]),a=xt(function(p,m){n.current===p&&(n.current=m)},[]),l=xt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&o(p)}))},[o]),c=xt(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(fg.draggableId)===p&&(n.current=p)},[]);return lo(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),gn(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function p5e(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(p=>p(f))}function i(f){return e.draggables[f]||null}function s(f){const p=i(f);return p||st(),p}const o={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const p=f.descriptor.id,m=i(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:s,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(e.draggables).filter(p=>p.descriptor.type===f)};function a(f){return e.droppables[f]||null}function l(f){const p=a(f);return p||st(),p}const c={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const p=a(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:l,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.droppables).filter(p=>p.descriptor.type===f)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:n,clean:d}}function g5e(){const e=gn(p5e,[]);return T.useEffect(()=>function(){e.clean()},[e]),e}var FM=ue.createContext(null),Mx=()=>{const e=document.body;return e||st(),e};const m5e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},v5e=e=>`rfd-announcement-${e}`;function y5e(e){const t=gn(()=>v5e(e),[e]),n=T.useRef(null);return T.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),Cv(s.style,m5e),Mx().appendChild(s),function(){setTimeout(function(){const l=Mx();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]),xt(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const C5e={separator:"::"};function kM(e,t=C5e){const n=ue.useId();return gn(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function w5e({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function b5e({contextId:e,text:t}){const n=kM("hidden-text",{separator:"-"}),r=gn(()=>w5e({contextId:e,uniqueId:n}),[n,e]);return T.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",Mx().appendChild(s),function(){const a=Mx();a.contains(s)&&a.removeChild(s)}},[r,t]),r}var sE=ue.createContext(null);function QX(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),t}function S5e(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&st();const a={abandon:o};return e=a,a}function i(){e||st(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}function ay(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const x5e=9,E5e=13,IM=27,ZX=32,T5e=33,R5e=34,A5e=35,_5e=36,D5e=37,P5e=38,F5e=39,k5e=40,I5e={[E5e]:!0,[x5e]:!0};var JX=e=>{I5e[e.keyCode]&&e.preventDefault()};const oE=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),eQ=0,a6=5;function M5e(e,t){return Math.abs(t.x-e.x)>=a6||Math.abs(t.y-e.y)>=a6}const l6={type:"IDLE"};function O5e({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==eQ)return;const l={x:o,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&st();const d=c.point;if(!M5e(d,l))return;i.preventDefault();const f=c.actions.fluidLift(l);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===IM){i.preventDefault(),e();return}JX(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&st(),s.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:oE,fn:e}]}function L5e(e){const t=T.useRef(l6),n=T.useRef(Pu),r=gn(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==eQ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.tryGetLock(p,o,{sourceEvent:f});if(!m)return;f.preventDefault();const y={x:f.clientX,y:f.clientY};n.current(),c(m,y)}}),[e]),i=gn(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}),[e]),s=xt(function(){const f={passive:!1,capture:!0};n.current=Go(window,[i,r],f)},[i,r]),o=xt(()=>{t.current.type!=="IDLE"&&(t.current=l6,n.current(),s())},[s]),a=xt(()=>{const d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=xt(function(){const f={capture:!0,passive:!1},p=O5e({cancel:a,completed:o,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Go(window,p,f)},[a,o]),c=xt(function(f,p){t.current.type!=="IDLE"&&st(),t.current={type:"PENDING",point:p,actions:f},l()},[l]);lo(function(){return s(),function(){n.current()}},[s])}function N5e(){}const B5e={[R5e]:!0,[T5e]:!0,[_5e]:!0,[A5e]:!0};function V5e(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===IM){i.preventDefault(),n();return}if(i.keyCode===ZX){i.preventDefault(),r();return}if(i.keyCode===k5e){i.preventDefault(),e.moveDown();return}if(i.keyCode===P5e){i.preventDefault(),e.moveUp();return}if(i.keyCode===F5e){i.preventDefault(),e.moveRight();return}if(i.keyCode===D5e){i.preventDefault(),e.moveLeft();return}if(B5e[i.keyCode]){i.preventDefault();return}JX(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:oE,fn:n}]}function H5e(e){const t=T.useRef(N5e),n=gn(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==ZX)return;const o=e.findClosestDraggableId(s);if(!o)return;const a=e.tryGetLock(o,d,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const c=a.snapLift();t.current();function d(){l||st(),l=!1,t.current(),r()}t.current=Go(window,V5e(c,d),{capture:!0,passive:!1})}}),[e]),r=xt(function(){const s={passive:!1,capture:!0};t.current=Go(window,[n],s)},[n]);lo(function(){return r(),function(){t.current()}},[r])}const GA={type:"IDLE"},G5e=120,U5e=.15;function z5e({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===IM&&n.preventDefault(),e()}},{eventName:oE,fn:e}]}function j5e({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&st();const s=r.touches[0];if(!s||!(s.force>=U5e))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:oE,fn:e}]}function W5e(e){const t=T.useRef(GA),n=T.useRef(Pu),r=xt(function(){return t.current},[]),i=xt(function(m){t.current=m},[]),s=gn(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const y=e.findClosestDraggableId(m);if(!y)return;const C=e.tryGetLock(y,a,{sourceEvent:m});if(!C)return;const b=m.touches[0],{clientX:x,clientY:R}=b,E={x,y:R};n.current(),f(C,E)}}),[e]),o=xt(function(){const m={capture:!0,passive:!1};n.current=Go(window,[s],m)},[s]),a=xt(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(GA),n.current(),o())},[o,i]),l=xt(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=xt(function(){const m={capture:!0,passive:!1},y={cancel:l,completed:a,getPhase:r},C=Go(window,j5e(y),m),b=Go(window,z5e(y),m);n.current=function(){C(),b()}},[l,r,a]),d=xt(function(){const m=r();m.type!=="PENDING"&&st();const y=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:y,hasMoved:!1})},[r,i]),f=xt(function(m,y){r().type!=="IDLE"&&st();const C=setTimeout(d,G5e);i({type:"PENDING",point:y,actions:m,longPressTimerId:C}),c()},[c,r,i,d]);lo(function(){return o(),function(){n.current();const y=r();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),i(GA))}},[r,o,i]),lo(function(){return Go(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const $5e=["input","button","textarea","select","option","optgroup","video","audio"];function tQ(e,t){if(t==null)return!1;if($5e.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:tQ(e,t.parentElement)}function q5e(e,t){const n=t.target;return iE(n)?tQ(e,n):!1}var K5e=e=>pa(e.getBoundingClientRect()).center;function Y5e(e){return e instanceof XX(e).Element}const X5e=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function nQ(e,t){return e==null?null:e[X5e](t)?e:nQ(e.parentElement,t)}function Q5e(e,t){return e.closest?e.closest(t):nQ(e,t)}function Z5e(e){return`[${fg.contextId}="${e}"]`}function J5e(e,t){const n=t.target;if(!Y5e(n))return null;const r=Z5e(e),i=Q5e(n,r);return!i||!iE(i)?null:i}function eUe(e,t){const n=J5e(e,t);return n?n.getAttribute(fg.draggableId):null}function tUe(e,t){const n=`[${dP.contextId}="${e}"]`,i=YX(document,n).find(s=>s.getAttribute(dP.id)===t);return!i||!iE(i)?null:i}function nUe(e){e.preventDefault()}function vb({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function rQ({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!WX(t.getState(),r))}function rUe({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!rQ({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=tUe(t,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&q5e(c,o))return null;const d=e.claim(s||Pu);let f="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function m(){return e.isActive(d)}function y(I,_){vb({expected:I,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(_())}const C=y.bind(null,"DRAGGING");function b(I){function _(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(_(),st()),n.dispatch(QGe(I.liftActionArgs)),f="DRAGGING";function D(P,k={shouldBlockNextClick:!1}){if(I.cleanup(),k.shouldBlockNextClick){const B=Go(window,[{eventName:"click",fn:nUe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}_(),n.dispatch(NX({reason:P}))}return{isActive:()=>vb({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:P=>D("DROP",P),cancel:P=>D("CANCEL",P),...I.actions}}function x(I){const _=ty(P=>{C(()=>LX({client:P}))});return{...b({liftActionArgs:{id:i,clientSelection:I,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function R(){const I={moveUp:()=>C(o6e),moveRight:()=>C(l6e),moveDown:()=>C(a6e),moveLeft:()=>C(c6e)};return b({liftActionArgs:{id:i,clientSelection:K5e(c),movementMode:"SNAP"},cleanup:Pu,actions:I})}function E(){vb({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>vb({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:x,snapLift:R,abort:E}}const iUe=[L5e,H5e,W5e];function sUe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?iUe:[],...r||[]],o=T.useState(()=>S5e())[0],a=xt(function(b,x){ay(b)&&!ay(x)&&o.tryAbandon()},[o]);lo(function(){let b=t.getState();return t.subscribe(()=>{const R=t.getState();a(b,R),b=R})},[o,t,a]),lo(()=>o.tryAbandon,[o.tryAbandon]);const l=xt(C=>rQ({lockAPI:o,registry:n,store:t,draggableId:C}),[o,n,t]),c=xt((C,b,x)=>rUe({lockAPI:o,registry:n,contextId:e,store:t,draggableId:C,forceSensorStop:b||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,o,n,t]),d=xt(C=>eUe(e,C),[e]),f=xt(C=>{const b=n.draggable.findById(C);return b?b.options:null},[n.draggable]),p=xt(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(EM()))},[o,t]),m=xt(()=>o.isClaimed(),[o]),y=gn(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[l,c,d,f,p,m]);for(let C=0;C<s.length;C++)s[C](y)}const oUe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Cg.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),aUe=e=>({...oy,...e.autoScrollerOptions,durationDampening:{...oy.durationDampening,...e.autoScrollerOptions}});function s0(e){return e.current||st(),e.current}function lUe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=e,o=T.useRef(null),a=QX(e),l=xt(()=>oUe(a.current),[a]),c=xt(()=>aUe(a.current),[a]),d=y5e(t),f=b5e({contextId:t,text:s}),p=d5e(t,i),m=xt(B=>{s0(o).dispatch(B)},[]),y=gn(()=>MG({publishWhileDragging:JGe,updateDroppableScroll:t6e,updateDroppableIsEnabled:n6e,updateDroppableIsCombineEnabled:r6e,collectionStarting:e6e},m),[m]),C=g5e(),b=gn(()=>z6e(C,y),[C,y]),x=gn(()=>o5e({scrollWindow:j6e,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:c,...MG({move:LX},m)}),[b.scrollDroppable,m,c]),R=f5e(t),E=gn(()=>V6e({announce:d,autoScroller:x,dimensionMarshal:b,focusMarshal:R,getResponders:l,styleMarshal:p}),[d,x,b,R,l,p]);o.current=E;const F=xt(()=>{const B=s0(o);B.getState().phase!=="IDLE"&&B.dispatch(EM())},[]),I=xt(()=>{const B=s0(o).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),_=gn(()=>({isDragging:I,tryAbort:F}),[I,F]);n(_);const D=xt(B=>WX(s0(o).getState(),B),[]),P=xt(()=>Hd(s0(o).getState()),[]),k=gn(()=>({marshal:b,focus:R,contextId:t,canLift:D,isMovementAllowed:P,dragHandleUsageInstructionsId:f,registry:C}),[t,b,f,R,D,P,C]);return sUe({contextId:t,store:E,registry:C,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),T.useEffect(()=>F,[F]),ue.createElement(sE.Provider,{value:k},ue.createElement(IHe,{context:FM,store:E},e.children))}function cUe(){return ue.useId()}function uUe(e){const t=cUe(),n=e.dragHandleUsageInstructions||oS.dragHandleUsageInstructions;return ue.createElement(HHe,null,r=>ue.createElement(lUe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const c6={dragging:5e3,dropAnimating:4500},dUe=(e,t)=>t?nv.drop(t.duration):e?nv.snap:nv.fluid,hUe=(e,t)=>{if(e)return t?sy.opacity.drop:sy.opacity.combining},fUe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function pUe(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:s}=e,o=!!i,a=fUe(e),l=!!s,c=l?cP.drop(r,o):cP.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:dUe(a,s),transform:c,opacity:hUe(o,l),zIndex:l?c6.dropAnimating:c6.dragging,pointerEvents:"none"}}function gUe(e){return{transform:cP.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function mUe(e){return e.type==="DRAGGING"?pUe(e):gUe(e)}function vUe(e,t,n=mi){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=uX(i,r),o=Px(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:o}}function yUe(e){const t=kM("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=e,l=gn(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),c=xt(m=>{const y=i();return y||st(),vUe(n,y,m)},[n,i]),d=gn(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),f=T.useRef(d),p=T.useRef(!0);lo(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),lo(()=>{if(p.current){p.current=!1;return}const m=f.current;f.current=d,r.draggable.update(d,m)},[d,r.draggable])}var MM=ue.createContext(null);function Ox(e){const t=T.useContext(e);return t||st(),t}function CUe(e){e.preventDefault()}const wUe=e=>{const t=T.useRef(null),n=xt((_=null)=>{t.current=_},[]),r=xt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=Ox(sE),{type:a,droppableId:l}=Ox(MM),c=gn(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:d,draggableId:f,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:y,isClone:C,mapped:b,dropAnimationFinished:x}=e;if(!C){const _=gn(()=>({descriptor:c,registry:o,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:m,isEnabled:p}),[c,o,r,y,m,p]);yUe(_)}const R=gn(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:CUe}:null,[i,s,f,p]),E=xt(_=>{b.type==="DRAGGING"&&b.dropping&&_.propertyName==="transform"&&Cg.flushSync(x)},[x,b]),F=gn(()=>{const _=mUe(b),D=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:_,onTransitionEnd:D},dragHandleProps:R}},[i,R,f,b,E,n]),I=gn(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ue.createElement(ue.Fragment,null,d(F,b.snapshot,I))};var iQ=(e,t)=>e===t,sQ=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const bUe=e=>e.combine?e.combine.draggableId:null,SUe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function xUe(){const e=pi((i,s)=>({x:i,y:s})),t=pi((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=pi((i,s,o,a,l=null,c=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:o,forceShouldAnimate:d,snapshot:t(s,a,l,c,null)}}));return(i,s)=>{if(ay(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=ao(i.impact),c=SUe(i.impact),d=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,a,s.isClone,l,c,d)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],c=o.result,d=c.mode,f=sQ(c),p=bUe(c),y={duration:i.dropDuration,curve:RM.drop,moveTo:i.newHomeClientOffset,opacity:p?sy.opacity.drop:null,scale:p?sy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:y,draggingOver:f,combineWith:p,mode:d,forceShouldAnimate:null,snapshot:t(d,a,f,p,y)}}}return null}}function oQ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const EUe={mapped:{type:"SECONDARY",offset:mi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:oQ(null)}};function TUe(){const e=pi((o,a)=>({x:o,y:a})),t=pi(oQ),n=pi((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=o=>o?n(mi,o,!0):null,i=(o,a,l,c)=>{const d=l.displaced.visible[o],f=!!(c.inVirtualList&&c.effected[o]),p=tE(l),m=p&&p.draggableId===o?a:null;if(!d){if(!f)return r(m);if(l.displaced.invisible[o])return null;const b=Bg(c.displacedBy.point),x=e(b.x,b.y);return n(x,m,!0)}if(f)return r(m);const y=l.displacedBy.point,C=e(y.x,y.y);return n(C,m,d.shouldAnimate)};return(o,a)=>{if(ay(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const RUe=()=>{const e=xUe(),t=TUe();return(r,i)=>e(r,i)||t(r,i)||EUe},AUe={dropAnimationFinished:BX},_Ue=cX(RUe,AUe,null,{context:FM,areStatePropsEqual:iQ})(wUe);function aQ(e){return Ox(MM).isUsingCloneFor===e.draggableId&&!e.isClone?null:ue.createElement(_Ue,e)}function u6(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ue.createElement(aQ,Cv({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const lQ=e=>t=>e===t,DUe=lQ("scroll"),PUe=lQ("auto"),d6=(e,t)=>t(e.overflowX)||t(e.overflowY),FUe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return d6(n,DUe)||d6(n,PUe)},kUe=()=>!1,cQ=e=>e==null?null:e===document.body?kUe()?e:null:e===document.documentElement?null:FUe(e)?e:cQ(e.parentElement);var hP=e=>({x:e.scrollLeft,y:e.scrollTop});const uQ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:uQ(e.parentElement):!1;var IUe=e=>{const t=cQ(e),n=uQ(e);return{closestScrollable:t,isFixedOnPage:n}},MUe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:p,client:m}=a,y=UX({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:y,diff:{value:mi,displacement:mi}}}})(),c=i==="vertical"?CM:bX,d=dg({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:s,page:o,frame:l,subject:d}};const OUe=(e,t)=>{const n=dX(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,o=i+t.scrollWidth,l=gM({top:r,right:o,bottom:s,left:i},n.border);return mM({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var LUe=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,c=OUe(e,l),d=Px(c,r),f=(()=>{if(!l)return null;const m=dX(l),y={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:Px(m,r),scroll:hP(l),scrollSize:y,shouldClipSubject:a}})();return MUe({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:d,closest:f})};const NUe={passive:!1},BUe={passive:!0};var h6=e=>e.shouldPublishImmediately?NUe:BUe;const yb=e=>e&&e.env.closestScrollable||null;function VUe(e){const t=T.useRef(null),n=Ox(sE),r=kM("droppable"),{registry:i,marshal:s}=n,o=QX(e),a=gn(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=T.useRef(a),c=gn(()=>pi((F,I)=>{t.current||st();const _={x:F,y:I};s.updateDroppableScroll(a.id,_)}),[a.id,s]),d=xt(()=>{const F=t.current;return!F||!F.env.closestScrollable?mi:hP(F.env.closestScrollable)},[]),f=xt(()=>{const F=d();c(F.x,F.y)},[d,c]),p=gn(()=>ty(f),[f]),m=xt(()=>{const F=t.current,I=yb(F);if(F&&I||st(),F.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),y=xt((F,I)=>{t.current&&st();const _=o.current,D=_.getDroppableRef();D||st();const P=IUe(D),k={ref:D,descriptor:a,env:P,scrollOptions:I};t.current=k;const B=LUe({ref:D,descriptor:a,env:P,windowScroll:F,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),N=P.closestScrollable;return N&&(N.setAttribute(s6.contextId,n.contextId),N.addEventListener("scroll",m,h6(k.scrollOptions))),B},[n.contextId,a,m,o]),C=xt(()=>{const F=t.current,I=yb(F);return F&&I||st(),hP(I)},[]),b=xt(()=>{const F=t.current;F||st();const I=yb(F);t.current=null,I&&(p.cancel(),I.removeAttribute(s6.contextId),I.removeEventListener("scroll",m,h6(F.scrollOptions)))},[m,p]),x=xt(F=>{const I=t.current;I||st();const _=yb(I);_||st(),_.scrollTop+=F.y,_.scrollLeft+=F.x},[]),R=gn(()=>({getDimensionAndWatchScroll:y,getScrollWhileDragging:C,dragStopped:b,scroll:x}),[b,y,C,x]),E=gn(()=>({uniqueId:r,descriptor:a,callbacks:R}),[R,a,r]);lo(()=>(l.current=E.descriptor,i.droppable.register(E),()=>{t.current&&b(),i.droppable.unregister(E)}),[R,a,b,E,s,i.droppable]),lo(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),lo(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function UA(){}const f6={width:0,height:0,margin:qHe},HUe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?f6:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},GUe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=HUe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?nv.placeholder:null}},UUe=e=>{const t=T.useRef(null),n=xt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=e,[a,l]=T.useState(e.animate==="open");T.useEffect(()=>a?r!=="open"?(n(),l(!1),UA):t.current?UA:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):UA,[r,a,n]);const c=xt(f=>{f.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),d=GUe({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return ue.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})};var zUe=ue.memo(UUe);class jUe extends ue.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const WUe=e=>{const t=T.useContext(sE);t||st();const{contextId:n,isMovementAllowed:r}=t,i=T.useRef(null),s=T.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:d,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:m,snapshot:y,useClone:C,updateViewportMaxScroll:b,getContainerForClone:x}=e,R=xt(()=>i.current,[]),E=xt((N=null)=>{i.current=N},[]);xt(()=>s.current,[]);const F=xt((N=null)=>{s.current=N},[]),I=xt(()=>{r()&&b({maxScroll:jX()})},[r,b]);VUe({droppableId:a,type:l,mode:c,direction:d,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:R});const _=gn(()=>ue.createElement(jUe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:N,data:V,animate:G})=>ue.createElement(zUe,{placeholder:V,onClose:N,innerRef:F,animate:G,contextId:n,onTransitionEnd:I})),[n,I,e.placeholder,e.shouldAnimatePlaceholder,F]),D=gn(()=>({innerRef:E,placeholder:_,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,_,E]),P=C?C.dragging.draggableId:null,k=gn(()=>({droppableId:a,type:l,isUsingCloneFor:P}),[a,P,l]);function B(){if(!C)return null;const{dragging:N,render:V}=C,G=ue.createElement(aQ,{draggableId:N.draggableId,index:N.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,le)=>V(oe,le,N));return yu.createPortal(G,x())}return ue.createElement(MM.Provider,{value:k},o(D,y),B())};function $Ue(){return document.body||st(),document.body}const p6={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:$Ue},dQ=e=>{let t={...e},n;for(n in p6)e[n]===void 0&&(t={...t,[n]:p6[n]});return t},zA=(e,t)=>e===t.droppable.type,g6=(e,t)=>t.draggables[e.draggable.id],qUe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=pi(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=pi((s,o,a,l,c,d)=>{const f=c.descriptor.id;if(c.descriptor.droppableId===s){const y=d?{render:d,dragging:n(c.descriptor)}:null,C={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:y}}if(!o)return t;if(!l)return e;const m={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=dQ(o),l=a.droppableId,c=a.type,d=!a.isDropDisabled,f=a.renderClone;if(ay(s)){const p=s.critical;if(!zA(c,p))return t;const m=g6(p,s.dimensions),y=ao(s.impact)===l;return r(l,d,y,y,m,f)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!zA(c,p.critical))return t;const m=g6(p.critical,s.dimensions);return r(l,d,sQ(p.result)===l,ao(p.impact)===l,m,f)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!zA(c,p.critical))return t;const m=ao(p.impact)===l,y=!!(p.impact.at&&p.impact.at.type==="COMBINE"),C=p.critical.droppable.id===l;return m?y?e:t:C?e:t}return t}},KUe={updateViewportMaxScroll:s6e},m6=cX(qUe,KUe,(e,t,n)=>({...dQ(n),...e,...t}),{context:FM,areStatePropsEqual:iQ})(WUe),YUe=M1((e,t)=>({groups:[],availableStudents:[],allStudents:[],setGroups:n=>e({groups:n}),setAvailableStudents:n=>e({availableStudents:n}),setAllStudents:n=>e({allStudents:n}),addGroup:n=>e(r=>({groups:[...r.groups,n]})),updateGroup:(n,r)=>e(i=>({groups:i.groups.map(s=>s.id===n?{...s,...r}:s)})),removeGroup:n=>e(r=>{const i=r.groups.find(s=>s.id===n);if(i){const s=r.availableStudents.filter(o=>i.studentIds.includes(o.id));return{groups:r.groups.filter(o=>o.id!==n),availableStudents:[...r.availableStudents,...s]}}return r}),moveStudentToGroup:(n,r,i)=>e(s=>{let o=[...s.groups],a=[...s.availableStudents];if(r?o=o.map(l=>l.id===r?{...l,studentIds:l.studentIds.filter(c=>c!==n)}:l):a=a.filter(l=>l.id!==n),i)o=o.map(l=>l.id===i?{...l,studentIds:[...l.studentIds,n]}:l);else{const l=t().allStudents.find(c=>c.id===n);l&&(a=[...a,l])}return{groups:o,availableStudents:a}}),getStudentById:n=>t().allStudents.find(i=>i.id===n)})),Si=[];for(let e=0;e<256;++e)Si.push((e+256).toString(16).slice(1));function XUe(e,t=0){return(Si[e[t+0]]+Si[e[t+1]]+Si[e[t+2]]+Si[e[t+3]]+"-"+Si[e[t+4]]+Si[e[t+5]]+"-"+Si[e[t+6]]+Si[e[t+7]]+"-"+Si[e[t+8]]+Si[e[t+9]]+"-"+Si[e[t+10]]+Si[e[t+11]]+Si[e[t+12]]+Si[e[t+13]]+Si[e[t+14]]+Si[e[t+15]]).toLowerCase()}let jA;const QUe=new Uint8Array(16);function ZUe(){if(!jA){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");jA=crypto.getRandomValues.bind(crypto)}return jA(QUe)}const JUe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v6={randomUUID:JUe};function Np(e,t,n){if(v6.randomUUID&&!e)return v6.randomUUID();e=e||{};const r=e.random??e.rng?.()??ZUe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XUe(r)}const aE="groups",eze=async e=>{const t=Np(),n={id:t,name:e.name,studentIds:[],createdAt:new Date,teacherId:e.teacherId};return await kW(ml(Is,aE,t),n),n},tze=async e=>{const t=D1(Dg(Is,aE),Bk("teacherId","==",e));return(await FW(t)).docs.map(i=>i.data()).sort((i,s)=>new Date(s.createdAt).getTime()-new Date(i.createdAt).getTime())},Cb=async(e,t)=>{await cD(ml(Is,aE,e),t)},nze=async e=>{await IW(ml(Is,aE,e))},hQ=(e=768)=>{const[t,n]=T.useState(!1);return T.useEffect(()=>{const r=window.matchMedia(`(max-width: ${e}px)`),i=s=>{n(s.matches)};return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t},rze=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onDragEnd:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>M.jsx(uUe,{onDragEnd:i,children:M.jsxs(Kp,{children:[M.jsx(tl,{lg:3,className:"mb-4",children:M.jsxs(zr,{className:"h-100",children:[M.jsxs(zr.Header,{className:"bg-light",children:[M.jsxs("div",{className:"d-flex align-items-center mb-2",children:[M.jsx(VF,{size:18,className:"me-2 text-muted"}),M.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),M.jsx(Sn.Group,{className:"mb-2",children:M.jsxs("div",{className:"position-relative",children:[M.jsx(Sn.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),M.jsx(NF,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})}),M.jsx("small",{className:"text-muted",children:o.trim()?`${t.length} de ${t.length+e.flatMap(l=>l.studentIds).length} estudiantes`:`${t.length} estudiantes`})]}),M.jsx(zr.Body,{style:{minHeight:"500px"},children:M.jsx(m6,{droppableId:"available",children:(l,c)=>M.jsxs("div",{ref:l.innerRef,...l.droppableProps,className:`p-2 rounded ${c.isDraggingOver?"bg-light":""}`,style:{minHeight:"100px"},children:[t.length===0?M.jsxs("div",{className:"text-center text-muted py-4",children:[M.jsx(ic,{size:32,className:"mb-2 opacity-50"}),M.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):t.map((d,f)=>M.jsx(u6,{draggableId:d.id,index:f,children:(p,m)=>M.jsxs("div",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${m.isDragging?"shadow":""}`,style:{...p.draggableProps.style,cursor:"grab"},children:[M.jsx("div",{className:"fw-medium",children:d.name}),M.jsx("small",{className:"text-muted",children:d.email})]})},d.id)),l.placeholder]})})})]})}),M.jsx(tl,{lg:9,children:e.length===0?M.jsxs(wS,{variant:"info",className:"text-center py-5",children:[M.jsx(ic,{size:48,className:"mb-3 opacity-50"}),M.jsx("h5",{children:"No hay grupos creados"}),M.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),M.jsxs(vr,{variant:"primary",onClick:r,children:[M.jsx(Ly,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):M.jsx(Kp,{children:e.map(l=>M.jsx(tl,{md:6,lg:4,className:"mb-4",children:M.jsxs(zr,{className:"h-100",children:[M.jsxs(zr.Header,{className:"d-flex justify-content-between align-items-center",children:[M.jsxs("div",{children:[M.jsx("h6",{className:"mb-0",children:l.name}),M.jsxs("small",{className:"text-muted",children:[l.studentIds.length," estudiante",l.studentIds.length!==1?"s":""]})]}),M.jsx(vr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:M.jsx(BF,{size:14})})]}),M.jsx(zr.Body,{style:{minHeight:"300px"},children:M.jsx(m6,{droppableId:l.id,children:(c,d)=>M.jsxs("div",{ref:c.innerRef,...c.droppableProps,className:`p-2 rounded ${d.isDraggingOver?"bg-light":""}`,style:{minHeight:"200px"},children:[l.studentIds.length===0?M.jsxs("div",{className:"text-center text-muted py-4",children:[M.jsx(ic,{size:24,className:"mb-2 opacity-50"}),M.jsx("p",{className:"mb-0 small",children:"Arrastra estudiantes aqu"})]}):l.studentIds.map((f,p)=>{const m=s(f);return m?M.jsx(u6,{draggableId:f,index:p,children:(y,C)=>M.jsxs("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${C.isDragging?"shadow":""}`,style:{...y.draggableProps.style,cursor:"grab"},children:[M.jsx("div",{className:"fw-medium",children:m.name}),M.jsx("small",{className:"text-muted",children:m.email})]})},f):null}),c.placeholder]})})})]})},l.id))})})]})}),ize=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onSelectStudent:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>M.jsxs("div",{children:[M.jsxs(zr,{className:"mb-4",children:[M.jsxs(zr.Header,{className:"bg-light",children:[M.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[M.jsxs("div",{className:"d-flex align-items-center",children:[M.jsx(VF,{size:18,className:"me-2 text-muted"}),M.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),M.jsx(O_,{bg:"secondary",className:"badge-count",children:t.length})]}),M.jsx(Sn.Group,{children:M.jsxs("div",{className:"position-relative",children:[M.jsx(Sn.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),M.jsx(NF,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})})]}),M.jsx(zr.Body,{className:"p-2",children:t.length===0?M.jsxs("div",{className:"text-center text-muted py-4",children:[M.jsx(ic,{size:32,className:"mb-2 opacity-50"}),M.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):M.jsx(ua,{variant:"flush",children:t.map(l=>M.jsxs(ua.Item,{action:!0,onClick:()=>i(l),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[M.jsxs("div",{children:[M.jsx("div",{className:"fw-medium",children:l.name}),M.jsx("small",{className:"text-muted",children:l.email})]}),M.jsx(E4,{size:16,className:"text-muted"})]},l.id))})})]}),e.length===0?M.jsxs(wS,{variant:"info",className:"text-center py-5",children:[M.jsx(ic,{size:48,className:"mb-3 opacity-50"}),M.jsx("h5",{children:"No hay grupos creados"}),M.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),M.jsxs(vr,{variant:"primary",onClick:r,children:[M.jsx(Ly,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):e.map(l=>M.jsxs(zr,{className:"mb-3",children:[M.jsxs(zr.Header,{className:"d-flex justify-content-between align-items-center",children:[M.jsxs("div",{className:"d-flex align-items-center",children:[M.jsx("h6",{className:"mb-0 me-2",children:l.name}),M.jsx(O_,{bg:"primary",className:"badge-count",children:l.studentIds.length})]}),M.jsx(vr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:M.jsx(BF,{size:14})})]}),M.jsx(zr.Body,{className:"p-2",children:l.studentIds.length===0?M.jsxs("div",{className:"text-center text-muted py-3",children:[M.jsx(ic,{size:24,className:"mb-2 opacity-50"}),M.jsx("p",{className:"mb-0 small",children:"No hay estudiantes asignados"})]}):M.jsx(ua,{variant:"flush",children:l.studentIds.map(c=>{const d=s(c);return d?M.jsxs(ua.Item,{action:!0,onClick:()=>i(d,l.id),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[M.jsxs("div",{children:[M.jsx("div",{className:"fw-medium",children:d.name}),M.jsx("small",{className:"text-muted",children:d.email})]}),M.jsx(E4,{size:16,className:"text-muted"})]},c):null})})})]},l.id))]}),sze=()=>{const{user:e}=El(),{groups:t,availableStudents:n,setGroups:r,setAvailableStudents:i,setAllStudents:s,addGroup:o,removeGroup:a,moveStudentToGroup:l,getStudentById:c}=YUe(),d=hQ(),[f,p]=T.useState(!0),[m,y]=T.useState(!1),[C,b]=T.useState(""),[x,R]=T.useState(!1),[E,F]=T.useState(!1),[I,_]=T.useState(null),[D,P]=T.useState(),[k,B]=T.useState(""),V=(ne=>{let L=ne;if(k.trim()){const ae=k.toLowerCase().trim();L=ne.filter(W=>W.name.toLowerCase().includes(ae)||W.email.toLowerCase().includes(ae))}return L.sort((ae,W)=>ae.name.localeCompare(W.name))})(n);T.useEffect(()=>{(async()=>{if(e?.id)try{p(!0);const[L,ae]=await Promise.all([tze(e.id),e7()]),W=L.flatMap(X=>X.studentIds),H=ae.filter(X=>!W.includes(X.id));r(L),s(ae),i(H)}catch(L){console.error("Error loading data:",L)}finally{p(!1)}})()},[e?.id,r,i,s]);const G=async()=>{if(!(!C.trim()||!e?.id))try{R(!0);const ne=await eze({name:C.trim(),teacherId:e.id});o(ne),b(""),y(!1)}catch(ne){console.error("Error creating group:",ne)}finally{R(!1)}},oe=async ne=>{try{await nze(ne),a(ne)}catch(L){console.error("Error deleting group:",L)}},le=async ne=>{const{destination:L,source:ae,draggableId:W}=ne;if(!L||L.droppableId===ae.droppableId&&L.index===ae.index)return;const H=ae.droppableId==="available"?null:ae.droppableId,X=L.droppableId==="available"?null:L.droppableId;await he(W,H,X)},J=(ne,L)=>{_(ne),P(L),F(!0)},se=async ne=>{I&&(await he(I.id,D||null,ne),F(!1),_(null),P(void 0))},he=async(ne,L,ae)=>{l(ne,L,ae);try{if(L&&ae){const W=t.find(X=>X.id===L),H=t.find(X=>X.id===ae);W&&H&&(await Cb(L,{studentIds:W.studentIds.filter(X=>X!==ne)}),await Cb(ae,{studentIds:[...H.studentIds,ne]}))}else if(L&&!ae){const W=t.find(H=>H.id===L);W&&await Cb(L,{studentIds:W.studentIds.filter(H=>H!==ne)})}else if(!L&&ae){const W=t.find(H=>H.id===ae);W&&await Cb(ae,{studentIds:[...W.studentIds,ne]})}}catch(W){console.error("Error updating groups:",W)}};return f?M.jsx(bv,{fluid:!0,className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:M.jsx(Ko,{animation:"border",variant:"primary"})}):M.jsxs(bv,{fluid:!0,children:[M.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"mb-1",children:"Gestin de Grupos"}),M.jsx("p",{className:"text-muted mb-0",children:d?"Toca un estudiante para moverlo":"Arrastra estudiantes para asignarlos a grupos"})]}),M.jsxs(vr,{variant:"primary",onClick:()=>y(!0),className:"d-flex align-items-center",children:[M.jsx(Ly,{size:16,className:"me-2"}),"Crear Grupo"]})]}),d?M.jsx(ize,{groups:t,availableStudents:V,onDeleteGroup:oe,onShowCreateModal:()=>y(!0),onSelectStudent:J,getStudentById:c,searchTerm:k,onSearchChange:B}):M.jsx(rze,{groups:t,availableStudents:V,onDeleteGroup:oe,onShowCreateModal:()=>y(!0),onDragEnd:le,getStudentById:c,searchTerm:k,onSearchChange:B}),M.jsxs(sr,{show:m,onHide:()=>y(!1),children:[M.jsx(sr.Header,{closeButton:!0,children:M.jsx(sr.Title,{children:"Crear Nuevo Grupo"})}),M.jsx(sr.Body,{children:M.jsxs(Sn.Group,{children:[M.jsx(Sn.Label,{children:"Nombre del Grupo"}),M.jsx(Sn.Control,{type:"text",placeholder:"Ej: Grupo A, Equipo 1, etc.",value:C,onChange:ne=>b(ne.target.value),autoFocus:!0})]})}),M.jsxs(sr.Footer,{children:[M.jsx(vr,{variant:"secondary",onClick:()=>y(!1),children:"Cancelar"}),M.jsx(vr,{variant:"primary",onClick:G,disabled:!C.trim()||x,children:x?M.jsxs(M.Fragment,{children:[M.jsx(Ko,{size:"sm",className:"me-2"}),"Creando..."]}):"Crear Grupo"})]})]}),M.jsxs(sr,{show:E,onHide:()=>F(!1),children:[M.jsx(sr.Header,{closeButton:!0,children:M.jsxs(sr.Title,{children:["Mover a ",I?.name]})}),M.jsxs(sr.Body,{children:[M.jsxs("p",{className:"text-muted mb-3",children:["Selecciona el destino para ",I?.name,":"]}),M.jsxs(ua,{children:[D&&M.jsxs(ua.Item,{action:!0,onClick:()=>se(null),className:"d-flex align-items-center",children:[M.jsx(VF,{size:18,className:"me-3 text-muted"}),M.jsxs("div",{children:[M.jsx("div",{className:"fw-medium",children:"Estudiantes Disponibles"}),M.jsx("small",{className:"text-muted",children:"Quitar del grupo actual"})]})]}),t.filter(ne=>ne.id!==D).map(ne=>M.jsxs(ua.Item,{action:!0,onClick:()=>se(ne.id),className:"d-flex align-items-center",children:[M.jsx(ic,{size:18,className:"me-3 text-primary"}),M.jsxs("div",{children:[M.jsx("div",{className:"fw-medium",children:ne.name}),M.jsxs("small",{className:"text-muted",children:[ne.studentIds.length," estudiante",ne.studentIds.length!==1?"s":""]})]})]},ne.id))]})]})]})]})},o0=({children:e,allowedRoles:t})=>{const{user:n}=El(),r=xl();return n?t.includes(n.role)?M.jsx(M.Fragment,{children:e}):M.jsx(yp,{to:"/dashboard/mapa",replace:!0}):M.jsx(yp,{to:"/login",state:{from:r},replace:!0})},oze=({children:e})=>{const{user:t}=El(),r=xl().state?.from?.pathname||"/";return t?M.jsx(yp,{to:r,replace:!0}):M.jsx(M.Fragment,{children:e})},aze={BASE_URL:"/TutorIngles/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLOUD_FUNCTIONS_BASE_URL:"https://us-central1-tutordecolonial.cloudfunctions.net"},lze=e=>aze[e],fQ=lze("VITE_CLOUD_FUNCTIONS_BASE_URL"),cze=async e=>(await fetch(`${fQ}/classifyTask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})})).text(),uze=async(e,t)=>{const n=await fetch(`${fQ}/generateText`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,mode:t})});if(!n.ok)throw new Error("Network response was not ok");return n.json()};function dze(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const hze=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fze=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pze={};function y6(e,t){return(pze.jsx?fze:hze).test(e)}const gze=/[ \t\n\f\r]/g;function mze(e){return typeof e=="object"?e.type==="text"?C6(e.value):!1:C6(e)}function C6(e){return e.replace(gze,"")===""}class pC{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}pC.prototype.normal={};pC.prototype.property={};pC.prototype.space=void 0;function pQ(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new pC(n,r,t)}function fP(e){return e.toLowerCase()}class Os{constructor(t,n){this.attribute=n,this.property=t}}Os.prototype.attribute="";Os.prototype.booleanish=!1;Os.prototype.boolean=!1;Os.prototype.commaOrSpaceSeparated=!1;Os.prototype.commaSeparated=!1;Os.prototype.defined=!1;Os.prototype.mustUseProperty=!1;Os.prototype.number=!1;Os.prototype.overloadedBoolean=!1;Os.prototype.property="";Os.prototype.spaceSeparated=!1;Os.prototype.space=void 0;let vze=0;const Kt=of(),Hr=of(),pP=of(),et=of(),jn=of(),Bp=of(),$s=of();function of(){return 2**++vze}const gP=Object.freeze(Object.defineProperty({__proto__:null,boolean:Kt,booleanish:Hr,commaOrSpaceSeparated:$s,commaSeparated:Bp,number:et,overloadedBoolean:pP,spaceSeparated:jn},Symbol.toStringTag,{value:"Module"})),WA=Object.keys(gP);class OM extends Os{constructor(t,n,r,i){let s=-1;if(super(t,n),w6(this,"space",i),typeof r=="number")for(;++s<WA.length;){const o=WA[s];w6(this,WA[s],(r&gP[o])===gP[o])}}}OM.prototype.defined=!0;function w6(e,t,n){n&&(e[t]=n)}function Gg(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new OM(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[fP(r)]=r,n[fP(s.attribute)]=r}return new pC(t,n,e.space)}const gQ=Gg({properties:{ariaActiveDescendant:null,ariaAtomic:Hr,ariaAutoComplete:null,ariaBusy:Hr,ariaChecked:Hr,ariaColCount:et,ariaColIndex:et,ariaColSpan:et,ariaControls:jn,ariaCurrent:null,ariaDescribedBy:jn,ariaDetails:null,ariaDisabled:Hr,ariaDropEffect:jn,ariaErrorMessage:null,ariaExpanded:Hr,ariaFlowTo:jn,ariaGrabbed:Hr,ariaHasPopup:null,ariaHidden:Hr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jn,ariaLevel:et,ariaLive:null,ariaModal:Hr,ariaMultiLine:Hr,ariaMultiSelectable:Hr,ariaOrientation:null,ariaOwns:jn,ariaPlaceholder:null,ariaPosInSet:et,ariaPressed:Hr,ariaReadOnly:Hr,ariaRelevant:null,ariaRequired:Hr,ariaRoleDescription:jn,ariaRowCount:et,ariaRowIndex:et,ariaRowSpan:et,ariaSelected:Hr,ariaSetSize:et,ariaSort:null,ariaValueMax:et,ariaValueMin:et,ariaValueNow:et,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mQ(e,t){return t in e?e[t]:t}function vQ(e,t){return mQ(e,t.toLowerCase())}const yze=Gg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bp,acceptCharset:jn,accessKey:jn,action:null,allow:null,allowFullScreen:Kt,allowPaymentRequest:Kt,allowUserMedia:Kt,alt:null,as:null,async:Kt,autoCapitalize:null,autoComplete:jn,autoFocus:Kt,autoPlay:Kt,blocking:jn,capture:null,charSet:null,checked:Kt,cite:null,className:jn,cols:et,colSpan:null,content:null,contentEditable:Hr,controls:Kt,controlsList:jn,coords:et|Bp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Kt,defer:Kt,dir:null,dirName:null,disabled:Kt,download:pP,draggable:Hr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Kt,formTarget:null,headers:jn,height:et,hidden:pP,high:et,href:null,hrefLang:null,htmlFor:jn,httpEquiv:jn,id:null,imageSizes:null,imageSrcSet:null,inert:Kt,inputMode:null,integrity:null,is:null,isMap:Kt,itemId:null,itemProp:jn,itemRef:jn,itemScope:Kt,itemType:jn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Kt,low:et,manifest:null,max:null,maxLength:et,media:null,method:null,min:null,minLength:et,multiple:Kt,muted:Kt,name:null,nonce:null,noModule:Kt,noValidate:Kt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Kt,optimum:et,pattern:null,ping:jn,placeholder:null,playsInline:Kt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Kt,referrerPolicy:null,rel:jn,required:Kt,reversed:Kt,rows:et,rowSpan:et,sandbox:jn,scope:null,scoped:Kt,seamless:Kt,selected:Kt,shadowRootClonable:Kt,shadowRootDelegatesFocus:Kt,shadowRootMode:null,shape:null,size:et,sizes:null,slot:null,span:et,spellCheck:Hr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:et,step:null,style:null,tabIndex:et,target:null,title:null,translate:null,type:null,typeMustMatch:Kt,useMap:null,value:Hr,width:et,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jn,axis:null,background:null,bgColor:null,border:et,borderColor:null,bottomMargin:et,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Kt,declare:Kt,event:null,face:null,frame:null,frameBorder:null,hSpace:et,leftMargin:et,link:null,longDesc:null,lowSrc:null,marginHeight:et,marginWidth:et,noResize:Kt,noHref:Kt,noShade:Kt,noWrap:Kt,object:null,profile:null,prompt:null,rev:null,rightMargin:et,rules:null,scheme:null,scrolling:Hr,standby:null,summary:null,text:null,topMargin:et,valueType:null,version:null,vAlign:null,vLink:null,vSpace:et,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Kt,disableRemotePlayback:Kt,prefix:null,property:null,results:et,security:null,unselectable:null},space:"html",transform:vQ}),Cze=Gg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$s,accentHeight:et,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:et,amplitude:et,arabicForm:null,ascent:et,attributeName:null,attributeType:null,azimuth:et,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:et,by:null,calcMode:null,capHeight:et,className:jn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:et,diffuseConstant:et,direction:null,display:null,dur:null,divisor:et,dominantBaseline:null,download:Kt,dx:null,dy:null,edgeMode:null,editable:null,elevation:et,enableBackground:null,end:null,event:null,exponent:et,externalResourcesRequired:null,fill:null,fillOpacity:et,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bp,g2:Bp,glyphName:Bp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:et,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:et,horizOriginX:et,horizOriginY:et,id:null,ideographic:et,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:et,k:et,k1:et,k2:et,k3:et,k4:et,kernelMatrix:$s,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:et,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:et,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:et,overlineThickness:et,paintOrder:null,panose1:null,path:null,pathLength:et,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:et,pointsAtY:et,pointsAtZ:et,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$s,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$s,rev:$s,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$s,requiredFeatures:$s,requiredFonts:$s,requiredFormats:$s,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:et,specularExponent:et,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:et,strikethroughThickness:et,string:null,stroke:null,strokeDashArray:$s,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:et,strokeOpacity:et,strokeWidth:null,style:null,surfaceScale:et,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$s,tabIndex:et,tableValues:null,target:null,targetX:et,targetY:et,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$s,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:et,underlineThickness:et,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:et,values:null,vAlphabetic:et,vMathematical:et,vectorEffect:null,vHanging:et,vIdeographic:et,version:null,vertAdvY:et,vertOriginX:et,vertOriginY:et,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:et,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mQ}),yQ=Gg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),CQ=Gg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:vQ}),wQ=Gg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),wze={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bze=/[A-Z]/g,b6=/-[a-z]/g,Sze=/^data[-\w.:]+$/i;function xze(e,t){const n=fP(t);let r=t,i=Os;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Sze.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(b6,Tze);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!b6.test(s)){let o=s.replace(bze,Eze);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=OM}return new i(r,t)}function Eze(e){return"-"+e.toLowerCase()}function Tze(e){return e.charAt(1).toUpperCase()}const Rze=pQ([gQ,yze,yQ,CQ,wQ],"html"),LM=pQ([gQ,Cze,yQ,CQ,wQ],"svg");function Aze(e){return e.join(" ").trim()}var Qf={},$A,S6;function _ze(){if(S6)return $A;S6=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",d="*",f="",p="comment",m="declaration";$A=function(C,b){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];b=b||{};var x=1,R=1;function E(G){var oe=G.match(t);oe&&(x+=oe.length);var le=G.lastIndexOf(l);R=~le?G.length-le:R+G.length}function F(){var G={line:x,column:R};return function(oe){return oe.position=new I(G),P(),oe}}function I(G){this.start=G,this.end={line:x,column:R},this.source=b.source}I.prototype.content=C;function _(G){var oe=new Error(b.source+":"+x+":"+R+": "+G);if(oe.reason=G,oe.filename=b.source,oe.line=x,oe.column=R,oe.source=C,!b.silent)throw oe}function D(G){var oe=G.exec(C);if(oe){var le=oe[0];return E(le),C=C.slice(le.length),oe}}function P(){D(n)}function k(G){var oe;for(G=G||[];oe=B();)oe!==!1&&G.push(oe);return G}function B(){var G=F();if(!(c!=C.charAt(0)||d!=C.charAt(1))){for(var oe=2;f!=C.charAt(oe)&&(d!=C.charAt(oe)||c!=C.charAt(oe+1));)++oe;if(oe+=2,f===C.charAt(oe-1))return _("End of comment missing");var le=C.slice(2,oe-2);return R+=2,E(le),C=C.slice(oe),R+=2,G({type:p,comment:le})}}function N(){var G=F(),oe=D(r);if(oe){if(B(),!D(i))return _("property missing ':'");var le=D(s),J=G({type:m,property:y(oe[0].replace(e,f)),value:le?y(le[0].replace(e,f)):f});return D(o),J}}function V(){var G=[];k(G);for(var oe;oe=N();)oe!==!1&&(G.push(oe),k(G));return G}return P(),V()};function y(C){return C?C.replace(a,f):f}return $A}var x6;function Dze(){if(x6)return Qf;x6=1;var e=Qf&&Qf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.default=n;var t=e(_ze());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,d=l.value;a?i(c,d,l):d&&(s=s||{},s[c]=d)}}),s}return Qf}var a0={},E6;function Pze(){if(E6)return a0;E6=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,d){return d.toUpperCase()},a=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return a0.camelCase=l,a0}var l0,T6;function Fze(){if(T6)return l0;T6=1;var e=l0&&l0.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Dze()),n=Pze();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,l0=r,l0}var kze=Fze();const Ize=vg(kze),bQ=SQ("end"),NM=SQ("start");function SQ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Mze(e){const t=NM(e),n=bQ(e);if(t&&n)return{start:t,end:n}}function rv(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?R6(e.position):"start"in e||"end"in e?R6(e):"line"in e||"column"in e?mP(e):""}function mP(e){return A6(e&&e.line)+":"+A6(e&&e.column)}function R6(e){return mP(e&&e.start)+"-"+mP(e&&e.end)}function A6(e){return e&&typeof e=="number"?e:1}class Zi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=rv(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zi.prototype.file="";Zi.prototype.name="";Zi.prototype.reason="";Zi.prototype.message="";Zi.prototype.stack="";Zi.prototype.column=void 0;Zi.prototype.line=void 0;Zi.prototype.ancestors=void 0;Zi.prototype.cause=void 0;Zi.prototype.fatal=void 0;Zi.prototype.place=void 0;Zi.prototype.ruleId=void 0;Zi.prototype.source=void 0;const BM={}.hasOwnProperty,Oze=new Map,Lze=/[A-Z]/g,Nze=new Set(["table","tbody","thead","tfoot","tr"]),Bze=new Set(["td","th"]),xQ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Vze(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=qze(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$ze(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?LM:Rze,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=EQ(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function EQ(e,t,n){if(t.type==="element")return Hze(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Gze(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return zze(e,t,n);if(t.type==="mdxjsEsm")return Uze(e,t);if(t.type==="root")return jze(e,t,n);if(t.type==="text")return Wze(e,t)}function Hze(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=LM,e.schema=i),e.ancestors.push(t);const s=RQ(e,t.tagName,!1),o=Kze(e,t);let a=HM(e,t);return Nze.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!mze(l):!0})),TQ(e,o,s,t),VM(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Gze(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ly(e,t.position)}function Uze(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ly(e,t.position)}function zze(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=LM,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:RQ(e,t.name,!0),o=Yze(e,t),a=HM(e,t);return TQ(e,o,s,t),VM(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function jze(e,t,n){const r={};return VM(r,HM(e,t)),e.create(t,e.Fragment,r,n)}function Wze(e,t){return t.value}function TQ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function VM(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $ze(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function qze(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=NM(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Kze(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&BM.call(t.properties,i)){const s=Xze(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Bze.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Yze(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else ly(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else ly(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function HM(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Oze;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=EQ(e,s,o);a!==void 0&&n.push(a)}return n}function Xze(e,t,n){const r=xze(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?dze(n):Aze(n)),r.property==="style"){let i=typeof n=="object"?n:Qze(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Zze(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?wze[r.property]||r.property:r.attribute,n]}}function Qze(e,t){try{return Ize(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Zi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=xQ+"#cannot-parse-style-attribute",i}}function RQ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=y6(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=y6(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return BM.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ly(e)}function ly(e,t){const n=new Zi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=xQ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Zze(e){const t={};let n;for(n in e)BM.call(e,n)&&(t[Jze(n)]=e[n]);return t}function Jze(e){let t=e.replace(Lze,e8e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function e8e(e){return"-"+e.toLowerCase()}const qA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},t8e={};function n8e(e,t){const n=t8e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return AQ(e,r,i)}function AQ(e,t,n){if(r8e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _6(e.children,t,n)}return Array.isArray(e)?_6(e,t,n):""}function _6(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=AQ(e[i],t,n);return r.join("")}function r8e(e){return!!(e&&typeof e=="object")}const D6=document.createElement("i");function GM(e){const t="&"+e+";";D6.innerHTML=t;const n=D6.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Sl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function No(e,t){return e.length>0?(Sl(e,e.length,0,t),e):t}const P6={}.hasOwnProperty;function i8e(e){const t={};let n=-1;for(;++n<e.length;)s8e(t,e[n]);return t}function s8e(e,t){let n;for(n in t){const i=(P6.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){P6.call(i,o)||(i[o]=[]);const a=s[o];o8e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function o8e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Sl(e,0,0,r)}function _Q(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Vp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ka=od(/[A-Za-z]/),ro=od(/[\dA-Za-z]/),a8e=od(/[#-'*+\--9=?A-Z^-~]/);function vP(e){return e!==null&&(e<32||e===127)}const yP=od(/\d/),l8e=od(/[\dA-Fa-f]/),c8e=od(/[!-/:-@[-`{-~]/);function Ht(e){return e!==null&&e<-2}function Fs(e){return e!==null&&(e<0||e===32)}function An(e){return e===-2||e===-1||e===32}const u8e=od(new RegExp("\\p{P}|\\p{S}","u")),d8e=od(/\s/);function od(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ug(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ro(e.charCodeAt(n+1))&&ro(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Wn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return An(l)?(e.enter(n),a(l)):t(l)}function a(l){return An(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const h8e={tokenize:f8e};function f8e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Wn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Ht(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const p8e={tokenize:g8e},F6={tokenize:m8e};function g8e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(E){if(r<n.length){const F=n[r];return t.containerState=F[1],e.attempt(F[0].continuation,l,c)(E)}return c(E)}function l(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&R();const F=t.events.length;let I=F,_;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){_=t.events[I][1].end;break}x(r);let D=F;for(;D<t.events.length;)t.events[D][1].end={..._},D++;return Sl(t.events,I+1,0,t.events.slice(F)),t.events.length=D,c(E)}return a(E)}function c(E){if(r===n.length){if(!i)return p(E);if(i.currentConstruct&&i.currentConstruct.concrete)return y(E);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(F6,d,f)(E)}function d(E){return i&&R(),x(r),p(E)}function f(E){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,y(E)}function p(E){return t.containerState={},e.attempt(F6,m,y)(E)}function m(E){return r++,n.push([t.currentConstruct,t.containerState]),p(E)}function y(E){if(E===null){i&&R(),x(0),e.consume(E);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),C(E)}function C(E){if(E===null){b(e.exit("chunkFlow"),!0),x(0),e.consume(E);return}return Ht(E)?(e.consume(E),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(E),C)}function b(E,F){const I=t.sliceStream(E);if(F&&I.push(null),E.previous=s,s&&(s.next=E),s=E,i.defineSkip(E.start),i.write(I),t.parser.lazy[E.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const D=t.events.length;let P=D,k,B;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(k){B=t.events[P][1].end;break}k=!0}for(x(r),_=D;_<t.events.length;)t.events[_][1].end={...B},_++;Sl(t.events,P+1,0,t.events.slice(D)),t.events.length=_}}function x(E){let F=n.length;for(;F-- >E;){const I=n[F];t.containerState=I[1],I[0].exit.call(t,e)}n.length=E}function R(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function m8e(e,t,n){return Wn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function k6(e){if(e===null||Fs(e)||d8e(e))return 1;if(u8e(e))return 2}function UM(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const CP={name:"attention",resolveAll:v8e,tokenize:y8e};function v8e(e,t){let n=-1,r,i,s,o,a,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};I6(f,-l),I6(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=No(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=No(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=No(c,UM(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=No(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=No(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Sl(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function y8e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=k6(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),d=k6(l),f=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?f:f&&(i||!p)),c._close=!!(s===42?p:p&&(d||!f)),t(l)}}function I6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const C8e={name:"autolink",tokenize:w8e};function w8e(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Ka(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||ro(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||ro(m))&&r++<32?(e.consume(m),a):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||vP(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):a8e(m)?(e.consume(m),c):n(m)}function d(m){return ro(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||ro(m))&&r++<63){const y=m===45?p:f;return e.consume(m),y}return n(m)}}const lE={partial:!0,tokenize:b8e};function b8e(e,t,n){return r;function r(s){return An(s)?Wn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ht(s)?t(s):n(s)}}const DQ={continuation:{tokenize:x8e},exit:E8e,name:"blockQuote",tokenize:S8e};function S8e(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return An(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function x8e(e,t,n){const r=this;return i;function i(o){return An(o)?Wn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(DQ,t,n)(o)}}function E8e(e){e.exit("blockQuote")}const PQ={name:"characterEscape",tokenize:T8e};function T8e(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return c8e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const FQ={name:"characterReference",tokenize:R8e};function R8e(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=ro,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=l8e,d):(e.enter("characterReferenceValue"),s=7,o=yP,d(f))}function d(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return o===ro&&!GM(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),d):n(f)}}const M6={partial:!0,tokenize:_8e},O6={concrete:!0,name:"codeFenced",tokenize:A8e};function A8e(e,t,n){const r=this,i={partial:!0,tokenize:I};let s=0,o=0,a;return l;function l(_){return c(_)}function c(_){const D=r.events[r.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===a?(o++,e.consume(_),d):o<3?n(_):(e.exit("codeFencedFenceSequence"),An(_)?Wn(e,f,"whitespace")(_):f(_))}function f(_){return _===null||Ht(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(M6,C,F)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||Ht(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):An(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Wn(e,m,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),p)}function m(_){return _===null||Ht(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===null||Ht(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===a?n(_):(e.consume(_),y)}function C(_){return e.attempt(i,F,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),x}function x(_){return s>0&&An(_)?Wn(e,R,"linePrefix",s+1)(_):R(_)}function R(_){return _===null||Ht(_)?e.check(M6,C,F)(_):(e.enter("codeFlowValue"),E(_))}function E(_){return _===null||Ht(_)?(e.exit("codeFlowValue"),R(_)):(e.consume(_),E)}function F(_){return e.exit("codeFenced"),t(_)}function I(_,D,P){let k=0;return B;function B(le){return _.enter("lineEnding"),_.consume(le),_.exit("lineEnding"),N}function N(le){return _.enter("codeFencedFence"),An(le)?Wn(_,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):V(le)}function V(le){return le===a?(_.enter("codeFencedFenceSequence"),G(le)):P(le)}function G(le){return le===a?(k++,_.consume(le),G):k>=o?(_.exit("codeFencedFenceSequence"),An(le)?Wn(_,oe,"whitespace")(le):oe(le)):P(le)}function oe(le){return le===null||Ht(le)?(_.exit("codeFencedFence"),D(le)):P(le)}}}function _8e(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const KA={name:"codeIndented",tokenize:P8e},D8e={partial:!0,tokenize:F8e};function P8e(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Wn(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Ht(c)?e.attempt(D8e,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||Ht(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function F8e(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Wn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Ht(o)?i(o):n(o)}}const k8e={name:"codeText",previous:M8e,resolve:I8e,tokenize:O8e};function I8e(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function M8e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function O8e(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):Ht(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Ht(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",c(f))}}class L8e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&c0(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),c0(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),c0(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);c0(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);c0(this.left,n.reverse())}}}function c0(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function kQ(e){const t={};let n=-1,r,i,s,o,a,l,c;const d=new L8e(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,N8e(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return Sl(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function N8e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,f,p=-1,m=n,y=0,C=0;const b=[C];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(C=p+1,b.push(C),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const x=a.slice(b[p],b[p+1]),R=s.pop();l.push([R,R+x.length-1]),e.splice(R,2,x)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const B8e={resolve:H8e,tokenize:G8e},V8e={partial:!0,tokenize:U8e};function H8e(e){return kQ(e),e}function G8e(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Ht(a)?e.check(V8e,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function U8e(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Wn(e,s,"linePrefix")}function s(o){if(o===null||Ht(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function IQ(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(x),e.exit(s),p):x===null||x===32||x===41||vP(x)?n(x):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),C(x))}function p(x){return x===62?(e.enter(s),e.consume(x),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(a),p(x)):x===null||x===60||Ht(x)?n(x):(e.consume(x),x===92?y:m)}function y(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function C(x){return!d&&(x===null||x===41||Fs(x))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,C):x===41?(e.consume(x),d--,C):x===null||x===32||x===40||vP(x)?n(x):(e.consume(x),x===92?b:C)}function b(x){return x===40||x===41||x===92?(e.consume(x),C):C(x)}}function MQ(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Ht(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ht(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!An(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,f):f(m)}}function OQ(e,t,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),l(o)):p===null?n(p):Ht(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Wn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Ht(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function iv(e,t){let n;return r;function r(i){return Ht(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):An(i)?Wn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const z8e={name:"definition",tokenize:W8e},j8e={partial:!0,tokenize:$8e};function W8e(e,t,n){const r=this;let i;return s;function s(m){return e.enter("definition"),o(m)}function o(m){return MQ.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Vp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Fs(m)?iv(e,c)(m):c(m)}function c(m){return IQ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(j8e,f,f)(m)}function f(m){return An(m)?Wn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Ht(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function $8e(e,t,n){return r;function r(a){return Fs(a)?iv(e,i)(a):n(a)}function i(a){return OQ(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return An(a)?Wn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Ht(a)?t(a):n(a)}}const q8e={name:"hardBreakEscape",tokenize:K8e};function K8e(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Ht(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Y8e={name:"headingAtx",resolve:X8e,tokenize:Q8e};function X8e(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Sl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Q8e(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Fs(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Ht(d)?(e.exit("atxHeading"),t(d)):An(d)?Wn(e,a,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||Fs(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),c)}}const Z8e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],L6=["pre","script","style","textarea"],J8e={concrete:!0,name:"htmlFlow",resolveTo:n9e,tokenize:r9e},e9e={partial:!0,tokenize:s9e},t9e={partial:!0,tokenize:i9e};function n9e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function r9e(e,t,n){const r=this;let i,s,o,a,l;return c;function c(H){return d(H)}function d(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),f}function f(H){return H===33?(e.consume(H),p):H===47?(e.consume(H),s=!0,C):H===63?(e.consume(H),i=3,r.interrupt?t:L):Ka(H)?(e.consume(H),o=String.fromCharCode(H),b):n(H)}function p(H){return H===45?(e.consume(H),i=2,m):H===91?(e.consume(H),i=5,a=0,y):Ka(H)?(e.consume(H),i=4,r.interrupt?t:L):n(H)}function m(H){return H===45?(e.consume(H),r.interrupt?t:L):n(H)}function y(H){const X="CDATA[";return H===X.charCodeAt(a++)?(e.consume(H),a===X.length?r.interrupt?t:V:y):n(H)}function C(H){return Ka(H)?(e.consume(H),o=String.fromCharCode(H),b):n(H)}function b(H){if(H===null||H===47||H===62||Fs(H)){const X=H===47,ie=o.toLowerCase();return!X&&!s&&L6.includes(ie)?(i=1,r.interrupt?t(H):V(H)):Z8e.includes(o.toLowerCase())?(i=6,X?(e.consume(H),x):r.interrupt?t(H):V(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?R(H):E(H))}return H===45||ro(H)?(e.consume(H),o+=String.fromCharCode(H),b):n(H)}function x(H){return H===62?(e.consume(H),r.interrupt?t:V):n(H)}function R(H){return An(H)?(e.consume(H),R):B(H)}function E(H){return H===47?(e.consume(H),B):H===58||H===95||Ka(H)?(e.consume(H),F):An(H)?(e.consume(H),E):B(H)}function F(H){return H===45||H===46||H===58||H===95||ro(H)?(e.consume(H),F):I(H)}function I(H){return H===61?(e.consume(H),_):An(H)?(e.consume(H),I):E(H)}function _(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),l=H,D):An(H)?(e.consume(H),_):P(H)}function D(H){return H===l?(e.consume(H),l=null,k):H===null||Ht(H)?n(H):(e.consume(H),D)}function P(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Fs(H)?I(H):(e.consume(H),P)}function k(H){return H===47||H===62||An(H)?E(H):n(H)}function B(H){return H===62?(e.consume(H),N):n(H)}function N(H){return H===null||Ht(H)?V(H):An(H)?(e.consume(H),N):n(H)}function V(H){return H===45&&i===2?(e.consume(H),J):H===60&&i===1?(e.consume(H),se):H===62&&i===4?(e.consume(H),ae):H===63&&i===3?(e.consume(H),L):H===93&&i===5?(e.consume(H),ne):Ht(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(e9e,W,G)(H)):H===null||Ht(H)?(e.exit("htmlFlowData"),G(H)):(e.consume(H),V)}function G(H){return e.check(t9e,oe,W)(H)}function oe(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),le}function le(H){return H===null||Ht(H)?G(H):(e.enter("htmlFlowData"),V(H))}function J(H){return H===45?(e.consume(H),L):V(H)}function se(H){return H===47?(e.consume(H),o="",he):V(H)}function he(H){if(H===62){const X=o.toLowerCase();return L6.includes(X)?(e.consume(H),ae):V(H)}return Ka(H)&&o.length<8?(e.consume(H),o+=String.fromCharCode(H),he):V(H)}function ne(H){return H===93?(e.consume(H),L):V(H)}function L(H){return H===62?(e.consume(H),ae):H===45&&i===2?(e.consume(H),L):V(H)}function ae(H){return H===null||Ht(H)?(e.exit("htmlFlowData"),W(H)):(e.consume(H),ae)}function W(H){return e.exit("htmlFlow"),t(H)}}function i9e(e,t,n){const r=this;return i;function i(o){return Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function s9e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(lE,t,n)}}const o9e={name:"htmlText",tokenize:a9e};function a9e(e,t,n){const r=this;let i,s,o;return a;function a(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),l}function l(L){return L===33?(e.consume(L),c):L===47?(e.consume(L),I):L===63?(e.consume(L),E):Ka(L)?(e.consume(L),P):n(L)}function c(L){return L===45?(e.consume(L),d):L===91?(e.consume(L),s=0,y):Ka(L)?(e.consume(L),R):n(L)}function d(L){return L===45?(e.consume(L),m):n(L)}function f(L){return L===null?n(L):L===45?(e.consume(L),p):Ht(L)?(o=f,se(L)):(e.consume(L),f)}function p(L){return L===45?(e.consume(L),m):f(L)}function m(L){return L===62?J(L):L===45?p(L):f(L)}function y(L){const ae="CDATA[";return L===ae.charCodeAt(s++)?(e.consume(L),s===ae.length?C:y):n(L)}function C(L){return L===null?n(L):L===93?(e.consume(L),b):Ht(L)?(o=C,se(L)):(e.consume(L),C)}function b(L){return L===93?(e.consume(L),x):C(L)}function x(L){return L===62?J(L):L===93?(e.consume(L),x):C(L)}function R(L){return L===null||L===62?J(L):Ht(L)?(o=R,se(L)):(e.consume(L),R)}function E(L){return L===null?n(L):L===63?(e.consume(L),F):Ht(L)?(o=E,se(L)):(e.consume(L),E)}function F(L){return L===62?J(L):E(L)}function I(L){return Ka(L)?(e.consume(L),_):n(L)}function _(L){return L===45||ro(L)?(e.consume(L),_):D(L)}function D(L){return Ht(L)?(o=D,se(L)):An(L)?(e.consume(L),D):J(L)}function P(L){return L===45||ro(L)?(e.consume(L),P):L===47||L===62||Fs(L)?k(L):n(L)}function k(L){return L===47?(e.consume(L),J):L===58||L===95||Ka(L)?(e.consume(L),B):Ht(L)?(o=k,se(L)):An(L)?(e.consume(L),k):J(L)}function B(L){return L===45||L===46||L===58||L===95||ro(L)?(e.consume(L),B):N(L)}function N(L){return L===61?(e.consume(L),V):Ht(L)?(o=N,se(L)):An(L)?(e.consume(L),N):k(L)}function V(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),i=L,G):Ht(L)?(o=V,se(L)):An(L)?(e.consume(L),V):(e.consume(L),oe)}function G(L){return L===i?(e.consume(L),i=void 0,le):L===null?n(L):Ht(L)?(o=G,se(L)):(e.consume(L),G)}function oe(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Fs(L)?k(L):(e.consume(L),oe)}function le(L){return L===47||L===62||Fs(L)?k(L):n(L)}function J(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):n(L)}function se(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),he}function he(L){return An(L)?Wn(e,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):ne(L)}function ne(L){return e.enter("htmlTextData"),o(L)}}const zM={name:"labelEnd",resolveAll:d9e,resolveTo:h9e,tokenize:f9e},l9e={tokenize:p9e},c9e={tokenize:g9e},u9e={tokenize:m9e};function d9e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Sl(e,0,e.length,n),e}function h9e(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=No(a,e.slice(s+1,s+r+3)),a=No(a,[["enter",d,t]]),a=No(a,UM(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=No(a,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),a=No(a,e.slice(o+1)),a=No(a,[["exit",l,t]]),Sl(e,s,e.length,a),e}function f9e(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Vp(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(l9e,d,o?d:f)(p):p===91?e.attempt(c9e,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(u9e,d,f)(p)}function d(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function p9e(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Fs(f)?iv(e,s)(f):s(f)}function s(f){return f===41?d(f):IQ(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Fs(f)?iv(e,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?OQ(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Fs(f)?iv(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function g9e(e,t,n){const r=this;return i;function i(a){return MQ.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Vp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function m9e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const v9e={name:"labelStartImage",resolveAll:zM.resolveAll,tokenize:y9e};function y9e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const C9e={name:"labelStartLink",resolveAll:zM.resolveAll,tokenize:w9e};function w9e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const YA={name:"lineEnding",tokenize:b9e};function b9e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Wn(e,t,"linePrefix")}}const aS={name:"thematicBreak",tokenize:S9e};function S9e(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Ht(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),An(c)?Wn(e,a,"whitespace")(c):a(c))}}const xs={continuation:{tokenize:R9e},exit:_9e,name:"list",tokenize:T9e},x9e={partial:!0,tokenize:D9e},E9e={partial:!0,tokenize:A9e};function T9e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:yP(m)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(aS,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return yP(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(lE,r.interrupt?n:d,e.attempt(x9e,p,f))}function d(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return An(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function R9e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(lE,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Wn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!An(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(E9e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Wn(e,e.attempt(xs,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function A9e(e,t,n){const r=this;return Wn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function _9e(e){e.exit(this.containerState.type)}function D9e(e,t,n){const r=this;return Wn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!An(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const N6={name:"setextUnderline",resolveTo:P9e,tokenize:F9e};function P9e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function F9e(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),An(c)?Wn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ht(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const k9e={tokenize:I9e};function I9e(e){const t=this,n=e.attempt(lE,r,e.attempt(this.parser.constructs.flowInitial,i,Wn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(B8e,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const M9e={resolveAll:NQ()},O9e=LQ("string"),L9e=LQ("text");function LQ(e){return{resolveAll:NQ(e==="text"?N9e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function NQ(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function N9e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const B9e={42:xs,43:xs,45:xs,48:xs,49:xs,50:xs,51:xs,52:xs,53:xs,54:xs,55:xs,56:xs,57:xs,62:DQ},V9e={91:z8e},H9e={[-2]:KA,[-1]:KA,32:KA},G9e={35:Y8e,42:aS,45:[N6,aS],60:J8e,61:N6,95:aS,96:O6,126:O6},U9e={38:FQ,92:PQ},z9e={[-5]:YA,[-4]:YA,[-3]:YA,33:v9e,38:FQ,42:CP,60:[C8e,o9e],91:C9e,92:[q8e,PQ],93:zM,95:CP,96:k8e},j9e={null:[CP,M9e]},W9e={null:[42,95]},$9e={null:[]},q9e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:W9e,contentInitial:V9e,disable:$9e,document:B9e,flow:G9e,flowInitial:H9e,insideSpan:j9e,string:U9e,text:z9e},Symbol.toStringTag,{value:"Module"}));function K9e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:D(I),check:D(_),consume:R,enter:E,exit:F,interrupt:D(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:C,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function f(N){return o=No(o,N),b(),o[o.length-1]!==null?[]:(P(t,0),c.events=UM(s,c.events,c),c.events)}function p(N,V){return X9e(m(N),V)}function m(N){return Y9e(o,N)}function y(){const{_bufferIndex:N,_index:V,line:G,column:oe,offset:le}=r;return{_bufferIndex:N,_index:V,line:G,column:oe,offset:le}}function C(N){i[N.line]=N.column,B()}function b(){let N;for(;r._index<o.length;){const V=o[r._index];if(typeof V=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<V.length;)x(V.charCodeAt(r._bufferIndex));else x(V)}}function x(N){d=d(N)}function R(N){Ht(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,B()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=N}function E(N,V){const G=V||{};return G.type=N,G.start=y(),c.events.push(["enter",G,c]),a.push(G),G}function F(N){const V=a.pop();return V.end=y(),c.events.push(["exit",V,c]),V}function I(N,V){P(N,V.from)}function _(N,V){V.restore()}function D(N,V){return G;function G(oe,le,J){let se,he,ne,L;return Array.isArray(oe)?W(oe):"tokenize"in oe?W([oe]):ae(oe);function ae(fe){return Be;function Be(Ne){const Ie=Ne!==null&&fe[Ne],Fe=Ne!==null&&fe.null,rt=[...Array.isArray(Ie)?Ie:Ie?[Ie]:[],...Array.isArray(Fe)?Fe:Fe?[Fe]:[]];return W(rt)(Ne)}}function W(fe){return se=fe,he=0,fe.length===0?J:H(fe[he])}function H(fe){return Be;function Be(Ne){return L=k(),ne=fe,fe.partial||(c.currentConstruct=fe),fe.name&&c.parser.constructs.disable.null.includes(fe.name)?ie():fe.tokenize.call(V?Object.assign(Object.create(c),V):c,l,X,ie)(Ne)}}function X(fe){return N(ne,L),le}function ie(fe){return L.restore(),++he<se.length?H(se[he]):J}}}function P(N,V){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Sl(c.events,V,c.events.length-V,N.resolve(c.events.slice(V),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function k(){const N=y(),V=c.previous,G=c.currentConstruct,oe=c.events.length,le=Array.from(a);return{from:oe,restore:J};function J(){r=N,c.previous=V,c.currentConstruct=G,c.events.length=oe,a=le,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Y9e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function X9e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Q9e(e){const r={constructs:i8e([q9e,...(e||{}).extensions||[]]),content:i(h8e),defined:[],document:i(p8e),flow:i(k9e),lazy:{},string:i(O9e),text:i(L9e)};return r;function i(s){return o;function o(a){return K9e(r,s,a)}}}function Z9e(e){for(;!kQ(e););return e}const B6=/[\0\t\n\r]/g;function J9e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,d,f,p,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(B6.lastIndex=f,c=B6.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){t=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const eje=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tje(e){return e.replace(eje,nje)}function nje(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return _Q(n.slice(s?2:1),s?16:10)}return GM(n)||e}const BQ={}.hasOwnProperty;function rje(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ije(n)(Z9e(Q9e(n).document().write(J9e()(e,t,!0))))}function ije(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(At),autolinkProtocol:k,autolinkEmail:k,atxHeading:s(Xe),blockQuote:s(Fe),characterEscape:k,characterReference:k,codeFenced:s(rt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(rt,o),codeText:s(re,o),codeTextData:k,data:k,codeFlowValue:k,definition:s(bt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ze),hardBreakEscape:s(Ze),hardBreakTrailing:s(Ze),htmlFlow:s(ke,o),htmlFlowData:k,htmlText:s(ke,o),htmlTextData:k,image:s(ct),label:o,link:s(At),listItem:s(_t),listItemValue:p,listOrdered:s(mt,f),listUnordered:s(mt),paragraph:s(It),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Xe),strong:s(Gt),thematicBreak:s(wn)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:Ie,autolinkProtocol:Ne,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:fe,characterReference:Be,codeFenced:l(b),codeFencedFence:C,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:B,codeIndented:l(x),codeText:l(le),codeTextData:B,data:B,definition:l(),definitionDestinationString:F,definitionLabelString:R,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l(G),htmlFlowData:B,htmlText:l(oe),htmlTextData:B,image:l(se),label:ne,labelText:he,lineEnding:N,link:l(J),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:X,resourceDestinationString:L,resourceTitleString:ae,resource:W,setextHeading:l(P),setextHeadingLineSequence:D,setextHeadingText:_,strong:l(),thematicBreak:l()}};VQ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ve){let Oe={type:"root",children:[]};const Ke={stack:[Oe],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:d,data:n},lt=[];let dt=-1;for(;++dt<ve.length;)if(ve[dt][1].type==="listOrdered"||ve[dt][1].type==="listUnordered")if(ve[dt][0]==="enter")lt.push(dt);else{const Ut=lt.pop();dt=i(ve,Ut,dt)}for(dt=-1;++dt<ve.length;){const Ut=t[ve[dt][0]];BQ.call(Ut,ve[dt][1].type)&&Ut[ve[dt][1].type].call(Object.assign({sliceSerialize:ve[dt][2].sliceSerialize},Ke),ve[dt][1])}if(Ke.tokenStack.length>0){const Ut=Ke.tokenStack[Ke.tokenStack.length-1];(Ut[1]||V6).call(Ke,void 0,Ut[0])}for(Oe.position={start:su(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:su(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<t.transforms.length;)Oe=t.transforms[dt](Oe)||Oe;return Oe}function i(ve,Oe,Ke){let lt=Oe-1,dt=-1,Ut=!1,xn,Yt,er,dr;for(;++lt<=Ke;){const qn=ve[lt];switch(qn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qn[0]==="enter"?dt++:dt--,dr=void 0;break}case"lineEndingBlank":{qn[0]==="enter"&&(xn&&!dr&&!dt&&!er&&(er=lt),dr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dr=void 0}if(!dt&&qn[0]==="enter"&&qn[1].type==="listItemPrefix"||dt===-1&&qn[0]==="exit"&&(qn[1].type==="listUnordered"||qn[1].type==="listOrdered")){if(xn){let br=lt;for(Yt=void 0;br--;){const Sr=ve[br];if(Sr[1].type==="lineEnding"||Sr[1].type==="lineEndingBlank"){if(Sr[0]==="exit")continue;Yt&&(ve[Yt][1].type="lineEndingBlank",Ut=!0),Sr[1].type="lineEnding",Yt=br}else if(!(Sr[1].type==="linePrefix"||Sr[1].type==="blockQuotePrefix"||Sr[1].type==="blockQuotePrefixWhitespace"||Sr[1].type==="blockQuoteMarker"||Sr[1].type==="listItemIndent"))break}er&&(!Yt||er<Yt)&&(xn._spread=!0),xn.end=Object.assign({},Yt?ve[Yt][1].start:qn[1].end),ve.splice(Yt||lt,0,["exit",xn,qn[2]]),lt++,Ke++}if(qn[1].type==="listItemPrefix"){const br={type:"listItem",_spread:!1,start:Object.assign({},qn[1].start),end:void 0};xn=br,ve.splice(lt,0,["enter",br,qn[2]]),lt++,Ke++,er=void 0,dr=!0}}}return ve[Oe][1]._spread=Ut,Ke}function s(ve,Oe){return Ke;function Ke(lt){a.call(this,ve(lt),lt),Oe&&Oe.call(this,lt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ve,Oe,Ke){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([Oe,Ke||void 0]),ve.position={start:su(Oe.start),end:void 0}}function l(ve){return Oe;function Oe(Ke){ve&&ve.call(this,Ke),c.call(this,Ke)}}function c(ve,Oe){const Ke=this.stack.pop(),lt=this.tokenStack.pop();if(lt)lt[0].type!==ve.type&&(Oe?Oe.call(this,ve,lt[0]):(lt[1]||V6).call(this,ve,lt[0]));else throw new Error("Cannot close `"+ve.type+"` ("+rv({start:ve.start,end:ve.end})+"): its not open");Ke.position.end=su(ve.end)}function d(){return n8e(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ve){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=ve}function y(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=ve}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=ve.replace(/(\r?\n|\r)$/g,"")}function R(ve){const Oe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Oe,Ke.identifier=Vp(this.sliceSerialize(ve)).toLowerCase()}function E(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=ve}function F(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=ve}function I(ve){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const Ke=this.sliceSerialize(ve).length;Oe.depth=Ke}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function D(ve){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function k(ve){const Ke=this.stack[this.stack.length-1].children;let lt=Ke[Ke.length-1];(!lt||lt.type!=="text")&&(lt=$t(),lt.position={start:su(ve.start),end:void 0},Ke.push(lt)),this.stack.push(lt)}function B(ve){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(ve),Oe.position.end=su(ve.end)}function N(ve){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ke=Oe.children[Oe.children.length-1];Ke.position.end=su(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Oe.type)&&(k.call(this,ve),B.call(this,ve))}function V(){this.data.atHardBreak=!0}function G(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=ve}function oe(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=ve}function le(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=ve}function J(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Oe,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function se(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Oe,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function he(ve){const Oe=this.sliceSerialize(ve),Ke=this.stack[this.stack.length-2];Ke.label=tje(Oe),Ke.identifier=Vp(Oe).toLowerCase()}function ne(){const ve=this.stack[this.stack.length-1],Oe=this.resume(),Ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ke.type==="link"){const lt=ve.children;Ke.children=lt}else Ke.alt=Oe}function L(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=ve}function ae(){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=ve}function W(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function X(ve){const Oe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Oe,Ke.identifier=Vp(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function ie(ve){this.data.characterReferenceType=ve.type}function fe(ve){const Oe=this.sliceSerialize(ve),Ke=this.data.characterReferenceType;let lt;Ke?(lt=_Q(Oe,Ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):lt=GM(Oe);const dt=this.stack[this.stack.length-1];dt.value+=lt}function Be(ve){const Oe=this.stack.pop();Oe.position.end=su(ve.end)}function Ne(ve){B.call(this,ve);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(ve)}function Ie(ve){B.call(this,ve);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(ve)}function Fe(){return{type:"blockquote",children:[]}}function rt(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function bt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ze(){return{type:"emphasis",children:[]}}function Xe(){return{type:"heading",depth:0,children:[]}}function Ze(){return{type:"break"}}function ke(){return{type:"html",value:""}}function ct(){return{type:"image",title:null,url:"",alt:null}}function At(){return{type:"link",title:null,url:"",children:[]}}function mt(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function _t(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function It(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function $t(){return{type:"text",value:""}}function wn(){return{type:"thematicBreak"}}}function su(e){return{line:e.line,column:e.column,offset:e.offset}}function VQ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?VQ(e,r):sje(e,r)}}function sje(e,t){let n;for(n in t)if(BQ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function V6(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+rv({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+rv({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+rv({start:t.start,end:t.end})+") is still open")}function oje(e){const t=this;t.parser=n;function n(r){return rje(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function aje(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function lje(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function cje(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function uje(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dje(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hje(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ug(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function fje(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pje(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function HQ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function gje(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return HQ(e,t);const i={src:Ug(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function mje(e,t){const n={src:Ug(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function vje(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function yje(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return HQ(e,t);const i={href:Ug(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Cje(e,t){const n={href:Ug(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function wje(e,t,n){const r=e.all(t),i=n?bje(n):GQ(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function bje(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=GQ(n[r])}return t}function GQ(e){const t=e.spread;return t??e.children.length>1}function Sje(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function xje(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Eje(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Tje(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rje(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=NM(t.children[1]),l=bQ(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Aje(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const f=t.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let y={type:"element",tagName:s,properties:p,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function _je(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const H6=9,G6=32;function Dje(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(U6(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(U6(t.slice(i),i>0,!1)),s.join("")}function U6(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===H6||s===G6;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===H6||s===G6;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Pje(e,t){const n={type:"text",value:Dje(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Fje(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const kje={blockquote:aje,break:lje,code:cje,delete:uje,emphasis:dje,footnoteReference:hje,heading:fje,html:pje,imageReference:gje,image:mje,inlineCode:vje,linkReference:yje,link:Cje,listItem:wje,list:Sje,paragraph:xje,root:Eje,strong:Tje,table:Rje,tableCell:_je,tableRow:Aje,text:Pje,thematicBreak:Fje,toml:wb,yaml:wb,definition:wb,footnoteDefinition:wb};function wb(){}const UQ=-1,cE=0,sv=1,Lx=2,jM=3,WM=4,$M=5,qM=6,zQ=7,jQ=8,z6=typeof self=="object"?self:globalThis,Ije=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case cE:case UQ:return n(o,i);case sv:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Lx:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case jM:return n(new Date(o),i);case WM:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case $M:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case qM:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case zQ:{const{name:a,message:l}=o;return n(new z6[a](l),i)}case jQ:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new z6[s](o),i)};return r},j6=e=>Ije(new Map,e)(0),Zf="",{toString:Mje}={},{keys:Oje}=Object,u0=e=>{const t=typeof e;if(t!=="object"||!e)return[cE,t];const n=Mje.call(e).slice(8,-1);switch(n){case"Array":return[sv,Zf];case"Object":return[Lx,Zf];case"Date":return[jM,Zf];case"RegExp":return[WM,Zf];case"Map":return[$M,Zf];case"Set":return[qM,Zf];case"DataView":return[sv,n]}return n.includes("Array")?[sv,n]:n.includes("Error")?[zQ,n]:[Lx,n]},bb=([e,t])=>e===cE&&(t==="function"||t==="symbol"),Lje=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=u0(o);switch(a){case cE:{let d=o;switch(l){case"bigint":a=jQ,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([UQ],o)}return i([a,d],o)}case sv:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const d=[],f=i([a,d],o);for(const p of o)d.push(s(p));return f}case Lx:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([a,d],o);for(const p of Oje(o))(e||!bb(u0(o[p])))&&d.push([s(p),s(o[p])]);return f}case jM:return i([a,o.toISOString()],o);case WM:{const{source:d,flags:f}=o;return i([a,{source:d,flags:f}],o)}case $M:{const d=[],f=i([a,d],o);for(const[p,m]of o)(e||!(bb(u0(p))||bb(u0(m))))&&d.push([s(p),s(m)]);return f}case qM:{const d=[],f=i([a,d],o);for(const p of o)(e||!bb(u0(p)))&&d.push(s(p));return f}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},W6=(e,{json:t,lossy:n}={})=>{const r=[];return Lje(!(t||n),!!t,new Map,r)(e),r},Nx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?j6(W6(e,t)):structuredClone(e):(e,t)=>j6(W6(e,t));function Nje(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Bje(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Vje(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Nje,r=e.options.footnoteBackLabel||Bje,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=Ug(f.toLowerCase());let m=0;const y=[],C=e.footnoteCounts.get(f);for(;C!==void 0&&++m<=C;){y.length>0&&y.push({type:"text",value:" "});let R=typeof n=="string"?n:n(l,m);typeof R=="string"&&(R={type:"text",value:R}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const R=b.children[b.children.length-1];R&&R.type==="text"?R.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else d.push(...y);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,x),a.push(x)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Nx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const WQ=function(e){if(e==null)return zje;if(typeof e=="function")return uE(e);if(typeof e=="object")return Array.isArray(e)?Hje(e):Gje(e);if(typeof e=="string")return Uje(e);throw new Error("Expected function, string, or object as test")};function Hje(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=WQ(e[n]);return uE(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Gje(e){const t=e;return uE(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Uje(e){return uE(t);function t(n){return n&&n.type===e}}function uE(e){return t;function t(n,r,i){return!!(jje(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function zje(){return!0}function jje(e){return e!==null&&typeof e=="object"&&"type"in e}const $Q=[],Wje=!0,$6=!1,$je="skip";function qje(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=WQ(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=$Q,y,C,b;if((!t||s(l,c,d[d.length-1]||void 0))&&(m=Kje(n(l,d)),m[0]===$6))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==$je)for(C=(r?x.children.length:-1)+o,b=d.concat(x);C>-1&&C<x.children.length;){const R=x.children[C];if(y=a(R,C,b)(),y[0]===$6)return y;C=typeof y[1]=="number"?y[1]:C+o}}return m}}}function Kje(e){return Array.isArray(e)?e:typeof e=="number"?[Wje,e]:e==null?$Q:[e]}function qQ(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),qje(e,s,a,i);function a(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const wP={}.hasOwnProperty,Yje={};function Xje(e,t){const n=t||Yje,r=new Map,i=new Map,s=new Map,o={...kje,...n.handlers},a={all:c,applyData:Zje,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Qje,wrap:eWe};return qQ(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),a;function l(d,f){const p=d.type,m=a.handlers[p];if(wP.call(a.handlers,p)&&m)return m(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:C,...b}=d,x=Nx(b);return x.children=a.all(d),x}return Nx(d)}return(a.options.unknownHandler||Jje)(a,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const y=a.one(p[m],d);if(y){if(m&&p[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=q6(y.value)),!Array.isArray(y)&&y.type==="element")){const C=y.children[0];C&&C.type==="text"&&(C.value=q6(C.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function Qje(e,t){e.position&&(t.position=Mze(e))}function Zje(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Nx(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Jje(e,t){const n=t.data||{},r="value"in t&&!(wP.call(n,"hProperties")||wP.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eWe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function q6(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function K6(e,t){const n=Xje(e,t),r=n.one(e,void 0),i=Vje(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function tWe(e,t){return e&&"run"in e?async function(n,r){const i=K6(n,{file:r,...t});await e.run(i,r)}:function(n,r){return K6(n,{file:r,...e||t})}}function Y6(e){if(e)throw e}var XA,X6;function nWe(){if(X6)return XA;X6=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!f)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},a=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return XA=function l(){var c,d,f,p,m,y,C=arguments[0],b=1,x=arguments.length,R=!1;for(typeof C=="boolean"&&(R=C,C=arguments[1]||{},b=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});b<x;++b)if(c=arguments[b],c!=null)for(d in c)f=a(C,d),p=a(c,d),C!==p&&(R&&p&&(s(p)||(m=i(p)))?(m?(m=!1,y=f&&i(f)?f:[]):y=f&&s(f)?f:{},o(C,{name:d,newValue:l(R,y,p)})):typeof p<"u"&&o(C,{name:d,newValue:p}));return C},XA}var rWe=nWe();const QA=vg(rWe);function bP(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function iWe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const d=e[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?sWe(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function sWe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Ua={basename:oWe,dirname:aWe,extname:lWe,join:cWe,sep:"/"};function oWe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');gC(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function aWe(e){if(gC(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function lWe(e){gC(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function cWe(...e){let t=-1,n;for(;++t<e.length;)gC(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":uWe(n)}function uWe(e){gC(e);const t=e.codePointAt(0)===47;let n=dWe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function dWe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function gC(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const hWe={cwd:fWe};function fWe(){return"/"}function SP(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function pWe(e){if(typeof e=="string")e=new URL(e);else if(!SP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return gWe(e)}function gWe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ZA=["history","path","basename","stem","extname","dirname"];class KQ{constructor(t){let n;t?SP(t)?n={path:t}:typeof t=="string"||mWe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":hWe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ZA.length;){const s=ZA[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)ZA.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ua.basename(this.path):void 0}set basename(t){e_(t,"basename"),JA(t,"basename"),this.path=Ua.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ua.dirname(this.path):void 0}set dirname(t){Q6(this.basename,"dirname"),this.path=Ua.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ua.extname(this.path):void 0}set extname(t){if(JA(t,"extname"),Q6(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ua.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){SP(t)&&(t=pWe(t)),e_(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ua.basename(this.path,this.extname):void 0}set stem(t){e_(t,"stem"),JA(t,"stem"),this.path=Ua.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Zi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function JA(e,t){if(e&&e.includes(Ua.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ua.sep+"`")}function e_(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Q6(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function mWe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const vWe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},yWe={}.hasOwnProperty;class KM extends vWe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=iWe()}copy(){const t=new KM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(QA(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(r_("data",this.frozen),this.namespace[t]=n,this):yWe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(r_("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Sb(t),r=this.parser||this.Parser;return t_("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),t_("process",this.parser||this.Parser),n_("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Sb(t),l=r.parse(a);r.run(l,a,function(d,f,p){if(d||!f||!p)return c(d);const m=f,y=r.stringify(m,p);bWe(y)?p.value=y:p.result=y,c(d,p)});function c(d,f){d||!f?o(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),t_("processSync",this.parser||this.Parser),n_("processSync",this.compiler||this.Compiler),this.process(t,i),J6("processSync","process",n),r;function i(s,o){n=!0,Y6(s),r=o}}run(t,n,r){Z6(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Sb(n);i.run(t,l,c);function c(d,f,p){const m=f||t;d?a(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),J6("runSync","run",r),i;function s(o,a){Y6(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Sb(n),i=this.compiler||this.Compiler;return n_("stringify",i),Z6(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(r_("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=QA(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...y]=d;const C=r[p][1];bP(C)&&bP(m)&&(m=QA(!0,C,m)),r[p]=[c,m,...y]}}}}const CWe=new KM().freeze();function t_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function n_(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function r_(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Z6(e){if(!bP(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function J6(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Sb(e){return wWe(e)?e:new KQ(e)}function wWe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function bWe(e){return typeof e=="string"||SWe(e)}function SWe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xWe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",e5=[],t5={allowDangerousHtml:!0},EWe=/^(https?|ircs?|mailto|xmpp)$/i,TWe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xb(e){const t=RWe(e),n=AWe(e);return _We(t.runSync(t.parse(n),n),e)}function RWe(e){const t=e.rehypePlugins||e5,n=e.remarkPlugins||e5,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...t5}:t5;return CWe().use(oje).use(n).use(tWe,r).use(t)}function AWe(e){const t=e.children||"",n=new KQ;return typeof t=="string"&&(n.value=t),n}function _We(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||DWe;for(const d of TWe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+xWe+d.id,void 0);return qQ(e,c),Vze(e,{Fragment:M.Fragment,components:i,ignoreInvalidStyle:!0,jsx:M.jsx,jsxs:M.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in qA)if(Object.hasOwn(qA,m)&&Object.hasOwn(d.properties,m)){const y=d.properties[m],C=qA[m];(C===null||C.includes(d.tagName))&&(d.properties[m]=l(String(y||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return a&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function DWe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||EWe.test(e.slice(0,t))?e:""}const YM=T.createContext({});function XM(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const QM=typeof window<"u",YQ=QM?T.useLayoutEffect:T.useEffect,dE=T.createContext(null);function ZM(e,t){e.indexOf(t)===-1&&e.push(t)}function JM(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Sc=(e,t,n)=>n>t?t:n<e?e:n;let e2=()=>{};const xc={},XQ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function QQ(e){return typeof e=="object"&&e!==null}const ZQ=e=>/^0[^.\s]+$/u.test(e);function t2(e){let t;return()=>(t===void 0&&(t=e()),t)}const jo=e=>e,PWe=(e,t)=>n=>t(e(n)),mC=(...e)=>e.reduce(PWe),cy=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class n2{constructor(){this.subscriptions=[]}add(t){return ZM(this.subscriptions,t),()=>JM(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dl=e=>e*1e3,hl=e=>e/1e3;function JQ(e,t){return t?e*(1e3/t):0}const eZ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,FWe=1e-7,kWe=12;function IWe(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=eZ(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>FWe&&++a<kWe);return o}function vC(e,t,n,r){if(e===t&&n===r)return jo;const i=s=>IWe(s,0,1,e,n);return s=>s===0||s===1?s:eZ(i(s),t,r)}const tZ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nZ=e=>t=>1-e(1-t),rZ=vC(.33,1.53,.69,.99),r2=nZ(rZ),iZ=tZ(r2),sZ=e=>(e*=2)<1?.5*r2(e):.5*(2-Math.pow(2,-10*(e-1))),i2=e=>1-Math.sin(Math.acos(e)),oZ=nZ(i2),aZ=tZ(i2),MWe=vC(.42,0,1,1),OWe=vC(0,0,.58,1),lZ=vC(.42,0,.58,1),LWe=e=>Array.isArray(e)&&typeof e[0]!="number",cZ=e=>Array.isArray(e)&&typeof e[0]=="number",NWe={linear:jo,easeIn:MWe,easeInOut:lZ,easeOut:OWe,circIn:i2,circInOut:aZ,circOut:oZ,backIn:r2,backInOut:iZ,backOut:rZ,anticipate:sZ},BWe=e=>typeof e=="string",n5=e=>{if(cZ(e)){e2(e.length===4);const[t,n,r,i]=e;return vC(t,n,r,i)}else if(BWe(e))return NWe[e];return e},Eb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VWe(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(a)}const c={schedule:(d,f=!1,p=!1)=>{const y=p&&i?n:r;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const HWe=40;function uZ(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Eb.reduce((E,F)=>(E[F]=VWe(s),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:m,postRender:y}=o,C=()=>{const E=xc.useManualTiming?i.timestamp:performance.now();n=!1,xc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,HWe),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(C))},b=()=>{n=!0,r=!0,i.isProcessing||e(C)};return{schedule:Eb.reduce((E,F)=>{const I=o[F];return E[F]=(_,D=!1,P=!1)=>(n||b(),I.schedule(_,D,P)),E},{}),cancel:E=>{for(let F=0;F<Eb.length;F++)o[Eb[F]].cancel(E)},state:i,steps:o}}const{schedule:rr,cancel:qu,state:xi,steps:i_}=uZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:jo,!0);let lS;function GWe(){lS=void 0}const _s={now:()=>(lS===void 0&&_s.set(xi.isProcessing||xc.useManualTiming?xi.timestamp:performance.now()),lS),set:e=>{lS=e,queueMicrotask(GWe)}},dZ=e=>t=>typeof t=="string"&&t.startsWith(e),s2=dZ("--"),UWe=dZ("var(--"),o2=e=>UWe(e)?zWe.test(e.split("/*")[0].trim()):!1,zWe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},uy={...zg,transform:e=>Sc(0,1,e)},Tb={...zg,default:1},ov=e=>Math.round(e*1e5)/1e5,a2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jWe(e){return e==null}const WWe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,l2=(e,t)=>n=>!!(typeof n=="string"&&WWe.test(n)&&n.startsWith(e)||t&&!jWe(n)&&Object.prototype.hasOwnProperty.call(n,t)),hZ=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(a2);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$We=e=>Sc(0,255,e),s_={...zg,transform:e=>Math.round($We(e))},Qd={test:l2("rgb","red"),parse:hZ("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+s_.transform(e)+", "+s_.transform(t)+", "+s_.transform(n)+", "+ov(uy.transform(r))+")"};function qWe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xP={test:l2("#"),parse:qWe,transform:Qd.transform},yC=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),au=yC("deg"),fl=yC("%"),Bt=yC("px"),KWe=yC("vh"),YWe=yC("vw"),r5={...fl,parse:e=>fl.parse(e)/100,transform:e=>fl.transform(e*100)},dp={test:l2("hsl","hue"),parse:hZ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+fl.transform(ov(t))+", "+fl.transform(ov(n))+", "+ov(uy.transform(r))+")"},Gr={test:e=>Qd.test(e)||xP.test(e)||dp.test(e),parse:e=>Qd.test(e)?Qd.parse(e):dp.test(e)?dp.parse(e):xP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qd.transform(e):dp.transform(e),getAnimatableNone:e=>{const t=Gr.parse(e);return t.alpha=0,Gr.transform(t)}},XWe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QWe(e){return isNaN(e)&&typeof e=="string"&&(e.match(a2)?.length||0)+(e.match(XWe)?.length||0)>0}const fZ="number",pZ="color",ZWe="var",JWe="var(",i5="${}",e7e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dy(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(e7e,l=>(Gr.test(l)?(r.color.push(s),i.push(pZ),n.push(Gr.parse(l))):l.startsWith(JWe)?(r.var.push(s),i.push(ZWe),n.push(l)):(r.number.push(s),i.push(fZ),n.push(parseFloat(l))),++s,i5)).split(i5);return{values:n,split:a,indexes:r,types:i}}function gZ(e){return dy(e).values}function mZ(e){const{split:t,types:n}=dy(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===fZ?s+=ov(i[o]):a===pZ?s+=Gr.transform(i[o]):s+=i[o]}return s}}const t7e=e=>typeof e=="number"?0:Gr.test(e)?Gr.getAnimatableNone(e):e;function n7e(e){const t=gZ(e);return mZ(e)(t.map(t7e))}const Ku={test:QWe,parse:gZ,createTransformer:mZ,getAnimatableNone:n7e};function o_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function r7e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=o_(l,a,e+1/3),s=o_(l,a,e),o=o_(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Bx(e,t){return n=>n>0?t:e}const ar=(e,t,n)=>e+(t-e)*n,a_=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},i7e=[xP,Qd,dp],s7e=e=>i7e.find(t=>t.test(e));function s5(e){const t=s7e(e);if(!t)return!1;let n=t.parse(e);return t===dp&&(n=r7e(n)),n}const o5=(e,t)=>{const n=s5(e),r=s5(t);if(!n||!r)return Bx(e,t);const i={...n};return s=>(i.red=a_(n.red,r.red,s),i.green=a_(n.green,r.green,s),i.blue=a_(n.blue,r.blue,s),i.alpha=ar(n.alpha,r.alpha,s),Qd.transform(i))},EP=new Set(["none","hidden"]);function o7e(e,t){return EP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function a7e(e,t){return n=>ar(e,t,n)}function c2(e){return typeof e=="number"?a7e:typeof e=="string"?o2(e)?Bx:Gr.test(e)?o5:u7e:Array.isArray(e)?vZ:typeof e=="object"?Gr.test(e)?o5:l7e:Bx}function vZ(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>c2(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function l7e(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=c2(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function c7e(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const u7e=(e,t)=>{const n=Ku.createTransformer(t),r=dy(e),i=dy(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?EP.has(e)&&!i.values.length||EP.has(t)&&!r.values.length?o7e(e,t):mC(vZ(c7e(r,i),i.values),n):Bx(e,t)};function yZ(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ar(e,t,n):c2(e)(e,t)}const d7e=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>rr.update(t,n),stop:()=>qu(t),now:()=>xi.isProcessing?xi.timestamp:_s.now()}},CZ=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Vx=2e4;function u2(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Vx;)t+=n,r=e.next(t);return t>=Vx?1/0:t}function h7e(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(u2(r),Vx);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:hl(i)}}const f7e=5;function wZ(e,t,n){const r=Math.max(t-f7e,0);return JQ(n-e(r),t-r)}const pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},l_=.001;function p7e({duration:e=pr.duration,bounce:t=pr.bounce,velocity:n=pr.velocity,mass:r=pr.mass}){let i,s,o=1-t;o=Sc(pr.minDamping,pr.maxDamping,o),e=Sc(pr.minDuration,pr.maxDuration,hl(e)),o<1?(i=c=>{const d=c*o,f=d*e,p=d-n,m=TP(c,o),y=Math.exp(-f);return l_-p/m*y},s=c=>{const f=c*o*e,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-f),C=TP(Math.pow(c,2),o);return(-i(c)+l_>0?-1:1)*((p-m)*y)/C}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-l_+d*f},s=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const a=5/e,l=m7e(i,s,a);if(e=dl(e),isNaN(l))return{stiffness:pr.stiffness,damping:pr.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const g7e=12;function m7e(e,t,n){let r=n;for(let i=1;i<g7e;i++)r=r-e(r)/t(r);return r}function TP(e,t){return e*Math.sqrt(1-t*t)}const v7e=["duration","bounce"],y7e=["stiffness","damping","mass"];function a5(e,t){return t.some(n=>e[n]!==void 0)}function C7e(e){let t={velocity:pr.velocity,stiffness:pr.stiffness,damping:pr.damping,mass:pr.mass,isResolvedFromDuration:!1,...e};if(!a5(e,y7e)&&a5(e,v7e))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Sc(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:pr.mass,stiffness:i,damping:s}}else{const n=p7e(e);t={...t,...n,mass:pr.mass},t.isResolvedFromDuration=!0}return t}function Hx(e=pr.visualDuration,t=pr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=C7e({...n,velocity:-hl(n.velocity||0)}),y=p||0,C=c/(2*Math.sqrt(l*d)),b=o-s,x=hl(Math.sqrt(l/d)),R=Math.abs(b)<5;r||(r=R?pr.restSpeed.granular:pr.restSpeed.default),i||(i=R?pr.restDelta.granular:pr.restDelta.default);let E;if(C<1){const I=TP(x,C);E=_=>{const D=Math.exp(-C*x*_);return o-D*((y+C*x*b)/I*Math.sin(I*_)+b*Math.cos(I*_))}}else if(C===1)E=I=>o-Math.exp(-x*I)*(b+(y+x*b)*I);else{const I=x*Math.sqrt(C*C-1);E=_=>{const D=Math.exp(-C*x*_),P=Math.min(I*_,300);return o-D*((y+C*x*b)*Math.sinh(P)+I*b*Math.cosh(P))/I}}const F={calculatedDuration:m&&f||null,next:I=>{const _=E(I);if(m)a.done=I>=f;else{let D=I===0?y:0;C<1&&(D=I===0?dl(y):wZ(E,I,_));const P=Math.abs(D)<=r,k=Math.abs(o-_)<=i;a.done=P&&k}return a.value=a.done?o:_,a},toString:()=>{const I=Math.min(u2(F),Vx),_=CZ(D=>F.next(I*D).value,I,30);return I+"ms "+_},toTransition:()=>{}};return F}Hx.applyToOptions=e=>{const t=h7e(e,100,Hx);return e.ease=t.ease,e.duration=dl(t.duration),e.type="keyframes",e};function RP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=P=>a!==void 0&&P<a||l!==void 0&&P>l,y=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let C=n*t;const b=f+C,x=o===void 0?b:o(b);x!==b&&(C=x-f);const R=P=>-C*Math.exp(-P/r),E=P=>x+R(P),F=P=>{const k=R(P),B=E(P);p.done=Math.abs(k)<=c,p.value=p.done?x:B};let I,_;const D=P=>{m(p.value)&&(I=P,_=Hx({keyframes:[p.value,y(p.value)],velocity:wZ(E,P,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return D(0),{calculatedDuration:null,next:P=>{let k=!1;return!_&&I===void 0&&(k=!0,F(P),D(P)),I!==void 0&&P>=I?_.next(P-I):(!k&&F(P),p)}}}function w7e(e,t,n){const r=[],i=n||xc.mix||yZ,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||jo:t;a=mC(l,a)}r.push(a)}return r}function b7e(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(e2(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=w7e(t,r,i),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const p=cy(e[f],e[f+1],d);return a[f](p)};return n?d=>c(Sc(e[0],e[s-1],d)):c}function S7e(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=cy(0,t,r);e.push(ar(n,1,i))}}function x7e(e){const t=[0];return S7e(t,e.length-1),t}function E7e(e,t){return e.map(n=>n*t)}function T7e(e,t){return e.map(()=>t||lZ).splice(0,e.length-1)}function av({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=LWe(r)?r.map(n5):n5(r),s={done:!1,value:t[0]},o=E7e(n&&n.length===t.length?n:x7e(t),e),a=b7e(o,t,{ease:Array.isArray(i)?i:T7e(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const R7e=e=>e!==null;function d2(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(R7e),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const A7e={decay:RP,inertia:RP,tween:av,keyframes:av,spring:Hx};function bZ(e){typeof e.type=="string"&&(e.type=A7e[e.type])}class h2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _7e=e=>e/100;class f2 extends h2{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_s.now()&&this.tick(_s.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bZ(t);const{type:n=av,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||av;l!==av&&typeof a[0]!="number"&&(this.mixKeyframes=mC(_7e,yZ(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=u2(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:m,type:y,onUpdate:C,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,F=r;if(f){const P=Math.min(this.currentTime,i)/a;let k=Math.floor(P),B=P%1;!B&&P>=1&&(B=1),B===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(p==="reverse"?(B=1-B,m&&(B-=m/a)):p==="mirror"&&(F=o)),E=Sc(0,1,B)*a}const I=R?{done:!1,value:d[0]}:F.next(E);s&&(I.value=s(I.value));let{done:_}=I;!R&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return D&&y!==RP&&(I.value=d2(d,this.options,b,this.speed)),C&&C(I.value),D&&this.finish(),I}then(t,n){return this.finished.then(t,n)}get duration(){return hl(this.calculatedDuration)}get time(){return hl(this.currentTime)}set time(t){t=dl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_s.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=hl(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=d7e,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_s.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function D7e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Zd=e=>e*180/Math.PI,AP=e=>{const t=Zd(Math.atan2(e[1],e[0]));return _P(t)},P7e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:AP,rotateZ:AP,skewX:e=>Zd(Math.atan(e[1])),skewY:e=>Zd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_P=e=>(e=e%360,e<0&&(e+=360),e),l5=AP,c5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),u5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),F7e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:c5,scaleY:u5,scale:e=>(c5(e)+u5(e))/2,rotateX:e=>_P(Zd(Math.atan2(e[6],e[5]))),rotateY:e=>_P(Zd(Math.atan2(-e[2],e[0]))),rotateZ:l5,rotate:l5,skewX:e=>Zd(Math.atan(e[4])),skewY:e=>Zd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function DP(e){return e.includes("scale")?1:0}function PP(e,t){if(!e||e==="none")return DP(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=F7e,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=P7e,i=a}if(!i)return DP(t);const s=r[t],o=i[1].split(",").map(I7e);return typeof s=="function"?s(o):o[s]}const k7e=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return PP(n,t)};function I7e(e){return parseFloat(e.trim())}const jg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wg=new Set(jg),d5=e=>e===zg||e===Bt,M7e=new Set(["x","y","z"]),O7e=jg.filter(e=>!M7e.has(e));function L7e(e){const t=[];return O7e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const fh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>PP(t,"x"),y:(e,{transform:t})=>PP(t,"y")};fh.translateX=fh.x;fh.translateY=fh.y;const ph=new Set;let FP=!1,kP=!1,IP=!1;function SZ(){if(kP){const e=Array.from(ph).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=L7e(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kP=!1,FP=!1,ph.forEach(e=>e.complete(IP)),ph.clear()}function xZ(){ph.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(kP=!0)})}function N7e(){IP=!0,xZ(),SZ(),IP=!1}class p2{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ph.add(this),FP||(FP=!0,rr.read(xZ),rr.resolveKeyframes(SZ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}D7e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ph.delete(this)}cancel(){this.state==="scheduled"&&(ph.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B7e=e=>e.startsWith("--");function V7e(e,t,n){B7e(t)?e.style.setProperty(t,n):e.style[t]=n}const H7e=t2(()=>window.ScrollTimeline!==void 0),G7e={};function U7e(e,t){const n=t2(e);return()=>G7e[t]??n()}const EZ=U7e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_0=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,h5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_0([0,.65,.55,1]),circOut:_0([.55,0,1,.45]),backIn:_0([.31,.01,.66,-.59]),backOut:_0([.33,1.53,.69,.99])};function TZ(e,t){if(e)return typeof e=="function"?EZ()?CZ(e,t):"ease-out":cZ(e)?_0(e):Array.isArray(e)?e.map(n=>TZ(n,t)||h5.easeOut):h5[e]}function z7e(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const f=TZ(a,i);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(d,p)}function RZ(e){return typeof e=="function"&&"applyToOptions"in e}function j7e({type:e,...t}){return RZ(e)&&EZ()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class W7e extends h2{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,e2(typeof t.type!="string");const c=j7e(t);this.animation=z7e(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=d2(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):V7e(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return hl(Number(t))}get time(){return hl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=dl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&H7e()?(this.animation.timeline=t,jo):n(this)}}const AZ={anticipate:sZ,backInOut:iZ,circInOut:aZ};function $7e(e){return e in AZ}function q7e(e){typeof e.ease=="string"&&$7e(e.ease)&&(e.ease=AZ[e.ease])}const f5=10;class K7e extends W7e{constructor(t){q7e(t),bZ(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new f2({...o,autoplay:!1}),l=dl(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-f5).value,a.sample(l).value,f5),a.stop()}}const p5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ku.test(e)||e==="0")&&!e.startsWith("url("));function Y7e(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X7e(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=p5(i,t),a=p5(s,t);return!o||!a?!1:Y7e(e)||(n==="spring"||RZ(n))&&r}function MP(e){e.duration=0,e.type}const Q7e=new Set(["opacity","clipPath","filter","transform"]),Z7e=t2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J7e(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Z7e()&&n&&Q7e.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const e$e=40;class t$e extends h2{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_s.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...f},m=d?.KeyframeResolver||p2;this.keyframeResolver=new m(a,(y,C,b)=>this.onKeyframesResolved(y,C,p,!b),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=_s.now(),X7e(t,s,o,a)||((xc.instantAnimations||!l)&&d?.(d2(t,r,n)),t[0]=t[t.length-1],MP(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>e$e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&J7e(p)?new K7e({...p,element:p.motionValue.owner.current}):new f2(p);m.finished.then(()=>this.notifyFinished()).catch(jo),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),N7e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const n$e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r$e(e){const t=n$e.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function _Z(e,t,n=1){const[r,i]=r$e(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return XQ(o)?parseFloat(o):o}return o2(i)?_Z(i,t,n+1):i}function g2(e,t){return e?.[t]??e?.default??e}const DZ=new Set(["width","height","top","left","right","bottom",...jg]),i$e={test:e=>e==="auto",parse:e=>e},PZ=e=>t=>t.test(e),FZ=[zg,Bt,fl,au,YWe,KWe,i$e],g5=e=>FZ.find(PZ(e));function s$e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ZQ(e):!0}const o$e=new Set(["brightness","contrast","saturate","opacity"]);function a$e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(a2)||[];if(!r)return e;const i=n.replace(r,"");let s=o$e.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const l$e=/\b([a-z-]*)\(.*?\)/gu,OP={...Ku,getAnimatableNone:e=>{const t=e.match(l$e);return t?t.map(a$e).join(" "):e}},m5={...zg,transform:Math.round},c$e={rotate:au,rotateX:au,rotateY:au,rotateZ:au,scale:Tb,scaleX:Tb,scaleY:Tb,scaleZ:Tb,skew:au,skewX:au,skewY:au,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:uy,originX:r5,originY:r5,originZ:Bt},m2={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,backgroundPositionX:Bt,backgroundPositionY:Bt,...c$e,zIndex:m5,fillOpacity:uy,strokeOpacity:uy,numOctaves:m5},u$e={...m2,color:Gr,backgroundColor:Gr,outlineColor:Gr,fill:Gr,stroke:Gr,borderColor:Gr,borderTopColor:Gr,borderRightColor:Gr,borderBottomColor:Gr,borderLeftColor:Gr,filter:OP,WebkitFilter:OP},kZ=e=>u$e[e];function IZ(e,t){let n=kZ(e);return n!==OP&&(n=Ku),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const d$e=new Set(["auto","none","0"]);function h$e(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!d$e.has(s)&&dy(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=IZ(n,i)}class f$e extends p2{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),o2(c))){const d=_Z(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!DZ.has(r)||t.length!==2)return;const[i,s]=t,o=g5(i),a=g5(s);if(o!==a)if(d5(o)&&d5(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else fh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||s$e(t[i]))&&r.push(i);r.length&&h$e(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=fh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function p$e(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const MZ=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function OZ(e){return QQ(e)&&"offsetHeight"in e}const v5=30,g$e=e=>!isNaN(parseFloat(e));class m$e{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=_s.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_s.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=g$e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new n2);const r=this.events[t].add(n);return t==="change"?()=>{r(),rr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_s.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>v5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,v5);return JQ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pg(e,t){return new m$e(e,t)}const{schedule:v2}=uZ(queueMicrotask,!1),aa={x:!1,y:!1};function LZ(){return aa.x||aa.y}function v$e(e){return e==="x"||e==="y"?aa[e]?null:(aa[e]=!0,()=>{aa[e]=!1}):aa.x||aa.y?null:(aa.x=aa.y=!0,()=>{aa.x=aa.y=!1})}function NZ(e,t){const n=p$e(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function y5(e){return!(e.pointerType==="touch"||LZ())}function y$e(e,t,n={}){const[r,i,s]=NZ(e,n),o=a=>{if(!y5(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=f=>{y5(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const BZ=(e,t)=>t?e===t?!0:BZ(e,t.parentElement):!1,y2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,C$e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w$e(e){return C$e.has(e.tagName)||e.tabIndex!==-1}const cS=new WeakSet;function C5(e){return t=>{t.key==="Enter"&&e(t)}}function c_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const b$e=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=C5(()=>{if(cS.has(n))return;c_(n,"down");const i=C5(()=>{c_(n,"up")}),s=()=>c_(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function w5(e){return y2(e)&&!LZ()}function S$e(e,t,n={}){const[r,i,s]=NZ(e,n),o=a=>{const l=a.currentTarget;if(!w5(a))return;cS.add(l);const c=t(l,a),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),cS.has(l)&&cS.delete(l),w5(m)&&typeof c=="function"&&c(m,{success:y})},f=m=>{d(m,l===window||l===document||n.useGlobalTarget||BZ(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),OZ(a)&&(a.addEventListener("focus",c=>b$e(c,i)),!w$e(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function VZ(e){return QQ(e)&&"ownerSVGElement"in e}function x$e(e){return VZ(e)&&e.tagName==="svg"}const Wi=e=>!!(e&&e.getVelocity),E$e=[...FZ,Gr,Ku],T$e=e=>E$e.find(PZ(e)),C2=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class R$e extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=OZ(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function A$e({children:e,isPresent:t,anchorX:n,root:r}){const i=T.useId(),s=T.useRef(null),o=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(C2);return T.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:f,right:p}=o.current;if(t||!s.current||!l||!c)return;const m=n==="left"?`left: ${f}`:`right: ${p}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");a&&(y.nonce=a);const C=r??document.head;return C.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{C.contains(y)&&C.removeChild(y)}},[t]),M.jsx(R$e,{isPresent:t,childRef:s,sizeRef:o,children:T.cloneElement(e,{ref:s})})}const _$e=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=XM(D$e),d=T.useId();let f=!0,p=T.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:m=>{c.set(m,!0);for(const y of c.values())if(!y)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return s&&f&&(p={...p}),T.useMemo(()=>{c.forEach((m,y)=>c.set(y,!1))},[n]),T.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=M.jsx(A$e,{isPresent:n,anchorX:a,root:l,children:e})),M.jsx(dE.Provider,{value:p,children:e})};function D$e(){return new Map}function HZ(e=!0){const t=T.useContext(dE);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=T.useId();T.useEffect(()=>{if(e)return i(s)},[e]);const o=T.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Rb=e=>e.key||"";function b5(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const u_=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=HZ(o),f=T.useMemo(()=>b5(e),[e]),p=o&&!c?[]:f.map(Rb),m=T.useRef(!0),y=T.useRef(f),C=XM(()=>new Map),[b,x]=T.useState(f),[R,E]=T.useState(f);YQ(()=>{m.current=!1,y.current=f;for(let _=0;_<R.length;_++){const D=Rb(R[_]);p.includes(D)?C.delete(D):C.get(D)!==!0&&C.set(D,!1)}},[R,p.length,p.join("-")]);const F=[];if(f!==b){let _=[...f];for(let D=0;D<R.length;D++){const P=R[D],k=Rb(P);p.includes(k)||(_.splice(D,0,P),F.push(P))}return s==="wait"&&F.length&&(_=F),E(b5(_)),x(f),null}const{forceRender:I}=T.useContext(YM);return M.jsx(M.Fragment,{children:R.map(_=>{const D=Rb(_),P=o&&!c?!1:f===R||p.includes(D),k=()=>{if(C.has(D))C.set(D,!0);else return;let B=!0;C.forEach(N=>{N||(B=!1)}),B&&(I?.(),E(y.current),o&&d?.(),r&&r())};return M.jsx(_$e,{isPresent:P,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:P?void 0:k,anchorX:a,children:_},D)})})},GZ=T.createContext({strict:!1}),S5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gg={};for(const e in S5)gg[e]={isEnabled:t=>S5[e].some(n=>!!t[n])};function P$e(e){for(const t in e)gg[t]={...gg[t],...e[t]}}const F$e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||F$e.has(e)}let UZ=e=>!Gx(e);function k$e(e){typeof e=="function"&&(UZ=t=>t.startsWith("on")?!Gx(t):e(t))}try{k$e(require("@emotion/is-prop-valid").default)}catch{}function I$e(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(UZ(i)||n===!0&&Gx(i)||!t&&!Gx(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const hE=T.createContext({});function fE(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function hy(e){return typeof e=="string"||Array.isArray(e)}const w2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b2=["initial",...w2];function pE(e){return fE(e.animate)||b2.some(t=>hy(e[t]))}function zZ(e){return!!(pE(e)||e.variants)}function M$e(e,t){if(pE(e)){const{initial:n,animate:r}=e;return{initial:n===!1||hy(n)?n:void 0,animate:hy(r)?r:void 0}}return e.inherit!==!1?t:{}}function O$e(e){const{initial:t,animate:n}=M$e(e,T.useContext(hE));return T.useMemo(()=>({initial:t,animate:n}),[x5(t),x5(n)])}function x5(e){return Array.isArray(e)?e.join(" "):e}const fy={};function L$e(e){for(const t in e)fy[t]=e[t],s2(t)&&(fy[t].isCSSVariable=!0)}function jZ(e,{layout:t,layoutId:n}){return Wg.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!fy[e]||e==="opacity")}const N$e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B$e=jg.length;function V$e(e,t,n){let r="",i=!0;for(let s=0;s<B$e;s++){const o=jg[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=MZ(a,m2[o]);if(!l){i=!1;const d=N$e[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function S2(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Wg.has(l)){o=!0;continue}else if(s2(l)){i[l]=c;continue}else{const d=MZ(c,m2[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=V$e(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const x2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WZ(e,t,n){for(const r in t)!Wi(t[r])&&!jZ(r,n)&&(e[r]=t[r])}function H$e({transformTemplate:e},t){return T.useMemo(()=>{const n=x2();return S2(n,t,e),Object.assign({},n.vars,n.style)},[t])}function G$e(e,t){const n=e.style||{},r={};return WZ(r,n,e),Object.assign(r,H$e(e,t)),r}function U$e(e,t){const n={},r=G$e(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const z$e={offset:"stroke-dashoffset",array:"stroke-dasharray"},j$e={offset:"strokeDashoffset",array:"strokeDasharray"};function W$e(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?z$e:j$e;e[s.offset]=Bt.transform(-r);const o=Bt.transform(t),a=Bt.transform(n);e[s.array]=`${o} ${a}`}function $Z(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(S2(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&W$e(f,i,s,o,!1)}const qZ=()=>({...x2(),attrs:{}}),KZ=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $$e(e,t,n,r){const i=T.useMemo(()=>{const s=qZ();return $Z(s,t,KZ(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};WZ(s,e.style,e),i.style={...s,...i.style}}return i}const q$e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E2(e){return typeof e!="string"||e.includes("-")?!1:!!(q$e.indexOf(e)>-1||/[A-Z]/u.test(e))}function K$e(e,t,n,{latestValues:r},i,s=!1){const a=(E2(e)?$$e:U$e)(t,r,i,e),l=I$e(t,typeof e=="string",s),c=e!==T.Fragment?{...l,...a,ref:n}:{},{children:d}=t,f=T.useMemo(()=>Wi(d)?d.get():d,[d]);return T.createElement(e,{...c,children:f})}function E5(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function T2(e,t,n,r){if(typeof t=="function"){const[i,s]=E5(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=E5(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function uS(e){return Wi(e)?e.get():e}function Y$e({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:X$e(n,r,i,e),renderState:t()}}function X$e(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=uS(s[p]);let{initial:o,animate:a}=e;const l=pE(e),c=zZ(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!fE(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const y=T2(e,p[m]);if(y){const{transitionEnd:C,transition:b,...x}=y;for(const R in x){let E=x[R];if(Array.isArray(E)){const F=d?E.length-1:0;E=E[F]}E!==null&&(i[R]=E)}for(const R in C)i[R]=C[R]}}}return i}const YZ=e=>(t,n)=>{const r=T.useContext(hE),i=T.useContext(dE),s=()=>Y$e(e,t,r,i);return n?s():XM(s)};function R2(e,t,n){const{style:r}=e,i={};for(const s in r)(Wi(r[s])||t.style&&Wi(t.style[s])||jZ(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const Q$e=YZ({scrapeMotionValuesFromProps:R2,createRenderState:x2});function XZ(e,t,n){const r=R2(e,t,n);for(const i in e)if(Wi(e[i])||Wi(t[i])){const s=jg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const Z$e=YZ({scrapeMotionValuesFromProps:XZ,createRenderState:qZ}),J$e=Symbol.for("motionComponentSymbol");function hp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function eqe(e,t,n){return T.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hp(n)&&(n.current=r))},[t])}const A2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tqe="framerAppearId",QZ="data-"+A2(tqe),ZZ=T.createContext({});function nqe(e,t,n,r,i){const{visualElement:s}=T.useContext(hE),o=T.useContext(GZ),a=T.useContext(dE),l=T.useContext(C2).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=T.useContext(ZZ);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&rqe(c.current,n,i,f);const p=T.useRef(!1);T.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const m=n[QZ],y=T.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return YQ(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),d.enteringChildren=void 0)}),d}function rqe(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:JZ(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&hp(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function JZ(e){if(e)return e.options.allowProjection!==!1?e.projection:JZ(e.parent)}function d_(e,{forwardMotionProps:t=!1}={},n,r){n&&P$e(n);const i=E2(e)?Z$e:Q$e;function s(a,l){let c;const d={...T.useContext(C2),...a,layoutId:iqe(a)},{isStatic:f}=d,p=O$e(a),m=i(a,f);if(!f&&QM){sqe();const y=oqe(d);c=y.MeasureLayout,p.visualElement=nqe(e,m,d,r,y.ProjectionNode)}return M.jsxs(hE.Provider,{value:p,children:[c&&p.visualElement?M.jsx(c,{visualElement:p.visualElement,...d}):null,K$e(e,a,eqe(m,p.visualElement,l),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=T.forwardRef(s);return o[J$e]=e,o}function iqe({layoutId:e}){const t=T.useContext(YM).id;return t&&e!==void 0?t+"-"+e:e}function sqe(e,t){T.useContext(GZ).strict}function oqe(e){const{drag:t,layout:n}=gg;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function aqe(e,t){if(typeof Proxy>"u")return d_;const n=new Map,r=(s,o)=>d_(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,d_(o,void 0,e,t)),n.get(o))})}function eJ({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function lqe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function cqe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function h_(e){return e===void 0||e===1}function LP({scale:e,scaleX:t,scaleY:n}){return!h_(e)||!h_(t)||!h_(n)}function Gd(e){return LP(e)||tJ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tJ(e){return T5(e.x)||T5(e.y)}function T5(e){return e&&e!=="0%"}function Ux(e,t,n){const r=e-n,i=t*r;return n+i}function R5(e,t,n,r,i){return i!==void 0&&(e=Ux(e,i,r)),Ux(e,n,r)+t}function NP(e,t=0,n=1,r,i){e.min=R5(e.min,t,n,r,i),e.max=R5(e.max,t,n,r,i)}function nJ(e,{x:t,y:n}){NP(e.x,t.translate,t.scale,t.originPoint),NP(e.y,n.translate,n.scale,n.originPoint)}const A5=.999999999999,_5=1.0000000000001;function uqe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&pp(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nJ(e,o)),r&&Gd(s.latestValues)&&pp(e,s.latestValues))}t.x<_5&&t.x>A5&&(t.x=1),t.y<_5&&t.y>A5&&(t.y=1)}function fp(e,t){e.min=e.min+t,e.max=e.max+t}function D5(e,t,n,r,i=.5){const s=ar(e.min,e.max,i);NP(e,t,n,s,r)}function pp(e,t){D5(e.x,t.x,t.scaleX,t.scale,t.originX),D5(e.y,t.y,t.scaleY,t.scale,t.originY)}function rJ(e,t){return eJ(cqe(e.getBoundingClientRect(),t))}function dqe(e,t,n){const r=rJ(e,n),{scroll:i}=t;return i&&(fp(r.x,i.offset.x),fp(r.y,i.offset.y)),r}const P5=()=>({translate:0,scale:1,origin:0,originPoint:0}),gp=()=>({x:P5(),y:P5()}),F5=()=>({min:0,max:0}),Ar=()=>({x:F5(),y:F5()}),BP={current:null},iJ={current:!1};function hqe(){if(iJ.current=!0,!!QM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>BP.current=e.matches;e.addEventListener("change",t),t()}else BP.current=!1}const fqe=new WeakMap;function pqe(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Wi(i))e.addValue(r,i);else if(Wi(s))e.addValue(r,pg(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,pg(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const k5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gqe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=_s.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,rr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=pE(n),this.isVariantNode=zZ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&Wi(m)&&m.set(l[p])}}mount(t){this.current=t,fqe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iJ.current||hqe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BP.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qu(this.notifyUpdate),qu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Wg.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&rr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gg){const n=gg[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ar()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<k5.length;r++){const i=k5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=pqe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=pg(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(XQ(r)||ZQ(r))?r=parseFloat(r):!T$e(r)&&Ku.test(n)&&(r=IZ(t,n)),this.setBaseTarget(t,Wi(r)?r.get():r)),Wi(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=T2(this.props,n,this.presenceContext?.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Wi(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new n2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){v2.render(this.render)}}class sJ extends gqe{constructor(){super(...arguments),this.KeyframeResolver=f$e}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Wi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oJ(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function mqe(e){return window.getComputedStyle(e)}class vqe extends sJ{constructor(){super(...arguments),this.type="html",this.renderInstance=oJ}readValueFromInstance(t,n){if(Wg.has(n))return this.projection?.isProjecting?DP(n):k7e(t,n);{const r=mqe(t),i=(s2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rJ(t,n)}build(t,n,r){S2(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return R2(t,n,r)}}const aJ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yqe(e,t,n,r){oJ(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(aJ.has(i)?i:A2(i),t.attrs[i])}class Cqe extends sJ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ar}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wg.has(n)){const r=kZ(n);return r&&r.default||0}return n=aJ.has(n)?n:A2(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return XZ(t,n,r)}build(t,n,r){$Z(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){yqe(t,n,r,i)}mount(t){this.isSVGTag=KZ(t.tagName),super.mount(t)}}const wqe=(e,t)=>E2(e)?new Cqe(t):new vqe(t,{allowProjection:e!==T.Fragment});function Hp(e,t,n){const r=e.getProps();return T2(r,t,n!==void 0?n:r.custom,e)}const VP=e=>Array.isArray(e);function bqe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pg(n))}function Sqe(e){return VP(e)?e[e.length-1]||0:e}function xqe(e,t){const n=Hp(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Sqe(s[o]);bqe(e,o,a)}}function Eqe(e){return!!(Wi(e)&&e.add)}function HP(e,t){const n=e.getValue("willChange");if(Eqe(n))return n.add(t);if(!n&&xc.WillChange){const r=new xc.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function lJ(e){return e.props[QZ]}const Tqe=e=>e!==null;function Rqe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Tqe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const Aqe={type:"spring",stiffness:500,damping:25,restSpeed:10},_qe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Dqe={type:"keyframes",duration:.8},Pqe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fqe=(e,{keyframes:t})=>t.length>2?Dqe:Wg.has(e)?e.startsWith("scale")?_qe(t[1]):Aqe:Pqe;function kqe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const _2=(e,t,n,r={},i,s)=>o=>{const a=g2(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-dl(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};kqe(a)||Object.assign(d,Fqe(e,d)),d.duration&&(d.duration=dl(d.duration)),d.repeatDelay&&(d.repeatDelay=dl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(MP(d),d.delay===0&&(f=!0)),(xc.instantAnimations||xc.skipAnimations)&&(f=!0,MP(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const p=Rqe(d.keyframes,a);if(p!==void 0){rr.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new f2(d):new t$e(d)};function Iqe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cJ(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),p=a[d];if(p===void 0||c&&Iqe(c,d))continue;const m={delay:n,...g2(s||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const x=lJ(e);if(x){const R=window.MotionHandoffAnimation(x,d,rr);R!==null&&(m.startTime=R,C=!0)}}HP(e,d),f.start(_2(d,f,p,e.shouldReduceMotion&&DZ.has(d)?{type:!1}:m,e,C));const b=f.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{rr.update(()=>{o&&xqe(e,o)})}),l}function uJ(e,t,n,r=0,i=1){const s=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function GP(e,t,n={}){const r=Hp(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(cJ(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return Mqe(e,t,l,c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function Mqe(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(GP(l,t,{...o,delay:n+(typeof r=="function"?0:r)+uJ(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Oqe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>GP(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=GP(e,t,n);else{const i=typeof t=="function"?Hp(e,t,n.custom):t;r=Promise.all(cJ(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function dJ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Lqe=b2.length;function hJ(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?hJ(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Lqe;n++){const r=b2[n],i=e.props[r];(hy(i)||i===!1)&&(t[r]=i)}return t}const Nqe=[...w2].reverse(),Bqe=w2.length;function Vqe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Oqe(e,n,r)))}function Hqe(e){let t=Vqe(e),n=I5(),r=!0;const i=l=>(c,d)=>{const f=Hp(e,d,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:m,...y}=f;c={...c,...y,...m}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,d=hJ(e.parent)||{},f=[],p=new Set;let m={},y=1/0;for(let b=0;b<Bqe;b++){const x=Nqe[b],R=n[x],E=c[x]!==void 0?c[x]:d[x],F=hy(E),I=x===l?R.isActive:null;I===!1&&(y=b);let _=E===d[x]&&E!==c[x]&&F;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),R.protectedKeys={...m},!R.isActive&&I===null||!E&&!R.prevProp||fE(E)||typeof E=="boolean")continue;const D=Gqe(R.prevProp,E);let P=D||x===l&&R.isActive&&!_&&F||b>y&&F,k=!1;const B=Array.isArray(E)?E:[E];let N=B.reduce(i(x),{});I===!1&&(N={});const{prevResolvedValues:V={}}=R,G={...V,...N},oe=se=>{P=!0,p.has(se)&&(k=!0,p.delete(se)),R.needsAnimating[se]=!0;const he=e.getValue(se);he&&(he.liveStyle=!1)};for(const se in G){const he=N[se],ne=V[se];if(m.hasOwnProperty(se))continue;let L=!1;VP(he)&&VP(ne)?L=!dJ(he,ne):L=he!==ne,L?he!=null?oe(se):p.add(se):he!==void 0&&p.has(se)?oe(se):R.protectedKeys[se]=!0}R.prevProp=E,R.prevResolvedValues=N,R.isActive&&(m={...m,...N}),r&&e.blockInitialAnimation&&(P=!1);const le=_&&D;P&&(!le||k)&&f.push(...B.map(se=>{const he={type:x};if(typeof se=="string"&&r&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,L=Hp(ne,se);if(ne.enteringChildren&&L){const{delayChildren:ae}=L.transition||{};he.delay=uJ(ne.enteringChildren,e,ae)}}return{animation:se,options:he}}))}if(p.size){const b={};if(typeof c.initial!="boolean"){const x=Hp(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(b.transition=x.transition)}p.forEach(x=>{const R=e.getBaseTarget(x),E=e.getValue(x);E&&(E.liveStyle=!0),b[x]=R??null}),f.push({animation:b})}let C=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(f):Promise.resolve()}function a(l,c){if(n[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,c)),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=I5(),r=!0}}}function Gqe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dJ(t,e):!1}function Od(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I5(){return{animate:Od(!0),whileInView:Od(),whileHover:Od(),whileTap:Od(),whileDrag:Od(),whileFocus:Od(),exit:Od()}}class ad{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Uqe extends ad{constructor(t){super(t),t.animationState||(t.animationState=Hqe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fE(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zqe=0;class jqe extends ad{constructor(){super(...arguments),this.id=zqe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Wqe={animation:{Feature:Uqe},exit:{Feature:jqe}};function py(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function CC(e){return{point:{x:e.pageX,y:e.pageY}}}const $qe=e=>t=>y2(t)&&e(t,CC(t));function lv(e,t,n,r){return py(e,t,$qe(n),r)}const fJ=1e-4,qqe=1-fJ,Kqe=1+fJ,pJ=.01,Yqe=0-pJ,Xqe=0+pJ;function fs(e){return e.max-e.min}function Qqe(e,t,n){return Math.abs(e-t)<=n}function M5(e,t,n,r=.5){e.origin=r,e.originPoint=ar(t.min,t.max,e.origin),e.scale=fs(n)/fs(t),e.translate=ar(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qqe&&e.scale<=Kqe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Yqe&&e.translate<=Xqe||isNaN(e.translate))&&(e.translate=0)}function cv(e,t,n,r){M5(e.x,t.x,n.x,r?r.originX:void 0),M5(e.y,t.y,n.y,r?r.originY:void 0)}function O5(e,t,n){e.min=n.min+t.min,e.max=e.min+fs(t)}function Zqe(e,t,n){O5(e.x,t.x,n.x),O5(e.y,t.y,n.y)}function L5(e,t,n){e.min=t.min-n.min,e.max=e.min+fs(t)}function uv(e,t,n){L5(e.x,t.x,n.x),L5(e.y,t.y,n.y)}function Io(e){return[e("x"),e("y")]}const gJ=({current:e})=>e?e.ownerDocument.defaultView:null,N5=(e,t)=>Math.abs(e-t);function Jqe(e,t){const n=N5(e.x,t.x),r=N5(e.y,t.y);return Math.sqrt(n**2+r**2)}class mJ{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=p_(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=Jqe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:C}=p,{timestamp:b}=xi;this.history.push({...C,timestamp:b});const{onStart:x,onMove:R}=this.handlers;m||(x&&x(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=f_(m,this.transformPagePoint),rr.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:y,onSessionEnd:C,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=p_(p.type==="pointercancel"?this.lastMoveEventInfo:f_(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,x),C&&C(p,x)},!y2(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=CC(t),l=f_(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=xi;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,p_(l,this.history)),this.removeListeners=mC(lv(this.contextWindow,"pointermove",this.handlePointerMove),lv(this.contextWindow,"pointerup",this.handlePointerUp),lv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qu(this.updatePoint)}}function f_(e,t){return t?{point:t(e.point)}:e}function B5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function p_({point:e},t){return{point:e,delta:B5(e,vJ(t)),offset:B5(e,eKe(t)),velocity:tKe(t,.1)}}function eKe(e){return e[0]}function vJ(e){return e[e.length-1]}function tKe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=vJ(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>dl(t)));)n--;if(!r)return{x:0,y:0};const s=hl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nKe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ar(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ar(n,e,r.max):Math.min(e,n)),e}function V5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function rKe(e,{top:t,left:n,bottom:r,right:i}){return{x:V5(e.x,n,i),y:V5(e.y,t,r)}}function H5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function iKe(e,t){return{x:H5(e.x,t.x),y:H5(e.y,t.y)}}function sKe(e,t){let n=.5;const r=fs(e),i=fs(t);return i>r?n=cy(t.min,t.max-r,e.min):r>i&&(n=cy(e.min,e.max-i,t.min)),Sc(0,1,n)}function oKe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const UP=.35;function aKe(e=UP){return e===!1?e=0:e===!0&&(e=UP),{x:G5(e,"left","right"),y:G5(e,"top","bottom")}}function G5(e,t,n){return{min:U5(e,t),max:U5(e,n)}}function U5(e,t){return typeof e=="number"?e:e[t]||0}const lKe=new WeakMap;class cKe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ar(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(CC(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:y,onDragStart:C}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v$e(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Io(x=>{let R=this.getAxisMotionValue(x).get()||0;if(fl.test(R)){const{projection:E}=this.visualElement;if(E&&E.layout){const F=E.layout.layoutBox[x];F&&(R=fs(F)*(parseFloat(R)/100))}}this.originPoint[x]=R}),C&&rr.postRender(()=>C(f,p)),HP(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:C,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=p;if(y&&this.currentDirection===null){this.currentDirection=uKe(x),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",p.point,x),this.updateAxis("y",p.point,x),this.visualElement.render(),b&&b(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Io(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new mJ(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:gJ(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&rr.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ab(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=nKe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&hp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=rKe(r.layoutBox,t):this.constraints=!1,this.elastic=aKe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Io(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=oKe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hp(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=dqe(r,i.root,this.visualElement.getTransformPagePoint());let o=iKe(i.layout.layoutBox,s);if(n){const a=n(lqe(o));this.hasMutatedConstraints=!!a,a&&(o=eJ(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Io(d=>{if(!Ab(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return HP(this.visualElement,t),r.start(_2(t,r,0,n,this.visualElement,!1))}stopAnimation(){Io(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Io(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Io(n=>{const{drag:r}=this.getProps();if(!Ab(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-ar(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Io(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=sKe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Io(o=>{if(!Ab(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ar(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;lKe.set(this.visualElement,this);const t=this.visualElement.current,n=lv(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rr.read(r);const o=py(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Io(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=UP,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ab(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uKe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dKe extends ad{constructor(t){super(t),this.removeGroupControls=jo,this.removeListeners=jo,this.controls=new cKe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jo}unmount(){this.removeGroupControls(),this.removeListeners()}}const z5=e=>(t,n)=>{e&&rr.postRender(()=>e(t,n))};class hKe extends ad{constructor(){super(...arguments),this.removePointerDownListener=jo}onPointerDown(t){this.session=new mJ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gJ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:z5(t),onStart:z5(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&rr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=lv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const d0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Bt.test(e))e=parseFloat(e);else return e;const n=j5(e,t.target.x),r=j5(e,t.target.y);return`${n}% ${r}%`}},fKe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ku.parse(e);if(i.length>5)return r;const s=Ku.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=ar(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let g_=!1;class pKe extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;L$e(gKe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),g_&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,g_=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||rr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),v2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;g_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yJ(e){const[t,n]=HZ(),r=T.useContext(YM);return M.jsx(pKe,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(ZZ),isPresent:t,safeToRemove:n})}const gKe={borderRadius:{...d0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:d0,borderTopRightRadius:d0,borderBottomLeftRadius:d0,borderBottomRightRadius:d0,boxShadow:fKe};function mKe(e,t,n){const r=Wi(e)?e:pg(e);return r.start(_2("",r,t,n)),r.animation}const vKe=(e,t)=>e.depth-t.depth;class yKe{constructor(){this.children=[],this.isDirty=!1}add(t){ZM(this.children,t),this.isDirty=!0}remove(t){JM(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vKe),this.isDirty=!1,this.children.forEach(t)}}function CKe(e,t){const n=_s.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(qu(r),e(s-t))};return rr.setup(r,!0),()=>qu(r)}const CJ=["TopLeft","TopRight","BottomLeft","BottomRight"],wKe=CJ.length,W5=e=>typeof e=="string"?parseFloat(e):e,$5=e=>typeof e=="number"||Bt.test(e);function bKe(e,t,n,r,i,s){i?(e.opacity=ar(0,n.opacity??1,SKe(r)),e.opacityExit=ar(t.opacity??1,0,xKe(r))):s&&(e.opacity=ar(t.opacity??1,n.opacity??1,r));for(let o=0;o<wKe;o++){const a=`border${CJ[o]}Radius`;let l=q5(t,a),c=q5(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$5(l)===$5(c)?(e[a]=Math.max(ar(W5(l),W5(c),r),0),(fl.test(c)||fl.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ar(t.rotate||0,n.rotate||0,r))}function q5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const SKe=wJ(0,.5,oZ),xKe=wJ(.5,.95,jo);function wJ(e,t,n){return r=>r<e?0:r>t?1:n(cy(e,t,r))}function K5(e,t){e.min=t.min,e.max=t.max}function Do(e,t){K5(e.x,t.x),K5(e.y,t.y)}function Y5(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function X5(e,t,n,r,i){return e-=t,e=Ux(e,1/n,r),i!==void 0&&(e=Ux(e,1/i,r)),e}function EKe(e,t=0,n=1,r=.5,i,s=e,o=e){if(fl.test(t)&&(t=parseFloat(t),t=ar(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ar(s.min,s.max,r);e===s&&(a-=t),e.min=X5(e.min,t,n,a,i),e.max=X5(e.max,t,n,a,i)}function Q5(e,t,[n,r,i],s,o){EKe(e,t[n],t[r],t[i],t.scale,s,o)}const TKe=["x","scaleX","originX"],RKe=["y","scaleY","originY"];function Z5(e,t,n,r){Q5(e.x,t,TKe,n?n.x:void 0,r?r.x:void 0),Q5(e.y,t,RKe,n?n.y:void 0,r?r.y:void 0)}function J5(e){return e.translate===0&&e.scale===1}function bJ(e){return J5(e.x)&&J5(e.y)}function eU(e,t){return e.min===t.min&&e.max===t.max}function AKe(e,t){return eU(e.x,t.x)&&eU(e.y,t.y)}function tU(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function SJ(e,t){return tU(e.x,t.x)&&tU(e.y,t.y)}function nU(e){return fs(e.x)/fs(e.y)}function rU(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _Ke{constructor(){this.members=[]}add(t){ZM(this.members,t),t.scheduleRender()}remove(t){if(JM(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DKe(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const m_=["","X","Y","Z"],PKe=1e3;let FKe=0;function v_(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function xJ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lJ(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",rr,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&xJ(r)}function EJ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=FKe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MKe),this.nodes.forEach(BKe),this.nodes.forEach(VKe),this.nodes.forEach(OKe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new yKe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new n2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=VZ(o)&&!x$e(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;rr.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=CKe(p,250),dS.hasAnimatedSinceResize&&(dS.hasAnimatedSinceResize=!1,this.nodes.forEach(oU)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||jKe,{onLayoutAnimationStart:C,onLayoutAnimationComplete:b}=c.getProps(),x=!this.targetLayout||!SJ(this.targetLayout,m),R=!f&&p;if(this.options.layoutRoot||this.resumeFrom||R||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...g2(y,"layout"),onPlay:C,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,R)}else f||oU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HKe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xJ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iU);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sU);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NKe),this.nodes.forEach(kKe),this.nodes.forEach(IKe)):this.nodes.forEach(sU),this.clearAllSnapshots();const a=_s.now();xi.delta=Sc(0,1e3/60,a-xi.timestamp),xi.timestamp=a,xi.isProcessing=!0,i_.update.process(xi),i_.preRender.process(xi),i_.render.process(xi),xi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,v2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LKe),this.sharedNodes.forEach(GKe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fs(this.snapshot.measuredBox.x)&&!fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bJ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Gd(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),WKe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ar();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($Ke))){const{scroll:c}=this.root;c&&(fp(a.x,c.offset.x),fp(a.y,c.offset.y))}return a}removeElementScroll(o){const a=Ar();if(Do(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Do(a,o),fp(a.x,d.offset.x),fp(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ar();Do(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&pp(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gd(d.latestValues)&&pp(l,d.latestValues)}return Gd(this.latestValues)&&pp(l,this.latestValues),l}removeTransform(o){const a=Ar();Do(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Gd(c.latestValues))continue;LP(c.latestValues)&&c.updateSnapshot();const d=Ar(),f=c.measurePageBox();Do(d,f),Z5(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Gd(this.latestValues)&&Z5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=xi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),uv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Do(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ar(),this.targetWithTransforms=Ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zqe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Do(this.target,this.layout.layoutBox),nJ(this.target,this.targetDelta)):Do(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),uv(this.relativeTargetOrigin,this.target,p.target),Do(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||LP(this.parent.latestValues)||tJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===xi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Do(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;uqe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ar());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y5(this.prevProjectionDelta.x,this.projectionDelta.x),Y5(this.prevProjectionDelta.y,this.projectionDelta.y)),cv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!rU(this.projectionDelta.x,this.prevProjectionDelta.x)||!rU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gp(),this.projectionDelta=gp(),this.projectionDeltaWithTransform=gp()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=gp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ar(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,C=m!==y,b=this.getStack(),x=!b||b.members.length<=1,R=!!(C&&!x&&this.options.crossfade===!0&&!this.path.some(zKe));this.animationProgress=0;let E;this.mixTargetDelta=F=>{const I=F/1e3;aU(f.x,o.x,I),aU(f.y,o.y,I),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UKe(this.relativeTarget,this.relativeTargetOrigin,p,I),E&&AKe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ar()),Do(E,this.relativeTarget)),C&&(this.animationValues=d,bKe(d,c,this.latestValues,I,R,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rr.update(()=>{dS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pg(0)),this.currentAnimation=mKe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PKe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&TJ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ar();const f=fs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=fs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Do(a,l),pp(a,d),cv(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _Ke),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&v_("z",o,c,this.animationValues);for(let d=0;d<m_.length;d++)v_(`rotate${m_[d]}`,o,c,this.animationValues),v_(`skew${m_[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=uS(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=uS(a?.pointerEvents)||""),this.hasProjected&&!Gd(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=DKe(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in fy){if(d[y]===void 0)continue;const{correct:C,applyTo:b,isCSSVariable:x}=fy[y],R=f==="none"?d[y]:C(d[y],c);if(b){const E=b.length;for(let F=0;F<E;F++)o[b[F]]=R}else x?this.options.visualElement.renderState.vars[y]=R:o[y]=R}this.options.layoutId&&(o.pointerEvents=c===this?uS(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(iU),this.root.sharedNodes.clear()}}}function kKe(e){e.updateLayout()}function IKe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Io(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],p=fs(f);f.min=n[d].min,f.max=f.min+p}):TJ(i,t.layoutBox,n)&&Io(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],p=fs(n[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=gp();cv(o,n,t.layoutBox);const a=gp();s?cv(a,e.applyTransform(r,!0),t.measuredBox):cv(a,n,t.layoutBox);const l=!bJ(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=Ar();uv(m,t.layoutBox,f.layoutBox);const y=Ar();uv(y,n,p.layoutBox),SJ(m,y)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function MKe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function OKe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LKe(e){e.clearSnapshot()}function iU(e){e.clearMeasurements()}function sU(e){e.isLayoutDirty=!1}function NKe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BKe(e){e.resolveTargetDelta()}function VKe(e){e.calcProjection()}function HKe(e){e.resetSkewAndRotation()}function GKe(e){e.removeLeadSnapshot()}function aU(e,t,n){e.translate=ar(t.translate,0,n),e.scale=ar(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lU(e,t,n,r){e.min=ar(t.min,n.min,r),e.max=ar(t.max,n.max,r)}function UKe(e,t,n,r){lU(e.x,t.x,n.x,r),lU(e.y,t.y,n.y,r)}function zKe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jKe={duration:.45,ease:[.4,0,.1,1]},cU=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),uU=cU("applewebkit/")&&!cU("chrome/")?Math.round:jo;function dU(e){e.min=uU(e.min),e.max=uU(e.max)}function WKe(e){dU(e.x),dU(e.y)}function TJ(e,t,n){return e==="position"||e==="preserve-aspect"&&!Qqe(nU(t),nU(n),.2)}function $Ke(e){return e!==e.root&&e.scroll?.wasRoot}const qKe=EJ({attachResizeListener:(e,t)=>py(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),y_={current:void 0},RJ=EJ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!y_.current){const e=new qKe({});e.mount(window),e.setOptions({layoutScroll:!0}),y_.current=e}return y_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KKe={pan:{Feature:hKe},drag:{Feature:dKe,ProjectionNode:RJ,MeasureLayout:yJ}};function hU(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&rr.postRender(()=>s(t,CC(t)))}class YKe extends ad{mount(){const{current:t}=this.node;t&&(this.unmount=y$e(t,(n,r)=>(hU(this.node,r,"Start"),i=>hU(this.node,i,"End"))))}unmount(){}}class XKe extends ad{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mC(py(this.node.current,"focus",()=>this.onFocus()),py(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fU(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&rr.postRender(()=>s(t,CC(t)))}class QKe extends ad{mount(){const{current:t}=this.node;t&&(this.unmount=S$e(t,(n,r)=>(fU(this.node,r,"Start"),(i,{success:s})=>fU(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zP=new WeakMap,C_=new WeakMap,ZKe=e=>{const t=zP.get(e.target);t&&t(e)},JKe=e=>{e.forEach(ZKe)};function eYe({root:e,...t}){const n=e||document;C_.has(n)||C_.set(n,{});const r=C_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(JKe,{root:e,...t})),r[i]}function tYe(e,t,n){const r=eYe(t);return zP.set(e,n),r.observe(e),()=>{zP.delete(e),r.unobserve(e)}}const nYe={some:0,all:1};class rYe extends ad{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:nYe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return tYe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(iYe(t,n))&&this.startObserver()}unmount(){}}function iYe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const sYe={inView:{Feature:rYe},tap:{Feature:QKe},focus:{Feature:XKe},hover:{Feature:YKe}},oYe={layout:{ProjectionNode:RJ,MeasureLayout:yJ}},aYe={...Wqe,...sYe,...KKe,...oYe},D2=aqe(aYe,wqe),lYe=({content:e})=>{const t=["I","You","He/She/It","We","They"],n=e.forms,r=(i,s)=>{switch(s){case"Present Simple":return i==="He/She/It"?n.thirdPersonSingular:n.base;case"Present Continuous":return i==="I"?`am ${n.gerund}`:i==="He/She/It"?`is ${n.gerund}`:`are ${n.gerund}`;case"Past Simple":return n.pastSimple;case"Present Perfect":return i==="He/She/It"?`has ${n.pastParticiple}`:`have ${n.pastParticiple}`;case"Simple Future":return`will ${n.simpleFuture.replace("will","")}`;default:return n.base}};return M.jsxs(D2.div,{className:"conjugate-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeInOut"},children:[M.jsx("div",{className:"verb-header text-center p-3 mb-3 bg-light rounded",children:M.jsxs("h2",{children:[e.verbSpanish.charAt(0).toUpperCase()+e.verbSpanish.slice(1)," ","/"," ",e.verbEnglish.charAt(0).toUpperCase()+e.verbEnglish.slice(1)]})}),M.jsxs(n9,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{children:"Pronoun"}),M.jsx("th",{children:"Simple Present"}),M.jsx("th",{children:"Present Continuous"}),M.jsx("th",{children:"Simple Past"}),M.jsx("th",{children:"Perfect Present"}),M.jsx("th",{children:"Simple Future"})]})}),M.jsx("tbody",{children:t.map(i=>M.jsxs("tr",{children:[M.jsx("td",{children:i}),M.jsx("td",{children:r(i,"Present Simple")}),M.jsx("td",{children:r(i,"Present Continuous")}),M.jsx("td",{children:r(i,"Past Simple")}),M.jsx("td",{children:r(i,"Present Perfect")}),M.jsx("td",{children:r(i,"Simple Future")})]},i))})]})]})},cYe=({content:e})=>{const{original_text:t,corrections:n}=e,r=hQ(),[i,s]=T.useState(null),o=T.useMemo(()=>{const d=[...n].sort((m,y)=>m.position.start-y.position.start),f=[];let p=0;for(const m of d){const y=m.original,C=m.position.start,b=[];let x=p,R;for(;(R=t.indexOf(y,x))>-1;)b.push({start:R,end:R+y.length}),x=R+1;if(b.length===0)continue;const E=b.reduce((F,I)=>{const _=Math.abs(F.start-C);return Math.abs(I.start-C)<_?I:F});f.push({...m,position:{start:E.start,end:E.end}}),p=E.end}return f.sort((m,y)=>m.position.start-y.position.start)},[t,n]),a=d=>{s(f=>f===d?null:d)},l=[];let c=0;return o.forEach((d,f)=>{d.position.start>c&&l.push(M.jsx("span",{children:t.slice(c,d.position.start)},`text-${f}`)),l.push(M.jsxs("span",{className:"correction-group",onClick:r?()=>a(f):void 0,onMouseEnter:r?void 0:()=>s(f),onMouseLeave:r?void 0:()=>s(null),children:[M.jsx("span",{className:"correction-original",children:d.original}),M.jsx("span",{className:"correction-corrected",children:d.corrected}),i===f&&M.jsxs("div",{className:"correction-popup",children:[M.jsxs("div",{className:"explanation-correction",children:[M.jsx("span",{className:"original-word",children:d.original})," "," ",M.jsx("span",{className:"corrected-word",children:d.corrected})]}),d.explanation&&M.jsx("p",{className:"explanation-text",children:d.explanation})]})]},`group-${f}`)),c=d.position.end}),c<t.length&&l.push(M.jsx("span",{children:t.slice(c)},"final-text")),M.jsxs("div",{className:"correction-container",children:[M.jsxs("p",{className:"correction-intro",children:[M.jsx("span",{className:"correction-intro-icon",children:""})," Pasa el mouse (o haz clic en mvil) sobre las correcciones para ver una explicacin detallada."]}),M.jsx("div",{className:"corrected-text-inline",children:l})]})},uYe=({message:e,isLastMessage:t,onRegenerate:n})=>{const[r,i]=T.useState(""),[s,o]=T.useState(!1),a=typeof e.content=="string"?e.content:e.content?.explanation||"";T.useEffect(()=>{if(i(""),o(!1),a){let c=0;const d=setInterval(()=>{i(a.substring(0,c+1)),c++,c>=a.length&&(clearInterval(d),e.content?.examples&&e.content.examples.length>0&&setTimeout(()=>o(!0),500))},20);return()=>clearInterval(d)}},[a,e.content?.examples]),T.useEffect(()=>{console.log(e)},[e]);const l=()=>{switch(e.mode){case"CORRECT":return M.jsx(cYe,{content:e.content});case"CONJUGATE":return M.jsxs(M.Fragment,{children:[M.jsx(lYe,{content:e.content}),M.jsx(xb,{children:r}),s&&M.jsxs("div",{className:"examples-section",children:[M.jsxs("div",{className:"examples-header",children:[M.jsx("span",{className:"examples-icon",children:""}),M.jsx("h4",{children:"Ejemplos de uso:"})]}),M.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,d)=>M.jsxs("div",{className:"example-item",children:[M.jsx("div",{className:"example-number",children:d+1}),M.jsx("div",{className:"example-content",children:M.jsx(xb,{children:c})})]},d))})]})]});default:return M.jsxs(M.Fragment,{children:[M.jsx(xb,{children:r}),s&&M.jsxs("div",{className:"examples-section",children:[M.jsxs("div",{className:"examples-header",children:[M.jsx("span",{className:"examples-icon",children:""}),M.jsx("h4",{children:"Ejemplos de uso:"})]}),M.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,d)=>M.jsxs("div",{className:"example-item",children:[M.jsx("div",{className:"example-number",children:d+1}),M.jsx("div",{className:"example-content",children:M.jsx(xb,{children:c})})]},d))})]})]})}};return M.jsxs("div",{className:"message-container bot-message-container",children:[M.jsx("div",{className:"avatar bot-avatar",children:M.jsx(LF,{size:24})}),M.jsxs("div",{className:"message-content",children:[M.jsx("div",{className:"message-bubble bot-message",children:l()}),t&&M.jsx("button",{className:"regenerate-button",onClick:n,children:M.jsx(_le,{size:16})})]})]})},dYe=({message:e})=>M.jsxs("div",{className:"message-container user-message-container",children:[M.jsx("div",{className:"message-bubble user-message",children:e}),M.jsx("div",{className:"avatar user-avatar",children:M.jsx(HF,{size:24})})]}),hYe=()=>M.jsx("div",{className:"message-bubble bot-message",children:M.jsx(Ko,{animation:"border",size:"sm"})}),fYe=()=>M.jsx("div",{className:"welcome-container",children:M.jsx(zr,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:M.jsxs(zr.Body,{children:[M.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:M.jsx(LF,{size:28})}),M.jsx(zr.Title,{as:"h2",className:"mb-3",children:"Hola! Soy tu Tutor de Ingls Decolonial"}),M.jsx(zr.Text,{className:"text-muted mb-4",children:"Estoy aqu para ayudarte a explorar el ingls desde una perspectiva decolonial. Puedes hacerme preguntas, pedirme que conjugue verbos o que te explique temas gramaticales."}),M.jsx("h5",{className:"mb-3",children:"Aqu tienes algunas ideas:"}),M.jsxs(ua,{variant:"flush",children:[M.jsx(ua.Item,{children:`"Conjuga el verbo 'walk' en ingls"`}),M.jsx(ua.Item,{children:'"Qu es el presente perfecto?"'}),M.jsx(ua.Item,{children:`"Explcame el uso de 'will' y 'going to'"`})]})]})})}),pYe=({messages:e,isLoading:t,onRegenerate:n})=>{const r=T.useRef(null);return T.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[e,t]),M.jsxs("div",{className:"chat-window",children:[e.length===0&&!t?M.jsx(fYe,{}):e.map((i,s)=>{const o=i.sender==="bot"&&s===e.length-1;return i.sender==="bot"?M.jsx(uYe,{message:i,isLastMessage:o,onRegenerate:n},i.id):M.jsx(dYe,{message:i.content},i.id)}),t&&M.jsx(hYe,{}),M.jsx("div",{ref:r})]})},gYe=()=>{const[e,t]=T.useState(""),[n,r]=T.useState([]),[i,s]=T.useState(!1),o=async c=>{if(c.preventDefault(),!e.trim()||i)return;const d={id:Np(),sender:"user",content:e};r(f=>[...f,d]),t(""),await l(e)},a=async()=>{if(i)return;const c=[...n].reverse().find(d=>d.sender==="user");c&&(r(d=>d.filter(f=>f.id!==n[n.length-1].id)),await l(c.content))},l=async c=>{s(!0);try{const d=await cze(c),f=await uze(c,d),p={id:Np(),sender:"bot",content:f.content,mode:f.mode};r(m=>[...m,p])}catch(d){console.error(d);const f={id:Np(),sender:"bot",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",mode:"EXPLAIN"};r(p=>[...p,f])}finally{s(!1)}};return M.jsxs("div",{className:"chat-container",children:[M.jsx("div",{style:{flexGrow:1},children:M.jsx(pYe,{messages:n,isLoading:i,onRegenerate:a})}),M.jsxs("form",{className:"chat-input-form",onSubmit:o,children:[M.jsx("input",{type:"text",value:e,onChange:c=>t(c.target.value),placeholder:"Escribe un mensaje...",disabled:i}),M.jsx("button",{type:"submit",disabled:i||!e.trim(),children:M.jsx(Ile,{size:18})})]})]})};async function mYe(e,t){const n=ZW(JW,e),r=await f0e(n,t,{contentType:t.type});return{url:await p0e(r.ref),fullPath:r.ref.fullPath}}async function vYe(e){const t=ZW(JW,e);await g0e(t)}const $g="posts",AJ="comments",yYe=async e=>{const{imageFile:t,description:n,sessionId:r,teacherId:i}=e,s=`posts/${r}/${Np()}-${t.name}`,{url:o}=await mYe(s,t),a={imageUrl:o,imagePath:s,description:n||"",teacherId:i,sessionId:r,createdAt:new Date,likes:[],commentsCount:0},l=await Qge(Dg(Is,$g),a);return{...a,id:l.id}},CYe=(e,t)=>{const n=D1(Dg(Is,$g),Bk("sessionId","==",e),_W("createdAt","desc"));return MW(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},wYe=async(e,t,n)=>{const r=ml(Is,$g,e);n?await cD(r,{likes:rme(t)}):await cD(r,{likes:nme(t)})},bYe=async(e,t)=>{const n=ml(Is,$g,e),r=Dg(n,AJ),i={...t,postId:e,createdAt:new Date};return await tme(Is,async s=>{const o=ml(r);s.set(o,i),s.update(n,{commentsCount:ime(1)})}),{...i,id:Np()}},SYe=(e,t)=>{const n=D1(Dg(Is,$g,e,AJ),_W("createdAt","asc"));return MW(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()}));t(i)})},xYe=async e=>{await vYe(e.imagePath),await IW(ml(Is,$g,e.id))},P2=M1((e,t)=>({posts:[],comments:{},isLoadingPosts:!1,isLoadingComments:!1,error:null,postsUnsubscribe:null,commentsUnsubscribe:{},fetchPosts:n=>{const{postsUnsubscribe:r}=t();r&&r(),e({isLoadingPosts:!0,error:null});const i=CYe(n,s=>{e({posts:s,isLoadingPosts:!1})});e({postsUnsubscribe:i})},fetchComments:n=>{const{commentsUnsubscribe:r}=t();r[n]&&r[n](),e({isLoadingComments:!0,error:null});const i=SYe(n,s=>{e(o=>({comments:{...o.comments,[n]:s},isLoadingComments:!1}))});e(s=>({commentsUnsubscribe:{...s.commentsUnsubscribe,[n]:i}}))},addPost:n=>e(r=>({posts:[n,...r.posts]})),updatePostLikes:(n,r)=>{e(i=>({posts:i.posts.map(s=>s.id===n?{...s,likes:r}:s)}))},removePost:n=>{e(r=>({posts:r.posts.filter(i=>i.id!==n)}))},addComment:(n,r)=>{e(i=>({comments:{...i.comments,[n]:[...i.comments[n]||[],r]}}))},cleanup:()=>{const{postsUnsubscribe:n,commentsUnsubscribe:r}=t();n&&n(),Object.values(r).forEach(i=>{i&&i()}),e({postsUnsubscribe:null,commentsUnsubscribe:{}})}})),EYe=({post:e,onClick:t})=>M.jsxs(D2.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"post-item-card",onClick:t,children:[M.jsx("img",{src:e.imageUrl,alt:e.description||"Post image",className:"card-image"}),M.jsxs("div",{className:"card-footer",children:[M.jsxs("div",{className:"stat",children:[M.jsx(i9,{size:18}),M.jsx("span",{children:e.likes.length})]}),M.jsxs("div",{className:"stat",children:[M.jsx(Tle,{size:18}),M.jsx("span",{children:e.commentsCount||0})]})]})]});var _J="en",F2={},jP={};function DJ(){return _J}function TYe(e){_J=e}function RYe(e){return F2[e]}function AYe(e){if(!e)throw new Error("No locale data passed");F2[e.locale]=e,jP[e.locale.toLowerCase()]=e.locale}function pU(e){if(F2[e])return e;if(jP[e.toLowerCase()])return jP[e.toLowerCase()]}function PJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return gU(e);case"best fit":return gU(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function gU(e){var t=pU(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=pU(e);if(r)return r}}var pe={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2);return i==1&&s!=11?"one":i>=2&&i<=4&&(s<12||s>14)?"few":r&&i==0||i>=5&&i<=9||s>=11&&s<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return i==1&&s!=11&&s!=71&&s!=91?"one":i==2&&s!=12&&s!=72&&s!=92?"two":(i==3||i==4||i==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":s&&o>=2&&o<=4&&(a<12||a>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1&&i?"one":r!=0&&s==0&&i?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=i.slice(-1);return s&&(r==1||r==2||r==3)||s&&o!=4&&o!=6&&o!=9||!s&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return t==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return t==1||!i&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-2),a=i.slice(-2);return s&&o==1||a==1?"one":s&&o==2||a==2?"two":s&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1?"one":r!=0&&s==0&&i?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t>=0&&t<2?"one":r!=0&&s==0&&i?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return r==1&&i||r==0&&!i?"one":r==2&&i?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],i=(n[1]||"").replace(/0+$/,""),s=Number(n[0])==t,o=r.slice(-1),a=r.slice(-2);return s&&o==1&&a!=11||i%10==1&&i%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,s=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",i=r.length,s=Number(n[0])==t,o=s&&n[0].slice(-1),a=s&&n[0].slice(-2),l=r.slice(-2),c=r.slice(-1);return s&&o==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":o==1&&a!=11||i==2&&c==1&&l!=11||i!=2&&c==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||i>=3&&i<=10?"few":i>=11&&i<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return t==1&&i?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&r!=1&&(s==0||s==1)||i&&s>=5&&s<=9||i&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return r==0||r==1?"one":r!=0&&s==0&&i?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,s=i&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&s>=1&&s<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&s==0||i&&s>=5&&s<=9||i&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"";return t==0||t==1||r==0&&i==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-2);return i&&s==1?"one":i&&s==2?"two":i&&(s==3||s==4)||!i?"few":"other"}};pe.as=pe.am;pe.az=pe.af;pe.bal=pe.af;pe.bg=pe.af;pe.bn=pe.am;pe.brx=pe.af;pe.ce=pe.af;pe.chr=pe.af;pe.de=pe.ast;pe.doi=pe.am;pe.ee=pe.af;pe.el=pe.af;pe.en=pe.ast;pe.et=pe.ast;pe.eu=pe.af;pe.fa=pe.am;pe.fi=pe.ast;pe.fil=pe.ceb;pe.fo=pe.af;pe.fur=pe.af;pe.fy=pe.ast;pe.gl=pe.ast;pe.gu=pe.am;pe.ha=pe.af;pe.hi=pe.am;pe.hr=pe.bs;pe.hsb=pe.dsb;pe.hu=pe.af;pe.hy=pe.ff;pe.ia=pe.ast;pe.id=pe.dz;pe.ig=pe.dz;pe.ii=pe.dz;pe.it=pe.ca;pe.ja=pe.dz;pe.jgo=pe.af;pe.jv=pe.dz;pe.ka=pe.af;pe.kea=pe.dz;pe.kk=pe.af;pe.kl=pe.af;pe.km=pe.dz;pe.kn=pe.am;pe.ko=pe.dz;pe.ks=pe.af;pe.ksh=pe.blo;pe.ku=pe.af;pe.ky=pe.af;pe.lb=pe.af;pe.lkt=pe.dz;pe.lo=pe.dz;pe.ml=pe.af;pe.mn=pe.af;pe.mr=pe.af;pe.ms=pe.dz;pe.my=pe.dz;pe.nb=pe.af;pe.ne=pe.af;pe.nl=pe.ast;pe.nn=pe.af;pe.no=pe.af;pe.nqo=pe.dz;pe.om=pe.af;pe.or=pe.af;pe.pa=pe.ak;pe.pcm=pe.am;pe.ps=pe.af;pe.rm=pe.af;pe.sah=pe.dz;pe.sc=pe.ast;pe.sd=pe.af;pe.sk=pe.cs;pe.so=pe.af;pe.sq=pe.af;pe.sr=pe.bs;pe.su=pe.dz;pe.sv=pe.ast;pe.sw=pe.ast;pe.syr=pe.af;pe.ta=pe.af;pe.te=pe.af;pe.th=pe.dz;pe.ti=pe.ak;pe.tk=pe.af;pe.tn=pe.af;pe.to=pe.dz;pe.tr=pe.af;pe.ug=pe.af;pe.uk=pe.ru;pe.ur=pe.ast;pe.uz=pe.af;pe.vec=pe.ca;pe.vi=pe.dz;pe.wae=pe.af;pe.wo=pe.dz;pe.xh=pe.af;pe.yi=pe.ast;pe.yo=pe.dz;pe.yue=pe.dz;pe.zh=pe.dz;pe.zu=pe.am;function mU(e){return e==="pt-PT"?e:DYe(e)}var _Ye=/^([a-z0-9]+)/i;function DYe(e){var t=e.match(_Ye);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function PYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kYe(r.key),r)}}function FYe(e,t,n){return t&&vU(e.prototype,t),n&&vU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kYe(e){var t=IYe(e,"string");return gy(t)=="symbol"?t:t+""}function IYe(e,t){if(gy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WP=function(){function e(t,n){PYe(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=pe[mU(r[0])]}return FYe(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return pe[mU(r)]})}}]),e}();function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function yU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(n),!0).forEach(function(r){MYe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MYe(e,t,n){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wU(e,t){return BYe(e)||NYe(e,t)||LYe(e,t)||OYe()}function OYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LYe(e,t){if(e){if(typeof e=="string")return bU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bU(e,t):void 0}}function bU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NYe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function BYe(e){if(Array.isArray(e))return e}function VYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FJ(r.key),r)}}function GYe(e,t,n){return t&&HYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FJ(e){var t=UYe(e,"string");return mg(t)=="symbol"?t:t+""}function UYe(e,t){if(mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zYe=["second","minute","hour","day","week","month","quarter","year"],jYe=["auto","always"],WYe=["long","short","narrow"],$Ye=["lookup","best fit"],Yu=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};VYe(this,e);var r=n.numeric,i=n.style,s=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(jYe.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(i!==void 0){if(WYe.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(s!==void 0){if($Ye.indexOf(s)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(s));this.localeMatcher=s}if(typeof t=="string"&&(t=[t]),t.push(DJ()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");WP.supportedLocalesOf(this.locale).length>0?this.pluralRules=new WP(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=PJ(this.locale,{localeMatcher:this.localeMatcher})}return GYe(e,[{key:"format",value:function(){var n=SU(arguments),r=wU(n,2),i=r[0],s=r[1];return this.getRule(i,s).replace("{0}",this.formatNumber(Math.abs(i)))}},{key:"formatToParts",value:function(){var n=SU(arguments),r=wU(n,2),i=r[0],s=r[1],o=this.getRule(i,s),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var l=[];return a>0&&l.push({type:"literal",value:o.slice(0,a)}),l=l.concat(this.formatNumberToParts(Math.abs(i)).map(function(c){return CU(CU({},c),{},{unit:s})})),a+3<o.length-1&&l.push({type:"literal",value:o.slice(a+3)}),l}},{key:"getRule",value:function(n,r){var i=RYe(this.locale)[this.style][r];if(typeof i=="string")return i;if(this.numeric==="auto"){if(n===-2||n===-1){var s=i["previous".concat(n===-1?"":"-"+Math.abs(n))];if(s)return s}else if(n===1||n===2){var o=i["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&i.current)return i.current}var a=i[QYe(n)?"past":"future"];if(typeof a=="string")return a;var l=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return a[l]||a.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e}();Yu.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return PJ(n,t)})};Yu.addLocale=AYe;Yu.setDefaultLocale=TYe;Yu.getDefaultLocale=DJ;Yu.PluralRules=WP;var w_='Invalid "unit" argument';function qYe(e){if(mg(e)==="symbol")throw new TypeError(w_);if(typeof e!="string")throw new RangeError("".concat(w_,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),zYe.indexOf(e)<0)throw new RangeError("".concat(w_,": ").concat(e));return e}var KYe='Invalid "number" argument';function YYe(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(KYe,": ").concat(e));return e}function XYe(e){return 1/e===-1/0}function QYe(e){return e<0||e===0&&XYe(e)}function SU(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[YYe(e[0]),qYe(e[1])]}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function ZYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tXe(r.key),r)}}function eXe(e,t,n){return t&&JYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tXe(e){var t=nXe(e,"string");return Nh(t)=="symbol"?t:t+""}function nXe(e,t){if(Nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xU=function(){function e(){ZYe(this,e),this.cache={}}return eXe(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o=0,a=i;o<a.length;o++){var l=a[o];if(Nh(n)!=="object")return;n=n[l]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var s=r.pop(),o=r.pop(),a=this.cache,l=0,c=r;l<c.length;l++){var d=c[l];Nh(a[d])!=="object"&&(a[d]={}),a=a[d]}return a[o]=s}}]),e}();function $P(e){"@babel/helpers - typeof";return $P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$P(e)}function rXe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=iXe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iXe(e,t){if(e){if(typeof e=="string")return EU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EU(e,t):void 0}}function EU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sXe(e,t){for(var n=rXe(e),r;!(r=n()).done;){var i=r.value;if(t(i))return i;for(var s=i.split("-");s.length>1;)if(s.pop(),i=s.join("-"),t(i))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function oXe(){var e=(typeof Intl>"u"?"undefined":$P(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function qP(e){"@babel/helpers - typeof";return qP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qP(e)}function aXe(e){return cXe(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var lXe={}.constructor;function cXe(e){return qP(e)!==void 0&&e!==null&&e.constructor===lXe}var Xl=60,zx=60*Xl,gh=24*zx,KP=7*gh,YP=30.44*gh,kJ=146097/400*gh;function Gp(e){switch(e){case"second":return 1;case"minute":return Xl;case"hour":return zx;case"day":return gh;case"week":return KP;case"month":return YP;case"year":return kJ}}function IJ(e){return e.factor!==void 0?e.factor:Gp(e.unit||e.formatAs)||1}function my(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function k2(e){switch(e){case"floor":return 1;default:return .5}}function XP(e){"@babel/helpers - typeof";return XP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XP(e)}function MJ(e,t){var n=t.prevStep,r=t.timestamp,i=t.now,s=t.future,o=t.round,a;return n&&(n.id||n.unit)&&(a=e["threshold_for_".concat(n.id||n.unit)]),a===void 0&&e.threshold!==void 0&&(a=e.threshold,typeof a=="function"&&(a=a(i,s))),a===void 0&&(a=e.minTime),XP(a)==="object"&&(n&&n.id&&a[n.id]!==void 0?a=a[n.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:s,getMinTimeForUnit:function(c,d){return TU(c,d||n&&n.formatAs,{round:o})}})),a===void 0&&e.test&&(e.test(r,{now:i,future:s})?a=0:a=9007199254740991),a===void 0&&(n?e.formatAs&&n.formatAs&&(a=TU(e.formatAs,n.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),a}function TU(e,t,n){var r=n.round,i=Gp(e),s;if(t==="now"?s=Gp(e):s=Gp(t),i!==void 0&&s!==void 0)return i-s*(1-k2(r))}function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function RU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uXe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RU(Object(n),!0).forEach(function(r){dXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dXe(e,t,n){return(t=hXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hXe(e){var t=fXe(e,"string");return vy(t)=="symbol"?t:t+""}function fXe(e,t){if(vy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pXe(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.units;e=mXe(e,o);var a=gXe(e,t,{now:r,future:i,round:s});{if(a){var l=e[e.indexOf(a)-1],c=e[e.indexOf(a)+1];return[l,a,c]}return[void 0,void 0,e[0]]}}function gXe(e,t,n){var r=n.now,i=n.future,s=n.round;if(e.length!==0){var o=OJ(e,t,{now:r,future:i||t<0,round:s});if(o!==-1){var a=e[o];if(a.granularity){var l=my(s)(Math.abs(t)/IJ(a)/a.granularity)*a.granularity;if(l===0&&o>0)return e[o-1]}return a}}}function OJ(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=MJ(e[r],uXe({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return i===void 0||Math.abs(t)<i?r-1:r===e.length-1?r:OJ(e,t,n,r+1)}function mXe(e,t){return e.filter(function(n){var r=n.unit,i=n.formatAs;return r=r||i,r?t.indexOf(r)>=0:!0})}function vXe(e,t,n){var r=n.now,i=n.round;if(Gp(e)){var s=Gp(e)*1e3,o=t>r,a=Math.abs(t-r),l=my(i)(a/s)*s;return o?l>0?a-l+CXe(i,s):a-l+1:-(a-l)+yXe(i,s)}}function yXe(e,t){return k2(e)*t}function CXe(e,t){return(1-k2(e))*t+1}var wXe=365*24*60*60*1e3,LJ=1e3*wXe;function bXe(e,t,n){var r=n.prevStep,i=n.nextStep,s=n.now,o=n.future,a=n.round,l=e.getTime?e.getTime():e,c=function(y){return vXe(y,l,{now:s,round:a})},d=xXe(o?t:i,l,{future:o,now:s,round:a,prevStep:o?r:t});if(d!==void 0){var f;if(t&&(t.getTimeToNextUpdate&&(f=t.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:c,getRoundFunction:my,now:s,future:o,round:a})),f===void 0)){var p=t.unit||t.formatAs;p&&(f=c(p))}return f===void 0?d:Math.min(f,d)}}function SXe(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep,a=MJ(e,{timestamp:t,now:r,future:i,round:s,prevStep:o});if(a!==void 0)return i?t-a*1e3+1:a===0&&t===r?LJ:t+a*1e3}function xXe(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep;if(e){var a=SXe(e,t,{now:r,future:i,round:s,prevStep:o});return a===void 0?void 0:a-r}else return i?t-r+1:LJ}var NJ={};function mp(e){return NJ[e]}function BJ(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");NJ[e.locale]=e}const EXe=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],QP={steps:EXe,labels:"long"};function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(n),!0).forEach(function(r){TXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TXe(e,t,n){return(t=RXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RXe(e){var t=AXe(e,"string");return yy(t)=="symbol"?t:t+""}function AXe(e,t){if(yy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ZP=_U(_U({},QP),{},{steps:QP.steps.filter(function(e){return e.formatAs!=="second"})}),VJ=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Xl,unit:"minute"},{threshold:2.5*Xl,granularity:5,factor:Xl,unit:"minute"},{threshold:22.5*Xl,factor:.5*zx,unit:"half-hour"},{threshold:42.5*Xl,threshold_for_minute:52.5*Xl,factor:zx,unit:"hour"},{threshold:20.5/24*gh,factor:gh,unit:"day"},{threshold:5.5*gh,factor:KP,unit:"week"},{threshold:3.5*KP,factor:YP,unit:"month"},{threshold:10.5*YP,factor:kJ,unit:"year"}],DU={gradation:VJ,flavour:"long",units:["now","minute","hour","day","week","month","year"]},_Xe={gradation:VJ,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function HJ(e){return e instanceof Date?e:new Date(e)}var JP=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Ya={},DXe={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return Ya[n]||(Ya[n]={}),Ya[n].dayMonth||(Ya[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),Ya[n].dayMonth.format(HJ(t))}},PXe={minTime:function(t,n){var r=n.future;if(r){var i=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-i)/1e3}else{var s=new Date(new Date(t).getFullYear()+1,0).getTime();return(s-t)/1e3}},format:function(t,n){return Ya[n]||(Ya[n]={}),Ya[n].dayMonthYear||(Ya[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),Ya[n].dayMonthYear.format(HJ(t))}};oXe()?JP.push(DXe,PXe):JP.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const Bh={steps:JP,labels:["mini","short-time","narrow","short"]};function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(r){FXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FXe(e,t,n){return(t=kXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kXe(e){var t=IXe(e,"string");return Cy(t)=="symbol"?t:t+""}function IXe(e,t){if(Cy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const MXe=FU(FU({},Bh),{},{steps:[{formatAs:"now"}].concat(Bh.steps)});function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function kU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kU(Object(n),!0).forEach(function(r){OXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OXe(e,t,n){return(t=LXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LXe(e){var t=NXe(e,"string");return wy(t)=="symbol"?t:t+""}function NXe(e,t){if(wy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const eF=IU(IU({},Bh),{},{steps:Bh.steps.filter(function(e){return e.formatAs!=="second"})});function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function MU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(n),!0).forEach(function(r){BXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BXe(e,t,n){return(t=VXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VXe(e){var t=HXe(e,"string");return by(t)=="symbol"?t:t+""}function HXe(e,t){if(by(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const GXe=OU(OU({},eF),{},{steps:[{formatAs:"now"}].concat(eF.steps)});function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function LU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LU(Object(n),!0).forEach(function(r){UXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UXe(e,t,n){return(t=zXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zXe(e){var t=jXe(e,"string");return Sy(t)=="symbol"?t:t+""}function jXe(e,t){if(Sy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const WXe=_b(_b({},Bh),{},{steps:Bh.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?_b(_b({},e),{},{minTime:Xl}):e})}),xy={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function Ey(e){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(e)}function NU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NU(Object(n),!0).forEach(function(r){$Xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Xe(e,t,n){return(t=qXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qXe(e){var t=KXe(e,"string");return Ey(t)=="symbol"?t:t+""}function KXe(e,t){if(Ey(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const YXe=BU(BU({},xy),{},{steps:[{formatAs:"now"}].concat(xy.steps)});function Ty(e){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ty(e)}function VU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VU(Object(n),!0).forEach(function(r){XXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XXe(e,t,n){return(t=QXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QXe(e){var t=ZXe(e,"string");return Ty(t)=="symbol"?t:t+""}function ZXe(e,t){if(Ty(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const tF=HU(HU({},xy),{},{steps:xy.steps.filter(function(e){return e.formatAs!=="second"})});function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function GU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GU(Object(n),!0).forEach(function(r){JXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JXe(e,t,n){return(t=eQe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eQe(e){var t=tQe(e,"string");return Ry(t)=="symbol"?t:t+""}function tQe(e,t){if(Ry(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const nQe=UU(UU({},tF),{},{steps:[{formatAs:"now"}].concat(tF.steps)});function rQe(e){switch(e){case"default":case"round":return QP;case"round-minute":return ZP;case"approximate":return DU;case"time":case"approximate-time":return _Xe;case"mini":return xy;case"mini-now":return YXe;case"mini-minute":return tF;case"mini-minute-now":return nQe;case"twitter":return Bh;case"twitter-now":return MXe;case"twitter-minute":return eF;case"twitter-minute-now":return GXe;case"twitter-first-minute":return WXe;default:return DU}}function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function iQe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=GJ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQe(e,t){return lQe(e)||aQe(e,t)||GJ(e,t)||oQe()}function oQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(e,t){if(e){if(typeof e=="string")return zU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zU(e,t):void 0}}function zU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aQe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function lQe(e){if(Array.isArray(e))return e}function cQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hQe(r.key),r)}}function dQe(e,t,n){return t&&uQe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hQe(e){var t=fQe(e,"string");return Vh(t)=="symbol"?t:t+""}function fQe(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var va=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;cQe(this,e),typeof t=="string"&&(t=[t]),this.locale=sXe(t.concat(e.getDefaultLocale()),mp),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Yu,this.IntlPluralRules=Yu.PluralRules),this.relativeTimeFormatCache=new xU,this.pluralRulesCache=new xU}return dQe(e,[{key:"format",value:function(n,r,i){i||(r&&!yQe(r)?(i=r,r=void 0):i={}),r||(r=ZP),typeof r=="string"&&(r=rQe(r));var s=pQe(n),o=this.getLabels(r.flavour||r.labels),a=o.labels,l=o.labelsType,c;r.now!==void 0&&(c=r.now),c===void 0&&i.now!==void 0&&(c=i.now),c===void 0&&(c=Date.now());var d=(c-s)/1e3,f=i.future||d<0,p=vQe(a,mp(this.locale).now,mp(this.locale).long,f);if(r.custom){var m=r.custom({now:c,date:new Date(s),time:s,elapsed:d,locale:this.locale});if(m!==void 0)return m}var y=mQe(r.units,a,p),C=i.round||r.round,b=pXe(r.gradation||r.steps||ZP.steps,d,{now:c,units:y,round:C,future:f}),x=sQe(b,3),R=x[0],E=x[1],F=x[2],I=this.formatDateForStep(s,E,d,{labels:a,labelsType:l,nowLabel:p,now:c,future:f,round:C})||"";if(i.getTimeToNextUpdate){var _=bXe(s,E,{nextStep:F,prevStep:R,now:c,future:f,round:C});return[I,_]}return I}},{key:"formatDateForStep",value:function(n,r,i,s){var o=this,a=s.labels,l=s.labelsType,c=s.nowLabel,d=s.now,f=s.future,p=s.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(x,R){return o.formatValue(R,x,{labels:a,future:f})},now:d,future:f});var m=r.unit||r.formatAs;if(!m)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(m==="now")return c;var y=Math.abs(i)/IJ(r);r.granularity&&(y=my(p)(y/r.granularity)*r.granularity);var C=-1*Math.sign(i)*my(p)(y);switch(C===0&&(f?C=0:C=-0),l){case"long":case"short":case"narrow":return this.getFormatter(l).format(C,m);default:return this.formatValue(C,m,{labels:a,future:f})}}}},{key:"formatValue",value:function(n,r,i){var s=i.labels,o=i.future;return this.getFormattingRule(s,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,i,s){var o=s.future;if(this.locale,n=n[r],typeof n=="string")return n;var a=i===0?o?"future":"past":i<0?"past":"future",l=n[a]||n;if(typeof l=="string")return l;var c=this.getPluralRules().select(Math.abs(i));return l[c]||l.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),n=n.concat("long");for(var r=mp(this.locale),i=iQe(n),s;!(s=i()).done;){var o=s.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e}(),UJ="en";va.getDefaultLocale=function(){return UJ};va.setDefaultLocale=function(e){return UJ=e};va.addDefaultLocale=function(e){if(jU)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");jU=!0,va.setDefaultLocale(e.locale),va.addLocale(e)};var jU;va.addLocale=function(e){BJ(e),Yu.addLocale(e)};va.locale=va.addLocale;va.addLabels=function(e,t,n){var r=mp(e);r||(BJ({locale:e}),r=mp(e)),r[t]=n};function pQe(e){if(e.constructor===Date||gQe(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(Vh(e),", ").concat(e))}function gQe(e){return Vh(e)==="object"&&typeof e.getTime=="function"}function mQe(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(i){return i==="now"||r.indexOf(i)>=0})),r}function vQe(e,t,n,r){var i=e.now||t&&t.now;if(i)return typeof i=="string"?i:r?i.future:i.past;if(n&&n.second&&n.second.current)return n.second.current}function yQe(e){return typeof e=="string"||aXe(e)}const CQe={locale:"es",long:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:{one:"hace {0} ao",other:"hace {0} aos"},future:{one:"dentro de {0} ao",other:"dentro de {0} aos"}},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:{one:"hace {0} trimestre",other:"hace {0} trimestres"},future:{one:"dentro de {0} trimestre",other:"dentro de {0} trimestres"}},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:{one:"hace {0} mes",other:"hace {0} meses"},future:{one:"dentro de {0} mes",other:"dentro de {0} meses"}},week:{previous:"la semana pasada",current:"esta semana",next:"la prxima semana",past:{one:"hace {0} semana",other:"hace {0} semanas"},future:{one:"dentro de {0} semana",other:"dentro de {0} semanas"}},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:{one:"hace {0} da",other:"hace {0} das"},future:{one:"dentro de {0} da",other:"dentro de {0} das"}},hour:{current:"esta hora",past:{one:"hace {0} hora",other:"hace {0} horas"},future:{one:"dentro de {0} hora",other:"dentro de {0} horas"}},minute:{current:"este minuto",past:{one:"hace {0} minuto",other:"hace {0} minutos"},future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"}},second:{current:"ahora",past:{one:"hace {0} segundo",other:"hace {0} segundos"},future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"}}},short:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},narrow:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},now:{now:{current:"ahora",future:"enseguida",past:"ahora mismo"}},mini:{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:"{0} sem.",day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:"{0} min.",second:"{0} seg.",now:"ahora"},"long-time":{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:{one:"{0} semana",other:"{0} semanas"},day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:{one:"{0} minuto",other:"{0} minutos"},second:{one:"{0} segundo",other:"{0} segundos"}}};va.addDefaultLocale(CQe);const wQe=new va("es-CO"),bQe=({comment:e})=>M.jsxs("div",{className:"comment-item",children:[M.jsx("div",{className:"comment-avatar",children:M.jsx(HF,{size:20})}),M.jsxs("div",{className:"comment-body",children:[M.jsxs("div",{className:"comment-header",children:[M.jsx("span",{className:"comment-author",children:e.studentName}),M.jsx("span",{className:"comment-timestamp",children:wQe.format(e.createdAt)})]}),M.jsx("p",{className:"comment-text text-start",children:e.text})]})]}),SQe=({postId:e})=>{const{user:t}=El(),{comments:n,fetchComments:r,isLoadingComments:i}=P2(),s=n[e]||[],[o,a]=T.useState(""),[l,c]=T.useState(!1);T.useEffect(()=>{r&&typeof r=="function"&&r(e)},[e,r]);const d=async f=>{if(f.preventDefault(),!(!o.trim()||!t)){c(!0);try{await bYe(e,{text:o,studentId:t.id,studentName:t.name}),a("")}catch(p){console.error("Error adding comment:",p)}finally{c(!1)}}};return M.jsxs("div",{className:"d-flex flex-column h-100",children:[M.jsx("h5",{className:"mb-3",children:"Comentarios"}),M.jsxs("div",{className:"flex-grow-1",style:{overflowY:"auto",overflowX:"hidden"},children:[i&&M.jsx("div",{className:"text-center",children:M.jsx(Ko,{animation:"border",size:"sm"})}),!i&&s.length===0&&M.jsx("p",{className:"text-muted text-center mt-3",children:"No hay comentarios an. S el primero!"}),M.jsx("div",{children:s.map(f=>M.jsx(bQe,{comment:f},f.id))})]}),t?.role===Kn.STUDENT&&M.jsxs(Sn,{onSubmit:d,className:"mt-auto pt-3 border-top",children:[M.jsx(Sn.Group,{children:M.jsx(Sn.Control,{as:"textarea",rows:2,value:o,onChange:f=>a(f.target.value),placeholder:"Escribe un comentario...",required:!0,className:"mb-2"})}),M.jsx("div",{className:"d-grid",children:M.jsx(vr,{variant:"primary",type:"submit",disabled:l,children:l?"Enviando...":"Enviar Comentario"})})]})]})},xQe=({post:e,onClose:t})=>{const{user:n}=El(),i=P2(p=>p.posts.find(m=>m.id===e.id))||e,[s,o]=T.useState(!1),[a,l]=T.useState(!1),c=T.useMemo(()=>n?i.likes.includes(n.id):!1,[i.likes,n]),d=async()=>{if(!(!n||n.role!==Kn.STUDENT)){o(!0);try{await wYe(i.id,n.id,c)}catch(p){console.error("Error toggling like:",p)}finally{o(!1)}}},f=async()=>{if(!(!n||n.role!==Kn.TEACHER)&&window.confirm("Ests seguro de que quieres borrar este post? Esta accin no se puede deshacer.")){l(!0);try{await xYe(i),t()}catch(p){console.error("Error deleting post:",p),alert("Hubo un error al borrar el post.")}finally{l(!1)}}};return M.jsx(sr,{show:!0,onHide:t,size:"xl",centered:!0,contentClassName:"bg-transparent border-0",children:M.jsx(D2.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:M.jsx(sr.Body,{className:"p-0",children:M.jsxs(Kp,{className:"g-0",children:[M.jsx(tl,{md:7,className:"d-flex align-items-center justify-content-center bg-dark",children:M.jsx("img",{src:i.imageUrl,alt:i.description,className:"img-fluid",style:{maxHeight:"90vh",objectFit:"contain"}})}),M.jsxs(tl,{md:5,className:"bg-light p-4 d-flex flex-column",children:[M.jsxs("div",{children:[M.jsx("p",{children:i.description}),M.jsx("hr",{}),M.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[M.jsxs("div",{children:[n?.role===Kn.STUDENT&&M.jsx(vr,{variant:"link",onClick:d,disabled:s,className:"p-0 me-2",children:M.jsx(i9,{size:24,color:c?"red":"black",fill:c?"red":"none"})}),M.jsxs("span",{children:["A ",i.likes.length," personas les gusta esto"]})]}),n?.role===Kn.TEACHER&&M.jsx(vr,{variant:"outline-danger",onClick:f,disabled:a,children:a?M.jsx(Ko,{size:"sm"}):M.jsx(BF,{size:20})})]})]}),M.jsx("div",{className:"flex-grow-1 mt-3",children:M.jsx(SQe,{postId:i.id})}),M.jsx(vr,{variant:"secondary",onClick:t,className:"mt-auto",children:"Cerrar"})]})]})})})})},EQe=({sessionId:e,onClose:t})=>{const{user:n}=El(),[r,i]=T.useState(""),[s,o]=T.useState(null),[a,l]=T.useState(!1),[c,d]=T.useState(null),f=m=>{m.target.files&&m.target.files[0]&&o(m.target.files[0])},p=async m=>{if(m.preventDefault(),!s||!n){d("Por favor, selecciona una imagen.");return}l(!0),d(null);const y={imageFile:s,description:r,sessionId:e,teacherId:n.id};try{await yYe(y),t()}catch(C){d("Hubo un error al subir el post. Intntalo de nuevo."),console.error(C)}finally{l(!1)}};return M.jsxs(sr,{show:!0,onHide:t,centered:!0,children:[M.jsx(sr.Header,{closeButton:!0,children:M.jsx(sr.Title,{children:"Crear Nuevo Post"})}),M.jsx(sr.Body,{children:M.jsxs(Sn,{onSubmit:p,children:[M.jsxs(Sn.Group,{controlId:"formFile",className:"mb-3",children:[M.jsx(Sn.Label,{children:"Imagen del Post"}),M.jsx(Sn.Control,{type:"file",accept:"image/*",onChange:f,required:!0})]}),M.jsxs(Sn.Group,{controlId:"formDescription",className:"mb-3",children:[M.jsx(Sn.Label,{children:"Descripcin (opcional)"}),M.jsx(Sn.Control,{as:"textarea",rows:3,value:r,onChange:m=>i(m.target.value),placeholder:"Aade una descripcin..."})]}),c&&M.jsx("p",{className:"text-danger",children:c}),M.jsx("div",{className:"d-grid",children:M.jsx(vr,{variant:"primary",type:"submit",disabled:a,children:a?M.jsxs(M.Fragment,{children:[M.jsx(Ko,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Subiendo..."]}):"Publicar"})})]})})]})},TQe=()=>{const{sessionId:e}=Dne(),{user:t}=El(),{posts:n,fetchPosts:r,cleanup:i}=P2(),[s,o]=T.useState(null),[a,l]=T.useState(!1);T.useEffect(()=>(e&&r(e),()=>{i()}),[e,r,i]);const c=m=>{o(m)},d=()=>{o(null)},f=()=>{l(!0)},p=()=>{l(!1)};return M.jsxs("div",{className:"post-gallery-container p-4",children:[(e==="taller2-session"||t?.role===Kn.TEACHER)&&M.jsxs(vr,{variant:"success",size:"lg",onClick:f,className:"mb-3",children:[M.jsx(Ly,{size:24})," Aadir nuevo post"]}),M.jsx("div",{className:"post-gallery-grid",children:M.jsx(u_,{children:n.map(m=>M.jsx(EYe,{post:m,onClick:()=>c(m)},m.id))})}),M.jsx(u_,{children:s&&M.jsx(xQe,{post:s,onClose:d})}),M.jsx(u_,{children:a&&M.jsx(EQe,{sessionId:e,onClose:p})})]})},RQe=()=>M.jsx("div",{children:M.jsx(TQe,{})}),AQe=yre([{path:"/dashboard",element:M.jsx(Jse,{children:M.jsx(A0e,{})}),children:[{index:!0,element:M.jsx(yp,{to:"mapa",replace:!0})},{path:"mapa",element:M.jsx(o0,{allowedRoles:[Kn.STUDENT,Kn.TEACHER,Kn.ADMINISTRATOR],children:M.jsx(Cve,{})})},{path:"estudiantes",element:M.jsx(o0,{allowedRoles:[Kn.TEACHER,Kn.ADMINISTRATOR],children:M.jsx(k3e,{})})},{path:"grupos",element:M.jsx(o0,{allowedRoles:[Kn.TEACHER,Kn.ADMINISTRATOR],children:M.jsx(sze,{})})},{path:"chatbot",element:M.jsx(o0,{allowedRoles:[Kn.STUDENT,Kn.TEACHER,Kn.ADMINISTRATOR],children:M.jsx(gYe,{})})},{path:"galeria/:sessionId",element:M.jsx(o0,{allowedRoles:[Kn.STUDENT,Kn.TEACHER,Kn.ADMINISTRATOR],children:M.jsx(RQe,{})})}]},{path:"/",element:M.jsx(yp,{to:"/dashboard",replace:!0})},{path:"/login",element:M.jsx(oze,{children:M.jsx(ave,{})})},{path:"*",element:M.jsx(yp,{to:"/",replace:!0})}]);VCe.registerModules([mke]);function _Qe(){const[e,t]=T.useState(!0),{setUser:n}=El();return T.useEffect(()=>{const r=localStorage.getItem("user");r&&n(JSON.parse(r)),t(!1)},[]),e?M.jsx(Ko,{animation:"border",className:"d-flex justify-content-center align-items-center"}):M.jsx(Pre,{router:AQe})}bte.createRoot(document.getElementById("root")).render(M.jsx(T.StrictMode,{children:M.jsx(_Qe,{})}));
