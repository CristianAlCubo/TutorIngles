(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C_={exports:{}},I0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB;function Bre(){if(RB)return I0;RB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return I0.Fragment=t,I0.jsx=n,I0.jsxs=n,I0}var _B;function Vre(){return _B||(_B=1,C_.exports=Bre()),C_.exports}var O=Vre(),b_={exports:{}},nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AB;function Hre(){if(AB)return nn;AB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=h&&V[h]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function C(V,X,z){this.props=V,this.context=X,this.refs=y,this.updater=z||g}C.prototype.isReactComponent={},C.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function b(){}b.prototype=C.prototype;function E(V,X,z){this.props=V,this.context=X,this.refs=y,this.updater=z||g}var x=E.prototype=new b;x.constructor=E,v(x,C.prototype),x.isPureReactComponent=!0;var k=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function _(V,X,z,G,Y,J){return z=J.ref,{$$typeof:e,type:V,key:X,ref:z!==void 0?z:null,props:J}}function I(V,X){return _(V.type,X,void 0,void 0,void 0,V.props)}function F(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function N(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(z){return X[z]})}var B=/\/+/g;function M(V,X){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):X.toString(36)}function L(){}function H(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ee(V,X,z,G,Y){var J=typeof V;(J==="undefined"||J==="boolean")&&(V=null);var pe=!1;if(V===null)pe=!0;else switch(J){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(V.$$typeof){case e:case t:pe=!0;break;case u:return pe=V._init,ee(pe(V._payload),X,z,G,Y)}}if(pe)return Y=Y(V),pe=G===""?"."+M(V,0):G,k(Y)?(z="",pe!=null&&(z=pe.replace(B,"$&/")+"/"),ee(Y,X,z,"",function(Te){return Te})):Y!=null&&(F(Y)&&(Y=I(Y,z+(Y.key==null||V&&V.key===Y.key?"":(""+Y.key).replace(B,"$&/")+"/")+pe)),X.push(Y)),1;pe=0;var He=G===""?".":G+":";if(k(V))for(var Re=0;Re<V.length;Re++)G=V[Re],J=He+M(G,Re),pe+=ee(G,X,z,J,Y);else if(Re=p(V),typeof Re=="function")for(V=Re.call(V),Re=0;!(G=V.next()).done;)G=G.value,J=He+M(G,Re++),pe+=ee(G,X,z,J,Y);else if(J==="object"){if(typeof V.then=="function")return ee(H(V),X,z,G,Y);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pe}function re(V,X,z){if(V==null)return V;var G=[],Y=0;return ee(V,G,"","",function(J){return X.call(z,J,Y++)}),G}function te(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(z){(V._status===0||V._status===-1)&&(V._status=1,V._result=z)},function(z){(V._status===0||V._status===-1)&&(V._status=2,V._result=z)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var he=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Z(){}return nn.Children={map:re,forEach:function(V,X,z){re(V,function(){X.apply(this,arguments)},z)},count:function(V){var X=0;return re(V,function(){X++}),X},toArray:function(V){return re(V,function(X){return X})||[]},only:function(V){if(!F(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},nn.Component=C,nn.Fragment=n,nn.Profiler=i,nn.PureComponent=E,nn.StrictMode=r,nn.Suspense=l,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,nn.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},nn.cache=function(V){return function(){return V.apply(null,arguments)}},nn.cloneElement=function(V,X,z){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var G=v({},V.props),Y=V.key,J=void 0;if(X!=null)for(pe in X.ref!==void 0&&(J=void 0),X.key!==void 0&&(Y=""+X.key),X)!R.call(X,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&X.ref===void 0||(G[pe]=X[pe]);var pe=arguments.length-2;if(pe===1)G.children=z;else if(1<pe){for(var He=Array(pe),Re=0;Re<pe;Re++)He[Re]=arguments[Re+2];G.children=He}return _(V.type,Y,void 0,void 0,J,G)},nn.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},nn.createElement=function(V,X,z){var G,Y={},J=null;if(X!=null)for(G in X.key!==void 0&&(J=""+X.key),X)R.call(X,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Y[G]=X[G]);var pe=arguments.length-2;if(pe===1)Y.children=z;else if(1<pe){for(var He=Array(pe),Re=0;Re<pe;Re++)He[Re]=arguments[Re+2];Y.children=He}if(V&&V.defaultProps)for(G in pe=V.defaultProps,pe)Y[G]===void 0&&(Y[G]=pe[G]);return _(V,J,void 0,void 0,null,Y)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(V){return{$$typeof:a,render:V}},nn.isValidElement=F,nn.lazy=function(V){return{$$typeof:u,_payload:{_status:-1,_result:V},_init:te}},nn.memo=function(V,X){return{$$typeof:c,type:V,compare:X===void 0?null:X}},nn.startTransition=function(V){var X=D.T,z={};D.T=z;try{var G=V(),Y=D.S;Y!==null&&Y(z,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Z,he)}catch(J){he(J)}finally{D.T=X}},nn.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},nn.use=function(V){return D.H.use(V)},nn.useActionState=function(V,X,z){return D.H.useActionState(V,X,z)},nn.useCallback=function(V,X){return D.H.useCallback(V,X)},nn.useContext=function(V){return D.H.useContext(V)},nn.useDebugValue=function(){},nn.useDeferredValue=function(V,X){return D.H.useDeferredValue(V,X)},nn.useEffect=function(V,X,z){var G=D.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(V,X)},nn.useId=function(){return D.H.useId()},nn.useImperativeHandle=function(V,X,z){return D.H.useImperativeHandle(V,X,z)},nn.useInsertionEffect=function(V,X){return D.H.useInsertionEffect(V,X)},nn.useLayoutEffect=function(V,X){return D.H.useLayoutEffect(V,X)},nn.useMemo=function(V,X){return D.H.useMemo(V,X)},nn.useOptimistic=function(V,X){return D.H.useOptimistic(V,X)},nn.useReducer=function(V,X,z){return D.H.useReducer(V,X,z)},nn.useRef=function(V){return D.H.useRef(V)},nn.useState=function(V){return D.H.useState(V)},nn.useSyncExternalStore=function(V,X,z){return D.H.useSyncExternalStore(V,X,z)},nn.useTransition=function(){return D.H.useTransition()},nn.version="19.1.1",nn}var kB;function K1(){return kB||(kB=1,b_.exports=Hre()),b_.exports}var A=K1();const me=Tf(A);var x_={exports:{}},M0={},S_={exports:{}},E_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DB;function Gre(){return DB||(DB=1,function(e){function t(re,te){var he=re.length;re.push(te);e:for(;0<he;){var Z=he-1>>>1,V=re[Z];if(0<i(V,te))re[Z]=te,re[he]=V,he=Z;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var te=re[0],he=re.pop();if(he!==te){re[0]=he;e:for(var Z=0,V=re.length,X=V>>>1;Z<X;){var z=2*(Z+1)-1,G=re[z],Y=z+1,J=re[Y];if(0>i(G,he))Y<V&&0>i(J,G)?(re[Z]=J,re[Y]=he,Z=Y):(re[Z]=G,re[z]=he,Z=z);else if(Y<V&&0>i(J,he))re[Z]=J,re[Y]=he,Z=Y;else break e}}return te}function i(re,te){var he=re.sortIndex-te.sortIndex;return he!==0?he:re.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,v=!1,y=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function k(re){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=re)r(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=n(c)}}function D(re){if(y=!1,k(re),!v)if(n(l)!==null)v=!0,R||(R=!0,M());else{var te=n(c);te!==null&&ee(D,te.startTime-re)}}var R=!1,_=-1,I=5,F=-1;function N(){return C?!0:!(e.unstable_now()-F<I)}function B(){if(C=!1,R){var re=e.unstable_now();F=re;var te=!0;try{e:{v=!1,y&&(y=!1,E(_),_=-1),g=!0;var he=p;try{t:{for(k(re),h=n(l);h!==null&&!(h.expirationTime>re&&N());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var V=Z(h.expirationTime<=re);if(re=e.unstable_now(),typeof V=="function"){h.callback=V,k(re),te=!0;break t}h===n(l)&&r(l),k(re)}else r(l);h=n(l)}if(h!==null)te=!0;else{var X=n(c);X!==null&&ee(D,X.startTime-re),te=!1}}break e}finally{h=null,p=he,g=!1}te=void 0}}finally{te?M():R=!1}}}var M;if(typeof x=="function")M=function(){x(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=B,M=function(){H.postMessage(null)}}else M=function(){b(B,0)};function ee(re,te){_=b(function(){re(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(re){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var he=p;p=te;try{return re()}finally{p=he}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(re,te){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var he=p;p=re;try{return te()}finally{p=he}},e.unstable_scheduleCallback=function(re,te,he){var Z=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Z+he:Z):he=Z,re){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=he+V,re={id:u++,callback:te,priorityLevel:re,startTime:he,expirationTime:V,sortIndex:-1},he>Z?(re.sortIndex=he,t(c,re),n(l)===null&&re===n(c)&&(y?(E(_),_=-1):y=!0,ee(D,he-Z))):(re.sortIndex=V,t(l,re),v||g||(v=!0,R||(R=!0,M()))),re},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(re){var te=p;return function(){var he=p;p=te;try{return re.apply(this,arguments)}finally{p=he}}}}(E_)),E_}var PB;function Ure(){return PB||(PB=1,S_.exports=Gre()),S_.exports}var T_={exports:{}},rs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FB;function zre(){if(FB)return rs;FB=1;var e=K1();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:u}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return rs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rs.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,u)},rs.flushSync=function(l){var c=o.T,u=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=u,r.d.f()}},rs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},rs.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},rs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,h=a(u,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:g}):u==="script"&&r.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},rs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},rs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,h=a(u,c.crossOrigin);r.d.L(l,u,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},rs.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},rs.requestFormReset=function(l){r.d.r(l)},rs.unstable_batchedUpdates=function(l,c){return l(c)},rs.useFormState=function(l,c,u){return o.H.useFormState(l,c,u)},rs.useFormStatus=function(){return o.H.useHostTransitionStatus()},rs.version="19.1.1",rs}var IB;function Bz(){if(IB)return T_.exports;IB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),T_.exports=zre(),T_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MB;function jre(){if(MB)return M0;MB=1;var e=Ure(),t=K1(),n=Bz();function r(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var f=d,m=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(m=f.return),d=f.return;while(d)}return f.tag===3?m:null}function o(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function a(d){if(s(d)!==d)throw Error(r(188))}function l(d){var f=d.alternate;if(!f){if(f=s(d),f===null)throw Error(r(188));return f!==d?null:d}for(var m=d,w=f;;){var T=m.return;if(T===null)break;var P=T.alternate;if(P===null){if(w=T.return,w!==null){m=w;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===m)return a(T),d;if(P===w)return a(T),f;P=P.sibling}throw Error(r(188))}if(m.return!==w.return)m=T,w=P;else{for(var q=!1,se=T.child;se;){if(se===m){q=!0,m=T,w=P;break}if(se===w){q=!0,w=T,m=P;break}se=se.sibling}if(!q){for(se=P.child;se;){if(se===m){q=!0,m=P,w=T;break}if(se===w){q=!0,w=P,m=T;break}se=se.sibling}if(!q)throw Error(r(189))}}if(m.alternate!==w)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?d:f}function c(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d;for(d=d.child;d!==null;){if(f=c(d),f!==null)return f;d=d.sibling}return null}var u=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=B&&d[B]||d["@@iterator"],typeof d=="function"?d:null)}var L=Symbol.for("react.client.reference");function H(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===L?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case v:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList";case F:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case g:return"Portal";case x:return(d.displayName||"Context")+".Provider";case E:return(d._context.displayName||"Context")+".Consumer";case k:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _:return f=d.displayName||null,f!==null?f:H(d.type)||"Memo";case I:f=d._payload,d=d._init;try{return H(d(f))}catch{}}return null}var ee=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Z=[],V=-1;function X(d){return{current:d}}function z(d){0>V||(d.current=Z[V],Z[V]=null,V--)}function G(d,f){V++,Z[V]=d.current,d.current=f}var Y=X(null),J=X(null),pe=X(null),He=X(null);function Re(d,f){switch(G(pe,f),G(J,d),G(Y,null),f.nodeType){case 9:case 11:d=(d=f.documentElement)&&(d=d.namespaceURI)?eB(d):0;break;default:if(d=f.tagName,f=f.namespaceURI)f=eB(f),d=tB(f,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}z(Y),G(Y,d)}function Te(){z(Y),z(J),z(pe)}function De(d){d.memoizedState!==null&&G(He,d);var f=Y.current,m=tB(f,d.type);f!==m&&(G(J,d),G(Y,m))}function et(d){J.current===d&&(z(Y),z(J)),He.current===d&&(z(He),A0._currentValue=he)}var ue=Object.prototype.hasOwnProperty,St=e.unstable_scheduleCallback,j=e.unstable_cancelCallback,Ce=e.unstable_shouldYield,ye=e.unstable_requestPaint,Q=e.unstable_now,oe=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,Fe=e.unstable_UserBlockingPriority,Ue=e.unstable_NormalPriority,xe=e.unstable_LowPriority,Ke=e.unstable_IdlePriority,st=e.log,Je=e.unstable_setDisableYieldValue,fe=null,Me=null;function We(d){if(typeof st=="function"&&Je(d),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(fe,d)}catch{}}var dt=Math.clz32?Math.clz32:fn,bt=Math.log,It=Math.LN2;function fn(d){return d>>>=0,d===0?32:31-(bt(d)/It|0)|0}var Dt=256,$n=4194304;function or(d){var f=d&42;if(f!==0)return f;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Cn(d,f,m){var w=d.pendingLanes;if(w===0)return 0;var T=0,P=d.suspendedLanes,q=d.pingedLanes;d=d.warmLanes;var se=w&134217727;return se!==0?(w=se&~P,w!==0?T=or(w):(q&=se,q!==0?T=or(q):m||(m=se&~d,m!==0&&(T=or(m))))):(se=w&~P,se!==0?T=or(se):q!==0?T=or(q):m||(m=w&~d,m!==0&&(T=or(m)))),T===0?0:f!==0&&f!==T&&(f&P)===0&&(P=T&-T,m=f&-f,P>=m||P===32&&(m&4194048)!==0)?f:T}function yr(d,f){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&f)===0}function br(d,f){switch(d){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var d=Dt;return Dt<<=1,(Dt&4194048)===0&&(Dt=256),d}function No(){var d=$n;return $n<<=1,($n&62914560)===0&&($n=4194304),d}function Li(d){for(var f=[],m=0;31>m;m++)f.push(d);return f}function di(d,f){d.pendingLanes|=f,f!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Ci(d,f,m,w,T,P){var q=d.pendingLanes;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=m,d.entangledLanes&=m,d.errorRecoveryDisabledLanes&=m,d.shellSuspendCounter=0;var se=d.entanglements,ge=d.expirationTimes,Be=d.hiddenUpdates;for(m=q&~m;0<m;){var Xe=31-dt(m),nt=1<<Xe;se[Xe]=0,ge[Xe]=-1;var ze=Be[Xe];if(ze!==null)for(Be[Xe]=null,Xe=0;Xe<ze.length;Xe++){var je=ze[Xe];je!==null&&(je.lane&=-536870913)}m&=~nt}w!==0&&Bi(d,w,0),P!==0&&T===0&&d.tag!==0&&(d.suspendedLanes|=P&~(q&~f))}function Bi(d,f,m){d.pendingLanes|=f,d.suspendedLanes&=~f;var w=31-dt(f);d.entangledLanes|=f,d.entanglements[w]=d.entanglements[w]|1073741824|m&4194090}function Lo(d,f){var m=d.entangledLanes|=f;for(d=d.entanglements;m;){var w=31-dt(m),T=1<<w;T&f|d[w]&f&&(d[w]|=f),m&=~T}}function Bo(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Za(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function we(){var d=te.p;return d!==0?d:(d=window.event,d===void 0?32:CB(d.type))}function Pe(d,f){var m=te.p;try{return te.p=d,f()}finally{te.p=m}}var Ne=Math.random().toString(36).slice(2),tt="__reactFiber$"+Ne,lt="__reactProps$"+Ne,Et="__reactContainer$"+Ne,At="__reactEvents$"+Ne,Rt="__reactListeners$"+Ne,K="__reactHandles$"+Ne,ae="__reactResources$"+Ne,ne="__reactMarker$"+Ne;function ie(d){delete d[tt],delete d[lt],delete d[At],delete d[Rt],delete d[K]}function ce(d){var f=d[tt];if(f)return f;for(var m=d.parentNode;m;){if(f=m[Et]||m[tt]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(d=sB(d);d!==null;){if(m=d[tt])return m;d=sB(d)}return f}d=m,m=d.parentNode}return null}function de(d){if(d=d[tt]||d[Et]){var f=d.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return d}return null}function Ae(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d.stateNode;throw Error(r(33))}function Ge(d){var f=d[ae];return f||(f=d[ae]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Ee(d){d[ne]=!0}var _e=new Set,Le={};function rt(d,f){ct(d,f),ct(d+"Capture",f)}function ct(d,f){for(Le[d]=f,d=0;d<f.length;d++)_e.add(f[d])}var wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ut={},ft={};function Lt(d){return ue.call(ft,d)?!0:ue.call(ut,d)?!1:wt.test(d)?ft[d]=!0:(ut[d]=!0,!1)}function pn(d,f,m){if(Lt(f))if(m===null)d.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":d.removeAttribute(f);return;case"boolean":var w=f.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){d.removeAttribute(f);return}}d.setAttribute(f,""+m)}}function on(d,f,m){if(m===null)d.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(f);return}d.setAttribute(f,""+m)}}function kt(d,f,m,w){if(w===null)d.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(m);return}d.setAttributeNS(f,m,""+w)}}var Hn,bs;function Hr(d){if(Hn===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);Hn=f&&f[1]||"",bs=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hn+d+bs}var xn=!1;function xs(d,f){if(!d||xn)return"";xn=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(je){var ze=je}Reflect.construct(d,[],nt)}else{try{nt.call()}catch(je){ze=je}d.call(nt.prototype)}}else{try{throw Error()}catch(je){ze=je}(nt=d())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(je){if(je&&ze&&typeof je.stack=="string")return[je.stack,ze.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=w.DetermineComponentFrameRoot(),q=P[0],se=P[1];if(q&&se){var ge=q.split(`
`),Be=se.split(`
`);for(T=w=0;w<ge.length&&!ge[w].includes("DetermineComponentFrameRoot");)w++;for(;T<Be.length&&!Be[T].includes("DetermineComponentFrameRoot");)T++;if(w===ge.length||T===Be.length)for(w=ge.length-1,T=Be.length-1;1<=w&&0<=T&&ge[w]!==Be[T];)T--;for(;1<=w&&0<=T;w--,T--)if(ge[w]!==Be[T]){if(w!==1||T!==1)do if(w--,T--,0>T||ge[w]!==Be[T]){var Xe=`
`+ge[w].replace(" at new "," at ");return d.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",d.displayName)),Xe}while(1<=w&&0<=T);break}}}finally{xn=!1,Error.prepareStackTrace=m}return(m=d?d.displayName||d.name:"")?Hr(m):""}function bi(d){switch(d.tag){case 26:case 27:case 5:return Hr(d.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return xs(d.type,!1);case 11:return xs(d.type.render,!1);case 1:return xs(d.type,!0);case 31:return Hr("Activity");default:return""}}function su(d){try{var f="";do f+=bi(d),d=d.return;while(d);return f}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Ss(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Nm(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ET(d){var f=Nm(d)?"checked":"value",m=Object.getOwnPropertyDescriptor(d.constructor.prototype,f),w=""+d[f];if(!d.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,P=m.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return T.call(this)},set:function(q){w=""+q,P.call(this,q)}}),Object.defineProperty(d,f,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(q){w=""+q},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function qf(d){d._valueTracker||(d._valueTracker=ET(d))}function Lm(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var m=f.getValue(),w="";return d&&(w=Nm(d)?d.checked?"true":"false":d.value),d=w,d!==m?(f.setValue(d),!0):!1}function Hd(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var TT=/[\n"\\]/g;function Zr(d){return d.replace(TT,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function so(d,f,m,w,T,P,q,se){d.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?d.type=q:d.removeAttribute("type"),f!=null?q==="number"?(f===0&&d.value===""||d.value!=f)&&(d.value=""+Ss(f)):d.value!==""+Ss(f)&&(d.value=""+Ss(f)):q!=="submit"&&q!=="reset"||d.removeAttribute("value"),f!=null?ou(d,q,Ss(f)):m!=null?ou(d,q,Ss(m)):w!=null&&d.removeAttribute("value"),T==null&&P!=null&&(d.defaultChecked=!!P),T!=null&&(d.checked=T&&typeof T!="function"&&typeof T!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?d.name=""+Ss(se):d.removeAttribute("name")}function Gd(d,f,m,w,T,P,q,se){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(d.type=P),f!=null||m!=null){if(!(P!=="submit"&&P!=="reset"||f!=null))return;m=m!=null?""+Ss(m):"",f=f!=null?""+Ss(f):m,se||f===d.value||(d.value=f),d.defaultValue=f}w=w??T,w=typeof w!="function"&&typeof w!="symbol"&&!!w,d.checked=se?d.checked:!!w,d.defaultChecked=!!w,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(d.name=q)}function ou(d,f,m){f==="number"&&Hd(d.ownerDocument)===d||d.defaultValue===""+m||(d.defaultValue=""+m)}function tc(d,f,m,w){if(d=d.options,f){f={};for(var T=0;T<m.length;T++)f["$"+m[T]]=!0;for(m=0;m<d.length;m++)T=f.hasOwnProperty("$"+d[m].value),d[m].selected!==T&&(d[m].selected=T),T&&w&&(d[m].defaultSelected=!0)}else{for(m=""+Ss(m),f=null,T=0;T<d.length;T++){if(d[T].value===m){d[T].selected=!0,w&&(d[T].defaultSelected=!0);return}f!==null||d[T].disabled||(f=d[T])}f!==null&&(f.selected=!0)}}function Zn(d,f,m){if(f!=null&&(f=""+Ss(f),f!==d.value&&(d.value=f),m==null)){d.defaultValue!==f&&(d.defaultValue=f);return}d.defaultValue=m!=null?""+Ss(m):""}function Ud(d,f,m,w){if(f==null){if(w!=null){if(m!=null)throw Error(r(92));if(ee(w)){if(1<w.length)throw Error(r(93));w=w[0]}m=w}m==null&&(m=""),f=m}m=Ss(f),d.defaultValue=m,w=d.textContent,w===m&&w!==""&&w!==null&&(d.value=w)}function Vo(d,f){if(f){var m=d.firstChild;if(m&&m===d.lastChild&&m.nodeType===3){m.nodeValue=f;return}}d.textContent=f}var zd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vC(d,f,m){var w=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?w?d.setProperty(f,""):f==="float"?d.cssFloat="":d[f]="":w?d.setProperty(f,m):typeof m!="number"||m===0||zd.has(f)?f==="float"?d.cssFloat=m:d[f]=(""+m).trim():d[f]=m+"px"}function Bm(d,f,m){if(f!=null&&typeof f!="object")throw Error(r(62));if(d=d.style,m!=null){for(var w in m)!m.hasOwnProperty(w)||f!=null&&f.hasOwnProperty(w)||(w.indexOf("--")===0?d.setProperty(w,""):w==="float"?d.cssFloat="":d[w]="");for(var T in f)w=f[T],f.hasOwnProperty(T)&&m[T]!==w&&vC(d,T,w)}else for(var P in f)f.hasOwnProperty(P)&&vC(d,P,f[P])}function Vm(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_T=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kf(d){return _T.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var nc=null;function Ho(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var rc=null,ic=null;function Hm(d){var f=de(d);if(f&&(d=f.stateNode)){var m=d[lt]||null;e:switch(d=f.stateNode,f.type){case"input":if(so(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=d;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Zr(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var w=m[f];if(w!==d&&w.form===d.form){var T=w[lt]||null;if(!T)throw Error(r(90));so(w,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<m.length;f++)w=m[f],w.form===d.form&&Lm(w)}break e;case"textarea":Zn(d,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&tc(d,!!m.multiple,f,!1)}}}var Ja=!1;function yC(d,f,m){if(Ja)return d(f,m);Ja=!0;try{var w=d(f);return w}finally{if(Ja=!1,(rc!==null||ic!==null)&&(db(),rc&&(f=rc,d=ic,ic=rc=null,Hm(f),d)))for(f=0;f<d.length;f++)Hm(d[f])}}function jd(d,f){var m=d.stateNode;if(m===null)return null;var w=m[lt]||null;if(w===null)return null;m=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(d=d.type,w=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!w;break e;default:d=!1}if(d)return null;if(m&&typeof m!="function")throw Error(r(231,f,typeof m));return m}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Go=!1;if(_a)try{var Wd={};Object.defineProperty(Wd,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{Go=!1}var el=null,au=null,sc=null;function Gm(){if(sc)return sc;var d,f=au,m=f.length,w,T="value"in el?el.value:el.textContent,P=T.length;for(d=0;d<m&&f[d]===T[d];d++);var q=m-d;for(w=1;w<=q&&f[m-w]===T[P-w];w++);return sc=T.slice(d,1<w?1-w:void 0)}function tl(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function nl(){return!0}function Um(){return!1}function xi(d){function f(m,w,T,P,q){this._reactName=m,this._targetInst=T,this.type=w,this.nativeEvent=P,this.target=q,this.currentTarget=null;for(var se in d)d.hasOwnProperty(se)&&(m=d[se],this[se]=m?m(P):P[se]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?nl:Um,this.isPropagationStopped=Um,this}return u(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),f}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=xi(Gn),$d=u({},Gn,{view:0,detail:0}),wC=xi($d),Xf,Qf,rl,qd=u({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==rl&&(rl&&d.type==="mousemove"?(Xf=d.screenX-rl.screenX,Qf=d.screenY-rl.screenY):Qf=Xf=0,rl=d),Xf)},movementY:function(d){return"movementY"in d?d.movementY:Qf}}),Uo=xi(qd),CC=u({},qd,{dataTransfer:0}),AT=xi(CC),Kd=u({},$d,{relatedTarget:0}),Zf=xi(Kd),zm=u({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=xi(zm),bC=u({},Gn,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),ep=xi(bC),kT=u({},Gn,{data:0}),jm=xi(kT),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=SC[d])?!!f[d]:!1}function Xd(){return Wm}var EC=u({},$d,{key:function(d){if(d.key){var f=Yd[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=tl(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?xC[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(d){return d.type==="keypress"?tl(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?tl(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),tp=xi(EC),TC=u({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$m=xi(TC),oc=u({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),RC=xi(oc),_C=u({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),AC=xi(_C),kC=u({},qd,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),np=xi(kC),Es=u({},Gn,{newState:0,oldState:0}),DC=xi(Es),PC=[9,13,27,32],il=_a&&"CompositionEvent"in window,S=null;_a&&"documentMode"in document&&(S=document.documentMode);var U=_a&&"TextEvent"in window&&!S,W=_a&&(!il||S&&8<S&&11>=S),le=" ",Ie=!1;function qe(d,f){switch(d){case"keyup":return PC.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Sn=!1;function hi(d,f){switch(d){case"compositionend":return mt(f);case"keypress":return f.which!==32?null:(Ie=!0,le);case"textInput":return d=f.data,d===le&&Ie?null:d;default:return null}}function En(d,f){if(Sn)return d==="compositionend"||!il&&qe(d,f)?(d=Gm(),sc=au=el=null,Sn=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return W&&f.locale!=="ko"?null:f.data;default:return null}}var Si={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fi(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!Si[d.type]:f==="textarea"}function ac(d,f,m,w){rc?ic?ic.push(w):ic=[w]:rc=w,f=vb(f,"onChange"),0<f.length&&(m=new Yf("onChange","change",null,m,w),d.push({event:m,listeners:f}))}var Vi=null,sl=null;function qm(d){Y4(d,0)}function FC(d){var f=Ae(d);if(Lm(f))return d}function mN(d,f){if(d==="change")return f}var vN=!1;if(_a){var DT;if(_a){var PT="oninput"in document;if(!PT){var yN=document.createElement("div");yN.setAttribute("oninput","return;"),PT=typeof yN.oninput=="function"}DT=PT}else DT=!1;vN=DT&&(!document.documentMode||9<document.documentMode)}function wN(){Vi&&(Vi.detachEvent("onpropertychange",CN),sl=Vi=null)}function CN(d){if(d.propertyName==="value"&&FC(sl)){var f=[];ac(f,sl,d,Ho(d)),yC(qm,f)}}function pne(d,f,m){d==="focusin"?(wN(),Vi=f,sl=m,Vi.attachEvent("onpropertychange",CN)):d==="focusout"&&wN()}function gne(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return FC(sl)}function mne(d,f){if(d==="click")return FC(f)}function vne(d,f){if(d==="input"||d==="change")return FC(f)}function yne(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var oo=typeof Object.is=="function"?Object.is:yne;function Km(d,f){if(oo(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var m=Object.keys(d),w=Object.keys(f);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var T=m[w];if(!ue.call(f,T)||!oo(d[T],f[T]))return!1}return!0}function bN(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function xN(d,f){var m=bN(d);d=0;for(var w;m;){if(m.nodeType===3){if(w=d+m.textContent.length,d<=f&&w>=f)return{node:m,offset:f-d};d=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=bN(m)}}function SN(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?SN(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function EN(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var f=Hd(d.document);f instanceof d.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)d=f.contentWindow;else break;f=Hd(d.document)}return f}function FT(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}var wne=_a&&"documentMode"in document&&11>=document.documentMode,rp=null,IT=null,Ym=null,MT=!1;function TN(d,f,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;MT||rp==null||rp!==Hd(w)||(w=rp,"selectionStart"in w&&FT(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Ym&&Km(Ym,w)||(Ym=w,w=vb(IT,"onSelect"),0<w.length&&(f=new Yf("onSelect","select",null,f,m),d.push({event:f,listeners:w}),f.target=rp)))}function Qd(d,f){var m={};return m[d.toLowerCase()]=f.toLowerCase(),m["Webkit"+d]="webkit"+f,m["Moz"+d]="moz"+f,m}var ip={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionrun:Qd("Transition","TransitionRun"),transitionstart:Qd("Transition","TransitionStart"),transitioncancel:Qd("Transition","TransitionCancel"),transitionend:Qd("Transition","TransitionEnd")},OT={},RN={};_a&&(RN=document.createElement("div").style,"AnimationEvent"in window||(delete ip.animationend.animation,delete ip.animationiteration.animation,delete ip.animationstart.animation),"TransitionEvent"in window||delete ip.transitionend.transition);function Zd(d){if(OT[d])return OT[d];if(!ip[d])return d;var f=ip[d],m;for(m in f)if(f.hasOwnProperty(m)&&m in RN)return OT[d]=f[m];return d}var _N=Zd("animationend"),AN=Zd("animationiteration"),kN=Zd("animationstart"),Cne=Zd("transitionrun"),bne=Zd("transitionstart"),xne=Zd("transitioncancel"),DN=Zd("transitionend"),PN=new Map,NT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");NT.push("scrollEnd");function Aa(d,f){PN.set(d,f),rt(f,[d])}var FN=new WeakMap;function zo(d,f){if(typeof d=="object"&&d!==null){var m=FN.get(d);return m!==void 0?m:(f={value:d,source:f,stack:su(f)},FN.set(d,f),f)}return{value:d,source:f,stack:su(f)}}var jo=[],sp=0,LT=0;function IC(){for(var d=sp,f=LT=sp=0;f<d;){var m=jo[f];jo[f++]=null;var w=jo[f];jo[f++]=null;var T=jo[f];jo[f++]=null;var P=jo[f];if(jo[f++]=null,w!==null&&T!==null){var q=w.pending;q===null?T.next=T:(T.next=q.next,q.next=T),w.pending=T}P!==0&&IN(m,T,P)}}function MC(d,f,m,w){jo[sp++]=d,jo[sp++]=f,jo[sp++]=m,jo[sp++]=w,LT|=w,d.lanes|=w,d=d.alternate,d!==null&&(d.lanes|=w)}function BT(d,f,m,w){return MC(d,f,m,w),OC(d)}function op(d,f){return MC(d,null,null,f),OC(d)}function IN(d,f,m){d.lanes|=m;var w=d.alternate;w!==null&&(w.lanes|=m);for(var T=!1,P=d.return;P!==null;)P.childLanes|=m,w=P.alternate,w!==null&&(w.childLanes|=m),P.tag===22&&(d=P.stateNode,d===null||d._visibility&1||(T=!0)),d=P,P=P.return;return d.tag===3?(P=d.stateNode,T&&f!==null&&(T=31-dt(m),d=P.hiddenUpdates,w=d[T],w===null?d[T]=[f]:w.push(f),f.lane=m|536870912),P):null}function OC(d){if(50<C0)throw C0=0,jR=null,Error(r(185));for(var f=d.return;f!==null;)d=f,f=d.return;return d.tag===3?d.stateNode:null}var ap={};function Sne(d,f,m,w){this.tag=d,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ao(d,f,m,w){return new Sne(d,f,m,w)}function VT(d){return d=d.prototype,!(!d||!d.isReactComponent)}function lc(d,f){var m=d.alternate;return m===null?(m=ao(d.tag,f,d.key,d.mode),m.elementType=d.elementType,m.type=d.type,m.stateNode=d.stateNode,m.alternate=d,d.alternate=m):(m.pendingProps=f,m.type=d.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=d.flags&65011712,m.childLanes=d.childLanes,m.lanes=d.lanes,m.child=d.child,m.memoizedProps=d.memoizedProps,m.memoizedState=d.memoizedState,m.updateQueue=d.updateQueue,f=d.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=d.sibling,m.index=d.index,m.ref=d.ref,m.refCleanup=d.refCleanup,m}function MN(d,f){d.flags&=65011714;var m=d.alternate;return m===null?(d.childLanes=0,d.lanes=f,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,f=m.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),d}function NC(d,f,m,w,T,P){var q=0;if(w=d,typeof d=="function")VT(d)&&(q=1);else if(typeof d=="string")q=Tre(d,m,Y.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case F:return d=ao(31,m,f,T),d.elementType=F,d.lanes=P,d;case v:return Jd(m.children,T,P,f);case y:q=8,T|=24;break;case C:return d=ao(12,m,f,T|2),d.elementType=C,d.lanes=P,d;case D:return d=ao(13,m,f,T),d.elementType=D,d.lanes=P,d;case R:return d=ao(19,m,f,T),d.elementType=R,d.lanes=P,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case b:case x:q=10;break e;case E:q=9;break e;case k:q=11;break e;case _:q=14;break e;case I:q=16,w=null;break e}q=29,m=Error(r(130,d===null?"null":typeof d,"")),w=null}return f=ao(q,m,f,T),f.elementType=d,f.type=w,f.lanes=P,f}function Jd(d,f,m,w){return d=ao(7,d,w,f),d.lanes=m,d}function HT(d,f,m){return d=ao(6,d,null,f),d.lanes=m,d}function GT(d,f,m){return f=ao(4,d.children!==null?d.children:[],d.key,f),f.lanes=m,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}var lp=[],cp=0,LC=null,BC=0,Wo=[],$o=0,eh=null,cc=1,uc="";function th(d,f){lp[cp++]=BC,lp[cp++]=LC,LC=d,BC=f}function ON(d,f,m){Wo[$o++]=cc,Wo[$o++]=uc,Wo[$o++]=eh,eh=d;var w=cc;d=uc;var T=32-dt(w)-1;w&=~(1<<T),m+=1;var P=32-dt(f)+T;if(30<P){var q=T-T%5;P=(w&(1<<q)-1).toString(32),w>>=q,T-=q,cc=1<<32-dt(f)+T|m<<T|w,uc=P+d}else cc=1<<P|m<<T|w,uc=d}function UT(d){d.return!==null&&(th(d,1),ON(d,1,0))}function zT(d){for(;d===LC;)LC=lp[--cp],lp[cp]=null,BC=lp[--cp],lp[cp]=null;for(;d===eh;)eh=Wo[--$o],Wo[$o]=null,uc=Wo[--$o],Wo[$o]=null,cc=Wo[--$o],Wo[$o]=null}var Ts=null,Pr=null,Nn=!1,nh=null,ol=!1,jT=Error(r(519));function rh(d){var f=Error(r(418,""));throw Zm(zo(f,d)),jT}function NN(d){var f=d.stateNode,m=d.type,w=d.memoizedProps;switch(f[tt]=d,f[lt]=w,m){case"dialog":mn("cancel",f),mn("close",f);break;case"iframe":case"object":case"embed":mn("load",f);break;case"video":case"audio":for(m=0;m<x0.length;m++)mn(x0[m],f);break;case"source":mn("error",f);break;case"img":case"image":case"link":mn("error",f),mn("load",f);break;case"details":mn("toggle",f);break;case"input":mn("invalid",f),Gd(f,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),qf(f);break;case"select":mn("invalid",f);break;case"textarea":mn("invalid",f),Ud(f,w.value,w.defaultValue,w.children),qf(f)}m=w.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||w.suppressHydrationWarning===!0||J4(f.textContent,m)?(w.popover!=null&&(mn("beforetoggle",f),mn("toggle",f)),w.onScroll!=null&&mn("scroll",f),w.onScrollEnd!=null&&mn("scrollend",f),w.onClick!=null&&(f.onclick=yb),f=!0):f=!1,f||rh(d)}function LN(d){for(Ts=d.return;Ts;)switch(Ts.tag){case 5:case 13:ol=!1;return;case 27:case 3:ol=!0;return;default:Ts=Ts.return}}function Xm(d){if(d!==Ts)return!1;if(!Nn)return LN(d),Nn=!0,!1;var f=d.tag,m;if((m=f!==3&&f!==27)&&((m=f===5)&&(m=d.type,m=!(m!=="form"&&m!=="button")||o_(d.type,d.memoizedProps)),m=!m),m&&Pr&&rh(d),LN(d),f===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,f=0;d;){if(d.nodeType===8)if(m=d.data,m==="/$"){if(f===0){Pr=Da(d.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++;d=d.nextSibling}Pr=null}}else f===27?(f=Pr,Su(d.type)?(d=u_,u_=null,Pr=d):Pr=f):Pr=Ts?Da(d.stateNode.nextSibling):null;return!0}function Qm(){Pr=Ts=null,Nn=!1}function BN(){var d=nh;return d!==null&&(Us===null?Us=d:Us.push.apply(Us,d),nh=null),d}function Zm(d){nh===null?nh=[d]:nh.push(d)}var WT=X(null),ih=null,dc=null;function lu(d,f,m){G(WT,f._currentValue),f._currentValue=m}function hc(d){d._currentValue=WT.current,z(WT)}function $T(d,f,m){for(;d!==null;){var w=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),d===m)break;d=d.return}}function qT(d,f,m,w){var T=d.child;for(T!==null&&(T.return=d);T!==null;){var P=T.dependencies;if(P!==null){var q=T.child;P=P.firstContext;e:for(;P!==null;){var se=P;P=T;for(var ge=0;ge<f.length;ge++)if(se.context===f[ge]){P.lanes|=m,se=P.alternate,se!==null&&(se.lanes|=m),$T(P.return,m,d),w||(q=null);break e}P=se.next}}else if(T.tag===18){if(q=T.return,q===null)throw Error(r(341));q.lanes|=m,P=q.alternate,P!==null&&(P.lanes|=m),$T(q,m,d),q=null}else q=T.child;if(q!==null)q.return=T;else for(q=T;q!==null;){if(q===d){q=null;break}if(T=q.sibling,T!==null){T.return=q.return,q=T;break}q=q.return}T=q}}function Jm(d,f,m,w){d=null;for(var T=f,P=!1;T!==null;){if(!P){if((T.flags&524288)!==0)P=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var q=T.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var se=T.type;oo(T.pendingProps.value,q.value)||(d!==null?d.push(se):d=[se])}}else if(T===He.current){if(q=T.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(d!==null?d.push(A0):d=[A0])}T=T.return}d!==null&&qT(f,d,m,w),f.flags|=262144}function VC(d){for(d=d.firstContext;d!==null;){if(!oo(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function sh(d){ih=d,dc=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ns(d){return VN(ih,d)}function HC(d,f){return ih===null&&sh(d),VN(d,f)}function VN(d,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},dc===null){if(d===null)throw Error(r(308));dc=f,d.dependencies={lanes:0,firstContext:f},d.flags|=524288}else dc=dc.next=f;return m}var Ene=typeof AbortController<"u"?AbortController:function(){var d=[],f=this.signal={aborted:!1,addEventListener:function(m,w){d.push(w)}};this.abort=function(){f.aborted=!0,d.forEach(function(m){return m()})}},Tne=e.unstable_scheduleCallback,Rne=e.unstable_NormalPriority,pi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function KT(){return{controller:new Ene,data:new Map,refCount:0}}function e0(d){d.refCount--,d.refCount===0&&Tne(Rne,function(){d.controller.abort()})}var t0=null,YT=0,up=0,dp=null;function _ne(d,f){if(t0===null){var m=t0=[];YT=0,up=QR(),dp={status:"pending",value:void 0,then:function(w){m.push(w)}}}return YT++,f.then(HN,HN),f}function HN(){if(--YT===0&&t0!==null){dp!==null&&(dp.status="fulfilled");var d=t0;t0=null,up=0,dp=null;for(var f=0;f<d.length;f++)(0,d[f])()}}function Ane(d,f){var m=[],w={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return d.then(function(){w.status="fulfilled",w.value=f;for(var T=0;T<m.length;T++)(0,m[T])(f)},function(T){for(w.status="rejected",w.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),w}var GN=re.S;re.S=function(d,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&_ne(d,f),GN!==null&&GN(d,f)};var oh=X(null);function XT(){var d=oh.current;return d!==null?d:ar.pooledCache}function GC(d,f){f===null?G(oh,oh.current):G(oh,f.pool)}function UN(){var d=XT();return d===null?null:{parent:pi._currentValue,pool:d}}var n0=Error(r(460)),zN=Error(r(474)),UC=Error(r(542)),QT={then:function(){}};function jN(d){return d=d.status,d==="fulfilled"||d==="rejected"}function zC(){}function WN(d,f,m){switch(m=d[m],m===void 0?d.push(f):m!==f&&(f.then(zC,zC),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,qN(d),d;default:if(typeof f.status=="string")f.then(zC,zC);else{if(d=ar,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=f,d.status="pending",d.then(function(w){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=w}},function(w){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,qN(d),d}throw r0=f,n0}}var r0=null;function $N(){if(r0===null)throw Error(r(459));var d=r0;return r0=null,d}function qN(d){if(d===n0||d===UC)throw Error(r(483))}var cu=!1;function ZT(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function JT(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function uu(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function du(d,f,m){var w=d.updateQueue;if(w===null)return null;if(w=w.shared,(qn&2)!==0){var T=w.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),w.pending=f,f=OC(d),IN(d,null,m),f}return MC(d,w,f,m),OC(d)}function i0(d,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194048)!==0)){var w=f.lanes;w&=d.pendingLanes,m|=w,f.lanes=m,Lo(d,m)}}function eR(d,f){var m=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var T=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var q={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};P===null?T=P=q:P=P.next=q,m=m.next}while(m!==null);P===null?T=P=f:P=P.next=f}else T=P=f;m={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:w.shared,callbacks:w.callbacks},d.updateQueue=m;return}d=m.lastBaseUpdate,d===null?m.firstBaseUpdate=f:d.next=f,m.lastBaseUpdate=f}var tR=!1;function s0(){if(tR){var d=dp;if(d!==null)throw d}}function o0(d,f,m,w){tR=!1;var T=d.updateQueue;cu=!1;var P=T.firstBaseUpdate,q=T.lastBaseUpdate,se=T.shared.pending;if(se!==null){T.shared.pending=null;var ge=se,Be=ge.next;ge.next=null,q===null?P=Be:q.next=Be,q=ge;var Xe=d.alternate;Xe!==null&&(Xe=Xe.updateQueue,se=Xe.lastBaseUpdate,se!==q&&(se===null?Xe.firstBaseUpdate=Be:se.next=Be,Xe.lastBaseUpdate=ge))}if(P!==null){var nt=T.baseState;q=0,Xe=Be=ge=null,se=P;do{var ze=se.lane&-536870913,je=ze!==se.lane;if(je?(Tn&ze)===ze:(w&ze)===ze){ze!==0&&ze===up&&(tR=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Yt=d,Gt=se;ze=f;var tr=m;switch(Gt.tag){case 1:if(Yt=Gt.payload,typeof Yt=="function"){nt=Yt.call(tr,nt,ze);break e}nt=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Gt.payload,ze=typeof Yt=="function"?Yt.call(tr,nt,ze):Yt,ze==null)break e;nt=u({},nt,ze);break e;case 2:cu=!0}}ze=se.callback,ze!==null&&(d.flags|=64,je&&(d.flags|=8192),je=T.callbacks,je===null?T.callbacks=[ze]:je.push(ze))}else je={lane:ze,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Xe===null?(Be=Xe=je,ge=nt):Xe=Xe.next=je,q|=ze;if(se=se.next,se===null){if(se=T.shared.pending,se===null)break;je=se,se=je.next,je.next=null,T.lastBaseUpdate=je,T.shared.pending=null}}while(!0);Xe===null&&(ge=nt),T.baseState=ge,T.firstBaseUpdate=Be,T.lastBaseUpdate=Xe,P===null&&(T.shared.lanes=0),wu|=q,d.lanes=q,d.memoizedState=nt}}function KN(d,f){if(typeof d!="function")throw Error(r(191,d));d.call(f)}function YN(d,f){var m=d.callbacks;if(m!==null)for(d.callbacks=null,d=0;d<m.length;d++)KN(m[d],f)}var hp=X(null),jC=X(0);function XN(d,f){d=wc,G(jC,d),G(hp,f),wc=d|f.baseLanes}function nR(){G(jC,wc),G(hp,hp.current)}function rR(){wc=jC.current,z(hp),z(jC)}var hu=0,an=null,Jn=null,Jr=null,WC=!1,fp=!1,ah=!1,$C=0,a0=0,pp=null,kne=0;function Gr(){throw Error(r(321))}function iR(d,f){if(f===null)return!1;for(var m=0;m<f.length&&m<d.length;m++)if(!oo(d[m],f[m]))return!1;return!0}function sR(d,f,m,w,T,P){return hu=P,an=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,re.H=d===null||d.memoizedState===null?IL:ML,ah=!1,P=m(w,T),ah=!1,fp&&(P=ZN(f,m,w,T)),QN(d),P}function QN(d){re.H=ZC;var f=Jn!==null&&Jn.next!==null;if(hu=0,Jr=Jn=an=null,WC=!1,a0=0,pp=null,f)throw Error(r(300));d===null||Ei||(d=d.dependencies,d!==null&&VC(d)&&(Ei=!0))}function ZN(d,f,m,w){an=d;var T=0;do{if(fp&&(pp=null),a0=0,fp=!1,25<=T)throw Error(r(301));if(T+=1,Jr=Jn=null,d.updateQueue!=null){var P=d.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}re.H=Nne,P=f(m,w)}while(fp);return P}function Dne(){var d=re.H,f=d.useState()[0];return f=typeof f.then=="function"?l0(f):f,d=d.useState()[0],(Jn!==null?Jn.memoizedState:null)!==d&&(an.flags|=1024),f}function oR(){var d=$C!==0;return $C=0,d}function aR(d,f,m){f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~m}function lR(d){if(WC){for(d=d.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}WC=!1}hu=0,Jr=Jn=an=null,fp=!1,a0=$C=0,pp=null}function Hs(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?an.memoizedState=Jr=d:Jr=Jr.next=d,Jr}function ei(){if(Jn===null){var d=an.alternate;d=d!==null?d.memoizedState:null}else d=Jn.next;var f=Jr===null?an.memoizedState:Jr.next;if(f!==null)Jr=f,Jn=d;else{if(d===null)throw an.alternate===null?Error(r(467)):Error(r(310));Jn=d,d={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},Jr===null?an.memoizedState=Jr=d:Jr=Jr.next=d}return Jr}function cR(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function l0(d){var f=a0;return a0+=1,pp===null&&(pp=[]),d=WN(pp,d,f),f=an,(Jr===null?f.memoizedState:Jr.next)===null&&(f=f.alternate,re.H=f===null||f.memoizedState===null?IL:ML),d}function qC(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return l0(d);if(d.$$typeof===x)return ns(d)}throw Error(r(438,String(d)))}function uR(d){var f=null,m=an.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var w=an.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=cR(),an.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(d),w=0;w<d;w++)m[w]=N;return f.index++,m}function fc(d,f){return typeof f=="function"?f(d):f}function KC(d){var f=ei();return dR(f,Jn,d)}function dR(d,f,m){var w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=m;var T=d.baseQueue,P=w.pending;if(P!==null){if(T!==null){var q=T.next;T.next=P.next,P.next=q}f.baseQueue=T=P,w.pending=null}if(P=d.baseState,T===null)d.memoizedState=P;else{f=T.next;var se=q=null,ge=null,Be=f,Xe=!1;do{var nt=Be.lane&-536870913;if(nt!==Be.lane?(Tn&nt)===nt:(hu&nt)===nt){var ze=Be.revertLane;if(ze===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),nt===up&&(Xe=!0);else if((hu&ze)===ze){Be=Be.next,ze===up&&(Xe=!0);continue}else nt={lane:0,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ge===null?(se=ge=nt,q=P):ge=ge.next=nt,an.lanes|=ze,wu|=ze;nt=Be.action,ah&&m(P,nt),P=Be.hasEagerState?Be.eagerState:m(P,nt)}else ze={lane:nt,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ge===null?(se=ge=ze,q=P):ge=ge.next=ze,an.lanes|=nt,wu|=nt;Be=Be.next}while(Be!==null&&Be!==f);if(ge===null?q=P:ge.next=se,!oo(P,d.memoizedState)&&(Ei=!0,Xe&&(m=dp,m!==null)))throw m;d.memoizedState=P,d.baseState=q,d.baseQueue=ge,w.lastRenderedState=P}return T===null&&(w.lanes=0),[d.memoizedState,w.dispatch]}function hR(d){var f=ei(),m=f.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var w=m.dispatch,T=m.pending,P=f.memoizedState;if(T!==null){m.pending=null;var q=T=T.next;do P=d(P,q.action),q=q.next;while(q!==T);oo(P,f.memoizedState)||(Ei=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),m.lastRenderedState=P}return[P,w]}function JN(d,f,m){var w=an,T=ei(),P=Nn;if(P){if(m===void 0)throw Error(r(407));m=m()}else m=f();var q=!oo((Jn||T).memoizedState,m);q&&(T.memoizedState=m,Ei=!0),T=T.queue;var se=nL.bind(null,w,T,d);if(c0(2048,8,se,[d]),T.getSnapshot!==f||q||Jr!==null&&Jr.memoizedState.tag&1){if(w.flags|=2048,gp(9,YC(),tL.bind(null,w,T,m,f),null),ar===null)throw Error(r(349));P||(hu&124)!==0||eL(w,f,m)}return m}function eL(d,f,m){d.flags|=16384,d={getSnapshot:f,value:m},f=an.updateQueue,f===null?(f=cR(),an.updateQueue=f,f.stores=[d]):(m=f.stores,m===null?f.stores=[d]:m.push(d))}function tL(d,f,m,w){f.value=m,f.getSnapshot=w,rL(f)&&iL(d)}function nL(d,f,m){return m(function(){rL(f)&&iL(d)})}function rL(d){var f=d.getSnapshot;d=d.value;try{var m=f();return!oo(d,m)}catch{return!0}}function iL(d){var f=op(d,2);f!==null&&fo(f,d,2)}function fR(d){var f=Hs();if(typeof d=="function"){var m=d;if(d=m(),ah){We(!0);try{m()}finally{We(!1)}}}return f.memoizedState=f.baseState=d,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:d},f}function sL(d,f,m,w){return d.baseState=m,dR(d,Jn,typeof w=="function"?w:fc)}function Pne(d,f,m,w,T){if(QC(d))throw Error(r(485));if(d=f.action,d!==null){var P={payload:T,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){P.listeners.push(q)}};re.T!==null?m(!0):P.isTransition=!1,w(P),m=f.pending,m===null?(P.next=f.pending=P,oL(f,P)):(P.next=m.next,f.pending=m.next=P)}}function oL(d,f){var m=f.action,w=f.payload,T=d.state;if(f.isTransition){var P=re.T,q={};re.T=q;try{var se=m(T,w),ge=re.S;ge!==null&&ge(q,se),aL(d,f,se)}catch(Be){pR(d,f,Be)}finally{re.T=P}}else try{P=m(T,w),aL(d,f,P)}catch(Be){pR(d,f,Be)}}function aL(d,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(w){lL(d,f,w)},function(w){return pR(d,f,w)}):lL(d,f,m)}function lL(d,f,m){f.status="fulfilled",f.value=m,cL(f),d.state=m,f=d.pending,f!==null&&(m=f.next,m===f?d.pending=null:(m=m.next,f.next=m,oL(d,m)))}function pR(d,f,m){var w=d.pending;if(d.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=m,cL(f),f=f.next;while(f!==w)}d.action=null}function cL(d){d=d.listeners;for(var f=0;f<d.length;f++)(0,d[f])()}function uL(d,f){return f}function dL(d,f){if(Nn){var m=ar.formState;if(m!==null){e:{var w=an;if(Nn){if(Pr){t:{for(var T=Pr,P=ol;T.nodeType!==8;){if(!P){T=null;break t}if(T=Da(T.nextSibling),T===null){T=null;break t}}P=T.data,T=P==="F!"||P==="F"?T:null}if(T){Pr=Da(T.nextSibling),w=T.data==="F!";break e}}rh(w)}w=!1}w&&(f=m[0])}}return m=Hs(),m.memoizedState=m.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uL,lastRenderedState:f},m.queue=w,m=DL.bind(null,an,w),w.dispatch=m,w=fR(!1),P=wR.bind(null,an,!1,w.queue),w=Hs(),T={state:f,dispatch:null,action:d,pending:null},w.queue=T,m=Pne.bind(null,an,T,P,m),T.dispatch=m,w.memoizedState=d,[f,m,!1]}function hL(d){var f=ei();return fL(f,Jn,d)}function fL(d,f,m){if(f=dR(d,f,uL)[0],d=KC(fc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var w=l0(f)}catch(q){throw q===n0?UC:q}else w=f;f=ei();var T=f.queue,P=T.dispatch;return m!==f.memoizedState&&(an.flags|=2048,gp(9,YC(),Fne.bind(null,T,m),null)),[w,P,d]}function Fne(d,f){d.action=f}function pL(d){var f=ei(),m=Jn;if(m!==null)return fL(f,m,d);ei(),f=f.memoizedState,m=ei();var w=m.queue.dispatch;return m.memoizedState=d,[f,w,!1]}function gp(d,f,m,w){return d={tag:d,create:m,deps:w,inst:f,next:null},f=an.updateQueue,f===null&&(f=cR(),an.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=d.next=d:(w=m.next,m.next=d,d.next=w,f.lastEffect=d),d}function YC(){return{destroy:void 0,resource:void 0}}function gL(){return ei().memoizedState}function XC(d,f,m,w){var T=Hs();w=w===void 0?null:w,an.flags|=d,T.memoizedState=gp(1|f,YC(),m,w)}function c0(d,f,m,w){var T=ei();w=w===void 0?null:w;var P=T.memoizedState.inst;Jn!==null&&w!==null&&iR(w,Jn.memoizedState.deps)?T.memoizedState=gp(f,P,m,w):(an.flags|=d,T.memoizedState=gp(1|f,P,m,w))}function mL(d,f){XC(8390656,8,d,f)}function vL(d,f){c0(2048,8,d,f)}function yL(d,f){return c0(4,2,d,f)}function wL(d,f){return c0(4,4,d,f)}function CL(d,f){if(typeof f=="function"){d=d();var m=f(d);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function bL(d,f,m){m=m!=null?m.concat([d]):null,c0(4,4,CL.bind(null,f,d),m)}function gR(){}function xL(d,f){var m=ei();f=f===void 0?null:f;var w=m.memoizedState;return f!==null&&iR(f,w[1])?w[0]:(m.memoizedState=[d,f],d)}function SL(d,f){var m=ei();f=f===void 0?null:f;var w=m.memoizedState;if(f!==null&&iR(f,w[1]))return w[0];if(w=d(),ah){We(!0);try{d()}finally{We(!1)}}return m.memoizedState=[w,f],w}function mR(d,f,m){return m===void 0||(hu&1073741824)!==0?d.memoizedState=f:(d.memoizedState=m,d=R4(),an.lanes|=d,wu|=d,m)}function EL(d,f,m,w){return oo(m,f)?m:hp.current!==null?(d=mR(d,m,w),oo(d,f)||(Ei=!0),d):(hu&42)===0?(Ei=!0,d.memoizedState=m):(d=R4(),an.lanes|=d,wu|=d,f)}function TL(d,f,m,w,T){var P=te.p;te.p=P!==0&&8>P?P:8;var q=re.T,se={};re.T=se,wR(d,!1,f,m);try{var ge=T(),Be=re.S;if(Be!==null&&Be(se,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Xe=Ane(ge,w);u0(d,f,Xe,ho(d))}else u0(d,f,w,ho(d))}catch(nt){u0(d,f,{then:function(){},status:"rejected",reason:nt},ho())}finally{te.p=P,re.T=q}}function Ine(){}function vR(d,f,m,w){if(d.tag!==5)throw Error(r(476));var T=RL(d).queue;TL(d,T,f,he,m===null?Ine:function(){return _L(d),m(w)})}function RL(d){var f=d.memoizedState;if(f!==null)return f;f={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:he},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:m},next:null},d.memoizedState=f,d=d.alternate,d!==null&&(d.memoizedState=f),f}function _L(d){var f=RL(d).next.queue;u0(d,f,{},ho())}function yR(){return ns(A0)}function AL(){return ei().memoizedState}function kL(){return ei().memoizedState}function Mne(d){for(var f=d.return;f!==null;){switch(f.tag){case 24:case 3:var m=ho();d=uu(m);var w=du(f,d,m);w!==null&&(fo(w,f,m),i0(w,f,m)),f={cache:KT()},d.payload=f;return}f=f.return}}function One(d,f,m){var w=ho();m={lane:w,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},QC(d)?PL(f,m):(m=BT(d,f,m,w),m!==null&&(fo(m,d,w),FL(m,f,w)))}function DL(d,f,m){var w=ho();u0(d,f,m,w)}function u0(d,f,m,w){var T={lane:w,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(QC(d))PL(f,T);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var q=f.lastRenderedState,se=P(q,m);if(T.hasEagerState=!0,T.eagerState=se,oo(se,q))return MC(d,f,T,0),ar===null&&IC(),!1}catch{}finally{}if(m=BT(d,f,T,w),m!==null)return fo(m,d,w),FL(m,f,w),!0}return!1}function wR(d,f,m,w){if(w={lane:2,revertLane:QR(),action:w,hasEagerState:!1,eagerState:null,next:null},QC(d)){if(f)throw Error(r(479))}else f=BT(d,m,w,2),f!==null&&fo(f,d,2)}function QC(d){var f=d.alternate;return d===an||f!==null&&f===an}function PL(d,f){fp=WC=!0;var m=d.pending;m===null?f.next=f:(f.next=m.next,m.next=f),d.pending=f}function FL(d,f,m){if((m&4194048)!==0){var w=f.lanes;w&=d.pendingLanes,m|=w,f.lanes=m,Lo(d,m)}}var ZC={readContext:ns,use:qC,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr},IL={readContext:ns,use:qC,useCallback:function(d,f){return Hs().memoizedState=[d,f===void 0?null:f],d},useContext:ns,useEffect:mL,useImperativeHandle:function(d,f,m){m=m!=null?m.concat([d]):null,XC(4194308,4,CL.bind(null,f,d),m)},useLayoutEffect:function(d,f){return XC(4194308,4,d,f)},useInsertionEffect:function(d,f){XC(4,2,d,f)},useMemo:function(d,f){var m=Hs();f=f===void 0?null:f;var w=d();if(ah){We(!0);try{d()}finally{We(!1)}}return m.memoizedState=[w,f],w},useReducer:function(d,f,m){var w=Hs();if(m!==void 0){var T=m(f);if(ah){We(!0);try{m(f)}finally{We(!1)}}}else T=f;return w.memoizedState=w.baseState=T,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:T},w.queue=d,d=d.dispatch=One.bind(null,an,d),[w.memoizedState,d]},useRef:function(d){var f=Hs();return d={current:d},f.memoizedState=d},useState:function(d){d=fR(d);var f=d.queue,m=DL.bind(null,an,f);return f.dispatch=m,[d.memoizedState,m]},useDebugValue:gR,useDeferredValue:function(d,f){var m=Hs();return mR(m,d,f)},useTransition:function(){var d=fR(!1);return d=TL.bind(null,an,d.queue,!0,!1),Hs().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,f,m){var w=an,T=Hs();if(Nn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=f(),ar===null)throw Error(r(349));(Tn&124)!==0||eL(w,f,m)}T.memoizedState=m;var P={value:m,getSnapshot:f};return T.queue=P,mL(nL.bind(null,w,P,d),[d]),w.flags|=2048,gp(9,YC(),tL.bind(null,w,P,m,f),null),m},useId:function(){var d=Hs(),f=ar.identifierPrefix;if(Nn){var m=uc,w=cc;m=(w&~(1<<32-dt(w)-1)).toString(32)+m,f=""+f+"R"+m,m=$C++,0<m&&(f+="H"+m.toString(32)),f+=""}else m=kne++,f=""+f+"r"+m.toString(32)+"";return d.memoizedState=f},useHostTransitionStatus:yR,useFormState:dL,useActionState:dL,useOptimistic:function(d){var f=Hs();f.memoizedState=f.baseState=d;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=wR.bind(null,an,!0,m),m.dispatch=f,[d,f]},useMemoCache:uR,useCacheRefresh:function(){return Hs().memoizedState=Mne.bind(null,an)}},ML={readContext:ns,use:qC,useCallback:xL,useContext:ns,useEffect:vL,useImperativeHandle:bL,useInsertionEffect:yL,useLayoutEffect:wL,useMemo:SL,useReducer:KC,useRef:gL,useState:function(){return KC(fc)},useDebugValue:gR,useDeferredValue:function(d,f){var m=ei();return EL(m,Jn.memoizedState,d,f)},useTransition:function(){var d=KC(fc)[0],f=ei().memoizedState;return[typeof d=="boolean"?d:l0(d),f]},useSyncExternalStore:JN,useId:AL,useHostTransitionStatus:yR,useFormState:hL,useActionState:hL,useOptimistic:function(d,f){var m=ei();return sL(m,Jn,d,f)},useMemoCache:uR,useCacheRefresh:kL},Nne={readContext:ns,use:qC,useCallback:xL,useContext:ns,useEffect:vL,useImperativeHandle:bL,useInsertionEffect:yL,useLayoutEffect:wL,useMemo:SL,useReducer:hR,useRef:gL,useState:function(){return hR(fc)},useDebugValue:gR,useDeferredValue:function(d,f){var m=ei();return Jn===null?mR(m,d,f):EL(m,Jn.memoizedState,d,f)},useTransition:function(){var d=hR(fc)[0],f=ei().memoizedState;return[typeof d=="boolean"?d:l0(d),f]},useSyncExternalStore:JN,useId:AL,useHostTransitionStatus:yR,useFormState:pL,useActionState:pL,useOptimistic:function(d,f){var m=ei();return Jn!==null?sL(m,Jn,d,f):(m.baseState=d,[d,m.queue.dispatch])},useMemoCache:uR,useCacheRefresh:kL},mp=null,d0=0;function JC(d){var f=d0;return d0+=1,mp===null&&(mp=[]),WN(mp,d,f)}function h0(d,f){f=f.props.ref,d.ref=f!==void 0?f:null}function eb(d,f){throw f.$$typeof===h?Error(r(525)):(d=Object.prototype.toString.call(f),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d)))}function OL(d){var f=d._init;return f(d._payload)}function NL(d){function f(ke,Se){if(d){var Oe=ke.deletions;Oe===null?(ke.deletions=[Se],ke.flags|=16):Oe.push(Se)}}function m(ke,Se){if(!d)return null;for(;Se!==null;)f(ke,Se),Se=Se.sibling;return null}function w(ke){for(var Se=new Map;ke!==null;)ke.key!==null?Se.set(ke.key,ke):Se.set(ke.index,ke),ke=ke.sibling;return Se}function T(ke,Se){return ke=lc(ke,Se),ke.index=0,ke.sibling=null,ke}function P(ke,Se,Oe){return ke.index=Oe,d?(Oe=ke.alternate,Oe!==null?(Oe=Oe.index,Oe<Se?(ke.flags|=67108866,Se):Oe):(ke.flags|=67108866,Se)):(ke.flags|=1048576,Se)}function q(ke){return d&&ke.alternate===null&&(ke.flags|=67108866),ke}function se(ke,Se,Oe,Ze){return Se===null||Se.tag!==6?(Se=HT(Oe,ke.mode,Ze),Se.return=ke,Se):(Se=T(Se,Oe),Se.return=ke,Se)}function ge(ke,Se,Oe,Ze){var _t=Oe.type;return _t===v?Xe(ke,Se,Oe.props.children,Ze,Oe.key):Se!==null&&(Se.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===I&&OL(_t)===Se.type)?(Se=T(Se,Oe.props),h0(Se,Oe),Se.return=ke,Se):(Se=NC(Oe.type,Oe.key,Oe.props,null,ke.mode,Ze),h0(Se,Oe),Se.return=ke,Se)}function Be(ke,Se,Oe,Ze){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Oe.containerInfo||Se.stateNode.implementation!==Oe.implementation?(Se=GT(Oe,ke.mode,Ze),Se.return=ke,Se):(Se=T(Se,Oe.children||[]),Se.return=ke,Se)}function Xe(ke,Se,Oe,Ze,_t){return Se===null||Se.tag!==7?(Se=Jd(Oe,ke.mode,Ze,_t),Se.return=ke,Se):(Se=T(Se,Oe),Se.return=ke,Se)}function nt(ke,Se,Oe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=HT(""+Se,ke.mode,Oe),Se.return=ke,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case p:return Oe=NC(Se.type,Se.key,Se.props,null,ke.mode,Oe),h0(Oe,Se),Oe.return=ke,Oe;case g:return Se=GT(Se,ke.mode,Oe),Se.return=ke,Se;case I:var Ze=Se._init;return Se=Ze(Se._payload),nt(ke,Se,Oe)}if(ee(Se)||M(Se))return Se=Jd(Se,ke.mode,Oe,null),Se.return=ke,Se;if(typeof Se.then=="function")return nt(ke,JC(Se),Oe);if(Se.$$typeof===x)return nt(ke,HC(ke,Se),Oe);eb(ke,Se)}return null}function ze(ke,Se,Oe,Ze){var _t=Se!==null?Se.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return _t!==null?null:se(ke,Se,""+Oe,Ze);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return Oe.key===_t?ge(ke,Se,Oe,Ze):null;case g:return Oe.key===_t?Be(ke,Se,Oe,Ze):null;case I:return _t=Oe._init,Oe=_t(Oe._payload),ze(ke,Se,Oe,Ze)}if(ee(Oe)||M(Oe))return _t!==null?null:Xe(ke,Se,Oe,Ze,null);if(typeof Oe.then=="function")return ze(ke,Se,JC(Oe),Ze);if(Oe.$$typeof===x)return ze(ke,Se,HC(ke,Oe),Ze);eb(ke,Oe)}return null}function je(ke,Se,Oe,Ze,_t){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return ke=ke.get(Oe)||null,se(Se,ke,""+Ze,_t);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:return ke=ke.get(Ze.key===null?Oe:Ze.key)||null,ge(Se,ke,Ze,_t);case g:return ke=ke.get(Ze.key===null?Oe:Ze.key)||null,Be(Se,ke,Ze,_t);case I:var un=Ze._init;return Ze=un(Ze._payload),je(ke,Se,Oe,Ze,_t)}if(ee(Ze)||M(Ze))return ke=ke.get(Oe)||null,Xe(Se,ke,Ze,_t,null);if(typeof Ze.then=="function")return je(ke,Se,Oe,JC(Ze),_t);if(Ze.$$typeof===x)return je(ke,Se,Oe,HC(Se,Ze),_t);eb(Se,Ze)}return null}function Yt(ke,Se,Oe,Ze){for(var _t=null,un=null,Mt=Se,zt=Se=0,Ri=null;Mt!==null&&zt<Oe.length;zt++){Mt.index>zt?(Ri=Mt,Mt=null):Ri=Mt.sibling;var Pn=ze(ke,Mt,Oe[zt],Ze);if(Pn===null){Mt===null&&(Mt=Ri);break}d&&Mt&&Pn.alternate===null&&f(ke,Mt),Se=P(Pn,Se,zt),un===null?_t=Pn:un.sibling=Pn,un=Pn,Mt=Ri}if(zt===Oe.length)return m(ke,Mt),Nn&&th(ke,zt),_t;if(Mt===null){for(;zt<Oe.length;zt++)Mt=nt(ke,Oe[zt],Ze),Mt!==null&&(Se=P(Mt,Se,zt),un===null?_t=Mt:un.sibling=Mt,un=Mt);return Nn&&th(ke,zt),_t}for(Mt=w(Mt);zt<Oe.length;zt++)Ri=je(Mt,ke,zt,Oe[zt],Ze),Ri!==null&&(d&&Ri.alternate!==null&&Mt.delete(Ri.key===null?zt:Ri.key),Se=P(Ri,Se,zt),un===null?_t=Ri:un.sibling=Ri,un=Ri);return d&&Mt.forEach(function(Au){return f(ke,Au)}),Nn&&th(ke,zt),_t}function Gt(ke,Se,Oe,Ze){if(Oe==null)throw Error(r(151));for(var _t=null,un=null,Mt=Se,zt=Se=0,Ri=null,Pn=Oe.next();Mt!==null&&!Pn.done;zt++,Pn=Oe.next()){Mt.index>zt?(Ri=Mt,Mt=null):Ri=Mt.sibling;var Au=ze(ke,Mt,Pn.value,Ze);if(Au===null){Mt===null&&(Mt=Ri);break}d&&Mt&&Au.alternate===null&&f(ke,Mt),Se=P(Au,Se,zt),un===null?_t=Au:un.sibling=Au,un=Au,Mt=Ri}if(Pn.done)return m(ke,Mt),Nn&&th(ke,zt),_t;if(Mt===null){for(;!Pn.done;zt++,Pn=Oe.next())Pn=nt(ke,Pn.value,Ze),Pn!==null&&(Se=P(Pn,Se,zt),un===null?_t=Pn:un.sibling=Pn,un=Pn);return Nn&&th(ke,zt),_t}for(Mt=w(Mt);!Pn.done;zt++,Pn=Oe.next())Pn=je(Mt,ke,zt,Pn.value,Ze),Pn!==null&&(d&&Pn.alternate!==null&&Mt.delete(Pn.key===null?zt:Pn.key),Se=P(Pn,Se,zt),un===null?_t=Pn:un.sibling=Pn,un=Pn);return d&&Mt.forEach(function(Lre){return f(ke,Lre)}),Nn&&th(ke,zt),_t}function tr(ke,Se,Oe,Ze){if(typeof Oe=="object"&&Oe!==null&&Oe.type===v&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:e:{for(var _t=Oe.key;Se!==null;){if(Se.key===_t){if(_t=Oe.type,_t===v){if(Se.tag===7){m(ke,Se.sibling),Ze=T(Se,Oe.props.children),Ze.return=ke,ke=Ze;break e}}else if(Se.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===I&&OL(_t)===Se.type){m(ke,Se.sibling),Ze=T(Se,Oe.props),h0(Ze,Oe),Ze.return=ke,ke=Ze;break e}m(ke,Se);break}else f(ke,Se);Se=Se.sibling}Oe.type===v?(Ze=Jd(Oe.props.children,ke.mode,Ze,Oe.key),Ze.return=ke,ke=Ze):(Ze=NC(Oe.type,Oe.key,Oe.props,null,ke.mode,Ze),h0(Ze,Oe),Ze.return=ke,ke=Ze)}return q(ke);case g:e:{for(_t=Oe.key;Se!==null;){if(Se.key===_t)if(Se.tag===4&&Se.stateNode.containerInfo===Oe.containerInfo&&Se.stateNode.implementation===Oe.implementation){m(ke,Se.sibling),Ze=T(Se,Oe.children||[]),Ze.return=ke,ke=Ze;break e}else{m(ke,Se);break}else f(ke,Se);Se=Se.sibling}Ze=GT(Oe,ke.mode,Ze),Ze.return=ke,ke=Ze}return q(ke);case I:return _t=Oe._init,Oe=_t(Oe._payload),tr(ke,Se,Oe,Ze)}if(ee(Oe))return Yt(ke,Se,Oe,Ze);if(M(Oe)){if(_t=M(Oe),typeof _t!="function")throw Error(r(150));return Oe=_t.call(Oe),Gt(ke,Se,Oe,Ze)}if(typeof Oe.then=="function")return tr(ke,Se,JC(Oe),Ze);if(Oe.$$typeof===x)return tr(ke,Se,HC(ke,Oe),Ze);eb(ke,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,Se!==null&&Se.tag===6?(m(ke,Se.sibling),Ze=T(Se,Oe),Ze.return=ke,ke=Ze):(m(ke,Se),Ze=HT(Oe,ke.mode,Ze),Ze.return=ke,ke=Ze),q(ke)):m(ke,Se)}return function(ke,Se,Oe,Ze){try{d0=0;var _t=tr(ke,Se,Oe,Ze);return mp=null,_t}catch(Mt){if(Mt===n0||Mt===UC)throw Mt;var un=ao(29,Mt,null,ke.mode);return un.lanes=Ze,un.return=ke,un}finally{}}}var vp=NL(!0),LL=NL(!1),qo=X(null),al=null;function fu(d){var f=d.alternate;G(gi,gi.current&1),G(qo,d),al===null&&(f===null||hp.current!==null||f.memoizedState!==null)&&(al=d)}function BL(d){if(d.tag===22){if(G(gi,gi.current),G(qo,d),al===null){var f=d.alternate;f!==null&&f.memoizedState!==null&&(al=d)}}else pu()}function pu(){G(gi,gi.current),G(qo,qo.current)}function pc(d){z(qo),al===d&&(al=null),z(gi)}var gi=X(0);function tb(d){for(var f=d;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||c_(m)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function CR(d,f,m,w){f=d.memoizedState,m=m(w,f),m=m==null?f:u({},f,m),d.memoizedState=m,d.lanes===0&&(d.updateQueue.baseState=m)}var bR={enqueueSetState:function(d,f,m){d=d._reactInternals;var w=ho(),T=uu(w);T.payload=f,m!=null&&(T.callback=m),f=du(d,T,w),f!==null&&(fo(f,d,w),i0(f,d,w))},enqueueReplaceState:function(d,f,m){d=d._reactInternals;var w=ho(),T=uu(w);T.tag=1,T.payload=f,m!=null&&(T.callback=m),f=du(d,T,w),f!==null&&(fo(f,d,w),i0(f,d,w))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var m=ho(),w=uu(m);w.tag=2,f!=null&&(w.callback=f),f=du(d,w,m),f!==null&&(fo(f,d,m),i0(f,d,m))}};function VL(d,f,m,w,T,P,q){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,P,q):f.prototype&&f.prototype.isPureReactComponent?!Km(m,w)||!Km(T,P):!0}function HL(d,f,m,w){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,w),f.state!==d&&bR.enqueueReplaceState(f,f.state,null)}function lh(d,f){var m=f;if("ref"in f){m={};for(var w in f)w!=="ref"&&(m[w]=f[w])}if(d=d.defaultProps){m===f&&(m=u({},m));for(var T in d)m[T]===void 0&&(m[T]=d[T])}return m}var nb=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function GL(d){nb(d)}function UL(d){console.error(d)}function zL(d){nb(d)}function rb(d,f){try{var m=d.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function jL(d,f,m){try{var w=d.onCaughtError;w(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function xR(d,f,m){return m=uu(m),m.tag=3,m.payload={element:null},m.callback=function(){rb(d,f)},m}function WL(d){return d=uu(d),d.tag=3,d}function $L(d,f,m,w){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var P=w.value;d.payload=function(){return T(P)},d.callback=function(){jL(f,m,w)}}var q=m.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(d.callback=function(){jL(f,m,w),typeof T!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var se=w.stack;this.componentDidCatch(w.value,{componentStack:se!==null?se:""})})}function Lne(d,f,m,w,T){if(m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=m.alternate,f!==null&&Jm(f,m,T,!0),m=qo.current,m!==null){switch(m.tag){case 13:return al===null?$R():m.alternate===null&&Fr===0&&(Fr=3),m.flags&=-257,m.flags|=65536,m.lanes=T,w===QT?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([w]):f.add(w),KR(d,w,T)),!1;case 22:return m.flags|=65536,w===QT?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([w]):m.add(w)),KR(d,w,T)),!1}throw Error(r(435,m.tag))}return KR(d,w,T),$R(),!1}if(Nn)return f=qo.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,w!==jT&&(d=Error(r(422),{cause:w}),Zm(zo(d,m)))):(w!==jT&&(f=Error(r(423),{cause:w}),Zm(zo(f,m))),d=d.current.alternate,d.flags|=65536,T&=-T,d.lanes|=T,w=zo(w,m),T=xR(d.stateNode,w,T),eR(d,T),Fr!==4&&(Fr=2)),!1;var P=Error(r(520),{cause:w});if(P=zo(P,m),w0===null?w0=[P]:w0.push(P),Fr!==4&&(Fr=2),f===null)return!0;w=zo(w,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,d=T&-T,m.lanes|=d,d=xR(m.stateNode,w,d),eR(m,d),!1;case 1:if(f=m.type,P=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Cu===null||!Cu.has(P))))return m.flags|=65536,T&=-T,m.lanes|=T,T=WL(T),$L(T,d,m,w),eR(m,T),!1}m=m.return}while(m!==null);return!1}var qL=Error(r(461)),Ei=!1;function Hi(d,f,m,w){f.child=d===null?LL(f,null,m,w):vp(f,d.child,m,w)}function KL(d,f,m,w,T){m=m.render;var P=f.ref;if("ref"in w){var q={};for(var se in w)se!=="ref"&&(q[se]=w[se])}else q=w;return sh(f),w=sR(d,f,m,q,P,T),se=oR(),d!==null&&!Ei?(aR(d,f,T),gc(d,f,T)):(Nn&&se&&UT(f),f.flags|=1,Hi(d,f,w,T),f.child)}function YL(d,f,m,w,T){if(d===null){var P=m.type;return typeof P=="function"&&!VT(P)&&P.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=P,XL(d,f,P,w,T)):(d=NC(m.type,null,w,f,f.mode,T),d.ref=f.ref,d.return=f,f.child=d)}if(P=d.child,!DR(d,T)){var q=P.memoizedProps;if(m=m.compare,m=m!==null?m:Km,m(q,w)&&d.ref===f.ref)return gc(d,f,T)}return f.flags|=1,d=lc(P,w),d.ref=f.ref,d.return=f,f.child=d}function XL(d,f,m,w,T){if(d!==null){var P=d.memoizedProps;if(Km(P,w)&&d.ref===f.ref)if(Ei=!1,f.pendingProps=w=P,DR(d,T))(d.flags&131072)!==0&&(Ei=!0);else return f.lanes=d.lanes,gc(d,f,T)}return SR(d,f,m,w,T)}function QL(d,f,m){var w=f.pendingProps,T=w.children,P=d!==null?d.memoizedState:null;if(w.mode==="hidden"){if((f.flags&128)!==0){if(w=P!==null?P.baseLanes|m:m,d!==null){for(T=f.child=d.child,P=0;T!==null;)P=P|T.lanes|T.childLanes,T=T.sibling;f.childLanes=P&~w}else f.childLanes=0,f.child=null;return ZL(d,f,w,m)}if((m&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},d!==null&&GC(f,P!==null?P.cachePool:null),P!==null?XN(f,P):nR(),BL(f);else return f.lanes=f.childLanes=536870912,ZL(d,f,P!==null?P.baseLanes|m:m,m)}else P!==null?(GC(f,P.cachePool),XN(f,P),pu(),f.memoizedState=null):(d!==null&&GC(f,null),nR(),pu());return Hi(d,f,T,m),f.child}function ZL(d,f,m,w){var T=XT();return T=T===null?null:{parent:pi._currentValue,pool:T},f.memoizedState={baseLanes:m,cachePool:T},d!==null&&GC(f,null),nR(),BL(f),d!==null&&Jm(d,f,w,!0),null}function ib(d,f){var m=f.ref;if(m===null)d!==null&&d.ref!==null&&(f.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(d===null||d.ref!==m)&&(f.flags|=4194816)}}function SR(d,f,m,w,T){return sh(f),m=sR(d,f,m,w,void 0,T),w=oR(),d!==null&&!Ei?(aR(d,f,T),gc(d,f,T)):(Nn&&w&&UT(f),f.flags|=1,Hi(d,f,m,T),f.child)}function JL(d,f,m,w,T,P){return sh(f),f.updateQueue=null,m=ZN(f,w,m,T),QN(d),w=oR(),d!==null&&!Ei?(aR(d,f,P),gc(d,f,P)):(Nn&&w&&UT(f),f.flags|=1,Hi(d,f,m,P),f.child)}function e4(d,f,m,w,T){if(sh(f),f.stateNode===null){var P=ap,q=m.contextType;typeof q=="object"&&q!==null&&(P=ns(q)),P=new m(w,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=bR,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=w,P.state=f.memoizedState,P.refs={},ZT(f),q=m.contextType,P.context=typeof q=="object"&&q!==null?ns(q):ap,P.state=f.memoizedState,q=m.getDerivedStateFromProps,typeof q=="function"&&(CR(f,m,q,w),P.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(q=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),q!==P.state&&bR.enqueueReplaceState(P,P.state,null),o0(f,w,P,T),s0(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(d===null){P=f.stateNode;var se=f.memoizedProps,ge=lh(m,se);P.props=ge;var Be=P.context,Xe=m.contextType;q=ap,typeof Xe=="object"&&Xe!==null&&(q=ns(Xe));var nt=m.getDerivedStateFromProps;Xe=typeof nt=="function"||typeof P.getSnapshotBeforeUpdate=="function",se=f.pendingProps!==se,Xe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(se||Be!==q)&&HL(f,P,w,q),cu=!1;var ze=f.memoizedState;P.state=ze,o0(f,w,P,T),s0(),Be=f.memoizedState,se||ze!==Be||cu?(typeof nt=="function"&&(CR(f,m,nt,w),Be=f.memoizedState),(ge=cu||VL(f,m,ge,w,ze,Be,q))?(Xe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Be),P.props=w,P.state=Be,P.context=q,w=ge):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{P=f.stateNode,JT(d,f),q=f.memoizedProps,Xe=lh(m,q),P.props=Xe,nt=f.pendingProps,ze=P.context,Be=m.contextType,ge=ap,typeof Be=="object"&&Be!==null&&(ge=ns(Be)),se=m.getDerivedStateFromProps,(Be=typeof se=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==nt||ze!==ge)&&HL(f,P,w,ge),cu=!1,ze=f.memoizedState,P.state=ze,o0(f,w,P,T),s0();var je=f.memoizedState;q!==nt||ze!==je||cu||d!==null&&d.dependencies!==null&&VC(d.dependencies)?(typeof se=="function"&&(CR(f,m,se,w),je=f.memoizedState),(Xe=cu||VL(f,m,Xe,w,ze,je,ge)||d!==null&&d.dependencies!==null&&VC(d.dependencies))?(Be||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(w,je,ge),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(w,je,ge)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||q===d.memoizedProps&&ze===d.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===d.memoizedProps&&ze===d.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=je),P.props=w,P.state=je,P.context=ge,w=Xe):(typeof P.componentDidUpdate!="function"||q===d.memoizedProps&&ze===d.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===d.memoizedProps&&ze===d.memoizedState||(f.flags|=1024),w=!1)}return P=w,ib(d,f),w=(f.flags&128)!==0,P||w?(P=f.stateNode,m=w&&typeof m.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,d!==null&&w?(f.child=vp(f,d.child,null,T),f.child=vp(f,null,m,T)):Hi(d,f,m,T),f.memoizedState=P.state,d=f.child):d=gc(d,f,T),d}function t4(d,f,m,w){return Qm(),f.flags|=256,Hi(d,f,m,w),f.child}var ER={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function TR(d){return{baseLanes:d,cachePool:UN()}}function RR(d,f,m){return d=d!==null?d.childLanes&~m:0,f&&(d|=Ko),d}function n4(d,f,m){var w=f.pendingProps,T=!1,P=(f.flags&128)!==0,q;if((q=P)||(q=d!==null&&d.memoizedState===null?!1:(gi.current&2)!==0),q&&(T=!0,f.flags&=-129),q=(f.flags&32)!==0,f.flags&=-33,d===null){if(Nn){if(T?fu(f):pu(),Nn){var se=Pr,ge;if(ge=se){e:{for(ge=se,se=ol;ge.nodeType!==8;){if(!se){se=null;break e}if(ge=Da(ge.nextSibling),ge===null){se=null;break e}}se=ge}se!==null?(f.memoizedState={dehydrated:se,treeContext:eh!==null?{id:cc,overflow:uc}:null,retryLane:536870912,hydrationErrors:null},ge=ao(18,null,null,0),ge.stateNode=se,ge.return=f,f.child=ge,Ts=f,Pr=null,ge=!0):ge=!1}ge||rh(f)}if(se=f.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return c_(se)?f.lanes=32:f.lanes=536870912,null;pc(f)}return se=w.children,w=w.fallback,T?(pu(),T=f.mode,se=sb({mode:"hidden",children:se},T),w=Jd(w,T,m,null),se.return=f,w.return=f,se.sibling=w,f.child=se,T=f.child,T.memoizedState=TR(m),T.childLanes=RR(d,q,m),f.memoizedState=ER,w):(fu(f),_R(f,se))}if(ge=d.memoizedState,ge!==null&&(se=ge.dehydrated,se!==null)){if(P)f.flags&256?(fu(f),f.flags&=-257,f=AR(d,f,m)):f.memoizedState!==null?(pu(),f.child=d.child,f.flags|=128,f=null):(pu(),T=w.fallback,se=f.mode,w=sb({mode:"visible",children:w.children},se),T=Jd(T,se,m,null),T.flags|=2,w.return=f,T.return=f,w.sibling=T,f.child=w,vp(f,d.child,null,m),w=f.child,w.memoizedState=TR(m),w.childLanes=RR(d,q,m),f.memoizedState=ER,f=T);else if(fu(f),c_(se)){if(q=se.nextSibling&&se.nextSibling.dataset,q)var Be=q.dgst;q=Be,w=Error(r(419)),w.stack="",w.digest=q,Zm({value:w,source:null,stack:null}),f=AR(d,f,m)}else if(Ei||Jm(d,f,m,!1),q=(m&d.childLanes)!==0,Ei||q){if(q=ar,q!==null&&(w=m&-m,w=(w&42)!==0?1:Bo(w),w=(w&(q.suspendedLanes|m))!==0?0:w,w!==0&&w!==ge.retryLane))throw ge.retryLane=w,op(d,w),fo(q,d,w),qL;se.data==="$?"||$R(),f=AR(d,f,m)}else se.data==="$?"?(f.flags|=192,f.child=d.child,f=null):(d=ge.treeContext,Pr=Da(se.nextSibling),Ts=f,Nn=!0,nh=null,ol=!1,d!==null&&(Wo[$o++]=cc,Wo[$o++]=uc,Wo[$o++]=eh,cc=d.id,uc=d.overflow,eh=f),f=_R(f,w.children),f.flags|=4096);return f}return T?(pu(),T=w.fallback,se=f.mode,ge=d.child,Be=ge.sibling,w=lc(ge,{mode:"hidden",children:w.children}),w.subtreeFlags=ge.subtreeFlags&65011712,Be!==null?T=lc(Be,T):(T=Jd(T,se,m,null),T.flags|=2),T.return=f,w.return=f,w.sibling=T,f.child=w,w=T,T=f.child,se=d.child.memoizedState,se===null?se=TR(m):(ge=se.cachePool,ge!==null?(Be=pi._currentValue,ge=ge.parent!==Be?{parent:Be,pool:Be}:ge):ge=UN(),se={baseLanes:se.baseLanes|m,cachePool:ge}),T.memoizedState=se,T.childLanes=RR(d,q,m),f.memoizedState=ER,w):(fu(f),m=d.child,d=m.sibling,m=lc(m,{mode:"visible",children:w.children}),m.return=f,m.sibling=null,d!==null&&(q=f.deletions,q===null?(f.deletions=[d],f.flags|=16):q.push(d)),f.child=m,f.memoizedState=null,m)}function _R(d,f){return f=sb({mode:"visible",children:f},d.mode),f.return=d,d.child=f}function sb(d,f){return d=ao(22,d,null,f),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function AR(d,f,m){return vp(f,d.child,null,m),d=_R(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function r4(d,f,m){d.lanes|=f;var w=d.alternate;w!==null&&(w.lanes|=f),$T(d.return,f,m)}function kR(d,f,m,w,T){var P=d.memoizedState;P===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:T}:(P.isBackwards=f,P.rendering=null,P.renderingStartTime=0,P.last=w,P.tail=m,P.tailMode=T)}function i4(d,f,m){var w=f.pendingProps,T=w.revealOrder,P=w.tail;if(Hi(d,f,w.children,m),w=gi.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&r4(d,m,f);else if(d.tag===19)r4(d,m,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}switch(G(gi,w),T){case"forwards":for(m=f.child,T=null;m!==null;)d=m.alternate,d!==null&&tb(d)===null&&(T=m),m=m.sibling;m=T,m===null?(T=f.child,f.child=null):(T=m.sibling,m.sibling=null),kR(f,!1,T,m,P);break;case"backwards":for(m=null,T=f.child,f.child=null;T!==null;){if(d=T.alternate,d!==null&&tb(d)===null){f.child=T;break}d=T.sibling,T.sibling=m,m=T,T=d}kR(f,!0,m,null,P);break;case"together":kR(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function gc(d,f,m){if(d!==null&&(f.dependencies=d.dependencies),wu|=f.lanes,(m&f.childLanes)===0)if(d!==null){if(Jm(d,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(d!==null&&f.child!==d.child)throw Error(r(153));if(f.child!==null){for(d=f.child,m=lc(d,d.pendingProps),f.child=m,m.return=f;d.sibling!==null;)d=d.sibling,m=m.sibling=lc(d,d.pendingProps),m.return=f;m.sibling=null}return f.child}function DR(d,f){return(d.lanes&f)!==0?!0:(d=d.dependencies,!!(d!==null&&VC(d)))}function Bne(d,f,m){switch(f.tag){case 3:Re(f,f.stateNode.containerInfo),lu(f,pi,d.memoizedState.cache),Qm();break;case 27:case 5:De(f);break;case 4:Re(f,f.stateNode.containerInfo);break;case 10:lu(f,f.type,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(fu(f),f.flags|=128,null):(m&f.child.childLanes)!==0?n4(d,f,m):(fu(f),d=gc(d,f,m),d!==null?d.sibling:null);fu(f);break;case 19:var T=(d.flags&128)!==0;if(w=(m&f.childLanes)!==0,w||(Jm(d,f,m,!1),w=(m&f.childLanes)!==0),T){if(w)return i4(d,f,m);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),G(gi,gi.current),w)break;return null;case 22:case 23:return f.lanes=0,QL(d,f,m);case 24:lu(f,pi,d.memoizedState.cache)}return gc(d,f,m)}function s4(d,f,m){if(d!==null)if(d.memoizedProps!==f.pendingProps)Ei=!0;else{if(!DR(d,m)&&(f.flags&128)===0)return Ei=!1,Bne(d,f,m);Ei=(d.flags&131072)!==0}else Ei=!1,Nn&&(f.flags&1048576)!==0&&ON(f,BC,f.index);switch(f.lanes=0,f.tag){case 16:e:{d=f.pendingProps;var w=f.elementType,T=w._init;if(w=T(w._payload),f.type=w,typeof w=="function")VT(w)?(d=lh(w,d),f.tag=1,f=e4(null,f,w,d,m)):(f.tag=0,f=SR(null,f,w,d,m));else{if(w!=null){if(T=w.$$typeof,T===k){f.tag=11,f=KL(null,f,w,d,m);break e}else if(T===_){f.tag=14,f=YL(null,f,w,d,m);break e}}throw f=H(w)||w,Error(r(306,f,""))}}return f;case 0:return SR(d,f,f.type,f.pendingProps,m);case 1:return w=f.type,T=lh(w,f.pendingProps),e4(d,f,w,T,m);case 3:e:{if(Re(f,f.stateNode.containerInfo),d===null)throw Error(r(387));w=f.pendingProps;var P=f.memoizedState;T=P.element,JT(d,f),o0(f,w,null,m);var q=f.memoizedState;if(w=q.cache,lu(f,pi,w),w!==P.cache&&qT(f,[pi],m,!0),s0(),w=q.element,P.isDehydrated)if(P={element:w,isDehydrated:!1,cache:q.cache},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){f=t4(d,f,w,m);break e}else if(w!==T){T=zo(Error(r(424)),f),Zm(T),f=t4(d,f,w,m);break e}else{switch(d=f.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Pr=Da(d.firstChild),Ts=f,Nn=!0,nh=null,ol=!0,m=LL(f,null,w,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Qm(),w===T){f=gc(d,f,m);break e}Hi(d,f,w,m)}f=f.child}return f;case 26:return ib(d,f),d===null?(m=cB(f.type,null,f.pendingProps,null))?f.memoizedState=m:Nn||(m=f.type,d=f.pendingProps,w=wb(pe.current).createElement(m),w[tt]=f,w[lt]=d,Ui(w,m,d),Ee(w),f.stateNode=w):f.memoizedState=cB(f.type,d.memoizedProps,f.pendingProps,d.memoizedState),null;case 27:return De(f),d===null&&Nn&&(w=f.stateNode=oB(f.type,f.pendingProps,pe.current),Ts=f,ol=!0,T=Pr,Su(f.type)?(u_=T,Pr=Da(w.firstChild)):Pr=T),Hi(d,f,f.pendingProps.children,m),ib(d,f),d===null&&(f.flags|=4194304),f.child;case 5:return d===null&&Nn&&((T=w=Pr)&&(w=hre(w,f.type,f.pendingProps,ol),w!==null?(f.stateNode=w,Ts=f,Pr=Da(w.firstChild),ol=!1,T=!0):T=!1),T||rh(f)),De(f),T=f.type,P=f.pendingProps,q=d!==null?d.memoizedProps:null,w=P.children,o_(T,P)?w=null:q!==null&&o_(T,q)&&(f.flags|=32),f.memoizedState!==null&&(T=sR(d,f,Dne,null,null,m),A0._currentValue=T),ib(d,f),Hi(d,f,w,m),f.child;case 6:return d===null&&Nn&&((d=m=Pr)&&(m=fre(m,f.pendingProps,ol),m!==null?(f.stateNode=m,Ts=f,Pr=null,d=!0):d=!1),d||rh(f)),null;case 13:return n4(d,f,m);case 4:return Re(f,f.stateNode.containerInfo),w=f.pendingProps,d===null?f.child=vp(f,null,w,m):Hi(d,f,w,m),f.child;case 11:return KL(d,f,f.type,f.pendingProps,m);case 7:return Hi(d,f,f.pendingProps,m),f.child;case 8:return Hi(d,f,f.pendingProps.children,m),f.child;case 12:return Hi(d,f,f.pendingProps.children,m),f.child;case 10:return w=f.pendingProps,lu(f,f.type,w.value),Hi(d,f,w.children,m),f.child;case 9:return T=f.type._context,w=f.pendingProps.children,sh(f),T=ns(T),w=w(T),f.flags|=1,Hi(d,f,w,m),f.child;case 14:return YL(d,f,f.type,f.pendingProps,m);case 15:return XL(d,f,f.type,f.pendingProps,m);case 19:return i4(d,f,m);case 31:return w=f.pendingProps,m=f.mode,w={mode:w.mode,children:w.children},d===null?(m=sb(w,m),m.ref=f.ref,f.child=m,m.return=f,f=m):(m=lc(d.child,w),m.ref=f.ref,f.child=m,m.return=f,f=m),f;case 22:return QL(d,f,m);case 24:return sh(f),w=ns(pi),d===null?(T=XT(),T===null&&(T=ar,P=KT(),T.pooledCache=P,P.refCount++,P!==null&&(T.pooledCacheLanes|=m),T=P),f.memoizedState={parent:w,cache:T},ZT(f),lu(f,pi,T)):((d.lanes&m)!==0&&(JT(d,f),o0(f,null,null,m),s0()),T=d.memoizedState,P=f.memoizedState,T.parent!==w?(T={parent:w,cache:w},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),lu(f,pi,w)):(w=P.cache,lu(f,pi,w),w!==T.cache&&qT(f,[pi],m,!0))),Hi(d,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function mc(d){d.flags|=4}function o4(d,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!pB(f)){if(f=qo.current,f!==null&&((Tn&4194048)===Tn?al!==null:(Tn&62914560)!==Tn&&(Tn&536870912)===0||f!==al))throw r0=QT,zN;d.flags|=8192}}function ob(d,f){f!==null&&(d.flags|=4),d.flags&16384&&(f=d.tag!==22?No():536870912,d.lanes|=f,bp|=f)}function f0(d,f){if(!Nn)switch(d.tailMode){case"hidden":f=d.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?d.tail=null:m.sibling=null;break;case"collapsed":m=d.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function xr(d){var f=d.alternate!==null&&d.alternate.child===d.child,m=0,w=0;if(f)for(var T=d.child;T!==null;)m|=T.lanes|T.childLanes,w|=T.subtreeFlags&65011712,w|=T.flags&65011712,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)m|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=w,d.childLanes=m,f}function Vne(d,f,m){var w=f.pendingProps;switch(zT(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(f),null;case 1:return xr(f),null;case 3:return m=f.stateNode,w=null,d!==null&&(w=d.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),hc(pi),Te(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(d===null||d.child===null)&&(Xm(f)?mc(f):d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,BN())),xr(f),null;case 26:return m=f.memoizedState,d===null?(mc(f),m!==null?(xr(f),o4(f,m)):(xr(f),f.flags&=-16777217)):m?m!==d.memoizedState?(mc(f),xr(f),o4(f,m)):(xr(f),f.flags&=-16777217):(d.memoizedProps!==w&&mc(f),xr(f),f.flags&=-16777217),null;case 27:et(f),m=pe.current;var T=f.type;if(d!==null&&f.stateNode!=null)d.memoizedProps!==w&&mc(f);else{if(!w){if(f.stateNode===null)throw Error(r(166));return xr(f),null}d=Y.current,Xm(f)?NN(f):(d=oB(T,w,m),f.stateNode=d,mc(f))}return xr(f),null;case 5:if(et(f),m=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==w&&mc(f);else{if(!w){if(f.stateNode===null)throw Error(r(166));return xr(f),null}if(d=Y.current,Xm(f))NN(f);else{switch(T=wb(pe.current),d){case 1:d=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:d=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":d=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":d=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":d=T.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof w.is=="string"?T.createElement("select",{is:w.is}):T.createElement("select"),w.multiple?d.multiple=!0:w.size&&(d.size=w.size);break;default:d=typeof w.is=="string"?T.createElement(m,{is:w.is}):T.createElement(m)}}d[tt]=f,d[lt]=w;e:for(T=f.child;T!==null;){if(T.tag===5||T.tag===6)d.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===f)break e;for(;T.sibling===null;){if(T.return===null||T.return===f)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}f.stateNode=d;e:switch(Ui(d,m,w),m){case"button":case"input":case"select":case"textarea":d=!!w.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&mc(f)}}return xr(f),f.flags&=-16777217,null;case 6:if(d&&f.stateNode!=null)d.memoizedProps!==w&&mc(f);else{if(typeof w!="string"&&f.stateNode===null)throw Error(r(166));if(d=pe.current,Xm(f)){if(d=f.stateNode,m=f.memoizedProps,w=null,T=Ts,T!==null)switch(T.tag){case 27:case 5:w=T.memoizedProps}d[tt]=f,d=!!(d.nodeValue===m||w!==null&&w.suppressHydrationWarning===!0||J4(d.nodeValue,m)),d||rh(f)}else d=wb(d).createTextNode(w),d[tt]=f,f.stateNode=d}return xr(f),null;case 13:if(w=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(T=Xm(f),w!==null&&w.dehydrated!==null){if(d===null){if(!T)throw Error(r(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[tt]=f}else Qm(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;xr(f),T=!1}else T=BN(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=T),T=!0;if(!T)return f.flags&256?(pc(f),f):(pc(f),null)}if(pc(f),(f.flags&128)!==0)return f.lanes=m,f;if(m=w!==null,d=d!==null&&d.memoizedState!==null,m){w=f.child,T=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(T=w.alternate.memoizedState.cachePool.pool);var P=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(P=w.memoizedState.cachePool.pool),P!==T&&(w.flags|=2048)}return m!==d&&m&&(f.child.flags|=8192),ob(f,f.updateQueue),xr(f),null;case 4:return Te(),d===null&&t_(f.stateNode.containerInfo),xr(f),null;case 10:return hc(f.type),xr(f),null;case 19:if(z(gi),T=f.memoizedState,T===null)return xr(f),null;if(w=(f.flags&128)!==0,P=T.rendering,P===null)if(w)f0(T,!1);else{if(Fr!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(P=tb(d),P!==null){for(f.flags|=128,f0(T,!1),d=P.updateQueue,f.updateQueue=d,ob(f,d),f.subtreeFlags=0,d=m,m=f.child;m!==null;)MN(m,d),m=m.sibling;return G(gi,gi.current&1|2),f.child}d=d.sibling}T.tail!==null&&Q()>cb&&(f.flags|=128,w=!0,f0(T,!1),f.lanes=4194304)}else{if(!w)if(d=tb(P),d!==null){if(f.flags|=128,w=!0,d=d.updateQueue,f.updateQueue=d,ob(f,d),f0(T,!0),T.tail===null&&T.tailMode==="hidden"&&!P.alternate&&!Nn)return xr(f),null}else 2*Q()-T.renderingStartTime>cb&&m!==536870912&&(f.flags|=128,w=!0,f0(T,!1),f.lanes=4194304);T.isBackwards?(P.sibling=f.child,f.child=P):(d=T.last,d!==null?d.sibling=P:f.child=P,T.last=P)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=Q(),f.sibling=null,d=gi.current,G(gi,w?d&1|2:d&1),f):(xr(f),null);case 22:case 23:return pc(f),rR(),w=f.memoizedState!==null,d!==null?d.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(m&536870912)!==0&&(f.flags&128)===0&&(xr(f),f.subtreeFlags&6&&(f.flags|=8192)):xr(f),m=f.updateQueue,m!==null&&ob(f,m.retryQueue),m=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==m&&(f.flags|=2048),d!==null&&z(oh),null;case 24:return m=null,d!==null&&(m=d.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),hc(pi),xr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function Hne(d,f){switch(zT(f),f.tag){case 1:return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return hc(pi),Te(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 26:case 27:case 5:return et(f),null;case 13:if(pc(f),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Qm()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return z(gi),null;case 4:return Te(),null;case 10:return hc(f.type),null;case 22:case 23:return pc(f),rR(),d!==null&&z(oh),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 24:return hc(pi),null;case 25:return null;default:return null}}function a4(d,f){switch(zT(f),f.tag){case 3:hc(pi),Te();break;case 26:case 27:case 5:et(f);break;case 4:Te();break;case 13:pc(f);break;case 19:z(gi);break;case 10:hc(f.type);break;case 22:case 23:pc(f),rR(),d!==null&&z(oh);break;case 24:hc(pi)}}function p0(d,f){try{var m=f.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var T=w.next;m=T;do{if((m.tag&d)===d){w=void 0;var P=m.create,q=m.inst;w=P(),q.destroy=w}m=m.next}while(m!==T)}}catch(se){sr(f,f.return,se)}}function gu(d,f,m){try{var w=f.updateQueue,T=w!==null?w.lastEffect:null;if(T!==null){var P=T.next;w=P;do{if((w.tag&d)===d){var q=w.inst,se=q.destroy;if(se!==void 0){q.destroy=void 0,T=f;var ge=m,Be=se;try{Be()}catch(Xe){sr(T,ge,Xe)}}}w=w.next}while(w!==P)}}catch(Xe){sr(f,f.return,Xe)}}function l4(d){var f=d.updateQueue;if(f!==null){var m=d.stateNode;try{YN(f,m)}catch(w){sr(d,d.return,w)}}}function c4(d,f,m){m.props=lh(d.type,d.memoizedProps),m.state=d.memoizedState;try{m.componentWillUnmount()}catch(w){sr(d,f,w)}}function g0(d,f){try{var m=d.ref;if(m!==null){switch(d.tag){case 26:case 27:case 5:var w=d.stateNode;break;case 30:w=d.stateNode;break;default:w=d.stateNode}typeof m=="function"?d.refCleanup=m(w):m.current=w}}catch(T){sr(d,f,T)}}function ll(d,f){var m=d.ref,w=d.refCleanup;if(m!==null)if(typeof w=="function")try{w()}catch(T){sr(d,f,T)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){sr(d,f,T)}else m.current=null}function u4(d){var f=d.type,m=d.memoizedProps,w=d.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&w.focus();break e;case"img":m.src?w.src=m.src:m.srcSet&&(w.srcset=m.srcSet)}}catch(T){sr(d,d.return,T)}}function PR(d,f,m){try{var w=d.stateNode;are(w,d.type,m,f),w[lt]=f}catch(T){sr(d,d.return,T)}}function d4(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Su(d.type)||d.tag===4}function FR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||d4(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Su(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function IR(d,f,m){var w=d.tag;if(w===5||w===6)d=d.stateNode,f?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(d,f):(f=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,f.appendChild(d),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=yb));else if(w!==4&&(w===27&&Su(d.type)&&(m=d.stateNode,f=null),d=d.child,d!==null))for(IR(d,f,m),d=d.sibling;d!==null;)IR(d,f,m),d=d.sibling}function ab(d,f,m){var w=d.tag;if(w===5||w===6)d=d.stateNode,f?m.insertBefore(d,f):m.appendChild(d);else if(w!==4&&(w===27&&Su(d.type)&&(m=d.stateNode),d=d.child,d!==null))for(ab(d,f,m),d=d.sibling;d!==null;)ab(d,f,m),d=d.sibling}function h4(d){var f=d.stateNode,m=d.memoizedProps;try{for(var w=d.type,T=f.attributes;T.length;)f.removeAttributeNode(T[0]);Ui(f,w,m),f[tt]=d,f[lt]=m}catch(P){sr(d,d.return,P)}}var vc=!1,Ur=!1,MR=!1,f4=typeof WeakSet=="function"?WeakSet:Set,Ti=null;function Gne(d,f){if(d=d.containerInfo,i_=Tb,d=EN(d),FT(d)){if("selectionStart"in d)var m={start:d.selectionStart,end:d.selectionEnd};else e:{m=(m=d.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var T=w.anchorOffset,P=w.focusNode;w=w.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var q=0,se=-1,ge=-1,Be=0,Xe=0,nt=d,ze=null;t:for(;;){for(var je;nt!==m||T!==0&&nt.nodeType!==3||(se=q+T),nt!==P||w!==0&&nt.nodeType!==3||(ge=q+w),nt.nodeType===3&&(q+=nt.nodeValue.length),(je=nt.firstChild)!==null;)ze=nt,nt=je;for(;;){if(nt===d)break t;if(ze===m&&++Be===T&&(se=q),ze===P&&++Xe===w&&(ge=q),(je=nt.nextSibling)!==null)break;nt=ze,ze=nt.parentNode}nt=je}m=se===-1||ge===-1?null:{start:se,end:ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(s_={focusedElem:d,selectionRange:m},Tb=!1,Ti=f;Ti!==null;)if(f=Ti,d=f.child,(f.subtreeFlags&1024)!==0&&d!==null)d.return=f,Ti=d;else for(;Ti!==null;){switch(f=Ti,P=f.alternate,d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&P!==null){d=void 0,m=f,T=P.memoizedProps,P=P.memoizedState,w=m.stateNode;try{var Yt=lh(m.type,T,m.elementType===m.type);d=w.getSnapshotBeforeUpdate(Yt,P),w.__reactInternalSnapshotBeforeUpdate=d}catch(Gt){sr(m,m.return,Gt)}}break;case 3:if((d&1024)!==0){if(d=f.stateNode.containerInfo,m=d.nodeType,m===9)l_(d);else if(m===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":l_(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,Ti=d;break}Ti=f.return}}function p4(d,f,m){var w=m.flags;switch(m.tag){case 0:case 11:case 15:mu(d,m),w&4&&p0(5,m);break;case 1:if(mu(d,m),w&4)if(d=m.stateNode,f===null)try{d.componentDidMount()}catch(q){sr(m,m.return,q)}else{var T=lh(m.type,f.memoizedProps);f=f.memoizedState;try{d.componentDidUpdate(T,f,d.__reactInternalSnapshotBeforeUpdate)}catch(q){sr(m,m.return,q)}}w&64&&l4(m),w&512&&g0(m,m.return);break;case 3:if(mu(d,m),w&64&&(d=m.updateQueue,d!==null)){if(f=null,m.child!==null)switch(m.child.tag){case 27:case 5:f=m.child.stateNode;break;case 1:f=m.child.stateNode}try{YN(d,f)}catch(q){sr(m,m.return,q)}}break;case 27:f===null&&w&4&&h4(m);case 26:case 5:mu(d,m),f===null&&w&4&&u4(m),w&512&&g0(m,m.return);break;case 12:mu(d,m);break;case 13:mu(d,m),w&4&&v4(d,m),w&64&&(d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(m=Xne.bind(null,m),pre(d,m))));break;case 22:if(w=m.memoizedState!==null||vc,!w){f=f!==null&&f.memoizedState!==null||Ur,T=vc;var P=Ur;vc=w,(Ur=f)&&!P?vu(d,m,(m.subtreeFlags&8772)!==0):mu(d,m),vc=T,Ur=P}break;case 30:break;default:mu(d,m)}}function g4(d){var f=d.alternate;f!==null&&(d.alternate=null,g4(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&ie(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var wr=null,Gs=!1;function yc(d,f,m){for(m=m.child;m!==null;)m4(d,f,m),m=m.sibling}function m4(d,f,m){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(fe,m)}catch{}switch(m.tag){case 26:Ur||ll(m,f),yc(d,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Ur||ll(m,f);var w=wr,T=Gs;Su(m.type)&&(wr=m.stateNode,Gs=!1),yc(d,f,m),E0(m.stateNode),wr=w,Gs=T;break;case 5:Ur||ll(m,f);case 6:if(w=wr,T=Gs,wr=null,yc(d,f,m),wr=w,Gs=T,wr!==null)if(Gs)try{(wr.nodeType===9?wr.body:wr.nodeName==="HTML"?wr.ownerDocument.body:wr).removeChild(m.stateNode)}catch(P){sr(m,f,P)}else try{wr.removeChild(m.stateNode)}catch(P){sr(m,f,P)}break;case 18:wr!==null&&(Gs?(d=wr,iB(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,m.stateNode),F0(d)):iB(wr,m.stateNode));break;case 4:w=wr,T=Gs,wr=m.stateNode.containerInfo,Gs=!0,yc(d,f,m),wr=w,Gs=T;break;case 0:case 11:case 14:case 15:Ur||gu(2,m,f),Ur||gu(4,m,f),yc(d,f,m);break;case 1:Ur||(ll(m,f),w=m.stateNode,typeof w.componentWillUnmount=="function"&&c4(m,f,w)),yc(d,f,m);break;case 21:yc(d,f,m);break;case 22:Ur=(w=Ur)||m.memoizedState!==null,yc(d,f,m),Ur=w;break;default:yc(d,f,m)}}function v4(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{F0(d)}catch(m){sr(f,f.return,m)}}function Une(d){switch(d.tag){case 13:case 19:var f=d.stateNode;return f===null&&(f=d.stateNode=new f4),f;case 22:return d=d.stateNode,f=d._retryCache,f===null&&(f=d._retryCache=new f4),f;default:throw Error(r(435,d.tag))}}function OR(d,f){var m=Une(d);f.forEach(function(w){var T=Qne.bind(null,d,w);m.has(w)||(m.add(w),w.then(T,T))})}function lo(d,f){var m=f.deletions;if(m!==null)for(var w=0;w<m.length;w++){var T=m[w],P=d,q=f,se=q;e:for(;se!==null;){switch(se.tag){case 27:if(Su(se.type)){wr=se.stateNode,Gs=!1;break e}break;case 5:wr=se.stateNode,Gs=!1;break e;case 3:case 4:wr=se.stateNode.containerInfo,Gs=!0;break e}se=se.return}if(wr===null)throw Error(r(160));m4(P,q,T),wr=null,Gs=!1,P=T.alternate,P!==null&&(P.return=null),T.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)y4(f,d),f=f.sibling}var ka=null;function y4(d,f){var m=d.alternate,w=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:lo(f,d),co(d),w&4&&(gu(3,d,d.return),p0(3,d),gu(5,d,d.return));break;case 1:lo(f,d),co(d),w&512&&(Ur||m===null||ll(m,m.return)),w&64&&vc&&(d=d.updateQueue,d!==null&&(w=d.callbacks,w!==null&&(m=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=m===null?w:m.concat(w))));break;case 26:var T=ka;if(lo(f,d),co(d),w&512&&(Ur||m===null||ll(m,m.return)),w&4){var P=m!==null?m.memoizedState:null;if(w=d.memoizedState,m===null)if(w===null)if(d.stateNode===null){e:{w=d.type,m=d.memoizedProps,T=T.ownerDocument||T;t:switch(w){case"title":P=T.getElementsByTagName("title")[0],(!P||P[ne]||P[tt]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=T.createElement(w),T.head.insertBefore(P,T.querySelector("head > title"))),Ui(P,w,m),P[tt]=d,Ee(P),w=P;break e;case"link":var q=hB("link","href",T).get(w+(m.href||""));if(q){for(var se=0;se<q.length;se++)if(P=q[se],P.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&P.getAttribute("rel")===(m.rel==null?null:m.rel)&&P.getAttribute("title")===(m.title==null?null:m.title)&&P.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){q.splice(se,1);break t}}P=T.createElement(w),Ui(P,w,m),T.head.appendChild(P);break;case"meta":if(q=hB("meta","content",T).get(w+(m.content||""))){for(se=0;se<q.length;se++)if(P=q[se],P.getAttribute("content")===(m.content==null?null:""+m.content)&&P.getAttribute("name")===(m.name==null?null:m.name)&&P.getAttribute("property")===(m.property==null?null:m.property)&&P.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&P.getAttribute("charset")===(m.charSet==null?null:m.charSet)){q.splice(se,1);break t}}P=T.createElement(w),Ui(P,w,m),T.head.appendChild(P);break;default:throw Error(r(468,w))}P[tt]=d,Ee(P),w=P}d.stateNode=w}else fB(T,d.type,d.stateNode);else d.stateNode=dB(T,w,d.memoizedProps);else P!==w?(P===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):P.count--,w===null?fB(T,d.type,d.stateNode):dB(T,w,d.memoizedProps)):w===null&&d.stateNode!==null&&PR(d,d.memoizedProps,m.memoizedProps)}break;case 27:lo(f,d),co(d),w&512&&(Ur||m===null||ll(m,m.return)),m!==null&&w&4&&PR(d,d.memoizedProps,m.memoizedProps);break;case 5:if(lo(f,d),co(d),w&512&&(Ur||m===null||ll(m,m.return)),d.flags&32){T=d.stateNode;try{Vo(T,"")}catch(je){sr(d,d.return,je)}}w&4&&d.stateNode!=null&&(T=d.memoizedProps,PR(d,T,m!==null?m.memoizedProps:T)),w&1024&&(MR=!0);break;case 6:if(lo(f,d),co(d),w&4){if(d.stateNode===null)throw Error(r(162));w=d.memoizedProps,m=d.stateNode;try{m.nodeValue=w}catch(je){sr(d,d.return,je)}}break;case 3:if(xb=null,T=ka,ka=Cb(f.containerInfo),lo(f,d),ka=T,co(d),w&4&&m!==null&&m.memoizedState.isDehydrated)try{F0(f.containerInfo)}catch(je){sr(d,d.return,je)}MR&&(MR=!1,w4(d));break;case 4:w=ka,ka=Cb(d.stateNode.containerInfo),lo(f,d),co(d),ka=w;break;case 12:lo(f,d),co(d);break;case 13:lo(f,d),co(d),d.child.flags&8192&&d.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(GR=Q()),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,OR(d,w)));break;case 22:T=d.memoizedState!==null;var ge=m!==null&&m.memoizedState!==null,Be=vc,Xe=Ur;if(vc=Be||T,Ur=Xe||ge,lo(f,d),Ur=Xe,vc=Be,co(d),w&8192)e:for(f=d.stateNode,f._visibility=T?f._visibility&-2:f._visibility|1,T&&(m===null||ge||vc||Ur||ch(d)),m=null,f=d;;){if(f.tag===5||f.tag===26){if(m===null){ge=m=f;try{if(P=ge.stateNode,T)q=P.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{se=ge.stateNode;var nt=ge.memoizedProps.style,ze=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;se.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(je){sr(ge,ge.return,je)}}}else if(f.tag===6){if(m===null){ge=f;try{ge.stateNode.nodeValue=T?"":ge.memoizedProps}catch(je){sr(ge,ge.return,je)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}w&4&&(w=d.updateQueue,w!==null&&(m=w.retryQueue,m!==null&&(w.retryQueue=null,OR(d,m))));break;case 19:lo(f,d),co(d),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,OR(d,w)));break;case 30:break;case 21:break;default:lo(f,d),co(d)}}function co(d){var f=d.flags;if(f&2){try{for(var m,w=d.return;w!==null;){if(d4(w)){m=w;break}w=w.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var T=m.stateNode,P=FR(d);ab(d,P,T);break;case 5:var q=m.stateNode;m.flags&32&&(Vo(q,""),m.flags&=-33);var se=FR(d);ab(d,se,q);break;case 3:case 4:var ge=m.stateNode.containerInfo,Be=FR(d);IR(d,Be,ge);break;default:throw Error(r(161))}}catch(Xe){sr(d,d.return,Xe)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function w4(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var f=d;w4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),d=d.sibling}}function mu(d,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)p4(d,f.alternate,f),f=f.sibling}function ch(d){for(d=d.child;d!==null;){var f=d;switch(f.tag){case 0:case 11:case 14:case 15:gu(4,f,f.return),ch(f);break;case 1:ll(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&c4(f,f.return,m),ch(f);break;case 27:E0(f.stateNode);case 26:case 5:ll(f,f.return),ch(f);break;case 22:f.memoizedState===null&&ch(f);break;case 30:ch(f);break;default:ch(f)}d=d.sibling}}function vu(d,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,T=d,P=f,q=P.flags;switch(P.tag){case 0:case 11:case 15:vu(T,P,m),p0(4,P);break;case 1:if(vu(T,P,m),w=P,T=w.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Be){sr(w,w.return,Be)}if(w=P,T=w.updateQueue,T!==null){var se=w.stateNode;try{var ge=T.shared.hiddenCallbacks;if(ge!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ge.length;T++)KN(ge[T],se)}catch(Be){sr(w,w.return,Be)}}m&&q&64&&l4(P),g0(P,P.return);break;case 27:h4(P);case 26:case 5:vu(T,P,m),m&&w===null&&q&4&&u4(P),g0(P,P.return);break;case 12:vu(T,P,m);break;case 13:vu(T,P,m),m&&q&4&&v4(T,P);break;case 22:P.memoizedState===null&&vu(T,P,m),g0(P,P.return);break;case 30:break;default:vu(T,P,m)}f=f.sibling}}function NR(d,f){var m=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),d=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(d=f.memoizedState.cachePool.pool),d!==m&&(d!=null&&d.refCount++,m!=null&&e0(m))}function LR(d,f){d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&e0(d))}function cl(d,f,m,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)C4(d,f,m,w),f=f.sibling}function C4(d,f,m,w){var T=f.flags;switch(f.tag){case 0:case 11:case 15:cl(d,f,m,w),T&2048&&p0(9,f);break;case 1:cl(d,f,m,w);break;case 3:cl(d,f,m,w),T&2048&&(d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&e0(d)));break;case 12:if(T&2048){cl(d,f,m,w),d=f.stateNode;try{var P=f.memoizedProps,q=P.id,se=P.onPostCommit;typeof se=="function"&&se(q,f.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(ge){sr(f,f.return,ge)}}else cl(d,f,m,w);break;case 13:cl(d,f,m,w);break;case 23:break;case 22:P=f.stateNode,q=f.alternate,f.memoizedState!==null?P._visibility&2?cl(d,f,m,w):m0(d,f):P._visibility&2?cl(d,f,m,w):(P._visibility|=2,yp(d,f,m,w,(f.subtreeFlags&10256)!==0)),T&2048&&NR(q,f);break;case 24:cl(d,f,m,w),T&2048&&LR(f.alternate,f);break;default:cl(d,f,m,w)}}function yp(d,f,m,w,T){for(T=T&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var P=d,q=f,se=m,ge=w,Be=q.flags;switch(q.tag){case 0:case 11:case 15:yp(P,q,se,ge,T),p0(8,q);break;case 23:break;case 22:var Xe=q.stateNode;q.memoizedState!==null?Xe._visibility&2?yp(P,q,se,ge,T):m0(P,q):(Xe._visibility|=2,yp(P,q,se,ge,T)),T&&Be&2048&&NR(q.alternate,q);break;case 24:yp(P,q,se,ge,T),T&&Be&2048&&LR(q.alternate,q);break;default:yp(P,q,se,ge,T)}f=f.sibling}}function m0(d,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=d,w=f,T=w.flags;switch(w.tag){case 22:m0(m,w),T&2048&&NR(w.alternate,w);break;case 24:m0(m,w),T&2048&&LR(w.alternate,w);break;default:m0(m,w)}f=f.sibling}}var v0=8192;function wp(d){if(d.subtreeFlags&v0)for(d=d.child;d!==null;)b4(d),d=d.sibling}function b4(d){switch(d.tag){case 26:wp(d),d.flags&v0&&d.memoizedState!==null&&_re(ka,d.memoizedState,d.memoizedProps);break;case 5:wp(d);break;case 3:case 4:var f=ka;ka=Cb(d.stateNode.containerInfo),wp(d),ka=f;break;case 22:d.memoizedState===null&&(f=d.alternate,f!==null&&f.memoizedState!==null?(f=v0,v0=16777216,wp(d),v0=f):wp(d));break;default:wp(d)}}function x4(d){var f=d.alternate;if(f!==null&&(d=f.child,d!==null)){f.child=null;do f=d.sibling,d.sibling=null,d=f;while(d!==null)}}function y0(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var w=f[m];Ti=w,E4(w,d)}x4(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)S4(d),d=d.sibling}function S4(d){switch(d.tag){case 0:case 11:case 15:y0(d),d.flags&2048&&gu(9,d,d.return);break;case 3:y0(d);break;case 12:y0(d);break;case 22:var f=d.stateNode;d.memoizedState!==null&&f._visibility&2&&(d.return===null||d.return.tag!==13)?(f._visibility&=-3,lb(d)):y0(d);break;default:y0(d)}}function lb(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var w=f[m];Ti=w,E4(w,d)}x4(d)}for(d=d.child;d!==null;){switch(f=d,f.tag){case 0:case 11:case 15:gu(8,f,f.return),lb(f);break;case 22:m=f.stateNode,m._visibility&2&&(m._visibility&=-3,lb(f));break;default:lb(f)}d=d.sibling}}function E4(d,f){for(;Ti!==null;){var m=Ti;switch(m.tag){case 0:case 11:case 15:gu(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var w=m.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:e0(m.memoizedState.cache)}if(w=m.child,w!==null)w.return=m,Ti=w;else e:for(m=d;Ti!==null;){w=Ti;var T=w.sibling,P=w.return;if(g4(w),w===m){Ti=null;break e}if(T!==null){T.return=P,Ti=T;break e}Ti=P}}}var zne={getCacheForType:function(d){var f=ns(pi),m=f.data.get(d);return m===void 0&&(m=d(),f.data.set(d,m)),m}},jne=typeof WeakMap=="function"?WeakMap:Map,qn=0,ar=null,gn=null,Tn=0,Kn=0,uo=null,yu=!1,Cp=!1,BR=!1,wc=0,Fr=0,wu=0,uh=0,VR=0,Ko=0,bp=0,w0=null,Us=null,HR=!1,GR=0,cb=1/0,ub=null,Cu=null,Gi=0,bu=null,xp=null,Sp=0,UR=0,zR=null,T4=null,C0=0,jR=null;function ho(){if((qn&2)!==0&&Tn!==0)return Tn&-Tn;if(re.T!==null){var d=up;return d!==0?d:QR()}return we()}function R4(){Ko===0&&(Ko=(Tn&536870912)===0||Nn?Vs():536870912);var d=qo.current;return d!==null&&(d.flags|=32),Ko}function fo(d,f,m){(d===ar&&(Kn===2||Kn===9)||d.cancelPendingCommit!==null)&&(Ep(d,0),xu(d,Tn,Ko,!1)),di(d,m),((qn&2)===0||d!==ar)&&(d===ar&&((qn&2)===0&&(uh|=m),Fr===4&&xu(d,Tn,Ko,!1)),ul(d))}function _4(d,f,m){if((qn&6)!==0)throw Error(r(327));var w=!m&&(f&124)===0&&(f&d.expiredLanes)===0||yr(d,f),T=w?qne(d,f):qR(d,f,!0),P=w;do{if(T===0){Cp&&!w&&xu(d,f,0,!1);break}else{if(m=d.current.alternate,P&&!Wne(m)){T=qR(d,f,!1),P=!1;continue}if(T===2){if(P=f,d.errorRecoveryDisabledLanes&P)var q=0;else q=d.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){f=q;e:{var se=d;T=w0;var ge=se.current.memoizedState.isDehydrated;if(ge&&(Ep(se,q).flags|=256),q=qR(se,q,!1),q!==2){if(BR&&!ge){se.errorRecoveryDisabledLanes|=P,uh|=P,T=4;break e}P=Us,Us=T,P!==null&&(Us===null?Us=P:Us.push.apply(Us,P))}T=q}if(P=!1,T!==2)continue}}if(T===1){Ep(d,0),xu(d,f,0,!0);break}e:{switch(w=d,P=T,P){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:xu(w,f,Ko,!yu);break e;case 2:Us=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(T=GR+300-Q(),10<T)){if(xu(w,f,Ko,!yu),Cn(w,0,!0)!==0)break e;w.timeoutHandle=nB(A4.bind(null,w,m,Us,ub,HR,f,Ko,uh,bp,yu,P,2,-0,0),T);break e}A4(w,m,Us,ub,HR,f,Ko,uh,bp,yu,P,0,-0,0)}}break}while(!0);ul(d)}function A4(d,f,m,w,T,P,q,se,ge,Be,Xe,nt,ze,je){if(d.timeoutHandle=-1,nt=f.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(_0={stylesheets:null,count:0,unsuspend:Rre},b4(f),nt=Are(),nt!==null)){d.cancelPendingCommit=nt(O4.bind(null,d,f,P,m,w,T,q,se,ge,Xe,1,ze,je)),xu(d,P,q,!Be);return}O4(d,f,P,m,w,T,q,se,ge)}function Wne(d){for(var f=d;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var w=0;w<m.length;w++){var T=m[w],P=T.getSnapshot;T=T.value;try{if(!oo(P(),T))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function xu(d,f,m,w){f&=~VR,f&=~uh,d.suspendedLanes|=f,d.pingedLanes&=~f,w&&(d.warmLanes|=f),w=d.expirationTimes;for(var T=f;0<T;){var P=31-dt(T),q=1<<P;w[P]=-1,T&=~q}m!==0&&Bi(d,m,f)}function db(){return(qn&6)===0?(b0(0),!1):!0}function WR(){if(gn!==null){if(Kn===0)var d=gn.return;else d=gn,dc=ih=null,lR(d),mp=null,d0=0,d=gn;for(;d!==null;)a4(d.alternate,d),d=d.return;gn=null}}function Ep(d,f){var m=d.timeoutHandle;m!==-1&&(d.timeoutHandle=-1,cre(m)),m=d.cancelPendingCommit,m!==null&&(d.cancelPendingCommit=null,m()),WR(),ar=d,gn=m=lc(d.current,null),Tn=f,Kn=0,uo=null,yu=!1,Cp=yr(d,f),BR=!1,bp=Ko=VR=uh=wu=Fr=0,Us=w0=null,HR=!1,(f&8)!==0&&(f|=f&32);var w=d.entangledLanes;if(w!==0)for(d=d.entanglements,w&=f;0<w;){var T=31-dt(w),P=1<<T;f|=d[T],w&=~P}return wc=f,IC(),m}function k4(d,f){an=null,re.H=ZC,f===n0||f===UC?(f=$N(),Kn=3):f===zN?(f=$N(),Kn=4):Kn=f===qL?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,uo=f,gn===null&&(Fr=1,rb(d,zo(f,d.current)))}function D4(){var d=re.H;return re.H=ZC,d===null?ZC:d}function P4(){var d=re.A;return re.A=zne,d}function $R(){Fr=4,yu||(Tn&4194048)!==Tn&&qo.current!==null||(Cp=!0),(wu&134217727)===0&&(uh&134217727)===0||ar===null||xu(ar,Tn,Ko,!1)}function qR(d,f,m){var w=qn;qn|=2;var T=D4(),P=P4();(ar!==d||Tn!==f)&&(ub=null,Ep(d,f)),f=!1;var q=Fr;e:do try{if(Kn!==0&&gn!==null){var se=gn,ge=uo;switch(Kn){case 8:WR(),q=6;break e;case 3:case 2:case 9:case 6:qo.current===null&&(f=!0);var Be=Kn;if(Kn=0,uo=null,Tp(d,se,ge,Be),m&&Cp){q=0;break e}break;default:Be=Kn,Kn=0,uo=null,Tp(d,se,ge,Be)}}$ne(),q=Fr;break}catch(Xe){k4(d,Xe)}while(!0);return f&&d.shellSuspendCounter++,dc=ih=null,qn=w,re.H=T,re.A=P,gn===null&&(ar=null,Tn=0,IC()),q}function $ne(){for(;gn!==null;)F4(gn)}function qne(d,f){var m=qn;qn|=2;var w=D4(),T=P4();ar!==d||Tn!==f?(ub=null,cb=Q()+500,Ep(d,f)):Cp=yr(d,f);e:do try{if(Kn!==0&&gn!==null){f=gn;var P=uo;t:switch(Kn){case 1:Kn=0,uo=null,Tp(d,f,P,1);break;case 2:case 9:if(jN(P)){Kn=0,uo=null,I4(f);break}f=function(){Kn!==2&&Kn!==9||ar!==d||(Kn=7),ul(d)},P.then(f,f);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:jN(P)?(Kn=0,uo=null,I4(f)):(Kn=0,uo=null,Tp(d,f,P,7));break;case 5:var q=null;switch(gn.tag){case 26:q=gn.memoizedState;case 5:case 27:var se=gn;if(!q||pB(q)){Kn=0,uo=null;var ge=se.sibling;if(ge!==null)gn=ge;else{var Be=se.return;Be!==null?(gn=Be,hb(Be)):gn=null}break t}}Kn=0,uo=null,Tp(d,f,P,5);break;case 6:Kn=0,uo=null,Tp(d,f,P,6);break;case 8:WR(),Fr=6;break e;default:throw Error(r(462))}}Kne();break}catch(Xe){k4(d,Xe)}while(!0);return dc=ih=null,re.H=w,re.A=T,qn=m,gn!==null?0:(ar=null,Tn=0,IC(),Fr)}function Kne(){for(;gn!==null&&!Ce();)F4(gn)}function F4(d){var f=s4(d.alternate,d,wc);d.memoizedProps=d.pendingProps,f===null?hb(d):gn=f}function I4(d){var f=d,m=f.alternate;switch(f.tag){case 15:case 0:f=JL(m,f,f.pendingProps,f.type,void 0,Tn);break;case 11:f=JL(m,f,f.pendingProps,f.type.render,f.ref,Tn);break;case 5:lR(f);default:a4(m,f),f=gn=MN(f,wc),f=s4(m,f,wc)}d.memoizedProps=d.pendingProps,f===null?hb(d):gn=f}function Tp(d,f,m,w){dc=ih=null,lR(f),mp=null,d0=0;var T=f.return;try{if(Lne(d,T,f,m,Tn)){Fr=1,rb(d,zo(m,d.current)),gn=null;return}}catch(P){if(T!==null)throw gn=T,P;Fr=1,rb(d,zo(m,d.current)),gn=null;return}f.flags&32768?(Nn||w===1?d=!0:Cp||(Tn&536870912)!==0?d=!1:(yu=d=!0,(w===2||w===9||w===3||w===6)&&(w=qo.current,w!==null&&w.tag===13&&(w.flags|=16384))),M4(f,d)):hb(f)}function hb(d){var f=d;do{if((f.flags&32768)!==0){M4(f,yu);return}d=f.return;var m=Vne(f.alternate,f,wc);if(m!==null){gn=m;return}if(f=f.sibling,f!==null){gn=f;return}gn=f=d}while(f!==null);Fr===0&&(Fr=5)}function M4(d,f){do{var m=Hne(d.alternate,d);if(m!==null){m.flags&=32767,gn=m;return}if(m=d.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(d=d.sibling,d!==null)){gn=d;return}gn=d=m}while(d!==null);Fr=6,gn=null}function O4(d,f,m,w,T,P,q,se,ge){d.cancelPendingCommit=null;do fb();while(Gi!==0);if((qn&6)!==0)throw Error(r(327));if(f!==null){if(f===d.current)throw Error(r(177));if(P=f.lanes|f.childLanes,P|=LT,Ci(d,m,P,q,se,ge),d===ar&&(gn=ar=null,Tn=0),xp=f,bu=d,Sp=m,UR=P,zR=T,T4=w,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Zne(Ue,function(){return H4(),null})):(d.callbackNode=null,d.callbackPriority=0),w=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||w){w=re.T,re.T=null,T=te.p,te.p=2,q=qn,qn|=4;try{Gne(d,f,m)}finally{qn=q,te.p=T,re.T=w}}Gi=1,N4(),L4(),B4()}}function N4(){if(Gi===1){Gi=0;var d=bu,f=xp,m=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||m){m=re.T,re.T=null;var w=te.p;te.p=2;var T=qn;qn|=4;try{y4(f,d);var P=s_,q=EN(d.containerInfo),se=P.focusedElem,ge=P.selectionRange;if(q!==se&&se&&se.ownerDocument&&SN(se.ownerDocument.documentElement,se)){if(ge!==null&&FT(se)){var Be=ge.start,Xe=ge.end;if(Xe===void 0&&(Xe=Be),"selectionStart"in se)se.selectionStart=Be,se.selectionEnd=Math.min(Xe,se.value.length);else{var nt=se.ownerDocument||document,ze=nt&&nt.defaultView||window;if(ze.getSelection){var je=ze.getSelection(),Yt=se.textContent.length,Gt=Math.min(ge.start,Yt),tr=ge.end===void 0?Gt:Math.min(ge.end,Yt);!je.extend&&Gt>tr&&(q=tr,tr=Gt,Gt=q);var ke=xN(se,Gt),Se=xN(se,tr);if(ke&&Se&&(je.rangeCount!==1||je.anchorNode!==ke.node||je.anchorOffset!==ke.offset||je.focusNode!==Se.node||je.focusOffset!==Se.offset)){var Oe=nt.createRange();Oe.setStart(ke.node,ke.offset),je.removeAllRanges(),Gt>tr?(je.addRange(Oe),je.extend(Se.node,Se.offset)):(Oe.setEnd(Se.node,Se.offset),je.addRange(Oe))}}}}for(nt=[],je=se;je=je.parentNode;)je.nodeType===1&&nt.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<nt.length;se++){var Ze=nt[se];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}Tb=!!i_,s_=i_=null}finally{qn=T,te.p=w,re.T=m}}d.current=f,Gi=2}}function L4(){if(Gi===2){Gi=0;var d=bu,f=xp,m=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||m){m=re.T,re.T=null;var w=te.p;te.p=2;var T=qn;qn|=4;try{p4(d,f.alternate,f)}finally{qn=T,te.p=w,re.T=m}}Gi=3}}function B4(){if(Gi===4||Gi===3){Gi=0,ye();var d=bu,f=xp,m=Sp,w=T4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Gi=5:(Gi=0,xp=bu=null,V4(d,d.pendingLanes));var T=d.pendingLanes;if(T===0&&(Cu=null),Za(m),f=f.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(fe,f,void 0,(f.current.flags&128)===128)}catch{}if(w!==null){f=re.T,T=te.p,te.p=2,re.T=null;try{for(var P=d.onRecoverableError,q=0;q<w.length;q++){var se=w[q];P(se.value,{componentStack:se.stack})}}finally{re.T=f,te.p=T}}(Sp&3)!==0&&fb(),ul(d),T=d.pendingLanes,(m&4194090)!==0&&(T&42)!==0?d===jR?C0++:(C0=0,jR=d):C0=0,b0(0)}}function V4(d,f){(d.pooledCacheLanes&=f)===0&&(f=d.pooledCache,f!=null&&(d.pooledCache=null,e0(f)))}function fb(d){return N4(),L4(),B4(),H4()}function H4(){if(Gi!==5)return!1;var d=bu,f=UR;UR=0;var m=Za(Sp),w=re.T,T=te.p;try{te.p=32>m?32:m,re.T=null,m=zR,zR=null;var P=bu,q=Sp;if(Gi=0,xp=bu=null,Sp=0,(qn&6)!==0)throw Error(r(331));var se=qn;if(qn|=4,S4(P.current),C4(P,P.current,q,m),qn=se,b0(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(fe,P)}catch{}return!0}finally{te.p=T,re.T=w,V4(d,f)}}function G4(d,f,m){f=zo(m,f),f=xR(d.stateNode,f,2),d=du(d,f,2),d!==null&&(di(d,2),ul(d))}function sr(d,f,m){if(d.tag===3)G4(d,d,m);else for(;f!==null;){if(f.tag===3){G4(f,d,m);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Cu===null||!Cu.has(w))){d=zo(m,d),m=WL(2),w=du(f,m,2),w!==null&&($L(m,w,f,d),di(w,2),ul(w));break}}f=f.return}}function KR(d,f,m){var w=d.pingCache;if(w===null){w=d.pingCache=new jne;var T=new Set;w.set(f,T)}else T=w.get(f),T===void 0&&(T=new Set,w.set(f,T));T.has(m)||(BR=!0,T.add(m),d=Yne.bind(null,d,f,m),f.then(d,d))}function Yne(d,f,m){var w=d.pingCache;w!==null&&w.delete(f),d.pingedLanes|=d.suspendedLanes&m,d.warmLanes&=~m,ar===d&&(Tn&m)===m&&(Fr===4||Fr===3&&(Tn&62914560)===Tn&&300>Q()-GR?(qn&2)===0&&Ep(d,0):VR|=m,bp===Tn&&(bp=0)),ul(d)}function U4(d,f){f===0&&(f=No()),d=op(d,f),d!==null&&(di(d,f),ul(d))}function Xne(d){var f=d.memoizedState,m=0;f!==null&&(m=f.retryLane),U4(d,m)}function Qne(d,f){var m=0;switch(d.tag){case 13:var w=d.stateNode,T=d.memoizedState;T!==null&&(m=T.retryLane);break;case 19:w=d.stateNode;break;case 22:w=d.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(f),U4(d,m)}function Zne(d,f){return St(d,f)}var pb=null,Rp=null,YR=!1,gb=!1,XR=!1,dh=0;function ul(d){d!==Rp&&d.next===null&&(Rp===null?pb=Rp=d:Rp=Rp.next=d),gb=!0,YR||(YR=!0,ere())}function b0(d,f){if(!XR&&gb){XR=!0;do for(var m=!1,w=pb;w!==null;){if(d!==0){var T=w.pendingLanes;if(T===0)var P=0;else{var q=w.suspendedLanes,se=w.pingedLanes;P=(1<<31-dt(42|d)+1)-1,P&=T&~(q&~se),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(m=!0,$4(w,P))}else P=Tn,P=Cn(w,w===ar?P:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(P&3)===0||yr(w,P)||(m=!0,$4(w,P));w=w.next}while(m);XR=!1}}function Jne(){z4()}function z4(){gb=YR=!1;var d=0;dh!==0&&(lre()&&(d=dh),dh=0);for(var f=Q(),m=null,w=pb;w!==null;){var T=w.next,P=j4(w,f);P===0?(w.next=null,m===null?pb=T:m.next=T,T===null&&(Rp=m)):(m=w,(d!==0||(P&3)!==0)&&(gb=!0)),w=T}b0(d)}function j4(d,f){for(var m=d.suspendedLanes,w=d.pingedLanes,T=d.expirationTimes,P=d.pendingLanes&-62914561;0<P;){var q=31-dt(P),se=1<<q,ge=T[q];ge===-1?((se&m)===0||(se&w)!==0)&&(T[q]=br(se,f)):ge<=f&&(d.expiredLanes|=se),P&=~se}if(f=ar,m=Tn,m=Cn(d,d===f?m:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w=d.callbackNode,m===0||d===f&&(Kn===2||Kn===9)||d.cancelPendingCommit!==null)return w!==null&&w!==null&&j(w),d.callbackNode=null,d.callbackPriority=0;if((m&3)===0||yr(d,m)){if(f=m&-m,f===d.callbackPriority)return f;switch(w!==null&&j(w),Za(m)){case 2:case 8:m=Fe;break;case 32:m=Ue;break;case 268435456:m=Ke;break;default:m=Ue}return w=W4.bind(null,d),m=St(m,w),d.callbackPriority=f,d.callbackNode=m,f}return w!==null&&w!==null&&j(w),d.callbackPriority=2,d.callbackNode=null,2}function W4(d,f){if(Gi!==0&&Gi!==5)return d.callbackNode=null,d.callbackPriority=0,null;var m=d.callbackNode;if(fb()&&d.callbackNode!==m)return null;var w=Tn;return w=Cn(d,d===ar?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w===0?null:(_4(d,w,f),j4(d,Q()),d.callbackNode!=null&&d.callbackNode===m?W4.bind(null,d):null)}function $4(d,f){if(fb())return null;_4(d,f,!0)}function ere(){ure(function(){(qn&6)!==0?St(ve,Jne):z4()})}function QR(){return dh===0&&(dh=Vs()),dh}function q4(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Kf(""+d)}function K4(d,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,d.id&&m.setAttribute("form",d.id),f.parentNode.insertBefore(m,f),d=new FormData(d),m.parentNode.removeChild(m),d}function tre(d,f,m,w,T){if(f==="submit"&&m&&m.stateNode===T){var P=q4((T[lt]||null).action),q=w.submitter;q&&(f=(f=q[lt]||null)?q4(f.formAction):q.getAttribute("formAction"),f!==null&&(P=f,q=null));var se=new Yf("action","action",null,w,T);d.push({event:se,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(dh!==0){var ge=q?K4(T,q):new FormData(T);vR(m,{pending:!0,data:ge,method:T.method,action:P},null,ge)}}else typeof P=="function"&&(se.preventDefault(),ge=q?K4(T,q):new FormData(T),vR(m,{pending:!0,data:ge,method:T.method,action:P},P,ge))},currentTarget:T}]})}}for(var ZR=0;ZR<NT.length;ZR++){var JR=NT[ZR],nre=JR.toLowerCase(),rre=JR[0].toUpperCase()+JR.slice(1);Aa(nre,"on"+rre)}Aa(_N,"onAnimationEnd"),Aa(AN,"onAnimationIteration"),Aa(kN,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Cne,"onTransitionRun"),Aa(bne,"onTransitionStart"),Aa(xne,"onTransitionCancel"),Aa(DN,"onTransitionEnd"),ct("onMouseEnter",["mouseout","mouseover"]),ct("onMouseLeave",["mouseout","mouseover"]),ct("onPointerEnter",["pointerout","pointerover"]),ct("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ire=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(x0));function Y4(d,f){f=(f&4)!==0;for(var m=0;m<d.length;m++){var w=d[m],T=w.event;w=w.listeners;e:{var P=void 0;if(f)for(var q=w.length-1;0<=q;q--){var se=w[q],ge=se.instance,Be=se.currentTarget;if(se=se.listener,ge!==P&&T.isPropagationStopped())break e;P=se,T.currentTarget=Be;try{P(T)}catch(Xe){nb(Xe)}T.currentTarget=null,P=ge}else for(q=0;q<w.length;q++){if(se=w[q],ge=se.instance,Be=se.currentTarget,se=se.listener,ge!==P&&T.isPropagationStopped())break e;P=se,T.currentTarget=Be;try{P(T)}catch(Xe){nb(Xe)}T.currentTarget=null,P=ge}}}}function mn(d,f){var m=f[At];m===void 0&&(m=f[At]=new Set);var w=d+"__bubble";m.has(w)||(X4(f,d,2,!1),m.add(w))}function e_(d,f,m){var w=0;f&&(w|=4),X4(m,d,w,f)}var mb="_reactListening"+Math.random().toString(36).slice(2);function t_(d){if(!d[mb]){d[mb]=!0,_e.forEach(function(m){m!=="selectionchange"&&(ire.has(m)||e_(m,!1,d),e_(m,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[mb]||(f[mb]=!0,e_("selectionchange",!1,f))}}function X4(d,f,m,w){switch(CB(f)){case 2:var T=Pre;break;case 8:T=Fre;break;default:T=g_}m=T.bind(null,f,m,d),T=void 0,!Go||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),w?T!==void 0?d.addEventListener(f,m,{capture:!0,passive:T}):d.addEventListener(f,m,!0):T!==void 0?d.addEventListener(f,m,{passive:T}):d.addEventListener(f,m,!1)}function n_(d,f,m,w,T){var P=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var q=w.tag;if(q===3||q===4){var se=w.stateNode.containerInfo;if(se===T)break;if(q===4)for(q=w.return;q!==null;){var ge=q.tag;if((ge===3||ge===4)&&q.stateNode.containerInfo===T)return;q=q.return}for(;se!==null;){if(q=ce(se),q===null)return;if(ge=q.tag,ge===5||ge===6||ge===26||ge===27){w=P=q;continue e}se=se.parentNode}}w=w.return}yC(function(){var Be=P,Xe=Ho(m),nt=[];e:{var ze=PN.get(d);if(ze!==void 0){var je=Yf,Yt=d;switch(d){case"keypress":if(tl(m)===0)break e;case"keydown":case"keyup":je=tp;break;case"focusin":Yt="focus",je=Zf;break;case"focusout":Yt="blur",je=Zf;break;case"beforeblur":case"afterblur":je=Zf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=AT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=RC;break;case _N:case AN:case kN:je=Jf;break;case DN:je=AC;break;case"scroll":case"scrollend":je=wC;break;case"wheel":je=np;break;case"copy":case"cut":case"paste":je=ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=$m;break;case"toggle":case"beforetoggle":je=DC}var Gt=(f&4)!==0,tr=!Gt&&(d==="scroll"||d==="scrollend"),ke=Gt?ze!==null?ze+"Capture":null:ze;Gt=[];for(var Se=Be,Oe;Se!==null;){var Ze=Se;if(Oe=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Oe===null||ke===null||(Ze=jd(Se,ke),Ze!=null&&Gt.push(S0(Se,Ze,Oe))),tr)break;Se=Se.return}0<Gt.length&&(ze=new je(ze,Yt,null,m,Xe),nt.push({event:ze,listeners:Gt}))}}if((f&7)===0){e:{if(ze=d==="mouseover"||d==="pointerover",je=d==="mouseout"||d==="pointerout",ze&&m!==nc&&(Yt=m.relatedTarget||m.fromElement)&&(ce(Yt)||Yt[Et]))break e;if((je||ze)&&(ze=Xe.window===Xe?Xe:(ze=Xe.ownerDocument)?ze.defaultView||ze.parentWindow:window,je?(Yt=m.relatedTarget||m.toElement,je=Be,Yt=Yt?ce(Yt):null,Yt!==null&&(tr=s(Yt),Gt=Yt.tag,Yt!==tr||Gt!==5&&Gt!==27&&Gt!==6)&&(Yt=null)):(je=null,Yt=Be),je!==Yt)){if(Gt=Uo,Ze="onMouseLeave",ke="onMouseEnter",Se="mouse",(d==="pointerout"||d==="pointerover")&&(Gt=$m,Ze="onPointerLeave",ke="onPointerEnter",Se="pointer"),tr=je==null?ze:Ae(je),Oe=Yt==null?ze:Ae(Yt),ze=new Gt(Ze,Se+"leave",je,m,Xe),ze.target=tr,ze.relatedTarget=Oe,Ze=null,ce(Xe)===Be&&(Gt=new Gt(ke,Se+"enter",Yt,m,Xe),Gt.target=Oe,Gt.relatedTarget=tr,Ze=Gt),tr=Ze,je&&Yt)t:{for(Gt=je,ke=Yt,Se=0,Oe=Gt;Oe;Oe=_p(Oe))Se++;for(Oe=0,Ze=ke;Ze;Ze=_p(Ze))Oe++;for(;0<Se-Oe;)Gt=_p(Gt),Se--;for(;0<Oe-Se;)ke=_p(ke),Oe--;for(;Se--;){if(Gt===ke||ke!==null&&Gt===ke.alternate)break t;Gt=_p(Gt),ke=_p(ke)}Gt=null}else Gt=null;je!==null&&Q4(nt,ze,je,Gt,!1),Yt!==null&&tr!==null&&Q4(nt,tr,Yt,Gt,!0)}}e:{if(ze=Be?Ae(Be):window,je=ze.nodeName&&ze.nodeName.toLowerCase(),je==="select"||je==="input"&&ze.type==="file")var _t=mN;else if(fi(ze))if(vN)_t=vne;else{_t=gne;var un=pne}else je=ze.nodeName,!je||je.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Be&&Vm(Be.elementType)&&(_t=mN):_t=mne;if(_t&&(_t=_t(d,Be))){ac(nt,_t,m,Xe);break e}un&&un(d,ze,Be),d==="focusout"&&Be&&ze.type==="number"&&Be.memoizedProps.value!=null&&ou(ze,"number",ze.value)}switch(un=Be?Ae(Be):window,d){case"focusin":(fi(un)||un.contentEditable==="true")&&(rp=un,IT=Be,Ym=null);break;case"focusout":Ym=IT=rp=null;break;case"mousedown":MT=!0;break;case"contextmenu":case"mouseup":case"dragend":MT=!1,TN(nt,m,Xe);break;case"selectionchange":if(wne)break;case"keydown":case"keyup":TN(nt,m,Xe)}var Mt;if(il)e:{switch(d){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Sn?qe(d,m)&&(zt="onCompositionEnd"):d==="keydown"&&m.keyCode===229&&(zt="onCompositionStart");zt&&(W&&m.locale!=="ko"&&(Sn||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Sn&&(Mt=Gm()):(el=Xe,au="value"in el?el.value:el.textContent,Sn=!0)),un=vb(Be,zt),0<un.length&&(zt=new jm(zt,d,null,m,Xe),nt.push({event:zt,listeners:un}),Mt?zt.data=Mt:(Mt=mt(m),Mt!==null&&(zt.data=Mt)))),(Mt=U?hi(d,m):En(d,m))&&(zt=vb(Be,"onBeforeInput"),0<zt.length&&(un=new jm("onBeforeInput","beforeinput",null,m,Xe),nt.push({event:un,listeners:zt}),un.data=Mt)),tre(nt,d,Be,m,Xe)}Y4(nt,f)})}function S0(d,f,m){return{instance:d,listener:f,currentTarget:m}}function vb(d,f){for(var m=f+"Capture",w=[];d!==null;){var T=d,P=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||P===null||(T=jd(d,m),T!=null&&w.unshift(S0(d,T,P)),T=jd(d,f),T!=null&&w.push(S0(d,T,P))),d.tag===3)return w;d=d.return}return[]}function _p(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function Q4(d,f,m,w,T){for(var P=f._reactName,q=[];m!==null&&m!==w;){var se=m,ge=se.alternate,Be=se.stateNode;if(se=se.tag,ge!==null&&ge===w)break;se!==5&&se!==26&&se!==27||Be===null||(ge=Be,T?(Be=jd(m,P),Be!=null&&q.unshift(S0(m,Be,ge))):T||(Be=jd(m,P),Be!=null&&q.push(S0(m,Be,ge)))),m=m.return}q.length!==0&&d.push({event:f,listeners:q})}var sre=/\r\n?/g,ore=/\u0000|\uFFFD/g;function Z4(d){return(typeof d=="string"?d:""+d).replace(sre,`
`).replace(ore,"")}function J4(d,f){return f=Z4(f),Z4(d)===f}function yb(){}function er(d,f,m,w,T,P){switch(m){case"children":typeof w=="string"?f==="body"||f==="textarea"&&w===""||Vo(d,w):(typeof w=="number"||typeof w=="bigint")&&f!=="body"&&Vo(d,""+w);break;case"className":on(d,"class",w);break;case"tabIndex":on(d,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":on(d,m,w);break;case"style":Bm(d,w,P);break;case"data":if(f!=="object"){on(d,"data",w);break}case"src":case"href":if(w===""&&(f!=="a"||m!=="href")){d.removeAttribute(m);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(m);break}w=Kf(""+w),d.setAttribute(m,w);break;case"action":case"formAction":if(typeof w=="function"){d.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(m==="formAction"?(f!=="input"&&er(d,f,"name",T.name,T,null),er(d,f,"formEncType",T.formEncType,T,null),er(d,f,"formMethod",T.formMethod,T,null),er(d,f,"formTarget",T.formTarget,T,null)):(er(d,f,"encType",T.encType,T,null),er(d,f,"method",T.method,T,null),er(d,f,"target",T.target,T,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(m);break}w=Kf(""+w),d.setAttribute(m,w);break;case"onClick":w!=null&&(d.onclick=yb);break;case"onScroll":w!=null&&mn("scroll",d);break;case"onScrollEnd":w!=null&&mn("scrollend",d);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(m=w.__html,m!=null){if(T.children!=null)throw Error(r(60));d.innerHTML=m}}break;case"multiple":d.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":d.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){d.removeAttribute("xlink:href");break}m=Kf(""+w),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(m,""+w):d.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(m,""):d.removeAttribute(m);break;case"capture":case"download":w===!0?d.setAttribute(m,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(m,w):d.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?d.setAttribute(m,w):d.removeAttribute(m);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?d.removeAttribute(m):d.setAttribute(m,w);break;case"popover":mn("beforetoggle",d),mn("toggle",d),pn(d,"popover",w);break;case"xlinkActuate":kt(d,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":kt(d,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":kt(d,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":kt(d,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":kt(d,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":kt(d,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":kt(d,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":kt(d,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":kt(d,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":pn(d,"is",w);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=RT.get(m)||m,pn(d,m,w))}}function r_(d,f,m,w,T,P){switch(m){case"style":Bm(d,w,P);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(m=w.__html,m!=null){if(T.children!=null)throw Error(r(60));d.innerHTML=m}}break;case"children":typeof w=="string"?Vo(d,w):(typeof w=="number"||typeof w=="bigint")&&Vo(d,""+w);break;case"onScroll":w!=null&&mn("scroll",d);break;case"onScrollEnd":w!=null&&mn("scrollend",d);break;case"onClick":w!=null&&(d.onclick=yb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Le.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),f=m.slice(2,T?m.length-7:void 0),P=d[lt]||null,P=P!=null?P[m]:null,typeof P=="function"&&d.removeEventListener(f,P,T),typeof w=="function")){typeof P!="function"&&P!==null&&(m in d?d[m]=null:d.hasAttribute(m)&&d.removeAttribute(m)),d.addEventListener(f,w,T);break e}m in d?d[m]=w:w===!0?d.setAttribute(m,""):pn(d,m,w)}}}function Ui(d,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",d),mn("load",d);var w=!1,T=!1,P;for(P in m)if(m.hasOwnProperty(P)){var q=m[P];if(q!=null)switch(P){case"src":w=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:er(d,f,P,q,m,null)}}T&&er(d,f,"srcSet",m.srcSet,m,null),w&&er(d,f,"src",m.src,m,null);return;case"input":mn("invalid",d);var se=P=q=T=null,ge=null,Be=null;for(w in m)if(m.hasOwnProperty(w)){var Xe=m[w];if(Xe!=null)switch(w){case"name":T=Xe;break;case"type":q=Xe;break;case"checked":ge=Xe;break;case"defaultChecked":Be=Xe;break;case"value":P=Xe;break;case"defaultValue":se=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(r(137,f));break;default:er(d,f,w,Xe,m,null)}}Gd(d,P,se,ge,Be,q,T,!1),qf(d);return;case"select":mn("invalid",d),w=q=P=null;for(T in m)if(m.hasOwnProperty(T)&&(se=m[T],se!=null))switch(T){case"value":P=se;break;case"defaultValue":q=se;break;case"multiple":w=se;default:er(d,f,T,se,m,null)}f=P,m=q,d.multiple=!!w,f!=null?tc(d,!!w,f,!1):m!=null&&tc(d,!!w,m,!0);return;case"textarea":mn("invalid",d),P=T=w=null;for(q in m)if(m.hasOwnProperty(q)&&(se=m[q],se!=null))switch(q){case"value":w=se;break;case"defaultValue":T=se;break;case"children":P=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(91));break;default:er(d,f,q,se,m,null)}Ud(d,w,T,P),qf(d);return;case"option":for(ge in m)if(m.hasOwnProperty(ge)&&(w=m[ge],w!=null))switch(ge){case"selected":d.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:er(d,f,ge,w,m,null)}return;case"dialog":mn("beforetoggle",d),mn("toggle",d),mn("cancel",d),mn("close",d);break;case"iframe":case"object":mn("load",d);break;case"video":case"audio":for(w=0;w<x0.length;w++)mn(x0[w],d);break;case"image":mn("error",d),mn("load",d);break;case"details":mn("toggle",d);break;case"embed":case"source":case"link":mn("error",d),mn("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in m)if(m.hasOwnProperty(Be)&&(w=m[Be],w!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:er(d,f,Be,w,m,null)}return;default:if(Vm(f)){for(Xe in m)m.hasOwnProperty(Xe)&&(w=m[Xe],w!==void 0&&r_(d,f,Xe,w,m,void 0));return}}for(se in m)m.hasOwnProperty(se)&&(w=m[se],w!=null&&er(d,f,se,w,m,null))}function are(d,f,m,w){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,P=null,q=null,se=null,ge=null,Be=null,Xe=null;for(je in m){var nt=m[je];if(m.hasOwnProperty(je)&&nt!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ge=nt;default:w.hasOwnProperty(je)||er(d,f,je,null,w,nt)}}for(var ze in w){var je=w[ze];if(nt=m[ze],w.hasOwnProperty(ze)&&(je!=null||nt!=null))switch(ze){case"type":P=je;break;case"name":T=je;break;case"checked":Be=je;break;case"defaultChecked":Xe=je;break;case"value":q=je;break;case"defaultValue":se=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,f));break;default:je!==nt&&er(d,f,ze,je,w,nt)}}so(d,q,se,ge,Be,Xe,P,T);return;case"select":je=q=se=ze=null;for(P in m)if(ge=m[P],m.hasOwnProperty(P)&&ge!=null)switch(P){case"value":break;case"multiple":je=ge;default:w.hasOwnProperty(P)||er(d,f,P,null,w,ge)}for(T in w)if(P=w[T],ge=m[T],w.hasOwnProperty(T)&&(P!=null||ge!=null))switch(T){case"value":ze=P;break;case"defaultValue":se=P;break;case"multiple":q=P;default:P!==ge&&er(d,f,T,P,w,ge)}f=se,m=q,w=je,ze!=null?tc(d,!!m,ze,!1):!!w!=!!m&&(f!=null?tc(d,!!m,f,!0):tc(d,!!m,m?[]:"",!1));return;case"textarea":je=ze=null;for(se in m)if(T=m[se],m.hasOwnProperty(se)&&T!=null&&!w.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:er(d,f,se,null,w,T)}for(q in w)if(T=w[q],P=m[q],w.hasOwnProperty(q)&&(T!=null||P!=null))switch(q){case"value":ze=T;break;case"defaultValue":je=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==P&&er(d,f,q,T,w,P)}Zn(d,ze,je);return;case"option":for(var Yt in m)if(ze=m[Yt],m.hasOwnProperty(Yt)&&ze!=null&&!w.hasOwnProperty(Yt))switch(Yt){case"selected":d.selected=!1;break;default:er(d,f,Yt,null,w,ze)}for(ge in w)if(ze=w[ge],je=m[ge],w.hasOwnProperty(ge)&&ze!==je&&(ze!=null||je!=null))switch(ge){case"selected":d.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:er(d,f,ge,ze,w,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in m)ze=m[Gt],m.hasOwnProperty(Gt)&&ze!=null&&!w.hasOwnProperty(Gt)&&er(d,f,Gt,null,w,ze);for(Be in w)if(ze=w[Be],je=m[Be],w.hasOwnProperty(Be)&&ze!==je&&(ze!=null||je!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,f));break;default:er(d,f,Be,ze,w,je)}return;default:if(Vm(f)){for(var tr in m)ze=m[tr],m.hasOwnProperty(tr)&&ze!==void 0&&!w.hasOwnProperty(tr)&&r_(d,f,tr,void 0,w,ze);for(Xe in w)ze=w[Xe],je=m[Xe],!w.hasOwnProperty(Xe)||ze===je||ze===void 0&&je===void 0||r_(d,f,Xe,ze,w,je);return}}for(var ke in m)ze=m[ke],m.hasOwnProperty(ke)&&ze!=null&&!w.hasOwnProperty(ke)&&er(d,f,ke,null,w,ze);for(nt in w)ze=w[nt],je=m[nt],!w.hasOwnProperty(nt)||ze===je||ze==null&&je==null||er(d,f,nt,ze,w,je)}var i_=null,s_=null;function wb(d){return d.nodeType===9?d:d.ownerDocument}function eB(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tB(d,f){if(d===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&f==="foreignObject"?0:d}function o_(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var a_=null;function lre(){var d=window.event;return d&&d.type==="popstate"?d===a_?!1:(a_=d,!0):(a_=null,!1)}var nB=typeof setTimeout=="function"?setTimeout:void 0,cre=typeof clearTimeout=="function"?clearTimeout:void 0,rB=typeof Promise=="function"?Promise:void 0,ure=typeof queueMicrotask=="function"?queueMicrotask:typeof rB<"u"?function(d){return rB.resolve(null).then(d).catch(dre)}:nB;function dre(d){setTimeout(function(){throw d})}function Su(d){return d==="head"}function iB(d,f){var m=f,w=0,T=0;do{var P=m.nextSibling;if(d.removeChild(m),P&&P.nodeType===8)if(m=P.data,m==="/$"){if(0<w&&8>w){m=w;var q=d.ownerDocument;if(m&1&&E0(q.documentElement),m&2&&E0(q.body),m&4)for(m=q.head,E0(m),q=m.firstChild;q;){var se=q.nextSibling,ge=q.nodeName;q[ne]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&q.rel.toLowerCase()==="stylesheet"||m.removeChild(q),q=se}}if(T===0){d.removeChild(P),F0(f);return}T--}else m==="$"||m==="$?"||m==="$!"?T++:w=m.charCodeAt(0)-48;else w=0;m=P}while(m);F0(f)}function l_(d){var f=d.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":l_(m),ie(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}d.removeChild(m)}}function hre(d,f,m,w){for(;d.nodeType===1;){var T=m;if(d.nodeName.toLowerCase()!==f.toLowerCase()){if(!w&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(w){if(!d[ne])switch(f){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(P=d.getAttribute("rel"),P==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(P!==T.rel||d.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||d.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||d.getAttribute("title")!==(T.title==null?null:T.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(P=d.getAttribute("src"),(P!==(T.src==null?null:T.src)||d.getAttribute("type")!==(T.type==null?null:T.type)||d.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&P&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(f==="input"&&d.type==="hidden"){var P=T.name==null?null:""+T.name;if(T.type==="hidden"&&d.getAttribute("name")===P)return d}else return d;if(d=Da(d.nextSibling),d===null)break}return null}function fre(d,f,m){if(f==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!m||(d=Da(d.nextSibling),d===null))return null;return d}function c_(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function pre(d,f){var m=d.ownerDocument;if(d.data!=="$?"||m.readyState==="complete")f();else{var w=function(){f(),m.removeEventListener("DOMContentLoaded",w)};m.addEventListener("DOMContentLoaded",w),d._reactRetry=w}}function Da(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return d}var u_=null;function sB(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var m=d.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return d;f--}else m==="/$"&&f++}d=d.previousSibling}return null}function oB(d,f,m){switch(f=wb(m),d){case"html":if(d=f.documentElement,!d)throw Error(r(452));return d;case"head":if(d=f.head,!d)throw Error(r(453));return d;case"body":if(d=f.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}function E0(d){for(var f=d.attributes;f.length;)d.removeAttributeNode(f[0]);ie(d)}var Yo=new Map,aB=new Set;function Cb(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Cc=te.d;te.d={f:gre,r:mre,D:vre,C:yre,L:wre,m:Cre,X:xre,S:bre,M:Sre};function gre(){var d=Cc.f(),f=db();return d||f}function mre(d){var f=de(d);f!==null&&f.tag===5&&f.type==="form"?_L(f):Cc.r(d)}var Ap=typeof document>"u"?null:document;function lB(d,f,m){var w=Ap;if(w&&typeof f=="string"&&f){var T=Zr(f);T='link[rel="'+d+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),aB.has(T)||(aB.add(T),d={rel:d,crossOrigin:m,href:f},w.querySelector(T)===null&&(f=w.createElement("link"),Ui(f,"link",d),Ee(f),w.head.appendChild(f)))}}function vre(d){Cc.D(d),lB("dns-prefetch",d,null)}function yre(d,f){Cc.C(d,f),lB("preconnect",d,f)}function wre(d,f,m){Cc.L(d,f,m);var w=Ap;if(w&&d&&f){var T='link[rel="preload"][as="'+Zr(f)+'"]';f==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+Zr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+Zr(m.imageSizes)+'"]')):T+='[href="'+Zr(d)+'"]';var P=T;switch(f){case"style":P=kp(d);break;case"script":P=Dp(d)}Yo.has(P)||(d=u({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:d,as:f},m),Yo.set(P,d),w.querySelector(T)!==null||f==="style"&&w.querySelector(T0(P))||f==="script"&&w.querySelector(R0(P))||(f=w.createElement("link"),Ui(f,"link",d),Ee(f),w.head.appendChild(f)))}}function Cre(d,f){Cc.m(d,f);var m=Ap;if(m&&d){var w=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Zr(w)+'"][href="'+Zr(d)+'"]',P=T;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Dp(d)}if(!Yo.has(P)&&(d=u({rel:"modulepreload",href:d},f),Yo.set(P,d),m.querySelector(T)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(R0(P)))return}w=m.createElement("link"),Ui(w,"link",d),Ee(w),m.head.appendChild(w)}}}function bre(d,f,m){Cc.S(d,f,m);var w=Ap;if(w&&d){var T=Ge(w).hoistableStyles,P=kp(d);f=f||"default";var q=T.get(P);if(!q){var se={loading:0,preload:null};if(q=w.querySelector(T0(P)))se.loading=5;else{d=u({rel:"stylesheet",href:d,"data-precedence":f},m),(m=Yo.get(P))&&d_(d,m);var ge=q=w.createElement("link");Ee(ge),Ui(ge,"link",d),ge._p=new Promise(function(Be,Xe){ge.onload=Be,ge.onerror=Xe}),ge.addEventListener("load",function(){se.loading|=1}),ge.addEventListener("error",function(){se.loading|=2}),se.loading|=4,bb(q,f,w)}q={type:"stylesheet",instance:q,count:1,state:se},T.set(P,q)}}}function xre(d,f){Cc.X(d,f);var m=Ap;if(m&&d){var w=Ge(m).hoistableScripts,T=Dp(d),P=w.get(T);P||(P=m.querySelector(R0(T)),P||(d=u({src:d,async:!0},f),(f=Yo.get(T))&&h_(d,f),P=m.createElement("script"),Ee(P),Ui(P,"link",d),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},w.set(T,P))}}function Sre(d,f){Cc.M(d,f);var m=Ap;if(m&&d){var w=Ge(m).hoistableScripts,T=Dp(d),P=w.get(T);P||(P=m.querySelector(R0(T)),P||(d=u({src:d,async:!0,type:"module"},f),(f=Yo.get(T))&&h_(d,f),P=m.createElement("script"),Ee(P),Ui(P,"link",d),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},w.set(T,P))}}function cB(d,f,m,w){var T=(T=pe.current)?Cb(T):null;if(!T)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=kp(m.href),m=Ge(T).hoistableStyles,w=m.get(f),w||(w={type:"style",instance:null,count:0,state:null},m.set(f,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){d=kp(m.href);var P=Ge(T).hoistableStyles,q=P.get(d);if(q||(T=T.ownerDocument||T,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(d,q),(P=T.querySelector(T0(d)))&&!P._p&&(q.instance=P,q.state.loading=5),Yo.has(d)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Yo.set(d,m),P||Ere(T,d,m,q.state))),f&&w===null)throw Error(r(528,""));return q}if(f&&w!==null)throw Error(r(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Dp(m),m=Ge(T).hoistableScripts,w=m.get(f),w||(w={type:"script",instance:null,count:0,state:null},m.set(f,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function kp(d){return'href="'+Zr(d)+'"'}function T0(d){return'link[rel="stylesheet"]['+d+"]"}function uB(d){return u({},d,{"data-precedence":d.precedence,precedence:null})}function Ere(d,f,m,w){d.querySelector('link[rel="preload"][as="style"]['+f+"]")?w.loading=1:(f=d.createElement("link"),w.preload=f,f.addEventListener("load",function(){return w.loading|=1}),f.addEventListener("error",function(){return w.loading|=2}),Ui(f,"link",m),Ee(f),d.head.appendChild(f))}function Dp(d){return'[src="'+Zr(d)+'"]'}function R0(d){return"script[async]"+d}function dB(d,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var w=d.querySelector('style[data-href~="'+Zr(m.href)+'"]');if(w)return f.instance=w,Ee(w),w;var T=u({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return w=(d.ownerDocument||d).createElement("style"),Ee(w),Ui(w,"style",T),bb(w,m.precedence,d),f.instance=w;case"stylesheet":T=kp(m.href);var P=d.querySelector(T0(T));if(P)return f.state.loading|=4,f.instance=P,Ee(P),P;w=uB(m),(T=Yo.get(T))&&d_(w,T),P=(d.ownerDocument||d).createElement("link"),Ee(P);var q=P;return q._p=new Promise(function(se,ge){q.onload=se,q.onerror=ge}),Ui(P,"link",w),f.state.loading|=4,bb(P,m.precedence,d),f.instance=P;case"script":return P=Dp(m.src),(T=d.querySelector(R0(P)))?(f.instance=T,Ee(T),T):(w=m,(T=Yo.get(P))&&(w=u({},m),h_(w,T)),d=d.ownerDocument||d,T=d.createElement("script"),Ee(T),Ui(T,"link",w),d.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(w=f.instance,f.state.loading|=4,bb(w,m.precedence,d));return f.instance}function bb(d,f,m){for(var w=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=w.length?w[w.length-1]:null,P=T,q=0;q<w.length;q++){var se=w[q];if(se.dataset.precedence===f)P=se;else if(P!==T)break}P?P.parentNode.insertBefore(d,P.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(d,f.firstChild))}function d_(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.title==null&&(d.title=f.title)}function h_(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.integrity==null&&(d.integrity=f.integrity)}var xb=null;function hB(d,f,m){if(xb===null){var w=new Map,T=xb=new Map;T.set(m,w)}else T=xb,w=T.get(m),w||(w=new Map,T.set(m,w));if(w.has(d))return w;for(w.set(d,null),m=m.getElementsByTagName(d),T=0;T<m.length;T++){var P=m[T];if(!(P[ne]||P[tt]||d==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var q=P.getAttribute(f)||"";q=d+q;var se=w.get(q);se?se.push(P):w.set(q,[P])}}return w}function fB(d,f,m){d=d.ownerDocument||d,d.head.insertBefore(m,f==="title"?d.querySelector("head > title"):null)}function Tre(d,f,m){if(m===1||f.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return d=f.disabled,typeof f.precedence=="string"&&d==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function pB(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var _0=null;function Rre(){}function _re(d,f,m){if(_0===null)throw Error(r(475));var w=_0;if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=kp(m.href),P=d.querySelector(T0(T));if(P){d=P._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(w.count++,w=Sb.bind(w),d.then(w,w)),f.state.loading|=4,f.instance=P,Ee(P);return}P=d.ownerDocument||d,m=uB(m),(T=Yo.get(T))&&d_(m,T),P=P.createElement("link"),Ee(P);var q=P;q._p=new Promise(function(se,ge){q.onload=se,q.onerror=ge}),Ui(P,"link",m),f.instance=P}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(f,d),(d=f.state.preload)&&(f.state.loading&3)===0&&(w.count++,f=Sb.bind(w),d.addEventListener("load",f),d.addEventListener("error",f))}}function Are(){if(_0===null)throw Error(r(475));var d=_0;return d.stylesheets&&d.count===0&&f_(d,d.stylesheets),0<d.count?function(f){var m=setTimeout(function(){if(d.stylesheets&&f_(d,d.stylesheets),d.unsuspend){var w=d.unsuspend;d.unsuspend=null,w()}},6e4);return d.unsuspend=f,function(){d.unsuspend=null,clearTimeout(m)}}:null}function Sb(){if(this.count--,this.count===0){if(this.stylesheets)f_(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Eb=null;function f_(d,f){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Eb=new Map,f.forEach(kre,d),Eb=null,Sb.call(d))}function kre(d,f){if(!(f.state.loading&4)){var m=Eb.get(d);if(m)var w=m.get(null);else{m=new Map,Eb.set(d,m);for(var T=d.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<T.length;P++){var q=T[P];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(m.set(q.dataset.precedence,q),w=q)}w&&m.set(null,w)}T=f.instance,q=T.getAttribute("data-precedence"),P=m.get(q)||w,P===w&&m.set(null,T),m.set(q,T),this.count++,w=Sb.bind(this),T.addEventListener("load",w),T.addEventListener("error",w),P?P.parentNode.insertBefore(T,P.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(T,d.firstChild)),f.state.loading|=4}}var A0={$$typeof:x,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Dre(d,f,m,w,T,P,q,se){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=w,this.onUncaughtError=T,this.onCaughtError=P,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function gB(d,f,m,w,T,P,q,se,ge,Be,Xe,nt){return d=new Dre(d,f,m,q,se,ge,Be,nt),f=1,P===!0&&(f|=24),P=ao(3,null,null,f),d.current=P,P.stateNode=d,f=KT(),f.refCount++,d.pooledCache=f,f.refCount++,P.memoizedState={element:w,isDehydrated:m,cache:f},ZT(P),d}function mB(d){return d?(d=ap,d):ap}function vB(d,f,m,w,T,P){T=mB(T),w.context===null?w.context=T:w.pendingContext=T,w=uu(f),w.payload={element:m},P=P===void 0?null:P,P!==null&&(w.callback=P),m=du(d,w,f),m!==null&&(fo(m,d,f),i0(m,d,f))}function yB(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var m=d.retryLane;d.retryLane=m!==0&&m<f?m:f}}function p_(d,f){yB(d,f),(d=d.alternate)&&yB(d,f)}function wB(d){if(d.tag===13){var f=op(d,67108864);f!==null&&fo(f,d,67108864),p_(d,67108864)}}var Tb=!0;function Pre(d,f,m,w){var T=re.T;re.T=null;var P=te.p;try{te.p=2,g_(d,f,m,w)}finally{te.p=P,re.T=T}}function Fre(d,f,m,w){var T=re.T;re.T=null;var P=te.p;try{te.p=8,g_(d,f,m,w)}finally{te.p=P,re.T=T}}function g_(d,f,m,w){if(Tb){var T=m_(w);if(T===null)n_(d,f,w,Rb,m),bB(d,w);else if(Mre(T,d,f,m,w))w.stopPropagation();else if(bB(d,w),f&4&&-1<Ire.indexOf(d)){for(;T!==null;){var P=de(T);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var q=or(P.pendingLanes);if(q!==0){var se=P;for(se.pendingLanes|=2,se.entangledLanes|=2;q;){var ge=1<<31-dt(q);se.entanglements[1]|=ge,q&=~ge}ul(P),(qn&6)===0&&(cb=Q()+500,b0(0))}}break;case 13:se=op(P,2),se!==null&&fo(se,P,2),db(),p_(P,2)}if(P=m_(w),P===null&&n_(d,f,w,Rb,m),P===T)break;T=P}T!==null&&w.stopPropagation()}else n_(d,f,w,null,m)}}function m_(d){return d=Ho(d),v_(d)}var Rb=null;function v_(d){if(Rb=null,d=ce(d),d!==null){var f=s(d);if(f===null)d=null;else{var m=f.tag;if(m===13){if(d=o(f),d!==null)return d;d=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null)}}return Rb=d,null}function CB(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case ve:return 2;case Fe:return 8;case Ue:case xe:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var y_=!1,Eu=null,Tu=null,Ru=null,k0=new Map,D0=new Map,_u=[],Ire="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bB(d,f){switch(d){case"focusin":case"focusout":Eu=null;break;case"dragenter":case"dragleave":Tu=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":k0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":D0.delete(f.pointerId)}}function P0(d,f,m,w,T,P){return d===null||d.nativeEvent!==P?(d={blockedOn:f,domEventName:m,eventSystemFlags:w,nativeEvent:P,targetContainers:[T]},f!==null&&(f=de(f),f!==null&&wB(f)),d):(d.eventSystemFlags|=w,f=d.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),d)}function Mre(d,f,m,w,T){switch(f){case"focusin":return Eu=P0(Eu,d,f,m,w,T),!0;case"dragenter":return Tu=P0(Tu,d,f,m,w,T),!0;case"mouseover":return Ru=P0(Ru,d,f,m,w,T),!0;case"pointerover":var P=T.pointerId;return k0.set(P,P0(k0.get(P)||null,d,f,m,w,T)),!0;case"gotpointercapture":return P=T.pointerId,D0.set(P,P0(D0.get(P)||null,d,f,m,w,T)),!0}return!1}function xB(d){var f=ce(d.target);if(f!==null){var m=s(f);if(m!==null){if(f=m.tag,f===13){if(f=o(m),f!==null){d.blockedOn=f,Pe(d.priority,function(){if(m.tag===13){var w=ho();w=Bo(w);var T=op(m,w);T!==null&&fo(T,m,w),p_(m,w)}});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){d.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}d.blockedOn=null}function _b(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var m=m_(d.nativeEvent);if(m===null){m=d.nativeEvent;var w=new m.constructor(m.type,m);nc=w,m.target.dispatchEvent(w),nc=null}else return f=de(m),f!==null&&wB(f),d.blockedOn=m,!1;f.shift()}return!0}function SB(d,f,m){_b(d)&&m.delete(f)}function Ore(){y_=!1,Eu!==null&&_b(Eu)&&(Eu=null),Tu!==null&&_b(Tu)&&(Tu=null),Ru!==null&&_b(Ru)&&(Ru=null),k0.forEach(SB),D0.forEach(SB)}function Ab(d,f){d.blockedOn===f&&(d.blockedOn=null,y_||(y_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ore)))}var kb=null;function EB(d){kb!==d&&(kb=d,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kb===d&&(kb=null);for(var f=0;f<d.length;f+=3){var m=d[f],w=d[f+1],T=d[f+2];if(typeof w!="function"){if(v_(w||m)===null)continue;break}var P=de(m);P!==null&&(d.splice(f,3),f-=3,vR(P,{pending:!0,data:T,method:m.method,action:w},w,T))}}))}function F0(d){function f(ge){return Ab(ge,d)}Eu!==null&&Ab(Eu,d),Tu!==null&&Ab(Tu,d),Ru!==null&&Ab(Ru,d),k0.forEach(f),D0.forEach(f);for(var m=0;m<_u.length;m++){var w=_u[m];w.blockedOn===d&&(w.blockedOn=null)}for(;0<_u.length&&(m=_u[0],m.blockedOn===null);)xB(m),m.blockedOn===null&&_u.shift();if(m=(d.ownerDocument||d).$$reactFormReplay,m!=null)for(w=0;w<m.length;w+=3){var T=m[w],P=m[w+1],q=T[lt]||null;if(typeof P=="function")q||EB(m);else if(q){var se=null;if(P&&P.hasAttribute("formAction")){if(T=P,q=P[lt]||null)se=q.formAction;else if(v_(T)!==null)continue}else se=q.action;typeof se=="function"?m[w+1]=se:(m.splice(w,3),w-=3),EB(m)}}}function w_(d){this._internalRoot=d}Db.prototype.render=w_.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(r(409));var m=f.current,w=ho();vB(m,w,d,f,null,null)},Db.prototype.unmount=w_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;vB(d.current,2,null,d,null,null),db(),f[Et]=null}};function Db(d){this._internalRoot=d}Db.prototype.unstable_scheduleHydration=function(d){if(d){var f=we();d={blockedOn:null,target:d,priority:f};for(var m=0;m<_u.length&&f!==0&&f<_u[m].priority;m++);_u.splice(m,0,d),m===0&&xB(d)}};var TB=t.version;if(TB!=="19.1.1")throw Error(r(527,TB,"19.1.1"));te.findDOMNode=function(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=l(f),d=d!==null?c(d):null,d=d===null?null:d.stateNode,d};var Nre={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pb.isDisabled&&Pb.supportsFiber)try{fe=Pb.inject(Nre),Me=Pb}catch{}}return M0.createRoot=function(d,f){if(!i(d))throw Error(r(299));var m=!1,w="",T=GL,P=UL,q=zL,se=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(q=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(se=f.unstable_transitionCallbacks)),f=gB(d,1,!1,null,null,m,w,T,P,q,se,null),d[Et]=f.current,t_(d),new w_(f)},M0.hydrateRoot=function(d,f,m){if(!i(d))throw Error(r(299));var w=!1,T="",P=GL,q=UL,se=zL,ge=null,Be=null;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(q=m.onCaughtError),m.onRecoverableError!==void 0&&(se=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ge=m.unstable_transitionCallbacks),m.formState!==void 0&&(Be=m.formState)),f=gB(d,1,!0,f,m??null,w,T,P,q,se,ge,Be),f.context=mB(null),m=f.current,w=ho(),w=Bo(w),T=uu(w),T.callback=null,du(m,T,w),m=w,f.current.lanes=m,di(f,m),ul(f),d[Et]=f.current,t_(d),new Db(f)},M0.version="19.1.1",M0}var OB;function Wre(){if(OB)return x_.exports;OB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),x_.exports=jre(),x_.exports}var $re=Wre();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vz=e=>{throw TypeError(e)},qre=(e,t,n)=>t.has(e)||Vz("Cannot "+n),R_=(e,t,n)=>(qre(e,t,"read from private field"),n?n.call(e):t.get(e)),Kre=(e,t,n)=>t.has(e)?Vz("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),NB="popstate";function Yre(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=Zc(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Jv("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:od(s))}function r(i,s){Or(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Qre(t,n,r,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xre(){return Math.random().toString(36).substring(2,10)}function LB(e,t){return{usr:e.state,key:e.key,idx:t}}function Jv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zc(t):t,state:n,key:t&&t.key||r||Xre()}}function od({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Qre(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function h(){a="POP";let C=u(),b=C==null?null:C-c;c=C,l&&l({action:a,location:y.location,delta:b})}function p(C,b){a="PUSH";let E=Jv(y.location,C,b);n&&n(E,C),c=u()+1;let x=LB(E,c),k=y.createHref(E);try{o.pushState(x,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}s&&l&&l({action:a,location:y.location,delta:1})}function g(C,b){a="REPLACE";let E=Jv(y.location,C,b);n&&n(E,C),c=u();let x=LB(E,c),k=y.createHref(E);o.replaceState(x,"",k),s&&l&&l({action:a,location:y.location,delta:0})}function v(C){return Hz(C)}let y={get action(){return a},get location(){return e(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NB,h),l=C,()=>{i.removeEventListener(NB,h),l=null}},createHref(C){return t(i,C)},createURL:v,encodeLocation(C){let b=v(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:g,go(C){return o.go(C)}};return y}function Hz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:od(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var tv,BB=class{constructor(e){if(Kre(this,tv,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(R_(this,tv).has(e))return R_(this,tv).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){R_(this,tv).set(e,t)}};tv=new WeakMap;var Zre=new Set(["lazy","caseSensitive","path","id","index","children"]);function Jre(e){return Zre.has(e)}var eie=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function tie(e){return eie.has(e)}function nie(e){return e.index===!0}function ey(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(hn(s.index!==!0||!s.children,"Cannot specify children on an index route"),hn(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),nie(s)){let c={...s,...t(s),id:l};return r[l]=c,c}else{let c={...s,...t(s),id:l,children:void 0};return r[l]=c,s.children&&(c.children=ey(s.children,t,a,r,i)),c}})}function Vu(e,t,n="/"){return Px(e,t,n,!1)}function Px(e,t,n,r){let i=typeof t=="string"?Zc(t):t,s=ya(i.pathname||"/",n);if(s==null)return null;let o=Gz(e);iie(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=gie(s);a=fie(o[l],c,r)}return a}function rie(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Gz(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(hn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=_l([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(hn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Gz(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:die(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of Uz(s.path))i(s,o,a)}),t}function Uz(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Uz(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hie(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sie=/^:[\w-]+$/,oie=3,aie=2,lie=1,cie=10,uie=-2,VB=e=>e==="*";function die(e,t){let n=e.split("/"),r=n.length;return n.some(VB)&&(r+=uie),t&&(r+=aie),n.filter(i=>!VB(i)).reduce((i,s)=>i+(sie.test(s)?oie:s===""?lie:cie),r)}function hie(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fie(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",h=pS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=pS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:_l([s,h.pathname]),pathnameBase:wie(_l([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=_l([s,h.pathnameBase]))}return o}function pS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pie(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:h},p)=>{if(u==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[p];return h&&!g?c[u]=void 0:c[u]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function pie(e,t=!1,n=!0){Or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function gie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ya(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mie({basename:e,pathname:t}){return t==="/"?e:_l([e,t])}function vie(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Zc(e):e;return{pathname:n?n.startsWith("/")?n:yie(n,t):t,search:Cie(r),hash:bie(i)}}function yie(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function __(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Y1(e){let t=zz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function X1(e,t,n,r=!1){let i;typeof e=="string"?i=Zc(e):(i={...e},hn(!i.pathname||!i.pathname.includes("?"),__("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),__("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),__("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=vie(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var _l=e=>e.join("/").replace(/\/\/+/g,"/"),wie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,gS=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ty(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var jz=["POST","PUT","PATCH","DELETE"],xie=new Set(jz),Sie=["GET",...jz],Eie=new Set(Sie),Tie=new Set([301,302,303,307,308]),Rie=new Set([307,308]),A_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_ie={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},O0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Aie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bF=e=>Aie.test(e),kie=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Wz="remix-router-transitions",$z=Symbol("ResetLoaderData");function Die(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";hn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||kie,s={},o=ey(e.routes,i,void 0,s),a,l=e.basename||"/",c=e.dataStrategy||Oie,u={unstable_middleware:!1,...e.future},h=null,p=new Set,g=null,v=null,y=null,C=e.hydrationData!=null,b=Vu(o,e.history.location,l),E=!1,x=null,k;if(b==null&&!e.patchRoutesOnNavigation){let we=oa(404,{pathname:e.history.location.pathname}),{matches:Pe,route:Ne}=QB(o);k=!0,b=Pe,x={[Ne.id]:we}}else if(b&&!e.hydrationData&&Bi(b,o,e.history.location.pathname).active&&(b=null),b)if(b.some(we=>we.route.lazy))k=!1;else if(!b.some(we=>we.route.loader))k=!0;else{let we=e.hydrationData?e.hydrationData.loaderData:null,Pe=e.hydrationData?e.hydrationData.errors:null;if(Pe){let Ne=b.findIndex(tt=>Pe[tt.route.id]!==void 0);k=b.slice(0,Ne+1).every(tt=>!Lk(tt.route,we,Pe))}else k=b.every(Ne=>!Lk(Ne.route,we,Pe))}else{k=!1,b=[];let we=Bi(null,o,e.history.location.pathname);we.active&&we.matches&&(E=!0,b=we.matches)}let D,R={historyAction:e.history.action,location:e.history.location,matches:b,initialized:k,navigation:A_,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},_="POP",I=!1,F,N=!1,B=new Map,M=null,L=!1,H=!1,ee=new Set,re=new Map,te=0,he=-1,Z=new Map,V=new Set,X=new Map,z=new Map,G=new Set,Y=new Map,J,pe=null;function He(){if(h=e.history.listen(({action:we,location:Pe,delta:Ne})=>{if(J){J(),J=void 0;return}Or(Y.size===0||Ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let tt=br({currentLocation:R.location,nextLocation:Pe,historyAction:we});if(tt&&Ne!=null){let lt=new Promise(Et=>{J=Et});e.history.go(Ne*-1),yr(tt,{state:"blocked",location:Pe,proceed(){yr(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),lt.then(()=>e.history.go(Ne))},reset(){let Et=new Map(R.blockers);Et.set(tt,O0),De({blockers:Et})}});return}return j(we,Pe)}),n){$ie(t,B);let we=()=>qie(t,B);t.addEventListener("pagehide",we),M=()=>t.removeEventListener("pagehide",we)}return R.initialized||j("POP",R.location,{initialHydration:!0}),D}function Re(){h&&h(),M&&M(),p.clear(),F&&F.abort(),R.fetchers.forEach((we,Pe)=>dt(Pe)),R.blockers.forEach((we,Pe)=>Cn(Pe))}function Te(we){return p.add(we),()=>p.delete(we)}function De(we,Pe={}){we.matches&&(we.matches=we.matches.map(lt=>{let Et=s[lt.route.id],At=lt.route;return At.element!==Et.element||At.errorElement!==Et.errorElement||At.hydrateFallbackElement!==Et.hydrateFallbackElement?{...lt,route:Et}:lt})),R={...R,...we};let Ne=[],tt=[];R.fetchers.forEach((lt,Et)=>{lt.state==="idle"&&(G.has(Et)?Ne.push(Et):tt.push(Et))}),G.forEach(lt=>{!R.fetchers.has(lt)&&!re.has(lt)&&Ne.push(lt)}),[...p].forEach(lt=>lt(R,{deletedFetchers:Ne,viewTransitionOpts:Pe.viewTransitionOpts,flushSync:Pe.flushSync===!0})),Ne.forEach(lt=>dt(lt)),tt.forEach(lt=>R.fetchers.delete(lt))}function et(we,Pe,{flushSync:Ne}={}){let tt=R.actionData!=null&&R.navigation.formMethod!=null&&qs(R.navigation.formMethod)&&R.navigation.state==="loading"&&we.state?._isRedirect!==!0,lt;Pe.actionData?Object.keys(Pe.actionData).length>0?lt=Pe.actionData:lt=null:tt?lt=R.actionData:lt=null;let Et=Pe.loaderData?YB(R.loaderData,Pe.loaderData,Pe.matches||[],Pe.errors):R.loaderData,At=R.blockers;At.size>0&&(At=new Map(At),At.forEach((ne,ie)=>At.set(ie,O0)));let Rt=L?!1:Ci(we,Pe.matches||R.matches),K=I===!0||R.navigation.formMethod!=null&&qs(R.navigation.formMethod)&&we.state?._isRedirect!==!0;a&&(o=a,a=void 0),L||_==="POP"||(_==="PUSH"?e.history.push(we,we.state):_==="REPLACE"&&e.history.replace(we,we.state));let ae;if(_==="POP"){let ne=B.get(R.location.pathname);ne&&ne.has(we.pathname)?ae={currentLocation:R.location,nextLocation:we}:B.has(we.pathname)&&(ae={currentLocation:we,nextLocation:R.location})}else if(N){let ne=B.get(R.location.pathname);ne?ne.add(we.pathname):(ne=new Set([we.pathname]),B.set(R.location.pathname,ne)),ae={currentLocation:R.location,nextLocation:we}}De({...Pe,actionData:lt,loaderData:Et,historyAction:_,location:we,initialized:!0,navigation:A_,revalidation:"idle",restoreScrollPosition:Rt,preventScrollReset:K,blockers:At},{viewTransitionOpts:ae,flushSync:Ne===!0}),_="POP",I=!1,N=!1,L=!1,H=!1,pe?.resolve(),pe=null}async function ue(we,Pe){if(typeof we=="number"){e.history.go(we);return}let Ne=Nk(R.location,R.matches,l,we,Pe?.fromRouteId,Pe?.relative),{path:tt,submission:lt,error:Et}=HB(!1,Ne,Pe),At=R.location,Rt=Jv(R.location,tt,Pe&&Pe.state);Rt={...Rt,...e.history.encodeLocation(Rt)};let K=Pe&&Pe.replace!=null?Pe.replace:void 0,ae="PUSH";K===!0?ae="REPLACE":K===!1||lt!=null&&qs(lt.formMethod)&&lt.formAction===R.location.pathname+R.location.search&&(ae="REPLACE");let ne=Pe&&"preventScrollReset"in Pe?Pe.preventScrollReset===!0:void 0,ie=(Pe&&Pe.flushSync)===!0,ce=br({currentLocation:At,nextLocation:Rt,historyAction:ae});if(ce){yr(ce,{state:"blocked",location:Rt,proceed(){yr(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:Rt}),ue(we,Pe)},reset(){let de=new Map(R.blockers);de.set(ce,O0),De({blockers:de})}});return}await j(ae,Rt,{submission:lt,pendingError:Et,preventScrollReset:ne,replace:Pe&&Pe.replace,enableViewTransition:Pe&&Pe.viewTransition,flushSync:ie})}function St(){pe||(pe=Kie()),Je(),De({revalidation:"loading"});let we=pe.promise;return R.navigation.state==="submitting"?we:R.navigation.state==="idle"?(j(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),we):(j(_||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:N===!0}),we)}async function j(we,Pe,Ne){F&&F.abort(),F=null,_=we,L=(Ne&&Ne.startUninterruptedRevalidation)===!0,di(R.location,R.matches),I=(Ne&&Ne.preventScrollReset)===!0,N=(Ne&&Ne.enableViewTransition)===!0;let tt=a||o,lt=Ne&&Ne.overrideNavigation,Et=Ne?.initialHydration&&R.matches&&R.matches.length>0&&!E?R.matches:Vu(tt,Pe,l),At=(Ne&&Ne.flushSync)===!0;if(Et&&R.initialized&&!H&&Gie(R.location,Pe)&&!(Ne&&Ne.submission&&qs(Ne.submission.formMethod))){et(Pe,{matches:Et},{flushSync:At});return}let Rt=Bi(Et,tt,Pe.pathname);if(Rt.active&&Rt.matches&&(Et=Rt.matches),!Et){let{error:Ge,notFoundMatches:Ee,route:_e}=Vs(Pe.pathname);et(Pe,{matches:Ee,loaderData:{},errors:{[_e.id]:Ge}},{flushSync:At});return}F=new AbortController;let K=Gp(e.history,Pe,F.signal,Ne&&Ne.submission),ae=new BB(e.unstable_getContext?await e.unstable_getContext():void 0),ne;if(Ne&&Ne.pendingError)ne=[Ch(Et).route.id,{type:"error",error:Ne.pendingError}];else if(Ne&&Ne.submission&&qs(Ne.submission.formMethod)){let Ge=await Ce(K,Pe,Ne.submission,Et,ae,Rt.active,Ne&&Ne.initialHydration===!0,{replace:Ne.replace,flushSync:At});if(Ge.shortCircuited)return;if(Ge.pendingActionResult){let[Ee,_e]=Ge.pendingActionResult;if(go(_e)&&ty(_e.error)&&_e.error.status===404){F=null,et(Pe,{matches:Ge.matches,loaderData:{},errors:{[Ee]:_e.error}});return}}Et=Ge.matches||Et,ne=Ge.pendingActionResult,lt=k_(Pe,Ne.submission),At=!1,Rt.active=!1,K=Gp(e.history,K.url,K.signal)}let{shortCircuited:ie,matches:ce,loaderData:de,errors:Ae}=await ye(K,Pe,Et,ae,Rt.active,lt,Ne&&Ne.submission,Ne&&Ne.fetcherSubmission,Ne&&Ne.replace,Ne&&Ne.initialHydration===!0,At,ne);ie||(F=null,et(Pe,{matches:ce||Et,...XB(ne),loaderData:de,errors:Ae}))}async function Ce(we,Pe,Ne,tt,lt,Et,At,Rt={}){Je();let K=jie(Pe,Ne);if(De({navigation:K},{flushSync:Rt.flushSync===!0}),Et){let ie=await Lo(tt,Pe.pathname,we.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let ce=Ch(ie.partialMatches).route.id;return{matches:ie.partialMatches,pendingActionResult:[ce,{type:"error",error:ie.error}]}}else if(ie.matches)tt=ie.matches;else{let{notFoundMatches:ce,error:de,route:Ae}=Vs(Pe.pathname);return{matches:ce,pendingActionResult:[Ae.id,{type:"error",error:de}]}}}let ae,ne=Fx(tt,Pe);if(!ne.route.action&&!ne.route.lazy)ae={type:"error",error:oa(405,{method:we.method,pathname:Pe.pathname,routeId:ne.route.id})};else{let ie=sg(i,s,we,tt,ne,At?[]:r,lt),ce=await Ke(we,ie,lt,null);if(ae=ce[ne.route.id],!ae){for(let de of tt)if(ce[de.route.id]){ae=ce[de.route.id];break}}if(we.signal.aborted)return{shortCircuited:!0}}if(Sh(ae)){let ie;return Rt&&Rt.replace!=null?ie=Rt.replace:ie=$B(ae.response.headers.get("Location"),new URL(we.url),l)===R.location.pathname+R.location.search,await xe(we,ae,!0,{submission:Ne,replace:ie}),{shortCircuited:!0}}if(go(ae)){let ie=Ch(tt,ne.route.id);return(Rt&&Rt.replace)!==!0&&(_="PUSH"),{matches:tt,pendingActionResult:[ie.route.id,ae,ne.route.id]}}return{matches:tt,pendingActionResult:[ne.route.id,ae]}}async function ye(we,Pe,Ne,tt,lt,Et,At,Rt,K,ae,ne,ie){let ce=Et||k_(Pe,At),de=At||Rt||JB(ce),Ae=!L&&!ae;if(lt){if(Ae){let Hn=Q(ie);De({navigation:ce,...Hn!==void 0?{actionData:Hn}:{}},{flushSync:ne})}let kt=await Lo(Ne,Pe.pathname,we.signal);if(kt.type==="aborted")return{shortCircuited:!0};if(kt.type==="error"){let Hn=Ch(kt.partialMatches).route.id;return{matches:kt.partialMatches,loaderData:{},errors:{[Hn]:kt.error}}}else if(kt.matches)Ne=kt.matches;else{let{error:Hn,notFoundMatches:bs,route:Hr}=Vs(Pe.pathname);return{matches:bs,loaderData:{},errors:{[Hr.id]:Hn}}}}let Ge=a||o,{dsMatches:Ee,revalidatingFetchers:_e}=GB(we,tt,i,s,e.history,R,Ne,de,Pe,ae?[]:r,ae===!0,H,ee,G,X,V,Ge,l,e.patchRoutesOnNavigation!=null,ie);if(he=++te,!e.dataStrategy&&!Ee.some(kt=>kt.shouldLoad)&&_e.length===0){let kt=Dt();return et(Pe,{matches:Ne,loaderData:{},errors:ie&&go(ie[1])?{[ie[0]]:ie[1].error}:null,...XB(ie),...kt?{fetchers:new Map(R.fetchers)}:{}},{flushSync:ne}),{shortCircuited:!0}}if(Ae){let kt={};if(!lt){kt.navigation=ce;let Hn=Q(ie);Hn!==void 0&&(kt.actionData=Hn)}_e.length>0&&(kt.fetchers=oe(_e)),De(kt,{flushSync:ne})}_e.forEach(kt=>{It(kt.key),kt.controller&&re.set(kt.key,kt.controller)});let Le=()=>_e.forEach(kt=>It(kt.key));F&&F.signal.addEventListener("abort",Le);let{loaderResults:rt,fetcherResults:ct}=await st(Ee,_e,we,tt);if(we.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Le),_e.forEach(kt=>re.delete(kt.key));let wt=Ib(rt);if(wt)return await xe(we,wt.result,!0,{replace:K}),{shortCircuited:!0};if(wt=Ib(ct),wt)return V.add(wt.key),await xe(we,wt.result,!0,{replace:K}),{shortCircuited:!0};let{loaderData:ut,errors:ft}=KB(R,Ne,rt,ie,_e,ct);ae&&R.errors&&(ft={...R.errors,...ft});let Lt=Dt(),pn=$n(he),on=Lt||pn||_e.length>0;return{matches:Ne,loaderData:ut,errors:ft,...on?{fetchers:new Map(R.fetchers)}:{}}}function Q(we){if(we&&!go(we[1]))return{[we[0]]:we[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function oe(we){return we.forEach(Pe=>{let Ne=R.fetchers.get(Pe.key),tt=N0(void 0,Ne?Ne.data:void 0);R.fetchers.set(Pe.key,tt)}),new Map(R.fetchers)}async function ve(we,Pe,Ne,tt){It(we);let lt=(tt&&tt.flushSync)===!0,Et=a||o,At=Nk(R.location,R.matches,l,Ne,Pe,tt?.relative),Rt=Vu(Et,At,l),K=Bi(Rt,Et,At);if(K.active&&K.matches&&(Rt=K.matches),!Rt){Me(we,Pe,oa(404,{pathname:At}),{flushSync:lt});return}let{path:ae,submission:ne,error:ie}=HB(!0,At,tt);if(ie){Me(we,Pe,ie,{flushSync:lt});return}let ce=new BB(e.unstable_getContext?await e.unstable_getContext():void 0),de=(tt&&tt.preventScrollReset)===!0;if(ne&&qs(ne.formMethod)){await Fe(we,Pe,ae,Rt,ce,K.active,lt,de,ne);return}X.set(we,{routeId:Pe,path:ae}),await Ue(we,Pe,ae,Rt,ce,K.active,lt,de,ne)}async function Fe(we,Pe,Ne,tt,lt,Et,At,Rt,K){Je(),X.delete(we);let ae=R.fetchers.get(we);fe(we,Wie(K,ae),{flushSync:At});let ne=new AbortController,ie=Gp(e.history,Ne,ne.signal,K);if(Et){let xn=await Lo(tt,new URL(ie.url).pathname,ie.signal,we);if(xn.type==="aborted")return;if(xn.type==="error"){Me(we,Pe,xn.error,{flushSync:At});return}else if(xn.matches)tt=xn.matches;else{Me(we,Pe,oa(404,{pathname:Ne}),{flushSync:At});return}}let ce=Fx(tt,Ne);if(!ce.route.action&&!ce.route.lazy){let xn=oa(405,{method:K.formMethod,pathname:Ne,routeId:Pe});Me(we,Pe,xn,{flushSync:At});return}re.set(we,ne);let de=te,Ae=sg(i,s,ie,tt,ce,r,lt),Ee=(await Ke(ie,Ae,lt,we))[ce.route.id];if(ie.signal.aborted){re.get(we)===ne&&re.delete(we);return}if(G.has(we)){if(Sh(Ee)||go(Ee)){fe(we,Ou(void 0));return}}else{if(Sh(Ee))if(re.delete(we),he>de){fe(we,Ou(void 0));return}else return V.add(we),fe(we,N0(K)),xe(ie,Ee,!1,{fetcherSubmission:K,preventScrollReset:Rt});if(go(Ee)){Me(we,Pe,Ee.error);return}}let _e=R.navigation.location||R.location,Le=Gp(e.history,_e,ne.signal),rt=a||o,ct=R.navigation.state!=="idle"?Vu(rt,R.navigation.location,l):R.matches;hn(ct,"Didn't find any matches after fetcher action");let wt=++te;Z.set(we,wt);let ut=N0(K,Ee.data);R.fetchers.set(we,ut);let{dsMatches:ft,revalidatingFetchers:Lt}=GB(Le,lt,i,s,e.history,R,ct,K,_e,r,!1,H,ee,G,X,V,rt,l,e.patchRoutesOnNavigation!=null,[ce.route.id,Ee]);Lt.filter(xn=>xn.key!==we).forEach(xn=>{let xs=xn.key,bi=R.fetchers.get(xs),su=N0(void 0,bi?bi.data:void 0);R.fetchers.set(xs,su),It(xs),xn.controller&&re.set(xs,xn.controller)}),De({fetchers:new Map(R.fetchers)});let pn=()=>Lt.forEach(xn=>It(xn.key));ne.signal.addEventListener("abort",pn);let{loaderResults:on,fetcherResults:kt}=await st(ft,Lt,Le,lt);if(ne.signal.aborted)return;if(ne.signal.removeEventListener("abort",pn),Z.delete(we),re.delete(we),Lt.forEach(xn=>re.delete(xn.key)),R.fetchers.has(we)){let xn=Ou(Ee.data);R.fetchers.set(we,xn)}let Hn=Ib(on);if(Hn)return xe(Le,Hn.result,!1,{preventScrollReset:Rt});if(Hn=Ib(kt),Hn)return V.add(Hn.key),xe(Le,Hn.result,!1,{preventScrollReset:Rt});let{loaderData:bs,errors:Hr}=KB(R,ct,on,void 0,Lt,kt);$n(wt),R.navigation.state==="loading"&&wt>he?(hn(_,"Expected pending action"),F&&F.abort(),et(R.navigation.location,{matches:ct,loaderData:bs,errors:Hr,fetchers:new Map(R.fetchers)})):(De({errors:Hr,loaderData:YB(R.loaderData,bs,ct,Hr),fetchers:new Map(R.fetchers)}),H=!1)}async function Ue(we,Pe,Ne,tt,lt,Et,At,Rt,K){let ae=R.fetchers.get(we);fe(we,N0(K,ae?ae.data:void 0),{flushSync:At});let ne=new AbortController,ie=Gp(e.history,Ne,ne.signal);if(Et){let _e=await Lo(tt,new URL(ie.url).pathname,ie.signal,we);if(_e.type==="aborted")return;if(_e.type==="error"){Me(we,Pe,_e.error,{flushSync:At});return}else if(_e.matches)tt=_e.matches;else{Me(we,Pe,oa(404,{pathname:Ne}),{flushSync:At});return}}let ce=Fx(tt,Ne);re.set(we,ne);let de=te,Ae=sg(i,s,ie,tt,ce,r,lt),Ee=(await Ke(ie,Ae,lt,we))[ce.route.id];if(re.get(we)===ne&&re.delete(we),!ie.signal.aborted){if(G.has(we)){fe(we,Ou(void 0));return}if(Sh(Ee))if(he>de){fe(we,Ou(void 0));return}else{V.add(we),await xe(ie,Ee,!1,{preventScrollReset:Rt});return}if(go(Ee)){Me(we,Pe,Ee.error);return}fe(we,Ou(Ee.data))}}async function xe(we,Pe,Ne,{submission:tt,fetcherSubmission:lt,preventScrollReset:Et,replace:At}={}){Pe.response.headers.has("X-Remix-Revalidate")&&(H=!0);let Rt=Pe.response.headers.get("Location");hn(Rt,"Expected a Location header on the redirect Response"),Rt=$B(Rt,new URL(we.url),l);let K=Jv(R.location,Rt,{_isRedirect:!0});if(n){let Ae=!1;if(Pe.response.headers.has("X-Remix-Reload-Document"))Ae=!0;else if(bF(Rt)){const Ge=Hz(Rt,!0);Ae=Ge.origin!==t.location.origin||ya(Ge.pathname,l)==null}if(Ae){At?t.location.replace(Rt):t.location.assign(Rt);return}}F=null;let ae=At===!0||Pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ne,formAction:ie,formEncType:ce}=R.navigation;!tt&&!lt&&ne&&ie&&ce&&(tt=JB(R.navigation));let de=tt||lt;if(Rie.has(Pe.response.status)&&de&&qs(de.formMethod))await j(ae,K,{submission:{...de,formAction:Rt},preventScrollReset:Et||I,enableViewTransition:Ne?N:void 0});else{let Ae=k_(K,tt);await j(ae,K,{overrideNavigation:Ae,fetcherSubmission:lt,preventScrollReset:Et||I,enableViewTransition:Ne?N:void 0})}}async function Ke(we,Pe,Ne,tt){let lt,Et={};try{lt=await Nie(c,we,Pe,tt,Ne,!1)}catch(At){return Pe.filter(Rt=>Rt.shouldLoad).forEach(Rt=>{Et[Rt.route.id]={type:"error",error:At}}),Et}if(we.signal.aborted)return Et;for(let[At,Rt]of Object.entries(lt))if(Uie(Rt)){let K=Rt.result;Et[At]={type:"redirect",response:Vie(K,we,At,Pe,l)}}else Et[At]=await Bie(Rt);return Et}async function st(we,Pe,Ne,tt){let lt=Ke(Ne,we,tt,null),Et=Promise.all(Pe.map(async K=>{if(K.matches&&K.match&&K.request&&K.controller){let ne=(await Ke(K.request,K.matches,tt,K.key))[K.match.route.id];return{[K.key]:ne}}else return Promise.resolve({[K.key]:{type:"error",error:oa(404,{pathname:K.path})}})})),At=await lt,Rt=(await Et).reduce((K,ae)=>Object.assign(K,ae),{});return{loaderResults:At,fetcherResults:Rt}}function Je(){H=!0,X.forEach((we,Pe)=>{re.has(Pe)&&ee.add(Pe),It(Pe)})}function fe(we,Pe,Ne={}){R.fetchers.set(we,Pe),De({fetchers:new Map(R.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function Me(we,Pe,Ne,tt={}){let lt=Ch(R.matches,Pe);dt(we),De({errors:{[lt.route.id]:Ne},fetchers:new Map(R.fetchers)},{flushSync:(tt&&tt.flushSync)===!0})}function We(we){return z.set(we,(z.get(we)||0)+1),G.has(we)&&G.delete(we),R.fetchers.get(we)||_ie}function dt(we){let Pe=R.fetchers.get(we);re.has(we)&&!(Pe&&Pe.state==="loading"&&Z.has(we))&&It(we),X.delete(we),Z.delete(we),V.delete(we),G.delete(we),ee.delete(we),R.fetchers.delete(we)}function bt(we){let Pe=(z.get(we)||0)-1;Pe<=0?(z.delete(we),G.add(we)):z.set(we,Pe),De({fetchers:new Map(R.fetchers)})}function It(we){let Pe=re.get(we);Pe&&(Pe.abort(),re.delete(we))}function fn(we){for(let Pe of we){let Ne=We(Pe),tt=Ou(Ne.data);R.fetchers.set(Pe,tt)}}function Dt(){let we=[],Pe=!1;for(let Ne of V){let tt=R.fetchers.get(Ne);hn(tt,`Expected fetcher: ${Ne}`),tt.state==="loading"&&(V.delete(Ne),we.push(Ne),Pe=!0)}return fn(we),Pe}function $n(we){let Pe=[];for(let[Ne,tt]of Z)if(tt<we){let lt=R.fetchers.get(Ne);hn(lt,`Expected fetcher: ${Ne}`),lt.state==="loading"&&(It(Ne),Z.delete(Ne),Pe.push(Ne))}return fn(Pe),Pe.length>0}function or(we,Pe){let Ne=R.blockers.get(we)||O0;return Y.get(we)!==Pe&&Y.set(we,Pe),Ne}function Cn(we){R.blockers.delete(we),Y.delete(we)}function yr(we,Pe){let Ne=R.blockers.get(we)||O0;hn(Ne.state==="unblocked"&&Pe.state==="blocked"||Ne.state==="blocked"&&Pe.state==="blocked"||Ne.state==="blocked"&&Pe.state==="proceeding"||Ne.state==="blocked"&&Pe.state==="unblocked"||Ne.state==="proceeding"&&Pe.state==="unblocked",`Invalid blocker state transition: ${Ne.state} -> ${Pe.state}`);let tt=new Map(R.blockers);tt.set(we,Pe),De({blockers:tt})}function br({currentLocation:we,nextLocation:Pe,historyAction:Ne}){if(Y.size===0)return;Y.size>1&&Or(!1,"A router only supports one blocker at a time");let tt=Array.from(Y.entries()),[lt,Et]=tt[tt.length-1],At=R.blockers.get(lt);if(!(At&&At.state==="proceeding")&&Et({currentLocation:we,nextLocation:Pe,historyAction:Ne}))return lt}function Vs(we){let Pe=oa(404,{pathname:we}),Ne=a||o,{matches:tt,route:lt}=QB(Ne);return{notFoundMatches:tt,route:lt,error:Pe}}function No(we,Pe,Ne){if(g=we,y=Pe,v=Ne||null,!C&&R.navigation===A_){C=!0;let tt=Ci(R.location,R.matches);tt!=null&&De({restoreScrollPosition:tt})}return()=>{g=null,y=null,v=null}}function Li(we,Pe){return v&&v(we,Pe.map(tt=>rie(tt,R.loaderData)))||we.key}function di(we,Pe){if(g&&y){let Ne=Li(we,Pe);g[Ne]=y()}}function Ci(we,Pe){if(g){let Ne=Li(we,Pe),tt=g[Ne];if(typeof tt=="number")return tt}return null}function Bi(we,Pe,Ne){if(e.patchRoutesOnNavigation)if(we){if(Object.keys(we[0].params).length>0)return{active:!0,matches:Px(Pe,Ne,l,!0)}}else return{active:!0,matches:Px(Pe,Ne,l,!0)||[]};return{active:!1,matches:null}}async function Lo(we,Pe,Ne,tt){if(!e.patchRoutesOnNavigation)return{type:"success",matches:we};let lt=we;for(;;){let Et=a==null,At=a||o,Rt=s;try{await e.patchRoutesOnNavigation({signal:Ne,path:Pe,matches:lt,fetcherKey:tt,patch:(ne,ie)=>{Ne.aborted||UB(ne,ie,At,Rt,i,!1)}})}catch(ne){return{type:"error",error:ne,partialMatches:lt}}finally{Et&&!Ne.aborted&&(o=[...o])}if(Ne.aborted)return{type:"aborted"};let K=Vu(At,Pe,l);if(K)return{type:"success",matches:K};let ae=Px(At,Pe,l,!0);if(!ae||lt.length===ae.length&&lt.every((ne,ie)=>ne.route.id===ae[ie].route.id))return{type:"success",matches:null};lt=ae}}function Bo(we){s={},a=ey(we,i,void 0,s)}function Za(we,Pe,Ne=!1){let tt=a==null;UB(we,Pe,a||o,s,i,Ne),tt&&(o=[...o],De({}))}return D={get basename(){return l},get future(){return u},get state(){return R},get routes(){return o},get window(){return t},initialize:He,subscribe:Te,enableScrollRestoration:No,navigate:ue,fetch:ve,revalidate:St,createHref:we=>e.history.createHref(we),encodeLocation:we=>e.history.encodeLocation(we),getFetcher:We,deleteFetcher:bt,dispose:Re,getBlocker:or,deleteBlocker:Cn,patchRoutes:Za,_internalFetchControllers:re,_internalSetRoutes:Bo,_internalSetStateDoNotUseOrYouWillBreakYourApp(we){De(we)}},D}function Pie(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Nk(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=X1(r||".",Y1(o),ya(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=xF(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let u=new URLSearchParams(l.search),h=u.getAll("index");u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=mie({basename:n,pathname:l.pathname})),od(l)}function HB(e,t,n){if(!n||!Pie(n))return{path:t};if(n.formMethod&&!zie(n.formMethod))return{path:t,error:oa(405,{method:n.formMethod})};let r=()=>({path:t,error:oa(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=Zz(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!qs(s))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[g,v])=>`${p}${g}=${v}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!qs(s))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}hn(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=Vk(n.formData),l=n.formData;else if(n.body instanceof FormData)a=Vk(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=qB(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=qB(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(qs(c.formMethod))return{path:t,submission:c};let u=Zc(t);return e&&u.search&&xF(u.search)&&a.append("index",""),u.search=`?${a}`,{path:od(u),submission:c}}function GB(e,t,n,r,i,s,o,a,l,c,u,h,p,g,v,y,C,b,E,x){let k=x?go(x[1])?x[1].error:x[1].data:void 0,D=i.createURL(s.location),R=i.createURL(l),_;if(u&&s.errors){let L=Object.keys(s.errors)[0];_=o.findIndex(H=>H.route.id===L)}else if(x&&go(x[1])){let L=x[0];_=o.findIndex(H=>H.route.id===L)-1}let I=x?x[1].statusCode:void 0,F=I&&I>=400,N={currentUrl:D,currentParams:s.matches[0]?.params||{},nextUrl:R,nextParams:o[0].params,...a,actionResult:k,actionStatus:I},B=o.map((L,H)=>{let{route:ee}=L,re=null;if(_!=null&&H>_?re=!1:ee.lazy?re=!0:ee.loader==null?re=!1:u?re=Lk(ee,s.loaderData,s.errors):Fie(s.loaderData,s.matches[H],L)&&(re=!0),re!==null)return Bk(n,r,e,L,c,t,re);let te=F?!1:h||D.pathname+D.search===R.pathname+R.search||D.search!==R.search||Iie(s.matches[H],L),he={...N,defaultShouldRevalidate:te},Z=mS(L,he);return Bk(n,r,e,L,c,t,Z,he)}),M=[];return v.forEach((L,H)=>{if(u||!o.some(z=>z.route.id===L.routeId)||g.has(H))return;let ee=s.fetchers.get(H),re=ee&&ee.state!=="idle"&&ee.data===void 0,te=Vu(C,L.path,b);if(!te){if(E&&re)return;M.push({key:H,routeId:L.routeId,path:L.path,matches:null,match:null,request:null,controller:null});return}if(y.has(H))return;let he=Fx(te,L.path),Z=new AbortController,V=Gp(i,L.path,Z.signal),X=null;if(p.has(H))p.delete(H),X=sg(n,r,V,te,he,c,t);else if(re)h&&(X=sg(n,r,V,te,he,c,t));else{let z={...N,defaultShouldRevalidate:F?!1:h};mS(he,z)&&(X=sg(n,r,V,te,he,c,t,z))}X&&M.push({key:H,routeId:L.routeId,path:L.path,matches:X,match:he,request:V,controller:Z})}),{dsMatches:B,revalidatingFetchers:M}}function Lk(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function Fie(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function Iie(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function mS(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function UB(e,t,n,r,i,s){let o;if(e){let c=r[e];hn(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let u=o.find(h=>qz(c,h));u?l.push({existingRoute:u,newRoute:c}):a.push(c)}),a.length>0){let c=ey(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:u,newRoute:h}=l[c],p=u,[g]=ey([h],i,[],{},!0);Object.assign(p,{element:g.element?g.element:p.element,errorElement:g.errorElement?g.errorElement:p.errorElement,hydrateFallbackElement:g.hydrateFallbackElement?g.hydrateFallbackElement:p.hydrateFallbackElement})}}function qz(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>qz(n,i))):!1}var zB=new WeakMap,Kz=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(hn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=zB.get(i);o||(o={},zB.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=Jre(e),h=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Or(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(h)Or(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await s();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},jB=new WeakMap;function Mie(e,t,n,r,i){let s=n[e.id];if(hn(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let u=jB.get(s);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let h=(async()=>{hn(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),g={};for(let v in p){let y=p[v];if(y===void 0)continue;let C=tie(v),E=s[v]!==void 0&&v!=="hasErrorBoundary";C?Or(!C,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?Or(!E,`Route "${s.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):g[v]=y}Object.assign(s,g),Object.assign(s,{...r(s),lazy:void 0})})();return jB.set(s,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(e.lazy),a=[],l;for(let u of o){if(i&&i.includes(u))continue;let h=Kz({key:u,route:e,manifest:n,mapRouteProperties:r});h&&(a.push(h),u===t&&(l=h))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function WB(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function Oie(e){return e.matches.some(t=>t.route.unstable_middleware)?Yz(e,!1,()=>WB(e),(t,n)=>({[n]:{type:"error",result:t}})):WB(e)}async function Yz(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let c=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(p=>[h.route.id,p]):[]),u=await Xz({request:s,params:o,context:a},c,t,l,n);return t?u:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let u=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,u):u}}async function Xz(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,c]=a,u=!1,h,p=async()=>{if(u)throw new Error("You may only call `next()` once per middleware");u=!0,await Xz(e,t,n,r,i,s+1)};try{let g=await c({request:e.request,params:e.params,context:e.context},p);return u?g===void 0?h:g:p()}catch(g){throw r.middlewareError?r.middlewareError.error!==g&&(r.middlewareError={routeId:l,error:g}):r.middlewareError={routeId:l,error:g},g}}function Qz(e,t,n,r,i){let s=Kz({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=Mie(r.route,qs(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Bk(e,t,n,r,i,s,o,a=null){let l=!1,c=Qz(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(u){return l=!0,a?typeof u=="boolean"?mS(r,{...a,defaultShouldRevalidate:u}):mS(r,a):o},resolve(u){return l||o||u&&!qs(n.method)&&(r.route.lazy||r.route.loader)?Lie({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:u,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function sg(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:Qz(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Bk(e,t,n,l,s,o,!0,a))}async function Nie(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let u=o;return Yz(u,!1,()=>c({...u,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,p)=>({[p]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function Lie({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=qs(e.method),c=l?"action":"loader",u=h=>{let p,g=new Promise((C,b)=>p=b);a=()=>p(),e.signal.addEventListener("abort",a);let v=C=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:s},...C!==void 0?[C]:[]),y=(async()=>{try{return{type:"data",result:await(i?i(b=>v(b)):v())}}catch(C){return{type:"error",result:C}}})();return Promise.race([y,g])};try{let h=l?t.route.action:t.route.loader;if(n||r)if(h){let p,[g]=await Promise.all([u(h).catch(v=>{p=v}),n,r]);if(p!==void 0)throw p;o=g}else{await n;let p=l?t.route.action:t.route.loader;if(p)[o]=await Promise.all([u(p),r]);else if(c==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw oa(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)o=await u(h);else{let p=new URL(e.url),g=p.pathname+p.search;throw oa(404,{pathname:g})}}catch(h){return{type:"error",result:h}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Bie(e){let{result:t,type:n}=e;if(Jz(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new gS(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?ZB(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new gS(t.init?.status||500,void 0,t.data),statusCode:ty(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ty(t)?t.status:void 0}:ZB(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Vie(e,t,n,r,i){let s=e.headers.get("Location");if(hn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!bF(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=Nk(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function $B(e,t,n){if(bF(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=ya(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Gp(e,t,n,r){let i=e.createURL(Zz(t)).toString(),s={signal:n};if(r&&qs(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Vk(r.formData):s.body=r.formData}return new Request(i,s)}function Vk(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function qB(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Hie(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},u=n&&go(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let p=h.route.id,g=t[p];if(hn(!Sh(g),"Cannot handle redirect results in processLoaderData"),go(g)){let v=g.error;if(u!==void 0&&(v=u,u=void 0),o=o||{},i)o[p]=v;else{let y=Ch(e,p);o[y.route.id]==null&&(o[y.route.id]=v)}r||(s[p]=$z),l||(l=!0,a=ty(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else s[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)}),u!==void 0&&n&&(o={[n[0]]:u},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function KB(e,t,n,r,i,s){let{loaderData:o,errors:a}=Hie(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:u,controller:h}=l,p=s[c];if(hn(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(go(p)){let g=Ch(e.matches,u?.route.id);a&&a[g.route.id]||(a={...a,[g.route.id]:p.error}),e.fetchers.delete(c)}else if(Sh(p))hn(!1,"Unhandled fetcher revalidation redirect");else{let g=Ou(p.data);e.fetchers.set(c,g)}}),{loaderData:o,errors:a}}function YB(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==$z).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function XB(e){return e?go(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ch(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function QB(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function oa(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new gS(e||500,o,new Error(a),!0)}function Ib(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Sh(i))return{key:r,result:i}}}function Zz(e){let t=typeof e=="string"?Zc(e):e;return od({...t,hash:""})}function Gie(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Uie(e){return Jz(e.result)&&Tie.has(e.result.status)}function go(e){return e.type==="error"}function Sh(e){return(e&&e.type)==="redirect"}function ZB(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Jz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function zie(e){return Eie.has(e.toUpperCase())}function qs(e){return xie.has(e.toUpperCase())}function xF(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Fx(e,t){let n=typeof t=="string"?Zc(t).search:t.search;if(e[e.length-1].route.index&&xF(n||""))return e[e.length-1];let r=zz(e);return r[r.length-1]}function JB(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function k_(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jie(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function N0(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Wie(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ou(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $ie(e,t){try{let n=e.sessionStorage.getItem(Wz);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function qie(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Wz,JSON.stringify(n))}catch(r){Or(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Kie(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Rf=A.createContext(null);Rf.displayName="DataRouter";var Cw=A.createContext(null);Cw.displayName="DataRouterState";A.createContext(!1);var SF=A.createContext({isTransitioning:!1});SF.displayName="ViewTransition";var e9=A.createContext(new Map);e9.displayName="Fetchers";var Yie=A.createContext(null);Yie.displayName="Await";var qa=A.createContext(null);qa.displayName="Navigation";var Q1=A.createContext(null);Q1.displayName="Location";var Ea=A.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var EF=A.createContext(null);EF.displayName="RouteError";function Xie(e,{relative:t}={}){hn(om(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(qa),{hash:i,pathname:s,search:o}=bw(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:_l([n,s])),r.createHref({pathname:a,search:o,hash:i})}function om(){return A.useContext(Q1)!=null}function Ql(){return hn(om(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Q1).location}var t9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n9(e){A.useContext(qa).static||A.useLayoutEffect(e)}function Z1(){let{isDataRoute:e}=A.useContext(Ea);return e?dse():Qie()}function Qie(){hn(om(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(Rf),{basename:t,navigator:n}=A.useContext(qa),{matches:r}=A.useContext(Ea),{pathname:i}=Ql(),s=JSON.stringify(Y1(r)),o=A.useRef(!1);return n9(()=>{o.current=!0}),A.useCallback((l,c={})=>{if(Or(o.current,t9),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=X1(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:_l([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,s,i,e])}var Zie=A.createContext(null);function Jie(e){let t=A.useContext(Ea).outlet;return t&&A.createElement(Zie.Provider,{value:e},t)}function r9(){let{matches:e}=A.useContext(Ea),t=e[e.length-1];return t?t.params:{}}function bw(e,{relative:t}={}){let{matches:n}=A.useContext(Ea),{pathname:r}=Ql(),i=JSON.stringify(Y1(n));return A.useMemo(()=>X1(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function ese(e,t,n,r){hn(om(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(qa),{matches:s}=A.useContext(Ea),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let b=u&&u.path||"";i9(l,!u||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=Ql(),p;p=h;let g=p.pathname||"/",v=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=Vu(e,{pathname:v});return Or(u||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Or(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sse(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:_l([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:_l([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r)}function tse(){let e=use(),t=ty(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,o)}var nse=A.createElement(tse,null),rse=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(Ea.Provider,{value:this.props.routeContext},A.createElement(EF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ise({routeContext:e,match:t,children:n}){let r=A.useContext(Rf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Ea.Provider,{value:e},n)}function sse(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);hn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:h}=n,p=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let h,p=!1,g=null,v=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||nse,o&&(a<0&&u===0?(i9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):a===u&&(p=!0,v=c.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,u+1)),C=()=>{let b;return h?b=g:p?b=v:c.route.Component?b=A.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,A.createElement(ise,{match:c,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?A.createElement(rse,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:C(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):C()},null)}function TF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ose(e){let t=A.useContext(Rf);return hn(t,TF(e)),t}function ase(e){let t=A.useContext(Cw);return hn(t,TF(e)),t}function lse(e){let t=A.useContext(Ea);return hn(t,TF(e)),t}function RF(e){let t=lse(e),n=t.matches[t.matches.length-1];return hn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cse(){return RF("useRouteId")}function use(){let e=A.useContext(EF),t=ase("useRouteError"),n=RF("useRouteError");return e!==void 0?e:t.errors?.[n]}function dse(){let{router:e}=ose("useNavigate"),t=RF("useNavigate"),n=A.useRef(!1);return n9(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{Or(n.current,t9),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var e3={};function i9(e,t,n){!t&&!e3[e]&&(e3[e]=!0,Or(!1,n))}var t3={};function n3(e,t){!e&&!t3[t]&&(t3[t]=!0,console.warn(t))}function hse(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Or(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:A.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Or(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:A.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Or(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:A.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var fse=["HydrateFallback","hydrateFallbackElement"],pse=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function gse({router:e,flushSync:t}){let[n,r]=A.useState(e.state),[i,s]=A.useState(),[o,a]=A.useState({isTransitioning:!1}),[l,c]=A.useState(),[u,h]=A.useState(),[p,g]=A.useState(),v=A.useRef(new Map),y=A.useCallback((x,{deletedFetchers:k,flushSync:D,viewTransitionOpts:R})=>{x.fetchers.forEach((I,F)=>{I.data!==void 0&&v.current.set(F,I.data)}),k.forEach(I=>v.current.delete(I)),n3(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(n3(R==null||_,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!_){t&&D?t(()=>r(x)):A.startTransition(()=>r(x));return}if(t&&D){t(()=>{u&&(l&&l.resolve(),u.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let I=e.window.document.startViewTransition(()=>{t(()=>r(x))});I.finished.finally(()=>{t(()=>{c(void 0),h(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>h(I));return}u?(l&&l.resolve(),u.skipTransition(),g({state:x,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(s(x),a({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[e.window,t,u,l]);A.useLayoutEffect(()=>e.subscribe(y),[e,y]),A.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new pse)},[o]),A.useEffect(()=>{if(l&&i&&e.window){let x=i,k=l.promise,D=e.window.document.startViewTransition(async()=>{A.startTransition(()=>r(x)),await k});D.finished.finally(()=>{c(void 0),h(void 0),s(void 0),a({isTransitioning:!1})}),h(D)}},[i,l,e.window]),A.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,u,n.location,i]),A.useEffect(()=>{!o.isTransitioning&&p&&(s(p.state),a({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[o.isTransitioning,p]);let C=A.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:x=>e.navigate(x),push:(x,k,D)=>e.navigate(x,{state:k,preventScrollReset:D?.preventScrollReset}),replace:(x,k,D)=>e.navigate(x,{replace:!0,state:k,preventScrollReset:D?.preventScrollReset})}),[e]),b=e.basename||"/",E=A.useMemo(()=>({router:e,navigator:C,static:!1,basename:b}),[e,C,b]);return A.createElement(A.Fragment,null,A.createElement(Rf.Provider,{value:E},A.createElement(Cw.Provider,{value:n},A.createElement(e9.Provider,{value:v.current},A.createElement(SF.Provider,{value:o},A.createElement(wse,{basename:b,location:n.location,navigationType:n.historyAction,navigator:C},A.createElement(mse,{routes:e.routes,future:e.future,state:n})))))),null)}var mse=A.memo(vse);function vse({routes:e,future:t,state:n}){return ese(e,void 0,n,t)}function og({to:e,replace:t,state:n,relative:r}){hn(om(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(qa);Or(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Ea),{pathname:o}=Ql(),a=Z1(),l=X1(e,Y1(s),o,r==="path"),c=JSON.stringify(l);return A.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function yse(e){return Jie(e.context)}function wse({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){hn(!om(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Zc(n));let{pathname:l="/",search:c="",hash:u="",state:h=null,key:p="default"}=n,g=A.useMemo(()=>{let v=ya(l,o);return v==null?null:{location:{pathname:v,search:c,hash:u,state:h,key:p},navigationType:r}},[o,l,c,u,h,p,r]);return Or(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:A.createElement(qa.Provider,{value:a},A.createElement(Q1.Provider,{children:t,value:g}))}var Ix="get",Mx="application/x-www-form-urlencoded";function J1(e){return e!=null&&typeof e.tagName=="string"}function Cse(e){return J1(e)&&e.tagName.toLowerCase()==="button"}function bse(e){return J1(e)&&e.tagName.toLowerCase()==="form"}function xse(e){return J1(e)&&e.tagName.toLowerCase()==="input"}function Sse(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ese(e,t){return e.button===0&&(!t||t==="_self")&&!Sse(e)}var Mb=null;function Tse(){if(Mb===null)try{new FormData(document.createElement("form"),0),Mb=!1}catch{Mb=!0}return Mb}var Rse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D_(e){return e!=null&&!Rse.has(e)?(Or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mx}"`),null):e}function _se(e,t){let n,r,i,s,o;if(bse(e)){let a=e.getAttribute("action");r=a?ya(a,t):null,n=e.getAttribute("method")||Ix,i=D_(e.getAttribute("enctype"))||Mx,s=new FormData(e)}else if(Cse(e)||xse(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?ya(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ix,i=D_(e.getAttribute("formenctype"))||D_(a.getAttribute("enctype"))||Mx,s=new FormData(a,e),!Tse()){let{name:c,type:u,value:h}=e;if(u==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(J1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ix,r=null,i=Mx,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _F(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ase(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ya(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kse(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dse(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Pse(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await kse(s,n);return o.links?o.links():[]}return[]}));return Ose(r.flat(1).filter(Dse).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function r3(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Fse(e,t,{includeHydrateFallback:n}={}){return Ise(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Ise(e){return[...new Set(e)]}function Mse(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Ose(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Mse(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function s9(){let e=A.useContext(Rf);return _F(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Nse(){let e=A.useContext(Cw);return _F(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var AF=A.createContext(void 0);AF.displayName="FrameworkContext";function o9(){let e=A.useContext(AF);return _F(e,"You must render this element inside a <HydratedRouter> element"),e}function Lse(e,t){let n=A.useContext(AF),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=t,p=A.useRef(null);A.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=b=>{b.forEach(E=>{o(E.isIntersecting)})},C=new IntersectionObserver(y,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[e]),A.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:L0(a,g),onBlur:L0(l,v),onMouseEnter:L0(c,g),onMouseLeave:L0(u,v),onTouchStart:L0(h,g)}]:[!1,p,{}]}function L0(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Bse({page:e,...t}){let{router:n}=s9(),r=A.useMemo(()=>Vu(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(Hse,{page:e,matches:r,...t}):null}function Vse(e){let{manifest:t,routeModules:n}=o9(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return Pse(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function Hse({page:e,matches:t,...n}){let r=Ql(),{manifest:i,routeModules:s}=o9(),{basename:o}=s9(),{loaderData:a,matches:l}=Nse(),c=A.useMemo(()=>r3(e,t,l,i,r,"data"),[e,t,l,i,r]),u=A.useMemo(()=>r3(e,t,l,i,r,"assets"),[e,t,l,i,r]),h=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(t.forEach(b=>{let E=i.routes[b.route.id];!E||!E.hasLoader||(!c.some(x=>x.route.id===b.route.id)&&b.route.id in a&&s[b.route.id]?.shouldRevalidate||E.hasClientLoader?y=!0:v.add(b.route.id))}),v.size===0)return[];let C=Ase(e,o,"data");return y&&v.size>0&&C.searchParams.set("_routes",t.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,c,t,e,s]),p=A.useMemo(()=>Fse(u,i),[u,i]),g=Vse(u);return A.createElement(A.Fragment,null,h.map(v=>A.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>A.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:y})=>A.createElement("link",{key:v,...y})))}function Gse(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var a9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a9&&(window.__reactRouterVersion="7.7.1")}catch{}function Use(e,t){return Die({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Yre({window:t?.window}),hydrationData:zse(),routes:e,mapRouteProperties:hse,hydrationRouteProperties:fse,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function zse(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:jse(e.errors)}),e}function jse(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new gS(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var l9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kF=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h,...p},g){let{basename:v}=A.useContext(qa),y=typeof c=="string"&&l9.test(c),C,b=!1;if(typeof c=="string"&&y&&(C=c,a9))try{let F=new URL(window.location.href),N=c.startsWith("//")?new URL(F.protocol+c):new URL(c),B=ya(N.pathname,v);N.origin===F.origin&&B!=null?c=B+N.search+N.hash:b=!0}catch{Or(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Xie(c,{relative:i}),[x,k,D]=Lse(r,p),R=Kse(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function _(F){t&&t(F),F.defaultPrevented||R(F)}let I=A.createElement("a",{...p,...D,href:C||E,onClick:b||s?t:_,ref:Gse(g,k),target:l,"data-discover":!y&&n==="render"?"true":void 0});return x&&!y?A.createElement(A.Fragment,null,I,A.createElement(Bse,{page:E})):I});kF.displayName="Link";var Wse=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let h=bw(o,{relative:c.relative}),p=Ql(),g=A.useContext(Cw),{navigator:v,basename:y}=A.useContext(qa),C=g!=null&&Jse(h)&&a===!0,b=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,E=p.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(E=E.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=ya(x,y)||x);const k=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let D=E===b||!i&&E.startsWith(b)&&E.charAt(k)==="/",R=x!=null&&(x===b||!i&&x.startsWith(b)&&x.charAt(b.length)==="/"),_={isActive:D,isPending:R,isTransitioning:C},I=D?t:void 0,F;typeof r=="function"?F=r(_):F=[r,D?"active":null,R?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(_):s;return A.createElement(kF,{...c,"aria-current":I,className:F,ref:u,style:N,to:o,viewTransition:a},typeof l=="function"?l(_):l)});Wse.displayName="NavLink";var $se=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Ix,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,...p},g)=>{let v=Qse(),y=Zse(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&l9.test(a),E=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let k=x.nativeEvent.submitter,D=k?.getAttribute("formmethod")||o;v(k||x.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:h})};return A.createElement("form",{ref:g,method:C,action:y,onSubmit:r?l:E,...p,"data-discover":!b&&e==="render"?"true":void 0})});$se.displayName="Form";function qse(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c9(e){let t=A.useContext(Rf);return hn(t,qse(e)),t}function Kse(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Z1(),l=Ql(),c=bw(e,{relative:s});return A.useCallback(u=>{if(Ese(u,t)){u.preventDefault();let h=n!==void 0?n:od(l)===od(c);a(e,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var Yse=0,Xse=()=>`__${String(++Yse)}__`;function Qse(){let{router:e}=c9("useSubmit"),{basename:t}=A.useContext(qa),n=cse();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=_se(r,t);if(i.navigate===!1){let u=i.fetcherKey||Xse();await e.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Zse(e,{relative:t}={}){let{basename:n}=A.useContext(qa),r=A.useContext(Ea);hn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...bw(e||".",{relative:t})},o=Ql();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let u=a.toString();s.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:_l([n,s.pathname])),od(s)}function Jse(e,{relative:t}={}){let n=A.useContext(SF);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c9("useViewTransitionState"),i=bw(e,{relative:t});if(!n.isTransitioning)return!1;let s=ya(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ya(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pS(i.pathname,o)!=null||pS(i.pathname,s)!=null}var am=Bz();const qu=Tf(am);function eoe(e){return A.createElement(gse,{flushSync:am.flushSync,...e})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $r=function(){return $r=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$r.apply(this,arguments)};function Qh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vs(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hk.apply(this,arguments)}function DF(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var toe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,noe=DF(function(e){return toe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function roe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ioe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var soe=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ioe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=roe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),os="-ms-",vS="-moz-",Ln="-webkit-",u9="comm",PF="rule",FF="decl",ooe="@import",d9="@keyframes",aoe=Math.abs,eE=String.fromCharCode,loe=Object.assign;function coe(e,t){return qi(e,0)^45?(((t<<2^qi(e,0))<<2^qi(e,1))<<2^qi(e,2))<<2^qi(e,3):0}function h9(e){return e.trim()}function uoe(e,t){return(e=t.exec(e))?e[0]:e}function Un(e,t,n){return e.replace(t,n)}function Gk(e,t){return e.indexOf(t)}function qi(e,t){return e.charCodeAt(t)|0}function ny(e,t,n){return e.slice(t,n)}function yl(e){return e.length}function IF(e){return e.length}function Ob(e,t){return t.push(e),e}function doe(e,t){return e.map(t).join("")}var tE=1,Dg=1,f9=0,eo=0,ai=0,lm="";function nE(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:tE,column:Dg,length:o,return:""}}function B0(e,t){return loe(nE("",null,null,"",null,null,0),e,{length:-e.length},t)}function hoe(){return ai}function foe(){return ai=eo>0?qi(lm,--eo):0,Dg--,ai===10&&(Dg=1,tE--),ai}function Ao(){return ai=eo<f9?qi(lm,eo++):0,Dg++,ai===10&&(Dg=1,tE++),ai}function Al(){return qi(lm,eo)}function Ox(){return eo}function xw(e,t){return ny(lm,e,t)}function ry(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function p9(e){return tE=Dg=1,f9=yl(lm=e),eo=0,[]}function g9(e){return lm="",e}function Nx(e){return h9(xw(eo-1,Uk(e===91?e+2:e===40?e+1:e)))}function poe(e){for(;(ai=Al())&&ai<33;)Ao();return ry(e)>2||ry(ai)>3?"":" "}function goe(e,t){for(;--t&&Ao()&&!(ai<48||ai>102||ai>57&&ai<65||ai>70&&ai<97););return xw(e,Ox()+(t<6&&Al()==32&&Ao()==32))}function Uk(e){for(;Ao();)switch(ai){case e:return eo;case 34:case 39:e!==34&&e!==39&&Uk(ai);break;case 40:e===41&&Uk(e);break;case 92:Ao();break}return eo}function moe(e,t){for(;Ao()&&e+ai!==57;)if(e+ai===84&&Al()===47)break;return"/*"+xw(t,eo-1)+"*"+eE(e===47?e:Ao())}function voe(e){for(;!ry(Al());)Ao();return xw(e,eo)}function i3(e){return g9(Lx("",null,null,null,[""],e=p9(e),0,[0],e))}function Lx(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,p=0,g=0,v=0,y=1,C=1,b=1,E=0,x="",k=i,D=s,R=r,_=x;C;)switch(v=E,E=Ao()){case 40:if(v!=108&&qi(_,h-1)==58){Gk(_+=Un(Nx(E),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:_+=Nx(E);break;case 9:case 10:case 13:case 32:_+=poe(v);break;case 92:_+=goe(Ox()-1,7);continue;case 47:switch(Al()){case 42:case 47:Ob(yoe(moe(Ao(),Ox()),t,n),l);break;default:_+="/"}break;case 123*y:a[c++]=yl(_)*b;case 125*y:case 59:case 0:switch(E){case 0:case 125:C=0;case 59+u:g>0&&yl(_)-h&&Ob(g>32?o3(_+";",r,n,h-1):o3(Un(_," ","")+";",r,n,h-2),l);break;case 59:_+=";";default:if(Ob(R=s3(_,t,n,c,u,i,a,x,k=[],D=[],h),s),E===123)if(u===0)Lx(_,t,R,R,k,s,h,a,D);else switch(p===99&&qi(_,3)===110?100:p){case 100:case 109:case 115:Lx(e,R,R,r&&Ob(s3(e,R,R,0,0,i,a,x,i,k=[],h),D),i,D,h,a,r?k:D);break;default:Lx(_,R,R,R,[""],D,0,a,D)}}c=u=g=0,y=b=1,x=_="",h=o;break;case 58:h=1+yl(_),g=v;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&foe()==125)continue}switch(_+=eE(E),E*y){case 38:b=u>0?1:(_+="\f",-1);break;case 44:a[c++]=(yl(_)-1)*b,b=1;break;case 64:Al()===45&&(_+=Nx(Ao())),p=Al(),u=h=yl(x=_+=voe(Ox())),E++;break;case 45:v===45&&yl(_)==2&&(y=0)}}return s}function s3(e,t,n,r,i,s,o,a,l,c,u){for(var h=i-1,p=i===0?s:[""],g=IF(p),v=0,y=0,C=0;v<r;++v)for(var b=0,E=ny(e,h+1,h=aoe(y=o[v])),x=e;b<g;++b)(x=h9(y>0?p[b]+" "+E:Un(E,/&\f/g,p[b])))&&(l[C++]=x);return nE(e,t,n,i===0?PF:a,l,c,u)}function yoe(e,t,n){return nE(e,t,n,u9,eE(hoe()),ny(e,2,-2),0)}function o3(e,t,n,r){return nE(e,t,n,FF,ny(e,0,r),ny(e,r+1,-1),r)}function Fh(e,t){for(var n="",r=IF(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function a3(e,t,n,r){switch(e.type){case ooe:case FF:return e.return=e.return||e.value;case u9:return"";case d9:return e.return=e.value+"{"+Fh(e.children,r)+"}";case PF:e.value=e.props.join(",")}return yl(n=Fh(e.children,r))?e.return=e.value+"{"+n+"}":""}function l3(e){var t=IF(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function woe(e){return function(t){t.root||(t=t.return)&&e(t)}}var Coe=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}},boe=function(t,n,r){for(var i=0,s=0;i=s,s=Al(),i===38&&s===12&&(n[r]=1),!ry(s);)Ao();return xw(t,eo)},xoe=function(t,n){var r=-1,i=44;do switch(ry(i)){case 0:i===38&&Al()===12&&(n[r]=1),t[r]+=boe(eo-1,n,r);break;case 2:t[r]+=Nx(i);break;case 4:if(i===44){t[++r]=Al()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=eE(i)}while(i=Ao());return t},Soe=function(t,n){return g9(xoe(p9(t),n))},c3=new WeakMap,Eoe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!c3.get(r))&&!i){c3.set(t,!0);for(var s=[],o=Soe(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Toe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function m9(e,t){switch(coe(e,t)){case 5103:return Ln+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ln+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ln+e+vS+e+os+e+e;case 6828:case 4268:return Ln+e+os+e+e;case 6165:return Ln+e+os+"flex-"+e+e;case 5187:return Ln+e+Un(e,/(\w+).+(:[^]+)/,Ln+"box-$1$2"+os+"flex-$1$2")+e;case 5443:return Ln+e+os+"flex-item-"+Un(e,/flex-|-self/,"")+e;case 4675:return Ln+e+os+"flex-line-pack"+Un(e,/align-content|flex-|-self/,"")+e;case 5548:return Ln+e+os+Un(e,"shrink","negative")+e;case 5292:return Ln+e+os+Un(e,"basis","preferred-size")+e;case 6060:return Ln+"box-"+Un(e,"-grow","")+Ln+e+os+Un(e,"grow","positive")+e;case 4554:return Ln+Un(e,/([^-])(transform)/g,"$1"+Ln+"$2")+e;case 6187:return Un(Un(Un(e,/(zoom-|grab)/,Ln+"$1"),/(image-set)/,Ln+"$1"),e,"")+e;case 5495:case 3959:return Un(e,/(image-set\([^]*)/,Ln+"$1$`$1");case 4968:return Un(Un(e,/(.+:)(flex-)?(.*)/,Ln+"box-pack:$3"+os+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ln+e+e;case 4095:case 3583:case 4068:case 2532:return Un(e,/(.+)-inline(.+)/,Ln+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yl(e)-1-t>6)switch(qi(e,t+1)){case 109:if(qi(e,t+4)!==45)break;case 102:return Un(e,/(.+:)(.+)-([^]+)/,"$1"+Ln+"$2-$3$1"+vS+(qi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Gk(e,"stretch")?m9(Un(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qi(e,t+1)!==115)break;case 6444:switch(qi(e,yl(e)-3-(~Gk(e,"!important")&&10))){case 107:return Un(e,":",":"+Ln)+e;case 101:return Un(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ln+(qi(e,14)===45?"inline-":"")+"box$3$1"+Ln+"$2$3$1"+os+"$2box$3")+e}break;case 5936:switch(qi(e,t+11)){case 114:return Ln+e+os+Un(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ln+e+os+Un(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ln+e+os+Un(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ln+e+os+e+e}return e}var Roe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case FF:t.return=m9(t.value,t.length);break;case d9:return Fh([B0(t,{value:Un(t.value,"@","@"+Ln)})],i);case PF:if(t.length)return doe(t.props,function(s){switch(uoe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fh([B0(t,{props:[Un(s,/:(read-\w+)/,":"+vS+"$1")]})],i);case"::placeholder":return Fh([B0(t,{props:[Un(s,/:(plac\w+)/,":"+Ln+"input-$1")]}),B0(t,{props:[Un(s,/:(plac\w+)/,":"+vS+"$1")]}),B0(t,{props:[Un(s,/:(plac\w+)/,os+"input-$1")]})],i)}return""})}},Bx=typeof document<"u",_oe=Bx?void 0:Coe(function(){return DF(function(){var e={};return function(t){return e[t]}})}),Aoe=[Roe],v9=function(t){var n=t.key;if(Bx&&n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var D=k.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=t.stylisPlugins||Aoe,s={},o,a=[];Bx&&(o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(k){for(var D=k.getAttribute("data-emotion").split(" "),R=1;R<D.length;R++)s[D[R]]=!0;a.push(k)}));var l,c=[Eoe,Toe];if(Bx){var u,h=[a3,woe(function(k){u.insert(k)})],p=l3(c.concat(i,h)),g=function(D){return Fh(i3(D),p)};l=function(D,R,_,I){u=_,g(D?D+"{"+R.styles+"}":R.styles),I&&(x.inserted[R.name]=!0)}}else{var v=[a3],y=l3(c.concat(i,v)),C=function(D){return Fh(i3(D),y)},b=_oe(i)(n),E=function(D,R){var _=R.name;return b[_]===void 0&&(b[_]=C(D?D+"{"+R.styles+"}":R.styles)),b[_]};l=function(D,R,_,I){var F=R.name,N=E(D,R);if(x.compat===void 0)return I&&(x.inserted[F]=!0),N;if(I)x.inserted[F]=N;else return N}}var x={key:n,sheet:new soe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return x.sheet.hydrate(a),x},koe=typeof document<"u",u3=function(t){return t()},Doe=A.useInsertionEffect?A.useInsertionEffect:!1,Poe=koe&&Doe||u3,Foe=typeof document<"u",yS=A.createContext(typeof HTMLElement<"u"?v9({key:"css"}):null);yS.Provider;var y9=function(t){return A.forwardRef(function(n,r){var i=A.useContext(yS);return t(n,i,r)})};Foe||(y9=function(t){return function(n){var r=A.useContext(yS);return r===null?(r=v9({key:"css"}),A.createElement(yS.Provider,{value:r},t(n,r))):t(n,r)}});var Ioe=A.createContext({}),zk=typeof document<"u";function Moe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var w9=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||zk===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Ooe=function(t,n,r){w9(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s="",o=n;do{var a=t.insert(n===o?"."+i:"",o,t.sheet,!0);!zk&&a!==void 0&&(s+=a),o=o.next}while(o!==void 0);if(!zk&&s.length!==0)return s}};function Noe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Loe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Boe=/[A-Z]|^ms/g,Voe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,C9=function(t){return t.charCodeAt(1)===45},d3=function(t){return t!=null&&typeof t!="boolean"},P_=DF(function(e){return C9(e)?e:e.replace(Boe,"-$&").toLowerCase()}),h3=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Voe,function(r,i,s){return wl={name:i,styles:s,next:wl},i})}return Loe[t]!==1&&!C9(t)&&typeof n=="number"&&n!==0?n+"px":n};function iy(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return wl={name:n.name,styles:n.styles,next:wl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)wl={name:r.name,styles:r.styles,next:wl},r=r.next;var i=n.styles+";";return i}return Hoe(e,t,n)}case"function":{if(e!==void 0){var s=wl,o=n(e);return wl=s,iy(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Hoe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=iy(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":d3(o)&&(r+=P_(s)+":"+h3(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)d3(o[a])&&(r+=P_(s)+":"+h3(s,o[a])+";");else{var l=iy(e,t,o);switch(s){case"animation":case"animationName":{r+=P_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var f3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,wl,Goe=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";wl=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=iy(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=iy(r,n,t[a]),i&&(s+=o[a]);f3.lastIndex=0;for(var l="",c;(c=f3.exec(s))!==null;)l+="-"+c[1];var u=Noe(s)+l;return{name:u,styles:s,next:wl}},Uoe=noe,zoe=function(t){return t!=="theme"},p3=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Uoe:zoe},g3=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},joe=typeof document<"u",Woe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;w9(n,r,i);var s=Poe(function(){return Ooe(n,r,i)});if(!joe&&s!==void 0){for(var o,a=r.name,l=r.next;l!==void 0;)a+=" "+l.name,l=l.next;return A.createElement("style",(o={},o["data-emotion"]=n.key+" "+a,o.dangerouslySetInnerHTML={__html:s},o.nonce=n.sheet.nonce,o))}return null},$oe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=g3(t,n,r),l=a||p3(i),c=!l("as");return function(){var u=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{h.push(u[0][0]);for(var p=u.length,g=1;g<p;g++)h.push(u[g],u[0][g])}var v=y9(function(y,C,b){var E=c&&y.as||i,x="",k=[],D=y;if(y.theme==null){D={};for(var R in y)D[R]=y[R];D.theme=A.useContext(Ioe)}typeof y.className=="string"?x=Moe(C.registered,k,y.className):y.className!=null&&(x=y.className+" ");var _=Goe(h.concat(k),C.registered,D);x+=C.key+"-"+_.name,o!==void 0&&(x+=" "+o);var I=c&&a===void 0?p3(E):l,F={};for(var N in y)c&&N==="as"||I(N)&&(F[N]=y[N]);return F.className=x,F.ref=b,A.createElement(A.Fragment,null,A.createElement(Woe,{cache:C,serialized:_,isStringTag:typeof E=="string"}),A.createElement(E,F))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,C){return e(y,Hk({},n,C,{shouldForwardProp:g3(v,C,!0)})).apply(void 0,h)},v}},qoe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Oi=$oe.bind();qoe.forEach(function(e){Oi[e]=Oi(e)});var b9={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(b9);var mi=b9.exports,x9=me.createContext(void 0),Koe=function(e){var t=e.children,n=me.useState({collapsed:!1,toggled:!1,broken:!1,rtl:!1,transitionDuration:300}),r=n[0],i=n[1],s=me.useCallback(function(c){i(function(u){return $r($r({},u),c)})},[]),o=me.useCallback(function(){i(function(c){return $r($r({},c),{collapsed:!c?.collapsed})})},[]),a=me.useCallback(function(){i(function(c){return $r($r({},c),{toggled:!c?.toggled})})},[]),l=me.useMemo(function(){return $r($r({},r),{updateSidebarState:s,updateCollapseState:o,updateToggleState:a})},[r,o,s,a]);return me.createElement(x9.Provider,{value:l},t)},S9=function(){var e=me.useContext(x9);return e},Yoe=function(e){var t=me.useState(!!e&&typeof window<"u"&&window.matchMedia(e).matches),n=t[0],r=t[1];return me.useEffect(function(){if(e){var i=window.matchMedia(e),s=function(){i.matches!==n&&r(i.matches)};return s(),i.addEventListener("change",s),function(){return i.removeEventListener("change",s)}}},[n,e]),n},Wr={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},Bn={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},Xoe=Oi.div(m3||(m3=vs([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),m3,Qoe={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},Zoe=Oi.aside(v3||(v3=vs([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")},function(e){var t=e.width;return t},function(e){var t=e.width;return t},Wr.collapsed,function(e){var t=e.collapsedWidth;return t},function(e){var t=e.collapsedWidth;return t},Wr.rtl,Wr.broken,function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")},Wr.collapsed,function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")},Wr.toggled,function(e){var t=e.rtl;return t?"":"left: 0;"},Wr.rtl,function(e){var t=e.width;return t},Wr.collapsed,function(e){var t=e.collapsedWidth;return t},Wr.toggled,function(e){var t=e.rootStyles;return t}),Joe=Oi.div(y3||(y3=vs([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""}),eae=Oi.img(w3||(w3=vs([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),Wr.image),rE=me.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),tae=me.forwardRef(function(e,t){var n,r=e.collapsed,i=e.toggled,s=e.onBackdropClick,o=e.onBreakPoint,a=e.width,l=a===void 0?"250px":a,c=e.collapsedWidth,u=c===void 0?"80px":c,h=e.defaultCollapsed,p=e.className,g=e.children,v=e.breakPoint,y=e.customBreakPoint,C=e.backgroundColor,b=C===void 0?"rgb(249, 249, 249, 0.7)":C,E=e.transitionDuration,x=E===void 0?300:E,k=e.image,D=e.rtl,R=e.rootStyles,_=Qh(e,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),I=function(){if(y)return"(max-width: ".concat(y,")");if(v)return["xs","sm","md","lg","xl","xxl"].includes(v)?"(max-width: ".concat(Qoe[v],")"):v==="always"||v==="all"?(v==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(v,")")},F=me.useRef();F.current=function(he){o?.(he)};var N=Yoe(I()),B=me.useState(!1),M=B[0],L=B[1],H=S9(),ee=r??(!M&&h?!0:H?.collapsed),re=i??H?.toggled,te=function(){s?.(),H?.updateSidebarState({toggled:!1})};return me.useEffect(function(){var he;(he=F.current)===null||he===void 0||he.call(F,N)},[N]),me.useEffect(function(){H?.updateSidebarState({broken:N,rtl:D,transitionDuration:x})},[N,H?.updateSidebarState,D,x]),me.useEffect(function(){M||(H?.updateSidebarState({collapsed:h}),L(!0))},[h,M,H?.updateSidebarState]),me.createElement(rE.Provider,{value:{collapsed:ee,toggled:re,rtl:D,transitionDuration:x}},me.createElement(Zoe,$r({ref:t,"data-testid":"".concat(Wr.root,"-test-id"),rtl:D,rootStyles:R,width:l,collapsedWidth:u,transitionDuration:x,className:mi(Wr.root,(n={},n[Wr.collapsed]=ee,n[Wr.toggled]=re,n[Wr.broken]=N,n[Wr.rtl]=D,n),p)},_),me.createElement(Joe,{"data-testid":"".concat(Wr.container,"-test-id"),className:Wr.container,backgroundColor:b},g),k&&me.createElement(eae,{"data-testid":"".concat(Wr.image,"-test-id"),src:k,alt:"sidebar background",className:Wr.image}),N&&re&&me.createElement(Xoe,{"data-testid":"".concat(Wr.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:te,onKeyPress:te,className:Wr.backdrop})))}),v3,y3,w3,E9=Oi.ul(C3||(C3=vs([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),C3,nae=Oi.nav(b3||(b3=vs([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),Bn.root,function(e){var t=e.rootStyles;return t}),T9=me.createContext(void 0),wS=me.createContext(0),rae=function(e,t){var n=e.children,r=e.className,i=e.transitionDuration,s=i===void 0?300:i,o=e.closeOnClick,a=o===void 0?!1:o,l=e.rootStyles,c=e.menuItemStyles,u=e.renderExpandIcon,h=Qh(e,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),p=me.useMemo(function(){return{transitionDuration:s,closeOnClick:a,menuItemStyles:c,renderExpandIcon:u}},[s,a,c,u]);return me.createElement(T9.Provider,{value:p},me.createElement(wS.Provider,{value:0},me.createElement(nae,$r({ref:t,className:mi(Bn.root,r),rootStyles:l},h),me.createElement(E9,null,n))))},iae=me.forwardRef(rae),b3,MF=function(){var e=me.useContext(T9);if(e===void 0)throw new Error("Menu Component is required!");return e},sae=Oi.div(x3||(x3=vs([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(e){var t=e.transitionDuration;return t},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(e){var t=e.defaultOpen;return t&&"height: auto;display: block;"},function(e){var t=e.collapsed,n=e.firstLevel,r=e.openWhenCollapsed;return t&&n?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(r?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(e){var t=e.rootStyles;return t}),oae=function(e,t){var n=e.children,r=e.open,i=e.openWhenCollapsed,s=e.firstLevel,o=e.collapsed,a=e.defaultOpen,l=Qh(e,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),c=MF().transitionDuration,u=me.useState(a)[0];return me.createElement(sae,$r({"data-testid":"".concat(Bn.subMenuContent,"-test-id"),ref:t,firstLevel:s,collapsed:o,open:r,openWhenCollapsed:i,transitionDuration:c,defaultOpen:u},l),me.createElement(E9,null,n))},aae=me.forwardRef(oae),x3,R9=Oi.span(S3||(S3=vs([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(e){var t=e.rootStyles;return t}),S3,_9=Oi.span(E3||(E3=vs([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 10px;":"margin-right: 10px;"},function(e){var t=e.rootStyles;return t}),E3,A9=Oi.span(T3||(T3=vs([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 5px;":"margin-right: 5px;"},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),T3,k9=Oi.span(R3||(R3=vs([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),R3,lae=Oi.span(_3||(_3=vs([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(e){var t=e.collapsed,n=e.level,r=e.rtl;return t&&n===0&&`
    position: absolute;
    `.concat(r?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(e){var t=e.rootStyles;return t}),cae=Oi.span(A3||(A3=vs([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(e){var t=e.rtl;return t?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"}),uae=Oi.span(k3||(k3=vs([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),_3,A3,k3,Xs="top",wa="bottom",Ca="right",Qs="left",OF="auto",Sw=[Xs,wa,Ca,Qs],Pg="start",sy="end",dae="clippingParents",D9="viewport",V0="popper",hae="reference",D3=Sw.reduce(function(e,t){return e.concat([t+"-"+Pg,t+"-"+sy])},[]),P9=[].concat(Sw,[OF]).reduce(function(e,t){return e.concat([t,t+"-"+Pg,t+"-"+sy])},[]),fae="beforeRead",pae="read",gae="afterRead",mae="beforeMain",vae="main",yae="afterMain",wae="beforeWrite",Cae="write",bae="afterWrite",xae=[fae,pae,gae,mae,vae,yae,wae,Cae,bae];function zl(e){return e?(e.nodeName||"").toLowerCase():null}function Ta(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zh(e){var t=Ta(e).Element;return e instanceof t||e instanceof Element}function pa(e){var t=Ta(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function NF(e){if(typeof ShadowRoot>"u")return!1;var t=Ta(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Sae(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!pa(s)||!zl(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Eae(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!pa(i)||!zl(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Tae={name:"applyStyles",enabled:!0,phase:"write",fn:Sae,effect:Eae,requires:["computeStyles"]};function kl(e){return e.split("-")[0]}var Ih=Math.max,CS=Math.min,Fg=Math.round;function jk(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function F9(){return!/^((?!chrome|android).)*safari/i.test(jk())}function Ig(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&pa(e)&&(i=e.offsetWidth>0&&Fg(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Fg(r.height)/e.offsetHeight||1);var o=Zh(e)?Ta(e):window,a=o.visualViewport,l=!F9()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,p=r.height/s;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c,x:c,y:u}}function LF(e){var t=Ig(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function I9(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&NF(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vc(e){return Ta(e).getComputedStyle(e)}function Rae(e){return["table","td","th"].indexOf(zl(e))>=0}function Rd(e){return((Zh(e)?e.ownerDocument:e.document)||window.document).documentElement}function iE(e){return zl(e)==="html"?e:e.assignedSlot||e.parentNode||(NF(e)?e.host:null)||Rd(e)}function P3(e){return!pa(e)||Vc(e).position==="fixed"?null:e.offsetParent}function _ae(e){var t=/firefox/i.test(jk()),n=/Trident/i.test(jk());if(n&&pa(e)){var r=Vc(e);if(r.position==="fixed")return null}var i=iE(e);for(NF(i)&&(i=i.host);pa(i)&&["html","body"].indexOf(zl(i))<0;){var s=Vc(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ew(e){for(var t=Ta(e),n=P3(e);n&&Rae(n)&&Vc(n).position==="static";)n=P3(n);return n&&(zl(n)==="html"||zl(n)==="body"&&Vc(n).position==="static")?t:n||_ae(e)||t}function BF(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vv(e,t,n){return Ih(e,CS(t,n))}function Aae(e,t,n){var r=vv(e,t,n);return r>n?n:r}function M9(){return{top:0,right:0,bottom:0,left:0}}function O9(e){return Object.assign({},M9(),e)}function N9(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var kae=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,O9(typeof t!="number"?t:N9(t,Sw))};function Dae(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=kl(n.placement),l=BF(a),c=[Qs,Ca].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=kae(i.padding,n),p=LF(s),g=l==="y"?Xs:Qs,v=l==="y"?wa:Ca,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],C=o[l]-n.rects.reference[l],b=Ew(s),E=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,x=y/2-C/2,k=h[g],D=E-p[u]-h[v],R=E/2-p[u]/2+x,_=vv(k,R,D),I=l;n.modifiersData[r]=(t={},t[I]=_,t.centerOffset=_-R,t)}}function Pae(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||I9(t.elements.popper,i)&&(t.elements.arrow=i))}var Fae={name:"arrow",enabled:!0,phase:"main",fn:Dae,effect:Pae,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mg(e){return e.split("-")[1]}var Iae={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mae(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Fg(t*i)/i||0,y:Fg(n*i)/i||0}}function F3(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,p=o.x,g=p===void 0?0:p,v=o.y,y=v===void 0?0:v,C=typeof u=="function"?u({x:g,y}):{x:g,y};g=C.x,y=C.y;var b=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),x=Qs,k=Xs,D=window;if(c){var R=Ew(n),_="clientHeight",I="clientWidth";if(R===Ta(n)&&(R=Rd(n),Vc(R).position!=="static"&&a==="absolute"&&(_="scrollHeight",I="scrollWidth")),R=R,i===Xs||(i===Qs||i===Ca)&&s===sy){k=wa;var F=h&&R===D&&D.visualViewport?D.visualViewport.height:R[_];y-=F-r.height,y*=l?1:-1}if(i===Qs||(i===Xs||i===wa)&&s===sy){x=Ca;var N=h&&R===D&&D.visualViewport?D.visualViewport.width:R[I];g-=N-r.width,g*=l?1:-1}}var B=Object.assign({position:a},c&&Iae),M=u===!0?Mae({x:g,y}):{x:g,y};if(g=M.x,y=M.y,l){var L;return Object.assign({},B,(L={},L[k]=E?"0":"",L[x]=b?"0":"",L.transform=(D.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",L))}return Object.assign({},B,(t={},t[k]=E?y+"px":"",t[x]=b?g+"px":"",t.transform="",t))}function Oae(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:kl(t.placement),variation:Mg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,F3(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,F3(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Nae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Oae,data:{}},Nb={passive:!0};function Lae(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Ta(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Nb)}),a&&l.addEventListener("resize",n.update,Nb),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Nb)}),a&&l.removeEventListener("resize",n.update,Nb)}}var Bae={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Lae,data:{}},Vae={left:"right",right:"left",bottom:"top",top:"bottom"};function Vx(e){return e.replace(/left|right|bottom|top/g,function(t){return Vae[t]})}var Hae={start:"end",end:"start"};function I3(e){return e.replace(/start|end/g,function(t){return Hae[t]})}function VF(e){var t=Ta(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function HF(e){return Ig(Rd(e)).left+VF(e).scrollLeft}function Gae(e,t){var n=Ta(e),r=Rd(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=F9();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+HF(e),y:l}}function Uae(e){var t,n=Rd(e),r=VF(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Ih(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ih(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+HF(e),l=-r.scrollTop;return Vc(i||n).direction==="rtl"&&(a+=Ih(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function GF(e){var t=Vc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function L9(e){return["html","body","#document"].indexOf(zl(e))>=0?e.ownerDocument.body:pa(e)&&GF(e)?e:L9(iE(e))}function yv(e,t){var n;t===void 0&&(t=[]);var r=L9(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ta(r),o=i?[s].concat(s.visualViewport||[],GF(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(yv(iE(o)))}function Wk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zae(e,t){var n=Ig(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function M3(e,t,n){return t===D9?Wk(Gae(e,n)):Zh(t)?zae(t,n):Wk(Uae(Rd(e)))}function jae(e){var t=yv(iE(e)),n=["absolute","fixed"].indexOf(Vc(e).position)>=0,r=n&&pa(e)?Ew(e):e;return Zh(r)?t.filter(function(i){return Zh(i)&&I9(i,r)&&zl(i)!=="body"}):[]}function Wae(e,t,n,r){var i=t==="clippingParents"?jae(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=M3(e,c,r);return l.top=Ih(u.top,l.top),l.right=CS(u.right,l.right),l.bottom=CS(u.bottom,l.bottom),l.left=Ih(u.left,l.left),l},M3(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function B9(e){var t=e.reference,n=e.element,r=e.placement,i=r?kl(r):null,s=r?Mg(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Xs:l={x:o,y:t.y-n.height};break;case wa:l={x:o,y:t.y+t.height};break;case Ca:l={x:t.x+t.width,y:a};break;case Qs:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?BF(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Pg:l[c]=l[c]-(t[u]/2-n[u]/2);break;case sy:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function oy(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?dae:a,c=n.rootBoundary,u=c===void 0?D9:c,h=n.elementContext,p=h===void 0?V0:h,g=n.altBoundary,v=g===void 0?!1:g,y=n.padding,C=y===void 0?0:y,b=O9(typeof C!="number"?C:N9(C,Sw)),E=p===V0?hae:V0,x=e.rects.popper,k=e.elements[v?E:p],D=Wae(Zh(k)?k:k.contextElement||Rd(e.elements.popper),l,u,o),R=Ig(e.elements.reference),_=B9({reference:R,element:x,placement:i}),I=Wk(Object.assign({},x,_)),F=p===V0?I:R,N={top:D.top-F.top+b.top,bottom:F.bottom-D.bottom+b.bottom,left:D.left-F.left+b.left,right:F.right-D.right+b.right},B=e.modifiersData.offset;if(p===V0&&B){var M=B[i];Object.keys(N).forEach(function(L){var H=[Ca,wa].indexOf(L)>=0?1:-1,ee=[Xs,wa].indexOf(L)>=0?"y":"x";N[L]+=M[ee]*H})}return N}function $ae(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?P9:l,u=Mg(r),h=u?a?D3:D3.filter(function(v){return Mg(v)===u}):Sw,p=h.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=h);var g=p.reduce(function(v,y){return v[y]=oy(e,{placement:y,boundary:i,rootBoundary:s,padding:o})[kl(y)],v},{});return Object.keys(g).sort(function(v,y){return g[v]-g[y]})}function qae(e){if(kl(e)===OF)return[];var t=Vx(e);return[I3(e),t,I3(t)]}function Kae(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,y=n.allowedAutoPlacements,C=t.options.placement,b=kl(C),E=b===C,x=l||(E||!v?[Vx(C)]:qae(C)),k=[C].concat(x).reduce(function(Y,J){return Y.concat(kl(J)===OF?$ae(t,{placement:J,boundary:u,rootBoundary:h,padding:c,flipVariations:v,allowedAutoPlacements:y}):J)},[]),D=t.rects.reference,R=t.rects.popper,_=new Map,I=!0,F=k[0],N=0;N<k.length;N++){var B=k[N],M=kl(B),L=Mg(B)===Pg,H=[Xs,wa].indexOf(M)>=0,ee=H?"width":"height",re=oy(t,{placement:B,boundary:u,rootBoundary:h,altBoundary:p,padding:c}),te=H?L?Ca:Qs:L?wa:Xs;D[ee]>R[ee]&&(te=Vx(te));var he=Vx(te),Z=[];if(s&&Z.push(re[M]<=0),a&&Z.push(re[te]<=0,re[he]<=0),Z.every(function(Y){return Y})){F=B,I=!1;break}_.set(B,Z)}if(I)for(var V=v?3:1,X=function(J){var pe=k.find(function(He){var Re=_.get(He);if(Re)return Re.slice(0,J).every(function(Te){return Te})});if(pe)return F=pe,"break"},z=V;z>0;z--){var G=X(z);if(G==="break")break}t.placement!==F&&(t.modifiersData[r]._skip=!0,t.placement=F,t.reset=!0)}}var Yae={name:"flip",enabled:!0,phase:"main",fn:Kae,requiresIfExists:["offset"],data:{_skip:!1}};function O3(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function N3(e){return[Xs,Ca,wa,Qs].some(function(t){return e[t]>=0})}function Xae(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=oy(t,{elementContext:"reference"}),a=oy(t,{altBoundary:!0}),l=O3(o,r),c=O3(a,i,s),u=N3(l),h=N3(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var Qae={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xae};function Zae(e,t,n){var r=kl(e),i=[Qs,Xs].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Qs,Ca].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Jae(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=P9.reduce(function(u,h){return u[h]=Zae(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var ele={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jae};function tle(e){var t=e.state,n=e.name;t.modifiersData[n]=B9({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var nle={name:"popperOffsets",enabled:!0,phase:"read",fn:tle,data:{}};function rle(e){return e==="x"?"y":"x"}function ile(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,p=n.tether,g=p===void 0?!0:p,v=n.tetherOffset,y=v===void 0?0:v,C=oy(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),b=kl(t.placement),E=Mg(t.placement),x=!E,k=BF(b),D=rle(k),R=t.modifiersData.popperOffsets,_=t.rects.reference,I=t.rects.popper,F=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,N=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(R){if(s){var L,H=k==="y"?Xs:Qs,ee=k==="y"?wa:Ca,re=k==="y"?"height":"width",te=R[k],he=te+C[H],Z=te-C[ee],V=g?-I[re]/2:0,X=E===Pg?_[re]:I[re],z=E===Pg?-I[re]:-_[re],G=t.elements.arrow,Y=g&&G?LF(G):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:M9(),pe=J[H],He=J[ee],Re=vv(0,_[re],Y[re]),Te=x?_[re]/2-V-Re-pe-N.mainAxis:X-Re-pe-N.mainAxis,De=x?-_[re]/2+V+Re+He+N.mainAxis:z+Re+He+N.mainAxis,et=t.elements.arrow&&Ew(t.elements.arrow),ue=et?k==="y"?et.clientTop||0:et.clientLeft||0:0,St=(L=B?.[k])!=null?L:0,j=te+Te-St-ue,Ce=te+De-St,ye=vv(g?CS(he,j):he,te,g?Ih(Z,Ce):Z);R[k]=ye,M[k]=ye-te}if(a){var Q,oe=k==="x"?Xs:Qs,ve=k==="x"?wa:Ca,Fe=R[D],Ue=D==="y"?"height":"width",xe=Fe+C[oe],Ke=Fe-C[ve],st=[Xs,Qs].indexOf(b)!==-1,Je=(Q=B?.[D])!=null?Q:0,fe=st?xe:Fe-_[Ue]-I[Ue]-Je+N.altAxis,Me=st?Fe+_[Ue]+I[Ue]-Je-N.altAxis:Ke,We=g&&st?Aae(fe,Fe,Me):vv(g?fe:xe,Fe,g?Me:Ke);R[D]=We,M[D]=We-Fe}t.modifiersData[r]=M}}var sle={name:"preventOverflow",enabled:!0,phase:"main",fn:ile,requiresIfExists:["offset"]};function ole(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ale(e){return e===Ta(e)||!pa(e)?VF(e):ole(e)}function lle(e){var t=e.getBoundingClientRect(),n=Fg(t.width)/e.offsetWidth||1,r=Fg(t.height)/e.offsetHeight||1;return n!==1||r!==1}function cle(e,t,n){n===void 0&&(n=!1);var r=pa(t),i=pa(t)&&lle(t),s=Rd(t),o=Ig(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((zl(t)!=="body"||GF(s))&&(a=ale(t)),pa(t)?(l=Ig(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=HF(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ule(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function dle(e){var t=ule(e);return xae.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function hle(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function fle(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var L3={placement:"bottom",modifiers:[],strategy:"absolute"};function B3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ple(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?L3:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},L3,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],p=!1,g={state:u,setOptions:function(b){var E=typeof b=="function"?b(u.options):b;y(),u.options=Object.assign({},s,u.options,E),u.scrollParents={reference:Zh(a)?yv(a):a.contextElement?yv(a.contextElement):[],popper:yv(l)};var x=dle(fle([].concat(r,u.options.modifiers)));return u.orderedModifiers=x.filter(function(k){return k.enabled}),v(),g.update()},forceUpdate:function(){if(!p){var b=u.elements,E=b.reference,x=b.popper;if(B3(E,x)){u.rects={reference:cle(E,Ew(x),u.options.strategy==="fixed"),popper:LF(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var D=u.orderedModifiers[k],R=D.fn,_=D.options,I=_===void 0?{}:_,F=D.name;typeof R=="function"&&(u=R({state:u,options:I,name:F,instance:g})||u)}}}},update:hle(function(){return new Promise(function(C){g.forceUpdate(),C(u)})}),destroy:function(){y(),p=!0}};if(!B3(a,l))return g;g.setOptions(c).then(function(C){!p&&c.onFirstUpdate&&c.onFirstUpdate(C)});function v(){u.orderedModifiers.forEach(function(C){var b=C.name,E=C.options,x=E===void 0?{}:E,k=C.effect;if(typeof k=="function"){var D=k({state:u,name:b,instance:g,options:x}),R=function(){};h.push(D||R)}})}function y(){h.forEach(function(C){return C()}),h=[]}return g}}var gle=[Bae,nle,Nae,Tae,ele,Yae,sle,Fae,Qae],mle=ple({defaultModifiers:gle}),vle=function(e){var t=e.level,n=e.buttonRef,r=e.contentRef,i=me.useContext(rE),s=i.collapsed,o=i.toggled,a=i.transitionDuration,l=me.useRef();return me.useEffect(function(){return t===0&&s&&r.current&&n.current&&(l.current=mle(n.current,r.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var c;return(c=l.current)===null||c===void 0?void 0:c.destroy()}},[t,s,r,n]),me.useEffect(function(){if(r.current&&n.current){var c=new ResizeObserver(function(){var u;(u=l.current)===null||u===void 0||u.update()});c.observe(r.current),c.observe(n.current)}setTimeout(function(){var u;(u=l.current)===null||u===void 0||u.update()},a)},[a,o,r,n]),{popperInstance:l.current}},V9=function(e){var t=e.rtl,n=e.level,r=e.collapsed,i=e.disabled,s=e.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(t?`padding-left: 20px;
           padding-right: `.concat(n===0?20:(r?n:n+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(n===0?20:(r?n:n+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(i&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(s&&"background-color: #e2eef9;",`
  
  `)},yle=function(e,t){var n=e.className,r=e.component,i=e.children,s=Qh(e,["className","component","children"]);if(r){if(typeof r=="string")return me.createElement(r,$r($r({className:mi(n)},s),{ref:t}),i);var o=r.props,a=o.className,l=Qh(o,["className"]);return me.cloneElement(r,$r($r($r({className:mi(n,a)},s),l),{ref:t}),i)}else return me.createElement("a",$r({ref:t,className:mi(n)},s),i)},H9=me.forwardRef(yle),wle=Oi.li(H3||(H3=vs([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},Bn.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return V9({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),Cle=function(e,t){var n,r=e.children,i=e.className,s=e.label,o=e.icon,a=e.title,l=e.prefix,c=e.suffix,u=e.open,h=e.defaultOpen,p=e.active,g=p===void 0?!1:p,v=e.disabled,y=v===void 0?!1:v,C=e.rootStyles,b=e.component,E=e.onOpenChange,x=e.onClick,k=e.onKeyUp,D=Qh(e,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),R=me.useContext(wS),_=me.useContext(rE),I=_.collapsed,F=_.rtl,N=_.transitionDuration,B=MF(),M=B.renderExpandIcon,L=B.closeOnClick,H=B.menuItemStyles,ee=B.transitionDuration,re=me.useState(!!h),te=re[0],he=re[1],Z=me.useState(!1),V=Z[0],X=Z[1],z=me.useState(!1),G=z[0],Y=z[1],J=me.useRef(null),pe=me.useRef(null),He=me.useRef(),Re=vle({level:R,buttonRef:J,contentRef:pe}).popperInstance,Te=me.useCallback(function(){var ye,Q=pe.current;if(Q){var oe=(ye=Q?.querySelector(".".concat(Bn.subMenuContent," > ul")))===null||ye===void 0?void 0:ye.clientHeight;Q.style.overflow="hidden",Q.style.height="".concat(oe,"px"),He.current=setTimeout(function(){Q.style.overflow="auto",Q.style.height="auto"},ee)}},[ee]),De=function(){var ye,Q=pe.current;if(Q){var oe=(ye=Q?.querySelector(".".concat(Bn.subMenuContent," > ul")))===null||ye===void 0?void 0:ye.clientHeight;Q.style.overflow="hidden",Q.style.height="".concat(oe,"px"),Q.offsetHeight,Q.style.height="0px"}},et=function(){R===0&&I||(typeof u>"u"?(clearTimeout(Number(He.current)),te?De():Te(),E?.(!te),he(!te)):E?.(!u))};me.useEffect(function(){!(R===0&&I)&&typeof u<"u"&&G&&(clearTimeout(Number(He.current)),u?Te():De())},[I,Te,s,R,E,u]);var ue=function(ye){x?.(ye),et()},St=function(ye){k?.(ye),ye.key==="Enter"&&et()},j=function(ye){if(H){var Q={level:R,disabled:y,active:g,isSubmenu:!0,open:u??te},oe=H.root,ve=H.button,Fe=H.label,Ue=H.icon,xe=H.prefix,Ke=H.suffix,st=H.subMenuContent,Je=H.SubMenuExpandIcon;switch(ye){case"root":return typeof oe=="function"?oe(Q):oe;case"button":return typeof ve=="function"?ve(Q):ve;case"label":return typeof Fe=="function"?Fe(Q):Fe;case"icon":return typeof Ue=="function"?Ue(Q):Ue;case"prefix":return typeof xe=="function"?xe(Q):xe;case"suffix":return typeof Ke=="function"?Ke(Q):Ke;case"SubMenuExpandIcon":return typeof Je=="function"?Je(Q):Je;case"subMenuContent":return typeof st=="function"?st(Q):st;default:return}}};me.useEffect(function(){setTimeout(function(){return Re?.update()},N),I&&R===0&&X(!1)},[I,R,F,N,Re]),me.useEffect(function(){var ye=function(Fe){var Ue,xe,Ke;!V&&(!((Ue=J.current)===null||Ue===void 0)&&Ue.contains(Fe))?X(!0):(L&&!(!((xe=Fe.closest(".".concat(Bn.menuItemRoot)))===null||xe===void 0)&&xe.classList.contains(Bn.subMenuRoot))||!(!((Ke=pe.current)===null||Ke===void 0)&&Ke.contains(Fe))&&V)&&X(!1)},Q=function(Fe){ye(Fe.target)},oe=function(Fe){Fe.key==="Enter"?ye(Fe.target):Fe.key==="Escape"&&X(!1)},ve=function(){document.removeEventListener("click",Q),document.removeEventListener("keyup",oe)};return ve(),I&&R===0&&(document.addEventListener("click",Q,!1),document.addEventListener("keyup",oe,!1)),function(){ve()}},[I,R,L,V]),me.useEffect(function(){Y(!0)},[]);var Ce=(n={},n[Bn.active]=g,n[Bn.disabled]=y,n[Bn.open]=u??te,n);return me.createElement(wle,{ref:t,className:mi(Bn.menuItemRoot,Bn.subMenuRoot,Ce,i),menuItemStyles:j("root"),level:R,collapsed:I,rtl:F,disabled:y,active:g,buttonStyles:j("button"),rootStyles:C},me.createElement(H9,$r({"data-testid":"".concat(Bn.button,"-test-id"),ref:J,title:a,className:mi(Bn.button,Ce),onClick:ue,onKeyUp:St,component:b,tabIndex:0},D),o&&me.createElement(_9,{rtl:F,className:mi(Bn.icon,Ce),rootStyles:j("icon")},o),l&&me.createElement(A9,{collapsed:I,transitionDuration:N,firstLevel:R===0,className:mi(Bn.prefix,Ce),rtl:F,rootStyles:j("prefix")},l),me.createElement(R9,{className:mi(Bn.label,Ce),rootStyles:j("label")},s),c&&me.createElement(k9,{collapsed:I,transitionDuration:N,firstLevel:R===0,className:mi(Bn.suffix,Ce),rootStyles:j("suffix")},c),me.createElement(lae,{rtl:F,className:mi(Bn.SubMenuExpandIcon,Ce),collapsed:I,level:R,rootStyles:j("SubMenuExpandIcon")},M?M({level:R,disabled:y,active:g,open:u??te}):I&&R===0?me.createElement(uae,null):me.createElement(cae,{rtl:F,open:u??te}))),me.createElement(aae,{ref:pe,openWhenCollapsed:V,open:u??te,firstLevel:R===0,collapsed:I,defaultOpen:u&&!G||h,className:mi(Bn.subMenuContent,Ce),rootStyles:j("subMenuContent")},me.createElement(wS.Provider,{value:R+1},r)))},V3=me.forwardRef(Cle),H3,ble=Oi.li(G3||(G3=vs([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},Bn.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return V9({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),xle=function(e,t){var n,r=e.children,i=e.icon,s=e.className,o=e.prefix,a=e.suffix,l=e.active,c=l===void 0?!1:l,u=e.disabled,h=u===void 0?!1:u,p=e.component,g=e.rootStyles,v=Qh(e,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),y=me.useContext(wS),C=me.useContext(rE),b=C.collapsed,E=C.rtl,x=C.transitionDuration,k=MF().menuItemStyles,D=function(_){if(k){var I={level:y,disabled:h,active:c,isSubmenu:!1},F=k.root,N=k.button,B=k.label,M=k.icon,L=k.prefix,H=k.suffix;switch(_){case"root":return typeof F=="function"?F(I):F;case"button":return typeof N=="function"?N(I):N;case"label":return typeof B=="function"?B(I):B;case"icon":return typeof M=="function"?M(I):M;case"prefix":return typeof L=="function"?L(I):L;case"suffix":return typeof H=="function"?H(I):H;default:return}}},R=(n={},n[Bn.active]=c,n[Bn.disabled]=h,n);return me.createElement(ble,{ref:t,className:mi(Bn.menuItemRoot,R,s),menuItemStyles:D("root"),level:y,collapsed:b,rtl:E,disabled:h,active:c,buttonStyles:D("button"),rootStyles:g},me.createElement(H9,$r({className:mi(Bn.button,R),"data-testid":"".concat(Bn.button,"-test-id"),component:p,tabIndex:0},v),i&&me.createElement(_9,{rtl:E,className:mi(Bn.icon,R),rootStyles:D("icon")},i),o&&me.createElement(A9,{collapsed:b,transitionDuration:x,firstLevel:y===0,className:mi(Bn.prefix,R),rtl:E,rootStyles:D("prefix")},o),me.createElement(R9,{className:mi(Bn.label,R),rootStyles:D("label")},r),a&&me.createElement(k9,{collapsed:b,transitionDuration:x,firstLevel:y===0,className:mi(Bn.suffix,R),rootStyles:D("suffix")},a)))},Pa=me.forwardRef(xle),G3,Sle=function(e){var t=e.children;return console.warn("ProSidebarProvider is deprecated and will be removed in the next major release."),me.createElement(Koe,null,t)},Ele=function(){var e=S9();if(e===void 0)throw new Error("useProSidebar must be used within a ProSidebarProvider. Please wrap your component with a ProSidebarProvider to use this hook.");var t=me.useCallback(function(r){r===void 0?e.updateCollapseState():e.updateSidebarState({collapsed:r})},[e.updateCollapseState,e.updateSidebarState]),n=me.useCallback(function(r){r===void 0?e.updateToggleState():e.updateSidebarState({toggled:r})},[e.updateToggleState,e.updateSidebarState]);return me.useEffect(function(){console.warn("useProSidebar is deprecated and will be removed in the next major release. Please use Sidebar props instead.")},[]),{collapseSidebar:t,toggleSidebar:n,collapsed:!!e.collapsed,broken:!!e.broken,toggled:!!e.toggled,rtl:!!e.rtl}},F_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var U3;function Tle(){return U3||(U3=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(F_)),F_.exports}var Rle=Tle();const Ft=Tf(Rle);function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(null,arguments)}function G9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function z3(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function _le(e){var t=Ale(e,"string");return typeof t=="symbol"?t:String(t)}function Ale(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kle(e,t,n){var r=A.useRef(e!==void 0),i=A.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,A.useCallback(function(c){for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];n&&n.apply(void 0,[c].concat(h)),o(c)},[n])]}function UF(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[z3(r)],a=s[r],l=G9(s,[z3(r),r].map(_le)),c=t[r],u=kle(a,o,e[c]),h=u[0],p=u[1];return ay({},l,(i={},i[r]=h,i[c]=p,i))},e)}function $k(e,t){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$k(e,t)}function Dle(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$k(e,t)}const Ple=["xxl","xl","lg","md","sm","xs"],Fle="xs",Tw=A.createContext({prefixes:{},breakpoints:Ple,minBreakpoint:Fle}),{Consumer:Urt,Provider:zrt}=Tw;function Ut(e,t){const{prefixes:n}=A.useContext(Tw);return e||n[t]||t}function U9(){const{breakpoints:e}=A.useContext(Tw);return e}function z9(){const{minBreakpoint:e}=A.useContext(Tw);return e}function Ile(){const{dir:e}=A.useContext(Tw);return e==="rtl"}function sE(e){return e&&e.ownerDocument||document}function Mle(e){var t=sE(e);return t&&t.defaultView||window}function Ole(e,t){return Mle(e).getComputedStyle(e,t)}var Nle=/([A-Z])/g;function Lle(e){return e.replace(Nle,"-$1").toLowerCase()}var Ble=/^ms-/;function Lb(e){return Lle(e).replace(Ble,"-ms-")}var Vle=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Hle(e){return!!(e&&Vle.test(e))}function kc(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Lb(t))||Ole(e).getPropertyValue(Lb(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(Lb(i)):Hle(i)?r+=i+"("+s+") ":n+=Lb(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var I_={exports:{}},M_,j3;function Gle(){if(j3)return M_;j3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return M_=e,M_}var O_,W3;function Ule(){if(W3)return O_;W3=1;var e=Gle();function t(){}function n(){}return n.resetWarningCache=t,O_=function(){function r(o,a,l,c,u,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},O_}var $3;function zle(){return $3||($3=1,I_.exports=Ule()()),I_.exports}var jle=zle();const Dc=Tf(jle),q3={disabled:!1},j9=me.createContext(null);var Wle=function(t){return t.scrollTop},nv="unmounted",Lu="exited",Oa="entering",Ec="entered",ly="exiting",Jc=function(e){Dle(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Lu,s.appearStatus=Oa):l=Ec:r.unmountOnExit||r.mountOnEnter?l=nv:l=Lu,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===nv?{status:Lu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Oa&&o!==Ec&&(s=Oa):(o===Oa||o===Ec)&&(s=ly)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Oa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:qu.findDOMNode(this);o&&Wle(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Lu&&this.setState({status:nv})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qu.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!o||q3.disabled){this.safeSetState({status:Ec},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Oa},function(){s.props.onEntering(c,u),s.onTransitionEnd(p,function(){s.safeSetState({status:Ec},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:qu.findDOMNode(this);if(!s||q3.disabled){this.safeSetState({status:Lu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ly},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Lu},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:qu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===nv)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=G9(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return me.createElement(j9.Provider,{value:null},typeof o=="function"?o(i,a):me.cloneElement(me.Children.only(o),a))},t}(me.Component);Jc.contextType=j9;Jc.propTypes={};function Pp(){}Jc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pp,onEntering:Pp,onEntered:Pp,onExit:Pp,onExiting:Pp,onExited:Pp};Jc.UNMOUNTED=nv;Jc.EXITED=Lu;Jc.ENTERING=Oa;Jc.ENTERED=Ec;Jc.EXITING=ly;function $le(e){return e.code==="Escape"||e.keyCode===27}function qle(){const e=A.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function cm(e){if(!e||typeof e=="function")return null;const{major:t}=qle();return t>=19?e.props.ref:e.ref}const um=!!(typeof window<"u"&&window.document&&window.document.createElement);var qk=!1,Kk=!1;try{var N_={get passive(){return qk=!0},get once(){return Kk=qk=!0}};um&&(window.addEventListener("test",N_,N_),window.removeEventListener("test",N_,!0))}catch{}function W9(e,t,n,r){if(r&&typeof r!="boolean"&&!Kk){var i=r.once,s=r.capture,o=n;!Kk&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,qk?r:s)}e.addEventListener(t,n,r)}function Yk(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function bS(e,t,n,r){return W9(e,t,n,r),function(){Yk(e,t,n,r)}}function Kle(e,t,n,r){if(r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function Yle(e){var t=kc(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function Xle(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||Kle(e,"transitionend",!0)},t+n),s=bS(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function $9(e,t,n,r){n==null&&(n=Yle(e)||0);var i=Xle(e,n,r),s=bS(e,"transitionend",t);return function(){i(),s()}}function K3(e,t){const n=kc(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function zF(e,t){const n=K3(e,"transitionDuration"),r=K3(e,"transitionDelay"),i=$9(e,s=>{s.target===e&&(i(),t(s))},n+r)}function H0(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function q9(e){e.offsetHeight}const Y3=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Qle(e,t){const n=Y3(e),r=Y3(t);return i=>{n&&n(i),r&&r(i)}}function K9(e,t){return A.useMemo(()=>Qle(e,t),[e,t])}function Zle(e){return e&&"setState"in e?qu.findDOMNode(e):e??null}const oE=me.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},u)=>{const h=A.useRef(null),p=K9(h,l),g=R=>{p(Zle(R))},v=R=>_=>{R&&h.current&&R(h.current,_)},y=A.useCallback(v(e),[e]),C=A.useCallback(v(t),[t]),b=A.useCallback(v(n),[n]),E=A.useCallback(v(r),[r]),x=A.useCallback(v(i),[i]),k=A.useCallback(v(s),[s]),D=A.useCallback(v(o),[o]);return O.jsx(Jc,{ref:u,...c,onEnter:y,onEntered:b,onEntering:C,onExit:E,onExited:k,onExiting:x,addEndListener:D,nodeRef:h,children:typeof a=="function"?(R,_)=>a(R,{..._,ref:g}):me.cloneElement(a,{ref:g})})});oE.displayName="TransitionWrapper";const Jle={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ece(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=Jle[e];return r+parseInt(kc(t,i[0]),10)+parseInt(kc(t,i[1]),10)}const tce={[Lu]:"collapse",[ly]:"collapsing",[Oa]:"collapsing",[Ec]:"collapse show"},Y9=me.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:u=!1,unmountOnExit:h=!1,appear:p=!1,getDimensionValue:g=ece,...v},y)=>{const C=typeof a=="function"?a():a,b=A.useMemo(()=>H0(R=>{R.style[C]="0"},e),[C,e]),E=A.useMemo(()=>H0(R=>{const _=`scroll${C[0].toUpperCase()}${C.slice(1)}`;R.style[C]=`${R[_]}px`},t),[C,t]),x=A.useMemo(()=>H0(R=>{R.style[C]=null},n),[C,n]),k=A.useMemo(()=>H0(R=>{R.style[C]=`${g(C,R)}px`,q9(R)},r),[r,g,C]),D=A.useMemo(()=>H0(R=>{R.style[C]=null},i),[C,i]);return O.jsx(oE,{ref:y,addEndListener:zF,...v,"aria-expanded":v.role?l:null,onEnter:b,onEntering:E,onEntered:x,onExit:k,onExiting:D,childRef:cm(o),in:l,timeout:c,mountOnEnter:u,unmountOnExit:h,appear:p,children:(R,_)=>me.cloneElement(o,{..._,className:Ft(s,o.props.className,tce[R],C==="width"&&"collapse-horizontal")})})});Y9.displayName="Collapse";function nce(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function ad(e){const t=nce(e);return A.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Rw=e=>A.forwardRef((t,n)=>O.jsx("div",{...t,ref:n,className:Ft(t.className,e)})),X9=Rw("h4");X9.displayName="DivStyledAsH4";const Q9=A.forwardRef(({className:e,bsPrefix:t,as:n=X9,...r},i)=>(t=Ut(t,"alert-heading"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));Q9.displayName="AlertHeading";function rce(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function Tc(e){const t=rce(e);return A.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function ice(){const e=A.useRef(!0),t=A.useRef(()=>e.current);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function sce(e){const t=A.useRef(null);return A.useEffect(()=>{t.current=e}),t.current}const oce=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ace=typeof document<"u",X3=ace||oce?A.useLayoutEffect:A.useEffect,lce=["as","disabled"];function cce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uce(e){return!e||e.trim()==="#"}function jF({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||r!=null||i!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},c];const u=p=>{if((t||e==="a"&&uce(n))&&p.preventDefault(),t){p.stopPropagation();return}o?.(p)},h=p=>{p.key===" "&&(p.preventDefault(),u(p))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:u,onKeyDown:h},c]}const Z9=A.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=cce(e,lce);const[s,{tagName:o}]=jF(Object.assign({tagName:n,disabled:r},i));return O.jsx(o,Object.assign({},i,s,{ref:t}))});Z9.displayName="Button";const dce=["onKeyDown"];function hce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fce(e){return!e||e.trim()==="#"}const J9=A.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=hce(e,dce);const[i]=jF(Object.assign({tagName:"a"},r)),s=Tc(o=>{i.onKeyDown(o),n?.(o)});return fce(r.href)||r.role==="button"?O.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:s})):O.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});J9.displayName="Anchor";const ej=A.forwardRef(({className:e,bsPrefix:t,as:n=J9,...r},i)=>(t=Ut(t,"alert-link"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));ej.displayName="AlertLink";const pce={[Oa]:"show",[Ec]:"show"},Og=A.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=A.useCallback((l,c)=>{q9(l),r?.(l,c)},[r]);return O.jsx(oE,{ref:s,addEndListener:zF,...o,onEnter:a,childRef:cm(t),children:(l,c)=>A.cloneElement(t,{...c,className:Ft("fade",e,t.props.className,pce[l],n[l])})})});Og.displayName="Fade";const gce={"aria-label":Dc.string,onClick:Dc.func,variant:Dc.oneOf(["white"])},aE=A.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>O.jsx("button",{ref:i,type:"button",className:Ft("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));aE.displayName="CloseButton";aE.propTypes=gce;const tj=A.forwardRef((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:u,transition:h=Og,...p}=UF(e,{show:"onClose"}),g=Ut(n,"alert"),v=ad(b=>{c&&c(!1,b)}),y=h===!0?Og:h,C=O.jsxs("div",{role:"alert",...y?void 0:p,ref:t,className:Ft(o,g,l&&`${g}-${l}`,u&&`${g}-dismissible`),children:[u&&O.jsx(aE,{onClick:v,"aria-label":i,variant:s}),a]});return y?O.jsx(y,{unmountOnExit:!0,...p,ref:void 0,in:r,children:C}):r?C:null});tj.displayName="Alert";const xS=Object.assign(tj,{Link:ej,Heading:Q9}),Xk=A.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:i,as:s="span",...o},a)=>{const l=Ut(e,"badge");return O.jsx(s,{ref:a,...o,className:Ft(i,l,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});Xk.displayName="Badge";const fr=A.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=Ut(t,"btn"),[u,{tagName:h}]=jF({tagName:e,disabled:s,...a}),p=h;return O.jsx(p,{...u,...a,ref:l,disabled:s,className:Ft(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});fr.displayName="Button";const WF=A.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ut(t,"card-body"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));WF.displayName="CardBody";const nj=A.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ut(t,"card-footer"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));nj.displayName="CardFooter";const rj=A.createContext(null);rj.displayName="CardHeaderContext";const ij=A.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Ut(e,"card-header"),o=A.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return O.jsx(rj.Provider,{value:o,children:O.jsx(n,{ref:i,...r,className:Ft(t,s)})})});ij.displayName="CardHeader";const sj=A.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},s)=>{const o=Ut(e,"card-img");return O.jsx(r,{ref:s,className:Ft(n?`${o}-${n}`:o,t),...i})});sj.displayName="CardImg";const oj=A.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ut(t,"card-img-overlay"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));oj.displayName="CardImgOverlay";const aj=A.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},i)=>(t=Ut(t,"card-link"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));aj.displayName="CardLink";const mce=Rw("h6"),lj=A.forwardRef(({className:e,bsPrefix:t,as:n=mce,...r},i)=>(t=Ut(t,"card-subtitle"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));lj.displayName="CardSubtitle";const cj=A.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},i)=>(t=Ut(t,"card-text"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));cj.displayName="CardText";const vce=Rw("h5"),uj=A.forwardRef(({className:e,bsPrefix:t,as:n=vce,...r},i)=>(t=Ut(t,"card-title"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));uj.displayName="CardTitle";const dj=A.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const u=Ut(e,"card");return O.jsx(a,{ref:c,...l,className:Ft(t,u,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?O.jsx(WF,{children:o}):o})});dj.displayName="Card";const Mn=Object.assign(dj,{Img:sj,Title:uj,Subtitle:lj,Body:WF,Link:aj,Text:cj,Header:ij,Footer:nj,ImgOverlay:oj});function yce(e){const t=A.useRef(e);return t.current=e,t}function wce(e){const t=yce(e);A.useEffect(()=>()=>t.current(),[])}function Cce(e,t){return A.Children.toArray(e).some(n=>A.isValidElement(n)&&n.type===t)}function bce({as:e,bsPrefix:t,className:n,...r}){t=Ut(t,"col");const i=U9(),s=z9(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let u,h,p;typeof c=="object"&&c!=null?{span:u,offset:h,order:p}=c:u=c;const g=l!==s?`-${l}`:"";u&&o.push(u===!0?`${t}${g}`:`${t}${g}-${u}`),p!=null&&a.push(`order${g}-${p}`),h!=null&&a.push(`offset${g}-${h}`)}),[{...r,className:Ft(n,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const Dl=A.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=bce(e);return O.jsx(i,{...r,ref:t,className:Ft(n,!o.length&&s)})});Dl.displayName="Col";const cy=A.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...i},s)=>{const o=Ut(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return O.jsx(n,{ref:s,...i,className:Ft(r,t?`${o}${a}`:o)})});cy.displayName="Container";var xce=Function.prototype.bind.call(Function.prototype.call,[].slice);function ph(e,t){return xce(e.querySelectorAll(t))}function Sce(){const[,e]=A.useReducer(t=>t+1,0);return e}function Q3(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const SS=A.createContext(null),$F=(e,t=null)=>e!=null?String(e):t||null,qF=A.createContext(null);qF.displayName="NavContext";const Ece="data-rr-ui-",Tce="rrUi";function lE(e){return`${Ece}${e}`}function Rce(e){return`${Tce}${e}`}const hj=A.createContext(um?window:void 0);hj.Provider;function KF(){return A.useContext(hj)}const _ce=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Ace=typeof document<"u",kce=Ace||_ce?A.useLayoutEffect:A.useEffect,fj=A.createContext(null);fj.displayName="InputGroupContext";const _w=A.createContext(null);_w.displayName="NavbarContext";const Dce={type:Dc.string,tooltip:Dc.bool,as:Dc.elementType},cE=A.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},s)=>O.jsx(e,{...i,ref:s,className:Ft(t,`${n}-${r?"tooltip":"feedback"}`)}));cE.displayName="Feedback";cE.propTypes=Dce;const Hc=A.createContext({}),Aw=A.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=A.useContext(Hc);return t=Ut(t,"form-check-input"),O.jsx(o,{...a,ref:l,type:r,id:e||c,className:Ft(n,t,i&&"is-valid",s&&"is-invalid")})});Aw.displayName="FormCheckInput";const ES=A.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},i)=>{const{controlId:s}=A.useContext(Hc);return e=Ut(e,"form-check-label"),O.jsx("label",{...r,ref:i,htmlFor:n||s,className:Ft(t,e)})});ES.displayName="FormCheckLabel";const pj=A.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:h,style:p,title:g="",type:v="checkbox",label:y,children:C,as:b="input",...E},x)=>{t=Ut(t,"form-check"),n=Ut(n,"form-switch");const{controlId:k}=A.useContext(Hc),D=A.useMemo(()=>({controlId:e||k}),[k,e]),R=!C&&y!=null&&y!==!1||Cce(C,ES),_=O.jsx(Aw,{...E,type:v==="switch"?"checkbox":v,ref:x,isValid:o,isInvalid:a,disabled:s,as:b});return O.jsx(Hc.Provider,{value:D,children:O.jsx("div",{style:p,className:Ft(h,R&&t,r&&`${t}-inline`,i&&`${t}-reverse`,v==="switch"&&n),children:C||O.jsxs(O.Fragment,{children:[_,R&&O.jsx(ES,{title:g,children:y}),c&&O.jsx(cE,{type:u,tooltip:l,children:c})]})})})});pj.displayName="FormCheck";const TS=Object.assign(pj,{Input:Aw,Label:ES}),gj=A.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input",...h},p)=>{const{controlId:g}=A.useContext(Hc);return e=Ut(e,"form-control"),O.jsx(u,{...h,type:t,size:r,ref:p,readOnly:c,id:i||g,className:Ft(s,l?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",a&&"is-invalid")})});gj.displayName="FormControl";const Pce=Object.assign(gj,{Feedback:cE}),mj=A.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ut(t,"form-floating"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));mj.displayName="FormFloating";const YF=A.forwardRef(({controlId:e,as:t="div",...n},r)=>{const i=A.useMemo(()=>({controlId:e}),[e]);return O.jsx(Hc.Provider,{value:i,children:O.jsx(t,{...n,ref:r})})});YF.displayName="FormGroup";const vj=A.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=A.useContext(Hc);t=Ut(t,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=Ft(i,t,r&&"visually-hidden",n&&c);return s=s||l,n?O.jsx(Dl,{ref:a,as:"label",className:u,htmlFor:s,...o}):O.jsx(e,{ref:a,className:u,htmlFor:s,...o})});vj.displayName="FormLabel";const yj=A.forwardRef(({bsPrefix:e,className:t,id:n,...r},i)=>{const{controlId:s}=A.useContext(Hc);return e=Ut(e,"form-range"),O.jsx("input",{...r,type:"range",ref:i,className:Ft(t,e),id:n||s})});yj.displayName="FormRange";const wj=A.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=A.useContext(Hc);return e=Ut(e,"form-select"),O.jsx("select",{...a,size:n,ref:l,className:Ft(r,e,t&&`${e}-${t}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});wj.displayName="FormSelect";const Cj=A.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...i},s)=>(e=Ut(e,"form-text"),O.jsx(n,{...i,ref:s,className:Ft(t,e,r&&"text-muted")})));Cj.displayName="FormText";const bj=A.forwardRef((e,t)=>O.jsx(TS,{...e,ref:t,type:"switch"}));bj.displayName="Switch";const Fce=Object.assign(bj,{Input:TS.Input,Label:TS.Label}),RS=A.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:i,...s},o)=>(e=Ut(e,"form-floating"),O.jsxs(YF,{ref:o,className:Ft(t,e),controlId:r,...s,children:[n,O.jsx("label",{htmlFor:r,children:i})]})));RS.displayName="FloatingLabel";const Ice={_ref:Dc.any,validated:Dc.bool,as:Dc.elementType},XF=A.forwardRef(({className:e,validated:t,as:n="form",...r},i)=>O.jsx(n,{...r,ref:i,className:Ft(e,t&&"was-validated")}));XF.displayName="Form";XF.propTypes=Ice;const In=Object.assign(XF,{Group:YF,Control:Pce,Floating:mj,Check:TS,Switch:Fce,Label:vj,Text:Cj,Range:yj,Select:wj,FloatingLabel:RS}),uE=A.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Ut(t,"input-group-text"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));uE.displayName="InputGroupText";const Mce=e=>O.jsx(uE,{children:O.jsx(Aw,{type:"checkbox",...e})}),Oce=e=>O.jsx(uE,{children:O.jsx(Aw,{type:"radio",...e})}),xj=A.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:r,as:i="div",...s},o)=>{e=Ut(e,"input-group");const a=A.useMemo(()=>({}),[]);return O.jsx(fj.Provider,{value:a,children:O.jsx(i,{ref:o,...s,className:Ft(r,e,t&&`${e}-${t}`,n&&"has-validation")})})});xj.displayName="InputGroup";const Eh=Object.assign(xj,{Text:uE,Radio:Oce,Checkbox:Mce}),Z3=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Nce(e,t){const n=Z3(e),r=Z3(t);return i=>{n&&n(i),r&&r(i)}}function dE(e,t){return A.useMemo(()=>Nce(e,t),[e,t])}const Sj=A.createContext(null),Lce=["as","active","eventKey"];function Bce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ej({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=A.useContext(SS),a=A.useContext(qF),l=A.useContext(Sj);let c=n;const u={role:i};if(a){!i&&a.role==="tablist"&&(u.role="tab");const h=a.getControllerId(e??null),p=a.getControlledId(e??null);u[lE("event-key")]=e,u.id=h||r,c=n==null&&e!=null?a.activeKey===e:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=p)}return u.role==="tab"&&(u["aria-selected"]=c,c||(u.tabIndex=-1),s&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=Tc(h=>{s||(t?.(h),e!=null&&o&&!h.isPropagationStopped()&&o(e,h))}),[u,{isActive:c}]}const Tj=A.forwardRef((e,t)=>{let{as:n=Z9,active:r,eventKey:i}=e,s=Bce(e,Lce);const[o,a]=Ej(Object.assign({key:$F(i,s.href),active:r},s));return o[lE("active")]=a.isActive,O.jsx(n,Object.assign({},s,o,{ref:t}))});Tj.displayName="NavItem";const Vce=["as","onSelect","activeKey","role","onKeyDown"];function Hce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const J3=()=>{},eV=lE("event-key"),Rj=A.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,a=Hce(e,Vce);const l=Sce(),c=A.useRef(!1),u=A.useContext(SS),h=A.useContext(Sj);let p,g;h&&(s=s||"tablist",i=h.activeKey,p=h.getControlledId,g=h.getControllerId);const v=A.useRef(null),y=x=>{const k=v.current;if(!k)return null;const D=ph(k,`[${eV}]:not([aria-disabled=true])`),R=k.querySelector("[aria-selected=true]");if(!R||R!==document.activeElement)return null;const _=D.indexOf(R);if(_===-1)return null;let I=_+x;return I>=D.length&&(I=0),I<0&&(I=D.length-1),D[I]},C=(x,k)=>{x!=null&&(r?.(x,k),u?.(x,k))},b=x=>{if(o?.(x),!h)return;let k;switch(x.key){case"ArrowLeft":case"ArrowUp":k=y(-1);break;case"ArrowRight":case"ArrowDown":k=y(1);break;default:return}k&&(x.preventDefault(),C(k.dataset[Rce("EventKey")]||null,x),c.current=!0,l())};A.useEffect(()=>{if(v.current&&c.current){const x=v.current.querySelector(`[${eV}][aria-selected=true]`);x?.focus()}c.current=!1});const E=dE(t,v);return O.jsx(SS.Provider,{value:C,children:O.jsx(qF.Provider,{value:{role:s,activeKey:$F(i),getControlledId:p||J3,getControllerId:g||J3},children:O.jsx(n,Object.assign({},a,{onKeyDown:b,ref:E,role:s}))})})});Rj.displayName="Nav";const Gce=Object.assign(Rj,{Item:Tj}),_j=A.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},c)=>{e=Ut(e,"list-group-item");const[u,h]=Ej({key:$F(r,l.href),active:t,...l}),p=ad(v=>{if(n){v.preventDefault(),v.stopPropagation();return}u.onClick(v)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const g=a||(o?l.href?"a":"button":"div");return O.jsx(g,{ref:c,...l,...u,onClick:p,className:Ft(i,e,h.isActive&&"active",n&&"disabled",s&&`${e}-${s}`,o&&`${e}-action`)})});_j.displayName="ListGroupItem";const Aj=A.forwardRef((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=UF(e,{activeKey:"onSelect"}),c=Ut(r,"list-group");let u;return s&&(u=s===!0?"horizontal":`horizontal-${s}`),O.jsx(Gce,{ref:t,...l,as:a,className:Ft(n,c,i&&`${c}-${i}`,u&&`${c}-${u}`,o&&`${c}-numbered`)})});Aj.displayName="ListGroup";const Na=Object.assign(Aj,{Item:_j});var Bb;function tV(e){if((!Bb&&Bb!==0||e)&&um){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Bb=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Bb}function Uce(){return A.useState(null)}function L_(e){e===void 0&&(e=sE());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function zce(e){const t=A.useRef(e);return t.current=e,t}function jce(e){const t=zce(e);A.useEffect(()=>()=>t.current(),[])}function Wce(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const nV=lE("modal-open");class QF{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Wce(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(kc(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(nV,""),kc(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(nV),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const B_=(e,t)=>um?e==null?(t||sE()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function $ce(e,t){const n=KF(),[r,i]=A.useState(()=>B_(e,n?.document));if(!r){const s=B_(e);s&&i(s)}return A.useEffect(()=>{},[t,r]),A.useEffect(()=>{const s=B_(e);s!==r&&i(s)},[e,r]),r}function qce({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=A.useRef(null),o=A.useRef(t),a=Tc(n);A.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const l=dE(s,cm(e)),c=A.cloneElement(e,{ref:l});return t?c:i||!o.current&&r?null:c}const Kce=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Yce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Xce(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=e,c=Yce(e,Kce);const u=A.useRef(null),h=dE(u,cm(l)),p=k=>D=>{k&&u.current&&k(u.current,D)},g=A.useCallback(p(t),[t]),v=A.useCallback(p(n),[n]),y=A.useCallback(p(r),[r]),C=A.useCallback(p(i),[i]),b=A.useCallback(p(s),[s]),E=A.useCallback(p(o),[o]),x=A.useCallback(p(a),[a]);return Object.assign({},c,{nodeRef:u},t&&{onEnter:g},n&&{onEntering:v},r&&{onEntered:y},i&&{onExit:C},s&&{onExiting:b},o&&{onExited:E},a&&{addEndListener:x},{children:typeof l=="function"?(k,D)=>l(k,Object.assign({},D,{ref:h})):A.cloneElement(l,{ref:h})})}const Qce=["component"];function Zce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Jce=A.forwardRef((e,t)=>{let{component:n}=e,r=Zce(e,Qce);const i=Xce(r);return O.jsx(n,Object.assign({ref:t},i))});function eue({in:e,onTransition:t}){const n=A.useRef(null),r=A.useRef(!0),i=Tc(t);return X3(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),X3(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function tue({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=A.useState(!t);t&&s&&o(!1);const a=eue({in:!!t,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r?.(c.element,c.initial):(o(!0),n?.(c.element)))};Promise.resolve(i(c)).then(u,h=>{throw c.in||o(!0),h})}}),l=dE(a,cm(e));return s&&!t?null:A.cloneElement(e,{ref:l})}function rV(e,t,n){return e?O.jsx(Jce,Object.assign({},n,{component:e})):t?O.jsx(tue,Object.assign({},n,{transition:t})):O.jsx(qce,Object.assign({},n))}const nue=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function rue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let V_;function iue(e){return V_||(V_=new QF({ownerDocument:e?.document})),V_}function sue(e){const t=KF(),n=e||iue(t),r=A.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:A.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:A.useCallback(i=>{r.current.backdrop=i},[])})}const kj=A.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:h,runTransition:p,backdropTransition:g,runBackdropTransition:v,autoFocus:y=!0,enforceFocus:C=!0,restoreFocus:b=!0,restoreFocusOptions:E,renderDialog:x,renderBackdrop:k=Ce=>O.jsx("div",Object.assign({},Ce)),manager:D,container:R,onShow:_,onHide:I=()=>{},onExit:F,onExited:N,onExiting:B,onEnter:M,onEntering:L,onEntered:H}=e,ee=rue(e,nue);const re=KF(),te=$ce(R),he=sue(D),Z=ice(),V=sce(n),[X,z]=A.useState(!n),G=A.useRef(null);A.useImperativeHandle(t,()=>he,[he]),um&&!V&&n&&(G.current=L_(re?.document)),n&&X&&z(!1);const Y=Tc(()=>{if(he.add(),De.current=bS(document,"keydown",Re),Te.current=bS(document,"focus",()=>setTimeout(pe),!0),_&&_(),y){var Ce,ye;const Q=L_((Ce=(ye=he.dialog)==null?void 0:ye.ownerDocument)!=null?Ce:re?.document);he.dialog&&Q&&!Q3(he.dialog,Q)&&(G.current=Q,he.dialog.focus())}}),J=Tc(()=>{if(he.remove(),De.current==null||De.current(),Te.current==null||Te.current(),b){var Ce;(Ce=G.current)==null||Ce.focus==null||Ce.focus(E),G.current=null}});A.useEffect(()=>{!n||!te||Y()},[n,te,Y]),A.useEffect(()=>{X&&J()},[X,J]),jce(()=>{J()});const pe=Tc(()=>{if(!C||!Z()||!he.isTopModal())return;const Ce=L_(re?.document);he.dialog&&Ce&&!Q3(he.dialog,Ce)&&he.dialog.focus()}),He=Tc(Ce=>{Ce.target===Ce.currentTarget&&(c?.(Ce),a===!0&&I())}),Re=Tc(Ce=>{l&&$le(Ce)&&he.isTopModal()&&(u?.(Ce),Ce.defaultPrevented||I())}),Te=A.useRef(),De=A.useRef(),et=(...Ce)=>{z(!0),N?.(...Ce)};if(!te)return null;const ue=Object.assign({role:r,ref:he.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ee,{style:s,className:i,tabIndex:-1});let St=x?x(ue):O.jsx("div",Object.assign({},ue,{children:A.cloneElement(o,{role:"document"})}));St=rV(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:F,onExiting:B,onExited:et,onEnter:M,onEntering:L,onEntered:H,children:St});let j=null;return a&&(j=k({ref:he.setBackdropRef,onClick:He}),j=rV(g,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:j})),O.jsx(O.Fragment,{children:qu.createPortal(O.jsxs(O.Fragment,{children:[j,St]}),te)})});kj.displayName="Modal";const Dj=Object.assign(kj,{Manager:QF});function oue(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function aue(e,t){e.classList?e.classList.add(t):oue(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function iV(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function lue(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=iV(e.className,t):e.setAttribute("class",iV(e.className&&e.className.baseVal||"",t))}const Fp={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Pj extends QF{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,kc(n,{[t]:`${parseFloat(kc(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],kc(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(aue(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ph(n,Fp.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),ph(n,Fp.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),ph(n,Fp.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();lue(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ph(n,Fp.FIXED_CONTENT).forEach(s=>this.restore(r,s)),ph(n,Fp.STICKY_CONTENT).forEach(s=>this.restore(i,s)),ph(n,Fp.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let H_;function Fj(e){return H_||(H_=new Pj(e)),H_}const Ij=A.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ut(t,"modal-body"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));Ij.displayName="ModalBody";const ZF=A.createContext({onHide(){}}),JF=A.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{e=Ut(e,"modal");const u=`${e}-dialog`,h=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return O.jsx("div",{...l,ref:c,className:Ft(u,t,i&&`${e}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,s&&h),children:O.jsx("div",{className:Ft(`${e}-content`,n),children:o})})});JF.displayName="ModalDialog";const Mj=A.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ut(t,"modal-footer"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));Mj.displayName="ModalFooter";const e2=A.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=A.useContext(ZF),l=ad(()=>{a?.onHide(),r?.()});return O.jsxs("div",{ref:o,...s,children:[i,n&&O.jsx(aE,{"aria-label":e,variant:t,onClick:l})]})});e2.displayName="AbstractModalHeader";const Oj=A.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Ut(e,"modal-header"),O.jsx(e2,{ref:s,...i,className:Ft(t,e),closeLabel:n,closeButton:r})));Oj.displayName="ModalHeader";const cue=Rw("h4"),Nj=A.forwardRef(({className:e,bsPrefix:t,as:n=cue,...r},i)=>(t=Ut(t,"modal-title"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));Nj.displayName="ModalTitle";function uue(e){return O.jsx(Og,{...e,timeout:null})}function due(e){return O.jsx(Og,{...e,timeout:null})}const Lj=A.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=JF,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":c,"aria-label":u,show:h=!1,animation:p=!0,backdrop:g=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:C,onHide:b,container:E,autoFocus:x=!0,enforceFocus:k=!0,restoreFocus:D=!0,restoreFocusOptions:R,onEntered:_,onExit:I,onExiting:F,onEnter:N,onEntering:B,onExited:M,backdropClassName:L,manager:H,...ee},re)=>{const[te,he]=A.useState({}),[Z,V]=A.useState(!1),X=A.useRef(!1),z=A.useRef(!1),G=A.useRef(null),[Y,J]=Uce(),pe=K9(re,J),He=ad(b),Re=Ile();e=Ut(e,"modal");const Te=A.useMemo(()=>({onHide:He}),[He]);function De(){return H||Fj({isRTL:Re})}function et(fe){if(!um)return;const Me=De().getScrollbarWidth()>0,We=fe.scrollHeight>sE(fe).documentElement.clientHeight;he({paddingRight:Me&&!We?tV():void 0,paddingLeft:!Me&&We?tV():void 0})}const ue=ad(()=>{Y&&et(Y.dialog)});wce(()=>{Yk(window,"resize",ue),G.current==null||G.current()});const St=()=>{X.current=!0},j=fe=>{X.current&&Y&&fe.target===Y.dialog&&(z.current=!0),X.current=!1},Ce=()=>{V(!0),G.current=$9(Y.dialog,()=>{V(!1)})},ye=fe=>{fe.target===fe.currentTarget&&Ce()},Q=fe=>{if(g==="static"){ye(fe);return}if(z.current||fe.target!==fe.currentTarget){z.current=!1;return}b?.()},oe=fe=>{v?y?.(fe):(fe.preventDefault(),g==="static"&&Ce())},ve=(fe,Me)=>{fe&&et(fe),N?.(fe,Me)},Fe=fe=>{G.current==null||G.current(),I?.(fe)},Ue=(fe,Me)=>{B?.(fe,Me),W9(window,"resize",ue)},xe=fe=>{fe&&(fe.style.display=""),M?.(fe),Yk(window,"resize",ue)},Ke=A.useCallback(fe=>O.jsx("div",{...fe,className:Ft(`${e}-backdrop`,L,!p&&"show")}),[p,L,e]),st={...n,...te};st.display="block";const Je=fe=>O.jsx("div",{role:"dialog",...fe,style:st,className:Ft(t,e,Z&&`${e}-static`,!p&&"show"),onClick:g?Q:void 0,onMouseUp:j,"data-bs-theme":a,"aria-label":u,"aria-labelledby":l,"aria-describedby":c,children:O.jsx(o,{...ee,onMouseDown:St,className:r,contentClassName:i,children:s})});return O.jsx(ZF.Provider,{value:Te,children:O.jsx(Dj,{show:h,ref:pe,backdrop:g,container:E,keyboard:!0,autoFocus:x,enforceFocus:k,restoreFocus:D,restoreFocusOptions:R,onEscapeKeyDown:oe,onShow:C,onHide:b,onEnter:ve,onEntering:Ue,onEntered:_,onExit:Fe,onExiting:F,onExited:xe,manager:De(),transition:p?uue:void 0,backdropTransition:p?due:void 0,renderBackdrop:Ke,renderDialog:Je})})});Lj.displayName="Modal";const Sr=Object.assign(Lj,{Body:Ij,Header:Oj,Title:Nj,Footer:Mj,Dialog:JF,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Bj=A.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=Ut(e,"navbar-brand");const s=n||(r.href?"a":"span");return O.jsx(s,{...r,ref:i,className:Ft(t,e)})});Bj.displayName="NavbarBrand";const Vj=A.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=Ut(t,"navbar-collapse");const i=A.useContext(_w);return O.jsx(Y9,{in:!!(i&&i.expanded),...n,children:O.jsx("div",{ref:r,className:t,children:e})})});Vj.displayName="NavbarCollapse";const Hj=A.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{e=Ut(e,"navbar-toggler");const{onToggle:l,expanded:c}=A.useContext(_w)||{},u=ad(h=>{s&&s(h),l&&l()});return i==="button"&&(o.type="button"),O.jsx(i,{...o,ref:a,onClick:u,"aria-label":r,className:Ft(t,e,!c&&"collapsed"),children:n||O.jsx("span",{className:`${e}-icon`})})});Hj.displayName="NavbarToggle";const Qk=new WeakMap,sV=(e,t)=>{if(!e||!t)return;const n=Qk.get(t)||new Map;Qk.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function hue(e,t=typeof window>"u"?void 0:window){const n=sV(e,t),[r,i]=A.useState(()=>n?n.matches:!1);return kce(()=>{let s=sV(e,t);if(!s)return i(!1);let o=Qk.get(t);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[e]),r}function fue(e){const t=Object.keys(e);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function i(a){const l=r(a);let c=e[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let l=e[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,c){let u;typeof a=="object"?(u=a,c=l,l=!0):(l=l||!0,u={[a]:l});let h=A.useMemo(()=>Object.entries(u).reduce((p,[g,v])=>((v==="up"||v===!0)&&(p=n(p,s(g))),(v==="down"||v===!0)&&(p=n(p,i(g))),p),""),[JSON.stringify(u)]);return hue(h,c)}return o}const pue=fue({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Gj=A.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ut(t,"offcanvas-body"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));Gj.displayName="OffcanvasBody";const gue={[Oa]:"show",[Ec]:"show"},Uj=A.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(e=Ut(e,"offcanvas"),O.jsx(oE,{ref:l,addEndListener:zF,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:cm(n),children:(c,u)=>A.cloneElement(n,{...u,className:Ft(t,n.props.className,(c===Oa||c===ly)&&`${e}-toggling`,gue[c])})})));Uj.displayName="OffcanvasToggling";const zj=A.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Ut(e,"offcanvas-header"),O.jsx(e2,{ref:s,...i,className:Ft(t,e),closeLabel:n,closeButton:r})));zj.displayName="OffcanvasHeader";const mue=Rw("h5"),jj=A.forwardRef(({className:e,bsPrefix:t,as:n=mue,...r},i)=>(t=Ut(t,"offcanvas-title"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));jj.displayName="OffcanvasTitle";function vue(e){return O.jsx(Uj,{...e})}function yue(e){return O.jsx(Og,{...e})}const Wj=A.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:u,onShow:h,onHide:p,container:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:C=!0,restoreFocusOptions:b,onEntered:E,onExit:x,onExiting:k,onEnter:D,onEntering:R,onExited:_,backdropClassName:I,manager:F,renderStaticNode:N=!1,...B},M)=>{const L=A.useRef();e=Ut(e,"offcanvas");const[H,ee]=A.useState(!1),re=ad(p),te=pue(s||"xs","up");A.useEffect(()=>{ee(s?o&&!te:o)},[o,s,te]);const he=A.useMemo(()=>({onHide:re}),[re]);function Z(){return F||(c?(L.current||(L.current=new Pj({handleContainerOverflow:!1})),L.current):Fj())}const V=(Y,...J)=>{Y&&(Y.style.visibility="visible"),D?.(Y,...J)},X=(Y,...J)=>{Y&&(Y.style.visibility=""),_?.(...J)},z=A.useCallback(Y=>O.jsx("div",{...Y,className:Ft(`${e}-backdrop`,I)}),[I,e]),G=Y=>O.jsx("div",{...Y,...B,className:Ft(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return O.jsxs(O.Fragment,{children:[!H&&(s||N)&&G({}),O.jsx(ZF.Provider,{value:he,children:O.jsx(Dj,{show:H,ref:M,backdrop:a,container:g,keyboard:l,autoFocus:v,enforceFocus:y&&!c,restoreFocus:C,restoreFocusOptions:b,onEscapeKeyDown:u,onShow:h,onHide:re,onEnter:V,onEntering:R,onEntered:E,onExit:x,onExiting:k,onExited:X,manager:Z(),transition:vue,backdropTransition:yue,renderBackdrop:z,renderDialog:G})})]})});Wj.displayName="Offcanvas";const rv=Object.assign(Wj,{Body:Gj,Header:zj,Title:jj}),$j=A.forwardRef(({onHide:e,...t},n)=>{const r=A.useContext(_w),i=ad(()=>{r==null||r.onToggle==null||r.onToggle(),e?.()});return O.jsx(rv,{ref:n,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:i})});$j.displayName="NavbarOffcanvas";const qj=A.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Ut(t,"navbar-text"),O.jsx(n,{ref:i,className:Ft(e,t),...r})));qj.displayName="NavbarText";const Kj=A.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:u,onToggle:h,onSelect:p,collapseOnSelect:g=!1,...v}=UF(e,{expanded:"onToggle"}),y=Ut(n,"navbar"),C=A.useCallback((...x)=>{p?.(...x),g&&u&&h?.(!1)},[p,g,u,h]);v.role===void 0&&c!=="nav"&&(v.role="navigation");let b=`${y}-expand`;typeof r=="string"&&(b=`${b}-${r}`);const E=A.useMemo(()=>({onToggle:()=>h?.(!u),bsPrefix:y,expanded:!!u,expand:r}),[y,u,r,h]);return O.jsx(_w.Provider,{value:E,children:O.jsx(SS.Provider,{value:C,children:O.jsx(c,{ref:t,...v,className:Ft(l,y,r&&b,i&&`${y}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});Kj.displayName="Navbar";const wue=Object.assign(Kj,{Brand:Bj,Collapse:Vj,Offcanvas:$j,Text:qj,Toggle:Hj}),Ng=A.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Ut(e,"row"),o=U9(),a=z9(),l=`${s}-cols`,c=[];return o.forEach(u=>{const h=r[u];delete r[u];let p;h!=null&&typeof h=="object"?{cols:p}=h:p=h;const g=u!==a?`-${u}`:"";p!=null&&c.push(`${l}${g}-${p}`)}),O.jsx(n,{ref:i,...r,className:Ft(t,s,...c)})});Ng.displayName="Row";const to=A.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{e=Ut(e,"spinner");const l=`${e}-${n}`;return O.jsx(i,{ref:a,...o,className:Ft(s,l,r&&`${l}-${r}`,t&&`text-${t}`)})});to.displayName="Spinner";const Yj=A.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...c},u)=>{const h=Ut(e,"table"),p=Ft(t,h,a&&`${h}-${a}`,o&&`${h}-${o}`,n&&`${h}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${h}-bordered`,i&&`${h}-borderless`,s&&`${h}-hover`),g=O.jsx("table",{...c,className:p,ref:u});if(l){let v=`${h}-responsive`;return typeof l=="string"&&(v=`${v}-${l}`),O.jsx("div",{className:v,children:g})}return g});Yj.displayName="Table";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bue=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),oV=e=>{const t=bue(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),xue=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>A.createElement("svg",{ref:l,...Sue,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Xj("lucide",i),...!s&&!xue(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>A.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=(e,t)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(Eue,{ref:s,iconNode:t,className:Xj(`lucide-${Cue(oV(e))}`,`lucide-${e}`,r),...i}));return n.displayName=oV(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rue=On("arrow-left",Tue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aV=On("arrow-right",_ue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lV=On("book-open",Aue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],t2=On("bot",kue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Vb=On("box",Due);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Fue=On("chart-line",Pue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mue=On("chevron-left",Iue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],G_=On("chevron-right",Oue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Lue=On("circle-plus",Nue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vue=On("download",Bue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gue=On("eye-off",Hue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n2=On("eye",Uue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],jue=On("file-down",zue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Qj=On("heart",Wue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],que=On("image",$ue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Yue=On("info",Kue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Que=On("layers",Xue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jue=On("log-out",Zue);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tde=On("mail",ede);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],rde=On("map",nde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],sde=On("menu",ide);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Zj=On("message-square",ode);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kw=On("plus",ade);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cde=On("refresh-cw",lde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dde=On("save",ude);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r2=On("search",hde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pde=On("send",fde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hE=On("trash-2",gde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vde=On("upload",mde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],i2=On("user-plus",yde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],s2=On("user",wde);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pc=On("users",Cde),bde=({onMobileMenuToggle:e})=>{const{collapseSidebar:t,collapsed:n}=Ele();return O.jsx(wue,{bg:"light",expand:"lg",className:"border-bottom px-3",children:O.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[O.jsx("div",{className:"fw-bold fs-4",children:"English Tutor"}),O.jsx("div",{className:"d-lg-none",children:O.jsx(fr,{variant:"outline-primary",onClick:e,children:O.jsx(sde,{size:20})})}),O.jsx("div",{className:"d-none d-lg-block",children:O.jsx(fr,{variant:"outline-secondary",onClick:()=>t(),size:"sm",children:n?"":""})})]})})},xde=()=>{};var cV={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Sde=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},eW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[h],n[p],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Sde(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Ede;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ede extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tde=function(e){const t=Jj(e);return eW.encodeByteArray(t,!0)},_S=function(e){return Tde(e).replace(/\./g,"")},tW=function(e){try{return eW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _de=()=>Rde().__FIREBASE_DEFAULTS__,Ade=()=>{if(typeof process>"u"||typeof cV>"u")return;const e=cV.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kde=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tW(e[1]);return t&&JSON.parse(t)},fE=()=>{try{return xde()||_de()||Ade()||kde()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},nW=e=>fE()?.emulatorHosts?.[e],rW=e=>{const t=nW(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},iW=()=>fE()?.config,sW=e=>fE()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o2(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[_S(JSON.stringify(n)),_S(JSON.stringify(o)),""].join(".")}const wv={};function Pde(){const e={prod:[],emulator:[]};for(const t of Object.keys(wv))wv[t]?e.emulator.push(t):e.prod.push(t);return e}function Fde(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let uV=!1;function a2(e,t){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||wv[e]===t||wv[e]||uV)return;wv[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=Pde().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{uV=!0,o()},p}function u(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Fde(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),C=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),E=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),u(C,y);const k=c();l(E,b),x.append(E,v,C,k),document.body.appendChild(x)}s?(v.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ide(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gs())}function Mde(){const e=fE()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ode(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nde(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Lde(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bde(){const e=gs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vde(){return!Mde()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hde(){try{return typeof indexedDB=="object"}catch{return!1}}function Gde(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ude="FirebaseError";class Ka extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ude,Object.setPrototypeOf(this,Ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dw.prototype.create)}}class Dw{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?zde(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ka(i,a,r)}}function zde(e,t){return e.replace(jde,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const jde=/\{\$([^}]+)}/g;function Wde(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(dV(s)&&dV(o)){if(!Gc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dV(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function iv(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function sv(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $de(e,t){const n=new qde(e,t);return n.subscribe.bind(n)}class qde{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kde(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=U_),i.error===void 0&&(i.error=U_),i.complete===void 0&&(i.complete=U_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kde(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function U_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(e){return e&&e._delegate?e._delegate:e}let ld=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yde=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Dde;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Qde(t))try{this.getOrInitializeService({instanceIdentifier:gh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=gh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gh){return this.instances.has(t)}getOptions(t=gh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xde(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=gh){return this.component?this.component.multipleInstances?t:gh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Xde(e){return e===gh?void 0:e}function Qde(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Yde(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(vn||(vn={}));const Jde={debug:vn.DEBUG,verbose:vn.VERBOSE,info:vn.INFO,warn:vn.WARN,error:vn.ERROR,silent:vn.SILENT},ehe=vn.INFO,the={[vn.DEBUG]:"log",[vn.VERBOSE]:"log",[vn.INFO]:"info",[vn.WARN]:"warn",[vn.ERROR]:"error"},nhe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=the[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class l2{constructor(t){this.name=t,this._logLevel=ehe,this._logHandler=nhe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Jde[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vn.DEBUG,...t),this._logHandler(this,vn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vn.VERBOSE,...t),this._logHandler(this,vn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vn.INFO,...t),this._logHandler(this,vn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vn.WARN,...t),this._logHandler(this,vn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vn.ERROR,...t),this._logHandler(this,vn.ERROR,...t)}}const rhe=(e,t)=>t.some(n=>e instanceof n);let hV,fV;function ihe(){return hV||(hV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function she(){return fV||(fV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aW=new WeakMap,Zk=new WeakMap,lW=new WeakMap,z_=new WeakMap,c2=new WeakMap;function ohe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qu(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&aW.set(n,e)}).catch(()=>{}),c2.set(t,e),t}function ahe(e){if(Zk.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Zk.set(e,t)}let Jk={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Zk.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lW.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qu(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lhe(e){Jk=e(Jk)}function che(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(j_(this),t,...n);return lW.set(r,t.sort?t.sort():[t]),Qu(r)}:she().includes(e)?function(...t){return e.apply(j_(this),t),Qu(aW.get(this))}:function(...t){return Qu(e.apply(j_(this),t))}}function uhe(e){return typeof e=="function"?che(e):(e instanceof IDBTransaction&&ahe(e),rhe(e,ihe())?new Proxy(e,Jk):e)}function Qu(e){if(e instanceof IDBRequest)return ohe(e);if(z_.has(e))return z_.get(e);const t=uhe(e);return t!==e&&(z_.set(e,t),c2.set(t,e)),t}const j_=e=>c2.get(e);function dhe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Qu(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qu(o.result),l.oldVersion,l.newVersion,Qu(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hhe=["get","getKey","getAll","getAllKeys","count"],fhe=["put","add","delete","clear"],W_=new Map;function pV(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(W_.get(t))return W_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=fhe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hhe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return W_.set(t,s),s}lhe(e=>({...e,get:(t,n,r)=>pV(t,n)||e.get(t,n,r),has:(t,n)=>!!pV(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ghe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ghe(e){return e.getComponent()?.type==="VERSION"}const eD="@firebase/app",gV="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new l2("@firebase/app"),mhe="@firebase/app-compat",vhe="@firebase/analytics-compat",yhe="@firebase/analytics",whe="@firebase/app-check-compat",Che="@firebase/app-check",bhe="@firebase/auth",xhe="@firebase/auth-compat",She="@firebase/database",Ehe="@firebase/data-connect",The="@firebase/database-compat",Rhe="@firebase/functions",_he="@firebase/functions-compat",Ahe="@firebase/installations",khe="@firebase/installations-compat",Dhe="@firebase/messaging",Phe="@firebase/messaging-compat",Fhe="@firebase/performance",Ihe="@firebase/performance-compat",Mhe="@firebase/remote-config",Ohe="@firebase/remote-config-compat",Nhe="@firebase/storage",Lhe="@firebase/storage-compat",Bhe="@firebase/firestore",Vhe="@firebase/ai",Hhe="@firebase/firestore-compat",Ghe="firebase",Uhe="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="[DEFAULT]",zhe={[eD]:"fire-core",[mhe]:"fire-core-compat",[yhe]:"fire-analytics",[vhe]:"fire-analytics-compat",[Che]:"fire-app-check",[whe]:"fire-app-check-compat",[bhe]:"fire-auth",[xhe]:"fire-auth-compat",[She]:"fire-rtdb",[Ehe]:"fire-data-connect",[The]:"fire-rtdb-compat",[Rhe]:"fire-fn",[_he]:"fire-fn-compat",[Ahe]:"fire-iid",[khe]:"fire-iid-compat",[Dhe]:"fire-fcm",[Phe]:"fire-fcm-compat",[Fhe]:"fire-perf",[Ihe]:"fire-perf-compat",[Mhe]:"fire-rc",[Ohe]:"fire-rc-compat",[Nhe]:"fire-gcs",[Lhe]:"fire-gcs-compat",[Bhe]:"fire-fst",[Hhe]:"fire-fst-compat",[Vhe]:"fire-vertex","fire-js":"fire-js",[Ghe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map,jhe=new Map,nD=new Map;function mV(e,t){try{e.container.addComponent(t)}catch(n){Uc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jh(e){const t=e.name;if(nD.has(t))return Uc.debug(`There were multiple attempts to register component ${t}.`),!1;nD.set(t,e);for(const n of AS.values())mV(n,e);for(const n of jhe.values())mV(n,e);return!0}function pE(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yo(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zu=new Dw("app","Firebase",Whe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ld("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=Uhe;function cW(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:tD,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Zu.create("bad-app-name",{appName:String(i)});if(n||(n=iW()),!n)throw Zu.create("no-options");const s=AS.get(i);if(s){if(Gc(n,s.options)&&Gc(r,s.config))return s;throw Zu.create("duplicate-app",{appName:i})}const o=new Zde(i);for(const l of nD.values())o.addComponent(l);const a=new $he(n,r,o);return AS.set(i,a),a}function u2(e=tD){const t=AS.get(e);if(!t&&e===tD&&iW())return cW();if(!t)throw Zu.create("no-app",{appName:e});return t}function Pl(e,t,n){let r=zhe[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Uc.warn(o.join(" "));return}Jh(new ld(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe="firebase-heartbeat-database",Khe=1,uy="firebase-heartbeat-store";let $_=null;function uW(){return $_||($_=dhe(qhe,Khe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(uy)}catch(n){console.warn(n)}}}}).catch(e=>{throw Zu.create("idb-open",{originalErrorMessage:e.message})})),$_}async function Yhe(e){try{const n=(await uW()).transaction(uy),r=await n.objectStore(uy).get(dW(e));return await n.done,r}catch(t){if(t instanceof Ka)Uc.warn(t.message);else{const n=Zu.create("idb-get",{originalErrorMessage:t?.message});Uc.warn(n.message)}}}async function vV(e,t){try{const r=(await uW()).transaction(uy,"readwrite");await r.objectStore(uy).put(t,dW(e)),await r.done}catch(n){if(n instanceof Ka)Uc.warn(n.message);else{const r=Zu.create("idb-set",{originalErrorMessage:n?.message});Uc.warn(r.message)}}}function dW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xhe=1024,Qhe=30;class Zhe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new efe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yV();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Qhe){const i=tfe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Uc.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yV(),{heartbeatsToSend:n,unsentEntries:r}=Jhe(this._heartbeatsCache.heartbeats),i=_S(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Uc.warn(t),""}}}function yV(){return new Date().toISOString().substring(0,10)}function Jhe(e,t=Xhe){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wV(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wV(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class efe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hde()?Gde().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yhe(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vV(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vV(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function wV(e){return _S(JSON.stringify({version:2,heartbeats:e})).length}function tfe(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nfe(e){Jh(new ld("platform-logger",t=>new phe(t),"PRIVATE")),Jh(new ld("heartbeat",t=>new Zhe(t),"PRIVATE")),Pl(eD,gV,e),Pl(eD,gV,"esm2020"),Pl("fire-js","")}nfe("");var rfe="firebase",ife="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pl(rfe,ife,"app");const sfe="AIzaSyCw5stPCkMrXawbxzgT-aFT8Q3_swl5Ms4",ofe="tutordecolonial.firebaseapp.com",afe="tutordecolonial",lfe="tutordecolonial.firebasestorage.app",cfe="1086836762849",ufe="1:1086836762849:web:ed4d9b2715c421e4eeafa0",dfe={apiKey:sfe,authDomain:ofe,projectId:afe,storageBucket:lfe,messagingSenderId:cfe,appId:ufe};function hW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hfe=hW,fW=new Dw("auth","Firebase",hW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new l2("@firebase/auth");function ffe(e,...t){kS.logLevel<=vn.WARN&&kS.warn(`Auth (${_f}): ${e}`,...t)}function Hx(e,...t){kS.logLevel<=vn.ERROR&&kS.error(`Auth (${_f}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e,...t){throw d2(e,...t)}function Fl(e,...t){return d2(e,...t)}function pW(e,t,n){const r={...hfe(),[t]:n};return new Dw("auth","Firebase",r).create(t,{appName:e.name})}function Fc(e){return pW(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d2(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return fW.create(e,...t)}function Kt(e,t,...n){if(!e)throw d2(t,...n)}function Rc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hx(t),new Error(t)}function zc(e,t){e||Rc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return typeof self<"u"&&self.location?.href||""}function pfe(){return CV()==="http:"||CV()==="https:"}function CV(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gfe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pfe()||Nde()||"connection"in navigator)?navigator.onLine:!0}function mfe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,n){this.shortDelay=t,this.longDelay=n,zc(n>t,"Short delay should be less than long delay!"),this.isMobile=Ide()||Lde()}get(){return gfe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(e,t){zc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wfe=new Fw(3e4,6e4);function Ad(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function kd(e,t,n,r,i={}){return mW(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pw({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...s};return Ode()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&_d(e.emulatorConfig.host)&&(c.credentials="include"),gW.fetch()(await vW(e,e.config.apiHost,n,a),c)})}async function mW(e,t,n){e._canInitEmulator=!1;const r={...vfe,...t};try{const i=new bfe(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hb(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hb(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hb(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hb(e,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pW(e,u,c);Wa(e,u)}}catch(i){if(i instanceof Ka)throw i;Wa(e,"network-request-failed",{message:String(i)})}}async function Iw(e,t,n,r,i={}){const s=await kd(e,t,n,r,i);return"mfaPendingCredential"in s&&Wa(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function vW(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?h2(e.config,i):`${e.config.apiScheme}://${i}`;return yfe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Cfe(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bfe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fl(this.auth,"network-request-failed")),wfe.get())})}}function Hb(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fl(e,t,r);return i.customData._tokenResponse=n,i}function bV(e){return e!==void 0&&e.enterprise!==void 0}class xfe{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Cfe(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sfe(e,t){return kd(e,"GET","/v2/recaptchaConfig",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Efe(e,t){return kd(e,"POST","/v1/accounts:delete",t)}async function DS(e,t){return kd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tfe(e,t=!1){const n=vr(e),r=await n.getIdToken(t),i=f2(r);Kt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Cv(q_(i.auth_time)),issuedAtTime:Cv(q_(i.iat)),expirationTime:Cv(q_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function q_(e){return Number(e)*1e3}function f2(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Hx("JWT malformed, contained fewer than 3 sections"),null;try{const i=tW(n);return i?JSON.parse(i):(Hx("Failed to decode base64 JWT payload"),null)}catch(i){return Hx("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xV(e){const t=f2(e);return Kt(t,"internal-error"),Kt(typeof t.exp<"u","internal-error"),Kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dy(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ka&&Rfe(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Rfe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cv(this.lastLoginAt),this.creationTime=Cv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(e){const t=e.auth,n=await e.getIdToken(),r=await dy(e,DS(t,{idToken:n}));Kt(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?yW(i.providerUserInfo):[],o=kfe(e.providerData,s),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new iD(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function Afe(e){const t=vr(e);await PS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kfe(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function yW(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dfe(e,t){const n=await mW(e,{},async()=>{const r=Pw({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await vW(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&_d(e.emulatorConfig.host)&&(l.credentials="include"),gW.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pfe(e,t){return kd(e,"POST","/v2/accounts:revokeToken",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Kt(t.idToken,"internal-error"),Kt(typeof t.idToken<"u","internal-error"),Kt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xV(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Kt(t.length!==0,"internal-error");const n=xV(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Dfe(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ag;return r&&(Kt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Kt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Kt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ag,this.toJSON())}_performRefresh(){return Rc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e,t){Kt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class La{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new _fe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iD(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await dy(this,this.stsTokenManager.getToken(this.auth,t));return Kt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Tfe(this,t)}reload(){return Afe(this)}_assign(t){this!==t&&(Kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new La({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await PS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yo(this.auth.app))return Promise.reject(Fc(this.auth));const t=await this.getIdToken();return await dy(this,Efe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:v,stsTokenManager:y}=n;Kt(h&&y,t,"internal-error");const C=ag.fromJSON(this.name,y);Kt(typeof h=="string",t,"internal-error"),ku(r,t.name),ku(i,t.name),Kt(typeof p=="boolean",t,"internal-error"),Kt(typeof g=="boolean",t,"internal-error"),ku(s,t.name),ku(o,t.name),ku(a,t.name),ku(l,t.name),ku(c,t.name),ku(u,t.name);const b=new La({uid:h,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:C,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(b.providerData=v.map(E=>({...E}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(t,n,r=!1){const i=new ag;i.updateFromServerResponse(n);const s=new La({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await PS(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Kt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ag;a.updateFromIdToken(r);const l=new La({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new iD(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Map;function _c(e){zc(e instanceof Function,"Expected a class definition");let t=SV.get(e);return t?(zc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,SV.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wW.type="NONE";const EV=wW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(e,t,n){return`firebase:${e}:${t}:${n}`}class lg{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gx("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await DS(this.auth,{idToken:t}).catch(()=>{});return n?La._fromGetAccountInfoResponse(this.auth,n,t):null}return La._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new lg(_c(EV),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||_c(EV);const o=Gx(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const p=await DS(t,{idToken:u}).catch(()=>{});if(!p)break;h=await La._fromGetAccountInfoResponse(t,p,u)}else h=La._fromJSON(t,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lg(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new lg(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TW(t))return"Blackberry";if(RW(t))return"Webos";if(bW(t))return"Safari";if((t.includes("chrome/")||xW(t))&&!t.includes("edge/"))return"Chrome";if(EW(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function CW(e=gs()){return/firefox\//i.test(e)}function bW(e=gs()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xW(e=gs()){return/crios\//i.test(e)}function SW(e=gs()){return/iemobile/i.test(e)}function EW(e=gs()){return/android/i.test(e)}function TW(e=gs()){return/blackberry/i.test(e)}function RW(e=gs()){return/webos/i.test(e)}function p2(e=gs()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ffe(e=gs()){return p2(e)&&!!window.navigator?.standalone}function Ife(){return Bde()&&document.documentMode===10}function _W(e=gs()){return p2(e)||EW(e)||RW(e)||TW(e)||/windows phone/i.test(e)||SW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(e,t=[]){let n;switch(e){case"Browser":n=TV(gs());break;case"Worker":n=`${TV(gs())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${_f}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mfe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ofe(e,t={}){return kd(e,"GET","/v2/passwordPolicy",Ad(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nfe=6;class Lfe{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nfe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RV(this),this.idTokenSubscription=new RV(this),this.beforeStateQueue=new Mfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_c(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lg.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await DS(this,{idToken:t}),r=await La._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(yo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await PS(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mfe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yo(this.app))return Promise.reject(Fc(this));const n=t?vr(t):null;return n&&Kt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yo(this.app)?Promise.reject(Fc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yo(this.app)?Promise.reject(Fc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_c(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ofe(this),n=new Lfe(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dw("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pfe(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_c(t)||this._popupRedirectResolver;Kt(n,this,"argument-error"),this.redirectPersistenceManager=await lg.create(this,[_c(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=AW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(yo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ffe(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Af(e){return vr(e)}class RV{constructor(t){this.auth=t,this.observer=null,this.addObserver=$de(n=>this.observer=n)}get next(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vfe(e){gE=e}function kW(e){return gE.loadJS(e)}function Hfe(){return gE.recaptchaEnterpriseScript}function Gfe(){return gE.gapiScript}function Ufe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class zfe{constructor(){this.enterprise=new jfe}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class jfe{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Wfe="recaptcha-enterprise",DW="NO_RECAPTCHA";class $fe{constructor(t){this.type=Wfe,this.auth=Af(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Sfe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new xfe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;bV(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(DW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zfe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&bV(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Hfe();l.length!==0&&(l+=a),kW(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function _V(e,t,n,r=!1,i=!1){const s=new $fe(e);let o;if(i)o=DW;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function sD(e,t,n,r,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await _V(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await _V(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qfe(e,t){const n=pE(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gc(s,t??{}))return i;Wa(i,"already-initialized")}return n.initialize({options:t})}function Kfe(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_c);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Yfe(e,t,n){const r=Af(e);Kt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=PW(t),{host:o,port:a}=Xfe(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Kt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Kt(Gc(c,r.config.emulator)&&Gc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,_d(o)?(o2(`${s}//${o}${l}`),a2("Auth",!0)):Qfe()}function PW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xfe(e){const t=PW(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AV(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:AV(o)}}}function AV(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Qfe(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Rc("not implemented")}_getIdTokenResponse(t){return Rc("not implemented")}_linkToIdToken(t,n){return Rc("not implemented")}_getReauthenticationResolver(t){return Rc("not implemented")}}async function Zfe(e,t){return kd(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jfe(e,t){return Iw(e,"POST","/v1/accounts:signInWithPassword",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function epe(e,t){return Iw(e,"POST","/v1/accounts:signInWithEmailLink",Ad(e,t))}async function tpe(e,t){return Iw(e,"POST","/v1/accounts:signInWithEmailLink",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends g2{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new hy(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new hy(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sD(t,n,"signInWithPassword",Jfe);case"emailLink":return epe(t,{email:this._email,oobCode:this._password});default:Wa(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sD(t,r,"signUpPassword",Zfe);case"emailLink":return tpe(t,{idToken:n,email:this._email,oobCode:this._password});default:Wa(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(e,t){return Iw(e,"POST","/v1/accounts:signInWithIdp",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const npe="http://localhost";class ef extends g2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ef(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ef(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return cg(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,cg(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,cg(t,n)}buildRequest(){const t={requestUri:npe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pw(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rpe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ipe(e){const t=iv(sv(e)).link,n=t?iv(sv(t)).deep_link_id:null,r=iv(sv(e)).deep_link_id;return(r?iv(sv(r)).link:null)||r||n||t||e}class m2{constructor(t){const n=iv(sv(t)),r=n.apiKey??null,i=n.oobCode??null,s=rpe(n.mode??null);Kt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=ipe(t);try{return new m2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.providerId=dm.PROVIDER_ID}static credential(t,n){return hy._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=m2.parseLink(n);return Kt(r,"argument-error"),hy._fromEmailAndCode(t,r.code,r.tenantId)}}dm.PROVIDER_ID="password";dm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends FW{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Mw{constructor(){super("facebook.com")}static credential(t){return ef._fromParams({providerId:Hu.PROVIDER_ID,signInMethod:Hu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hu.credentialFromTaggedObject(t)}static credentialFromError(t){return Hu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hu.credential(t.oauthAccessToken)}catch{return null}}}Hu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Mw{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ef._fromParams({providerId:Gu.PROVIDER_ID,signInMethod:Gu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Gu.credentialFromTaggedObject(t)}static credentialFromError(t){return Gu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gu.credential(n,r)}catch{return null}}}Gu.GOOGLE_SIGN_IN_METHOD="google.com";Gu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Mw{constructor(){super("github.com")}static credential(t){return ef._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Uu.credentialFromTaggedObject(t)}static credentialFromError(t){return Uu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Uu.credential(t.oauthAccessToken)}catch{return null}}}Uu.GITHUB_SIGN_IN_METHOD="github.com";Uu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Mw{constructor(){super("twitter.com")}static credential(t,n){return ef._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zu.credentialFromTaggedObject(t)}static credentialFromError(t){return zu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return zu.credential(n,r)}catch{return null}}}zu.TWITTER_SIGN_IN_METHOD="twitter.com";zu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function spe(e,t){return Iw(e,"POST","/v1/accounts:signUp",Ad(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await La._fromIdTokenResponse(t,r,i),o=kV(r);return new tf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=kV(r);return new tf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function kV(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends Ka{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,FS.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new FS(t,n,r,i)}}function IW(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?FS._fromErrorAndOperation(e,s,t,r):s})}async function ope(e,t,n=!1){const r=await dy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ape(e,t,n=!1){const{auth:r}=e;if(yo(r.app))return Promise.reject(Fc(r));const i="reauthenticate";try{const s=await dy(e,IW(r,i,t,e),n);Kt(s.idToken,r,"internal-error");const o=f2(s.idToken);Kt(o,r,"internal-error");const{sub:a}=o;return Kt(e.uid===a,r,"user-mismatch"),tf._forOperation(e,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Wa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(e,t,n=!1){if(yo(e.app))return Promise.reject(Fc(e));const r="signIn",i=await IW(e,r,t),s=await tf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function lpe(e,t){return MW(Af(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(e){const t=Af(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function cpe(e,t,n){if(yo(e.app))return Promise.reject(Fc(e));const r=Af(e),o=await sD(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",spe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OW(e),l}),a=await tf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function upe(e,t,n){return yo(e.app)?Promise.reject(Fc(e)):lpe(vr(e),dm.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OW(e),r})}function dpe(e,t,n,r){return vr(e).onIdTokenChanged(t,n,r)}function hpe(e,t,n){return vr(e).beforeAuthStateChanged(t,n)}function fpe(e){return vr(e).signOut()}const IS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(IS,"1"),this.storage.removeItem(IS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ppe=1e3,gpe=10;class LW extends NW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_W(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Ife()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,gpe):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ppe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}LW.type="LOCAL";const mpe=LW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW extends NW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BW.type="SESSION";const VW=BW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vpe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new mE(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await vpe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ype{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=v2("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(){return window}function wpe(e){Il().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(){return typeof Il().WorkerGlobalScope<"u"&&typeof Il().importScripts=="function"}async function Cpe(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bpe(){return navigator?.serviceWorker?.controller||null}function xpe(){return HW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="firebaseLocalStorageDb",Spe=1,MS="firebaseLocalStorage",UW="fbase_key";class Ow{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vE(e,t){return e.transaction([MS],t?"readwrite":"readonly").objectStore(MS)}function Epe(){const e=indexedDB.deleteDatabase(GW);return new Ow(e).toPromise()}function oD(){const e=indexedDB.open(GW,Spe);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(MS,{keyPath:UW})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(MS)?t(r):(r.close(),await Epe(),t(await oD()))})})}async function DV(e,t,n){const r=vE(e,!0).put({[UW]:t,value:n});return new Ow(r).toPromise()}async function Tpe(e,t){const n=vE(e,!1).get(t),r=await new Ow(n).toPromise();return r===void 0?null:r.value}function PV(e,t){const n=vE(e,!0).delete(t);return new Ow(n).toPromise()}const Rpe=800,_pe=3;class zW{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oD(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>_pe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mE._getInstance(xpe()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cpe(),!this.activeServiceWorker)return;this.sender=new ype(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await oD();return await DV(t,IS,"1"),await PV(t,IS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DV(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Tpe(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>PV(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=vE(i,!1).getAll();return new Ow(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zW.type="LOCAL";const Ape=zW;new Fw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kpe(e,t){return t?_c(t):(Kt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2 extends g2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cg(t,this._buildIdpRequest())}_linkToIdToken(t,n){return cg(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return cg(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Dpe(e){return MW(e.auth,new y2(e),e.bypassAuthState)}function Ppe(e){const{auth:t,user:n}=e;return Kt(n,t,"internal-error"),ape(n,new y2(e),e.bypassAuthState)}async function Fpe(e){const{auth:t,user:n}=e;return Kt(n,t,"internal-error"),ope(n,new y2(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Dpe;case"linkViaPopup":case"linkViaRedirect":return Fpe;case"reauthViaPopup":case"reauthViaRedirect":return Ppe;default:Wa(this.auth,"internal-error")}}resolve(t){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ipe=new Fw(2e3,1e4);class Yp extends jW{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yp.currentPopupAction&&Yp.currentPopupAction.cancel(),Yp.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Kt(t,this.auth,"internal-error"),t}async onExecution(){zc(this.filter.length===1,"Popup operations only handle one event");const t=v2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yp.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ipe.get())};t()}}Yp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mpe="pendingRedirect",Ux=new Map;class Ope extends jW{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Ux.get(this.auth._key());if(!t){try{const r=await Npe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Ux.set(this.auth._key(),t)}return this.bypassAuthState||Ux.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Npe(e,t){const n=Vpe(t),r=Bpe(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Lpe(e,t){Ux.set(e._key(),t)}function Bpe(e){return _c(e._redirectPersistence)}function Vpe(e){return Gx(Mpe,e.config.apiKey,e.name)}async function Hpe(e,t,n=!1){if(yo(e.app))return Promise.reject(Fc(e));const r=Af(e),i=kpe(r,t),o=await new Ope(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gpe=600*1e3;class Upe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zpe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!WW(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Fl(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gpe&&this.cachedEventUids.clear(),this.cachedEventUids.has(FV(t))}saveEventToCache(t){this.cachedEventUids.add(FV(t)),this.lastProcessedEventTime=Date.now()}}function FV(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function WW({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function zpe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WW(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jpe(e,t={}){return kd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$pe=/^https?/;async function qpe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jpe(e);for(const n of t)try{if(Kpe(n))return}catch{}Wa(e,"unauthorized-domain")}function Kpe(e){const t=rD(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$pe.test(n))return!1;if(Wpe.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ype=new Fw(3e4,6e4);function IV(){const e=Il().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Xpe(e){return new Promise((t,n)=>{function r(){IV(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{IV(),n(Fl(e,"network-request-failed"))},timeout:Ype.get()})}if(Il().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Il().gapi?.load)r();else{const i=Ufe("iframefcb");return Il()[i]=()=>{gapi.load?r():n(Fl(e,"network-request-failed"))},kW(`${Gfe()}?onload=${i}`).catch(s=>n(s))}}).catch(t=>{throw zx=null,t})}let zx=null;function Qpe(e){return zx=zx||Xpe(e),zx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zpe=new Fw(5e3,15e3),Jpe="__/auth/iframe",ege="emulator/auth/iframe",tge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rge(e){const t=e.config;Kt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?h2(t,ege):`https://${e.config.authDomain}/${Jpe}`,r={apiKey:t.apiKey,appName:e.name,v:_f},i=nge.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pw(r).slice(1)}`}async function ige(e){const t=await Qpe(e),n=Il().gapi;return Kt(n,e,"internal-error"),t.open({where:document.body,url:rge(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tge,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fl(e,"network-request-failed"),a=Il().setTimeout(()=>{s(o)},Zpe.get());function l(){Il().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oge=500,age=600,lge="_blank",cge="http://localhost";class MV{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uge(e,t,n,r=oge,i=age){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...sge,width:r.toString(),height:i.toString(),top:s,left:o},c=gs().toLowerCase();n&&(a=xW(c)?lge:n),CW(c)&&(t=t||cge,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(Ffe(c)&&a!=="_self")return dge(t||"",a),new MV(null);const h=window.open(t||"",a,u);Kt(h,e,"popup-blocked");try{h.focus()}catch{}return new MV(h)}function dge(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hge="__/auth/handler",fge="emulator/auth/handler",pge=encodeURIComponent("fac");async function OV(e,t,n,r,i,s){Kt(e.config.authDomain,e,"auth-domain-config-required"),Kt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_f,eventId:i};if(t instanceof FW){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Wde(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(t instanceof Mw){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${pge}=${encodeURIComponent(l)}`:"";return`${gge(e)}?${Pw(a).slice(1)}${c}`}function gge({config:e}){return e.emulator?h2(e,fge):`https://${e.authDomain}/${hge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="webStorageSupport";class mge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VW,this._completeRedirectFn=Hpe,this._overrideRedirectResult=Lpe}async _openPopup(t,n,r,i){zc(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await OV(t,n,r,rD(),i);return uge(t,s,v2())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await OV(t,n,r,rD(),i);return wpe(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await ige(t),r=new Upe(t);return n.register("authEvent",i=>(Kt(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(K_,{type:K_},i=>{const s=i?.[0]?.[K_];s!==void 0&&n(!!s),Wa(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qpe(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _W()||bW()||p2()}}const vge=mge;var NV="@firebase/auth",LV="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yge{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wge(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cge(e){Jh(new ld("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Kt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AW(e)},c=new Bfe(r,i,s,l);return Kfe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Jh(new ld("auth-internal",t=>{const n=Af(t.getProvider("auth").getImmediate());return(r=>new yge(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pl(NV,LV,wge(e)),Pl(NV,LV,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bge=300,xge=sW("authIdTokenMaxAge")||bge;let BV=null;const Sge=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xge)return;const i=n?.token;BV!==i&&(BV=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ege(e=u2()){const t=pE(e,"auth");if(t.isInitialized())return t.getImmediate();const n=qfe(e,{popupRedirectResolver:vge,persistence:[Ape,mpe,VW]}),r=sW("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Sge(s.toString());hpe(n,o,()=>o(n.currentUser)),dpe(n,a=>o(a))}}const i=nW("auth");return i&&Yfe(n,`http://${i}`),n}function Tge(){return document.getElementsByTagName("head")?.[0]??document}Vfe({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Fl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Tge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cge("Browser");var VV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ju,$W;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,I){function F(){}F.prototype=I.prototype,_.D=I.prototype,_.prototype=new F,_.prototype.constructor=_,_.C=function(N,B,M){for(var L=Array(arguments.length-2),H=2;H<arguments.length;H++)L[H-2]=arguments[H];return I.prototype[B].apply(N,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,I,F){F||(F=0);var N=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)N[B]=I.charCodeAt(F++)|I.charCodeAt(F++)<<8|I.charCodeAt(F++)<<16|I.charCodeAt(F++)<<24;else for(B=0;16>B;++B)N[B]=I[F++]|I[F++]<<8|I[F++]<<16|I[F++]<<24;I=_.g[0],F=_.g[1],B=_.g[2];var M=_.g[3],L=I+(M^F&(B^M))+N[0]+3614090360&4294967295;I=F+(L<<7&4294967295|L>>>25),L=M+(B^I&(F^B))+N[1]+3905402710&4294967295,M=I+(L<<12&4294967295|L>>>20),L=B+(F^M&(I^F))+N[2]+606105819&4294967295,B=M+(L<<17&4294967295|L>>>15),L=F+(I^B&(M^I))+N[3]+3250441966&4294967295,F=B+(L<<22&4294967295|L>>>10),L=I+(M^F&(B^M))+N[4]+4118548399&4294967295,I=F+(L<<7&4294967295|L>>>25),L=M+(B^I&(F^B))+N[5]+1200080426&4294967295,M=I+(L<<12&4294967295|L>>>20),L=B+(F^M&(I^F))+N[6]+2821735955&4294967295,B=M+(L<<17&4294967295|L>>>15),L=F+(I^B&(M^I))+N[7]+4249261313&4294967295,F=B+(L<<22&4294967295|L>>>10),L=I+(M^F&(B^M))+N[8]+1770035416&4294967295,I=F+(L<<7&4294967295|L>>>25),L=M+(B^I&(F^B))+N[9]+2336552879&4294967295,M=I+(L<<12&4294967295|L>>>20),L=B+(F^M&(I^F))+N[10]+4294925233&4294967295,B=M+(L<<17&4294967295|L>>>15),L=F+(I^B&(M^I))+N[11]+2304563134&4294967295,F=B+(L<<22&4294967295|L>>>10),L=I+(M^F&(B^M))+N[12]+1804603682&4294967295,I=F+(L<<7&4294967295|L>>>25),L=M+(B^I&(F^B))+N[13]+4254626195&4294967295,M=I+(L<<12&4294967295|L>>>20),L=B+(F^M&(I^F))+N[14]+2792965006&4294967295,B=M+(L<<17&4294967295|L>>>15),L=F+(I^B&(M^I))+N[15]+1236535329&4294967295,F=B+(L<<22&4294967295|L>>>10),L=I+(B^M&(F^B))+N[1]+4129170786&4294967295,I=F+(L<<5&4294967295|L>>>27),L=M+(F^B&(I^F))+N[6]+3225465664&4294967295,M=I+(L<<9&4294967295|L>>>23),L=B+(I^F&(M^I))+N[11]+643717713&4294967295,B=M+(L<<14&4294967295|L>>>18),L=F+(M^I&(B^M))+N[0]+3921069994&4294967295,F=B+(L<<20&4294967295|L>>>12),L=I+(B^M&(F^B))+N[5]+3593408605&4294967295,I=F+(L<<5&4294967295|L>>>27),L=M+(F^B&(I^F))+N[10]+38016083&4294967295,M=I+(L<<9&4294967295|L>>>23),L=B+(I^F&(M^I))+N[15]+3634488961&4294967295,B=M+(L<<14&4294967295|L>>>18),L=F+(M^I&(B^M))+N[4]+3889429448&4294967295,F=B+(L<<20&4294967295|L>>>12),L=I+(B^M&(F^B))+N[9]+568446438&4294967295,I=F+(L<<5&4294967295|L>>>27),L=M+(F^B&(I^F))+N[14]+3275163606&4294967295,M=I+(L<<9&4294967295|L>>>23),L=B+(I^F&(M^I))+N[3]+4107603335&4294967295,B=M+(L<<14&4294967295|L>>>18),L=F+(M^I&(B^M))+N[8]+1163531501&4294967295,F=B+(L<<20&4294967295|L>>>12),L=I+(B^M&(F^B))+N[13]+2850285829&4294967295,I=F+(L<<5&4294967295|L>>>27),L=M+(F^B&(I^F))+N[2]+4243563512&4294967295,M=I+(L<<9&4294967295|L>>>23),L=B+(I^F&(M^I))+N[7]+1735328473&4294967295,B=M+(L<<14&4294967295|L>>>18),L=F+(M^I&(B^M))+N[12]+2368359562&4294967295,F=B+(L<<20&4294967295|L>>>12),L=I+(F^B^M)+N[5]+4294588738&4294967295,I=F+(L<<4&4294967295|L>>>28),L=M+(I^F^B)+N[8]+2272392833&4294967295,M=I+(L<<11&4294967295|L>>>21),L=B+(M^I^F)+N[11]+1839030562&4294967295,B=M+(L<<16&4294967295|L>>>16),L=F+(B^M^I)+N[14]+4259657740&4294967295,F=B+(L<<23&4294967295|L>>>9),L=I+(F^B^M)+N[1]+2763975236&4294967295,I=F+(L<<4&4294967295|L>>>28),L=M+(I^F^B)+N[4]+1272893353&4294967295,M=I+(L<<11&4294967295|L>>>21),L=B+(M^I^F)+N[7]+4139469664&4294967295,B=M+(L<<16&4294967295|L>>>16),L=F+(B^M^I)+N[10]+3200236656&4294967295,F=B+(L<<23&4294967295|L>>>9),L=I+(F^B^M)+N[13]+681279174&4294967295,I=F+(L<<4&4294967295|L>>>28),L=M+(I^F^B)+N[0]+3936430074&4294967295,M=I+(L<<11&4294967295|L>>>21),L=B+(M^I^F)+N[3]+3572445317&4294967295,B=M+(L<<16&4294967295|L>>>16),L=F+(B^M^I)+N[6]+76029189&4294967295,F=B+(L<<23&4294967295|L>>>9),L=I+(F^B^M)+N[9]+3654602809&4294967295,I=F+(L<<4&4294967295|L>>>28),L=M+(I^F^B)+N[12]+3873151461&4294967295,M=I+(L<<11&4294967295|L>>>21),L=B+(M^I^F)+N[15]+530742520&4294967295,B=M+(L<<16&4294967295|L>>>16),L=F+(B^M^I)+N[2]+3299628645&4294967295,F=B+(L<<23&4294967295|L>>>9),L=I+(B^(F|~M))+N[0]+4096336452&4294967295,I=F+(L<<6&4294967295|L>>>26),L=M+(F^(I|~B))+N[7]+1126891415&4294967295,M=I+(L<<10&4294967295|L>>>22),L=B+(I^(M|~F))+N[14]+2878612391&4294967295,B=M+(L<<15&4294967295|L>>>17),L=F+(M^(B|~I))+N[5]+4237533241&4294967295,F=B+(L<<21&4294967295|L>>>11),L=I+(B^(F|~M))+N[12]+1700485571&4294967295,I=F+(L<<6&4294967295|L>>>26),L=M+(F^(I|~B))+N[3]+2399980690&4294967295,M=I+(L<<10&4294967295|L>>>22),L=B+(I^(M|~F))+N[10]+4293915773&4294967295,B=M+(L<<15&4294967295|L>>>17),L=F+(M^(B|~I))+N[1]+2240044497&4294967295,F=B+(L<<21&4294967295|L>>>11),L=I+(B^(F|~M))+N[8]+1873313359&4294967295,I=F+(L<<6&4294967295|L>>>26),L=M+(F^(I|~B))+N[15]+4264355552&4294967295,M=I+(L<<10&4294967295|L>>>22),L=B+(I^(M|~F))+N[6]+2734768916&4294967295,B=M+(L<<15&4294967295|L>>>17),L=F+(M^(B|~I))+N[13]+1309151649&4294967295,F=B+(L<<21&4294967295|L>>>11),L=I+(B^(F|~M))+N[4]+4149444226&4294967295,I=F+(L<<6&4294967295|L>>>26),L=M+(F^(I|~B))+N[11]+3174756917&4294967295,M=I+(L<<10&4294967295|L>>>22),L=B+(I^(M|~F))+N[2]+718787259&4294967295,B=M+(L<<15&4294967295|L>>>17),L=F+(M^(B|~I))+N[9]+3951481745&4294967295,_.g[0]=_.g[0]+I&4294967295,_.g[1]=_.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,_.g[2]=_.g[2]+B&4294967295,_.g[3]=_.g[3]+M&4294967295}r.prototype.u=function(_,I){I===void 0&&(I=_.length);for(var F=I-this.blockSize,N=this.B,B=this.h,M=0;M<I;){if(B==0)for(;M<=F;)i(this,_,M),M+=this.blockSize;if(typeof _=="string"){for(;M<I;)if(N[B++]=_.charCodeAt(M++),B==this.blockSize){i(this,N),B=0;break}}else for(;M<I;)if(N[B++]=_[M++],B==this.blockSize){i(this,N),B=0;break}}this.h=B,this.o+=I},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var I=1;I<_.length-8;++I)_[I]=0;var F=8*this.o;for(I=_.length-8;I<_.length;++I)_[I]=F&255,F/=256;for(this.u(_),_=Array(16),I=F=0;4>I;++I)for(var N=0;32>N;N+=8)_[F++]=this.g[I]>>>N&255;return _};function s(_,I){var F=a;return Object.prototype.hasOwnProperty.call(F,_)?F[_]:F[_]=I(_)}function o(_,I){this.h=I;for(var F=[],N=!0,B=_.length-1;0<=B;B--){var M=_[B]|0;N&&M==I||(F[B]=M,N=!1)}this.g=F}var a={};function l(_){return-128<=_&&128>_?s(_,function(I){return new o([I|0],0>I?-1:0)}):new o([_|0],0>_?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return h;if(0>_)return C(c(-_));for(var I=[],F=1,N=0;_>=F;N++)I[N]=_/F|0,F*=4294967296;return new o(I,0)}function u(_,I){if(_.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_.charAt(0)=="-")return C(u(_.substring(1),I));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=c(Math.pow(I,8)),N=h,B=0;B<_.length;B+=8){var M=Math.min(8,_.length-B),L=parseInt(_.substring(B,B+M),I);8>M?(M=c(Math.pow(I,M)),N=N.j(M).add(c(L))):(N=N.j(F),N=N.add(c(L)))}return N}var h=l(0),p=l(1),g=l(16777216);e=o.prototype,e.m=function(){if(y(this))return-C(this).m();for(var _=0,I=1,F=0;F<this.g.length;F++){var N=this.i(F);_+=(0<=N?N:4294967296+N)*I,I*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(v(this))return"0";if(y(this))return"-"+C(this).toString(_);for(var I=c(Math.pow(_,6)),F=this,N="";;){var B=k(F,I).g;F=b(F,B.j(I));var M=((0<F.g.length?F.g[0]:F.h)>>>0).toString(_);if(F=B,v(F))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function v(_){if(_.h!=0)return!1;for(var I=0;I<_.g.length;I++)if(_.g[I]!=0)return!1;return!0}function y(_){return _.h==-1}e.l=function(_){return _=b(this,_),y(_)?-1:v(_)?0:1};function C(_){for(var I=_.g.length,F=[],N=0;N<I;N++)F[N]=~_.g[N];return new o(F,~_.h).add(p)}e.abs=function(){return y(this)?C(this):this},e.add=function(_){for(var I=Math.max(this.g.length,_.g.length),F=[],N=0,B=0;B<=I;B++){var M=N+(this.i(B)&65535)+(_.i(B)&65535),L=(M>>>16)+(this.i(B)>>>16)+(_.i(B)>>>16);N=L>>>16,M&=65535,L&=65535,F[B]=L<<16|M}return new o(F,F[F.length-1]&-2147483648?-1:0)};function b(_,I){return _.add(C(I))}e.j=function(_){if(v(this)||v(_))return h;if(y(this))return y(_)?C(this).j(C(_)):C(C(this).j(_));if(y(_))return C(this.j(C(_)));if(0>this.l(g)&&0>_.l(g))return c(this.m()*_.m());for(var I=this.g.length+_.g.length,F=[],N=0;N<2*I;N++)F[N]=0;for(N=0;N<this.g.length;N++)for(var B=0;B<_.g.length;B++){var M=this.i(N)>>>16,L=this.i(N)&65535,H=_.i(B)>>>16,ee=_.i(B)&65535;F[2*N+2*B]+=L*ee,E(F,2*N+2*B),F[2*N+2*B+1]+=M*ee,E(F,2*N+2*B+1),F[2*N+2*B+1]+=L*H,E(F,2*N+2*B+1),F[2*N+2*B+2]+=M*H,E(F,2*N+2*B+2)}for(N=0;N<I;N++)F[N]=F[2*N+1]<<16|F[2*N];for(N=I;N<2*I;N++)F[N]=0;return new o(F,0)};function E(_,I){for(;(_[I]&65535)!=_[I];)_[I+1]+=_[I]>>>16,_[I]&=65535,I++}function x(_,I){this.g=_,this.h=I}function k(_,I){if(v(I))throw Error("division by zero");if(v(_))return new x(h,h);if(y(_))return I=k(C(_),I),new x(C(I.g),C(I.h));if(y(I))return I=k(_,C(I)),new x(C(I.g),I.h);if(30<_.g.length){if(y(_)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var F=p,N=I;0>=N.l(_);)F=D(F),N=D(N);var B=R(F,1),M=R(N,1);for(N=R(N,2),F=R(F,2);!v(N);){var L=M.add(N);0>=L.l(_)&&(B=B.add(F),M=L),N=R(N,1),F=R(F,1)}return I=b(_,B.j(I)),new x(B,I)}for(B=h;0<=_.l(I);){for(F=Math.max(1,Math.floor(_.m()/I.m())),N=Math.ceil(Math.log(F)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=c(F),L=M.j(I);y(L)||0<L.l(_);)F-=N,M=c(F),L=M.j(I);v(M)&&(M=p),B=B.add(M),_=b(_,L)}return new x(B,_)}e.A=function(_){return k(this,_).h},e.and=function(_){for(var I=Math.max(this.g.length,_.g.length),F=[],N=0;N<I;N++)F[N]=this.i(N)&_.i(N);return new o(F,this.h&_.h)},e.or=function(_){for(var I=Math.max(this.g.length,_.g.length),F=[],N=0;N<I;N++)F[N]=this.i(N)|_.i(N);return new o(F,this.h|_.h)},e.xor=function(_){for(var I=Math.max(this.g.length,_.g.length),F=[],N=0;N<I;N++)F[N]=this.i(N)^_.i(N);return new o(F,this.h^_.h)};function D(_){for(var I=_.g.length+1,F=[],N=0;N<I;N++)F[N]=_.i(N)<<1|_.i(N-1)>>>31;return new o(F,_.h)}function R(_,I){var F=I>>5;I%=32;for(var N=_.g.length-F,B=[],M=0;M<N;M++)B[M]=0<I?_.i(M+F)>>>I|_.i(M+F+1)<<32-I:_.i(M+F);return new o(B,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$W=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ju=o}).apply(typeof VV<"u"?VV:typeof self<"u"?self:typeof window<"u"?window:{});var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qW,ov,KW,jx,aD,YW,XW,QW;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,U,W){return S==Array.prototype||S==Object.prototype||(S[U]=W.value),S};function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gb=="object"&&Gb];for(var U=0;U<S.length;++U){var W=S[U];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function i(S,U){if(U)e:{var W=r;S=S.split(".");for(var le=0;le<S.length-1;le++){var Ie=S[le];if(!(Ie in W))break e;W=W[Ie]}S=S[S.length-1],le=W[S],U=U(le),U!=le&&U!=null&&t(W,S,{configurable:!0,writable:!0,value:U})}}function s(S,U){S instanceof String&&(S+="");var W=0,le=!1,Ie={next:function(){if(!le&&W<S.length){var qe=W++;return{value:U(qe,S[qe]),done:!1}}return le=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}i("Array.prototype.values",function(S){return S||function(){return s(this,function(U,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(S){var U=typeof S;return U=U!="object"?U:S?Array.isArray(S)?"array":U:"null",U=="array"||U=="object"&&typeof S.length=="number"}function c(S){var U=typeof S;return U=="object"&&S!=null||U=="function"}function u(S,U,W){return S.call.apply(S.bind,arguments)}function h(S,U,W){if(!S)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,le),S.apply(U,Ie)}}return function(){return S.apply(U,arguments)}}function p(S,U,W){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function g(S,U){var W=Array.prototype.slice.call(arguments,1);return function(){var le=W.slice();return le.push.apply(le,arguments),S.apply(this,le)}}function v(S,U){function W(){}W.prototype=U.prototype,S.aa=U.prototype,S.prototype=new W,S.prototype.constructor=S,S.Qb=function(le,Ie,qe){for(var mt=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)mt[Sn-2]=arguments[Sn];return U.prototype[Ie].apply(le,mt)}}function y(S){const U=S.length;if(0<U){const W=Array(U);for(let le=0;le<U;le++)W[le]=S[le];return W}return[]}function C(S,U){for(let W=1;W<arguments.length;W++){const le=arguments[W];if(l(le)){const Ie=S.length||0,qe=le.length||0;S.length=Ie+qe;for(let mt=0;mt<qe;mt++)S[Ie+mt]=le[mt]}else S.push(le)}}class b{constructor(U,W){this.i=U,this.j=W,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function E(S){return/^[\s\xa0]*$/.test(S)}function x(){var S=a.navigator;return S&&(S=S.userAgent)?S:""}function k(S){return k[" "](S),S}k[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function R(S,U,W){for(const le in S)U.call(W,S[le],le,S)}function _(S,U){for(const W in S)U.call(void 0,S[W],W,S)}function I(S){const U={};for(const W in S)U[W]=S[W];return U}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(S,U){let W,le;for(let Ie=1;Ie<arguments.length;Ie++){le=arguments[Ie];for(W in le)S[W]=le[W];for(let qe=0;qe<F.length;qe++)W=F[qe],Object.prototype.hasOwnProperty.call(le,W)&&(S[W]=le[W])}}function B(S){var U=1;S=S.split(":");const W=[];for(;0<U&&S.length;)W.push(S.shift()),U--;return S.length&&W.push(S.join(":")),W}function M(S){a.setTimeout(()=>{throw S},0)}function L(){var S=Z;let U=null;return S.g&&(U=S.g,S.g=S.g.next,S.g||(S.h=null),U.next=null),U}class H{constructor(){this.h=this.g=null}add(U,W){const le=ee.get();le.set(U,W),this.h?this.h.next=le:this.g=le,this.h=le}}var ee=new b(()=>new re,S=>S.reset());class re{constructor(){this.next=this.g=this.h=null}set(U,W){this.h=U,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let te,he=!1,Z=new H,V=()=>{const S=a.Promise.resolve(void 0);te=()=>{S.then(X)}};var X=()=>{for(var S;S=L();){try{S.h.call(S.g)}catch(W){M(W)}var U=ee;U.j(S),100>U.h&&(U.h++,S.next=U.g,U.g=S)}he=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(S,U){this.type=S,this.g=this.target=U,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var S=!1,U=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const W=()=>{};a.addEventListener("test",W,U),a.removeEventListener("test",W,U)}catch{}return S}();function J(S,U){if(G.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var W=this.type=S.type,le=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=U,U=S.relatedTarget){if(D){e:{try{k(U.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(U=null)}}else W=="mouseover"?U=S.fromElement:W=="mouseout"&&(U=S.toElement);this.relatedTarget=U,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:pe[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&J.aa.h.call(this)}}v(J,G);var pe={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Te(S,U,W,le,Ie){this.listener=S,this.proxy=null,this.src=U,this.type=W,this.capture=!!le,this.ha=Ie,this.key=++Re,this.da=this.fa=!1}function De(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function et(S){this.src=S,this.g={},this.h=0}et.prototype.add=function(S,U,W,le,Ie){var qe=S.toString();S=this.g[qe],S||(S=this.g[qe]=[],this.h++);var mt=St(S,U,le,Ie);return-1<mt?(U=S[mt],W||(U.fa=!1)):(U=new Te(U,this.src,qe,!!le,Ie),U.fa=W,S.push(U)),U};function ue(S,U){var W=U.type;if(W in S.g){var le=S.g[W],Ie=Array.prototype.indexOf.call(le,U,void 0),qe;(qe=0<=Ie)&&Array.prototype.splice.call(le,Ie,1),qe&&(De(U),S.g[W].length==0&&(delete S.g[W],S.h--))}}function St(S,U,W,le){for(var Ie=0;Ie<S.length;++Ie){var qe=S[Ie];if(!qe.da&&qe.listener==U&&qe.capture==!!W&&qe.ha==le)return Ie}return-1}var j="closure_lm_"+(1e6*Math.random()|0),Ce={};function ye(S,U,W,le,Ie){if(Array.isArray(U)){for(var qe=0;qe<U.length;qe++)ye(S,U[qe],W,le,Ie);return null}return W=Je(W),S&&S[He]?S.K(U,W,c(le)?!!le.capture:!1,Ie):Q(S,U,W,!1,le,Ie)}function Q(S,U,W,le,Ie,qe){if(!U)throw Error("Invalid event type");var mt=c(Ie)?!!Ie.capture:!!Ie,Sn=Ke(S);if(Sn||(S[j]=Sn=new et(S)),W=Sn.add(U,W,le,mt,qe),W.proxy)return W;if(le=oe(),W.proxy=le,le.src=S,le.listener=W,S.addEventListener)Y||(Ie=mt),Ie===void 0&&(Ie=!1),S.addEventListener(U.toString(),le,Ie);else if(S.attachEvent)S.attachEvent(Ue(U.toString()),le);else if(S.addListener&&S.removeListener)S.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return W}function oe(){function S(W){return U.call(S.src,S.listener,W)}const U=xe;return S}function ve(S,U,W,le,Ie){if(Array.isArray(U))for(var qe=0;qe<U.length;qe++)ve(S,U[qe],W,le,Ie);else le=c(le)?!!le.capture:!!le,W=Je(W),S&&S[He]?(S=S.i,U=String(U).toString(),U in S.g&&(qe=S.g[U],W=St(qe,W,le,Ie),-1<W&&(De(qe[W]),Array.prototype.splice.call(qe,W,1),qe.length==0&&(delete S.g[U],S.h--)))):S&&(S=Ke(S))&&(U=S.g[U.toString()],S=-1,U&&(S=St(U,W,le,Ie)),(W=-1<S?U[S]:null)&&Fe(W))}function Fe(S){if(typeof S!="number"&&S&&!S.da){var U=S.src;if(U&&U[He])ue(U.i,S);else{var W=S.type,le=S.proxy;U.removeEventListener?U.removeEventListener(W,le,S.capture):U.detachEvent?U.detachEvent(Ue(W),le):U.addListener&&U.removeListener&&U.removeListener(le),(W=Ke(U))?(ue(W,S),W.h==0&&(W.src=null,U[j]=null)):De(S)}}}function Ue(S){return S in Ce?Ce[S]:Ce[S]="on"+S}function xe(S,U){if(S.da)S=!0;else{U=new J(U,this);var W=S.listener,le=S.ha||S.src;S.fa&&Fe(S),S=W.call(le,U)}return S}function Ke(S){return S=S[j],S instanceof et?S:null}var st="__closure_events_fn_"+(1e9*Math.random()>>>0);function Je(S){return typeof S=="function"?S:(S[st]||(S[st]=function(U){return S.handleEvent(U)}),S[st])}function fe(){z.call(this),this.i=new et(this),this.M=this,this.F=null}v(fe,z),fe.prototype[He]=!0,fe.prototype.removeEventListener=function(S,U,W,le){ve(this,S,U,W,le)};function Me(S,U){var W,le=S.F;if(le)for(W=[];le;le=le.F)W.push(le);if(S=S.M,le=U.type||U,typeof U=="string")U=new G(U,S);else if(U instanceof G)U.target=U.target||S;else{var Ie=U;U=new G(le,S),N(U,Ie)}if(Ie=!0,W)for(var qe=W.length-1;0<=qe;qe--){var mt=U.g=W[qe];Ie=We(mt,le,!0,U)&&Ie}if(mt=U.g=S,Ie=We(mt,le,!0,U)&&Ie,Ie=We(mt,le,!1,U)&&Ie,W)for(qe=0;qe<W.length;qe++)mt=U.g=W[qe],Ie=We(mt,le,!1,U)&&Ie}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var S=this.i,U;for(U in S.g){for(var W=S.g[U],le=0;le<W.length;le++)De(W[le]);delete S.g[U],S.h--}}this.F=null},fe.prototype.K=function(S,U,W,le){return this.i.add(String(S),U,!1,W,le)},fe.prototype.L=function(S,U,W,le){return this.i.add(String(S),U,!0,W,le)};function We(S,U,W,le){if(U=S.i.g[String(U)],!U)return!0;U=U.concat();for(var Ie=!0,qe=0;qe<U.length;++qe){var mt=U[qe];if(mt&&!mt.da&&mt.capture==W){var Sn=mt.listener,hi=mt.ha||mt.src;mt.fa&&ue(S.i,mt),Ie=Sn.call(hi,le)!==!1&&Ie}}return Ie&&!le.defaultPrevented}function dt(S,U,W){if(typeof S=="function")W&&(S=p(S,W));else if(S&&typeof S.handleEvent=="function")S=p(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(S,U||0)}function bt(S){S.g=dt(()=>{S.g=null,S.i&&(S.i=!1,bt(S))},S.l);const U=S.h;S.h=null,S.m.apply(null,U)}class It extends z{constructor(U,W){super(),this.m=U,this.l=W,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(S){z.call(this),this.h=S,this.g={}}v(fn,z);var Dt=[];function $n(S){R(S.g,function(U,W){this.g.hasOwnProperty(W)&&Fe(U)},S),S.g={}}fn.prototype.N=function(){fn.aa.N.call(this),$n(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=a.JSON.stringify,Cn=a.JSON.parse,yr=class{stringify(S){return a.JSON.stringify(S,void 0)}parse(S){return a.JSON.parse(S,void 0)}};function br(){}br.prototype.h=null;function Vs(S){return S.h||(S.h=S.i())}function No(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){G.call(this,"d")}v(di,G);function Ci(){G.call(this,"c")}v(Ci,G);var Bi={},Lo=null;function Bo(){return Lo=Lo||new fe}Bi.La="serverreachability";function Za(S){G.call(this,Bi.La,S)}v(Za,G);function we(S){const U=Bo();Me(U,new Za(U))}Bi.STAT_EVENT="statevent";function Pe(S,U){G.call(this,Bi.STAT_EVENT,S),this.stat=U}v(Pe,G);function Ne(S){const U=Bo();Me(U,new Pe(U,S))}Bi.Ma="timingevent";function tt(S,U){G.call(this,Bi.Ma,S),this.size=U}v(tt,G);function lt(S,U){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){S()},U)}function Et(){this.g=!0}Et.prototype.xa=function(){this.g=!1};function At(S,U,W,le,Ie,qe){S.info(function(){if(S.g)if(qe)for(var mt="",Sn=qe.split("&"),hi=0;hi<Sn.length;hi++){var En=Sn[hi].split("=");if(1<En.length){var Si=En[0];En=En[1];var fi=Si.split("_");mt=2<=fi.length&&fi[1]=="type"?mt+(Si+"="+En+"&"):mt+(Si+"=redacted&")}}else mt=null;else mt=qe;return"XMLHTTP REQ ("+le+") [attempt "+Ie+"]: "+U+`
`+W+`
`+mt})}function Rt(S,U,W,le,Ie,qe,mt){S.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+Ie+"]: "+U+`
`+W+`
`+qe+" "+mt})}function K(S,U,W,le){S.info(function(){return"XMLHTTP TEXT ("+U+"): "+ne(S,W)+(le?" "+le:"")})}function ae(S,U){S.info(function(){return"TIMEOUT: "+U})}Et.prototype.info=function(){};function ne(S,U){if(!S.g)return U;if(!U)return null;try{var W=JSON.parse(U);if(W){for(S=0;S<W.length;S++)if(Array.isArray(W[S])){var le=W[S];if(!(2>le.length)){var Ie=le[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var qe=Ie[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var mt=1;mt<Ie.length;mt++)Ie[mt]=""}}}}return or(W)}catch{return U}}var ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},de;function Ae(){}v(Ae,br),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},de=new Ae;function Ge(S,U,W,le){this.j=S,this.i=U,this.l=W,this.R=le||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var _e={},Le={};function rt(S,U,W){S.L=1,S.v=Ud(so(U)),S.m=W,S.P=!0,ct(S,null)}function ct(S,U){S.F=Date.now(),ft(S),S.A=so(S.v);var W=S.A,le=S.R;Array.isArray(le)||(le=[String(le)]),Hm(W.i,"t",le),S.C=0,W=S.j.J,S.h=new Ee,S.g=AC(S.j,W?U:null,!S.m),0<S.O&&(S.M=new It(p(S.Y,S,S.g),S.O)),U=S.U,W=S.g,le=S.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Dt[0]=Ie.toString()),Ie=Dt);for(var qe=0;qe<Ie.length;qe++){var mt=ye(W,Ie[qe],le||U.handleEvent,!1,U.h||U);if(!mt)break;U.g[mt.key]=mt}U=S.H?I(S.H):{},S.m?(S.u||(S.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,U)):(S.u="GET",S.g.ea(S.A,S.u,null,U)),we(),At(S.i,S.u,S.A,S.l,S.R,S.m)}Ge.prototype.ca=function(S){S=S.target;const U=this.M;U&&Uo(S)==3?U.j():this.Y(S)},Ge.prototype.Y=function(S){try{if(S==this.g)e:{const fi=Uo(this.g);var U=this.g.Ba();const ac=this.g.Z();if(!(3>fi)&&(fi!=3||this.g&&(this.h.h||this.g.oa()||CC(this.g)))){this.J||fi!=4||U==7||(U==8||0>=ac?we(3):we(2)),pn(this);var W=this.g.Z();this.X=W;t:if(wt(this)){var le=CC(this.g);S="";var Ie=le.length,qe=Uo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),on(this);var mt="";break t}this.h.i=new a.TextDecoder}for(U=0;U<Ie;U++)this.h.h=!0,S+=this.h.i.decode(le[U],{stream:!(qe&&U==Ie-1)});le.length=0,this.h.g+=S,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=W==200,Rt(this.i,this.u,this.A,this.l,this.R,fi,W),this.o){if(this.T&&!this.K){t:{if(this.g){var Sn,hi=this.g;if((Sn=hi.g?hi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Sn)){var En=Sn;break t}}En=null}if(W=En)K(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,W);else{this.o=!1,this.s=3,Ne(12),kt(this),on(this);break e}}if(this.P){W=!0;let Vi;for(;!this.J&&this.C<mt.length;)if(Vi=ut(this,mt),Vi==Le){fi==4&&(this.s=4,Ne(14),W=!1),K(this.i,this.l,null,"[Incomplete Response]");break}else if(Vi==_e){this.s=4,Ne(15),K(this.i,this.l,mt,"[Invalid Chunk]"),W=!1;break}else K(this.i,this.l,Vi,null),Hn(this,Vi);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fi!=4||mt.length!=0||this.h.h||(this.s=1,Ne(16),W=!1),this.o=this.o&&W,!W)K(this.i,this.l,mt,"[Invalid Chunked Response]"),kt(this),on(this);else if(0<mt.length&&!this.W){this.W=!0;var Si=this.j;Si.g==this&&Si.ba&&!Si.M&&(Si.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Xd(Si),Si.M=!0,Ne(11))}}else K(this.i,this.l,mt,null),Hn(this,mt);fi==4&&kt(this),this.o&&!this.J&&(fi==4?TC(this.j,this):(this.o=!1,ft(this)))}else AT(this.g),W==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),kt(this),on(this)}}}catch{}finally{}};function wt(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function ut(S,U){var W=S.C,le=U.indexOf(`
`,W);return le==-1?Le:(W=Number(U.substring(W,le)),isNaN(W)?_e:(le+=1,le+W>U.length?Le:(U=U.slice(le,le+W),S.C=le+W,U)))}Ge.prototype.cancel=function(){this.J=!0,kt(this)};function ft(S){S.S=Date.now()+S.I,Lt(S,S.I)}function Lt(S,U){if(S.B!=null)throw Error("WatchDog timer not null");S.B=lt(p(S.ba,S),U)}function pn(S){S.B&&(a.clearTimeout(S.B),S.B=null)}Ge.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(ae(this.i,this.A),this.L!=2&&(we(),Ne(17)),kt(this),this.s=2,on(this)):Lt(this,this.S-S)};function on(S){S.j.G==0||S.J||TC(S.j,S)}function kt(S){pn(S);var U=S.M;U&&typeof U.ma=="function"&&U.ma(),S.M=null,$n(S.U),S.g&&(U=S.g,S.g=null,U.abort(),U.ma())}function Hn(S,U){try{var W=S.j;if(W.G!=0&&(W.g==S||bi(W.h,S))){if(!S.K&&bi(W.h,S)&&W.G==3){try{var le=W.Da.g.parse(U)}catch{le=null}if(Array.isArray(le)&&le.length==3){var Ie=le;if(Ie[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<S.F)tp(W),Jf(W);else break e;Wm(W),Ne(18)}}else W.za=Ie[1],0<W.za-W.T&&37500>Ie[2]&&W.F&&W.v==0&&!W.C&&(W.C=lt(p(W.Za,W),6e3));if(1>=xs(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else oc(W,11)}else if((S.K||W.g==S)&&tp(W),!E(U))for(Ie=W.Da.g.parse(U),U=0;U<Ie.length;U++){let En=Ie[U];if(W.T=En[0],En=En[1],W.G==2)if(En[0]=="c"){W.K=En[1],W.ia=En[2];const Si=En[3];Si!=null&&(W.la=Si,W.j.info("VER="+W.la));const fi=En[4];fi!=null&&(W.Aa=fi,W.j.info("SVER="+W.Aa));const ac=En[5];ac!=null&&typeof ac=="number"&&0<ac&&(le=1.5*ac,W.L=le,W.j.info("backChannelRequestTimeoutMs_="+le)),le=W;const Vi=S.g;if(Vi){const sl=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var qe=le.h;qe.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(su(qe,qe.h),qe.h=null))}if(le.D){const qm=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(le.ya=qm,Zn(le.I,le.D,qm))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-S.F,W.j.info("Handshake RTT: "+W.R+"ms")),le=W;var mt=S;if(le.qa=_C(le,le.J?le.ia:null,le.W),mt.K){Ss(le.h,mt);var Sn=mt,hi=le.L;hi&&(Sn.I=hi),Sn.B&&(pn(Sn),ft(Sn)),le.g=mt}else SC(le);0<W.i.length&&ep(W)}else En[0]!="stop"&&En[0]!="close"||oc(W,7);else W.G==3&&(En[0]=="stop"||En[0]=="close"?En[0]=="stop"?oc(W,7):zm(W):En[0]!="noop"&&W.l&&W.l.ta(En),W.v=0)}}we(4)}catch{}}var bs=class{constructor(S,U){this.g=S,this.map=U}};function Hr(S){this.l=S||10,a.PerformanceNavigationTiming?(S=a.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xn(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function xs(S){return S.h?1:S.g?S.g.size:0}function bi(S,U){return S.h?S.h==U:S.g?S.g.has(U):!1}function su(S,U){S.g?S.g.add(U):S.h=U}function Ss(S,U){S.h&&S.h==U?S.h=null:S.g&&S.g.has(U)&&S.g.delete(U)}Hr.prototype.cancel=function(){if(this.i=Nm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Nm(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let U=S.i;for(const W of S.g.values())U=U.concat(W.D);return U}return y(S.i)}function ET(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(l(S)){for(var U=[],W=S.length,le=0;le<W;le++)U.push(S[le]);return U}U=[],W=0;for(le in S)U[W++]=S[le];return U}function qf(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(l(S)||typeof S=="string"){var U=[];S=S.length;for(var W=0;W<S;W++)U.push(W);return U}U=[],W=0;for(const le in S)U[W++]=le;return U}}}function Lm(S,U){if(S.forEach&&typeof S.forEach=="function")S.forEach(U,void 0);else if(l(S)||typeof S=="string")Array.prototype.forEach.call(S,U,void 0);else for(var W=qf(S),le=ET(S),Ie=le.length,qe=0;qe<Ie;qe++)U.call(void 0,le[qe],W&&W[qe],S)}var Hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TT(S,U){if(S){S=S.split("&");for(var W=0;W<S.length;W++){var le=S[W].indexOf("="),Ie=null;if(0<=le){var qe=S[W].substring(0,le);Ie=S[W].substring(le+1)}else qe=S[W];U(qe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Zr(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof Zr){this.h=S.h,Gd(this,S.j),this.o=S.o,this.g=S.g,ou(this,S.s),this.l=S.l;var U=S.i,W=new nc;W.i=U.i,U.g&&(W.g=new Map(U.g),W.h=U.h),tc(this,W),this.m=S.m}else S&&(U=String(S).match(Hd))?(this.h=!1,Gd(this,U[1]||"",!0),this.o=Vo(U[2]||""),this.g=Vo(U[3]||"",!0),ou(this,U[4]),this.l=Vo(U[5]||"",!0),tc(this,U[6]||"",!0),this.m=Vo(U[7]||"")):(this.h=!1,this.i=new nc(null,this.h))}Zr.prototype.toString=function(){var S=[],U=this.j;U&&S.push(zd(U,Bm,!0),":");var W=this.g;return(W||U=="file")&&(S.push("//"),(U=this.o)&&S.push(zd(U,Bm,!0),"@"),S.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&S.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&S.push("/"),S.push(zd(W,W.charAt(0)=="/"?RT:Vm,!0))),(W=this.i.toString())&&S.push("?",W),(W=this.m)&&S.push("#",zd(W,Kf)),S.join("")};function so(S){return new Zr(S)}function Gd(S,U,W){S.j=W?Vo(U,!0):U,S.j&&(S.j=S.j.replace(/:$/,""))}function ou(S,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);S.s=U}else S.s=null}function tc(S,U,W){U instanceof nc?(S.i=U,yC(S.i,S.h)):(W||(U=zd(U,_T)),S.i=new nc(U,S.h))}function Zn(S,U,W){S.i.set(U,W)}function Ud(S){return Zn(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Vo(S,U){return S?U?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function zd(S,U,W){return typeof S=="string"?(S=encodeURI(S).replace(U,vC),W&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function vC(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Bm=/[#\/\?@]/g,Vm=/[#\?:]/g,RT=/[#\?]/g,_T=/[#\?@]/g,Kf=/#/g;function nc(S,U){this.h=this.g=null,this.i=S||null,this.j=!!U}function Ho(S){S.g||(S.g=new Map,S.h=0,S.i&&TT(S.i,function(U,W){S.add(decodeURIComponent(U.replace(/\+/g," ")),W)}))}e=nc.prototype,e.add=function(S,U){Ho(this),this.i=null,S=Ja(this,S);var W=this.g.get(S);return W||this.g.set(S,W=[]),W.push(U),this.h+=1,this};function rc(S,U){Ho(S),U=Ja(S,U),S.g.has(U)&&(S.i=null,S.h-=S.g.get(U).length,S.g.delete(U))}function ic(S,U){return Ho(S),U=Ja(S,U),S.g.has(U)}e.forEach=function(S,U){Ho(this),this.g.forEach(function(W,le){W.forEach(function(Ie){S.call(U,Ie,le,this)},this)},this)},e.na=function(){Ho(this);const S=Array.from(this.g.values()),U=Array.from(this.g.keys()),W=[];for(let le=0;le<U.length;le++){const Ie=S[le];for(let qe=0;qe<Ie.length;qe++)W.push(U[le])}return W},e.V=function(S){Ho(this);let U=[];if(typeof S=="string")ic(this,S)&&(U=U.concat(this.g.get(Ja(this,S))));else{S=Array.from(this.g.values());for(let W=0;W<S.length;W++)U=U.concat(S[W])}return U},e.set=function(S,U){return Ho(this),this.i=null,S=Ja(this,S),ic(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[U]),this.h+=1,this},e.get=function(S,U){return S?(S=this.V(S),0<S.length?String(S[0]):U):U};function Hm(S,U,W){rc(S,U),0<W.length&&(S.i=null,S.g.set(Ja(S,U),y(W)),S.h+=W.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],U=Array.from(this.g.keys());for(var W=0;W<U.length;W++){var le=U[W];const qe=encodeURIComponent(String(le)),mt=this.V(le);for(le=0;le<mt.length;le++){var Ie=qe;mt[le]!==""&&(Ie+="="+encodeURIComponent(String(mt[le]))),S.push(Ie)}}return this.i=S.join("&")};function Ja(S,U){return U=String(U),S.j&&(U=U.toLowerCase()),U}function yC(S,U){U&&!S.j&&(Ho(S),S.i=null,S.g.forEach(function(W,le){var Ie=le.toLowerCase();le!=Ie&&(rc(this,le),Hm(this,Ie,W))},S)),S.j=U}function jd(S,U){const W=new Et;if(a.Image){const le=new Image;le.onload=g(Go,W,"TestLoadImage: loaded",!0,U,le),le.onerror=g(Go,W,"TestLoadImage: error",!1,U,le),le.onabort=g(Go,W,"TestLoadImage: abort",!1,U,le),le.ontimeout=g(Go,W,"TestLoadImage: timeout",!1,U,le),a.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=S}else U(!1)}function _a(S,U){const W=new Et,le=new AbortController,Ie=setTimeout(()=>{le.abort(),Go(W,"TestPingServer: timeout",!1,U)},1e4);fetch(S,{signal:le.signal}).then(qe=>{clearTimeout(Ie),qe.ok?Go(W,"TestPingServer: ok",!0,U):Go(W,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(Ie),Go(W,"TestPingServer: error",!1,U)})}function Go(S,U,W,le,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),le(W)}catch{}}function Wd(){this.g=new yr}function el(S,U,W){const le=W||"";try{Lm(S,function(Ie,qe){let mt=Ie;c(Ie)&&(mt=or(Ie)),U.push(le+qe+"="+encodeURIComponent(mt))})}catch(Ie){throw U.push(le+"type="+encodeURIComponent("_badmap")),Ie}}function au(S){this.l=S.Ub||null,this.j=S.eb||!1}v(au,br),au.prototype.g=function(){return new sc(this.l,this.j)},au.prototype.i=function(S){return function(){return S}}({});function sc(S,U){fe.call(this),this.D=S,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(sc,fe),e=sc.prototype,e.open=function(S,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=U,this.readyState=1,nl(this)},e.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(U.body=S),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=0},e.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gm(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gm(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}e.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var U=S.value?S.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!S.done}))&&(this.response=this.responseText+=U)}S.done?tl(this):nl(this),this.readyState==3&&Gm(this)}},e.Ra=function(S){this.g&&(this.response=this.responseText=S,tl(this))},e.Qa=function(S){this.g&&(this.response=S,tl(this))},e.ga=function(){this.g&&tl(this)};function tl(S){S.readyState=4,S.l=null,S.j=null,S.v=null,nl(S)}e.setRequestHeader=function(S,U){this.u.append(S,U)},e.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],U=this.h.entries();for(var W=U.next();!W.done;)W=W.value,S.push(W[0]+": "+W[1]),W=U.next();return S.join(`\r
`)};function nl(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Um(S){let U="";return R(S,function(W,le){U+=le,U+=":",U+=W,U+=`\r
`}),U}function xi(S,U,W){e:{for(le in W){var le=!1;break e}le=!0}le||(W=Um(W),typeof S=="string"?W!=null&&encodeURIComponent(String(W)):Zn(S,U,W))}function Gn(S){fe.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Gn,fe);var Yf=/^https?$/i,$d=["POST","PUT"];e=Gn.prototype,e.Ha=function(S){this.J=S},e.ea=function(S,U,W,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);U=U?U.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():de.g(),this.v=this.o?Vs(this.o):Vs(de),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(U,String(S),!0),this.B=!1}catch(qe){wC(this,qe);return}if(S=W||"",W=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var Ie in le)W.set(Ie,le[Ie]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const qe of le.keys())W.set(qe,le.get(qe));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from(W.keys()).find(qe=>qe.toLowerCase()=="content-type"),Ie=a.FormData&&S instanceof a.FormData,!(0<=Array.prototype.indexOf.call($d,U,void 0))||le||Ie||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,mt]of W)this.g.setRequestHeader(qe,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qd(this),this.u=!0,this.g.send(S),this.u=!1}catch(qe){wC(this,qe)}};function wC(S,U){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=U,S.m=5,Xf(S),rl(S)}function Xf(S){S.A||(S.A=!0,Me(S,"complete"),Me(S,"error"))}e.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Me(this,"complete"),Me(this,"abort"),rl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rl(this,!0)),Gn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qf(this):this.bb())},e.bb=function(){Qf(this)};function Qf(S){if(S.h&&typeof o<"u"&&(!S.v[1]||Uo(S)!=4||S.Z()!=2)){if(S.u&&Uo(S)==4)dt(S.Ea,0,S);else if(Me(S,"readystatechange"),Uo(S)==4){S.h=!1;try{const mt=S.Z();e:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var W;if(!(W=U)){var le;if(le=mt===0){var Ie=String(S.D).match(Hd)[1]||null;!Ie&&a.self&&a.self.location&&(Ie=a.self.location.protocol.slice(0,-1)),le=!Yf.test(Ie?Ie.toLowerCase():"")}W=le}if(W)Me(S,"complete"),Me(S,"success");else{S.m=6;try{var qe=2<Uo(S)?S.g.statusText:""}catch{qe=""}S.l=qe+" ["+S.Z()+"]",Xf(S)}}finally{rl(S)}}}}function rl(S,U){if(S.g){qd(S);const W=S.g,le=S.v[0]?()=>{}:null;S.g=null,S.v=null,U||Me(S,"ready");try{W.onreadystatechange=le}catch{}}}function qd(S){S.I&&(a.clearTimeout(S.I),S.I=null)}e.isActive=function(){return!!this.g};function Uo(S){return S.g?S.g.readyState:0}e.Z=function(){try{return 2<Uo(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(S){if(this.g){var U=this.g.responseText;return S&&U.indexOf(S)==0&&(U=U.substring(S.length)),Cn(U)}};function CC(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function AT(S){const U={};S=(S.g&&2<=Uo(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<S.length;le++){if(E(S[le]))continue;var W=B(S[le]);const Ie=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const qe=U[Ie]||[];U[Ie]=qe,qe.push(W)}_(U,function(le){return le.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kd(S,U,W){return W&&W.internalChannelParams&&W.internalChannelParams[S]||U}function Zf(S){this.Aa=0,this.i=[],this.j=new Et,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kd("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kd("baseRetryDelayMs",5e3,S),this.cb=Kd("retryDelaySeedMs",1e4,S),this.Wa=Kd("forwardChannelMaxRetries",2,S),this.wa=Kd("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new Hr(S&&S.concurrentRequestLimit),this.Da=new Wd,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Zf.prototype,e.la=8,e.G=1,e.connect=function(S,U,W,le){Ne(0),this.W=S,this.H=U||{},W&&le!==void 0&&(this.H.OSID=W,this.H.OAID=le),this.F=this.X,this.I=_C(this,null,this.W),ep(this)};function zm(S){if(bC(S),S.G==3){var U=S.U++,W=so(S.I);if(Zn(W,"SID",S.K),Zn(W,"RID",U),Zn(W,"TYPE","terminate"),Yd(S,W),U=new Ge(S,S.j,U),U.L=2,U.v=Ud(so(W)),W=!1,a.navigator&&a.navigator.sendBeacon)try{W=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!W&&a.Image&&(new Image().src=U.v,W=!0),W||(U.g=AC(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ft(U)}RC(S)}function Jf(S){S.g&&(Xd(S),S.g.cancel(),S.g=null)}function bC(S){Jf(S),S.u&&(a.clearTimeout(S.u),S.u=null),tp(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&a.clearTimeout(S.s),S.s=null)}function ep(S){if(!xn(S.h)&&!S.s){S.s=!0;var U=S.Ga;te||V(),he||(te(),he=!0),Z.add(U,S),S.B=0}}function kT(S,U){return xs(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=U.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=lt(p(S.Ga,S,U),$m(S,S.B)),S.B++,!0)}e.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Ie=new Ge(this,this.j,S);let qe=this.o;if(this.S&&(qe?(qe=I(qe),N(qe,this.S)):qe=this.S),this.m!==null||this.O||(Ie.H=qe,qe=null),this.P)e:{for(var U=0,W=0;W<this.i.length;W++){t:{var le=this.i[W];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(U+=le,4096<U){U=W;break e}if(U===4096||W===this.i.length-1){U=W+1;break e}}U=1e3}else U=1e3;U=xC(this,Ie,U),W=so(this.I),Zn(W,"RID",S),Zn(W,"CVER",22),this.D&&Zn(W,"X-HTTP-Session-Id",this.D),Yd(this,W),qe&&(this.O?U="headers="+encodeURIComponent(String(Um(qe)))+"&"+U:this.m&&xi(W,this.m,qe)),su(this.h,Ie),this.Ua&&Zn(W,"TYPE","init"),this.P?(Zn(W,"$req",U),Zn(W,"SID","null"),Ie.T=!0,rt(Ie,W,null)):rt(Ie,W,U),this.G=2}}else this.G==3&&(S?jm(this,S):this.i.length==0||xn(this.h)||jm(this))};function jm(S,U){var W;U?W=U.l:W=S.U++;const le=so(S.I);Zn(le,"SID",S.K),Zn(le,"RID",W),Zn(le,"AID",S.T),Yd(S,le),S.m&&S.o&&xi(le,S.m,S.o),W=new Ge(S,S.j,W,S.B+1),S.m===null&&(W.H=S.o),U&&(S.i=U.D.concat(S.i)),U=xC(S,W,1e3),W.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),su(S.h,W),rt(W,le,U)}function Yd(S,U){S.H&&R(S.H,function(W,le){Zn(U,le,W)}),S.l&&Lm({},function(W,le){Zn(U,le,W)})}function xC(S,U,W){W=Math.min(S.i.length,W);var le=S.l?p(S.l.Na,S.l,S):null;e:{var Ie=S.i;let qe=-1;for(;;){const mt=["count="+W];qe==-1?0<W?(qe=Ie[0].g,mt.push("ofs="+qe)):qe=0:mt.push("ofs="+qe);let Sn=!0;for(let hi=0;hi<W;hi++){let En=Ie[hi].g;const Si=Ie[hi].map;if(En-=qe,0>En)qe=Math.max(0,Ie[hi].g-100),Sn=!1;else try{el(Si,mt,"req"+En+"_")}catch{le&&le(Si)}}if(Sn){le=mt.join("&");break e}}}return S=S.i.splice(0,W),U.D=S,le}function SC(S){if(!S.g&&!S.u){S.Y=1;var U=S.Fa;te||V(),he||(te(),he=!0),Z.add(U,S),S.v=0}}function Wm(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=lt(p(S.Fa,S),$m(S,S.v)),S.v++,!0)}e.Fa=function(){if(this.u=null,EC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=lt(p(this.ab,this),S)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Jf(this),EC(this))};function Xd(S){S.A!=null&&(a.clearTimeout(S.A),S.A=null)}function EC(S){S.g=new Ge(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var U=so(S.qa);Zn(U,"RID","rpc"),Zn(U,"SID",S.K),Zn(U,"AID",S.T),Zn(U,"CI",S.F?"0":"1"),!S.F&&S.ja&&Zn(U,"TO",S.ja),Zn(U,"TYPE","xmlhttp"),Yd(S,U),S.m&&S.o&&xi(U,S.m,S.o),S.L&&(S.g.I=S.L);var W=S.g;S=S.ia,W.L=1,W.v=Ud(so(U)),W.m=null,W.P=!0,ct(W,S)}e.Za=function(){this.C!=null&&(this.C=null,Jf(this),Wm(this),Ne(19))};function tp(S){S.C!=null&&(a.clearTimeout(S.C),S.C=null)}function TC(S,U){var W=null;if(S.g==U){tp(S),Xd(S),S.g=null;var le=2}else if(bi(S.h,U))W=U.D,Ss(S.h,U),le=1;else return;if(S.G!=0){if(U.o)if(le==1){W=U.m?U.m.length:0,U=Date.now()-U.F;var Ie=S.B;le=Bo(),Me(le,new tt(le,W)),ep(S)}else SC(S);else if(Ie=U.s,Ie==3||Ie==0&&0<U.X||!(le==1&&kT(S,U)||le==2&&Wm(S)))switch(W&&0<W.length&&(U=S.h,U.i=U.i.concat(W)),Ie){case 1:oc(S,5);break;case 4:oc(S,10);break;case 3:oc(S,6);break;default:oc(S,2)}}}function $m(S,U){let W=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(W*=2),W*U}function oc(S,U){if(S.j.info("Error code "+U),U==2){var W=p(S.fb,S),le=S.Xa;const Ie=!le;le=new Zr(le||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gd(le,"https"),Ud(le),Ie?jd(le.toString(),W):_a(le.toString(),W)}else Ne(2);S.G=0,S.l&&S.l.sa(U),RC(S),bC(S)}e.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function RC(S){if(S.G=0,S.ka=[],S.l){const U=Nm(S.h);(U.length!=0||S.i.length!=0)&&(C(S.ka,U),C(S.ka,S.i),S.h.i.length=0,y(S.i),S.i.length=0),S.l.ra()}}function _C(S,U,W){var le=W instanceof Zr?so(W):new Zr(W);if(le.g!="")U&&(le.g=U+"."+le.g),ou(le,le.s);else{var Ie=a.location;le=Ie.protocol,U=U?U+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var qe=new Zr(null);le&&Gd(qe,le),U&&(qe.g=U),Ie&&ou(qe,Ie),W&&(qe.l=W),le=qe}return W=S.D,U=S.ya,W&&U&&Zn(le,W,U),Zn(le,"VER",S.la),Yd(S,le),le}function AC(S,U,W){if(U&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=S.Ca&&!S.pa?new Gn(new au({eb:W})):new Gn(S.pa),U.Ha(S.J),U}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function kC(){}e=kC.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function np(){}np.prototype.g=function(S,U){return new Es(S,U)};function Es(S,U){fe.call(this),this.g=new Zf(U),this.l=S,this.h=U&&U.messageUrlParams||null,S=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(S?S["X-WebChannel-Content-Type"]=U.messageContentType:S={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(S?S["X-WebChannel-Client-Profile"]=U.va:S={"X-WebChannel-Client-Profile":U.va}),this.g.S=S,(S=U&&U.Sb)&&!E(S)&&(this.g.m=S),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!E(U)&&(this.g.D=U,S=this.h,S!==null&&U in S&&(S=this.h,U in S&&delete S[U])),this.j=new il(this)}v(Es,fe),Es.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Es.prototype.close=function(){zm(this.g)},Es.prototype.o=function(S){var U=this.g;if(typeof S=="string"){var W={};W.__data__=S,S=W}else this.u&&(W={},W.__data__=or(S),S=W);U.i.push(new bs(U.Ya++,S)),U.G==3&&ep(U)},Es.prototype.N=function(){this.g.l=null,delete this.j,zm(this.g),delete this.g,Es.aa.N.call(this)};function DC(S){di.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var U=S.__sm__;if(U){e:{for(const W in U){S=W;break e}S=void 0}(this.i=S)&&(S=this.i,U=U!==null&&S in U?U[S]:void 0),this.data=U}else this.data=S}v(DC,di);function PC(){Ci.call(this),this.status=1}v(PC,Ci);function il(S){this.g=S}v(il,kC),il.prototype.ua=function(){Me(this.g,"a")},il.prototype.ta=function(S){Me(this.g,new DC(S))},il.prototype.sa=function(S){Me(this.g,new PC)},il.prototype.ra=function(){Me(this.g,"b")},np.prototype.createWebChannel=np.prototype.g,Es.prototype.send=Es.prototype.o,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,QW=function(){return new np},XW=function(){return Bo()},YW=Bi,aD={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,jx=ie,ce.COMPLETE="complete",KW=ce,No.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",fe.prototype.listen=fe.prototype.K,ov=No,Gn.prototype.listenOnce=Gn.prototype.L,Gn.prototype.getLastError=Gn.prototype.Ka,Gn.prototype.getLastErrorCode=Gn.prototype.Ba,Gn.prototype.getStatus=Gn.prototype.Z,Gn.prototype.getResponseJson=Gn.prototype.Oa,Gn.prototype.getResponseText=Gn.prototype.oa,Gn.prototype.send=Gn.prototype.ea,Gn.prototype.setWithCredentials=Gn.prototype.Ha,qW=Gn}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});const HV="@firebase/firestore",GV="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}as.UNAUTHENTICATED=new as(null),as.GOOGLE_CREDENTIALS=new as("google-credentials-uid"),as.FIRST_PARTY=new as("first-party-uid"),as.MOCK_USER=new as("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new l2("@firebase/firestore");function Up(){return nf.logLevel}function Tt(e,...t){if(nf.logLevel<=vn.DEBUG){const n=t.map(w2);nf.debug(`Firestore (${hm}): ${e}`,...n)}}function jc(e,...t){if(nf.logLevel<=vn.ERROR){const n=t.map(w2);nf.error(`Firestore (${hm}): ${e}`,...n)}}function Lg(e,...t){if(nf.logLevel<=vn.WARN){const n=t.map(w2);nf.warn(`Firestore (${hm}): ${e}`,...n)}}function w2(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,ZW(e,r,n)}function ZW(e,t,n){let r=`FIRESTORE (${hm}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jc(r),new Error(r)}function An(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||ZW(t,i,r)}function Jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Ka{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Rge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(as.UNAUTHENTICATED))}shutdown(){}}class _ge{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Age{constructor(t){this.t=t,this.currentUser=as.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){An(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ml;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ml,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ml)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(An(typeof r.accessToken=="string",31837,{l:r}),new JW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return An(t===null||typeof t=="string",2055,{h:t}),new as(t)}}class kge{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=as.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dge{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new kge(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(as.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pge{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){An(this.o===void 0,3512);const r=s=>{s.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UV(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(An(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fge(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Fge(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function yn(e,t){return e<t?-1:e>t?1:0}function lD(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return Y_(i)===Y_(s)?yn(i,s):Y_(i)?1:-1}return yn(e.length,t.length)}const Ige=55296,Mge=57343;function Y_(e){const t=e.charCodeAt(0);return t>=Ige&&t<=Mge}function Bg(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="__name__";class vl{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ht(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Ht(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return vl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof vl?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=vl.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return yn(t.length,n.length)}static compareSegments(t,n){const r=vl.isNumericId(t),i=vl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?vl.extractNumericId(t).compare(vl.extractNumericId(n)):lD(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ju.fromString(t.substring(4,t.length-2))}}class nr extends vl{construct(t,n,r){return new nr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new xt(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nr(n)}static emptyPath(){return new nr([])}}const Oge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends vl{construct(t,n,r){return new Yi(t,n,r)}static isValidIdentifier(t){return Oge.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zV}static keyField(){return new Yi([zV])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xt(Qe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new xt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new xt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new xt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yi(n)}static emptyPath(){return new Yi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.path=t}static fromPath(t){return new Bt(nr.fromString(t))}static fromName(t){return new Bt(nr.fromString(t).popFirst(5))}static empty(){return new Bt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&nr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return nr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Bt(new nr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(e,t,n){if(!n)throw new xt(Qe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Nge(e,t,n,r){if(t===!0&&r===!0)throw new xt(Qe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jV(e){if(!Bt.isDocumentKey(e))throw new xt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function WV(e){if(Bt.isDocumentKey(e))throw new xt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function t7(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function yE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ht(12329,{type:typeof e})}function Os(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yE(e);throw new xt(Qe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,t){const n={typeString:e};return t&&(n.value=t),n}function Nw(e,t){if(!t7(e))throw new xt(Qe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new xt(Qe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=-62135596800,qV=1e6;class hr{static now(){return hr.fromMillis(Date.now())}static fromDate(t){return hr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*qV);return new hr(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new xt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$V)throw new xt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qV}_compareTo(t){return this.seconds===t.seconds?yn(this.nanoseconds,t.nanoseconds):yn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nw(t,hr._jsonSchema))return new hr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$V;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hr._jsonSchemaVersion="firestore/timestamp/1.0",hr._jsonSchema={type:ui("string",hr._jsonSchemaVersion),seconds:ui("number"),nanoseconds:ui("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{static fromTimestamp(t){return new $t(t)}static min(){return new $t(new hr(0,0))}static max(){return new $t(new hr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=-1;function Lge(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$t.fromTimestamp(r===1e9?new hr(n+1,0):new hr(n,r));return new cd(i,Bt.empty(),t)}function Bge(e){return new cd(e.readTime,e.key,fy)}class cd{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new cd($t.min(),Bt.empty(),fy)}static max(){return new cd($t.max(),Bt.empty(),fy)}}function Vge(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Bt.comparator(e.documentKey,t.documentKey),n!==0?n:yn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(e){if(e.code!==Qe.FAILED_PRECONDITION||e.message!==Hge)throw e;Tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):it.reject(n)}static resolve(t){return new it((n,r)=>{n(t)})}static reject(t){return new it((n,r)=>{r(t)})}static waitFor(t){return new it((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=it.resolve(!1);for(const r of t)n=n.next(i=>i?it.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new it((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(t,n){return new it((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Uge(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wE.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=-1;function Lw(e){return e==null}function OS(e){return e===0&&1/e==-1/0}function zge(e){return typeof e=="number"&&Number.isInteger(e)&&!OS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="";function jge(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=KV(t)),t=Wge(e.get(n),t);return KV(t)}function Wge(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case n7:n+="";break;default:n+=s}}return n}function KV(e){return e+n7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function r7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n){this.comparator=t,this.root=n||$i.EMPTY}insert(t,n){return new kr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(t){return new kr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$i.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ub(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ub(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ub(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ub(this.root,t,this.comparator,!0)}}class Ub{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $i{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??$i.RED,this.left=i??$i.EMPTY,this.right=s??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new $i(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return $i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ht(27949);return t+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1;$i.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new $i(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.comparator=t,this.data=new kr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new XV(this.data.getIterator())}getIteratorFrom(t){return new XV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof yi)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new yi(this.comparator);return n.data=t,n}}class XV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.fields=t,t.sort(Yi.comparator)}static empty(){return new xo([])}unionWith(t){let n=new yi(Yi.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new xo(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Bg(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new i7("Invalid base64 string: "+s):s}}(t);return new ts(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ts(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return yn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const $ge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ud(e){if(An(!!e,39018),typeof e=="string"){let t=0;const n=$ge.exec(e);if(An(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qr(e.seconds),nanos:qr(e.nanos)}}function qr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function dd(e){return typeof e=="string"?ts.fromBase64String(e):ts.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="server_timestamp",o7="__type__",a7="__previous_value__",l7="__local_write_time__";function x2(e){return(e?.mapValue?.fields||{})[o7]?.stringValue===s7}function CE(e){const t=e.mapValue.fields[a7];return x2(t)?CE(t):t}function py(e){const t=ud(e.mapValue.fields[l7].timestampValue);return new hr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qge{constructor(t,n,r,i,s,o,a,l,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const NS="(default)";class gy{constructor(t,n){this.projectId=t,this.database=n||NS}static empty(){return new gy("","")}get isDefaultDatabase(){return this.database===NS}isEqual(t){return t instanceof gy&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="__type__",Kge="__max__",zb={mapValue:{}},u7="__vector__",LS="value";function hd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?x2(e)?4:Xge(e)?9007199254740991:Yge(e)?10:11:Ht(28295,{value:e})}function jl(e,t){if(e===t)return!0;const n=hd(e);if(n!==hd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return py(e).isEqual(py(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ud(i.timestampValue),a=ud(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return dd(i.bytesValue).isEqual(dd(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return qr(i.geoPointValue.latitude)===qr(s.geoPointValue.latitude)&&qr(i.geoPointValue.longitude)===qr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qr(i.integerValue)===qr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qr(i.doubleValue),a=qr(s.doubleValue);return o===a?OS(o)===OS(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Bg(e.arrayValue.values||[],t.arrayValue.values||[],jl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(YV(o)!==YV(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jl(o[l],a[l])))return!1;return!0}(e,t);default:return Ht(52216,{left:e})}}function my(e,t){return(e.values||[]).find(n=>jl(n,t))!==void 0}function Vg(e,t){if(e===t)return 0;const n=hd(e),r=hd(t);if(n!==r)return yn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=qr(s.integerValue||s.doubleValue),l=qr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return QV(e.timestampValue,t.timestampValue);case 4:return QV(py(e),py(t));case 5:return lD(e.stringValue,t.stringValue);case 6:return function(s,o){const a=dd(s),l=dd(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=yn(a[c],l[c]);if(u!==0)return u}return yn(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=yn(qr(s.latitude),qr(o.latitude));return a!==0?a:yn(qr(s.longitude),qr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ZV(e.arrayValue,t.arrayValue);case 10:return function(s,o){const a=s.fields||{},l=o.fields||{},c=a[LS]?.arrayValue,u=l[LS]?.arrayValue,h=yn(c?.values?.length||0,u?.values?.length||0);return h!==0?h:ZV(c,u)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===zb.mapValue&&o===zb.mapValue)return 0;if(s===zb.mapValue)return 1;if(o===zb.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=lD(l[h],u[h]);if(p!==0)return p;const g=Vg(a[l[h]],c[u[h]]);if(g!==0)return g}return yn(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Ht(23264,{he:n})}}function QV(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return yn(e,t);const n=ud(e),r=ud(t),i=yn(n.seconds,r.seconds);return i!==0?i:yn(n.nanos,r.nanos)}function ZV(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Vg(n[i],r[i]);if(s)return s}return yn(n.length,r.length)}function Hg(e){return cD(e)}function cD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ud(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return dd(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Bt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cD(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${cD(n.fields[o])}`;return i+"}"}(e.mapValue):Ht(61005,{value:e})}function Wx(e){switch(hd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=CE(e);return t?16+Wx(t):16;case 5:return 2*e.stringValue.length;case 6:return dd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Wx(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Dd(r.fields,(s,o)=>{i+=s.length+Wx(o)}),i}(e.mapValue);default:throw Ht(13486,{value:e})}}function JV(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function uD(e){return!!e&&"integerValue"in e}function S2(e){return!!e&&"arrayValue"in e}function e5(e){return!!e&&"nullValue"in e}function t5(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $x(e){return!!e&&"mapValue"in e}function Yge(e){return(e?.mapValue?.fields||{})[c7]?.stringValue===u7}function bv(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Dd(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=bv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bv(e.arrayValue.values[n]);return t}return{...e}}function Xge(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Kge}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.value=t}static empty(){return new Fs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!$x(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=bv(n)}setAll(t){let n=Yi.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());$x(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return jl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];$x(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Dd(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Fs(bv(this.value))}}function d7(e){const t=[];return Dd(e.fields,(n,r)=>{const i=new Yi([n]);if($x(r)){const s=d7(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new xo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Di(t,0,$t.min(),$t.min(),$t.min(),Fs.empty(),0)}static newFoundDocument(t,n,r,i){return new Di(t,1,n,$t.min(),r,i,0)}static newNoDocument(t,n){return new Di(t,2,n,$t.min(),$t.min(),Fs.empty(),0)}static newUnknownDocument(t,n){return new Di(t,3,n,$t.min(),$t.min(),Fs.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n){this.position=t,this.inclusive=n}}function n5(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Bt.comparator(Bt.fromName(o.referenceValue),n.key):r=Vg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r5(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,n="asc"){this.field=t,this.dir=n}}function Qge(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{}class ci extends h7{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Jge(t,n,r):n==="array-contains"?new nme(t,r):n==="in"?new rme(t,r):n==="not-in"?new ime(t,r):n==="array-contains-any"?new sme(t,r):new ci(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new eme(t,r):new tme(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vg(n,this.value)):n!==null&&hd(this.value)===hd(n)&&this.matchesComparison(Vg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $a extends h7{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new $a(t,n)}matches(t){return f7(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f7(e){return e.op==="and"}function p7(e){return Zge(e)&&f7(e)}function Zge(e){for(const t of e.filters)if(t instanceof $a)return!1;return!0}function dD(e){if(e instanceof ci)return e.field.canonicalString()+e.op.toString()+Hg(e.value);if(p7(e))return e.filters.map(t=>dD(t)).join(",");{const t=e.filters.map(n=>dD(n)).join(",");return`${e.op}(${t})`}}function g7(e,t){return e instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.field.isEqual(i.field)&&jl(r.value,i.value)}(e,t):e instanceof $a?function(r,i){return i instanceof $a&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&g7(o,i.filters[a]),!0):!1}(e,t):void Ht(19439)}function m7(e){return e instanceof ci?function(n){return`${n.field.canonicalString()} ${n.op} ${Hg(n.value)}`}(e):e instanceof $a?function(n){return n.op.toString()+" {"+n.getFilters().map(m7).join(" ,")+"}"}(e):"Filter"}class Jge extends ci{constructor(t,n,r){super(t,n,r),this.key=Bt.fromName(r.referenceValue)}matches(t){const n=Bt.comparator(t.key,this.key);return this.matchesComparison(n)}}class eme extends ci{constructor(t,n){super(t,"in",n),this.keys=v7("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tme extends ci{constructor(t,n){super(t,"not-in",n),this.keys=v7("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function v7(e,t){return(t.arrayValue?.values||[]).map(n=>Bt.fromName(n.referenceValue))}class nme extends ci{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return S2(n)&&my(n.arrayValue,this.value)}}class rme extends ci{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&my(this.value.arrayValue,n)}}class ime extends ci{constructor(t,n){super(t,"not-in",n)}matches(t){if(my(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!my(this.value.arrayValue,n)}}class sme extends ci{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!S2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>my(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ome{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function i5(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ome(e,t,n,r,i,s,o)}function E2(e){const t=Jt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>dD(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Hg(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Hg(r)).join(",")),t.Te=n}return t.Te}function T2(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qge(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!g7(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!r5(e.startAt,t.startAt)&&r5(e.endAt,t.endAt)}function hD(e){return Bt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ame(e,t,n,r,i,s,o,a){return new gm(e,t,n,r,i,s,o,a)}function bE(e){return new gm(e)}function s5(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function y7(e){return e.collectionGroup!==null}function xv(e){const t=Jt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yi(Yi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new vy(s,r))}),n.has(Yi.keyField().canonicalString())||t.Ie.push(new vy(Yi.keyField(),r))}return t.Ie}function Ol(e){const t=Jt(e);return t.Ee||(t.Ee=lme(t,xv(e))),t.Ee}function lme(e,t){if(e.limitType==="F")return i5(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new vy(i.field,s)});const n=e.endAt?new BS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new BS(e.startAt.position,e.startAt.inclusive):null;return i5(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function fD(e,t){const n=e.filters.concat([t]);return new gm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function pD(e,t,n){return new gm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xE(e,t){return T2(Ol(e),Ol(t))&&e.limitType===t.limitType}function w7(e){return`${E2(Ol(e))}|lt:${e.limitType}`}function zp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m7(i)).join(", ")}]`),Lw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hg(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hg(i)).join(",")),`Target(${r})`}(Ol(e))}; limitType=${e.limitType})`}function SE(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Bt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of xv(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=n5(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xv(r),i)||r.endAt&&!function(o,a,l){const c=n5(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xv(r),i))}(e,t)}function cme(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function C7(e){return(t,n)=>{let r=!1;for(const i of xv(e)){const s=ume(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ume(e,t,n){const r=e.field.isKeyField()?Bt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Vg(l,c):Ht(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ht(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Dd(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return r7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dme=new kr(Bt.comparator);function Wc(){return dme}const b7=new kr(Bt.comparator);function av(...e){let t=b7;for(const n of e)t=t.insert(n.key,n);return t}function x7(e){let t=b7;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Th(){return Sv()}function S7(){return Sv()}function Sv(){return new kf(e=>e.toString(),(e,t)=>e.isEqual(t))}const hme=new kr(Bt.comparator),fme=new yi(Bt.comparator);function wn(...e){let t=fme;for(const n of e)t=t.add(n);return t}const pme=new yi(yn);function gme(){return pme}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:OS(t)?"-0":t}}function E7(e){return{integerValue:""+e}}function T7(e,t){return zge(t)?E7(t):R2(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this._=void 0}}function mme(e,t,n){return e instanceof VS?function(i,s){const o={fields:{[o7]:{stringValue:s7},[l7]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&x2(s)&&(s=CE(s)),s&&(o.fields[a7]=s),{mapValue:o}}(n,t):e instanceof Gg?_7(e,t):e instanceof Ug?A7(e,t):function(i,s){const o=R7(i,s),a=o5(o)+o5(i.Ae);return uD(o)&&uD(i.Ae)?E7(a):R2(i.serializer,a)}(e,t)}function vme(e,t,n){return e instanceof Gg?_7(e,t):e instanceof Ug?A7(e,t):n}function R7(e,t){return e instanceof yy?function(r){return uD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class VS extends EE{}class Gg extends EE{constructor(t){super(),this.elements=t}}function _7(e,t){const n=k7(t);for(const r of e.elements)n.some(i=>jl(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ug extends EE{constructor(t){super(),this.elements=t}}function A7(e,t){let n=k7(t);for(const r of e.elements)n=n.filter(i=>!jl(i,r));return{arrayValue:{values:n}}}class yy extends EE{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function o5(e){return qr(e.integerValue||e.doubleValue)}function k7(e){return S2(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,n){this.field=t,this.transform=n}}function yme(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Gg&&i instanceof Gg||r instanceof Ug&&i instanceof Ug?Bg(r.elements,i.elements,jl):r instanceof yy&&i instanceof yy?jl(r.Ae,i.Ae):r instanceof VS&&i instanceof VS}(e.transform,t.transform)}class wme{constructor(t,n){this.version=t,this.transformResults=n}}class Xi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class TE{}function D7(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new RE(e.key,Xi.none()):new Bw(e.key,e.data,Xi.none());{const n=e.data,r=Fs.empty();let i=new yi(Yi.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pd(e.key,r,new xo(i.toArray()),Xi.none())}}function Cme(e,t,n){e instanceof Bw?function(i,s,o){const a=i.value.clone(),l=l5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Pd?function(i,s,o){if(!qx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=l5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(P7(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Ev(e,t,n,r){return e instanceof Bw?function(s,o,a,l){if(!qx(s.precondition,o))return a;const c=s.value.clone(),u=c5(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pd?function(s,o,a,l){if(!qx(s.precondition,o))return a;const c=c5(s.fieldTransforms,l,o),u=o.data;return u.setAll(P7(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return qx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function bme(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=R7(r.transform,i||null);s!=null&&(n===null&&(n=Fs.empty()),n.set(r.field,s))}return n||null}function a5(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bg(r,i,(s,o)=>yme(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bw extends TE{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pd extends TE{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function P7(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function l5(e,t,n){const r=new Map;An(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,vme(o,a,n[i]))}return r}function c5(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mme(s,o,t))}return r}class RE extends TE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F7 extends TE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xme{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Cme(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ev(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ev(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=S7();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=D7(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),wn())}isEqual(t){return this.batchId===t.batchId&&Bg(this.mutations,t.mutations,(n,r)=>a5(n,r))&&Bg(this.baseMutations,t.baseMutations,(n,r)=>a5(n,r))}}class A2{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){An(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return hme}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new A2(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni,Rn;function I7(e){switch(e){case Qe.OK:return Ht(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return Ht(15467,{code:e})}}function M7(e){if(e===void 0)return jc("GRPC error has no .code"),Qe.UNKNOWN;switch(e){case ni.OK:return Qe.OK;case ni.CANCELLED:return Qe.CANCELLED;case ni.UNKNOWN:return Qe.UNKNOWN;case ni.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case ni.INTERNAL:return Qe.INTERNAL;case ni.UNAVAILABLE:return Qe.UNAVAILABLE;case ni.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case ni.NOT_FOUND:return Qe.NOT_FOUND;case ni.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case ni.ABORTED:return Qe.ABORTED;case ni.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case ni.DATA_LOSS:return Qe.DATA_LOSS;default:return Ht(39323,{code:e})}}(Rn=ni||(ni={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tme(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rme=new Ju([4294967295,4294967295],0);function u5(e){const t=Tme().encode(e),n=new $W;return n.update(t),new Uint8Array(n.digest())}function d5(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ju([n,r],0),new Ju([i,s],0)]}class k2{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lv(`Invalid padding: ${n}`);if(r<0)throw new lv(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new lv(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new lv(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ju.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(Ju.fromNumber(r)));return i.compare(Rme)===1&&(i=new Ju([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=u5(t),[r,i]=d5(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new k2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=u5(t),[r,i]=d5(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class lv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Vw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new _E($t.min(),i,new kr(yn),Wc(),wn())}}class Vw{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Vw(r,n,wn(),wn(),wn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class O7{constructor(t,n){this.targetId=t,this.Ce=n}}class N7{constructor(t,n,r=ts.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h5{constructor(){this.ve=0,this.Fe=f5(),this.Me=ts.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wn(),n=wn(),r=wn();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ht(38017,{changeType:s})}}),new Vw(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=f5()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,An(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _me{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wc(),this.Je=jb(),this.He=jb(),this.Ye=new kr(yn)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Ht(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(hD(s))if(r===0){const o=new Bt(s.path);this.et(n,o,Di.newNoDocument(o,$t.min()))}else An(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=dd(r).toUint8Array()}catch(l){if(l instanceof i7)return Lg("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new k2(o,i,s)}catch(l){return Lg(l instanceof lv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&hD(a.target)){const l=new Bt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Di.newNoDocument(l,t))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=wn();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new _E(t,n,this.Ye,this.je,r);return this.je=Wc(),this.Je=jb(),this.He=jb(),this.Ye=new kr(yn),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new h5,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new yi(yn),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new yi(yn),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Tt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new h5),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function jb(){return new kr(Bt.comparator)}function f5(){return new kr(Bt.comparator)}const Ame={asc:"ASCENDING",desc:"DESCENDING"},kme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dme={and:"AND",or:"OR"};class Pme{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function gD(e,t){return e.useProto3Json||Lw(t)?t:{value:t}}function HS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function L7(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fme(e,t){return HS(e,t.toTimestamp())}function ko(e){return An(!!e,49232),$t.fromTimestamp(function(n){const r=ud(n);return new hr(r.seconds,r.nanos)}(e))}function D2(e,t){return mD(e,t).canonicalString()}function mD(e,t){const n=function(i){return new nr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function B7(e){const t=nr.fromString(e);return An(j7(t),10190,{key:t.toString()}),t}function GS(e,t){return D2(e.databaseId,t.path)}function Tv(e,t){const n=B7(t);if(n.get(1)!==e.databaseId.projectId)throw new xt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bt(H7(n))}function V7(e,t){return D2(e.databaseId,t)}function Ime(e){const t=B7(e);return t.length===4?nr.emptyPath():H7(t)}function vD(e){return new nr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function H7(e){return An(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function p5(e,t,n){return{name:GS(e,t),fields:n.value.mapValue.fields}}function Mme(e,t){return"found"in t?function(r,i){An(!!i.found,43571),i.found.name,i.found.updateTime;const s=Tv(r,i.found.name),o=ko(i.found.updateTime),a=i.found.createTime?ko(i.found.createTime):$t.min(),l=new Fs({mapValue:{fields:i.found.fields}});return Di.newFoundDocument(s,o,a,l)}(e,t):"missing"in t?function(r,i){An(!!i.missing,3894),An(!!i.readTime,22933);const s=Tv(r,i.missing),o=ko(i.readTime);return Di.newNoDocument(s,o)}(e,t):Ht(7234,{result:t})}function Ome(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ht(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(An(u===void 0||typeof u=="string",58123),ts.fromBase64String(u||"")):(An(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ts.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Qe.UNKNOWN:M7(c.code);return new xt(u,c.message||"")}(o);n=new N7(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tv(e,r.document.name),s=ko(r.document.updateTime),o=r.document.createTime?ko(r.document.createTime):$t.min(),a=new Fs({mapValue:{fields:r.document.fields}}),l=Di.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Kx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Tv(e,r.document),s=r.readTime?ko(r.readTime):$t.min(),o=Di.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Kx([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Tv(e,r.document),s=r.removedTargetIds||[];n=new Kx([],s,i,null)}else{if(!("filter"in t))return Ht(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Eme(i,s),a=r.targetId;n=new O7(a,o)}}return n}function G7(e,t){let n;if(t instanceof Bw)n={update:p5(e,t.key,t.value)};else if(t instanceof RE)n={delete:GS(e,t.key)};else if(t instanceof Pd)n={update:p5(e,t.key,t.data),updateMask:jme(t.fieldMask)};else{if(!(t instanceof F7))return Ht(16599,{Vt:t.type});n={verify:GS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof VS)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ug)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yy)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ht(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Fme(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ht(27497)}(e,t.precondition)),n}function Nme(e,t){return e&&e.length>0?(An(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?ko(i.updateTime):ko(s);return o.isEqual($t.min())&&(o=ko(s)),new wme(o,i.transformResults||[])}(n,t))):[]}function Lme(e,t){return{documents:[V7(e,t.path)]}}function Bme(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=V7(e,i);const s=function(c){if(c.length!==0)return z7($a.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:jp(p.field),direction:Gme(p.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gD(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function Vme(e){let t=Ime(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){An(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];n.where&&(s=function(h){const p=U7(h);return p instanceof $a&&p7(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(v){return new vy(Wp(v.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Lw(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new BS(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new BS(g,p)}(n.endAt)),ame(t,i,o,s,a,"F",l,c)}function Hme(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function U7(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wp(n.unaryFilter.field);return ci.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wp(n.unaryFilter.field);return ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wp(n.unaryFilter.field);return ci.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wp(n.unaryFilter.field);return ci.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}}(e):e.fieldFilter!==void 0?function(n){return ci.create(Wp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return $a.create(n.compositeFilter.filters.map(r=>U7(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}}(n.compositeFilter.op))}(e):Ht(30097,{filter:e})}function Gme(e){return Ame[e]}function Ume(e){return kme[e]}function zme(e){return Dme[e]}function jp(e){return{fieldPath:e.canonicalString()}}function Wp(e){return Yi.fromServerFormat(e.fieldPath)}function z7(e){return e instanceof ci?function(n){if(n.op==="=="){if(t5(n.value))return{unaryFilter:{field:jp(n.field),op:"IS_NAN"}};if(e5(n.value))return{unaryFilter:{field:jp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t5(n.value))return{unaryFilter:{field:jp(n.field),op:"IS_NOT_NAN"}};if(e5(n.value))return{unaryFilter:{field:jp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jp(n.field),op:Ume(n.op),value:n.value}}}(e):e instanceof $a?function(n){const r=n.getFilters().map(i=>z7(i));return r.length===1?r[0]:{compositeFilter:{op:zme(n.op),filters:r}}}(e):Ht(54877,{filter:e})}function jme(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function j7(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n,r,i,s=$t.min(),o=$t.min(),a=ts.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ku(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{constructor(t){this.yt=t}}function $me(e){const t=Vme({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?pD(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qme{constructor(){this.Cn=new Kme}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(cd.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(cd.min())}updateCollectionGroup(t,n,r){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class Kme{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new yi(nr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new yi(nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W7=41943040;class $s{static withCacheSize(t){return new $s(t,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(W7,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new zg(0)}static cr(){return new zg(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="LruGarbageCollector",Yme=1048576;function v5([e,t],[n,r]){const i=yn(e,n);return i===0?yn(t,r):i}class Xme{constructor(t){this.Ir=t,this.buffer=new yi(v5),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();v5(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Qme{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(m5,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pm(n)?Tt(m5,"Ignoring IndexedDB error during garbage collection: ",n):await fm(n)}await this.Vr(3e5)})}}class Zme{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return it.resolve(wE.ce);const r=new Xme(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(g5)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g5):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(t,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(t,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(h=>(c=Date.now(),Up()<=vn.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Jme(e,t){return new Zme(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0e{constructor(){this.changes=new kf(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Di.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?it.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0e{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ev(r.mutation,i,xo.empty(),hr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,wn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=wn()){const i=Th();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=av();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Th();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,wn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Wc();const o=Sv(),a=function(){return Sv()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Pd)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ev(u.mutation,c,u.mutation.getFieldMask(),hr.now())):o.set(c.key,xo.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>a.set(c,new t0e(u,o.get(c)??null))),a))}recalculateAndSaveOverlays(t,n){const r=Sv();let i=new kr((o,a)=>o-a),s=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||xo.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||wn()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=S7();u.forEach(p=>{if(!s.has(p)){const g=D7(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return it.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):y7(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):it.resolve(Th());let a=fy,l=s;return o.next(c=>it.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?it.resolve():this.remoteDocumentCache.getEntry(t,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,wn())).next(u=>({batchId:a,changes:x7(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Bt(n)).next(r=>{let i=av();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=av();return this.indexManager.getCollectionParents(t,s).next(a=>it.forEach(a,l=>{const c=function(h,p){return new gm(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Di.newInvalidDocument(u)))});let a=av();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Ev(u.mutation,c,xo.empty(),hr.now()),SE(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0e{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ko(i.createTime)}}(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:$me(i.bundledQuery),readTime:ko(i.readTime)}}(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0e{constructor(){this.overlays=new kr(Bt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Th();return it.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),it.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),it.resolve()}getOverlaysForCollection(t,n,r){const i=Th(),s=n.length+1,o=new Bt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return it.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new kr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Th(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Th(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return it.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Sme(n,r));let s=this.qr.get(n);s===void 0&&(s=wn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(){this.sessionToken=ts.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Qr=new yi(Ai.$r),this.Ur=new yi(Ai.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ai(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new Ai(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new Bt(new nr([])),r=new Ai(n,t),i=new Ai(n,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Bt(new nr([])),r=new Ai(n,t),i=new Ai(n,t+1);let s=wn();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Ai(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ai{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Bt.comparator(t.key,n.key)||yn(t.Yr,n.Yr)}static Kr(t,n){return yn(t.Yr,n.Yr)||Bt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yi(Ai.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xme(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Ai(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return it.resolve(o)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return it.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?b2:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ai(n,0),i=new Ai(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),it.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new yi(yn);return n.forEach(i=>{const s=new Ai(i,0),o=new Ai(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),it.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Bt.isDocumentKey(s)||(s=s.child(""));const o=new Ai(new Bt(s),0);let a=new yi(yn);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),it.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){An(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return it.forEach(n.mutations,i=>{const s=new Ai(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new Ai(n,0),i=this.Zr.firstAfterOrEqual(r);return it.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0e{constructor(t){this.ri=t,this.docs=function(){return new kr(Bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return it.resolve(r?r.document.mutableCopy():Di.newInvalidDocument(n))}getEntries(t,n){let r=Wc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Di.newInvalidDocument(i))}),it.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Wc();const o=n.path,a=new Bt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Vge(Bge(u),r)<=0||(i.has(u.key)||SE(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return it.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Ht(9500)}ii(t,n){return it.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new l0e(this)}getSize(t){return it.resolve(this.size)}}class l0e extends e0e{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0e{constructor(t){this.persistence=t,this.si=new kf(n=>E2(n),T2),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.oi=0,this._i=new P2,this.targetCount=0,this.ai=zg.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new zg(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),it.waitFor(s).next(()=>i)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return it.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),it.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),it.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return it.resolve(r)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(t,n){this.ui={},this.overlays={},this.ci=new wE(0),this.li=!1,this.li=!0,this.hi=new s0e,this.referenceDelegate=t(this),this.Pi=new c0e(this),this.indexManager=new qme,this.remoteDocumentCache=function(i){return new a0e(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Wme(n),this.Ii=new r0e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new i0e,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new o0e(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Tt("MemoryPersistence","Starting transaction:",t);const i=new u0e(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,n){return it.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class u0e extends Gge{constructor(t){super(),this.currentSequenceNumber=t}}class F2{constructor(t){this.persistence=t,this.Ri=new P2,this.Vi=null}static mi(t){return new F2(t)}get fi(){if(this.Vi)return this.Vi;throw Ht(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),it.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,r=>{const i=Bt.fromPath(r);return this.gi(t,i).next(s=>{s||n.removeEntry(i,$t.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class US{constructor(t,n){this.persistence=t,this.pi=new kf(r=>jge(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Jme(this,n)}static mi(t,n){return new US(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return it.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?it.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,n).next(a=>{a||(r++,s.removeEntry(o,$t.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wx(t.data.value)),n}br(t,n,r){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return it.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=wn(),i=wn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I2(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Vde()?8:Uge(gs())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ys(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new d0e;return this.Ss(t,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(t,n,o,a.size)})}).next(()=>s.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(Up()<=vn.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",zp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Up()<=vn.DEBUG&&Tt("QueryEngine","Query:",zp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Up()<=vn.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",zp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ol(n))):it.resolve())}ys(t,n){if(s5(n))return it.resolve(null);let r=Ol(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pD(n,null,"F"),r=Ol(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=wn(...s);return this.ps.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(t,pD(n,null,"F")):this.vs(t,c,n,l)}))})))}ws(t,n,r,i){return s5(n)||i.isEqual($t.min())?it.resolve(null):this.ps.getDocuments(t,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?it.resolve(null):(Up()<=vn.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zp(n)),this.vs(t,o,n,Lge(i,fy)).next(a=>a))})}Ds(t,n){let r=new yi(C7(t));return n.forEach((i,s)=>{SE(t,s)&&(r=r.add(s))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,n,r){return Up()<=vn.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",zp(n)),this.ps.getDocumentsMatchingQuery(t,n,cd.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="LocalStore",f0e=3e8;class p0e{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new kr(yn),this.xs=new kf(s=>E2(s),T2),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new n0e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function g0e(e,t,n,r){return new p0e(e,t,n,r)}async function q7(e,t){const n=Jt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=wn();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function m0e(e,t){const n=Jt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let g=it.resolve();return p.forEach(v=>{g=g.next(()=>u.getEntry(l,v)).next(y=>{const C=c.docVersions.get(v);An(C!==null,48541),y.version.compareTo(C)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=wn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function K7(e){const t=Jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function v0e(e,t){const n=Jt(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,u.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(ts.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(h,g),function(y,C,b){return y.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=f0e?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,g,u)&&a.push(n.Pi.updateTargetData(s,g))});let l=Wc(),c=wn();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(y0e(s,o,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual($t.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return it.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function y0e(e,t,n){let r=wn(),i=wn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Wc();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual($t.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Tt(M2,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function w0e(e,t){const n=Jt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=b2),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function C0e(e,t){const n=Jt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(s=>s?(i=s,it.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Ku(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function yD(e,t,n){const r=Jt(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!pm(o))throw o;Tt(M2,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function y5(e,t,n){const r=Jt(e);let i=$t.min(),s=wn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Jt(l),p=h.xs.get(u);return p!==void 0?it.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,u)}(r,o,Ol(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,n?i:$t.min(),n?s:wn())).next(a=>(b0e(r,cme(t),a),{documents:a,Qs:s})))}function b0e(e,t,n){let r=e.Os.get(t)||$t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Os.set(t,r)}class w5{constructor(){this.activeTargetIds=gme()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class x0e{constructor(){this.Mo=new w5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new w5,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0e{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="ConnectivityMonitor";class b5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(C5,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(C5,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wb=null;function wD(){return Wb===null?Wb=function(){return 268435456+Math.round(2147483648*Math.random())}():Wb++,"0x"+Wb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="RestConnection",E0e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T0e{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===NS?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,s){const o=wD(),a=this.zo(t,n.toUriEncodedString());Tt(X_,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),u=_d(c);return this.Jo(t,a,l,r,u).then(h=>(Tt(X_,`Received RPC '${t}' ${o}: `,h),h),h=>{throw Lg(X_,`RPC '${t}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(t,n,r,i,s,o){return this.Go(t,n,r,i,s)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hm}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,n){const r=E0e[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0e{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="WebChannelConnection";class _0e extends T0e{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,s){const o=wD();return new Promise((a,l)=>{const c=new qW;c.setWithCredentials(!0),c.listenOnce(KW.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case jx.NO_ERROR:const h=c.getResponseJson();Tt(is,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),a(h);break;case jx.TIMEOUT:Tt(is,`RPC '${t}' ${o} timed out`),l(new xt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case jx.HTTP_ERROR:const p=c.getStatus();if(Tt(is,`RPC '${t}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const y=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(E)>=0?E:Qe.UNKNOWN}(v.status);l(new xt(y,v.message))}else l(new xt(Qe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new xt(Qe.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Tt(is,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Tt(is,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(t,n,r){const i=wD(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=QW(),a=XW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Tt(is,`Creating RPC '${t}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);this.I_(h);let p=!1,g=!1;const v=new R0e({Yo:C=>{g?Tt(is,`Not sending because RPC '${t}' stream ${i} is closed:`,C):(p||(Tt(is,`Opening RPC '${t}' stream ${i} transport.`),h.open(),p=!0),Tt(is,`RPC '${t}' stream ${i} sending:`,C),h.send(C))},Zo:()=>h.close()}),y=(C,b,E)=>{C.listen(b,x=>{try{E(x)}catch(k){setTimeout(()=>{throw k},0)}})};return y(h,ov.EventType.OPEN,()=>{g||(Tt(is,`RPC '${t}' stream ${i} transport opened.`),v.o_())}),y(h,ov.EventType.CLOSE,()=>{g||(g=!0,Tt(is,`RPC '${t}' stream ${i} transport closed`),v.a_(),this.E_(h))}),y(h,ov.EventType.ERROR,C=>{g||(g=!0,Lg(is,`RPC '${t}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),v.a_(new xt(Qe.UNAVAILABLE,"The operation could not be completed")))}),y(h,ov.EventType.MESSAGE,C=>{if(!g){const b=C.data[0];An(!!b,16349);const E=b,x=E?.error||E[0]?.error;if(x){Tt(is,`RPC '${t}' stream ${i} received error:`,x);const k=x.status;let D=function(I){const F=ni[I];if(F!==void 0)return M7(F)}(k),R=x.message;D===void 0&&(D=Qe.INTERNAL,R="Unknown error status: "+k+" with message "+x.message),g=!0,v.a_(new xt(D,R)),h.close()}else Tt(is,`RPC '${t}' stream ${i} received:`,b),v.u_(b)}}),y(a,YW.STAT_EVENT,C=>{C.stat===aD.PROXY?Tt(is,`RPC '${t}' stream ${i} detected buffering proxy`):C.stat===aD.NOPROXY&&Tt(is,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Q_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e){return new Pme(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="PersistentStream";class Y7{constructor(t,n,r,i,s,o,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new O2(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Qe.RESOURCE_EXHAUSTED?(jc(n.toString()),jc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new xt(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Tt(x5,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Tt(x5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A0e extends Y7{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Ome(this.serializer,t),r=function(s){if(!("targetChange"in s))return $t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?$t.min():o.readTime?ko(o.readTime):$t.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=vD(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=hD(l)?{documents:Lme(s,l)}:{query:Bme(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=L7(s,o.resumeToken);const c=gD(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo($t.min())>0){a.readTime=HS(s,o.snapshotVersion.toTimestamp());const c=gD(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=Hme(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=vD(this.serializer),n.removeTarget=t,this.q_(n)}}class k0e extends Y7{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return An(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,An(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){An(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Nme(t.writeResults,t.commitTime),r=ko(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=vD(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>G7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0e{}class P0e extends D0e{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,mD(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xt(Qe.UNKNOWN,s.toString())})}Ho(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(t,mD(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xt(Qe.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class F0e{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jc(n),this.aa=!1):Tt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="RemoteStore";class I0e{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Df(this)&&(Tt(rf,"Restarting streams for network reachability change."),await async function(l){const c=Jt(l);c.Ea.add(4),await Hw(c),c.Ra.set("Unknown"),c.Ea.delete(4),await kE(c)}(this))})}),this.Ra=new F0e(r,i)}}async function kE(e){if(Df(e))for(const t of e.da)await t(!0)}async function Hw(e){for(const t of e.da)await t(!1)}function X7(e,t){const n=Jt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),V2(n)?B2(n):mm(n).O_()&&L2(n,t))}function N2(e,t){const n=Jt(e),r=mm(n);n.Ia.delete(t),r.O_()&&Q7(n,t),n.Ia.size===0&&(r.O_()?r.L_():Df(n)&&n.Ra.set("Unknown"))}function L2(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($t.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mm(e).Y_(t)}function Q7(e,t){e.Va.Ue(t),mm(e).Z_(t)}function B2(e){e.Va=new _me({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),mm(e).start(),e.Ra.ua()}function V2(e){return Df(e)&&!mm(e).x_()&&e.Ia.size>0}function Df(e){return Jt(e).Ea.size===0}function Z7(e){e.Va=void 0}async function M0e(e){e.Ra.set("Online")}async function O0e(e){e.Ia.forEach((t,n)=>{L2(e,t)})}async function N0e(e,t){Z7(e),V2(e)?(e.Ra.ha(t),B2(e)):e.Ra.set("Unknown")}async function L0e(e,t,n){if(e.Ra.set("Online"),t instanceof N7&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(r){Tt(rf,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zS(e,r)}else if(t instanceof Kx?e.Va.Ze(t):t instanceof O7?e.Va.st(t):e.Va.tt(t),!n.isEqual($t.min()))try{const r=await K7(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(ts.EMPTY_BYTE_STRING,u.snapshotVersion)),Q7(s,l);const h=new Ku(u.target,l,c,u.sequenceNumber);L2(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Tt(rf,"Failed to raise snapshot:",r),await zS(e,r)}}async function zS(e,t,n){if(!pm(t))throw t;e.Ea.add(1),await Hw(e),e.Ra.set("Offline"),n||(n=()=>K7(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Tt(rf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await kE(e)})}function J7(e,t){return t().catch(n=>zS(e,n,t))}async function DE(e){const t=Jt(e),n=fd(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:b2;for(;B0e(t);)try{const i=await w0e(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,V0e(t,i)}catch(i){await zS(t,i)}e$(t)&&t$(t)}function B0e(e){return Df(e)&&e.Ta.length<10}function V0e(e,t){e.Ta.push(t);const n=fd(e);n.O_()&&n.X_&&n.ea(t.mutations)}function e$(e){return Df(e)&&!fd(e).x_()&&e.Ta.length>0}function t$(e){fd(e).start()}async function H0e(e){fd(e).ra()}async function G0e(e){const t=fd(e);for(const n of e.Ta)t.ea(n.mutations)}async function U0e(e,t,n){const r=e.Ta.shift(),i=A2.from(r,t,n);await J7(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await DE(e)}async function z0e(e,t){t&&fd(e).X_&&await async function(r,i){if(function(o){return I7(o)&&o!==Qe.ABORTED}(i.code)){const s=r.Ta.shift();fd(r).B_(),await J7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await DE(r)}}(e,t),e$(e)&&t$(e)}async function S5(e,t){const n=Jt(e);n.asyncQueue.verifyOperationInProgress(),Tt(rf,"RemoteStore received new credentials");const r=Df(n);n.Ea.add(3),await Hw(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await kE(n)}async function j0e(e,t){const n=Jt(e);t?(n.Ea.delete(2),await kE(n)):t||(n.Ea.add(2),await Hw(n),n.Ra.set("Unknown"))}function mm(e){return e.ma||(e.ma=function(n,r,i){const s=Jt(n);return s.sa(),new A0e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:M0e.bind(null,e),t_:O0e.bind(null,e),r_:N0e.bind(null,e),H_:L0e.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),V2(e)?B2(e):e.Ra.set("Unknown")):(await e.ma.stop(),Z7(e))})),e.ma}function fd(e){return e.fa||(e.fa=function(n,r,i){const s=Jt(n);return s.sa(),new k0e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:H0e.bind(null,e),r_:z0e.bind(null,e),ta:G0e.bind(null,e),na:U0e.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await DE(e)):(await e.fa.stop(),e.Ta.length>0&&(Tt(rf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new H2(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(Qe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G2(e,t){if(jc("AsyncQueue",`${t}: ${e}`),pm(e))return new xt(Qe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static emptySet(t){return new ug(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Bt.comparator(n.key,r.key):(n,r)=>Bt.comparator(n.key,r.key),this.keyedMap=av(),this.sortedSet=new kr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ug)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ug;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.ga=new kr(Bt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ht(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class jg{constructor(t,n,r,i,s,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jg(t,n,ug.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class $0e{constructor(){this.queries=T5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Jt(n),s=i.queries;i.queries=T5(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new xt(Qe.ABORTED,"Firestore shutting down"))}}function T5(){return new kf(e=>w7(e),xE)}async function U2(e,t){const n=Jt(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new W0e,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=G2(o,`Initialization of query '${zp(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&j2(n)}async function z2(e,t){const n=Jt(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function q0e(e,t){const n=Jt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&j2(n)}function K0e(e,t,n){const r=Jt(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function j2(e){e.Ca.forEach(t=>{t.next()})}var CD,R5;(R5=CD||(CD={})).Ma="default",R5.Cache="cache";class W2{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new jg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=jg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==CD.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(t){this.key=t}}class r${constructor(t){this.key=t}}class Y0e{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wn(),this.mutatedKeys=wn(),this.eu=C7(t),this.tu=new ug(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new E5,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,h)=>{const p=i.get(u),g=SE(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),C=!0):this.su(p,g)||(r.track({type:2,doc:g}),C=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),C=!0):p&&!g&&(r.track({type:1,doc:p}),C=!0,(l||c)&&(a=!0)),C&&(g?(o=o.add(g),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((u,h)=>function(g,v){const y=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht(20277,{Rt:C})}};return y(g)-y(v)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new jg(this.query,t.tu,s,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=wn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new r$(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new n$(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=wn();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return jg.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $2="SyncEngine";class X0e{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Q0e{constructor(t){this.key=t,this.hu=!1}}class Z0e{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new kf(a=>w7(a),xE),this.Iu=new Map,this.Eu=new Set,this.du=new kr(Bt.comparator),this.Au=new Map,this.Ru=new P2,this.Vu={},this.mu=new Map,this.fu=zg.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J0e(e,t,n=!0){const r=c$(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await i$(r,t,n,!0),i}async function eve(e,t){const n=c$(e);await i$(n,t,!0,!1)}async function i$(e,t,n,r){const i=await C0e(e.localStore,Ol(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await tve(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&X7(e.remoteStore,i),a}async function tve(e,t,n,r,i){e.pu=(h,p,g)=>async function(y,C,b,E){let x=C.view.ru(b);x.Cs&&(x=await y5(y.localStore,C.query,!1).then(({documents:_})=>C.view.ru(_,x)));const k=E&&E.targetChanges.get(C.targetId),D=E&&E.targetMismatches.get(C.targetId)!=null,R=C.view.applyChanges(x,y.isPrimaryClient,k,D);return A5(y,C.targetId,R.au),R.snapshot}(e,h,p,g);const s=await y5(e.localStore,t,!0),o=new Y0e(t,s.Qs),a=o.ru(s.documents),l=Vw.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);A5(e,n,c.au);const u=new X0e(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function nve(e,t,n){const r=Jt(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!xE(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yD(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&N2(r.remoteStore,i.targetId),bD(r,i.targetId)}).catch(fm)):(bD(r,i.targetId),await yD(r.localStore,i.targetId,!0))}async function rve(e,t){const n=Jt(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),N2(n.remoteStore,r.targetId))}async function ive(e,t,n){const r=dve(e);try{const i=await function(o,a){const l=Jt(o),c=hr.now(),u=a.reduce((g,v)=>g.add(v.key),wn());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Wc(),y=wn();return l.Ns.getEntries(g,u).next(C=>{v=C,v.forEach((b,E)=>{E.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(C=>{h=C;const b=[];for(const E of a){const x=bme(E,h.get(E.key).overlayedDocument);x!=null&&b.push(new Pd(E.key,x,d7(x.value.mapValue),Xi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,b,a)}).next(C=>{p=C;const b=C.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(g,C.batchId,b)})}).then(()=>({batchId:p.batchId,changes:x7(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new kr(yn)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Gw(r,i.changes),await DE(r.remoteStore)}catch(i){const s=G2(i,"Failed to persist write");n.reject(s)}}async function s$(e,t){const n=Jt(e);try{const r=await v0e(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(An(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?An(o.hu,14607):i.removedDocuments.size>0&&(An(o.hu,42227),o.hu=!1))}),await Gw(n,r,t)}catch(r){await fm(r)}}function _5(e,t,n){const r=Jt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Jt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&j2(l)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sve(e,t,n){const r=Jt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new kr(Bt.comparator);o=o.insert(s,Di.newNoDocument(s,$t.min()));const a=wn().add(s),l=new _E($t.min(),new Map,new kr(yn),o,a);await s$(r,l),r.du=r.du.remove(s),r.Au.delete(t),q2(r)}else await yD(r.localStore,t,!1).then(()=>bD(r,t,n)).catch(fm)}async function ove(e,t){const n=Jt(e),r=t.batch.batchId;try{const i=await m0e(n.localStore,t);a$(n,r,null),o$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gw(n,i)}catch(i){await fm(i)}}async function ave(e,t,n){const r=Jt(e);try{const i=await function(o,a){const l=Jt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(An(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);a$(r,t,n),o$(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gw(r,i)}catch(i){await fm(i)}}function o$(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function a$(e,t,n){const r=Jt(e);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function bD(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||l$(e,r)})}function l$(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(N2(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),q2(e))}function A5(e,t,n){for(const r of n)r instanceof n$?(e.Ru.addReference(r.key,t),lve(e,r)):r instanceof r$?(Tt($2,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||l$(e,r.key)):Ht(19791,{wu:r})}function lve(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Tt($2,"New document in limbo: "+n),e.Eu.add(r),q2(e))}function q2(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Bt(nr.fromString(t)),r=e.fu.next();e.Au.set(r,new Q0e(n)),e.du=e.du.insert(n,r),X7(e.remoteStore,new Ku(Ol(bE(n.path)),r,"TargetPurposeLimboResolution",wE.ce))}}async function Gw(e,t,n){const r=Jt(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient){const u=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(c){i.push(c);const u=I2.As(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const u=Jt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>it.forEach(c,p=>it.forEach(p.Es,g=>u.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>it.forEach(p.ds,g=>u.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!pm(h))throw h;Tt(M2,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=u.Ms.get(p),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(p,y)}}}(r.localStore,s))}async function cve(e,t){const n=Jt(e);if(!n.currentUser.isEqual(t)){Tt($2,"User change. New user:",t.toKey());const r=await q7(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new xt(Qe.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gw(n,r.Ls)}}function uve(e,t){const n=Jt(e),r=n.Au.get(t);if(r&&r.hu)return wn().add(r.key);{let i=wn();const s=n.Iu.get(t);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function c$(e){const t=Jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=s$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uve.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sve.bind(null,t),t.Pu.H_=q0e.bind(null,t.eventManager),t.Pu.yu=K0e.bind(null,t.eventManager),t}function dve(e){const t=Jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ove.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ave.bind(null,t),t}class jS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=AE(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return g0e(this.persistence,new h0e,t.initialUser,this.serializer)}Cu(t){return new $7(F2.mi,this.serializer)}Du(t){return new x0e}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jS.provider={build:()=>new jS};class hve extends jS{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){An(this.persistence.referenceDelegate instanceof US,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Qme(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new $7(r=>US.mi(r,n),this.serializer)}}class xD{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cve.bind(null,this.syncEngine),await j0e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $0e}()}createDatastore(t){const n=AE(t.databaseInfo.databaseId),r=function(s){return new _0e(s)}(t.databaseInfo);return function(s,o,a,l){return new P0e(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new I0e(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>_5(this.syncEngine,n,0),function(){return b5.v()?new b5:new S0e}())}createSyncEngine(t,n){return function(i,s,o,a,l,c,u){const h=new Z0e(i,s,o,a,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Jt(n);Tt(rf,"RemoteStore shutting down."),r.Ea.add(5),await Hw(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xD.provider={build:()=>new xD};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):jc("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fve{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new xt(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Jt(i),a={documents:s.map(h=>GS(o.serializer,h))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,nr.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const p=Mme(o.serializer,h);c.set(p.key.toString(),p)});const u=[];return s.forEach(h=>{const p=c.get(h.toString());An(!!p,55234,{key:h}),u.push(p)}),u}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new RE(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=Bt.fromPath(r);this.mutations.push(new F7(i,this.precondition(i)))}),await async function(r,i){const s=Jt(r),o={writes:i.map(a=>G7(s.serializer,a))};await s.Go("Commit",s.serializer.databaseId,nr.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Ht(50498,{Gu:t.constructor.name});n=$t.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new xt(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual($t.min())?Xi.exists(!1):Xi.updateTime(n):Xi.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual($t.min()))throw new xt(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(n)}return Xi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new O2(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const t=new fve(this.datastore),n=this.Hu(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(t){try{const n=this.updateFunction(t);return!Lw(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(t)}Zu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!I7(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="FirestoreClient";class gve{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=as.UNAUTHENTICATED,this.clientId=C2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Tt(pd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Tt(pd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=G2(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Z_(e,t){e.asyncQueue.verifyOperationInProgress(),Tt(pd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await q7(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function k5(e,t){e.asyncQueue.verifyOperationInProgress();const n=await mve(e);Tt(pd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>S5(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>S5(t.remoteStore,i)),e._onlineComponents=t}async function mve(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Tt(pd,"Using user provided OfflineComponentProvider");try{await Z_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===Qe.FAILED_PRECONDITION||i.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Lg("Error using user provided cache. Falling back to memory cache: "+n),await Z_(e,new jS)}}else Tt(pd,"Using default OfflineComponentProvider"),await Z_(e,new hve(void 0));return e._offlineComponents}async function Y2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Tt(pd,"Using user provided OnlineComponentProvider"),await k5(e,e._uninitializedComponentsProvider._online)):(Tt(pd,"Using default OnlineComponentProvider"),await k5(e,new xD))),e._onlineComponents}function vve(e){return Y2(e).then(t=>t.syncEngine)}function yve(e){return Y2(e).then(t=>t.datastore)}async function WS(e){const t=await Y2(e),n=t.eventManager;return n.onListen=J0e.bind(null,t.syncEngine),n.onUnlisten=nve.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eve.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rve.bind(null,t.syncEngine),n}function wve(e,t,n={}){const r=new Ml;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new K2({next:p=>{u.Nu(),o.enqueueAndForget(()=>z2(s,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new xt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new xt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new W2(bE(a.path),u,{includeMetadataChanges:!0,qa:!0});return U2(s,h)}(await WS(e),e.asyncQueue,t,n,r)),r.promise}function Cve(e,t,n={}){const r=new Ml;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new K2({next:p=>{u.Nu(),o.enqueueAndForget(()=>z2(s,h)),p.fromCache&&l.source==="server"?c.reject(new xt(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new W2(a,u,{includeMetadataChanges:!0,qa:!0});return U2(s,h)}(await WS(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="firestore.googleapis.com",P5=!0;class F5{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new xt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d$,this.ssl=P5}else this.host=t.host,this.ssl=t.ssl??P5;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=W7;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Yme)throw new xt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Nge("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u$(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class PE{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F5(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rge;switch(r.type){case"firstParty":return new Dge(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D5.get(n);r&&(Tt("ComponentProvider","Removing Datastore"),D5.delete(n),r.terminate())}(this),Promise.resolve()}}function bve(e,t,n,r={}){e=Os(e,PE);const i=_d(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(o2(`https://${a}`),a2("Firestore",!0)),s.host!==d$&&s.host!==a&&Lg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Gc(l,o)&&(e._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=as.MOCK_USER;else{c=oW(r.mockUserToken,e._app?.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new xt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new as(h)}e._authCredentials=new _ge(new JW(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Fd(this.firestore,t,this._query)}}class Rr{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rr(this.firestore,t,this._key)}toJSON(){return{type:Rr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Nw(n,Rr._jsonSchema))return new Rr(t,r||null,new Bt(nr.fromString(n.referencePath)))}}Rr._jsonSchemaVersion="firestore/documentReference/1.0",Rr._jsonSchema={type:ui("string",Rr._jsonSchemaVersion),referencePath:ui("string")};class ed extends Fd{constructor(t,n,r){super(t,n,bE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rr(this.firestore,null,new Bt(t))}withConverter(t){return new ed(this.firestore,t,this._path)}}function Pf(e,t,...n){if(e=vr(e),e7("collection","path",t),e instanceof PE){const r=nr.fromString(t,...n);return WV(r),new ed(e,null,r)}{if(!(e instanceof Rr||e instanceof ed))throw new xt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nr.fromString(t,...n));return WV(r),new ed(e.firestore,null,r)}}function Wl(e,t,...n){if(e=vr(e),arguments.length===1&&(t=C2.newId()),e7("doc","path",t),e instanceof PE){const r=nr.fromString(t,...n);return jV(r),new Rr(e,null,new Bt(r))}{if(!(e instanceof Rr||e instanceof ed))throw new xt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nr.fromString(t,...n));return jV(r),new Rr(e.firestore,e instanceof ed?e.converter:null,new Bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="AsyncQueue";class M5{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new O2(this,"async_queue_retry"),this._c=()=>{const r=Q_();r&&Tt(I5,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Q_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Q_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ml;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!pm(t))throw t;Tt(I5,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,jc("INTERNAL UNHANDLED ERROR: ",O5(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=H2.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ht(47125,{Pc:O5(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function O5(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class $l extends PE{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new M5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M5(t),this._firestoreClient=void 0,await t}}}function xve(e,t){const n=typeof e=="object"?e:u2(),r=typeof e=="string"?e:NS,i=pE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rW("firestore");s&&bve(i,...s)}return i}function Uw(e){if(e._terminated)throw new xt(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Sve(e),e._firestoreClient}function Sve(e){const t=e._freezeSettings(),n=function(i,s,o,a){return new qge(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,u$(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new gve(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wo(ts.fromBase64String(t))}catch(n){throw new xt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new wo(ts.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:wo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nw(t,wo._jsonSchema))return wo.fromBase64String(t.bytes)}}wo._jsonSchemaVersion="firestore/bytes/1.0",wo._jsonSchema={type:ui("string",wo._jsonSchemaVersion),bytes:ui("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new xt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new xt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return yn(this._lat,t._lat)||yn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nl._jsonSchemaVersion}}static fromJSON(t){if(Nw(t,Nl._jsonSchema))return new Nl(t.latitude,t.longitude)}}Nl._jsonSchemaVersion="firestore/geoPoint/1.0",Nl._jsonSchema={type:ui("string",Nl._jsonSchemaVersion),latitude:ui("number"),longitude:ui("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ll._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nw(t,Ll._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Ll(t.vectorValues);throw new xt(Qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ll._jsonSchemaVersion="firestore/vectorValue/1.0",Ll._jsonSchema={type:ui("string",Ll._jsonSchemaVersion),vectorValues:ui("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eve=/^__.*__$/;class Tve{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Pd(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bw(t,this.data,n,this.fieldTransforms)}}class h${constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Pd(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function f$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht(40011,{Ac:e})}}class FE{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new FE({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $S(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(f$(this.Ac)&&Eve.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Rve{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||AE(t)}Cc(t,n,r,i=!1){return new FE({Ac:t,methodName:n,Dc:r,path:Yi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jw(e){const t=e._freezeSettings(),n=AE(e._databaseId);return new Rve(e._databaseId,!!t.ignoreUndefinedProperties,n)}function X2(e,t,n,r,i,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);eI("Data must be an object, but it was:",o,r);const a=v$(r,o);let l,c;if(s.merge)l=new xo(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=SD(t,h,n);if(!o.contains(p))throw new xt(Qe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);w$(u,p)||u.push(p)}l=new xo(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Tve(new Fs(a),l,c)}class IE extends vm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof IE}}function p$(e,t,n){return new FE({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Q2 extends vm{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=p$(this,t,!0),r=this.vc.map(s=>Ff(s,n)),i=new Gg(r);return new _2(t.path,i)}isEqual(t){return t instanceof Q2&&Gc(this.vc,t.vc)}}class Z2 extends vm{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=p$(this,t,!0),r=this.vc.map(s=>Ff(s,n)),i=new Ug(r);return new _2(t.path,i)}isEqual(t){return t instanceof Z2&&Gc(this.vc,t.vc)}}class J2 extends vm{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new yy(t.serializer,T7(t.serializer,this.Fc));return new _2(t.path,n)}isEqual(t){return t instanceof J2&&this.Fc===t.Fc}}function g$(e,t,n,r){const i=e.Cc(1,t,n);eI("Data must be an object, but it was:",i,r);const s=[],o=Fs.empty();Dd(r,(l,c)=>{const u=tI(t,l,n);c=vr(c);const h=i.yc(u);if(c instanceof IE)s.push(u);else{const p=Ff(c,h);p!=null&&(s.push(u),o.set(u,p))}});const a=new xo(s);return new h$(o,a,i.fieldTransforms)}function m$(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[SD(t,r,n)],l=[i];if(s.length%2!=0)throw new xt(Qe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(SD(t,s[p])),l.push(s[p+1]);const c=[],u=Fs.empty();for(let p=a.length-1;p>=0;--p)if(!w$(c,a[p])){const g=a[p];let v=l[p];v=vr(v);const y=o.yc(g);if(v instanceof IE)c.push(g);else{const C=Ff(v,y);C!=null&&(c.push(g),u.set(g,C))}}const h=new xo(c);return new h$(u,h,o.fieldTransforms)}function _ve(e,t,n,r=!1){return Ff(n,e.Cc(r?4:3,t))}function Ff(e,t){if(y$(e=vr(e)))return eI("Unsupported field value:",t,e),v$(e,t);if(e instanceof vm)return function(r,i){if(!f$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ff(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=hr.fromDate(r);return{timestampValue:HS(i.serializer,s)}}if(r instanceof hr){const s=new hr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:HS(i.serializer,s)}}if(r instanceof Nl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:L7(i.serializer,r._byteString)};if(r instanceof Rr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ll)return function(o,a){return{mapValue:{fields:{[c7]:{stringValue:u7},[LS]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return R2(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${yE(r)}`)}(e,t)}function v$(e,t){const n={};return r7(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dd(e,(r,i)=>{const s=Ff(i,t.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function y$(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof hr||e instanceof Nl||e instanceof wo||e instanceof Rr||e instanceof vm||e instanceof Ll)}function eI(e,t,n){if(!y$(n)||!t7(n)){const r=yE(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function SD(e,t,n){if((t=vr(t))instanceof zw)return t._internalPath;if(typeof t=="string")return tI(e,t);throw $S("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ave=new RegExp("[~\\*/\\[\\]]");function tI(e,t,n){if(t.search(Ave)>=0)throw $S(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zw(...t.split("."))._internalPath}catch{throw $S(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function $S(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new xt(Qe.INVALID_ARGUMENT,a+e+l)}function w$(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ME("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kve extends qS{data(){return super.data()}}function ME(e,t){return typeof t=="string"?tI(e,t):t instanceof zw?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new xt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nI{}class b$ extends nI{}function Ww(e,t,...n){let r=[];t instanceof nI&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof iI).length,a=s.filter(l=>l instanceof OE).length;if(o>1||o>0&&a>0)throw new xt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class OE extends b${constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new OE(t,n,r)}_apply(t){const n=this._parse(t);return S$(t._query,n),new Fd(t.firestore,t.converter,fD(t._query,n))}_parse(t){const n=jw(t.firestore);return function(s,o,a,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new xt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){B5(h,u);const v=[];for(const y of h)v.push(L5(l,s,y));p={arrayValue:{values:v}}}else p=L5(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||B5(h,u),p=_ve(a,o,h,u==="in"||u==="not-in");return ci.create(c,u,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function rI(e,t,n){const r=t,i=ME("where",e);return OE._create(i,r,n)}class iI extends nI{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new iI(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$a.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)S$(o,l),o=fD(o,l)}(t._query,n),new Fd(t.firestore,t.converter,fD(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sI extends b${constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new sI(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new xt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vy(s,o)}(t._query,this._field,this._direction);return new Fd(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new gm(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function x$(e,t="asc"){const n=t,r=ME("orderBy",e);return sI._create(r,n)}function L5(e,t,n){if(typeof(n=vr(n))=="string"){if(n==="")throw new xt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y7(t)&&n.indexOf("/")!==-1)throw new xt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(nr.fromString(n));if(!Bt.isDocumentKey(r))throw new xt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JV(e,new Bt(r))}if(n instanceof Rr)return JV(e,n._key);throw new xt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yE(n)}.`)}function B5(e,t){if(!Array.isArray(e)||e.length===0)throw new xt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function S$(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new xt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class E${convertValue(t,n="none"){switch(hd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ht(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Dd(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){const n=t.fields?.[LS].arrayValue?.values?.map(r=>qr(r.doubleValue));return new Ll(n)}convertGeoPoint(t){return new Nl(qr(t.latitude),qr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=CE(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(py(t));default:return null}}convertTimestamp(t){const n=ud(t);return new hr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=nr.fromString(t);An(j7(r),9688,{name:t});const i=new gy(r.get(1),r.get(3)),s=new Bt(r.popFirst(5));return i.isEqual(n)||jc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Dve extends E${constructor(t){super(),this.firestore=t}convertBytes(t){return new wo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}class Xp{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class td extends qS{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ME("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(Qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=td._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}td._jsonSchemaVersion="firestore/documentSnapshot/1.0",td._jsonSchema={type:ui("string",td._jsonSchemaVersion),bundleSource:ui("string","DocumentSnapshot"),bundleName:ui("string"),bundle:ui("string")};class Yx extends td{data(t={}){return super.data(t)}}class Mh{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Yx(this._firestore,this._userDataWriter,r.key,r,new Xp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Yx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Pve(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(Qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=C2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Pve(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fve(e){e=Os(e,Rr);const t=Os(e.firestore,$l);return wve(Uw(t),e._key).then(n=>A$(t,e,n))}Mh._jsonSchemaVersion="firestore/querySnapshot/1.0",Mh._jsonSchema={type:ui("string",Mh._jsonSchemaVersion),bundleSource:ui("string","QuerySnapshot"),bundleName:ui("string"),bundle:ui("string")};class NE extends E${constructor(t){super(),this.firestore=t}convertBytes(t){return new wo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function aI(e){e=Os(e,Fd);const t=Os(e.firestore,$l),n=Uw(t),r=new NE(t);return C$(e._query),Cve(n,e._query).then(i=>new Mh(t,r,e,i))}function T$(e,t,n){e=Os(e,Rr);const r=Os(e.firestore,$l),i=oI(e.converter,t,n);return LE(r,[X2(jw(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Xi.none())])}function ED(e,t,n,...r){e=Os(e,Rr);const i=Os(e.firestore,$l),s=jw(i);let o;return o=typeof(t=vr(t))=="string"||t instanceof zw?m$(s,"updateDoc",e._key,t,n,r):g$(s,"updateDoc",e._key,t),LE(i,[o.toMutation(e._key,Xi.exists(!0))])}function R$(e){return LE(Os(e.firestore,$l),[new RE(e._key,Xi.none())])}function Ive(e,t){const n=Os(e.firestore,$l),r=Wl(e),i=oI(e.converter,t);return LE(n,[X2(jw(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Xi.exists(!1))]).then(()=>r)}function _$(e,...t){e=vr(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||N5(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(N5(t[r])){const l=t[r];t[r]=l.next?.bind(l),t[r+1]=l.error?.bind(l),t[r+2]=l.complete?.bind(l)}let s,o,a;if(e instanceof Rr)o=Os(e.firestore,$l),a=bE(e._key.path),s={next:l=>{t[r]&&t[r](A$(o,e,l))},error:t[r+1],complete:t[r+2]};else{const l=Os(e,Fd);o=Os(l.firestore,$l),a=l._query;const c=new NE(o);s={next:u=>{t[r]&&t[r](new Mh(o,c,l,u))},error:t[r+1],complete:t[r+2]},C$(e._query)}return function(c,u,h,p){const g=new K2(p),v=new W2(u,g,h);return c.asyncQueue.enqueueAndForget(async()=>U2(await WS(c),v)),()=>{g.Nu(),c.asyncQueue.enqueueAndForget(async()=>z2(await WS(c),v))}}(Uw(o),a,i,s)}function LE(e,t){return function(r,i){const s=new Ml;return r.asyncQueue.enqueueAndForget(async()=>ive(await vve(r),i,s)),s.promise}(Uw(e),t)}function A$(e,t,n){const r=n.docs.get(t._key),i=new NE(e);return new td(e,i,t._key,r,new Xp(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mve={maxAttempts:5};function cv(e,t){if((e=vr(e)).firestore!==t)throw new xt(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ove{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=jw(t)}get(t){const n=cv(t,this._firestore),r=new Dve(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Ht(24041);const s=i[0];if(s.isFoundDocument())return new qS(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new qS(this._firestore,r,n._key,null,n.converter);throw Ht(18433,{doc:s})})}set(t,n,r){const i=cv(t,this._firestore),s=oI(i.converter,n,r),o=X2(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(t,n,r,...i){const s=cv(t,this._firestore);let o;return o=typeof(n=vr(n))=="string"||n instanceof zw?m$(this._dataReader,"Transaction.update",s._key,n,r,i):g$(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(t){const n=cv(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nve extends Ove{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=cv(t,this._firestore),r=new NE(this._firestore);return super.get(t).then(i=>new td(this._firestore,r,n._key,i._document,new Xp(!1,!1),n.converter))}}function Lve(e,t,n){e=Os(e,$l);const r={...Mve,...n};return function(s){if(s.maxAttempts<1)throw new xt(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Ml;return s.asyncQueue.enqueueAndForget(async()=>{const c=await yve(s);new pve(s.asyncQueue,c,a,o,l).ju()}),l.promise}(Uw(e),i=>t(new Nve(e,i)),r)}function Bve(...e){return new Q2("arrayUnion",e)}function Vve(...e){return new Z2("arrayRemove",e)}function Hve(e){return new J2("increment",e)}(function(t,n=!0){(function(i){hm=i})(_f),Jh(new ld("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $l(new Age(r.getProvider("auth-internal")),new Pge(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new xt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gy(c.options.projectId,u)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pl(HV,GV,t),Pl(HV,GV,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="firebasestorage.googleapis.com",D$="storageBucket",Gve=120*1e3,Uve=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ka{constructor(t,n,r=0){super(J_(t),`Firebase Storage: ${n} (${J_(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return J_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lr||(Lr={}));function J_(e){return"storage/"+e}function lI(){const e="An unknown error occurred, please check the error payload for server response.";return new Vr(Lr.UNKNOWN,e)}function zve(e){return new Vr(Lr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function jve(e){return new Vr(Lr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Wve(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vr(Lr.UNAUTHENTICATED,e)}function $ve(){return new Vr(Lr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qve(e){return new Vr(Lr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Kve(){return new Vr(Lr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Yve(){return new Vr(Lr.CANCELED,"User canceled the upload/download.")}function Xve(e){return new Vr(Lr.INVALID_URL,"Invalid URL '"+e+"'.")}function Qve(e){return new Vr(Lr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Zve(){return new Vr(Lr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+D$+"' property when initializing the app?")}function Jve(){return new Vr(Lr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eye(){return new Vr(Lr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tye(e){return new Vr(Lr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function TD(e){return new Vr(Lr.INVALID_ARGUMENT,e)}function P$(){return new Vr(Lr.APP_DELETED,"The Firebase app was deleted.")}function nye(e){return new Vr(Lr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rv(e,t){return new Vr(Lr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function G0(e){throw new Vr(Lr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=So.makeFromUrl(t,n)}catch{return new So(t,"")}if(r.path==="")return r;throw Qve(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},y=n===k$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${C}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<x.length;k++){const D=x[k],R=D.regex.exec(t);if(R){const _=R[D.indices.bucket];let I=R[D.indices.path];I||(I=""),r=new So(_,I),D.postModify(r);break}}if(r==null)throw Xve(t);return r}}class rye{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iye(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...C){c||(c=!0,t.apply(null,C))}function h(C){i=setTimeout(()=>{i=null,e(g,l())},C)}function p(){s&&clearTimeout(s)}function g(C,...b){if(c){p();return}if(C){p(),u.call(null,C,...b);return}if(l()||o){p(),u.call(null,C,...b);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let v=!1;function y(C){v||(v=!0,p(),!c&&(i!==null?(C||(a=2),clearTimeout(i),h(0)):C||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function sye(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oye(e){return e!==void 0}function aye(e){return typeof e=="object"&&!Array.isArray(e)}function cI(e){return typeof e=="string"||e instanceof String}function V5(e){return uI()&&e instanceof Blob}function uI(){return typeof Blob<"u"}function H5(e,t,n,r){if(r<t)throw TD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw TD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function F$(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Oh||(Oh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lye(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cye{constructor(t,n,r,i,s,o,a,l,c,u,h,p=!0,g=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,y)=>{this.resolve_=v,this.reject_=y,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new $b(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Oh.NO_ERROR,l=s.getStatus();if(!a||lye(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Oh.ABORT;r(!1,new $b(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new $b(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());oye(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=lI();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?P$():Yve();o(l)}else{const l=Kve();o(l)}};this.canceled_?n(!1,new $b(!1,null,!0)):this.backoffId_=iye(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $b{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function uye(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function dye(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hye(e,t){t&&(e["X-Firebase-GMPID"]=t)}function fye(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function pye(e,t,n,r,i,s,o=!0,a=!1){const l=F$(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return hye(u,t),uye(u,n),dye(u,s),fye(u,r),new cye(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mye(...e){const t=gye();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(uI())return new Blob(e);throw new Vr(Lr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vye(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yye(e){if(typeof atob>"u")throw tye("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eA{constructor(t,n){this.data=t,this.contentType=n||null}}function wye(e,t){switch(e){case El.RAW:return new eA(I$(t));case El.BASE64:case El.BASE64URL:return new eA(M$(e,t));case El.DATA_URL:return new eA(bye(t),xye(t))}throw lI()}function I$(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Cye(e){let t;try{t=decodeURIComponent(e)}catch{throw Rv(El.DATA_URL,"Malformed data URL.")}return I$(t)}function M$(e,t){switch(e){case El.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Rv(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case El.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Rv(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yye(t)}catch(i){throw i.message.includes("polyfill")?i:Rv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class O${constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Rv(El.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Sye(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function bye(e){const t=new O$(e);return t.base64?M$(El.BASE64,t.rest):Cye(t.rest)}function xye(e){return new O$(e).contentType}function Sye(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n){let r=0,i="";V5(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(V5(this.data_)){const r=this.data_,i=vye(r,t,n);return i===null?null:new ju(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new ju(r,!0)}}static getBlob(...t){if(uI()){const n=t.map(r=>r instanceof ju?r.data_:r);return new ju(mye.apply(null,n))}else{const n=t.map(o=>cI(o)?wye(El.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ju(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(e){let t;try{t=JSON.parse(e)}catch{return null}return aye(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eye(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Tye(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function L$(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rye(e,t){return t}class Rs{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Rye}}let qb=null;function _ye(e){return!cI(e)||e.length<2?e:L$(e)}function B$(){if(qb)return qb;const e=[];e.push(new Rs("bucket")),e.push(new Rs("generation")),e.push(new Rs("metageneration")),e.push(new Rs("name","fullPath",!0));function t(s,o){return _ye(o)}const n=new Rs("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Rs("size");return i.xform=r,e.push(i),e.push(new Rs("timeCreated")),e.push(new Rs("updated")),e.push(new Rs("md5Hash",null,!0)),e.push(new Rs("cacheControl",null,!0)),e.push(new Rs("contentDisposition",null,!0)),e.push(new Rs("contentEncoding",null,!0)),e.push(new Rs("contentLanguage",null,!0)),e.push(new Rs("contentType",null,!0)),e.push(new Rs("metadata","customMetadata",!0)),qb=e,qb}function Aye(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new So(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function kye(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Aye(r,e),r}function V$(e,t,n){const r=N$(t);return r===null?null:kye(e,r,n)}function Dye(e,t,n,r){const i=N$(t);if(i===null||!cI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=e.bucket,h=e.fullPath,p="/b/"+o(u)+"/o/"+o(h),g=BE(p,n,r),v=F$({alt:"media",token:c});return g+v})[0]}function Pye(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class dI{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(e){if(!e)throw lI()}function Fye(e,t){function n(r,i){const s=V$(e,i,t);return H$(s!==null),s}return n}function Iye(e,t){function n(r,i){const s=V$(e,i,t);return H$(s!==null),Dye(s,i,e.host,e._protocol)}return n}function G$(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$ve():i=Wve():n.getStatus()===402?i=jve(e.bucket):n.getStatus()===403?i=qve(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function U$(e){const t=G$(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=zve(e.path)),s.serverResponse=i.serverResponse,s}return n}function Mye(e,t,n){const r=t.fullServerUrl(),i=BE(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new dI(i,s,Iye(e,n),o);return a.errorHandler=U$(t),a}function Oye(e,t){const n=t.fullServerUrl(),r=BE(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(l,c){}const a=new dI(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=U$(t),a}function Nye(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Lye(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Nye(null,t)),r}function Bye(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let k=0;k<2;k++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Lye(t,r,i),u=Pye(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=ju.getBlob(h,r,p);if(g===null)throw Jve();const v={name:c.fullPath},y=BE(s,e.host,e._protocol),C="POST",b=e.maxUploadRetryTime,E=new dI(y,C,Fye(e,n),b);return E.urlParams=v,E.headers=o,E.body=g.uploadData(),E.errorHandler=G$(t),E}class Vye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,s){if(this.sent_)throw G0("cannot .send() more than once");if(_d(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw G0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw G0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw G0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw G0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Hye extends Vye{initXhr(){this.xhr_.responseType="text"}}function hI(){return new Hye}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n){this._service=t,n instanceof So?this._location=n:this._location=So.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new sf(t,n)}get root(){const t=new So(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L$(this._location.path)}get storage(){return this._service}get parent(){const t=Eye(this._location.path);if(t===null)return null;const n=new So(this._location.bucket,t);return new sf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw nye(t)}}function Gye(e,t,n){e._throwIfRoot("uploadBytes");const r=Bye(e.storage,e._location,B$(),new ju(t,!0),n);return e.storage.makeRequestWithTokens(r,hI).then(i=>({metadata:i,ref:e}))}function Uye(e){e._throwIfRoot("getDownloadURL");const t=Mye(e.storage,e._location,B$());return e.storage.makeRequestWithTokens(t,hI).then(n=>{if(n===null)throw eye();return n})}function zye(e){e._throwIfRoot("deleteObject");const t=Oye(e.storage,e._location);return e.storage.makeRequestWithTokens(t,hI)}function jye(e,t){const n=Tye(e._location.path,t),r=new So(e._location.bucket,n);return new sf(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wye(e){return/^[A-Za-z]+:\/\//.test(e)}function $ye(e,t){return new sf(e,t)}function z$(e,t){if(e instanceof fI){const n=e;if(n._bucket==null)throw Zve();const r=new sf(n,n._bucket);return t!=null?z$(r,t):r}else return t!==void 0?jye(e,t):e}function qye(e,t){if(t&&Wye(t)){if(e instanceof fI)return $ye(e,t);throw TD("To use ref(service, url), the first argument must be a Storage instance.")}else return z$(e,t)}function G5(e,t){const n=t?.[D$];return n==null?null:So.makeFromBucketSpec(n,e)}function Kye(e,t,n,r={}){e.host=`${t}:${n}`;const i=_d(t);i&&(o2(`https://${e.host}/b`),a2("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:oW(s,e.app.options.projectId))}class fI{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=k$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Gve,this._maxUploadRetryTime=Uve,this._requests=new Set,i!=null?this._bucket=So.makeFromBucketSpec(i,this._host):this._bucket=G5(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=So.makeFromBucketSpec(this._url,t):this._bucket=G5(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){H5("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){H5("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sf(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new rye(P$());{const o=pye(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const U5="@firebase/storage",z5="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="storage";function Yye(e,t,n){return e=vr(e),Gye(e,t,n)}function Xye(e){return e=vr(e),Uye(e)}function Qye(e){return e=vr(e),zye(e)}function W$(e,t){return e=vr(e),qye(e,t)}function Zye(e=u2(),t){e=vr(e);const r=pE(e,j$).getImmediate({identifier:t}),i=rW("storage");return i&&Jye(r,...i),r}function Jye(e,t,n,r={}){Kye(e,t,n,r)}function ewe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new fI(n,r,i,t,_f)}function twe(){Jh(new ld(j$,ewe,"PUBLIC").setMultipleInstances(!0)),Pl(U5,z5,""),Pl(U5,z5,"esm2020")}twe();const pI=cW(dfe),gI=Ege(pI),Bs=xve(pI),$$=Zye(pI);var en=(e=>(e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMINISTRATOR="ADMINISTRATOR",e))(en||{});const mI="users",nwe=async(e,t)=>{await T$(Wl(Bs,mI,t),e)},rwe=async e=>(await Fve(Wl(Bs,mI,e))).data(),vI=async()=>(await aI(Ww(Pf(Bs,mI),rI("role","==",en.STUDENT)))).docs.map(t=>t.data()),iwe=async(e,t)=>{const n=e.includes("@")?e:`${e}@mail.com`,r=await upe(gI,n,t);return await rwe(r.user.uid)},q$=async e=>{const t=["red","blue","green","yellow","purple","orange","pink","brown","black","white","gray","silver","gold","beige","cyan","magenta","maroon","navy","olive","teal","lime","indigo","violet","turquoise","coral","salmon","crimson","khaki","lavender","mint","ivory","chocolate","tan","plum","orchid","azure","amber","peach","apricot","burgundy","caramel","charcoal","emerald","jade","ruby","sapphire","topaz","bronze","copper","mustard","fuchsia","sky","rose","sand","seafoam","forest","auburn","denim","hazel","mulberry"],r=(()=>{const s=t[Math.floor(Math.random()*t.length)],o=Math.floor(Math.random()*900)+100;return s+o})(),i=await cpe(gI,e.email,r);return e={...e,id:i.user.uid},await nwe(e,i.user.uid),{user:e,password:r}},swe=async()=>{await fpe(gI)},j5=e=>{let t;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},owe=e=>e?j5(e):j5,awe=e=>e;function lwe(e,t=awe){const n=me.useSyncExternalStore(e.subscribe,me.useCallback(()=>t(e.getState()),[e,t]),me.useCallback(()=>t(e.getInitialState()),[e,t]));return me.useDebugValue(n),n}const W5=e=>{const t=owe(e),n=r=>lwe(t,r);return Object.assign(n,t),n},$w=e=>e?W5(e):W5,Ya=$w(e=>({user:null,setUser:t=>e({user:t})})),$5=({onNavigate:e})=>{const t=Z1(),{user:n,setUser:r}=Ya(),i=a=>{t(a),e&&e()},s=()=>{swe(),t("/"),r(null),localStorage.removeItem("user")},o=n?.role===en.TEACHER||n?.role===en.ADMINISTRATOR;return O.jsxs(iae,{children:[o&&O.jsx(Pa,{icon:O.jsx(Pc,{size:18}),onClick:()=>i("/dashboard/estudiantes"),children:"Students"}),O.jsxs(V3,{icon:O.jsx(lV,{size:18}),label:"Workshop 1",children:[O.jsx(Pa,{icon:O.jsx(rde,{size:18}),onClick:()=>i("/dashboard/mapa"),children:"Interactive Map"}),o&&O.jsx(Pa,{icon:O.jsx(Que,{size:18}),onClick:()=>i("/dashboard/grupos"),children:"Groups"}),O.jsx(Pa,{icon:O.jsx(que,{size:18}),onClick:()=>i("/dashboard/galeria/default-session"),children:"Gallery"}),O.jsx(Pa,{icon:O.jsx(Vb,{size:18}),onClick:()=>i("/dashboard/practice_1"),children:"Practice Language Corner"})]}),O.jsxs(V3,{icon:O.jsx(lV,{size:18}),label:"Workshop 2",children:[O.jsx(Pa,{icon:O.jsx(Vb,{size:18}),onClick:()=>i("/dashboard/research_exploration"),children:"Research and Exploration"}),O.jsx(Pa,{icon:O.jsx(Vb,{size:18}),onClick:()=>i("/dashboard/cultural_stories_and_expressions"),children:"Cultural Stories and Expressions"}),O.jsx(Pa,{icon:O.jsx(Vb,{size:18}),onClick:()=>i("/dashboard/practice_2"),children:"Practice Language Corner"})]}),O.jsx(Pa,{icon:O.jsx(t2,{size:18}),onClick:()=>i("/dashboard/chatbot"),children:"Chatbot"}),O.jsx(Pa,{icon:O.jsx(Fue,{size:18}),onClick:()=>i("/dashboard/chatbot_usage"),children:"Uso del Chatbot"}),O.jsx(Pa,{icon:O.jsx(Jue,{size:18}),onClick:s,children:"Logout"})]})},cwe=()=>{const[e,t]=A.useState(!1);return O.jsxs("div",{className:"d-flex flex-column vh-100",children:[O.jsx(bde,{onMobileMenuToggle:()=>t(!0)}),O.jsxs("div",{className:"flex-grow-1 d-flex",children:[O.jsx("div",{className:"d-none d-lg-block",children:O.jsx(tae,{breakPoint:"lg",collapsed:!1,style:{height:"100%"},className:"bg-dark",children:O.jsx($5,{})})}),O.jsx("div",{className:"flex-grow-1 p-3",style:{overflowY:"auto"},children:O.jsx(yse,{})})]}),O.jsxs(rv,{show:e,onHide:()=>t(!1),placement:"end",children:[O.jsx(rv.Header,{closeButton:!0,children:O.jsx(rv.Title,{children:"Menu"})}),O.jsx(rv.Body,{children:O.jsx($5,{onNavigate:()=>t(!1)})})]})]})};function K$(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=K$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nh(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=K$(e))&&(r&&(r+=" "),r+=t);return r}function uwe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}uwe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qw=e=>typeof e=="number"&&!isNaN(e),of=e=>typeof e=="string",$c=e=>typeof e=="function",dwe=e=>of(e)||qw(e),RD=e=>of(e)||$c(e)?e:null,hwe=(e,t)=>e===!1||qw(e)&&e>0?e:t,_D=e=>A.isValidElement(e)||of(e)||$c(e)||qw(e);function fwe(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function pwe({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:h}){let p=n?`${e}--${o}`:e,g=n?`${t}--${o}`:t,v=A.useRef(0);return A.useLayoutEffect(()=>{let y=c.current,C=p.split(" "),b=E=>{E.target===c.current&&(h(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),v.current===0&&E.type!=="animationcancel"&&y.classList.remove(...C))};y.classList.add(...C),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),A.useEffect(()=>{let y=c.current,C=()=>{y.removeEventListener("animationend",C),r?fwe(y,l,i):l()};u||(a?C():(v.current=1,y.className+=` ${g}`,y.addEventListener("animationend",C)))},[u]),me.createElement(me.Fragment,null,s)}}function q5(e,t){return{content:Y$(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Y$(e,t,n=!1){return A.isValidElement(e)&&!of(e.type)?A.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):$c(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function gwe({closeToast:e,theme:t,ariaLabel:n="close"}){return me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mwe({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:u}){let h=i||o&&a===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let g=Nh("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),v=$c(s)?s({rtl:l,type:r,defaultClassName:g}):Nh(g,s),y={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),me.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:v,style:p,...y}))}var vwe=1,X$=()=>`${vwe++}`;function ywe(e,t,n){let r=1,i=0,s=[],o=[],a=t,l=new Map,c=new Set,u=E=>(c.add(E),()=>c.delete(E)),h=()=>{o=Array.from(l.values()),c.forEach(E=>E())},p=({containerId:E,toastId:x,updateId:k})=>{let D=E?E!==e:e!==1,R=l.has(x)&&k==null;return D||R},g=(E,x)=>{l.forEach(k=>{var D;(x==null||x===k.props.toastId)&&((D=k.toggle)==null||D.call(k,E))})},v=E=>{var x,k;(k=(x=E.props)==null?void 0:x.onClose)==null||k.call(x,E.removalReason),E.isActive=!1},y=E=>{if(E==null)l.forEach(v);else{let x=l.get(E);x&&v(x)}h()},C=()=>{i-=s.length,s=[]},b=E=>{var x,k;let{toastId:D,updateId:R}=E.props,_=R==null;E.staleId&&l.delete(E.staleId),E.isActive=!0,l.set(D,E),h(),n(q5(E,_?"added":"updated")),_&&((k=(x=E.props).onOpen)==null||k.call(x))};return{id:e,props:a,observe:u,toggle:g,removeToast:y,toasts:l,clearQueue:C,buildToast:(E,x)=>{if(p(x))return;let{toastId:k,updateId:D,data:R,staleId:_,delay:I}=x,F=D==null;F&&i++;let N={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(x).filter(([M,L])=>L!=null)),toastId:k,updateId:D,data:R,isIn:!1,className:RD(x.className||a.toastClassName),progressClassName:RD(x.progressClassName||a.progressClassName),autoClose:x.isLoading?!1:hwe(x.autoClose,a.autoClose),closeToast(M){l.get(k).removalReason=M,y(k)},deleteToast(){let M=l.get(k);if(M!=null){if(n(q5(M,"removed")),l.delete(k),i--,i<0&&(i=0),s.length>0){b(s.shift());return}h()}}};N.closeButton=a.closeButton,x.closeButton===!1||_D(x.closeButton)?N.closeButton=x.closeButton:x.closeButton===!0&&(N.closeButton=_D(a.closeButton)?a.closeButton:!0);let B={content:E,props:N,staleId:_};a.limit&&a.limit>0&&i>a.limit&&F?s.push(B):qw(I)?setTimeout(()=>{b(B)},I):b(B)},setProps(E){a=E},setToggle:(E,x)=>{let k=l.get(E);k&&(k.toggle=x)},isToastActive:E=>{var x;return(x=l.get(E))==null?void 0:x.isActive},getSnapshot:()=>o}}var Is=new Map,wy=[],AD=new Set,wwe=e=>AD.forEach(t=>t(e)),Q$=()=>Is.size>0;function Cwe(){wy.forEach(e=>J$(e.content,e.options)),wy=[]}var bwe=(e,{containerId:t})=>{var n;return(n=Is.get(t||1))==null?void 0:n.toasts.get(e)};function Z$(e,t){var n;if(t)return!!((n=Is.get(t))!=null&&n.isToastActive(e));let r=!1;return Is.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function xwe(e){if(!Q$()){wy=wy.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||dwe(e))Is.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Is.get(e.containerId);t?t.removeToast(e.id):Is.forEach(n=>{n.removeToast(e.id)})}}var Swe=(e={})=>{Is.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function J$(e,t){_D(e)&&(Q$()||wy.push({content:e,options:t}),Is.forEach(n=>{n.buildToast(e,t)}))}function Ewe(e){var t;(t=Is.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function eq(e,t){Is.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function Twe(e){let t=e.containerId||1;return{subscribe(n){let r=ywe(t,e,wwe);Is.set(t,r);let i=r.observe(n);return Cwe(),()=>{i(),Is.delete(t)}},setProps(n){var r;(r=Is.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Is.get(t))==null?void 0:n.getSnapshot()}}}function Rwe(e){return AD.add(e),()=>{AD.delete(e)}}function _we(e){return e&&(of(e.toastId)||qw(e.toastId))?e.toastId:X$()}function Kw(e,t){return J$(e,t),t.toastId}function VE(e,t){return{...t,type:t&&t.type||e,toastId:_we(t)}}function HE(e){return(t,n)=>Kw(t,VE(e,n))}function cn(e,t){return Kw(e,VE("default",t))}cn.loading=(e,t)=>Kw(e,VE("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Awe(e,{pending:t,error:n,success:r},i){let s;t&&(s=of(t)?cn.loading(t,i):cn.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,h)=>{if(u==null){cn.dismiss(s);return}let p={type:c,...o,...i,data:h},g=of(u)?{render:u}:u;return s?cn.update(s,{...p,...g}):cn(g.render,{...p,...g}),h},l=$c(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}cn.promise=Awe;cn.success=HE("success");cn.info=HE("info");cn.error=HE("error");cn.warning=HE("warning");cn.warn=cn.warning;cn.dark=(e,t)=>Kw(e,VE("default",{theme:"dark",...t}));function kwe(e){xwe(e)}cn.dismiss=kwe;cn.clearWaitingQueue=Swe;cn.isActive=Z$;cn.update=(e,t={})=>{let n=bwe(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:X$()};s.toastId!==e&&(s.staleId=e);let o=s.render||i;delete s.render,Kw(o,s)}};cn.done=e=>{cn.update(e,{progress:1})};cn.onChange=Rwe;cn.play=e=>eq(!0,e);cn.pause=e=>eq(!1,e);function Dwe(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=A.useRef(Twe(e)).current;i(e);let s=(t=A.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:Z$,count:s?.length}}function Pwe(e){let[t,n]=A.useState(!1),[r,i]=A.useState(!1),s=A.useRef(null),o=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:h}=e;Ewe({id:e.toastId,containerId:e.containerId,fn:n}),A.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{g()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||b(),window.addEventListener("focus",C),window.addEventListener("blur",b)}function g(){window.removeEventListener("focus",C),window.removeEventListener("blur",b)}function v(_){if(e.draggable===!0||e.draggable===_.pointerType){E();let I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",e.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=I.offsetWidth*(e.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=I.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(_){let{top:I,bottom:F,left:N,right:B}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_.clientX>=N&&_.clientX<=B&&_.clientY>=I&&_.clientY<=F?b():C()}function C(){n(!0)}function b(){n(!1)}function E(){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",D)}function x(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",D)}function k(_){let I=s.current;if(o.canDrag&&I){o.didMove=!0,t&&b(),e.draggableDirection==="x"?o.delta=_.clientX-o.start:o.delta=_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;I.style.transform=`translate3d(${F},0)`,I.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function D(){x();let _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let R={onPointerDown:v,onPointerUp:y};return a&&l&&(R.onMouseEnter=b,e.stacked||(R.onMouseLeave=C)),h&&(R.onClick=_=>{u&&u(_),o.canCloseOnClick&&c(!0)}),{playToast:C,pauseToast:b,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:R}}var Fwe=typeof window<"u"?A.useLayoutEffect:A.useEffect,GE=({theme:e,type:t,isLoading:n,...r})=>me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function Iwe(e){return me.createElement(GE,{...e},me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Mwe(e){return me.createElement(GE,{...e},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Owe(e){return me.createElement(GE,{...e},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Nwe(e){return me.createElement(GE,{...e},me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Lwe(){return me.createElement("div",{className:"Toastify__spinner"})}var kD={info:Mwe,warning:Iwe,success:Owe,error:Nwe,spinner:Lwe},Bwe=e=>e in kD;function Vwe({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||($c(r)?i=r({...s,isLoading:n}):A.isValidElement(r)?i=A.cloneElement(r,s):n?i=kD.spinner():Bwe(t)&&(i=kD[t](s))),i}var Hwe=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=Pwe(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:h,closeToast:p,transition:g,position:v,className:y,style:C,progressClassName:b,updateId:E,role:x,progress:k,rtl:D,toastId:R,deleteToast:_,isIn:I,isLoading:F,closeOnClick:N,theme:B,ariaLabel:M}=e,L=Nh("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":N}),H=$c(y)?y({rtl:D,position:v,type:u,defaultClassName:L}):Nh(L,y),ee=Vwe(e),re=!!k||!l,te={closeToast:p,type:u,theme:B},he=null;return o===!1||($c(o)?he=o(te):A.isValidElement(o)?he=A.cloneElement(o,te):he=gwe(te)),me.createElement(g,{isIn:I,done:_,position:v,preventExitTransition:n,nodeRef:r,playToast:s},me.createElement("div",{id:R,tabIndex:0,onClick:c,"data-in":I,className:H,...i,style:C,ref:r,...I&&{role:x,"aria-label":M}},ee!=null&&me.createElement("div",{className:Nh("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},ee),Y$(a,e,!t),he,!e.customProgressBar&&me.createElement(mwe,{...E&&!re?{key:`p-${E}`}:{},rtl:D,theme:B,delay:l,isRunning:t,isIn:I,closeToast:p,hide:h,type:u,className:b,controlledProgress:re,progress:k||0})))},Gwe=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),tq=pwe(Gwe("bounce",!0)),Uwe={position:"top-right",transition:tq,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function yI(e){let t={...Uwe,...e},n=e.stacked,[r,i]=A.useState(!0),s=A.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=Dwe(t),{className:c,style:u,rtl:h,containerId:p,hotKeys:g}=t;function v(C){let b=Nh("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":h});return $c(c)?c({position:C,rtl:h,defaultClassName:b}):Nh(b,RD(c))}function y(){n&&(i(!0),cn.play())}return Fwe(()=>{var C;if(n){let b=s.current.querySelectorAll('[data-in="true"]'),E=12,x=(C=t.position)==null?void 0:C.includes("top"),k=0,D=0;Array.from(b).reverse().forEach((R,_)=>{let I=R;I.classList.add("Toastify__toast--stacked"),_>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=x?"top":"bot");let F=k*(r?.2:1)+(r?0:E*_);I.style.setProperty("--y",`${x?F:F*-1}px`),I.style.setProperty("--g",`${E}`),I.style.setProperty("--s",`${1-(r?D:0)}`),k+=I.offsetHeight,D+=.025})}},[r,l,n]),A.useEffect(()=>{function C(b){var E;let x=s.current;g(b)&&((E=x.querySelector('[tabIndex="0"]'))==null||E.focus(),i(!1),cn.pause()),b.key==="Escape"&&(document.activeElement===x||x!=null&&x.contains(document.activeElement))&&(i(!0),cn.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[g]),me.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),cn.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((C,b)=>{let E=b.length?{...u}:{...u,pointerEvents:"none"};return me.createElement("div",{tabIndex:-1,className:v(C),"data-stacked":n,style:E,key:`c-${C}`},b.map(({content:x,props:k})=>me.createElement(Hwe,{...k,stacked:n,collapseAll:y,isIn:a(k.toastId,k.containerId),key:`t-${k.key}`},x)))}))}const nq=e=>{if(console.log(e),e instanceof Ka)switch(e.code){case"auth/invalid-credential":return"Correo electrnico o contrasea invlidos";case"auth/email-already-in-use":return"El correo electrnico ya est en uso";default:return"Ocurri un error al iniciar sesin"}return"Ocurri un error al iniciar sesin"},zwe=()=>{const{setUser:e}=Ya(),[t,n]=A.useState(""),[r,i]=A.useState(""),[s,o]=A.useState(!1),[a,l]=A.useState(!1),c=h=>{h.preventDefault(),l(!0),iwe(t,r).then(p=>{e(p),localStorage.setItem("user",JSON.stringify(p))}).catch(p=>{cn.error(nq(p),{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{l(!1)})},u=()=>{o(h=>!h)};return O.jsxs(cy,{className:"d-flex align-items-center justify-content-center min-vh-100",children:[O.jsx(Ng,{className:"w-100 justify-content-center",children:O.jsx(Dl,{xs:12,sm:10,md:6,lg:4,children:O.jsxs(Mn,{className:"p-4 shadow",children:[O.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesin"}),O.jsxs(In,{onSubmit:c,children:[O.jsxs(In.Group,{className:"mb-3",controlId:"formEmail",children:[O.jsx(In.Label,{children:"Correo electrnico o usuario"}),O.jsx(In.Control,{type:"text",placeholder:"ejemplo@email.com",value:t,onChange:h=>n(h.target.value),required:!0})]}),O.jsxs(In.Group,{className:"mb-3",controlId:"formPassword",children:[O.jsx(In.Label,{children:"Contrasea"}),O.jsxs(Eh,{children:[O.jsx(In.Control,{type:s?"text":"password",placeholder:"",value:r,onChange:h=>i(h.target.value),required:!0}),O.jsx(fr,{variant:"outline-secondary",onClick:u,tabIndex:-1,children:s?O.jsx(Gue,{size:20}):O.jsx(n2,{size:20})})]})]}),O.jsx("div",{className:"d-grid",children:O.jsx(fr,{variant:"primary",type:"submit",disabled:a,children:a?O.jsx(to,{animation:"border",size:"sm",className:"me-2"}):"Ingresar"})})]})]})})}),O.jsx(yI,{})]})},jwe="/TutorIngles/assets/avatar_1-C53UKM51.mp4",Wwe="/TutorIngles/assets/avatar_2-B2MM8iM6.mp4",$we="/TutorIngles/assets/avatar_3-DdalsJRq.mp4",qwe="/TutorIngles/assets/avatar_4-BVmCFxuO.mp4",Kwe="/TutorIngles/assets/avatar_5-DQdjSsDe.mp4",K5="/TutorIngles/assets/mapa_colombia-5TUvGaog.png",Ywe="/TutorIngles/assets/choco-BBZz_lSB.png",Xwe="/TutorIngles/assets/narino-BPiHBDGg.png",Qwe="/TutorIngles/assets/palenquera-CKdrs8GG.png",Zwe="/TutorIngles/assets/nasa-Bgu4UTQT.png",Jwe="/TutorIngles/assets/ni%C3%B1osikuani-CNppRRPB.png",eCe=[{id:1,region:"Vichada",position:{x:630,y:490},avatarImage:Jwe,text:"Hello, my name is Jomo, and I belong to the Sikuani indigenous people. I am from the department of Vichada and I am ten years old. My language is Sikuani. I like to fish, hunt, gather fruits, and live in harmony with nature. My favorite tradition in my community is when we dance and sing elcachodevenado.",videoSrc:jwe},{id:2,region:"Cauca",position:{x:150,y:620},avatarImage:Zwe,text:'Hello everyone. My name is Wiya, which means "bird" in the Nasa Yuwe language. I am eleven years old. I am from a town called Inz and I speak Nasa Yuwe, Spanish, and English. I like to play palmo, a traditional game in my community where we have to throw an object into a hole. My favorite family tradition is when we weave ruanas and backpacks calledkwetanderas.',videoSrc:Wwe},{id:3,region:"Bolvar",position:{x:300,y:240},avatarImage:Qwe,text:"Hi there. My name is Rosalina; this name represents the ancestral wisdom of traditional medicine. I am twelve years old. I am from San Basilio de Palenque, located in the department of Bolvar. I speak Spanish, but my family also speaks other languages, such as Palenquera. I love designing colorful dresses for the women in my community with my grandmother. I also enjoy playingthemarimba.",videoSrc:$we},{id:4,region:"Nario",position:{x:140,y:680},avatarImage:Xwe,text:"Hello everyone. My name is Santiago. I am nine years old, I speak Spanish and English, and I was born in the city of San Juan de Pasto in Colombia. I like my city because it has very beautiful tourist sites such as La Laguna de la Cocha and the Gold Museum. My favorite food is pusandao and pailaicecream.",videoSrc:qwe},{id:5,region:"Choc",position:{x:150,y:440},avatarImage:Ywe,text:"Hello everyone. My name is Camila. I am ten years old, I speak Spanish and English, and I was born in the city of Quibd, in the department of Choc. I like to dance chirima, which is a traditional dance from my region. My favorite food is fish, sancocho and I love chontaduro withsaltandsugar.",videoSrc:Kwe}];function tCe(){const[e,t]=A.useState(null),[n,r]=A.useState(!1),i=A.useRef(null),s=()=>{e&&i.current&&(i.current.muted=!1,i.current.paused?i.current.play():i.current.pause())};return A.useEffect(()=>{const o=i.current;if(!o)return;const a=()=>r(!0),l=()=>r(!1),c=()=>r(!1);return o.addEventListener("play",a),o.addEventListener("pause",l),o.addEventListener("ended",c),()=>{o.removeEventListener("play",a),o.removeEventListener("pause",l),o.removeEventListener("ended",c)}},[e]),A.useEffect(()=>{e||r(!1)},[e]),O.jsxs("div",{className:"map-container",children:[O.jsx("p",{className:"instruction-text",children:"Click to see the avatars"}),O.jsx("img",{src:K5,alt:"Mapa de Colombia",className:"map-image",onError:o=>{const a=o.target;a.onerror=null,a.src=K5,console.error("Error loading map image")}}),eCe.map(o=>O.jsx("button",{className:"map-point",style:{left:`${o.position.x}px`,top:`${o.position.y}px`},onClick:()=>t(o),"aria-label":`Ver avatar de ${o.region}`},o.id)),O.jsxs(Sr,{show:!!e,onHide:()=>t(null),centered:!0,children:[O.jsx(Sr.Header,{closeButton:!0,children:O.jsx(Sr.Title,{children:e?.region})}),O.jsx(Sr.Body,{className:"text-center",children:e&&O.jsxs(O.Fragment,{children:[e.videoSrc?O.jsx("video",{ref:i,src:e.videoSrc,className:"avatar-video",width:"80%",controls:!1}):O.jsx("img",{src:e.avatarImage,alt:`Avatar de ${e.region}`,className:"avatar-image",onError:o=>{const a=o.target;a.onerror=null,a.src="/assets/default-avatar.png"}}),O.jsx("p",{className:"mt-3",children:e.text}),O.jsx(fr,{variant:"primary",onClick:s,children:n?" Pause":" Play"})]})})]})]})}var af=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:r}=this,i=a=>{const l=r?()=>r.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&i(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)i(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function nCe(e,t){return t}function rq(e){return e?.getLocaleTextFunc()??nCe}function rCe(e,t,n,r){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(r):i,r)}function Ic(e){return e==null||e===""?null:e}function gt(e){return e!=null&&e!==""}function pr(e){return!gt(e)}function DD(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Cy(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function iCe(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var iq=new Set(["__proto__","constructor","prototype"]);function sCe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!iq.has(r)))t(n,e[n])}}function Ns(e,t,n=!0,r=!1){gt(t)&&sCe(t,(i,s)=>{let o=e[i];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),Y5(s)&&Y5(o)&&!Array.isArray(o)?Ns(o,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function _v(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}function Y5(e){return typeof e=="object"&&e!==null}var wI=class mh{static applyGlobalGridOptions(t){if(!mh.gridOptions)return{...t};let n={};return Ns(n,mh.gridOptions,!0,!0),mh.mergeStrategy==="deep"?Ns(n,t,!0,!0):n={...n,...t},mh.gridOptions.context&&(n.context=mh.gridOptions.context),t.context&&(mh.mergeStrategy==="deep"&&n.context&&Ns(t.context,n.context,!0,!0),n.context=t.context),n}};wI.gridOptions=void 0;wI.mergeStrategy="shallow";var sq=wI;function oCe(e){return sq.gridOptions?.[e]}var oq={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function Xa(e,t,n){n==null||typeof n=="string"&&n==""?aq(e,t):Qa(e,t,n)}function Qa(e,t,n){e.setAttribute(lq(t),n.toString())}function aq(e,t){e.removeAttribute(lq(t))}function lq(e){return`aria-${e}`}function lf(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function aCe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function lCe(e){return e.getAttribute("aria-label")}function Wg(e,t){Xa(e,"label",t)}function by(e,t){Xa(e,"labelledby",t)}function cq(e,t){Xa(e,"live",t)}function cCe(e,t){Xa(e,"atomic",t)}function uCe(e,t){Xa(e,"relevant",t)}function dCe(e,t){Xa(e,"invalid",t)}function hCe(e,t){Xa(e,"disabled",t)}function uq(e,t){Xa(e,"hidden",t)}function PD(e,t){Qa(e,"expanded",t)}function fCe(e,t){Qa(e,"setsize",t)}function pCe(e,t){Qa(e,"posinset",t)}function gCe(e,t){Qa(e,"rowcount",t)}function dq(e,t){Qa(e,"rowindex",t)}function mCe(e,t){Qa(e,"rowspan",t)}function vCe(e,t){Qa(e,"colcount",t)}function hq(e,t){Qa(e,"colindex",t)}function yCe(e,t){Qa(e,"colspan",t)}function wCe(e,t){Qa(e,"sort",t)}function CCe(e){aq(e,"sort")}function FD(e,t){Xa(e,"selected",t)}function bCe(e,t){Xa(e,"controls",t)}function xCe(e,t){bCe(e,t.id),by(t,e.id)}function X5(e,t){Xa(e,"owns",t)}function UE(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var tA,nA,rA,iA,ID,MD,sA;function If(){return tA===void 0&&(tA=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),tA}function fq(){return nA===void 0&&(nA=/(firefox)/i.test(navigator.userAgent)),nA}function pq(){return rA===void 0&&(rA=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),rA}function Lh(){return iA===void 0&&(iA=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),iA}function OD(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!fq())?null:t.toString()}function SCe(){if(sA!==void 0)return sA;if(!document.body)return-1;let e=1e6;const t=fq()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),sA=e,e}function ECe(){return MD==null&&gq(),MD}function gq(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(MD=n,ID=n===0)}function mq(){return ID==null&&gq(),ID}var TCe="[tabindex], input, select, button, textarea, [href]",vq="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function CI(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,vq),s=ql(e);return r&&!i&&s}function Er(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||uq(e,!t)}function RCe(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||uq(e,!t)}function xy(e,t){const n="disabled",r=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const s of i)r(s)}function Bh(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function Mf(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:h,marginRight:p,marginBottom:g,marginLeft:v,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(v||"0"),boxSizing:y}}function bI(e){const t=Mf(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Sy(e){const t=Mf(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function yq(e){const{height:t,marginBottom:n,marginTop:r}=Mf(e);return Math.floor(t+n+r)}function KS(e){const{width:t,marginLeft:n,marginRight:r}=Mf(e);return Math.floor(t+n+r)}function wq(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=Mf(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function YS(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function XS(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Io(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function qc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Cq(e){return!!e.offsetParent}function ql(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Cq(e)||window.getComputedStyle(e).visibility!=="visible")}function xI(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Xx(e){return()=>{const t=e();return t?bq(t)||xq(t):!0}}function bq(e){return e.clientWidth<e.scrollWidth}function xq(e){return e.clientHeight<e.scrollHeight}function QS(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Bl(e,t)}function Bl(e,t){t=SI(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Av(e,t){t=SI(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function SI(e){return typeof e=="number"?`${e}px`:e}function EI(e){return e instanceof Node||e instanceof HTMLElement}function Eo(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function eu(e,t,n){const i=Fq(e).ResizeObserver,s=i?new i(n):null;return s?.observe(t),()=>s?.disconnect()}function tu(e,t){const n=Fq(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var Sq="data-ref",oA;function Q5(){return oA??(oA=document.createTextNode(" ")),oA.cloneNode()}function Yr(e){const{attrs:t,children:n,cls:r,ref:i,role:s,tag:o}=e,a=document.createElement(o);if(r&&(a.className=r),i&&a.setAttribute(Sq,i),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(Q5()),l=!1),a.append(Yr(c)),a.appendChild(Q5())))}return a}var Z5={};function TI(e,t){Z5[t]||(e(),Z5[t]=!0)}function cf(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function kv(e,...t){TI(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function dg(e,...t){TI(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var _Ce={pending:!1,funcs:[]},ACe={pending:!1,funcs:[]};function ND(e,t="setTimeout",n){const r=t==="raf"?ACe:_Ce;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const s=r.funcs.slice();r.funcs.length=0,r.pending=!1,s.forEach(o=>o())};t==="raf"?tu(n,i):window.setTimeout(i,0)}function Zi(e,t,n){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n)}}function J5(e,t){let n=0;return function(...r){const i=this,s=Date.now();s-n<t||(n=s,e.apply(i,r))}}function kCe(e,t,n=100,r){const i=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-i>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var Eq="https://www.ag-grid.com",Ct="34.1.1",e6=2e3,t6=100,Tq="_version_",Rq=null,hg=`${Eq}/javascript-data-grid`;function DCe(e){Rq=e}function PCe(e){hg=e}function _q(e,t,n){return Rq?.getConsoleMessage(e,t)??[OCe(e,t,n)]}function RI(e,t,n,r){e(`error #${t}`,..._q(t,n,r))}function FCe(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function ICe(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=FCe(e)),t}function ZS(e){return e===void 0?"undefined":e===null?"null":e}function LD(e,t){return`${e}?${t.toString()}`}function MCe(e,t,n){const r=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=LD(e,t);for(const[s,o]of r){if(s===Tq)continue;const a=i.length-n;if(a<=0)break;const l="...",c=a+l.length,u=o.length-c>t6?o.slice(0,o.length-c)+l:o.slice(0,t6)+l;t.set(s,u),i=LD(e,t)}return i}function Aq(e,t){const n=new URLSearchParams;if(n.append(Tq,Ct),t)for(const s of Object.keys(t))n.append(s,ICe(t[s]));const r=`${hg}/errors/${e}`,i=LD(r,n);return i.length<=e6?i:MCe(r,n,e6)}var OCe=(e,t,n)=>{const r=Aq(e,t);return`${n?n+` 
`:""}Visit ${r}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function at(...e){RI(kv,e[0],e[1])}function jn(...e){RI(dg,e[0],e[1])}function uv(e,t,n){RI(dg,e,t,n)}function NCe(e,t){const n=t[0];return`error #${n} `+_q(n,t[1],e).join(" ")}function Vl(...e){return NCe(void 0,e)}function kq(e,t){return e.get("rowModelType")===t}function li(e,t){return kq(e,"clientSide")}function Of(e,t){return kq(e,"serverSide")}function es(e,t){return e.get("domLayout")===t}function Vh(e){return e1(e)!==void 0}function Dq(e){return typeof e.get("getRowHeight")=="function"}function LCe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function gd(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),Dq(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},c=i.getCallback("getRowHeight")(l);if(BD(c))return c===0&&at(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&i.get("masterDetail"))return BCe(i);const o=i.get("rowHeight");return{height:o&&BD(o)?o:r,estimated:!1}}function BCe(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return BD(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Hh(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||pr(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(at(24),t.getDefaultRowHeight())}function BD(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Pq(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function uf(e,t,n,r){const i=e.getDomDataKey();let s=t[i];pr(s)&&(s={},t[i]=s),s[n]=r}function Pi(e){const{gos:t,eGridDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&gt(i)?r=i():n&&(r=n.ownerDocument),r&&gt(r)?r:document}function Fq(e){return Pi(e).defaultView||window}function Ey(e){return e.eGridDiv.getRootNode()}function Dr(e){return Ey(e).activeElement}function _I(e){let t=null,n=null;try{t=Pi(e).fullscreenElement}catch{}finally{t||(t=Ey(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function VCe(e){return _I(e)?.clientWidth??(window.innerWidth||-1)}function HCe(e){return _I(e)?.clientHeight??(window.innerHeight||-1)}function GCe(e,t,n){const i=e.getBoundingClientRect().height,s=VCe(n)-2,o=HCe(n)-2;if(!e.offsetParent)return;const l=wq(e.offsetParent),{clientY:c,clientX:u}=t;let h=c-l.top-i/2,p=u-l.left-10;const g=Pi(n),v=g.defaultView||window,y=v.pageYOffset||g.documentElement.scrollTop,C=v.pageXOffset||g.documentElement.scrollLeft;s>0&&p+e.clientWidth>s+C&&(p=s+C-e.clientWidth),p<0&&(p=0),o>0&&h+e.clientHeight>o+y&&(h=o+y-e.clientHeight),h<0&&(h=0),e.style.left=`${p}px`,e.style.top=`${h}px`}function Iq(e){const t=Dr(e);return t===null||t===Pi(e).body}function fg(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Mq(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||es(e,"print"))}function Cl(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function VD(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function Oq(e){return e.get("grandTotalRow")}function Nq(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Lq(e,t,n){return!!t.group&&!t.footer&&Nq(e,n)}function $g(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(TI(()=>at(25,{id:r}),"getRowIdString"),r=String(r)),r}}function UCe(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function zCe(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function pg(e){return e?.checkboxes??!0}function Qx(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function JS(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function aA(e){return e?.hideDisabledCheckboxes??!1}function jCe(e){return typeof e.get("rowSelection")!="string"}function md(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Bq(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function WCe(e){const t=Bq(e);return t===!0||t==="enableSelection"}function $Ce(e){const t=Bq(e);return t===!0||t==="enableDeselection"}function HD(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function e1(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function t1(e){return e1(e)==="multiRow"}function qCe(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function n1(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function Vq(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Ty(e){const t=n1(e);return t==="descendants"||t==="filteredDescendants"}function n6(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function KCe(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function To(e){return e.get("columnMenu")==="legacy"}function YCe(e){return!To(e)}function XCe(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function QCe(e,t,n){typeof e!="object"&&(e={});const r={...e};return n.forEach(i=>{const s=t[i];typeof s<"u"&&(r[i]=s)}),r}function ZCe(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function Nt(e,t){return e.addGridCommonParams(t)}function Hq(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function Zx(e,t){return e[t]??e.gridOptions?.[t]??oCe(t)??oq[t]}var Gq="__ag_Grid_Stop_Propagation",JCe=["touchstart","touchend","touchmove","touchcancel","scroll"],ebe=["wheel"],lA={};function df(e){e[Gq]=!0}function Mc(e){return e[Gq]===!0}var Uq=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof lA[n]=="boolean")return lA[n];const r=document.createElement(e[n]||"div");return n="on"+n,lA[n]=n in r}})();function zq(e,t,n){let r=t;for(;r;){const i=Pq(e,r,n);if(i)return i;r=r.parentElement}return null}function tbe(e,t){return!t||!e?!1:rbe(t).indexOf(e)>=0}function nbe(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function rbe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():nbe(t)}function ibe(e,t,n,r){const i=jq(n);let s;i!=null&&(s={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,r,s)}var jq=e=>{const t=JCe.includes(e),n=ebe.includes(e);if(t)return!0;if(n)return!1},$e=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new af),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;return sbe(e)?(e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?ibe(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),r=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,r))}getLocaleTextFunc(){return rq(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function sbe(e){return e.__addEventListener!==void 0}var obe=/[&<>"']/g,abe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ym(e){return e?.toString().toString()??null}function Jx(e){return ym(e)?.replace(obe,t=>abe[t])??null}var lbe={resizable:!0,sortable:!0},cbe=0;function Wq(){return cbe++}function vd(e){return e instanceof Nf}var Nf=class extends $e{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=Wq(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new af,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Jx(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=gt(t)&&t.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=gt(n)&&n.indexOf(".")>=0&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Nt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??lbe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Nt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return pr(this.sort)}isSorting(){return gt(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return at(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Nt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(pr(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(pr(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&Ns(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ls(e){return e instanceof eS}var eS=class extends $e{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=Wq(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)vd(t)?e(t):ls(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{vd(t)?e.push(t):ls(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,o=r.length;s<o;s++){const a=r[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{ls(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},ube={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function r6(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var dbe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=DD(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const i=String(r);return e&&n>0&&at(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}},r1=Object.freeze([]);function zn(e){if(e?.length)return e[e.length-1]}function Lf(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function Kb(e,t){if(e)for(const n of e)t(n)}function ba(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function i6(e,t,n){for(let r=0;r<t.length;r++)ba(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var zE="ag-Grid-AutoColumn",$q="ag-Grid-SelectionColumn",qq="ag-Grid-RowNumbersColumn";function Kq(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];vd(s)?t.push(s):ls(s)&&n(s.getChildren())}};return n(e),t}function bc(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function i1(e,t,n){const r={};if(!t)return;Oc(null,t,s=>{r[s.getInstanceId()]=s}),n&&Oc(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function AI(e){return e.getId().startsWith(zE)}function Id(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith($q)??!1}function nd(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(qq)??!1}function hbe(e){return Id(e)||nd(e)}function s1(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function fbe(e,t){return Lf(e,t,(n,r)=>n.getColId()===r.getColId())}function pbe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function gg(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Yq(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var gbe=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),gt(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),gt(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function mbe(e,t=null,n,r,i){const s=new dbe,{existingCols:o,existingGroups:a,existingColKeys:l}=vbe(r);s.addExistingKeys(l);const c=Xq(e,t,0,n,o,s,a,i),{colGroupSvc:u}=e,h=u?.findMaxDepth(c,0)??0,p=u?u.balanceColumnTree(c,0,h,s):c;return Oc(null,p,(v,y)=>{ls(v)&&v.setupExpandable(),v.originalParent=y}),{columnTree:p,treeDepth:h}}function vbe(e){const t=[],n=[],r=[];return e&&Oc(null,e,i=>{if(ls(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function Xq(e,t,n,r,i,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let u=0;u<c.length;u++){const h=t[u];l&&Sbe(h)?c[u]=l.createProvidedColumnGroup(r,h,n,i,s,o,a):c[u]=ybe(e,r,h,i,s,a)}return c}function ybe(e,t,n,r,i,s){const o=Cbe(n,r);o&&r?.splice(o.idx,1);let a=o?.column;if(a){const l=GD(e,n,a.getColId());a.setColDef(l,n,s),wbe(e,a,l,s)}else{const l=i.getUniqueKey(n.colId,n.field),c=GD(e,n,l);a=new Nf(c,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function Qq(e,t,n,r,i,s,o,a){const{sortSvc:l,pinnedCols:c,colFlex:u}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,r,a),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&c?.setColPinned(t,s),o!==void 0&&u?.setColFlex(t,o)}function wbe(e,t,n,r){Qq(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function Cbe(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function GD(e,t,n,r){const{gos:i,dataTypeSvc:s}=e,o={},a=i.get("defaultColDef");Ns(o,a,!1,!0);const l=bbe(e,o,t,n);l&&xbe(e,l,o);const c=o.cellDataType;Ns(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);const u=i.get("autoGroupColumnDef"),h=Cl(i);return t.rowGroup&&u&&h&&Ns(o,{sort:u.sort,initialSort:u.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),i.validateColDef(o,n,r),o}function bbe(e,t,n,r){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?s1(s):void 0}function xbe(e,t,n){if(!t.length)return;const r=Object.assign({},ube),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in r?at(34,{key:s}):(o.type&&at(35),r[s]=o)}t.forEach(s=>{const o=r[s.trim()];o?Ns(n,o,!1,!0):at(36,{t:s})})}function Sbe(e){return e.children!==void 0}function Oc(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];ls(i)&&Oc(i,i.getChildren(),n),n(i,e)}}function Zq(e,t){const n=[],r=[],i=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?i.push(o):a==="left"||a===!0?n.push(o):r.push(o)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function Jq(e,t){let n=!0;return Oc(null,t,r=>{if(!ls(r))return;const i=r,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(p=>{const g=e.indexOf(p);a.push(g)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,h=i.getLeafColumns().length-1;u>h&&(n=!1)}),n}function eK(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function tK(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=eK(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function Ebe(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=eK(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function Tbe(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function qg(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function Ga(e,t,n){const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:u,environment:h,valueColsSvc:p,eventSvc:g,gos:v}=e,y=r.getColDefCols()??[],C=a?.getColumns();if(!y?.length&&!C?.length)return!1;if(t?.state&&!t.state.forEach)return at(32),!1;const b=(D,R,_,I,F)=>{if(!D)return;const N=gbe(R,t.defaultState),B=N("flex").value1;if(Qq(e,D,N("hide").value1,N("sort").value1,N("sortIndex").value1,N("pinned").value1,B,n),B==null){const M=N("width").value1;if(M!=null){const L=D.getColDef().minWidth??h.getDefaultColumnMinWidth();L!=null&&M>=L&&D.setActualWidth(M,n)}}F||!D.isPrimary()||(p?.syncColumnWithState(D,n,N),i?.syncColumnWithState(D,n,N,_),s?.syncColumnWithState(D,n,N,I))},E=(D,R,_)=>{const I=nK(e,n),F=R.slice(),N={},B={},M=[],L=[],H=[];let ee=0;const re=i?.columns.slice()??[],te=s?.columns.slice()??[];D.forEach(V=>{const X=V.colId;if(X.startsWith(zE)){M.push(V),H.push(V);return}if(Id(X)){L.push(V),H.push(V);return}const G=_(X);G?(b(G,V,N,B,!1),ba(F,G)):(H.push(V),ee+=1)});const he=V=>b(V,null,N,B,!1);F.forEach(he),i?.sortColumns(s6.bind(i,N,re)),s?.sortColumns(s6.bind(s,B,te)),r.refreshCols(!1);const Z=(V,X,z=[])=>{X.forEach(G=>{const Y=V(G.colId);ba(z,Y),b(Y,G,null,null,!0)}),z.forEach(he)};return Z(V=>o?.getColumn(V)??null,M,o?.getColumns()?.slice()),Z(V=>a?.getColumn(V)??null,L,a?.getColumns()?.slice()),_be(t,r,v),c.refresh(n),g.dispatchEvent({type:"columnEverythingChanged",source:n}),I(),{unmatchedAndAutoStates:H,unmatchedCount:ee}};l?.start();let{unmatchedAndAutoStates:x,unmatchedCount:k}=E(t.state||[],y,D=>r.getColDefCol(D));if(x.length>0||gt(t.defaultState)){const D=u?.getPivotResultCols()?.list??[];k=E(x,D,R=>u?.getPivotResultCol(R)??null).unmatchedCount}return l?.finish(),k===0}function Rbe(e,t){const{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),c=Kq(l),u=[];let h=1e3,p=1e3;const g=E=>{const x=rK(E);pr(x.rowGroupIndex)&&x.rowGroup&&(x.rowGroupIndex=h++),pr(x.pivotIndex)&&x.pivot&&(x.pivotIndex=p++),u.push(x)};r?.getColumns()?.forEach(g),i?.getColumns()?.forEach(g),c?.forEach(g),Ga(e,{state:u},t);const v=r?.getColumns()??[],b=[...i?.getColumns()??[],...v,...a].map(E=>({colId:E.colId}));Ga(e,{state:b,applyOrder:!0},t),s.dispatchEvent(Nt(o,{type:"columnsReset",source:t}))}function nK(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},c=o1(e),u={};return c.forEach(h=>{u[h.colId]=h}),()=>{const h=(R,_,I,F)=>{const N=_.map(F),B=I.map(F);if(Lf(N,B))return;const L=new Set(_);I.forEach(ee=>{L.delete(ee)||L.add(ee)});const H=[...L];a.dispatchEvent({type:R,columns:H,column:H.length===1?H[0]:null,source:t})},p=R=>{const _=[];return s.forAllCols(I=>{const F=u[I.getColId()];F&&R(F,I)&&_.push(I)}),_},g=R=>R.getColId();h("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],g),h("columnPivotChanged",l.pivotColumns,r?.columns??[],g);const y=p((R,_)=>{const I=R.aggFunc!=null,F=I!=_.isValueActive(),N=I&&R.aggFunc!=_.getAggFunc();return F||N});y.length>0&&Tbe(a,"columnValueChanged",y,t),qg(a,p((R,_)=>R.width!=_.getActualWidth()),!0,t),tK(a,p((R,_)=>R.pinned!=_.getPinned()),t),Ebe(a,p((R,_)=>R.hide==_.isVisible()),t);const k=p((R,_)=>R.sort!=_.getSort()||R.sortIndex!=_.getSortIndex());k.length>0&&o?.dispatchSortChangedEvents(t,k);const D=o1(e);kbe(c,D,t,s,a)}}function o1(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(pr(i)||!t.isAlive())return[];const s=n?.columns,o=r?.columns,a=[],l=u=>{const h=u.isRowGroupActive()&&s?s.indexOf(u):null,p=u.isPivotActive()&&o?o.indexOf(u):null,g=u.isValueActive()?u.getAggFunc():null,v=u.getSort()!=null?u.getSort():null,y=u.getSortIndex()!=null?u.getSortIndex():null;a.push({colId:u.getColId(),width:u.getActualWidth(),hide:!u.isVisible(),pinned:u.getPinned(),sort:v,sortIndex:y,aggFunc:g,rowGroup:u.isRowGroupActive(),rowGroupIndex:h,pivot:u.isPivotActive(),pivotIndex:p,flex:u.getFlex()??null})};t.forAllCols(u=>l(u));const c=new Map(t.getCols().map((u,h)=>[u.getColId(),h]));return a.sort((u,h)=>{const p=c.has(u.colId)?c.get(u.colId):-1,g=c.has(h.colId)?c.get(h.colId):-1;return p-g}),a}function rK(e){const t=(v,y)=>v??y??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),u=t(n.rowGroup,n.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let h=t(n.pivotIndex,n.initialPivotIndex),p=t(n.pivot,n.initialPivot);h==null&&(p==null||p==!1)&&(h=null,p=null);const g=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:p,pivotIndex:h,aggFunc:g}}function _be(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];e.state.forEach(i=>{i.colId!=null&&r.push(i.colId)}),Abe(t.cols,r,t,n)}function Abe(e,t,n,r){if(e==null)return;let i=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(i.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(zE)?i.splice(o++,0,a):i.push(a)}),i=Zq(i,r),!Jq(i,n.getColTree())){at(39);return}e.list=i}function kbe(e,t,n,r,i){const s={};t.forEach(u=>s[u.colId]=u);const o={};e.forEach(u=>{s[u.colId]&&(o[u.colId]=!0)});const a=e.filter(u=>o[u.colId]),l=t.filter(u=>o[u.colId]),c=[];l.forEach((u,h)=>{const p=a&&a[h];if(p&&p.colId!==u.colId){const g=r.getCol(p.colId);g&&c.push(g)}}),c.length&&i.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var s6=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(r),u=l>=0,h=c>=0;return u&&h?l-c:u?-1:1},Dbe=class extends $e{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(gg(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),gg(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,c=this.colDefs?nK(t,e):void 0;n?.expire();const u=this.colDefCols?.list,h=this.colDefCols?.tree,p=mbe(t,this.colDefs,!0,h,e);i1(t,this.colDefCols?.tree,p.columnTree);const g=p.columnTree,v=p.treeDepth,y=Kq(g),C={};y.forEach(b=>C[b.getId()]=b),this.colDefCols={tree:g,treeDepth:v,list:y,map:C},i?.extractCols(e,u),s?.extractCols(e,u),o?.extractCols(e,u),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&r?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:i,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:u,eventSvc:h}=this.beans,p=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,r,i],p);const g=LCe(this.gos,this.showingPivotResult);(!e||g)&&this.restoreColOrder(p),this.positionLockedCols(p),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(p),c.clear(),u.clear(),!Lf(t,this.cols.tree)&&h.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const c=AI(l);if(r){const u=o?.includes(l);return c||u||i&&Id(l)||s&&nd(l)}else return c||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Ga(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(h=>e.map[h.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=h=>{const p=h.getOriginalParent();return p?p.getChildren().length>1?!0:r(p):!1};if(!n.some(h=>r(h))){const h=new Set(n);for(const p of e.list)h.has(p)||n.push(p);e.list=n;return}const i=new Map;for(let h=0;h<n.length;h++){const p=n[h];i.set(p,h)}const s=e.list.filter(h=>!i.has(h));if(s.length===0){e.list=n;return}const o=(h,p)=>{const g=p?p.getOriginalParent():h.getOriginalParent();if(!g)return null;let v=null,y=null;for(const C of g.getChildren())if(!(C===p||C===h)){if(C instanceof Nf){const b=i.get(C);if(b==null)continue;(v==null||v<b)&&(v=b,y=C);continue}C.forEachLeafColumn(b=>{const E=i.get(b);E!=null&&(v==null||v<E)&&(v=E,y=b)})}return y??o(h,g)},a=[],l=new Map;for(const h of s){const p=o(h,null);if(p==null){a.push(h);continue}const g=l.get(p);g===void 0?l.set(p,h):Array.isArray(g)?g.push(h):l.set(p,[g,h])}const c=new Array(e.list.length);let u=c.length-1;for(let h=a.length-1;h>=0;h--)c[u--]=a[h];for(let h=n.length-1;h>=0;h--){const p=n[h],g=l.get(p);if(g)if(Array.isArray(g))for(let v=g.length-1;v>=0;v--){const y=g[v];c[u--]=y}else c[u--]=g;c[u--]=p}e.list=c}positionLockedCols(e){e.list=Zq(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=gg(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){i1(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r}=this.beans;Kb(this.colDefCols?.list,e),Kb(n?.columns?.list,e),Kb(r?.columns?.list,e),Kb(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<r.length;i++)if(Yq(r[i],e))return r[i];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},iK=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},wm=class extends $e{};function Yw(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Xw=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.toggleCss(i,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},Pbe=0,Pt=null,ir=class extends $e{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Pbe++,this.cssManager=new Xw(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(Sq):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Pt)this[t]=r??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);n.forEach(r=>{if(!(r instanceof HTMLElement))return;const i=this.createComponentFromElement(r,s=>{const o=s.getGui();if(o)for(const a of r.attributes??[])o.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)})}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,o=s?this.componentSelectors.get(r):null;let a=null;if(o){const l=n&&i?n[i]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,a),a}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=xI(e):r=Yr(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),EI(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;RCe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Er(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function sK(e){return typeof e=="object"&&!!e.component}var bn=class dv{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new dv(n=>{let r=t.length;const i=new Array(r);t.forEach((s,o)=>{s.then(a=>{i[o]=a,r--,r===0&&n(i)})})}):dv.resolve()}static resolve(t=null){return new dv(n=>n(t))}then(t){return new dv(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function Fbe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function oK(e,t,n,r){const{name:i}=n;let s,o,a,l,c,u;if(t){const h=t,p=h[i+"Selector"],g=p?p(r):null,v=y=>{typeof y=="string"?s=y:y!=null&&y!==!0&&(e.isFrameworkComponent(y)?a=y:o=y)};g?(v(g.component),l=g.params,c=g.popup,u=g.popupPosition):v(h[i])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u}}var Ibe=class extends $e{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}=oK(this.beans.frameworkOverrides,e,t,r),g,v;const y=x=>{const k=this.registry.getUserComponent(s,x);k&&(l=k.componentFromFramework?void 0:k.component,c=k.componentFromFramework?k.component:void 0,g=k.params,v=k.processParams)};if(a!=null&&y(a),l==null&&c==null&&n!=null&&y(n),l&&o&&!Fbe(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){const{validation:x}=this.beans;i&&(a!==n||!n)?a?x?.isProvidedUserComp(a)||jn(50,{compName:a}):n?x||jn(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):jn(216,{name:s}):n&&!x&&jn(146,{comp:n});return}const C=this.mergeParams(e,t,r,u,g,v),b=l==null,E=l??c;return{componentFromFramework:b,componentClass:E,params:C,type:t,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(E,b,C,t)}}newAgStackInstance(e,t,n,r){const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const o=s.init?.(n);return o==null?bn.resolve(s):o.then(()=>s)}mergeParams(e,t,n,r=null,i,s){const o={...n,...i},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const c=l(n);Ns(o,c)}else typeof l=="object"&&Ns(o,l);return Ns(o,r),s?s(o):o}},Mbe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},Obe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Nbe={name:"headerComponent",optionalMethods:["refresh"]},Lbe={name:"innerHeaderComponent"},Bbe={name:"innerHeaderGroupComponent"},Vbe={name:"headerGroupComponent"},Hbe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Gbe={name:"loadingCellRenderer",cellRenderer:!0},Ube={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},zbe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},jbe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Wbe={name:"tooltipComponent"},kI={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},$be={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},qbe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Kbe={name:"loadingCellRenderer",cellRenderer:!0},Ybe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Xbe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Qbe(e,t){return e.getCompDetailsFromGridOptions(Obe,"agDragAndDropImage",t,!0)}function Zbe(e,t,n){return e.getCompDetails(t,Nbe,"agColumnHeader",n)}function Jbe(e,t,n){return e.getCompDetails(t,Lbe,void 0,n)}function exe(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Vbe,"agColumnGroupHeader",t)}function txe(e,t,n){return e.getCompDetails(t,Bbe,void 0,n)}function nxe(e,t){return e.getCompDetailsFromGridOptions(qbe,void 0,t,!0)}function rxe(e,t){return e.getCompDetailsFromGridOptions(Kbe,"agLoadingCellRenderer",t,!0)}function ixe(e,t){return e.getCompDetailsFromGridOptions(Ybe,"agGroupRowRenderer",t,!0)}function sxe(e,t){return e.getCompDetailsFromGridOptions(Xbe,"agDetailCellRenderer",t,!0)}function o6(e,t,n){return e.getCompDetails(t,Hbe,void 0,n)}function a6(e,t,n){return e.getCompDetails(t,Gbe,"agSkeletonCellRenderer",n,!0)}function aK(e,t,n){return e.getCompDetails(t,Ube,"agCellEditor",n,!0)}function oxe(e,t,n,r){const i=t.filter;return sK(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,kI,r,n,!0)}function axe(e,t,n){return e.getCompDetails(t,Mbe,"agDateInput",n,!0)}function lxe(e,t){return e.getCompDetailsFromGridOptions(zbe,"agLoadingOverlay",t,!0)}function cxe(e,t){return e.getCompDetailsFromGridOptions(jbe,"agNoRowsOverlay",t,!0)}function uxe(e,t){return e.getCompDetails(t.colDef,Wbe,"agTooltipComponent",t,!0)}function dxe(e,t,n,r){return e.getCompDetails(t,$be,r,n)}function lK(e,t){return oK(e,t,kI)}function cA(e,t,n){return e.mergeParams(t,kI,n)}function Ry(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var cK=new Set,a1={},Gh={},tS,uK=!1,dK=!1,hxe=!1;function fxe(e){const[t,n]=e.version.split(".")||[],[r,i]=tS.split(".")||[];return t===r&&n===i}function pxe(e){tS||(tS=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?fxe(e)||dg(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${tS}.`)):dg(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||dg(`${n.message}`)}}function _y(e,t,n=!1){n||(uK=!0),pxe(e);const r=e.rowModels??["all"];cK.add(e);let i;t!==void 0?(dK=!0,Gh[t]===void 0&&(Gh[t]={}),i=Gh[t]):i=a1,r.forEach(s=>{i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>_y(s,t,n))}function gxe(e){delete Gh[e]}function UD(e,t,n){const r=i=>!!a1[i]?.[e]||!!Gh[t]?.[i]?.[e];return r(n)||r("all")}function DI(){return dK}function mxe(e,t){const n=Gh[e]??{};return[...Object.values(a1.all??{}),...Object.values(n.all??{}),...Object.values(a1[t]??{}),...Object.values(n[t]??{})]}function vxe(){return new Set(cK)}function yxe(e,t){const n=Gh[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function wxe(){return uK}function Cxe(){return hxe}var bxe=class{static register(e){_y(e,void 0)}static registerModules(e){e.forEach(t=>_y(t,void 0))}},xxe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function Sxe(e){return typeof e=="object"&&!!e.getComp}var Exe=class extends xxe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),gxe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},Txe=class extends $e{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new hK,this.rowValidations=new fK,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:c},u)=>{c!==xa&&(l[u.getColId()]=c)});return n&&o(n,s),i&&o(i,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>t.set(r,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((i,s)=>r.set(s,{...i})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const r=this._getEdit(e);r&&(r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed")}else this.getEditRow(t)?.forEach(r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const i of n.keys())t.push({rowNode:r,column:i,...n.get(i)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){const s=this.getEditRow(n,t);return s?r?i?this.getEdit(e)?.state==="editing":s.has(r)??!1:s.size!==0?i?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:xa,sourceValue:this.beans.valueSvc.getValue(r,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},hK=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},fK=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Rxe(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function pK(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function _xe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(gt(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function Axe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function kxe(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r?.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function Dxe(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function Kc(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function hv(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function Pxe(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let s;return s??(s=r?.getRowNode(t)),n?s??(s=i?.getPinnedRowById(t,n)):(s??(s=i?.getPinnedRowById(t,"top")),s??(s=i?.getPinnedRowById(t,"bottom"))),s}function l1(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(n===0)return r==="top"?null:r==="bottom"&&o.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=r?void 0:o.getRow(n);return gK(e,a,!0)??{rowIndex:n-1,rowPinned:r}}function l6(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(Fxe(e,t))return r==="bottom"?null:r==="top"&&o.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=r?void 0:o.getRow(n);return gK(e,a)??{rowIndex:n+1,rowPinned:r}}function gK(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!t?.sticky||!Mq(r))return;const s=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),a=!o.some(h=>h.rowNode.rowIndex===t.rowIndex),l=a?s:o,c=(n?-1:1)*(a?-1:1);let u;for(let h=0;h<l.length;h++)if(l[h].rowNode.rowIndex===t.rowIndex){u=l[h+c];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}function Fxe(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:s}=e;return n==="top"?(i?.getPinnedTopRowCount()??0)-1<=r:n==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=r:s.getLastRow()<=r}function PI(e,t={}){const{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(r?l=Pxe(e,r,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function ur(e,t={}){const{cellCtrl:n,colId:r,columnId:i,column:s}=t;if(n)return n;const o=e.colModel.getCol(r??i??zD(s)),a=t.rowCtrl??PI(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[o])?.[0]}function c6(e){const{editSvc:t}=e;t?.isBatchEditing()?mg(e):t?.stopEditing(void 0,{source:"api"})}function Ixe(e,t,n){const{gos:r,popupSvc:i}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(OD(a)===null){c6(t);return}let l=n.some(c=>c.contains(a))&&_K(r,a);l||(l=!!i&&(i.getActivePopups().some(c=>c.contains(a))||i.isElementWithinCustomPopup(a))),l||c6(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function zD(e){if(e)return typeof e=="string"?e:e.getColId()}var xa=Symbol("unedited");function mK(e,t={}){const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of r){const s=i.comp?.getCellEditor();s&&n.push({ctrl:i,editor:Ry(s)})}return n}var Mxe=(e,t={})=>mK(e,t).map(n=>n.editor);function Oxe(e,t,n,r,i,s){t.length===0&&n?.rowNode&&n?.column&&Kg(e,n,{key:r,event:i,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:u}=n??{};for(const h of t){const{rowNode:p,column:g}=h,v=ur(e,h);if(!v){if(p&&g){const C=o.getValue(g,p,void 0,"api"),x=(n?.rowNode===p&&n?.column===g&&r||void 0)??a?.getCellDataValue(h,!1)??o.getValueForDisplay(g,p)?.value??C??xa;l?.setEdit(h,{pendingValue:x,sourceValue:C,state:"editing"})}continue}const y=s&&c===v.rowNode&&v.column===u;Kg(e,{rowNode:c,column:v.column},{key:y?r:null,event:y?i:null,cellStartedEdit:y})}}function rd({pendingValue:e,sourceValue:t}){return e===xa&&(e=t),e!==t}function Kg(e,t,n){const{key:r,event:i,cellStartedEdit:s,silent:o}=n??{},a=ur(e,t),l=a?.comp?.getCellEditor(),c=yK(e,t,r,s),u=e.editModelSvc?.getEdit(t);let h=r?.length===1?r:c.value;if(h===void 0&&(h=u?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:h,state:"editing"}),l){l.refresh?.(c);return}const p=t.column.getColDef(),g=aK(e.userCompFactory,p,c),v=g?.popupFromSelector!=null?g.popupFromSelector:!!p.cellEditorPopup,y=g?.popupPositionFromSelector!=null?g.popupPositionFromSelector:p.cellEditorPopupPosition;wK(g.params,i),a&&(a.editCompDetails=g,a.comp?.setEditDetails(g,v,y,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,i,"cellEditingStarted"))}function vK(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function yK(e,t,n,r){const{valueSvc:i,gos:s,editSvc:o}=e,a=ur(e,t),l=t.rowNode?.rowIndex??void 0,c=o?.isBatchEditing(),u=e.colModel.getCol(t.column.getId()),{rowNode:h,column:p}=t,g=a.comp?.getCellEditor(),v=o?.getCellDataValue(t,!1)??(g?vK(g)?.editorValue:void 0),y=v===xa?i.getValueForDisplay(u,h)?.value:v;return Nt(s,{value:y,eventKey:n??null,column:p,colDef:p.getColDef(),rowIndex:l,node:h,data:h.data,cellStartedEdit:r??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:C=>{o.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:C}),c1(e,t)},eGridCell:a?.eGui,parseValue:C=>i.parseValue(u,h,C,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function jD(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((r,i)=>{r.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===xa)||!rd(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:i,column:o})})})}function Nxe(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,o=yK(e,t,r,i),a=s.getColDef(),l=aK(e.userCompFactory,a,o);n.refresh(wK(l.params,r))}function wK(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Rh(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const r=ur(e,n);if(!r)return;const i=r.comp.getCellEditor();if(!i)return;const{editorValue:s,editorValueExists:o}=vK(i);nS(e,n,t,s,void 0,!o)})}function nS(e,t,n,r,i,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:c}=t;if(!(l&&c))return;const h=!!ur(e,t)?.comp?.getCellEditor();let p=o.getEdit(t,!0);p?.sourceValue||(p=o.setEdit(t,{sourceValue:a.getValue(c,l,void 0,"api"),pendingValue:xa,state:h?"editing":"changed"})),o.setEdit(t,{editorValue:s?p.sourceValue:r,state:h?"editing":"changed"}),n&&Lxe(e,t)}function Lxe(e,t){const{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function mg(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(r=>c1(e,r,n))}function c1(e,t,n){const{editSvc:r,editModelSvc:i}=e,{rowNode:s,column:o}=t,a=ur(e,t);if(!a){i?.hasEdits(t)&&s&&o&&i?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor())return;const c=l?.getCellEditor()?.getValidationErrors?.(),u=i?.getCellValidationModel();c?.length?u?.setCellValidation(t,{errorMessages:c}):u?.clearCellValidation(t),i?.getEdit(t)&&i?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const h=i?.getEdit(t);h?.state==="changed"&&!n?.silent&&r?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:rd(h),newValue:h?.pendingValue,oldValue:h?.sourceValue})}function hf(e){const t=mK(e),n=new hK,{ariaAnnounce:r,localeSvc:i,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",c=rq(i)("ariaValidationErrorPrefix","Cell Editor Validation");for(const h of t){const{ctrl:p,editor:g}=h,{rowNode:v,column:y}=p,C=g.getValidationErrors?.()??[],b=g.getValidationElement?.(!1)||!g.isPopup?.()&&p.eGui;if(b){const E=C!=null&&C.length>0,x=E?C.join(". "):"";dCe(b,E),E&&r.announceValue(`${c} ${C}`,"editorValidation"),b instanceof HTMLInputElement?b.setCustomValidity(x):b.classList.toggle("invalid",E)}C?.length>0&&n.setCellValidation({rowNode:v,column:y},{errorMessages:C})}Rh(e,!1),s?.setCellValidationModel(n);const u=new Set;for(const{ctrl:h}of t)u.add(h.rowCtrl);if(a){const h=Bxe(e);s?.setRowValidationModel(h)}for(const h of u.values()){h.rowEditStyleFeature?.applyRowStyles();for(const p of h.getAllCellCtrls())p.tooltipFeature?.refreshTooltip(!0),p.editorTooltipFeature?.refreshTooltip(!0),p.editStyleFeature?.applyCellStyles?.()}}var Bxe=e=>{const t=new fK,n=e.gos.get("getFullRowEditValidationErrors"),r=e.editModelSvc?.getEditMap();if(!r)return t;for(const i of r.keys()){const s=r.get(i);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=i;for(const u of s.keys()){const h=s.get(u);if(!h)continue;const{editorValue:p,pendingValue:g,sourceValue:v}=h,y=p??(g===xa?void 0:g)??v;o.push({column:u,colId:u.getColId(),rowIndex:a,rowPinned:l,oldValue:v,newValue:y})}const c=n?.({editorsState:o})??[];c.length>0&&t.setRowValidation({rowNode:i},{errorMessages:c})}return t};function Vxe(e){hf(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((r,i)=>{r.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:s??null})})}),n}var Hxe="ag-column-first",Gxe="ag-column-last";function CK(e,t,n,r){return pr(e)?[]:zxe(e.headerClass,e,t,n,r)}function bK(e,t,n){e.toggleCss(Hxe,n.isColAtEdge(t,"first")),e.toggleCss(Gxe,n.isColAtEdge(t,"last"))}function Uxe(e,t,n,r){return Nt(t,{colDef:e,column:n,columnGroup:r})}function zxe(e,t,n,r,i){if(pr(e))return[];let s;if(typeof e=="function"){const o=Uxe(t,n,r,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function Qw(e){return!!(e.rowPinned&&e.pinnedSibling)}function na(e,t,n,r){const i=t==="top";if(!n)return na(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return na(e,t,n,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===r){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var Ve={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},WD=!1,u1=0;function jxe(e){u1>0||(e.addEventListener("keydown",d1),e.addEventListener("mousedown",d1))}function Wxe(e){u1>0||(e.removeEventListener("keydown",d1),e.removeEventListener("mousedown",d1))}function d1(e){const t=WD,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(WD=n)}function $xe(e){const t=Pi(e);return jxe(t),u1++,()=>{u1--,Wxe(t)}}function qxe(){return WD}function Kxe(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===Ve.TAB){const i=r.shiftKey;Bf(e,n,!1,i)||Yg(e,i)&&r.preventDefault()}}})}function vg(e,t,n=!1){const r=TCe;let i=vq;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>ql(l)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((l,c)=>l.filter(u=>c.indexOf(u)===-1))(s,o):s}function ff(e,t=!1,n=!1,r=!1){const i=vg(e,r?".ag-tab-guard":null,n),s=t?zn(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function Bf(e,t,n,r){const i=vg(t,n?':not([tabindex="-1"])':null),s=Dr(e);let o;n?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(r?-1:1);return a<0||a>=i.length?null:i[a]}function xK(e,t=5){let n=0;for(;e&&OD(e)===null&&++n<=t;)e=e.parentElement;return OD(e)===null?null:e}function Yxe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Uh(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function jE(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Yg(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function Xxe(e,t,n,{rowNode:r,column:i},s){return Nt(e.gos,{type:n,node:r,data:r.data,value:s,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function Qxe(e,t=!1){return e===Ve.DELETE?!0:!t&&e===Ve.BACKSPACE?pq():!1}var Zxe=class extends $e{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Ve.ENTER:this.onEnterKeyDown(e);break;case Ve.F2:this.onF2KeyDown(e);break;case Ve.ESCAPE:this.onEscapeKeyDown(e);break;case Ve.TAB:this.onTabKeyDown(e);break;case Ve.BACKSPACE:case Ve.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Ve.DOWN:case Ve.UP:case Ve.RIGHT:case Ve.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===Ve.LEFT||e.key===Ve.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=r;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Qxe(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&md(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:c}=n,u=this.beans.valueSvc.getDeleteValue(c,i);i.setDataValue(c,u,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,s=r?.isEditing(t),o=t.rowNode,a=r?.isRowEditing(o),l=c=>{r?.startEditing(c,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(hf(n),r?.checkNavWithValidation(void 0,e)==="block-stop")return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const c=e.shiftKey?Ve.UP:Ve.DOWN;i?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===Ve.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(hf(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n||r?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===Ve.SPACE)this.onSpaceKeyDown(e);else if(r?.isCellEditable(i,"ui")){if(r?.hasValidationErrors()&&!r?.hasValidationErrors(i))return;r?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Vh(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,"spaceKey"),e.preventDefault()}};function SK(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}function u6({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var Jxe=class extends $e{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Mc(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:c}=a;n&&o&&n.getCellRangeCount(c)>1&&n.intersectLastRange(!0);const u=a.createEvent(e,"cellClicked");t.dispatchEvent(u);const h=l.getColDef();if(h.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{h.onCellClicked(u)})},0),i?.getState(a)!=="editing"){const p=r?.isEditing(),g=i?.getCellValidationModel().getCellValidationMap().size??0,v=i?.getRowValidationModel().getRowValidationMap().size??0;if(p&&(g>0||v>0))return;r?.shouldStartEditing(a,e)?r?.startEditing(a,{event:e}):r?.shouldStopEditing(a,e)&&r?.stopEditing(a)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,editSvc:o,editModelSvc:a}=n,l=t.getColDef(),c=r.createEvent(e,"cellDoubleClicked");if(i.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const u=o?.isEditing(),h=a?.getCellValidationModel().getCellValidationMap().size??0,p=a?.getRowValidationModel().getRowValidationMap().size??0;if(u&&(h>0||p>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:u,gos:h,editSvc:p}=o;if(this.isRightClickInExistingRange(e))return;const g=l&&!l.isEmpty(),v=this.containsWidget(i),{cellPosition:y,column:C}=s,b=nd(C);if(c&&b&&!c.handleMouseDownOnCell(y,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!g){const E=p?.isEditing(s),k=h.get("enableCellTextSelection")&&e.defaultPrevented,D=(If()||k)&&!E&&!CI(i)&&!v;s.focusCell(D,e)}if(r&&g&&!u.isCellFocused(y)){e.preventDefault();const E=u.getFocusedCell();if(E){const{column:x,rowIndex:k,rowPinned:D}=E;p?.isEditing(E)&&p?.stopEditing(E),u.setFocusedCell({column:x,rowIndex:k,rowPinned:D,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!v){if(l){b&&e.preventDefault();const E=u6(this.beans,e)&&b;if(r)l.extendLatestRangeToCell(y);else if(!E){const x=t||n;l.setRangeToCell(y,x)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=u6(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return Bh(e,"ag-selection-checkbox",3)||Bh(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},eSe=class extends $e{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Lf(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||pr(i)||s!==i.getPinned()));o++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=zn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Hh(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},tSe="ag-cell",nSe="ag-cell-auto-height",rSe="ag-cell-normal-height",iSe="ag-cell-focus",sSe="ag-cell-first-right-pinned",oSe="ag-cell-last-left-pinned",aSe="ag-cell-not-inline-editing",lSe="ag-cell-wrap-text",h1="cellCtrl";function EK(e,t){return zq(e,t,h1)}var cSe=0,yg=class extends $e{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+cSe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new eSe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new Jxe(this,e,this.column),this.keyboardListener=new Zxe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&md(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),nd(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),hf(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=a6(n,s,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const c=new bn(u=>{l=u});return this.addManagedListeners(i,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:bn.resolve()}}showValue(e,t){const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const c=i.stub&&i.groupData?.[r.getId()]==null,u=r.getColDef();if(c||this.isCellRenderer()){const h=this.createCellRendererParams();!c||nd(r)?l=o6(o,u,h):l=a6(o,u,h)}if(!l&&!c&&n.findSvc?.isMatch(i,r)){const h=this.createCellRendererParams();l=o6(o,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},h)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const h=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});h&&(h.compDetails?l=h.compDetails:h.valueToDisplay&&(a=h.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&tu(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Qw(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=JS(t),i=Id(this.column);return n==="custom"&&r!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&pg(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return Nt(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r).value,setValue:u=>l?.setDataValue({rowNode:r,column:n},u)||o.setValue(r,n,u),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(u,h,p,g)=>this.registerRowDragger(u,h,g),setTooltip:(u,h)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,h),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const r=this.column.getColDef(),i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,s=e||i||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!n,!1);const c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&r.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;uf(this.beans.gos,t,h1,this),e.addDestroyFunc(()=>uf(this.beans.gos,t,h1,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return Xxe(s,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;bK(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);hq(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=r.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(nd(this.column)&&(e=!0),Eo(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(sSe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(oSe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(jE(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(iSe,n),n&&e&&e.forceBrowserFocus){let i=this.comp.getFocusableElement();if(r){const s=vg(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Ic(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(tSe,!0),e.toggleCss(aSe,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(nSe,t),e.toggleCss(rSe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(lSe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Dr(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},TK="__ag_grid_instance";function RK(e,t){t[TK]=e.gridInstanceId}function Ay(e,t){return _K(e,t.target)}function _K(e,t){let n=t;for(;n;){const r=n[TK];if(gt(r))return r===e.gridInstanceId;n=n.parentElement}return!1}function uSe(e,t){return EK(e,t.target)?.getFocusedCellPosition()??null}function d6(e,t){const n=es(e.gos,"normal"),r=t;let i,s;r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var dSe=class extends $e{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.removeDragSource(r.params),ba(t,r))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(r=>t.removeDragSource(r.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),s=this.findCurrentDropTarget(e,i),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,r,t),o!==null&&s===null&&a?.onGridExit?.(c),o===null&&s!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(s,e,n,r,t),s&&l){const{comp:u,promise:h}=l;u?u.setIcon(s.getIconName?s.getIconName():null,!1):h.then(p=>{p&&p.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const u=this.createDropTargetEvent(s,e,n,r,t);s.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(a,l)=>{for(const c of l){const{width:u,height:h,left:p,right:g,top:v,bottom:y}=c.getBoundingClientRect();if(u===0||h===0)return!1;const C=a.clientX>=p&&a.clientX<g,b=a.clientY>=v&&a.clientY<y;if(!C||!b)return!1}return!0};for(const a of n)if(i(e,a)){r=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=Ey(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,r){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const o=this.createDropTargetEvent(i,e,t,n,r);i.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,r,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,u=t.clientX-o.left,h=t.clientY-o.top;return Nt(c,{event:t,x:u,y:h,vDirection:r,hDirection:n,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&GCe(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const r=Qbe(n,Nt(t,{dragSource:e}));if(!r)return;const i=r.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),RK(this.gos,r),n.applyThemeClasses(r),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),r.style.top="20px",r.style.left="20px";const s=_I(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(r):at(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},hSe=class extends $e{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(r=>r.dragSource===e);n&&(this.removeListener(n),ba(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");r&&!o&&(s=a=>{CI(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!r})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Ey(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=c=>this.onMouseMove(c,e.eElement),i=c=>this.onMouseUp(c,e.eElement),s=c=>c.preventDefault(),o=c=>{c.key===Ve.ESCAPE&&this.cancelDrag(e.eElement)},a=Ey(this.beans),l=[{target:a,type:"mousemove",listener:r},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.addEventListener(r,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.removeEventListener(r,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=gt(n)?n:4;return SK(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){If()&&Pi(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),r=e.type==="mousemove",i=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&r&&e.cancelable&&Ay(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function AK(e,t){return e+"_"+t}function Kr(e){return e instanceof ky}var ky=class extends $e{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return AK(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Kr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=zn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{vd(t)?e.push(t):Kr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{vd(t)?e.push(t):Kr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Kr(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},$D="row-group-",FI="t-",II="b-",fSe=0,pf=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=fSe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(jn(13),null):this.rowPinned==="top"?FI+this.rowIndex:this.rowPinned==="bottom"?II+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=$g(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith($D)&&jn(14,{groupPrefix:$D})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:h},data:p,rowIndex:g,rowPinned:v}=this;return h.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:g,rowPinned:v,column:a,colDef:a.colDef,data:p,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o){const h=o.setDataValue({rowNode:this,column:a},t,n);if(h!=null)return h}const c=i.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const u=this.pinnedSibling;return u&&c&&u.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new af),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new af),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(at(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function pSe(e,t,n){return Nt(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var gSe=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function mSe(e,t){const n=new pf(t);return Object.keys(e).forEach(r=>{gSe.has(r)||(n[r]=e[r])}),n.oldRowTop=null,n}var kK={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},vSe=new Set(Object.values(kK));function Du(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function ySe(e,t,n,r,i,s){return t.refresh?.({...n,model:r,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;DK(a,l,r,i,s)}})}function DK(e,t,n,r,i){e?.refresh?.({...t,model:n,state:r,source:i})}function PK(e,t,n){const r=e();r?.created&&r.promise.then(i=>{const s=t();DK(i,r.filterParams,s,n()??{model:s},"ui")})}function h6(e,t,n,r,i,s){let o,a=!1,l;switch(e){case"apply":{const c=r();l=c?.model??null,o={state:c?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:n()};break}}i(o),a?s(l):PK(t,n,r)}function _i(e,t){return e[t]??null}function wSe(e){return{tag:"div",cls:e}}var CSe=class extends ir{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(wSe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();Io(r);let i;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:c,label:u})=>{const h=b=>{this.dispatchLocalEvent({type:c,event:b})};["apply","clear","reset","cancel"].includes(c)||at(75);const p=c==="apply",v=Yr({tag:"button",attrs:{type:p&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${p?" "+o+"-apply-button":""}`,children:u});this.activateTabIndex([v]),p&&(i=v);const y=b=>{b.key===Ve.ENTER&&(b.preventDefault(),h(b))},C=this.listeners;v.addEventListener("click",h),C.push(()=>v.removeEventListener("click",h)),v.addEventListener("keydown",y),C.push(()=>v.removeEventListener("keydown",y)),s.append(v)};e.forEach(c=>a(c)),this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),r.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(xy(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},bSe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Wu(e,t,n){return rCe(e,bSe,t,n)}function MI(e,t){const{debounceMs:n}=e;return WE(e)?(n!=null&&at(71),0):n??t}function WE(e){return(e.buttons?.indexOf("apply")??-1)>=0}var xSe=class extends ir{constructor(e,t,n,r,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:i}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&i===o&&Cy(r,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(l){const u=s.map(h=>{const p=`${h}Filter`;return{type:h,label:Wu(this,p)}});if(this.applyActive=WE(this.params),!c){c=this.createBean(new CSe),this.appendChild(c.getGui());const h=this.column,p=g=>({event:v})=>{this.updateModel(h,g),this.afterAction(g,v)};c?.addManagedListeners(c,{apply:p("apply"),clear:p("clear"),reset:p("reset"),cancel:p("cancel")}),this.eButtons=c}c.updateButtons(u,a)}else this.applyActive=!1,c&&(qc(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n&&n.key;let i;(r===Ve.ENTER||r===Ve.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&r&&this.close(t);break}case"reset":{i&&r&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===Ve.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},SSe={tag:"div",cls:"ag-filter"},ESe=class extends ir{constructor(e,t,n){super(SSe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??bn.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const c=!!this.enableGlobalButtonCheck,u=this.createBean(new xSe(t,s,r,r.updateModel.bind(r),c&&r.isGlobalButtons,c));this.comp=u,l=u.getGui()}else l=a.getGui(),gt(l)||at(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Io(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},OI="T",TSe=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${OI}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function bl(e,t){return e.toString().padStart(t,"0")}function Do(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>bl(i,2)).join(n);return t&&(r+=OI+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>bl(i,2)).join(":")),r}function Yb(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),bl(e.getDate(),2),bl(e.getHours(),2),`:${bl(e.getMinutes(),2)}`,`:${bl(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,bl(e.getDate(),2)].map(String):null}var uA=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function qD(e,t){if(t==null)return Do(e,!1);const n=bl(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>bl(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${uA(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${uA(e.getDate())}`,DD:()=>bl(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${uA(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function rS(e,t=!1){return!!no(e,t)}function RSe(e){return rS(e,!0)}function no(e,t=!1){if(!e||!TSe.test(e))return null;const[n,r]=e.split(OI);if(!n)return null;const i=n.split("-").map(p=>parseInt(p,10));if(i.filter(p=>!isNaN(p)).length!==3)return null;const[s,o,a]=i,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!r&&t)return null;if(!r||r==="00:00:00")return l;const[c,u,h]=r.split(":").map(p=>parseInt(p,10));if(c>=0&&c<24)l.setHours(c);else if(t)return null;if(u>=0&&u<60)l.setMinutes(u);else if(t)return null;if(h>=0&&h<60)l.setSeconds(h);else if(t)return null;return l}var f6={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},p6=["january","february","march","april","may","june","july","august","september","october","november","december"];function _Se(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function g6(e){return e instanceof Date&&!isNaN(e.getTime())}var KD={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:g6}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&g6(e.dateParser(t))}),dateTime:e=>KD.date(e),dateTimeString:e=>KD.dateString(e),object:()=>{},text:()=>{}},YD={number:()=>({comparator:_Se}),boolean:({t:e})=>({valueFormatter:t=>gt(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return gt(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const i=p6[Number(n)-1];return t(i,f6[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>Yb(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const i=e(r);return gt(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>Yb(t.dateParser(r??void 0),!1),treeListFormatter:(r,i)=>{if(i===1&&r!=null){const s=p6[Number(r)-1];return n(s,f6[s])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=YD.date(e);return t.treeListPathGetter=Yb,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=YD.dateString(e);return n.treeListPathGetter=r=>Yb(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return gt(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function ASe(e,t,n,r,i,s,o){let a=t,l=n;const c=e==="agSetColumnFilter";!l&&r.baseDataType==="object"&&!c&&(l=({column:g,node:v})=>i({column:g,node:v,value:s.valueSvc.getValue(g,v)}));const h=(c?YD:KD)[r.baseDataType],p=h({dataTypeDefinition:r,formatValue:i,t:o});return a=typeof t=="object"?{...p,...t}:p,{filterParams:a,filterValueGetter:l}}var kSe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},DSe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function PSe(e,t=!1){return(t?DSe:kSe)[e??"text"]}var FK="ag-resizer-wrapper",Pu=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),FSe={tag:"div",cls:FK,children:[Pu("eTopLeft","topLeft"),Pu("eTop","top"),Pu("eTopRight","topRight"),Pu("eRight","right"),Pu("eBottomRight","bottomRight"),Pu("eBottom","bottom"),Pu("eBottomLeft","bottomLeft"),Pu("eLeft","left")]},ISe=class extends $e{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,u=0;const h=ql(this.element);if(h){const p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){const v=p.offsetWidth-this.element.offsetWidth;u=parseInt(g.minWidth,10)-v}if(g.minHeight!=null){const v=p.offsetHeight-this.element.offsetHeight;c=parseInt(g.minHeight,10)-v}}if(this.minHeight=s||c,this.minWidth=r||u,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(h&&n){let p=this.boundaryEl,g=!0;if(p||(p=this.findBoundaryElement(),g=!1),p){const v=parseFloat(p.style.top),y=parseFloat(p.style.left);g?this.offsetElement(isNaN(y)?0:y,isNaN(v)?0:v,e):this.setPosition(y,v)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Av(n,e),e=yq(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Av(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,o=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-r.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Bl(t,e),e=KS(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Bl(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=eu(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,o)?0:o,c=this.shouldSkipY(t,!!r,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=r<0&&e.clientX>a+s.left||r>0&&e.clientX<a+s.left:n?l=r<0&&e.clientX>o.right||r>0&&e.clientX<a+s.left:l=r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=r<0&&e.clientY>a+s.top+n||r>0&&e.clientY<a+s.top:l=r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Yr(FSe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${FK}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||r,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),h=this.position.x,p=this.position.y;let g=0,v=0;if(a&&c){const y=o?-1:1,C=this.getWidth(),b=C+c*y;let E=!1;o&&(g=C-b,(h+g<=0||b<=this.minWidth)&&(E=!0,g=0)),E||this.setWidth(b)}if(l&&u){const y=r?-1:1,C=this.getHeight(),b=C+u*y;let E=!1;r?(v=C-b,(p+v<=0||b<=this.minHeight)&&(E=!0,v=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&g||v)&&this.offsetElement(h+g,p+v)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},MSe="ag-focus-managed",Cm=class extends $e{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=Bf(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(MSe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Mc(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){df(t);return}t.key===Ve.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},OSe=class extends ir{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Cm(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new ISe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const i=t.state,s=this.state;return this.state=i,(i.model!==s.model||i.state!==s.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=WE(e),this.setupApplyDebounced()}doesFilterPass(e){at(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return at(284),this.params.model!=null}setupApplyDebounced(){const e=MI(this.params,this.defaultDebounceMs),t=Zi(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return at(285),this.params.model}setModel(e){at(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const i=this.params;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Wu(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function NSe(e){return!!e.operator}function LSe(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:o}=lK(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(r=n()),r}var iS={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},NI=class extends $e{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?iS.AUTO_HEIGHT:t.print?iS.PRINT:iS.NORMAL;this.view.updateLayoutClasses(n,t)}},Fu="Viewport",m6="fakeVScrollComp",dA=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],v6=100,hA=150,BSe=class extends $e{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Zi(this,()=>this.lastScrollSource[1]=null,hA),this.resetLastVScrollDebounced=Zi(this,()=>this.lastScrollSource[0]=null,hA)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Fu)});for(const e of dA){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Zi(this,this.onVScroll.bind(this,Fu),v6):this.onVScroll.bind(this,Fu),r=t?Zi(this,this.onVScroll.bind(this,m6),v6):this.onVScroll.bind(this,m6);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...dA,Fu]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);XS(n,e,this.enableRtl)}}getViewportForSource(e){return e===Fu?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=YS(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Fu?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Fu?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},hA)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Lh()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=bI(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of dA)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Fu)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),XS(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(es(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!="number"||e<0||e>=i){at(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const c=this.ctrlsSvc.getGridBodyCtrl(),u=r.getRow(e);let h,p,g=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:v,stickyBottomHeight:y}=c,C=u.rowTop,b=u.rowHeight,E=o.getPixelOffset(),x=u.rowTop-E,k=x+u.rowHeight,D=this.getVScrollPosition(),R=a.divStretchOffset,_=D.top+R,I=D.bottom+R,F=I-_,N=a.getScrollPositionForPixel(x),B=a.getScrollPositionForPixel(k-F),M=Math.min((N+B)/2,x),L=_+v>x,H=I-y<k;let ee=null;t==="top"?ee=N-v:t==="bottom"?ee=B+y:t==="middle"?ee=M:L?ee=N-v:H&&(B-N>F?ee=N-v:ee=B+y),ee!==null&&(this.setVerticalScrollPosition(ee),l.redraw({afterScroll:!0})),h=C!==u.rowTop||b!==u.rowHeight,p=v!==c.stickyTopHeight||y!==c.stickyBottomHeight,g++}while((h||p)&&g<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(u?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const v=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const y=this.getVScrollPosition().top;v!==y&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:r)||i,l=o?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:u,colMiddle:h,colRight:p}=this.getColumnBounds(e);return c?h-s/2:a?o?p:u:o?u-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:n<i,a=s?n<r:t>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?n-i:i,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},LI=class extends $e{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=es(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=r+i+s:(o=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},VSe=class extends $e{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{tu(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=bI(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function BI(e,t,n,r,i,s){if(n==null&&t==null)return;const o={},a={},l=(c,u)=>{c.split(" ").forEach(h=>{h.trim()!=""&&u(h)})};if(n){const c=Object.keys(n);for(let u=0;u<c.length;u++){const h=c[u],p=n[h];let g;typeof p=="string"?g=e?e.evaluate(p,r):!0:typeof p=="function"&&(g=p(r)),l(h,v=>{g?o[v]=!0:a[v]=!0})}}t&&s&&Object.keys(t).forEach(c=>l(c,u=>{o[u]||(a[u]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}function y6(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var HSe=class extends $e{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);r(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=Nt(r,{data:e.data,node:e,rowIndex:e.rowIndex});BI(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},GSe=0,f1="renderedRow",p1=class extends $e{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+GSe++,this.rowId=Jx(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=y6(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Jx(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){const{context:i,focusSvc:s}=this.beans;r=Yw(this,i,r);const o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const u=this.fullWidthGui?.element;u&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>u.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Vh(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>n.toggleCss(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&PD(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),uf(t,e.element,f1,this),e.compBean.addDestroyFunc(()=>uf(t,e.element,f1,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Jx(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(ND(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(ND(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,o=!!n||!r.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=Lq(this.gos,this.rowNode,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new yg(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(c,u,h)=>{h!=null?r.list.splice(h,0,u):r.list.push(u),r.map[c]=u},s=[];for(const c of t){const u=c.getInstanceId();let h=e.map[u];h&&!this.isCorrectCtrlForSpan(h)&&(h.destroy(),h=void 0),h||(h=this.getNewCellCtrl(c)),h&&i(u,h)}for(const c of e.list){const u=c.column.getInstanceId();if(r.map[u]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?s.push([u,c]):c.destroy()}if(s.length)for(const[c,u]of s){const h=r.list.findIndex(g=>g.column.getLeft()>u.column.getLeft()),p=h===-1?void 0:Math.max(h-1,0);i(c,u,p)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!r.map[c]&&a.allCols.includes(l.column)){const h=this.createFocusedCellCtrl();if(h){const p=r.list.findIndex(v=>v.column.getLeft()>h.column.getLeft()),g=p===-1?void 0:Math.max(p-1,0);i(c,h,g)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||es(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=gt(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",i=t==="below",o=this.gos.get("treeData")&&(i||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const c=l.rowComp;c.toggleCss("ag-row-highlight-above",n),c.toggleCss("ag-row-highlight-inside",r),c.toggleCss("ag-row-highlight-below",i),c.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ic(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),u={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:c?.column??r};l?.navigateToNextCell(e,e.key,u,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Mc(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=Dr(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let o=null;!r&&!s&&(o=Bf(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>ql(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{Eo(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?r=s==="right"?this.rightGui?.element:this.leftGui?.element:r=this.centerGui?.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(r=>{r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Nt(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Mc(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Bh(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:r}=this.beans;n?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,a=s.element,l=e.target;let c=e.defaultPrevented||If();a&&a.contains(l)&&CI(l)&&(c=!1),r.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(Mc(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:r}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),r?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=Nt(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return sxe(s,i);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=o,i.valueFormatted=a,ixe(s,i)}case"FullWidthLoading":return rxe(s,i);default:return nxe(s,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=y6(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(s.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&s.push("ag-row-pinned-source"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,r),o.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=Dq(this.gos)?gd(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&fg(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(Dr(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&gt(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(r=>{r.column==e&&(n=r)}),n!=null||t||this.getAllCellCtrls().forEach(r=>{r?.getColSpanningList().indexOf(e)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",r),s.rowComp.toggleCss("ag-row-odd",!r),dq(s.element,i)})}};function IK(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function XD(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=Nt(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(o))}function USe(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=r?null:"top";let o,a;i?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:c}=e,u=l.allCols;!c||!u?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var zSe=65,jSe=67,WSe=86,$Se=68,qSe=90,KSe=89;function YSe(e){const{keyCode:t}=e;let n;switch(t){case zSe:n=Ve.A;break;case jSe:n=Ve.C;break;case WSe:n=Ve.V;break;case $Se:n=Ve.D;break;case qSe:n=Ve.Z;break;case KSe:n=Ve.Y;break;default:n=e.code}return n}var XSe=class extends $e{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Uq("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){if(!Ay(this.gos,t)||Mc(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:EK(t,e),rowCtrl:zq(t,e,f1)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!XD(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),IK(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell()?.column;if(!XD(this.gos,n,r,a,!1)){const c=n.key;if(t==="keydown")switch(c){case Ve.PAGE_HOME:case Ve.PAGE_END:case Ve.PAGE_UP:case Ve.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case Ve.LEFT:case Ve.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Ve.UP:case Ve.DOWN:e.onKeyboardNavigate(n);break;case Ve.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Ay(this.gos,e))return;const n=YSe(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===Ve.A)return this.onCtrlAndA(e);if(n===Ve.C)return this.onCtrlAndC(r,e);if(n===Ve.D)return this.onCtrlAndD(r,e);if(n===Ve.V)return this.onCtrlAndV(r,e);if(n===Ve.X)return this.onCtrlAndX(r,e);if(n===Ve.Y)return this.onCtrlAndY(i);if(n===Ve.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&md(i)&&t.isRowsToRender()?USe(this.beans):r&&r?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:Vq(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},MK=class extends $e{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},Xb=e=>e.topRowCtrls,Qb=e=>e.getStickyTopRowCtrls(),Zb=e=>e.getStickyBottomRowCtrls(),Jb=e=>e.bottomRowCtrls,ex=e=>e.allRowCtrls,fA=e=>e.getCtrls("top"),pA=e=>e.getCtrls("center"),gA=e=>e.getCtrls("bottom"),QSe={center:{type:"center",name:"center-cols",getRowCtrls:ex,getSpannedRowCtrls:pA},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:ex,getSpannedRowCtrls:pA},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:ex,getSpannedRowCtrls:pA},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:ex},topCenter:{type:"center",name:"floating-top",getRowCtrls:Xb,getSpannedRowCtrls:fA},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Xb,getSpannedRowCtrls:fA},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Xb,getSpannedRowCtrls:fA},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Xb},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Qb},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Qb},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Qb},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Qb},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Zb},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Zb},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Zb},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Zb},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Jb,getSpannedRowCtrls:gA},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Jb,getSpannedRowCtrls:gA},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Jb,getSpannedRowCtrls:gA},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Jb}};function OK(e){return`ag-${Zw(e).name}-viewport`}function sS(e){const t=Zw(e);return t.container??`ag-${t.name}-container`}function ZSe(e){return`ag-${Zw(e).name}-spanned-cells-container`}function Zw(e){return QSe[e]}var JSe=["topCenter","topLeft","topRight"],e1e=["bottomCenter","bottomLeft","bottomRight"],t1e=["center","left","right"],n1e=["center","left","right","fullWidth"],r1e=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],i1e=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],s1e=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],NK=["stickyTopCenter","stickyTopLeft","stickyTopRight"],LK=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],o1e=[...NK,"stickyTopFullWidth",...LK,"stickyBottomFullWidth"],a1e=[...JSe,...e1e,...t1e,...NK,...LK],l1e=class extends $e{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Zw(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new VSe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new XSe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(i1e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(s1e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(n1e,()=>this.createManagedBean(new MK(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(a1e,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(r1e,()=>this.createManagedBean(new LI(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(o1e.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=es(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Sy(this.eViewport)}getCenterViewportScrollLeft(){return YS(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=eu(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Cq(this.eViewport)}getViewportScrollLeft(){return YS(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||bq(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){XS(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=es(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},c1e="ag-force-vertical-scroll",u1e="ag-selectable",d1e="ag-column-moving",h1e=class extends $e{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${OK("center")}`),this.eFullWidthContainer=n.querySelector(`.${sS("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${sS("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${sS("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new NI(this.comp)),this.scrollFeature=this.createManagedBean(new BSe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=mq()?16:0,i=`calc(100% + ${n+r}px)`;tu(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=Bh(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),o=Bh(i,"ag-root",t);Bh(r,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(d1e,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(u1e,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?c1e:null,n=es(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&xq(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&fg(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const u of[t,n,r,i])this.addManagedElementListeners(u,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const u of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(u).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&Ay(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=i-s,a=n?o+n:0,l=r?o+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=r+s;n.setStickyBottomBottom(`${o}px`)}},BK=class extends ir{constructor(e,t){super(),this.direction=t,this.eViewport=Pt,this.eContainer=Pt,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",pq()||Lh())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=mq(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),tu(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;kCe(()=>ql(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},f1e={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},p1e=class extends BK{constructor(){super(f1e,"horizontal"),this.eLeftSpacer=Pt,this.eRightSpacer=Pt,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new LI(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),Bl(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),Bl(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Av(this.getGui(),s),Av(this.eViewport,s),Av(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return YS(this.eViewport,this.enableRtl)}setScrollPosition(e){ql(this.eViewport)||this.attemptSettingScrollPosition(e),XS(this.eViewport,e,this.enableRtl)}},g1e={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},m1e=class extends BK{constructor(){super(g1e,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new MK(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),Bl(this.getGui(),i),Bl(this.eViewport,i),Bl(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!ql(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Tl(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function VI(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=r.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=v1e(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function v1e(e,t){let r=e.colModel.isPivotMode()?w1e(e):HK(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>r&&o.isAutoHeaderHeight()&&(r=a)}return r}function HI(e){let n=e.colModel.isPivotMode()?y1e(e):Jw(e);return e.colModel.forAllCols(r=>{const i=r.getAutoHeaderHeight();i!=null&&i>n&&r.isAutoHeaderHeight()&&(n=i)}),n}function Jw(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function VK(e){return e.gos.get("floatingFiltersHeight")??Jw(e)}function HK(e){return e.gos.get("groupHeaderHeight")??Jw(e)}function y1e(e){return e.gos.get("pivotHeaderHeight")??Jw(e)}function w1e(e){return e.gos.get("pivotGroupHeaderHeight")??HK(e)}var C1e=class extends $e{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=r;i&&this.createManagedBean(new Cm(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>tu(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=VI(e).reduce((s,o)=>s+o,0),r=HI(e);if(e.filterManager?.hasFloatingFilters()&&(t+=VK(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||Yg(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case Ve.LEFT:t="LEFT";case Ve.RIGHT:{gt(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Ve.UP:t="UP";case Ve.DOWN:{gt(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(Dr(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},GI=class extends $e{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?zn(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=gt(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!es(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const o=r.bodyWidth;return s+o+t}return s+t}setLeft(e){if(gt(e)&&(this.eCell.style.left=`${e}px`),Kr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&yCe(this.ariaEl,t.length)}}},b1e=0,GK="headerCtrl",UI=class extends $e{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+b1e++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r&&r.suppressHeaderKeyboardEvent;if(!gt(i))return!1;const s=Nt(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return Dr(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=h=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:p,paddingBottom:g,borderBottomWidth:v,borderTopWidth:y}=Mf(this.eGui),C=p+g+v+y,E=t.offsetHeight+C;if(h<5){const x=Pi(i),k=!x||!x.contains(t),D=E==0;if(k||D){ND(()=>s(h+1),"raf",i);return}}this.setColHeaderHeight(this.column,E)};let o=!1,a;const l=()=>{const h=this.column.isAutoHeaderHeight();h&&!o&&c(),!h&&o&&u()},c=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=eu(this.beans,t,()=>s(0))},u=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>u()),r.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(bK(e,t,n.visibleCols),hq(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Uh(this.beans);this.eGui&&Eo(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Dr(this.beans),n=e.key===Ve.LEFT||e.key===Ve.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===Ve.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===Ve.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Ve.PAGE_DOWN:case Ve.PAGE_UP:case Ve.PAGE_HOME:case Ve.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=GK,{eGui:n,gos:r}=this;uf(r,n,t,this),e.addDestroyFunc(()=>uf(r,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},x1e=class extends UI{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:c,colHover:u,rangeSvc:h}=a,p=Yw(this,c,i);this.setGui(t,p),this.updateState(),this.setupWidth(p),this.setupMovingCss(p),this.setupMenuClass(p),this.setupSortableClass(p),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:v=>this.setRefreshFunction("measuring",v),compBean:p}),this.addColumnHoverListener(p),this.setupFilterClass(p),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(p),this.setupSelectAll(p),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=p.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):Er(n,!1),u?.createHoverFeature(p,[o],t),h?.createRangeHighlightFeature(p,o,e),p.createManagedBean(new GI(o,t,a)),p.createManagedBean(new Cm(t,{shouldStopEventPropagation:v=>this.shouldStopEventPropagation(v),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(p),p.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),p.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),p.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const g=()=>this.checkDisplayName();p.addManagedEventListeners({columnValueChanged:g,columnRowGroupChanged:g,columnPivotChanged:g,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),p.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Nt(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Zbe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return Nt(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||To(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Ve.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===Ve.ENTER&&this.onEnterKeyDown(e),e.key===Ve.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();w6(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),qxe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=CK(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.toggleCss(i,!0)}),r.forEach(i=>this.comp.toggleCss(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=VI(this.beans),s=i.reduce((p,g)=>p+=g,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=HI(r);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,u=i.length-c;let h=0;for(let p=0;p<u;p++)h+=i[i.length-1-p];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${l+h}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(aCe(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!To(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Dr(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return w6(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function w6(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var S1e=0,mA=class extends $e{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=S1e++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=es(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Yw(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=es(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=VI(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=HI(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=VK(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.ctrlsById.set(r,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new x1e(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},E1e=class extends $e{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const h=r.headerGroupRowCount;i=h;const p=this.groupsRowCtrls.length;if(p!==h){if(p>h){for(let g=h;g<p;g++)this.destroyBean(this.groupsRowCtrls[g]);this.groupsRowCtrls.length=h;return}for(let g=p;g<h;g++){const v=this.createBean(new mA(g,this.pinned,"group"));this.groupsRowCtrls.push(v)}}},a=()=>{const h=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new mA(h,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==h&&this.columnsRowCtrl.setRowIndex(h)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const h=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){h();return}e||h();const p=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==p&&this.filtersRowCtrl.setRowIndex(p):this.filtersRowCtrl=this.createBean(new mA(p,this.pinned,"filter"))},c=this.getAllCtrls();o(),a(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,s),c.length!==u.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(r=>r.column===e);if(vd(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new LI(e=>this.comp.setCenterWidth(`${e}px`),!0))}},T1e=class extends $e{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(b6(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){b6(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(To(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&vd(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Lh()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!To(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!To(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return To(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,r)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,r)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),tu(a,()=>{const c=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);c&&e?.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(r),n,s,r)})}}};function C6(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function b6(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&To(r)?t:n}var zI=class extends ir{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},$E=class extends zI{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},UK=class extends ir{constructor(){super()}},R1e={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},_1e=class extends UK{init(){const e=Ic(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??R1e),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},A1e={tag:"span",cls:"ag-overlay-no-rows-center"},k1e=class extends UK{init(){const e=Ic(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??A1e),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function D1e(e,t,n){const r=da(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const i=Yr({tag:"span"});return i.appendChild(r),i}function da(e,t,n){let r=null;e==="smallDown"?at(262):e==="smallLeft"?at(263):e==="smallRight"&&at(264);const i=n&&n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const s=t.gos.get("icons");s&&(r=s[e])}if(r){let s;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else{at(38,{iconName:e});return}if(typeof s=="string")return xI(s);if(EI(s))return s;at(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),Yr({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var P1e=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",F1e={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},I1e=class extends ir{constructor(){super(),this.dragSource=null,this.eIcon=Pt,this.eLabel=Pt,this.eGhost=Pt,this.registerCSS(P1e)}postConstruct(){const e=t=>D1e(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(F1e),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:r,dropIconMap:i,gos:s}=this;Io(n);let o=null;e||(e=r?.getDefaultIconName?r.getDefaultIconName():"notAllowed"),o=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===i.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},M1e=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",O1e=class extends ir{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(M1e)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Io(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Er(t,!1),lf(t,"presentation")):(Er(t,!0),lf(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(QS(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return xy(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},zK=class extends O1e{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||lCe(e)!==null?by(e,""):by(e,t??"")}setAriaLabel(e){return Wg(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Bl(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function N1e(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var _h=class extends zK{constructor(e,t,n="text",r="input"){super(e,e?.template??N1e(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Pt,this.eWrapper=Pt,this.eInput=Pt}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Eo(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return QS(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Eo(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Wg(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return xy(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Eo(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Eo(this.eInput,"autocomplete",t)}return this}},jI=class extends _h{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},WI={selector:"AG-CHECKBOX",component:jI},L1e=".ag-checkbox-cell{height:100%}",B1e={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},V1e=class extends ir{constructor(){super(B1e,[WI]),this.eCheckbox=Pt,this.registerCSS(L1e)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),cq(r,"polite"),this.addManagedListeners(r,{click:i=>{if(df(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{df(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===Ve.SPACE&&!t.isDisabled()){e.eGridCell===Dr(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const h=i.getColId();h.startsWith(zE)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[h]!==void 0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!i?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),c=UE(l,t),u=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(u)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0});const s=r.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},x6=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),ba(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=U1e(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;const s=Oq(n);s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(r=>e(r)?n.delete(r):n.add(r)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function jK(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?jK(t):!1}function vA(e,t){const{gos:n,rowModel:r,filterManager:i}=e;return Of(n)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!jK(t):n.get("pivotMode")?!t.group:!1}function H1e(e){return!!e.footer&&e.level===-1}function G1e(e){return!!e.pinnedSibling&&H1e(e.pinnedSibling)}function U1e(e){const t=e.findIndex(G1e);if(t>-1)return e.splice(t,1)?.[0]}var S6=class extends $e{postConstruct(){const{gos:e,beans:t}=this;this.top=new x6(t,"top"),this.bottom=new x6(t,"bottom");const n=i=>vA(t,i.pinnedSibling),r=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),i||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(j1e),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,$1e(this.beans);return}const r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&W1e(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;yA(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=E6(this.beans,e,t),a=this.getContainer(t);a.add(o),vA(this.beans,e)&&a.hide(l=>vA(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=gd(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return T6(this.top)}getPinnedBottomTotalHeight(){return T6(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const i=this.beans.rowModel.getRowNode(r);i?this.pinRow(i,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const i=this.beans.rowModel.getRowNode(r);i&&n.add(i)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!li(e))return;const i=r.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),yA(s)),!o||o.floating!==n){const a=E6(t,i,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),yA(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>z1e(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function z1e(e,t){let n=0;t.forEach((r,i)=>{r.setRowTop(n),(r.rowHeightEstimated||r.rowHeight==null)&&r.setRowHeight(gd(e,r).height),r.setRowIndex(i),n+=r.rowHeight})}function E6(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=mSe(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const i=n==="top"?FI:II;return r.id=`${i}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function yA(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function j1e(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function W1e(e,t,n){const{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function T6(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function $1e({gos:e,rowModel:t}){li(e)&&t.refreshModel({step:"map"})}var R6=class extends $e{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};U0(this.pinnedBottomRows,t),U0(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=gd(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return U0(this.pinnedBottomRows,n),t=0,U0(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=$g(this.gos),i=t==="top"?FI:II,s=new Set(n.order),o=[],a=new Set;let l=0,c=-1;for(const u of e){const h=r?.({data:u,level:0,rowPinned:t})??i+this.nextId++;if(a.has(h)){at(96,{id:h,data:u});continue}c++,a.add(h),o.push(h);const p=Dv(n,h);if(p!==void 0)p.data!==u&&p.updateData(u),l+=this.setRowTopAndRowIndex(p,l,c),s.delete(h);else{const g=new pf(this.beans);g.id=h,g.data=u,g.rowPinned=t,l+=this.setRowTopAndRowIndex(g,l,c),n.cache[h]=g,n.order.push(h)}}s.forEach(u=>{Dv(n,u)?.clearRowTopAndRowIndex(),delete n.cache[u]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(gd(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return _6(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return _6(this.pinnedBottomRows)}getPinnedTopRowCount(){return ZD(this.pinnedTopRows)}getPinnedBottomRowCount(){return ZD(this.pinnedBottomRows)}getPinnedTopRow(e){return QD(this.pinnedTopRows,e)}getPinnedBottomRow(e){return QD(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Dv(this.getCache(t),e)}forEachPinnedRow(e,t){return U0(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function _6(e){const t=ZD(e);if(t===0)return 0;const n=QD(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Dv(e,t){return e.cache[t]}function QD(e,t){return Dv(e,e.order[t])}function U0(e,t){e.order.forEach((n,r)=>{const i=Dv(e,n);i&&t(i,r)})}function ZD(e){return e.order.length}var q1e=class extends $e{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=Oq(e),s=!!n||(r==="pinnedBottom"||r==="pinnedTop"),o=s?this.inner instanceof R6:this.inner instanceof S6;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new S6:new R6))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},K1e="ROOT_NODE_ID",Y1e=class extends $e{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=K1e,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=$g(this.gos),r=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let c=!1,u=!1,h=!1,p=!1;for(let v=0,y=-1,C=t.length;v<C;v++){const b=t[v];let E=this.getRowNode(n({data:b,level:0}));if(!E)c=!0,E=this.createRowNode(b,-1),i.add(E);else{if(r){const x=E.sourceRowIndex;p||(p=x<=y||c),y=x}E.data!==b&&(h=!0,E.updateData(b),i.update(E))}s.add(E)}const g=[];for(let v=0;v<l;v++){const y=a[v];s.has(y)||(u=!0,y.isSelected()&&g.push(y),y.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(y.pinnedSibling,null),this.rowNodeDeleted(y),i.remove(y))}if(c||u||p){const v=new Array(s.size);let y=0;if(!r)for(let b=0;b<l;++b){const E=a[b];s.delete(E)&&(E.sourceRowIndex=y,v[y++]=E)}for(const b of s)b.sourceRowIndex=y,v[y++]=b;o.allLeafChildren=v;const C=o.sibling;C&&(C.allLeafChildren=v),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=p)}(c||u||p||h)&&(this.deselectNodes(g),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[],i=$g(this.gos);return this.executeRemove(i,e,n,r),this.executeUpdate(i,e,n,r),this.executeAdd(e,n),this.deselectNodes(r),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let r=this.rootNode.allLeafChildren,i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let h=0;h<r.length;h++)if(r[h]?.rowIndex==i-1){i=h+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let u=0;u<s;u++){const h=this.createRowNode(n[u],i+u);o.add(h),a[u]=h}const l=this.rootNode;if(i<r.length){const u=r.slice(0,i),h=r.slice(i,r.length),p=u.length+a.length;for(let g=0,v=h.length;g<v;++g)h[g].sourceRowIndex=p+g;r=[...u,...a,...h],t.rowsInserted=!0}else r=r.concat(a);l.allLeafChildren=r;const c=l.sibling;c&&(c.allLeafChildren=r),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(c=>{const u=this.lookupRowNode(e,c);u&&(u.isSelected()&&i.push(u),u.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(u.pinnedSibling,null),u.clearRowTopAndRowIndex(),o[u.id]=!0,delete this.allNodesMap[u.id],r.remove.push(u),n.remove(u))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!o[c.id])??null,a.allLeafChildren?.forEach((c,u)=>{c.sourceRowIndex=u});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&i.push(a),r.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,r=e.length>0;r&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),r&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new pf(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&at(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const r=e({data:t,level:0});if(n=this.allNodesMap[r],!n)return jn(4,{id:r}),null}else if(n=this.rootNode?.allLeafChildren?.find(r=>r.data===t),!n)return jn(5,{data:t}),null;return n||null}},X1e={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Q1e=class extends ir{constructor(){super(X1e,[WI]),this.eCheckbox=Pt}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=UE(e,r),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(r,!0),n.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:df,click:r=>{df(r),this.beans.selectionSvc?.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?aA(r):void 0,o=typeof i=="object"?aA(i):void 0;s!==o&&this.onSelectableChanged()}),HD(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const h=n?.callbackParams;if(!e)o=s({...h,node:t,data:t.data});else{const p=e.createColumnFunctionCallbackParams(t);o=s({...h,...p})}}else o=s??!1;const a=i&&!o||!i&&o,l=i||o,c=r.get("rowSelection"),u=c&&typeof c!="string"?!aA(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?u:!0)),this.setDisplayed(l&&(a?u:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?pg(t):this.column?.getColDef()?.checkboxSelection}},Z1e=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r?.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return na(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=na(n,"bottom",void 0,e),s=r.getRowCount(),o=r.getRow(s-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return na(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=na(n,"top",t,void 0),s=na(n,"bottom",void 0,e),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return na(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=na(n,"top",e,void 0),s=na(n,"bottom",void 0,t),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return na(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=na(n,"bottom",void 0,t),s=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},J1e=class extends $e{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Dr(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new jI);this.cbSelectAll=t,t.addCss("ag-header-select-all"),lf(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(r)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue(),o=UE(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${a} (${o})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return t1(this.gos)?!0:(at(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return li(t)||Of(t)?!0:(at(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return WK(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=Vq(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function WK({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;if(typeof r=="object"){const l=Id(n),c=AI(n);(JS(r)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(o=Qx(r))}else typeof s=="function"?o=s(Nt(e,{column:n,colDef:i})):o=!!s;return o}var eEe=class extends $e{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Z1e(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=HD(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=HD(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Q1e}createSelectAllFeature(e){if(WK(this.beans,e))return new J1e(e)}isMultiSelect(){return t1(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",r);const s=i.element;FD(s,r),s.contains(Dr(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(r,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Qw(e)||!Vh(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Ty(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const i=e.childrenAfterGroup[r];let s=i.isSelected();if(!i.selectable){const o=this.calculateSelectedFromChildren(i);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...pSe(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=Id(e)&&pg(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),a=Ty(i),l=WCe(i),c=$Ce(i),u=this.isMultiSelect(),h=r==="rowClicked";if(h&&!(l||c))return null;if(t&&n&&u){const p=s.getRoot();if(p)if(p.isSelected()){const g=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:g.discard,select:g.keep,reset:!1}}else{const g=s.extend(e,a);return{select:[],deselect:g.keep,reset:!1}}else return null}else if(t&&u){const p=s.selectAll?this.beans.rowModel.getRow(0):void 0,g=s.getRoot(p),v=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:v.keep,deselect:v.discard,reset:s.selectAll||!!(g&&!g.isSelected())}}else if(n){if(h){const p=!o;return p&&!l||!p&&!c?null:(s.setRoot(e),{node:e,newValue:p,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!u}}else{s.setRoot(e);const p=qCe(i),g=n1(i)==="filteredDescendants",v=h&&(!p||!l);if(g&&o===void 0&&li(i))return{node:e,newValue:!1,clearSelection:!u||v};if(h){const y=o?!p:l;return y===o&&!v||y&&!l||!y&&!c?null:{node:e,newValue:y,clearSelection:!u||v,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!u||v}}}},tEe=class extends jI{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Vf=class extends _h{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=gt(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{IK(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const r=n.clipboardData?.getData("text");r&&r.split("").some(i=>!e.test(i))&&n.preventDefault()}})}},qE={selector:"AG-INPUT-TEXT-FIELD",component:Vf},nEe=class extends _h{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},rEe={selector:"AG-INPUT-TEXT-AREA",component:nEe},$I=class extends Vf{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){Dr(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=parseFloat(e).toFixed(n);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Eo(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Eo(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Eo(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(gt(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},iEe={selector:"AG-INPUT-NUMBER-FIELD",component:$I},sEe=class extends Vf{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=If();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Dr(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Do(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Eo(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Do(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Eo(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Eo(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return no(this.getValue())??void 0}setDate(e,t){this.setValue(Do(e??null,this.includeTime),t)}},$K={selector:"AG-INPUT-DATE-FIELD",component:sEe},oEe=class extends ir{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Ve.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case Ve.DOWN:case Ve.UP:e.preventDefault(),this.navigate(t);break;case Ve.PAGE_DOWN:case Ve.PAGE_UP:case Ve.PAGE_HOME:case Ve.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Ve.DOWN;let n;const{itemEls:r,highlightedEl:i}=this;if(!i)n=r[t?0:r.length-1];else{let o=r.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),r.length-1),n=r[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===Ve.PAGE_HOME?a=0:e===Ve.PAGE_END?a=i:e===Ve.PAGE_DOWN?a=Math.min(r+o,i):e===Ve.PAGE_UP&&(a=Math.max(r-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{qc(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();lf(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{pCe(t,n+1),fCe(t,e.length)})}renderOption(e,t){const n=Yr({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),r=Yr({tag:"span",children:t});n.appendChild(r),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!ql(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),FD(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>n+r||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!ql(e)||(e.classList.remove(this.activeClass),FD(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},aEe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",lEe={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},cEe=class extends zK{constructor(e){if(super(e,e?.template||lEe,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Pt,this.eWrapper=Pt,this.eDisplayField=Pt,this.eIcon=Pt,this.registerCSS(aEe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=da(n,this.beans);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),PD(e,!1),this.ariaRole&&lf(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Ve.UP:case Ve.DOWN:case Ve.ENTER:case Ve.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Ve.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:u}=this,h={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const y=Iq(c);this.beforeHidePicker(),y&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:u};e.style.position="absolute";const p=c.popupSvc,g=p.addPopup(h);l?(o&&(e.style.minWidth=o),e.style.width=SI(KS(u)),a&&(e.style.maxWidth=a)):QS(e,a??KS(u));const v=s??`${bI(p.getPopupParent())}px`;return e.style.setProperty("max-height",v),this.alignPickerToComponent(),g.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,o=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();PD(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return QS(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},uEe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",qI=class extends cEe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(uEe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Xx(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new oEe("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),xCe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===Ve.TAB&&this.hidePicker(),t){case Ve.ENTER:case Ve.UP:case Ve.DOWN:case Ve.PAGE_UP:case Ve.PAGE_DOWN:case Ve.PAGE_HOME:case Ve.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Ve.ESCAPE:super.onKeyDown(e);break;case Ve.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},dEe={selector:"AG-SELECT",component:qI},wg={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},qK=class extends $e{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:h,handleKeyDown:p,isEmpty:g,eFocusableElement:v}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=v,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=h,this.providedHandleKeyDown=p,this.providedIsEmpty=g}postConstruct(){this.createManagedBean(new Cm(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():vg(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Pi(this.beans),n=vg(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const o=n.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const u=parseInt(l.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===a?1:u===a?-1:u===0?1:h===0?-1:u-h}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=vg(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Bf(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},hEe=class extends $e{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],s={setTabIndex:C=>{i.forEach(b=>C!=null?b.setAttribute("tabindex",C):b.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:p,isEmpty:g,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:y}=e;this.tabGuardCtrl=this.createManagedBean(new qK({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:p,isEmpty:g,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:y}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Pi(this.beans).createElement("div"),n=e==="top"?wg.TAB_GUARD_TOP:wg.TAB_GUARD_BOTTOM;return t.classList.add(wg.TAB_GUARD,n),lf(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Io(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){EI(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;qc(e),qc(t),super.destroy()}},fEe=class extends ir{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new hEe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},vh=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new af,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",r,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!SK(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},pEe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},KK=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${Eq}/${this.frameworkName}-data-grid`,PCe(this.baseDocLink)}setInterval(e,t){return new bn(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){let i={};if(typeof r=="object"?i=r:typeof r=="boolean"&&(i={capture:r}),i.passive==null){const s=jq(t);s!=null&&(i.passive=s)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function gEe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var mEe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],A6=Object.fromEntries(mEe.map((e,t)=>[e,t]));function vEe(e,t){const n=(e.beanName?A6[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?A6[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function yEe(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var wEe=class extends $e{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),RK(this.gos,t),this.createManagedBean(new NI(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=eu(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){return xK(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,a=zn(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(zn(n),e);const o=zn(s);if(r.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Uh(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(ff(n[o].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!jE(e)||!Uh(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=Dr(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=ff(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Wt=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},k6={dispatchEvent:"CommunityCore",...Wt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Wt("GridState",{getState:0,setState:0}),...Wt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Wt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Wt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Wt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Wt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Wt("ValueCache",{expireValueCache:0}),...Wt("CellApi",{getCellValue:0}),...Wt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Wt("Sort",{onSortChanged:0}),...Wt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Wt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Wt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Wt("HighlightChanges",{flashCells:0}),...Wt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Wt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Wt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Wt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Wt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Wt("ColumnResize",{setColumnWidths:0}),...Wt("ColumnHover",{isColumnHovered:0}),...Wt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Wt("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Wt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Wt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Wt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Wt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Wt("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Wt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Wt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Wt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Wt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Wt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Wt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Wt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Wt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Wt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Wt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Wt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Wt("ContextMenu",{showContextMenu:0}),...Wt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Wt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Wt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Wt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Wt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Wt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Wt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Wt("StatusBar",{getStatusPanel:0})},wA={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},CEe=(e,t)=>e.eventSvc.dispatchEvent(t),YK=class{};Reflect.defineProperty(YK,"name",{value:"GridApi"});var bEe=class extends $e{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new YK,this.fns={...wA,dispatchEvent:CEe},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(k6))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:r}=this;n!==wA&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)at(26,{fnName:e,preDestroyLink:r});else{const i=k6[e];n.assertModuleRegistered(i,`api.${e}`)&&at(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=wA,this.beans=null}};function xEe(e){return e.context.getGridId()}function SEe(e){e.gridDestroySvc.destroy()}function EEe(e){return e.gridDestroySvc.destroyCalled}function TEe(e,t){return e.gos.get(t)}function REe(e,t,n){XK(e,{[t]:n})}function XK(e,t){e.gos.updateGridOptions({options:t})}function _Ee(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var AEe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},kEe=class extends ir{constructor(e,t,n){super(AEe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(da("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),s){const a=Nt(i,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function DEe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function PEe(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function FEe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function IEe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function MEe(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=r?.rowIndex;s==null||i==="none"?n.clear():n.set(r,i)}var OEe=class extends $e{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},NEe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},LEe=class extends ir{constructor(e,t,n,r,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:r}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(NEe),this.getGui().appendChild(da("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=r.get("rowDragManaged")?new VEe(this,t,n):new BEe(this,t,n);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const r=this.getDragItem(),i=r.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},QK=class extends $e{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let r=!t,i=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;i=typeof l=="function",r=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}i?(a.setDisplayed(!0,n),a.setVisible(r&&!t,n)):(a.setDisplayed(r,n),a.setVisible(!t,n))}}},BEe=class extends QK{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},VEe=class extends QK{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,r=e.rowDragFeature,i=r&&r.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=i&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},Dy=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const o=r[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},HEe=class extends $e{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;li(t)&&(this.clientSideRowModel=e),n.whenReady(this,r=>{const i=r.gridBodyCtrl;let s=0;const o=()=>i.scrollFeature.getVScrollPosition().top;this.autoScrollService=new pEe({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>i.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:r}=this.beans,i=this.isFromThisGrid(e);if(!(r.get("rowDragManaged")&&this.shouldPreventRowMove()))if(r.get("suppressMoveWhenRowDragging")||!i){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(zn(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:r}=e.dragItem,s=r?.length&&(n??r[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,c=l.rootNode,u=d6(o,e).y;let h=l.getRowIndexAtPixel(u),p=l.getRow(h)??null;const g=s!==p;let v=p?(u-p.rowTop-p.rowHeight/2)/p.rowHeight||0:1;const y=this.isFromThisGrid(e),b=Hq(a)!=="group"&&y;let E=null;if(b&&p?.footer){E=p.sibling??c;const B=Pv(l,-1,p)??Pv(l,1,p);v=B&&B.rowIndex>p.rowIndex?-.5:.5,p=B??null}let x=v<0,k=!1;if(y&&p){if(g){if(k=r.indexOf(p)>=0,k){const B=GEe(l,h<s.rowIndex,r);B?.parent===p.parent&&(p=B,h=p.rowIndex)}}else{if(Math.abs(v)<=.5)return this.makeGroupThrottleClear(),null;k=!0}(k||!b&&Math.abs(h-s.rowIndex)===1)&&(x=h<s.rowIndex)}const D=this.makeGroupThrottleTarget;D!==null&&D!==p&&this.makeGroupThrottleClear(),p?.expanded&&p.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=p),E===null&&b&&(!p||v>=.5&&p.rowIndex===o.pageBounds.getLastRow()?E=c:this.targetShouldBeParent(p,v,k,r)&&(this.makeGroupThrottled&&(E=p),t&&(E===null||!p.expanded)&&(this.makeGroupThrottleTarget=p,this.makeGroupThrottleStart())),E??(E=p?.parent??c));let R=!1;if(E!==null){if(E===p&&E!==c){R=!0;const B=E.expanded?Pv(l,1,p):null;B?.parent===E&&(p=B,R=!1,x=!0)}if(p&&!R){let B=p;for(;B&&B!==c&&B!==E;)p=B,B=B.parent}zEe(r,E)&&(E=null)}if(!E&&k&&(b||s===p))return null;const _=R?"inside":x?"above":"below",I={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:y,position:_,source:s,target:p,newParent:E,rows:r};let F=!1;const N=a.get("isRowValidDropPosition");if(N){const B=N(I);B?typeof B=="object"&&(B.rows!==void 0&&(I.rows=B.rows??r1),B.newParent!==void 0&&(I.newParent=B.newParent),B.target!==void 0&&(I.target=B.target),B.position&&(F=!0,I.position=B.position)):I.rows=r1}return(!I.newParent||!I.rows.length)&&!F&&(I.position=x?"above":"below"),I}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,r){const i=e?.rowIndex;if(n||i===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=i+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const c=e.childrenAfterGroup;if(o&&o.parent===e&&c?.length){const u=new Set(r);for(const h of c)if(h.rowIndex!==null&&!u.has(h))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){at(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){at(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(n.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(n.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(n.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(n.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{r(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:r,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:r,rowModel:i,gos:s}=n,o=d6(this.beans,t).y,a=o>r.getCurrentPagePixelRange().pageLastPixel;let l=-1,c;return a||(l=i.getRowIndexAtPixel(o),c=i.getRow(l)),Nt(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const r=this.managedRowsDrop(e,!1);r&&this.dropRows(r),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const r=$g(this.gos),i=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!i.getRowNode(r?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?D6(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Dy(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:r}){let i=!1;const s=this.clientSideRowModel,o=new Set;for(const u of n){if(u.footer||u.rowTop===null&&u!==s.getRowNode(u.id))continue;if(r&&u.parent!==r){if(UEe(u,r))continue;u.treeParent=r,i=!0}const h=ZK(u);h&&o.add(h)}if(!i&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&hv(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(i=!0),i?(this.refreshModelAfterDrop(),c?c.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const r=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let i=D6(t);i<0||i>=r?i=r:n||++i;let s=i,o=Math.min(i,r-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,i,o]}reorderLeafChildren(e,t,n,r){let i=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const c=s[l];e.has(c)||(c.sourceRowIndex!==o&&(c.sourceRowIndex=o,s[o]=c,i=!0),++o)}let a=r;for(let l=r;l>=n;--l){const c=s[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,s[a]=c,i=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,i=!0),++o;return i}},GEe=(e,t,n)=>t?Pv(e,-1,n[0]):Pv(e,1,zn(n)),Pv=(e,t,n)=>{if(n){const r=e.getRowCount();let i=n.rowIndex+t;for(;i>=0&&i<r;){const s=e.getRow(i);if(!s||!s.footer)return s;i+=t}}},UEe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},zEe=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},D6=e=>{const t=ZK(e);return t!==void 0?t.sourceRowIndex:-1},ZK=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},jEe=class extends $e{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new HEe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,s){return new LEe(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(md(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!li(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}},WEe=class extends $e{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,i=t!==this.position,s=r!==this.uiLevel;(n||i||s)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},JK={moduleName:"Drag",version:Ct,beans:[hSe]},$Ee={moduleName:"DragAndDrop",version:Ct,dynamicBeans:{dndSourceComp:kEe},icons:{rowDrag:"grip"}},eY={moduleName:"SharedDragAndDrop",version:Ct,beans:[dSe],dependsOn:[JK],userComponents:{agDragAndDropImage:I1e},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},qEe={moduleName:"RowDrag",version:Ct,beans:[WEe,jEe],apiFunctions:{addRowDropZone:DEe,removeRowDropZone:PEe,getRowDropZoneParams:FEe,getRowDropPositionIndicator:IEe,setRowDropPositionIndicator:MEe},dependsOn:[eY]},KEe={moduleName:"HorizontalResize",version:Ct,beans:[OEe],dependsOn:[JK]},YEe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",XEe=class extends $e{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function QEe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function ZEe(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var JEe=class extends $e{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function eTe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),o=e.indexOf(i);return s-o})}function tTe(e){const t=[...e];return e.forEach(n=>{let r=null,i=n.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)r=i,i=i.getParent();r!=null&&(!!r.getColGroupDef()?.marryChildren?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function nTe(e,t,n,r){const i=r.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],c=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(c))continue;const u=c.filter(p=>i.includes(p));if(o===null)o=u;else if(!Lf(u,o))break;const h=iTe(c);(s===null||h<s.fragCount)&&(s={move:l,fragCount:h})}return s}function tY(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:u}=e;let{allMovingColumns:h}=e;t&&(h=tTe(h));const p=h.slice();eTe(l.getCols(),p);const g=oTe({movingCols:p,draggingRight:n,xPosition:r,pinned:o,gos:a,colModel:l,visibleCols:u}),v=rTe(p,l);if(g.length===0)return;const y=g[0];if(v!==null&&(t||!i)&&!s&&(!n&&y>=v||n&&y<=v))return;const b=nTe(g,p,c,u);if(!b)return;const E=b.move;if(!(E>l.getCols().length-p.length))return{columns:p,toIndex:E}}function nY(e){const{columns:t,toIndex:n}=tY(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function rTe(e,t){const n=t.getCols(),r=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),i=r[0];return zn(r)-i!==r.length-1?null:i}function iTe(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function sTe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function oTe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(x=>x.getColDef().suppressMovable))return[];const c=sTe(a,i),u=o.getCols(),h=c.filter(x=>t.includes(x)),p=c.filter(x=>!t.includes(x)),g=u.filter(x=>!t.includes(x));let v=0,y=r;if(n){let x=0;h.forEach(k=>x+=k.getActualWidth()),y-=x}if(y>0){for(let x=0;x<p.length;x++){const k=p[x];if(y-=k.getActualWidth(),y<0)break;v++}n&&v++}let C;if(v>0){const x=p[v-1];C=g.indexOf(x)+1}else C=g.indexOf(p[0]),C===-1&&(C=0);const b=[C],E=(x,k)=>x-k;if(n){let x=C+1;const k=u.length-1;for(;x<=k;)b.push(x),x++;b.sort(E)}else{let x=C;const k=u.length-1;let D=u[x];for(;x<=k&&c.indexOf(D)<0;)x++,b.push(x),D=u[x];x=C-1;const R=0;for(;x>=R;)b.push(x),x--;b.sort(E).reverse()}return b}function JD(e){const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function CA(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var P6=7,eP=100,tx=eP/2,aTe=5,lTe=100,cTe=class extends $e{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!gt(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(const i of r){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(o=>i[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&pr(e.hDirection))return;const a=JD({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,r):this.handleColumnDragWhileAllowingMovement(e,t,n,a,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const r=e.filter(i=>!i.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),c=nY({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:u}}highlightHoveredColumn(e,t){const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(u=>u.isVisible()&&u.getPinned()===this.pinned);let o=null,a=null,l=null;for(const u of s){if(a=u.getActualWidth(),o=this.getNormalisedColumnLeft(u,0,i),o!=null){const h=o+a;if(o<=t&&h>=t){l=u;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let u=s.length-1;u>=0;u--){const h=s[u],p=s[u].getParent();if(!p){l=h;break}const g=p?.getDisplayedLeafColumns();if(g.length){l=zn(g);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==i?c=0:c=1,F6(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const l=r.allCols,c=l.indexOf(s),u=l.indexOf(o),h=a===0!==i,p=c<u||c===u&&!h;let g=0;if(h?p&&(g-=1):p||(g+=1),u+g===c)return;const v=l[u+g];if(!v)return;const y=this.getNormalisedColumnLeft(v,20,i);return{fromLeft:p,xPosition:y}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=uTe(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return JD({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>P6;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=tY(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(F6(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+tx,s=e>r-tx):(s=e<n+tx,i=e>r-tx),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),lTe),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*aTe,e>eP&&(e=eP);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:i,gos:s}=this.beans;if(this.failedMoveAttempts<=P6+1||!r)return;if(i.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i?.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function F6(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function uTe(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var dTe=class extends $e{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new cTe(n)),this.bodyDropPivotTarget=this.createManagedBean(new JEe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},hTe=class extends $e{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){at(30,{toIndex:t});return}s?.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(i6(i.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:r,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!Jq(e,t.getColTree())||!(i=>{const s=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return i.forEach(c=>{const u=s(c.getColDef().lockPosition);o?u>a&&(l=!1):u<a&&(l=!1),a=u}),l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return i6(r,e,t),r}createBodyDropTarget(e,t){return new dTe(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,u=t.getBoundingClientRect(),h=u.left,p=Kr(n),g=p?u.width:n.getActualWidth(),v=e==="left"!==o.get("enableRtl"),y=JD({x:v?h-20:h+g+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:s}),C=c.focusedHeader;nY({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:y,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let b;if(p){const E=n.getDisplayedLeafColumns();b=v?E[0]:zn(E)}else b=n;if(s.getScrollFeature().ensureColumnVisible(b,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&C){let E;if(p){const x=n.getGroupId(),k=n.getLeafColumns();if(!k.length)return;const D=k[0].getParent();if(!D)return;E=fTe(D,x)}else E=n;E&&c.focusHeaderPosition({headerPosition:{...C,column:E}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let a=!r.get("suppressDragLeaveHidesColumns");const l=Kr(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],h={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>gTe(t,o.allCols):()=>pTe(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),CA(c,!0)},onDragStopped:()=>CA(c,!1),onDragCancelled:()=>CA(c,!1),onGridEnter:p=>{if(a){const{columns:g=[],visibleState:v}=p??{},y=l?b=>!v||v[b.getColId()]:()=>!0,C=g.filter(b=>!b.getColDef().lockVisible&&y(b));i.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:p=>{if(a){const g=p?.columns?.filter(v=>!v.getColDef().lockVisible)||[];i.setColsVisible(g,!1,"uiColumnMoved")}}};return s.addDragSource(h,!0),h}};function fTe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function pTe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function gTe(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(a=>r[a.getId()]=a.isVisible());const i=[];t.forEach(a=>{n.indexOf(a)>=0&&(i.push(a),ba(n,a))}),n.forEach(a=>i.push(a));const s=[],o=e.getLeafColumns();for(const a of i)o.indexOf(a)!==-1&&s.push(a);return{columns:i,columnsInSplit:s,visibleState:r,containerType:s[0]?.pinned}}var mTe={moduleName:"ColumnMove",version:Ct,beans:[hTe,XEe],apiFunctions:{moveColumnByIndex:QEe,moveColumns:ZEe},dependsOn:[eY],css:[YEe]},vTe=class extends $e{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),r.appendChild(n);const i=n.offsetWidth;return r.removeChild(n),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}},rY={moduleName:"AutoWidth",version:Ct,beans:[vTe]};function yTe(e,t,n=!0,r="api"){e.colResize?.setColumnWidths(t,!1,n,r)}var wTe=class extends $e{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=l=>l.reduce((c,u)=>c+u.getActualWidth(),0),n=(l,c)=>l.map(u=>u.getActualWidth()/c),r=this.getColumnsToResize(),i=t(r),s=n(r,i),o={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),c=o.groupAfterColumns=l.filter(h=>h.isResizable()),u=o.groupAfterStartWidth=t(c);o.groupAfterRatios=n(c,u)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:i,ratios:o,width:t}),a){const h=t-s;u.push({columns:a,ratios:c,width:l-h})}this.beans.colResize?.resizeColumnSets({resizeSets:u,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},CTe=class extends $e{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(Er(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),a=i+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:u,colResize:h}=s;if(this.column.getPinned()){const p=c?.leftWidth??0,g=c?.rightWidth??0,v=Sy(u.getGridBodyCtrl().eBodyViewport)-50;if(p+g+(o-r)>v)return}this.lastResizeAmount=o,h?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},bTe=class extends $e{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)return;if(i.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const h=a.getColAfter(c);if(!h)return;const p=c.getActualWidth()-l.newWidth,g=h.getActualWidth()+p;i.push({width:g,ratios:[1],columns:[h]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(u=>xTe(u)))){if(n){const u=t&&t.length>0?t[0].columns:null;qg(this.eventSvc,u,n,r)}return}const s=[],o=[];t.forEach(u=>{const{width:h,columns:p,ratios:g}=u,v={},y={};p.forEach(E=>o.push(E));let C=!0,b=0;for(;C;){if(b++,b>1e3){jn(31);break}C=!1;const E=[];let x=0,k=h;p.forEach((R,_)=>{if(y[R.getId()])k-=v[R.getId()];else{E.push(R);const F=g[_];x+=F}});const D=1/x;E.forEach((R,_)=>{const I=_===E.length-1;let F;I?F=k:(F=Math.round(g[_]*h*D),k-=F);const N=R.getMinWidth(),B=R.getMaxWidth();F<N?(F=N,y[R.getId()]=!0,C=!0):B>0&&F>B&&(F=B,y[R.getId()]=!0,C=!0),v[R.getId()]=F})}p.forEach(E=>{const x=v[E.getId()];E.getActualWidth()!==x&&(E.setActualWidth(x,r),s.push(E))})});const a=s.length>0;let l=[];if(a){const{colFlex:u,visibleCols:h,colViewport:p}=this.beans;l=u?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],h.setLeftValues(r),h.updateBodyWidths(),p.checkViewportColumns()}const c=o.concat(l);(a||n)&&qg(this.eventSvc,c,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new CTe(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new wTe(e,t,n,r)}};function xTe(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;t.forEach(l=>{const c=l.getMinWidth();r+=c||0;const u=l.getMaxWidth();u>0?i+=u:s=!1});const o=n>=r,a=!s||n<=i;return o&&a}var STe={moduleName:"ColumnResize",version:Ct,beans:[bTe],apiFunctions:{setColumnWidths:yTe},dependsOn:[KEe,rY]},ETe=class extends $e{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},TTe=class extends UI{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,r,i){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:u,colResize:h}=o;this.comp=e,i=Yw(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const p=this.rowCtrl.pinned,g=s.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(i,g,t),u?.createRangeHighlightFeature(i,s,e),i.createManagedBean(new GI(s,t,o)),i.createManagedBean(new ETe(e,s)),h?this.resizeFeature=i.createManagedBean(h.createGroupResizeFeature(e,n,p,s)):e.setResizableDisplayed(!1),i.createManagedBean(new Cm(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,g),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Nt(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=zn(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=i===1,u=i===0;n&&(l?a=c:o=u),r&&(l?o=u:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),o=Nt(n,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>r?.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>r?.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),a=exe(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=CK(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(r=>this.comp.toggleCss(r,!0))}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Ve.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function RTe(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function _Te(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function ATe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function kTe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function DTe(e){return e.colGroupSvc?.getColumnGroupState()??[]}function PTe(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function FTe(e){e.colGroupSvc?.resetColumnGroupState("api")}function ITe(e){return e.visibleCols.treeLeft}function MTe(e){return e.visibleCols.treeCenter}function OTe(e){return e.visibleCols.treeRight}function NTe(e){return e.visibleCols.getAllTrees()}function LTe(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var BTe=class extends $e{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=bA(this.treeLeft),this.centerCols=bA(this.treeCenter),this.rightCols=bA(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=bc(this.centerCols),t=bc(this.leftCols),n=bc(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?zn(n):null):(i=t?zn(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===i,r),o.setFirstRightPinned(o===s,r)})}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new iK,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:r,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return Kr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Kr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(i){let o=bc(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}LTe(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const p=c-1;for(let g=1;g<=p;g++)u.push(t[o+g]);o+=p}let h;n?(h=!1,u.forEach(p=>{n(p)&&(h=!0)})):h=!0,h&&(i.length===0&&s&&(r&&r(a))&&i.push(s),i.push(a)),s=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};zh(this.treeCenter,!1,e),zh(this.treeLeft,!1,e),zh(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?zn(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return bc(this.leftCols)}getDisplayedColumnsRightWidth(){return bc(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(Kr(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:zn(s)}else i=e;return(r?n[0]:zn(n))===i}};function zh(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(Kr(i)){const s=t?i.getDisplayedChildren():i.getChildren();zh(s,t,n)}n(i)}}function bA(e){const t=[];return zh(e,!0,n=>{vd(n)&&t.push(n)}),t}var VTe=class extends $e{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Oc(null,t,n=>{ls(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Oc(null,t,r=>{if(ls(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r?.start();const a=[];e.forEach(l=>{const c=l.groupId,u=l.open,h=this.getProvidedColGroup(c);h&&h.isExpanded()!==u&&(h.setExpanded(u),a.push(h))}),i.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),r?.finish()}setColumnGroupOpened(e,t,n){let r;ls(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return Oc(null,this.beans.colModel.getColTree(),n=>{ls(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?zn(r):r[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();zh(e,!1,t=>{Kr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Kr(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return zh(n,!1,s=>{if(Kr(s)){const o=s;let a;r?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let u=0;const h=p=>{const g=u;u=p;const v=c[g],C=(Kr(v)?v.getProvidedColumnGroup():v).getOriginalParent();if(C==null){for(let E=g;E<p;E++)a.push(c[E]);return}const b=this.createColumnGroup(C,n,o,r,s);for(let E=g;E<p;E++)b.addChild(c[E]);l.push(b)};for(let p=1;p<c.length;p++){const g=c[p],y=(Kr(g)?g.getProvidedColumnGroup():g).getOriginalParent(),C=c[u],E=(Kr(C)?C.getProvidedColumnGroup():C).getOriginalParent();y!==E&&h(p)}u<c.length&&h(c.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,r,i,s,o){const a=i.getUniqueKey(t.groupId||null,null),l=r6(this.beans,t,a),c=new eS(l,a,!1,n);this.createBean(c);const u=this.findExistingGroup(t,s);u&&s.splice(u.idx,1);const h=u?.group;h&&c.setExpanded(h.isExpanded());const p=Xq(this.beans,l.children,n+1,e,r,i,s,o);return c.setChildren(p),c}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(ls(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let c=t;c<n;c++){const u=r.getUniqueKey(null,null),h=r6(this.beans,null,u),p=new eS(h,u,!0,c);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(i.push(a),e.some(u=>ls(u))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&ls(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(ls(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(r=>{let i=r;for(let s=t-1;s>=0;s--){const o=new eS(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(r.originalParent=null),n.push(i)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=AK(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),gt(l)?l.reset():(l=new ky(e,s,o,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(Kr(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Kr(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}},HTe={moduleName:"ColumnGroup",version:Ct,dynamicBeans:{headerGroupCellCtrl:TTe},beans:[VTe],apiFunctions:{getAllDisplayedColumnGroups:NTe,getCenterDisplayedColumnGroups:MTe,getColumnGroup:_Te,getColumnGroupState:DTe,getDisplayNameForColumnGroup:kTe,getLeftDisplayedColumnGroups:ITe,getProvidedColumnGroup:ATe,getRightDisplayedColumnGroups:OTe,resetColumnGroupState:FTe,setColumnGroupOpened:RTe,setColumnGroupState:PTe}},GTe={tag:"div",cls:"ag-skeleton-container"},UTe=class extends ir{constructor(){super(GTe)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>by(t.eParentOfValue)),by(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");Wg(this.getGui(),n)}setupLoading(t){const n=Yr({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const o=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${o}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");Wg(this.getGui(),s)}refresh(t){return!1}},zTe={moduleName:"CheckboxCellRenderer",version:Ct,userComponents:{agCheckboxCellRenderer:V1e}},jTe={moduleName:"SkeletonCellRenderer",version:Ct,userComponents:{agSkeletonCellRenderer:UTe}};function WTe(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function $Te(e){return e.colModel.getColumnDefs()}function qTe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function KTe(e,t){return e.colModel.getColDefCol(t)}function YTe(e){return e.colModel.getColDefCols()}function XTe(e,t){return Ga(e,t,"api")}function QTe(e){return o1(e)}function ZTe(e){Rbe(e,"api")}function JTe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function eRe(e){return e.visibleCols.isPinningLeft()}function tRe(e){return e.visibleCols.isPinningRight()}function nRe(e,t){return e.visibleCols.getColAfter(t)}function rRe(e,t){return e.visibleCols.getColBefore(t)}function iRe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function sRe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function oRe(e){return e.colModel.getCols()}function aRe(e){return e.visibleCols.leftCols}function lRe(e){return e.visibleCols.centerCols}function cRe(e){return e.visibleCols.rightCols}function uRe(e){return e.visibleCols.allCols}function dRe(e){return e.colViewport.getViewportColumns()}function tP(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||iq.has(i))return;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=tP(s):r[i]=s}),r}var hRe=class extends $e{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r){const i=e.slice();t?i.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&i.sort((a,l)=>r.indexOf(a)-r.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(i,s,o)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,c=s.getOriginalParent(),u=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=i[c.getGroupId()];if(p){p.children.push(l),a=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[l],i[h.groupId]=h,l=h,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&r.push(l)}),r}createDefFromGroup(e){const t=tP(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=tP(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},fRe=class extends $e{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:r}=this.beans,i=r.centerCols;let s=-1;if(e.resizingCols){const v=new Set(e.resizingCols);for(let y=i.length-1;y>=0;y--)if(v.has(i[y])){s=y;break}}let o=!1;const a=i.map((v,y)=>{const C=v.getFlex(),b=C!=null&&C>0&&y>s;return o||(o=b),{col:v,isFlex:b,flex:Math.max(0,C??0),initialSize:v.getActualWidth(),min:v.getMinWidth(),max:v.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,c=a.reduce((v,y)=>v+y.flex,0),u=n;const h=(v,y)=>{v.frozenSize=y,v.col.setActualWidth(y,t),u-=y,c-=v.flex,l-=1},p=v=>v.frozenSize!=null;for(const v of a)v.isFlex||h(v,v.initialSize);for(;l>0;){const v=Math.round(c<1?u*c:u);let y,C=0,b=0;for(const k of a){if(p(k))continue;y=k,b+=v*(k.flex/c);const D=b-C,R=Math.round(D);k.targetSize=R,C+=R}y&&(y.targetSize+=v-C);let E=0;for(const k of a){if(p(k))continue;const D=k.targetSize,R=Math.min(Math.max(D,k.min),k.max);E+=R-D,k.violationType=R===D?void 0:R<D?"max":"min",k.targetSize=R}const x=E===0?"all":E>0?"min":"max";for(const k of a)p(k)||(x==="all"||k.violationType===x)&&h(k,k.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const g=a.filter(v=>v.isFlex&&!v.violationType).map(v=>v.col);if(e.fireResizedEvent){const v=a.filter(C=>C.initialSize!==C.frozenSize).map(C=>C.col),y=a.filter(C=>C.flex).map(C=>C.col);qg(this.eventSvc,v,!0,t,y)}return g}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},pRe=["dateTimeString","dateString","text","number","boolean","date"],gRe=class extends $e{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===Ve.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=r==null?"":e({column:s,node:null,value:r}),l=i==null?"":e({column:s,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=u=>h=>{const{column:p,node:g,value:v}=h;let y=p.getColDef().valueFormatter;return y===u.groupSafeValueFormatter&&(y=u.valueFormatter),this.beans.valueSvc.formatValue(p,g,v,y)};for(const u of Object.keys(e)){const h=e[u],p={...h,groupSafeValueFormatter:O6(h,this.gos)};t[u]=p,n[u]=r(p)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const u of Object.keys(i)){const h=i[u],p=this.processDataTypeDefinition(h,i,[u],e);p&&(t[u]=p,h.dataTypeMatcher&&(s[u]=h.dataTypeMatcher),n[u]=r(p))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of pRe)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=r[s];const a=t[s];if(o&&a&&(o=a),!M6(e,o,s))return;i=I6(o,e)}else{if(n.includes(s)){at(44);return}const o=t[s];if(!M6(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],r);if(!a)return;i=I6(a,e)}return{...i,groupSafeValueFormatter:O6(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){at(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!li(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(xA(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(s1(i).some(a=>{const l=s[a.trim()];return l&&xA(l,r)}))return!1}return!xA(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=_v(r,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const u=vRe(a,o);u.rowGroup&&u.rowGroupIndex==null&&(r[s]=u),u.pivot&&u.pivotIndex==null&&(i[s]=u),n.push(u)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&Ga(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=GD(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>at(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,s=n[t];r.colFilter?.setColDefPropsForDataType(e,s,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>no(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):Do(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>no(n)??void 0,dateFormatter:n=>Do(n??null,t)??void 0,valueParser:n=>rS(String(n.newValue))?n.newValue:null,valueFormatter:n=>rS(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&rS(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:DD(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&RSe(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>DD(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function I6(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...s1(e.columnTypes),...s1(t.columnTypes)]),n}function M6(e,t,n){return t?t.baseDataType!==e.baseDataType?(at(46),!1):!0:(at(45,{parentCellDataType:n}),!1)}function O6(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function mRe(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function xA(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>mRe(e,t,n,r))}function vRe(e,t){const n=rK(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}var yRe={moduleName:"DataType",version:Ct,beans:[gRe],dependsOn:[zTe]},wRe={moduleName:"ColumnFlex",version:Ct,beans:[fRe]},iY={moduleName:"ColumnApi",version:Ct,beans:[hRe],apiFunctions:{getColumnDef:WTe,getDisplayNameForColumn:qTe,getColumn:KTe,getColumns:YTe,applyColumnState:XTe,getColumnState:QTe,resetColumnState:ZTe,isPinning:JTe,isPinningLeft:eRe,isPinningRight:tRe,getDisplayedColAfter:nRe,getDisplayedColBefore:rRe,setColumnsVisible:iRe,setColumnsPinned:sRe,getAllGridColumns:oRe,getDisplayedLeftColumns:aRe,getDisplayedCenterColumns:lRe,getDisplayedRightColumns:cRe,getAllDisplayedColumns:uRe,getAllDisplayedVirtualColumns:dRe,getColumnDefs:$Te}};function CRe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var bRe=class extends $e{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){const s=e.headerValueGetter;if(s){const o=Nt(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return CRe(e.field)}return""}},xRe=class extends $e{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=r.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||SRe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,o=t>i&&n>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return gt(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const i=new Set,s={};for(const o of r){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const u=a.getProvidedColumnGroup().getLevel();s[u]??(s[u]=[]),s[u].push(a),i.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function SRe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var ERe=class extends $e{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=xI("<span>"+s+"</span>");return}if(s==null){this.eGui=Yr({tag:"span"});return}this.eGui=s}}return n}},TRe={moduleName:"CellRendererFunction",version:Ct,beans:[ERe]},RRe=class extends $e{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(o,a,l,c)=>{this.agGridDefaults[o]=a,(l||c)&&(this.agGridDefaultOverrides[o]={params:l,processParams:c})};for(const o of Object.keys(n)){let a=n[o];if(Sxe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:c,processParams:u}=a;s(o,l,c,u)}else s(o,a)}}if(r){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(r))this.dynamicBeans[s]=r[s]}if(i?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,c,u)=>({componentFromFramework:l,component:a,params:c,processParams:u}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const a=r.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(Vl(279,{name:e}));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??Vl(256));return}return new r(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},_Re=23,ARe=class extends $e{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===_Re&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},kRe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',KI=typeof window!="object"||!window?.document?.fonts?.forEach,Xg=(e,t,n,r,i,s)=>{if(KI)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=Cg.map.get(t);if(o||(o=[],Cg.map.set(t,o)),o.find(u=>u.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:i};let c;for(const u of o){if(u.priority>i)break;c=u}if(c){c.el.insertAdjacentElement("afterend",a);const u=o.indexOf(c);o.splice(u+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},sY=(e,t,n)=>{Xg(kRe,e,"core",t,0,n),Array.from(vxe()).sort((r,i)=>r.moduleName.localeCompare(i.moduleName)).forEach(r=>r.css?.forEach(i=>Xg(i,e,`module-${r.moduleName}`,t,0,n)))},DRe=e=>{Cg.grids.add(e)},PRe=e=>{if(Cg.grids.delete(e),Cg.grids.size===0){Cg.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},N6,Cg=(N6=typeof window=="object"?window:{}).agStyleInjectionState??(N6.agStyleInjectionState={map:new WeakMap,grids:new Set}),Kl=e=>new oY(e),Bu="$default",FRe=0,oY=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[Bu]:{...n[Bu]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++FRe}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const o of this.cssImports??[])i=`@import url(${JSON.stringify(o)});
${i}`;r={css:i,class:s}}else r=!1;this._inject=r}return r&&e&&Xg(r.css,e,r.class,t,1,n),r?r.class:!1}},IRe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),aY=e=>`--ag-${IRe(e)}`,Yl=e=>`var(${aY(e)})`,MRe=(e,t,n)=>Math.max(t,Math.min(n,e)),ORe=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},gl=e=>({ref:"accentColor",mix:e}),ra=e=>({ref:"foregroundColor",mix:e}),ua=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),NRe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Ks={ref:"backgroundColor"},$p={ref:"foregroundColor"},xc={ref:"accentColor"},g1={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:ra(.15),chromeBackgroundColor:ua(.02),browserColorScheme:"light"},LRe={...g1,textColor:$p,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Ks,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:xc,rangeSelectionBackgroundColor:gl(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:gl(.5),rangeHeaderHighlightColor:NRe(.08),rowNumbersSelectedColor:gl(.5),rowHoverColor:gl(.08),columnHoverColor:gl(.05),selectedRowBackgroundColor:gl(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Ks,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Ks,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:ra(.7),focusShadow:{spread:3,color:gl(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:ra(.1),iconButtonActiveColor:xc,iconButtonActiveBackgroundColor:gl(.28),iconButtonActiveIndicatorColor:xc,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:xc,toggleButtonOffBackgroundColor:ua(.3),toggleButtonSwitchBackgroundColor:Ks,toggleButtonSwitchInset:2,menuBorder:{color:ra(.2)},menuBackgroundColor:ua(.03),menuTextColor:ua(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:ra(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:xc},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:ra(.2)},panelBackgroundColor:Ks,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:ra(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:ra(.13)},selectCellBackgroundColor:ra(.07),selectCellBorder:{color:ra(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Ks,filterPanelApplyButtonBackgroundColor:xc,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:$p,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:$p,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:ra(.15),statusBarLabelColor:$p,statusBarLabelFontWeight:500,statusBarValueColor:$p,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},BRe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",lY={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},VRe={...lY,cellBatchEditTextColor:"#f3d0b3"},HRe=()=>Kl({feature:"batchEditStyle",params:lY,css:BRe}),GRe=HRe(),URe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",zRe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},jRe=()=>Kl({feature:"buttonStyle",params:{...zRe,buttonBackgroundColor:Ks,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:xc}},css:URe}),WRe=jRe(),$Re=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",qRe=()=>Kl({feature:"columnDropStyle",css:$Re}),cY=qRe(),KRe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],YRe=ORe(e=>(e=e.toLowerCase(),KRe.find(t=>e.endsWith(t.toLowerCase()))??"length")),KE=e=>typeof e=="object"&&e?.ref?Yl(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,YI=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Yl(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Yl(e.onto):"transparent"}, ${t} ${MRe(e.mix*100,0,100)}%)`}return!1},XRe=KE,Qp=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Yl(n)} `)})`:e&&"ref"in e?Yl(e.ref):!1,QRe=KE,nP=(e,t)=>typeof e=="string"?e:e===!0?nP({},t):e===!1?t==="columnBorder"?nP({color:"transparent"},t):"none":e&&"ref"in e?Yl(e.ref):uY(e.style??"solid")+" "+Qp(e.width??{ref:"borderWidth"})+" "+YI(e.color??{ref:"borderColor"}),ZRe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Yl(e.ref):[Qp(e.offsetX??0),Qp(e.offsetY??0),Qp(e.radius??0),Qp(e.spread??0),YI(e.color??{ref:"foregroundColor"})].join(" "),uY=KE,dY=e=>typeof e=="string"?e.includes(",")?e:L6(e):e&&"googleFont"in e?dY(e.googleFont):e&&"ref"in e?Yl(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),L6(t))).join(", "):!1,L6=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),JRe=KE,hY=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?hY({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Yl(e.ref):!1,e_e=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&jn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Yl(e.ref):!1,t_e={color:YI,colorScheme:XRe,length:Qp,scale:QRe,border:nP,borderStyle:uY,shadow:ZRe,image:hY,fontFamily:dY,fontWeight:JRe,duration:e_e},n_e=(e,t)=>{const n=YRe(e);return t_e[n](t,e)},r_e=()=>new fY().withPart(WRe).withPart(cY).withPart(GRe),fY=class pY{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof oY?new pY([...this.parts,t]):(uv(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Kl({feature:t}))}withParams(t,n=Bu){return this.withPart(Kl({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:i}){if(KI)return;s_e(),sY(t,n,r);const s=i_e(this);if(s.length>0)for(const o of s)i&&a_e(o,r);for(const o of this.parts)o.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=B6(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Bu]:{...LRe}};for(const r of B6(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const o=n[i]??(n[i]={}),a=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(o[l]=c,a.add(l))}if(i===Bu)for(const l of Object.keys(n)){const c=n[l];if(l!==Bu)for(const u of a)delete c[u]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==Bu){const h=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=h,s+=h}for(const u of Object.keys(c).sort()){const h=c[u],p=n_e(u,h);if(p===!1)jn(107,{key:u,value:h});else{const g=aY(u),v=g.replace("--ag-","--ag-inherited-");i+=`	${g}: var(${v}, ${p});
`,s+=`	${v}: var(${g});
`}}l!==Bu&&(i+=`}
`,s+=`}
`)}let a=`${n} {
${i}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=a}return r.replaceAll(n,`:where(.${t})`)}},B6=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},i_e=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},V6=!1,s_e=()=>{if(!V6){V6=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},o_e=new Set,a_e=async(e,t)=>{o_e.add(e);const n=`@import url('https://${l_e}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Xg(n,document.head,`googleFont:${e}`,void 0,0,t)},l_e="fonts.googleapis.com",c_e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',u_e=()=>Kl({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Ks,checkboxUncheckedBorderColor:ua(.3),checkboxCheckedBackgroundColor:xc,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Ks,checkboxIndeterminateBackgroundColor:ua(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Ks,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:c_e}),d_e=u_e(),gY=()=>({...g1,...VRe,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:ua(.05),rowHoverColor:gl(.15),selectedRowBackgroundColor:gl(.2),menuBackgroundColor:ua(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:$p,findMatchColor:Ks,findActiveMatchColor:Ks,checkboxUncheckedBorderColor:ua(.4),toggleButtonOffBackgroundColor:ua(.4),rowBatchEditBackgroundColor:ua(.1)}),h_e=()=>({...gY(),backgroundColor:"#1f2836"}),f_e=()=>Kl({feature:"colorScheme",params:g1,modeParams:{light:g1,dark:gY(),"dark-blue":h_e()}}),p_e=f_e(),mY={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},vY={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},g_e=(e={})=>{let t="";for(const n of[...Object.keys(mY),...Object.keys(vY)]){const r=m_e(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},m_e=(e,t=1.5)=>{const n=vY[e];if(n)return n;const r=mY[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},v_e=(e={})=>Kl({feature:"iconSet",css:()=>g_e(e)}),y_e=v_e(),w_e=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',C_e=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",b_e={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},x_e=()=>Kl({feature:"inputStyle",params:{...b_e,inputBackgroundColor:Ks,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:xc},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:ua(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>w_e+C_e}),S_e=x_e(),E_e='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',T_e={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},R_e=()=>Kl({feature:"tabStyle",params:{...T_e,tabBarBorder:!0,tabBarBackgroundColor:ra(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Ks},css:E_e}),__e=R_e(),A_e=()=>r_e().withPart(d_e).withPart(p_e).withPart(y_e).withPart(__e).withPart(S_e).withPart(cY).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),k_e=A_e(),D_e={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},P_e={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},F_e={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},H6={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},G6={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},U6={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},SA={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},z6={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},I_e=0,M_e=class extends $e{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++I_e}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(H6),this.getSizeEl(G6),this.getSizeEl(U6),this.getSizeEl(SA),this.getSizeEl(z6),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>PRe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(z6)}getRowBorderWidth(){return this.getCSSVariablePixelValue(SA)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(H6)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(G6)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(D_e)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(P_e),n=this.getCSSVariablePixelValue(F_e);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(U6)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let r=this.eGridDiv;for(;r;){let i=!1;for(const s of Array.from(r.classList))s.startsWith("ag-theme-")&&(i=!0,n=n?`${n} ${s}`:s);i&&this.mutationObserver.observe(r,{attributes:!0,attributeFilter:["class"]}),r=r.parentElement}}for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){const r=e.className;e.className=r+(r?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Xg(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===EA?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Yr({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=Yr({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${EA}px)`)):t.style.width=`var(${e.cssName}, ${EA}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&at(9,{variable:e});const o=eu(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(SA);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:r}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const o=i??k_e;o instanceof fY?s=o:jn(240,{theme:o})}if(s!==r){if(s){DRe(this),sY(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)Xg(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=Yr({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}KI||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&jn(i?106:239)}},EA=15538,O_e=class extends $e{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new af}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(Nt(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(Nt(this.gos,e))}};function yY(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var N_e=class extends $e{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Pi(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=i?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=zn(a||[]).type==="filter",c=Tl(this.beans)-1;let u=-1,h=n;for(;h;)u++,h=h.getParent();let p=u;return t&&l&&p===c-1&&p++,p===-1?null:{headerRowIndex:p,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:s}=i,o=i.column,a=Tl(this.beans),l=this.getHeaderRowType(s),c=r.headerGroupRowCount;let{headerRowIndex:u,column:h,headerRowIndexWithoutSpan:p}=e==="UP"?L_e(l,o,s):B_e(o,s,c),g=!1;return u<0&&(u=0,h=o,g=!0),u>=a?(u=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!g&&!h?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:h},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s={...r.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const c=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:u}=r.focusedHeader||{};u!=null&&u!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=u)}return c}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let s=null,o;const a=Tl(r),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=zn(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:u}=yY(this.beans,s,o);return u>=a&&(u=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Kr(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?zn(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof ky){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?r.getColBefore(i):r.getColAfter(i);if(!s)return;const o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof Nf&&s.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function L_e(e,t,n){const r=n-1;if(e!=="filter"){const i=t instanceof Nf&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>r||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function B_e(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof ky){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let o=e.getDisplayedChildren()[0];if(o instanceof ky&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}i.column=o,o instanceof Nf&&o.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var V_e=class extends $e{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc($xe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Dr(this.beans),GK)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Dr(this.beans);return this.isDomDataPresentInHierarchy(e,h1)?!0:this.isDomDataPresentInHierarchy(e,f1)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(Pq(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Ic(r),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:pK(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Uh(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){const l=this.focusedHeader,c=Tl(this.beans);if(n){const u=this.gos.getCallback("tabToNextHeader");u&&(a=this.getHeaderPositionFromUserFunc({userFunc:u,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{const u=this.gos.getCallback("navigateToNextHeader");if(u&&i){const h={key:i.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:i};a=u(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Uh(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,o=Tl(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return a===!0?r:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:u}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});u?.scrollToColumn(o,n);const p=c.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return u&&p&&(i!=null||r)&&(u.currentHeaderRowWithoutSpan=i??-1),p}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=yY(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Tl(this.beans)-1,n=zn(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Ic(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&ff(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(jE(this.beans))return t&&!Uh(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Yg(this.beans,t);const i=t?Dxe(this.beans):kxe(this.beans);if(i){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=i,l=Kc(this.beans,i);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const c=this.gos.get("enableRtl");let u;return!r||r.key===Ve.TAB?u=c?Ve.LEFT:Ve.RIGHT:u=r.key,this.beans.navigation?.navigateToNextCell(null,u,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Ic(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Tl(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},H_e=class extends $e{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:ECe();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},G_e=class extends $e{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},oS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),U_e=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],XI=U_e.reduce((e,t)=>(e[t]=XCe(t),e),{}),z0=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),z_e={tag:"span",cls:"ag-sort-indicator-container",children:[z0("Order","order"),z0("Asc","ascending-icon"),z0("Desc","descending-icon"),z0("Mixed","mixed-icon"),z0("None","none-icon")]},QI=class extends ir{constructor(e){super(),this.eSortOrder=Pt,this.eSortAsc=Pt,this.eSortDesc=Pt,this.eSortMixed=Pt,this.eSortNone=Pt,e||this.setTemplate(z_e)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=da(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(r);if(e&&Er(e,o==="asc",{skipAriaHidden:!0}),t&&Er(t,o==="desc",{skipAriaHidden:!0}),n){const a=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),l=o==null;Er(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;Cl(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Er(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=i>=0&&s;Er(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():Io(e)}},j_e={selector:"AG-SORT-INDICATOR",component:QI},Py=["asc","desc",null],W_e=class extends $e{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=Cl(i);let a=[e];if(o&&e.getColDef().showRowGroup){const h=s?.getSourceColumnsForGroupColumn?.(e)?.filter(p=>p.isSortable());h&&(a=[e,...h])}a.forEach(u=>this.setColSort(u,t,r));const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),c=[];if(!l){const u=this.clearSortBarTheseColumns(a,r);c.push(...u)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(r,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=Cl(t),s=r?.getShowRowGroupCol(e.getId()),o=i&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(u=>this.setColSortIndex(u,null));const l=a.filter(u=>i&&u.getColDef().showRowGroup?!1:u!==o);(o.getSort()?[...l,o]:l).forEach((u,h)=>this.setColSortIndex(u,h))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Py,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(c=>{c.getSort()&&i.push(c)}),t.isPivotMode()){const c=Cl(e);i=i.filter(u=>{const h=!!u.getAggFunc(),p=!u.isPrimary(),g=c?n?.getShowRowGroupCol(u.getId()):u.getColDef().showRowGroup;return h||p||g})}const s=r?.columns.filter(c=>!!c.getSort())??[],o={};i.forEach((c,u)=>o[c.getId()]=u),i.sort((c,u)=>{const h=c.getSortIndex(),p=u.getSortIndex();if(h!=null&&p!=null)return h-p;if(h==null&&p==null){const g=o[c.getId()],v=o[u.getId()];return g>v?1:-1}else return p==null?-1:1});const a=Cl(e)&&!!s.length;a&&(i=[...new Set(i.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);const l=new Map;return i.forEach((c,u)=>l.set(c,u)),a&&s.forEach(c=>{const u=n.getShowRowGroupCol(c.getId());l.set(c,l.get(u))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Cl(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-r<50;o||l||this.progressSortFromEvent(t,s)}});const i=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new QI(e)}getSortIndicatorSelector(){return j_e}},bg={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},$_e=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),q_e={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?bg[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:bg[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?bg[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},K_e=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Vl(262);if(t.smallLeft)return Vl(263);if(t.smallRight)return Vl(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(i=>!Py.includes(i));if(r.length>0)return`sortingOrder must be an array with elements from [${Py.map(ZS).join()}], currently it includes [${r.map(ZS).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),Y_e={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},X_e=()=>Object.keys(Y_e),Q_e=()=>({objectName:"colDef",allProperties:X_e(),docsUrl:"column-properties/",deprecations:$_e(),validations:K_e()}),Z_e=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],J_e=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],eAe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],wY=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],tAe=["theme","rowSelection"],nAe=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],CY=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],rAe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],iAe=()=>[...eAe,...J_e,...Z_e,...wY,...rAe,...CY,...nAe,...tAe],sAe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function dl(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var oAe={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},aAe=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return dl("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return dl("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return dl("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:i}){return n&&(r||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return Vl(262);if(n.smallLeft)return Vl(263);if(n.smallRight)return Vl(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return dl("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return dl("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return dl("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return dl("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return dl("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!Py.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${Py.map(ZS).join()}], currently it includes [${i.map(ZS).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!i&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return dl("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return dl("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n?.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,i=["default","legacy"];return r&&!i.includes(r)?`renderingMode must be one of [${i.join()}], currently it's ${r}`:null}}},t={};return CY.forEach(n=>{t[n]={expectedType:"boolean"}}),wY.forEach(n=>{t[n]={expectedType:"number"}}),Ns(t,e),t},lAe=()=>({objectName:"gridOptions",allProperties:[...iAe(),...Object.values(XI)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:sAe(),validations:aAe()}),cAe=0,uAe=0,dAe=class extends $e{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=uAe++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new af,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=oS.has(t);if(r&&!e||!r&&e||!hAe(t))return;const i=(s,o)=>{const a=XI[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??oq[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return gt(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:cAe++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(n,a);const c=t||typeof l=="object"&&n==="api",u=s[a];if(c||u!==l){s[a]=l;const h={type:a,currentValue:l,previousValue:u,changeSet:r,source:n};i.push(h)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(a=>a.type),i.forEach(a=>{cf(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,oAe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,q_e),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||jn(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:DI(),rowModelType:this.get("rowModelType"),isUmd:Cxe()}}isModuleRegistered(e){return UD(e,this.gridId,this.get("rowModelType"))}};function hAe(e){return!!XI[e]}function bY(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var fAe=bY(!0),pAe=bY(!1),gAe=class extends ir{constructor(){super(...arguments),this.eFilter=Pt,this.eFilterButton=Pt,this.eSortIndicator=Pt,this.eMenu=Pt,this.eLabel=Pt,this.eText=Pt,this.eSortOrder=Pt,this.eSortAsc=Pt,this.eSortDesc=Pt,this.eSortMixed=Pt,this.eSortNone=Pt,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};Ns(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?fAe:pAe}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Jbe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=ym(t))}addInIcon(e,t,n){const r=da(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){qc(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=To(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,o=t.column,a=To(n);if(e&&!a){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;r.attachCustomElements(i,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();Er(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return qc(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},mAe={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},vAe=class extends ir{constructor(){super(mAe),this.agOpened=Pt,this.agClosed=Pt,this.agLabel=Pt,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&at(89)}workOutInnerHeaderGroupComponent(e,t){const n=txe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(Mc(l))return;const c=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const s=l=>{df(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();Er(e,r),Er(t,!r)}else Er(e,!1),Er(t,!1)}addInIcon(e,t){const n=da(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Er(t,!1),Er(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;gt(t)&&!r&&(this.agLabel.textContent=ym(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},yAe={moduleName:"ColumnHeaderComp",version:Ct,userComponents:{agColumnHeader:gAe},icons:{menu:"menu",menuAlt:"menu-alt"}},wAe={moduleName:"ColumnGroupHeaderComp",version:Ct,userComponents:{agColumnGroupHeader:vAe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},CAe=class extends $e{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&at(92)}createTask(e,t,n,r,i=!1){this.verify();let s=n;r&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,c=n.list,u=r.list,h=Date.now();let p=0;const g=e<=0,v=o.getScrollFeature();for(;g||p<e;){if(!v.scrollGridIfNeeded()){let C;if(l.length)this.sortTaskList(t),C=l.pop().task;else if(c.length)this.sortTaskList(n),C=c.pop().task;else if(u.length)a.wrapOutgoing(()=>{for(;(g||p<e)&&!v.scrollGridIfNeeded();){if(u.length)this.sortTaskList(r),C=u.pop().task,C();else break;p=Date.now()-h}}),C=()=>{};else if(i.length)C=i.pop();else break;C()}p=Date.now()-h}l.length||c.length||u.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);tu(this.beans,e)}isQueueEmpty(){return!this.ticking}},bAe={moduleName:"AnimationFrame",version:Ct,beans:[CAe]},xAe=class extends $e{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Lh())return;const t=(n,r,i)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(i?.target??null);o?.column&&o.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Lh()||Uq("dblclick"))return!1;const r=Date.now(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:o}=e,a=new vh(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&gt(s)&&i.enableMenu,u=c?new vh(s,!0):a;if(i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){const h=c?"tap":"longTap",p=g=>i.showColumnMenuAfterMouseClick(g.touchStart);e.addManagedListeners(u,{[h]:p})}if(i.enableSorting){const h=p=>{const g=p.touchStart.target;l&&(s?.contains(g)||o?.contains(g))||n?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:h})}if(i.enableFilterButton&&o){const h=new vh(o,!0);e.addManagedListeners(h,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>h.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new vh(t.eGridHeader,!0),r=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new vh(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!Lh())return;const r=new vh(t),i=s=>{Ay(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},SAe={moduleName:"Touch",version:Ct,beans:[xAe]},EAe=class extends $e{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Ve.UP,r=e===Ve.DOWN,i=e===Ve.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:c,pinnedRowModel:u}=this.beans,{rowPinned:h}=t;if(n||r)h&&u?n?o=0:o=h==="top"?u.getPinnedTopRowCount()-1:u.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const p=l.get("enableRtl");o=t.rowIndex,s=(i!==p?c.allCols:[...c.allCols].reverse()).find(v=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:v}))}return s?{rowIndex:o,rowPinned:h,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case Ve.UP:n=this.getCellAbove(n);break;case Ve.DOWN:n=this.getCellBelow(n);break;case Ve.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Ve.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,at(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=l6(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=l1(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];const a=l6(this.beans,e);if(pr(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=zn(i);const l=l1(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(pr(l)||!l.rowPinned&&!(r?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function TAe(e){return e.focusSvc.getFocusedCell()}function RAe(e){return e.focusSvc.clearFocusedCell()}function _Ae(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function AAe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function kAe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function DAe(e,t,n=!1){const r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var PAe=class extends $e{constructor(){super(),this.beanName="navigation",this.onPageDown=J5(this.onPageDown,100),this.onPageUp=J5(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=uSe(this.gos,e);let a=!1;switch(n){case Ve.PAGE_HOME:case Ve.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case Ve.LEFT:case Ve.RIGHT:case Ve.UP:case Ve.DOWN:if(!o)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case Ve.PAGE_DOWN:case Ve.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Ve.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;gt(n)&&!n.isPinned()&&a.ensureColumnVisible(n),gt(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){const t=this.beans,n=TA(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,a=i.getPixelOffset(),l=n.top+r,c=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=TA(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,o=r.getPixelOffset(),a=n.top,l=i.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),o=r.getFirstRow(),a=r.getLastRow(),l=r.getPixelOffset(),c=i.getRow(e.rowIndex),u=n?c?.rowHeight-s-l:s-l,h=c?.rowTop+u;let p=i.getRowIndexAtPixel(h+l);if(p===e.rowIndex){const v=n?-1:1;t=p=e.rowIndex+v}let g;n?(g="bottom",p<o&&(p=o),t<o&&(t=o)):(g="top",p>a&&(p=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(p))&&(t=p,g="top"),this.navigateTo({scrollIndex:t,scrollType:g,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=s.getRow(l);if(c){const u=c.rowHeight??0;if(a+u>r)break;a+=u}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=TA(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r,rowPinned:i}=n,s=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s,rowPinned:i})}onHomeOrEndKey(e){const t=e===Ve.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,o=t?r.getFirstRow():r.getLastRow(),a=i.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:u}=e.getRowPosition();(u?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||Uh(i)?Yg(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof yg&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||Yg(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let o=hv(n,s);return!o&&(o=i.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){const{editSvc:i,focusSvc:s}=this.beans;let o;const a=e instanceof yg?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?o=i?.moveToNextCell(a,t,n,r):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof p1){if(i={...e.getRowPosition(),column:t?r[0]:zn(r)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(i.column=o.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof yg)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return gt(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:u}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const h=a.getCallback("tabToNextCell");if(gt(h)){const y=h({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(y===!0)i=e;else{if(y===!1)return!1;i={rowIndex:y.rowIndex,column:y.column,rowPinned:y.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const v=Tl(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:v+i.rowIndex,column:i.column},fromCell:!0}),null}const p=a.get("editType")==="fullRow";if(n&&(!p||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const g=hv(s,i);if(!g){const v=c.getRowByPosition(i);if(!v||!v.isFullWidth()||n)continue;return{...v.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(g.column,g.rowNode))return g.setFocusedCellPosition(i),u?.setRangeToCell(i),g}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===Ve.LEFT&&(i=this.getLastCellOfColSpan(i)):t===Ve.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),s=pr(i);if(s&&e&&e.key===Ve.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const h=c.getCallback("navigateToNextCell");if(gt(h)){const g=h({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});gt(g)?i={rowPinned:g.rowPinned,rowIndex:g.rowIndex,column:g.column}:i=null}}if(!i)return;if(i.rowIndex<0){const h=Tl(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:h+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const u=this.getNormalisedPosition(i);u?this.focusPosition(u):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=hv(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,o=n.allCols,a=r.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?zn(o):o[0])};this.focusPosition(c);const u=t??(l!=null&&_xe(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:u}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!Kc(this.beans,e)}getLastCellOfColSpan(e){const t=hv(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:zn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Mq(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&pr(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function TA(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var FAe={moduleName:"KeyboardNavigation",version:Ct,beans:[PAe,EAe,N_e],apiFunctions:{getFocusedCell:TAe,clearFocusedCell:RAe,setFocusedCell:_Ae,setFocusedHeader:DAe,tabToNextCell:AAe,tabToPreviousCell:kAe}},IAe=class extends $e{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},MAe=class extends $e{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},OAe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",NAe=class extends $e{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Er(n,t),Bl(n,e))}},LAe=class extends $e{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=es(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Sy(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let o=i;!o.length&&!s||(r&&(o=r({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!nd(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new NAe(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(es(o,"print")){at(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(c=>{if(!c)return;const u=r.getCol(c);u&&u.getPinned()!==a&&(this.setColPinned(u,a),l.push(u))}),l.length&&(s.refresh(n),tK(this.eventSvc,l,n)),i?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),h=t.verticalScrollShowing&&(l&&n||!l&&r)?s+c:s;e.comp.setPinnedContainerWidth(`${h}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=Sy(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,c=0;const u=0,h=[];let p=r-u-e;for(;(c<o.length||l<a.length)&&p>0;){if(l<a.length){const g=a[l++];if(g.colDef.lockPinned){i=!0;continue}p-=g.getActualWidth(),h.push(g)}if(c<o.length&&p>0){const g=o[c++];if(g.colDef.lockPinned){i=!0;continue}p-=g.getActualWidth(),h.push(g)}}return{columns:h,hasLockedPinned:i}}},BAe={moduleName:"PinnedColumn",version:Ct,beans:[LAe],css:[OAe]},VAe=class extends $e{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Zi(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Pi(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),cq(n,"polite"),uCe(n,"additions text"),cCe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Io(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},HAe={moduleName:"Aria",version:Ct,beans:[VAe]};function GAe(e){e.overlays?.showLoadingOverlay()}function UAe(e){e.overlays?.showNoRowsOverlay()}function zAe(e){e.overlays?.hideOverlay()}var jAe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",WAe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},xY=class extends ir{constructor(){super(WAe),this.eOverlayWrapper=Pt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(jAe)}handleKeyDown(e){if(e.key!==Ve.TAB||e.defaultPrevented||Mc(e))return;const t=this.beans;if(Bf(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:zn(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=Yg(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:s}=iS;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new NI(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=Dr(this.beans);i&&!Iq(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:o})=>{s.refresh?.(Nt(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&ff(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Io(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Dr(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},$Ae={selector:"AG-OVERLAY-WRAPPER",component:xY},qAe=class extends $e{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=li(this.gos),this.isServerSide=!this.isClientSide&&Of(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){at(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return $Ae}getOverlayWrapperCompClass(){return xY}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(lxe(this.beans.userCompFactory,Nt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(cxe(this.beans.userCompFactory,Nt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},KAe={moduleName:"Overlay",version:Ct,userComponents:{agLoadingOverlay:_1e,agNoRowsOverlay:k1e},apiFunctions:{showLoadingOverlay:GAe,showNoRowsOverlay:UAe,hideOverlay:zAe},beans:[qAe]},YAe=class extends $e{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=SCe(),cf(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;cf(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},XAe=400,QAe=class extends $e{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},r=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{md(this.gos)?n():r()}),md(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:i})=>{(!i&&r||i&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.getShowRowGroupCols();r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=es(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new ZAe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=es(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));r?.forEachPinnedRow(t,(l,c)=>{const u=e[c];u&&r.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),l.id in o&&n?(e[c]=o[l.id],delete o[l.id]):e[c]=new p1(l,i,!1,!1,s)});const a=(t==="top"?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const i=r[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&fg(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Vl(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Tl(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Nt(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=l1(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(r);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};r=l1(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=rP(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return iP(i,t)})}getCellCtrls(e,t){let n;gt(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);gt(s)&&(n[s.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const s=this.stickyRowFeature;s&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const u=s.extraTopHeight+s.extraBottomHeight;u&&this.updateContainerHeights(u)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),i!=null)){const u=t?.getFocusCellToUseAfterRefresh();i!=null&&u==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const i=o=>{const a=o.rowNode.rowIndex;a==null||a===r||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))i(o);if(e)for(const o of Object.values(e))i(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i?.active&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=rP(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!iP(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),gt(i)&&gt(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),gt(i))s=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(r=>r()),XAe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Hh(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const u=this.getRowBufferInPixels(),h=this.ctrlsSvc.getScrollFeature(),p=this.gos.get("suppressRowVirtualisation");let g=!1,v,y;do{const k=t.getPixelOffset(),{pageFirstPixel:D,pageLastPixel:R}=t.getCurrentPagePixelRange(),_=e.divStretchOffset,I=h.getVScrollPosition(),F=I.top,N=I.bottom;p?(v=D+_,y=R+_):(v=Math.max(F+k-u,D)+_,y=Math.min(N+k+u,R)+_),this.firstVisibleVPixel=Math.max(F+k,D)+_,this.lastVisibleVPixel=Math.min(N+k,R)+_,g=this.ensureAllRowsInRangeHaveHeightsCalculated(v,y)}while(g);let C=n.getRowIndexAtPixel(v),b=n.getRowIndexAtPixel(y);const E=t.getFirstRow(),x=t.getLastRow();C<E&&(C=E),b>x&&(b=x),r=C,i=b}const s=es(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&i-r>a&&(i=r+a);const l=r!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,tu(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),s=this.editSvc?.isEditing(e),o=r.detail;return i||s||o?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;const i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new p1(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},ZAe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],ba(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],ba(this.entriesList,e)}getEntries(){return this.entriesList}};function rP(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}function iP(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var JAe=class extends $e{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Cl(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Cl(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(r,a.column),u=this.getValue(i,a.column);let h;const p=this.getComparator(a,r);if(p?h=p(c,u,r,i,l):h=iCe(c,u,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(Nq(s,r.isPivotActive())){const c=e.allLeafChildren?.[0];return c?n.getValue(t,c,!1):void 0}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function eke(e){e.sortSvc?.onSortChanged("api")}var SY={moduleName:"Sort",version:Ct,beans:[W_e,JAe],apiFunctions:{onSortChanged:eke},userComponents:{agSortIndicator:QI},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},tke=class extends $e{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),cf(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,gg(e.source))}}};function nke(e){e.valueCache?.expire()}function rke(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(pr(s))return null;const o=e.valueSvc.getValueForDisplay(s,r,i);return i?o.valueFormatted??ym(o.value):o.value}var ike="paste",ske=class extends $e{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;li(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===ike||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!r.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Dy(a,o);l.addParentNode(r.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{i.push(c),c.sibling&&i.push(c.sibling)})}n.refreshCells({rowNodes:i})}},oke=class extends $e{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);jn(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return jn(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},ake=class extends $e{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},lke={moduleName:"ValueCache",version:Ct,beans:[ake],apiFunctions:{expireValueCache:nke}},cke={moduleName:"Expression",version:Ct,beans:[oke]},uke={moduleName:"ChangeDetection",version:Ct,beans:[ske]},dke={moduleName:"CellApi",version:Ct,apiFunctions:{getCellValue:rke}},nx={checkSiblings:!0},hke=class extends $e{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Of(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const y=s.getGroupValue(t,e);if(y==null)return{value:null,valueFormatted:null};if(!n)return{value:y.value,valueFormatted:null};const C=s.formatAndPrefixGroupColValue(y,e,r);return{value:y.value,valueFormatted:C}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!c,h=this.gos.get("groupSuppressBlankHeader")||!t.sibling,p=u&&!h,g=this.getValue(e,t,p,i),v=n&&!(r&&e.colDef.useValueFormatterForExport===!1);return{value:g,valueFormatted:v?this.formatValue(e,t,g):null}}getValue(e,t,n=!1,r="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId();let a=t.data;if(this.hasEdit&&r==="ui"){const y=this.editSvc;if(y.isRowEditing(t,nx)&&(a=y.getRowDataValue(t,nx)),y.isEditing()){const C=y.getCellDataValue({rowNode:t,column:e},!0);if(C!==void 0)return C}}let l;const c=i.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;const u=typeof c!="string"||!t.group,h=t.groupData&&o in t.groupData,p=!n&&t.aggData&&t.aggData[o]!==void 0,g=this.isSsrm&&n&&!!i.aggFunc,v=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&p)l=t.aggData[o];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=_v(a,s,e.isFieldContainsDots());else if(h)l=t.groupData[o];else if(p)l=t.aggData[o];else if(i.valueGetter&&!g){if(!u)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(v)l=_v(a,t.field,e.isFieldContainsDots());else if(s&&a&&!g){if(!u)return l;l=_v(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const y=l.substring(1);l=this.executeValueGetter(y,a,e,t)}return l}parseValue(e,t,n,r){const i=e.getColDef(),s=i.valueParser;if(gt(s)){const o=Nt(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return gt(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(r?a=r:i&&(a=l.valueFormatter),a){let c=t?t.data:null;if(t){const h={rowNode:t};if(this.hasEdit){const p=this.editSvc;p.isEditing(h,nx)&&(c=p.getRowDataValue(t,nx))}}const u=Nt(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof a=="function"?o=a(u):o=s?s.evaluate(a,u):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,r){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;pr(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(pr(s)&&pr(o))return at(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return at(135),!1;const a=Nt(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(gt(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const c=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,c,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===n,i||(o[a]=n)):o=o[a]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){const i=Nt(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=this.expressionSvc?.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=Nt(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&at(121)),i}},fke={moduleName:"CommunityCore",version:Ct,beans:[G_e,bEe,RRe,Ibe,YAe,BTe,O_e,dAe,Dbe,MAe,IAe,QAe,hke,V_e,M_e,H_e,ARe,tke,bRe,xRe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:xEe,destroy:SEe,isDestroyed:EEe,getGridOption:TEe,setGridOption:REe,updateGridOptions:XK,isModuleRegistered:_Ee},dependsOn:[yRe,mTe,STe,SY,yAe,HTe,wAe,KAe,uke,bAe,FAe,BAe,HAe,SAe,TRe,wRe,cke,jTe]};function sP(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e;let s=(n??[]).map((l,c)=>({value:l,relevance:pke(t,l),idx:c}));if(s.sort((l,c)=>l.relevance-c.relevance),r&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const c=s[0].relevance*i;s=s.filter(u=>c-u.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function pke(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[];const i=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=i;a++){r[0]=a;for(let l=1;l<=s;l++){const c=e[a-1],u=t[l-1];if(c.toLocaleLowerCase()===u.toLocaleLowerCase())++o,c===u&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<i/2-10&&++o,r[l]=n[l-1];else{const h=r[l-1],p=n[l],g=n[l-1];r[l]=1+Math.min(h,p,g)}}[n,r]=[r,n]}return n[s]/(o+1)}var EY={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},RA=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],gke={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:RA,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...RA,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...RA,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},mke={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function vke(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(r=>{const i=gke[r];i?i.forEach(s=>{const o=mke[s];(!o||o===t)&&n.push(s)}):n.push(r)}),n}var TY=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,yke=e=>{const t=e.map(r=>`import { ${Fv(r)} } from '${EY[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>Fv(r,!0)).join(", ")} ]); 

For more info see: ${hg}/modules/`};function Fv(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function wke(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>EY[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function RY({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var j6=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:o})=>{const a=vke(t,i),l=typeof e=="string"?e:Ske[e];if(o)return wke(l,a);const c=a.filter(p=>p==="IntegratedCharts"||p==="Sparklines"),u=c.length>0?`${c.map(p=>Fv(p)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(p=>Fv(p)).join(", "):Fv(a[0])} is not registered${n?" for gridId: "+r:""}. ${u} Check if you have registered the module:
`}
${yke(a)}`+(s?` 

${s}`:"")},W6=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,Cke=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,bke={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${Cke(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(r??[]).filter(a=>!!r[a])],o=sP({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${hg}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=sP({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:j6,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${hg}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>W6("IntegratedChartsModule"),258:()=>W6("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>j6({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:bg[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${hg}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>TY(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:RY,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function xke(e,t){const n=bke[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${Aq(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var Ske={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},$6=new WeakMap,q6=new WeakMap,Eke=1,Tke=class{create(e,t,n,r,i,s){const o=sq.applyGlobalGridOptions(t),a=o.gridId??String(Eke++),l=this.getRegisteredModules(i,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),u=this.createProvidedBeans(e,o,i);if(!c)return;const p={providedBeanInstances:u,beanClasses:c,gridId:a,beanInitComparator:vEe,beanDestroyComparator:yEe,derivedBeans:[gEe],destroyCallback:()=>{q6.delete(v),$6.delete(e),s?.()}},g=new Exe(p);this.registerModuleFeatures(g,l),n(g),g.getBean("syncSvc").start(),r?.(g);const v=g.getBean("gridApi");return $6.set(e,v),q6.set(v,e),v}getRegisteredModules(e,t,n){return _y(fke,void 0,!0),e?.modules?.forEach(r=>_y(r,t)),mxe(t,K6(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const s=i.apiFunctions;s&&Object.keys(s).forEach(a=>{r?.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;pr(r)&&(r=new KK);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=K6(e),s=r[i];if(!s){uv(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!wxe()){uv(272,void 0,TY());return}if(!e){const a=Object.entries(r).filter(([l,c])=>UD(c,n,l));if(a.length==1){const[l,c]=a[0];if(l!==i){const u={moduleName:c,rowModelType:l};uv(275,u,RY(u));return}}}if(!UD(s,n,i)){uv(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:s,gridScoped:DI(),gridId:n,rowModelType:i},`Missing module ${s}Module for rowModelType ${i}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function K6(e){return e??"clientSide"}function Zl(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function YE(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function _Y(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var Rke=class extends $e{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(r,i,s)=>t({key:r,defaultValue:i,variableValues:s});const n=e.get("localeText");return(r,i,s)=>{let o=n&&n[r];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??i}}};function _ke(e,t=!1){const n=[],r=[],i=[],s=[],o=[],a=[],l=[],c=[],u=[];let h=0;for(let p=0;p<e.length;p++){const{colId:g,sort:v,sortIndex:y,rowGroup:C,rowGroupIndex:b,aggFunc:E,pivot:x,pivotIndex:k,pinned:D,hide:R,width:_,flex:I}=e[p];u.push(g),v&&(n[y??h++]={colId:g,sort:v}),C&&(r[b??0]=g),typeof E=="string"&&i.push({colId:g,aggFunc:E}),x&&(s[k??0]=g),D&&(D==="right"?a:o).push(g),R&&l.push(g),(I!=null||_)&&c.push({colId:g,flex:I??void 0,width:_})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}function Ake(e){const t=[];return e.forEach(({groupId:n,open:r})=>{r&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var kke=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);return t?.forEach(s=>{this.createMethod(i,s,!0)}),n?.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&at(49,{methodName:t}),null)}}},Dke={tag:"div",cls:"ag-tooltip"},Pke=class extends zI{constructor(){super(Dke)}init(e){const{value:t}=e,n=this.getGui();n.textContent=ym(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},Fke=1e3,Ike=1e3,Y6=100,X6,rx=!1,Mke=class extends $e{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Lh()&&(rx?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},Y6):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||rx)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-X6<Fke}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!gt(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),r=Nt(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);uxe(this.userCompFactory,r)?.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),X6=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Pi(this.beans),{keydown:o=>{r.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Dr(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?Ike:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){rx=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Y6)}unlockService(){rx=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function _A(e){return e.get("tooltipShowMode")==="whenTruncated"}var Oke=class extends $e{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Mke(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function Nke(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var Lke=class extends $e{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Bke=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=t===0&&Lq(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(Nt(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Nt(this.gos,{accumulatedRowIndex:n,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:r,parseValue:p=>this.valueSvc.parseValue(e,i,p,this.valueSvc.getValue(e,i,void 0)),formatValue:p=>this.valueSvc.formatValue(e,i,p)??p}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,c=e.colDef.showRowGroup===!0&&(i.group||o);if(!l&&(s||c)){let p="",g=i;for(;g&&g.level!==-1;){const{value:v,valueFormatted:y}=a.getValueForDisplay(s?void 0:e,g,!0,!0);p=` -> ${y??v??""}${p}`,g=g.parent}return{value:p,valueFormatted:p}}const{value:u,valueFormatted:h}=a.getValueForDisplay(e,i,!0,!0);return{value:u??"",valueFormatted:h}}getHeaderName(e,t){return e?e(Nt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function Vke(e,t){const n=document.defaultView||window;if(!n){at(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var Hke={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},zs="clientSide",_s="serverSide",Ip="infinite",Gke={onGroupExpandedOrCollapsed:[zs],refreshClientSideRowModel:[zs],isRowDataEmpty:[zs],forEachLeafNode:[zs],forEachNodeAfterFilter:[zs],forEachNodeAfterFilterAndSort:[zs],resetRowHeights:[zs],applyTransaction:[zs],applyTransactionAsync:[zs],flushAsyncTransactions:[zs],getBestCostNodeSelection:[zs],getServerSideSelectionState:[_s],setServerSideSelectionState:[_s],applyServerSideTransaction:[_s],applyServerSideTransactionAsync:[_s],applyServerSideRowData:[_s],retryServerSideLoads:[_s],flushServerSideAsyncTransactions:[_s],refreshServerSide:[_s],getServerSideGroupLevelState:[_s],refreshInfiniteCache:[Ip],purgeInfiniteCache:[Ip],getInfiniteRowCount:[Ip],isLastRowIndexKnown:[Ip,_s],expandAll:[zs,_s],collapseAll:[zs,_s],onRowHeightChanged:[zs,_s],setRowCount:[Ip,_s],getCacheBlockState:[Ip,_s]},Uke={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function zke(e,t,n){const r=Uke[e];if(r){const{version:s,new:o,old:a,message:l}=r,c=a??e;return(...u)=>{const h=o?`Please use ${o} instead. `:"";return kv(`Since ${s} api.${c} is deprecated. ${h}${l??""}`),t.apply(t,u)}}const i=Gke[e];return i?(...s)=>{const o=n.rowModel.getType();if(!i.includes(o)){dg(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var jke={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},Wke={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},$ke={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},qke=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Kke=class extends $e{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,DCe(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Hke[t]&&at(22,{key:t})}processGridOptions(e){this.processOptions(e,lAe())}validateApiFunction(e,t){return zke(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=bg[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):at(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=jke[e];return t?Vl(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){Xke.has(e)&&at(10,{eventType:e})}validateIcon(e){if(qke.has(e)&&at(43,{iconName:e}),Wke[e])return;const t=$ke[e];if(t){jn(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:DI(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}at(134,{iconName:e})}isProvidedUserComp(e){return!!bg[e]}validateColDef(e){this.processOptions(e,Q_e())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,o,a);const l=new Set;Object.keys(e).forEach(u=>{const h=r[u];if(h){const{message:E,version:x}=h;l.add(`As of v${x}, ${String(u)} is deprecated. ${E??""}`)}const p=e[u];if(p==null||p===!1)return;const g=n[u];if(!g)return;const{dependencies:v,validate:y,supportedRowModels:C,expectedType:b}=g;if(b){const E=typeof p;if(E!==b){l.add(`${String(u)} should be of type '${b}' but received '${E}' (${p}).`);return}}if(C){const E=this.gridOptions.rowModelType??"clientSide";if(!C.includes(E)){l.add(`${String(u)} is not supported with the '${E}' row model. It is only valid with: ${C.join(", ")}.`);return}}if(v){const E=this.checkForRequiredDependencies(u,v,e);if(E){l.add(E);return}}if(y){const E=y(e,this.gridOptions,this.beans);if(E){l.add(E);return}}}),l.size>0&&l.forEach(u=>{kv(u)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],o=Yke(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const c=o[l];let u=`invalid ${r} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(u+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),kv(u)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);kv(`to see all the valid ${r} properties please check: ${l}`)}}getConsoleMessage(e,t){return xke(e,t)}};function Yke(e,t,n){const r={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>r[s]=sP({inputValue:s,allSuggestions:n}).values),r}var Xke=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Qke={moduleName:"Validation",version:Ct,beans:[Kke]};function AY(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Zke=class extends $e{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,AY(r)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],c):n(l,c)}n(s,o)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Jke=class extends UI{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,r,i){this.comp=e;const s=Yw(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Nt(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=da("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Cm(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Wg(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(Dr(t)===this.eGui)return;const i=Bf(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Ve.UP:case Ve.DOWN:case Ve.LEFT:case Ve.RIGHT:if(t)return;df(e);case Ve.ENTER:t&&ff(this.eGui)&&e.preventDefault();break;case Ve.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Bh(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===Ve.TAB);if(i&&s){const o=i.shiftKey;ff(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new GI(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!To(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,i=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(r.get("enableFilterHandlers")){const u=s;let h="filter";u?.afterFloatingFilter?h="ui":u?.afterDataChange?h="dataChanged":s?.source==="api"&&(h="api"),this.updateFloatingFilterParams(this.userCompDetails,h);return}const l=t?.getCurrentFloatingFilterParentModel(n),c=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(o=>{!o||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(r=>{typeof r?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:_i(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),r.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function eDe(e,t){const n=e.colModel.getCol(t);if(!n){jn(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function tDe(e){e.menuSvc?.hidePopupMenu()}var nDe={moduleName:"SharedMenu",version:Ct,beans:[T1e],apiFunctions:{showColumnMenu:eDe,hidePopupMenu:tDe}},ix=0,rDe=200,iDe=class extends $e{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:r,node:i,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const c=()=>{const u=this.keepXYWithinBounds(n,o.top-a.top,0),h=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${h}px`,l=!0);const g=a.right-a.left-h;let v;return this.gos.get("enableRtl")?(v=C(),v<0&&(v=y(),this.setAlignedStyles(n,"left")),v>g&&(v=0,this.setAlignedStyles(n,"right"))):(v=y(),v>g&&(v=C(),this.setAlignedStyles(n,"right")),v<0&&(v=0,this.setAlignedStyles(n,"left"))),{x:v,y:u};function y(){return o.right-a.left-2}function C(){return o.left-a.left-h}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,r,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=e,h=s.getBoundingClientRect(),p=this.getParentRect();this.setAlignedTo(s,t);const g=()=>{let v=h.left-p.left;o==="right"&&(v-=t.offsetWidth-h.width);let y;return a==="over"?(y=h.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,p,e.nudgeY||0)==="under"?y=h.top-p.top+h.height:y=h.top-t.offsetHeight-(r||0)*2-p.top),{x:v,y}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(u,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+r;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}callPostProcessPopup(e,t,n,r,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:h}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(u+=r),i&&(h+=i),n&&(u=this.keepXYWithinBounds(t,u,1),h=this.keepXYWithinBounds(t,h,0)),t.style.left=`${u}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=eu(this.beans,t,()=>l(!0));setTimeout(()=>c(),rDe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Pi(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),wq(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=Pi(this.beans),c=l.documentElement,u=this.getPopupParent(),h=e.getBoundingClientRect(),p=u.getBoundingClientRect(),g=l.documentElement.getBoundingClientRect(),v=u===l.body,y=Math.ceil(h[o]);let b=v?(r?yq:KS)(c)+c[a]:u[i];v&&(b-=Math.abs(g[s]-p[s]));const E=b-y;return Math.min(Math.max(t,0),Math.abs(E))}addPopup(e){const t=Pi(this.beans),{eChild:n,ariaLabel:r,ariaOwns:i,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return at(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const c=this.createPopupWrapper(n,!!s,r,i),u=this.addEventListenersToPopup({...e,wrapperEl:c});return o&&o(),this.addPopupToPopupList(n,c,u,a),{hideFunc:u}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();gt(e.style.top)||(e.style.top=`${n.top*-1}px`),gt(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const i=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=Yr({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||lf(e,"dialog"),n?Wg(e,n):r&&(e.id||(e.id=`popup-component-${ix}`),X5(r,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Pi(t),r=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c,ariaOwns:u}=e;let h=!1;const p=C=>{if(!i.contains(Dr(t)))return;C.key===Ve.ESCAPE&&!Mc(C)&&y({keyboardEvent:C})},g=C=>y({mouseEvent:C}),v=C=>y({touchEvent:C}),y=(C={})=>{const{mouseEvent:b,touchEvent:E,keyboardEvent:x,forceHide:k}=C;!k&&(this.isEventFromCurrentPopup({mouseEvent:b,touchEvent:E},s)||h)||(h=!0,r.removeChild(i),n.removeEventListener("keydown",p),n.removeEventListener("mousedown",g),n.removeEventListener("touchstart",v),n.removeEventListener("contextmenu",g),this.eventSvc.removeEventListener("dragStarted",g),o&&o(b||E||x),this.removePopupFromPopupList(s,u))};return a&&a({hidePopup:y}),window.setTimeout(()=>{l&&n.addEventListener("keydown",p),c&&(n.addEventListener("mousedown",g),this.eventSvc.addEventListener("dragStarted",g),n.addEventListener("touchstart",v),n.addEventListener("contextmenu",g))},0),y}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:ix,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),ix=ix+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&X5(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),o=h=>parseInt(h.substring(0,h.length-1),10),a=(h,p)=>{const g=n[h]-s[h],v=o(i.style[h]);return{initialDiff:g,lastDiff:g,initial:v,last:v,direction:p}},l=a("top",0),c=a("left",1),u=this.beans.frameworkOverrides;return new bn(h=>{u.wrapIncoming(()=>{u.setInterval(()=>{const p=t.getBoundingClientRect(),g=r.getBoundingClientRect();if(g.top==0&&g.left==0&&g.height==0&&g.width==0){e.hidePopup();return}const y=(C,b)=>{const E=o(i.style[b]);C.last!==E&&(C.initial=E,C.last=E);const x=p[b]-g[b];if(x!=C.lastDiff){const k=this.keepXYWithinBounds(i,C.initial+C.initialDiff-x,C.direction);i.style[b]=`${k}px`,C.last=k}C.lastDiff=x};y(l,"top"),y(c,"left")},200).then(p=>{h(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(tbe(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Pi(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],o=[];for(const p of n)p!==i&&(p.classList.contains("ag-always-on-top")?o.push(p):s.push(p));const a=[],l=o.length,h=i.classList.contains("ag-always-on-top")||!l?[...s,...o,i]:[...s,i,...o];for(let p=0;p<=r;p++){const g=h[p];if(n[p]===h[p]||g===i)continue;g.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&a.push([y,y.scrollTop])}),p===0?t.insertAdjacentElement("afterbegin",g):h[p-1].insertAdjacentElement("afterend",g)}for(;a.length;){const p=a.pop();p[0].scrollTop=p[1]}}},XE={moduleName:"Popup",version:Ct,beans:[iDe]},sDe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function oDe(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function aDe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function lDe(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function cDe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function uDe(e){return e.filterManager?.getFilterModel()??{}}function dDe(e,t,n){const{gos:r,colModel:i,colFilter:s}=e;n&&!r.get("enableFilterHandlers")&&(at(288),n=!1);const o=i.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function hDe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function fDe(e,t){const n=e.colModel.getCol(t);if(!n){jn(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function pDe(e){e.menuSvc?.hideFilterMenu()}function gDe(e,t){const n=e.colModel.getCol(t);if(!n){jn(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function mDe(e,t){const{colModel:n,colFilter:r,gos:i}=e;if(!i.get("enableFilterHandlers")){at(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&r?.updateModel(a,o)}else r?.updateAllModels(o)}var vDe={filterHandler:()=>({doesFilterPass:()=>!0})},yDe=class extends $e{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...kK},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:r,filterManager:i}=this.beans;if(r?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{const u=e[c];s.push(this.setModelOnFilterWrapper(l,u)),a.delete(c)}),a.forEach(l=>{const c=n.getColDefCol(l)||n.getCol(l);if(!c){at(62,{colId:l});return}if(!c.isFilterAllowed()){at(63,{colId:l});return}const u=this.getOrCreateFilterWrapper(c,!0);if(!u){at(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(u,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});bn.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((c,u)=>{const h=o?o[u]:null,p=a?a[u]:null;Cy(h,p)||l.push(c.column)}),l.length>0&&i?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);gt(a)&&(t[o]=a)}),!e)for(const s of Object.keys(r)){const o=r[s];gt(o)&&!n.has(s)&&i.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const i=t[r];this.state.set(r,{model:_i(this.model,r),state:i})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,i)=>{const s=r.state;s!=null&&(n=!0,t[i]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return _i(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(at(66),null):r.getModel():_i(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(at(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!VD(n),i=c=>{if(!c.isPrimary())return!0;const h=!t.isPivotActive();return!c.isValueActive()||!h?!1:t.isPivotMode()?!0:r},s=[],o=[],a=(c,u,h)=>{u&&(i(c)?s.push(h):o.push(h))},l=[];return this.allColumnFilters.forEach(c=>{const u=c.column,h=u.getColId();if(c.isHandler)l.push(bn.resolve().then(()=>{a(u,this.isHandlerActive(u),{colId:h,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const p=Du(c);p&&l.push(p.then(g=>{a(u,e(g),{colId:h,isHandler:!1,comp:g})}))}}),bn.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(r=>{const i=r.column;if(r.isHandler)n.push(bn.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const s=Du(r);s&&n.push(s.then(o=>{this.setColFilterActive(i,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),bn.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,a=this.model;for(let l=0;l<s.length;l++){const c=s[l],{colId:u,isHandler:h}=c;if(u!==t)if(h){const{handler:p,handlerParams:g}=c;if(!p.doesFilterPass({node:e,data:o,model:_i(a,u),handlerParams:g}))return!1}else{const p=c.comp;if(typeof p.doesFilterPass!="function"){jn(91);continue}if(!p.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{const{column:s,isHandler:o}=i;r!==s.getColId()&&(o&&i.handler.onAnyFilterChanged?.(),Du(i,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const r=n.isHandler;r&&n.handler.onNewRowsLoaded?.();const i=Du(n,r);i&&t.push(i.then(s=>{s.onNewRowsLoaded?.()}))}),bn.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(i,s)=>{const o=s?r.getCol(s):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():_i(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=gt(_i(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Du(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=Du(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return KCe(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":PSe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,s){const o=()=>{const c=this.createFilterCompParams(e,i,s),u=r(c,i);return oxe(this.beans.userCompFactory,t,u,n)},a=o();return a?{compDetails:a,createFilterUi:c=>(c?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,r,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:c,createFilterUi:u}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||at(281,{colId:e.getColId()})),{compDetails:c,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:u}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return Nt(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>n?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,r);if(s.filterChangedCallback=i,s.filterModifiedCallback=r?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=_i(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(c,u)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{i({...u,source:"columnFilter"})})},o.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},o.onAction=(c,u,h)=>{this.updateModel(e,c,u),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:h})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=c=>this.filterUiChanged(e,c),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:"init",model:_i(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:r,registry:i}=this.beans;let s;const o=h=>{const p=h.filter;if(sK(p)){const g=p.handler;return g||(s=p.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof p=="string"?p:void 0},a=n.get("enableFilterHandlers")?o(e):void 0,l=h=>()=>this.createBean(i.createDynamicBean(h,!0));let c,u;if(typeof a=="string"){const h=n.get("filterHandlers")?.[a];h!=null?c=h:vSe.has(a)&&(c=l(a),u=a)}else c=a;if(!c){let h;const{compName:p,jsComp:g,fwComp:v}=lK(r,e);p?h=p:g==null&&v==null&&e.filter===!0&&(h=t),u=this.handlerMap[h],u&&(c=l(u))}if(c)return{filterHandler:c,handlerNameOrCallback:s??u}}createHandler(e,t,n){let r=this.createHandlerFunc(t,n);if(!r){const c=this.gos;if(!c.get("enableFilterHandlers"))return;li(c)&&at(277,{colId:e.getColId()}),r=vDe}const i=cA(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=r,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,i);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),i=t(Nt(this.gos,{column:e,colDef:r})),s=this.createHandlerParams(e,n);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return Nt(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(r,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(r,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{i({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const i=r&&e.every(s=>r.isGroupFilter(s));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:i}=this.beans,s=p=>{const g=this.getOrCreateFilterUi(e);g?.then(v=>{p(Ry(v))})},o=e.getColDef(),a=i?.isSelectable(o)?i.getFilterDef(e,o):o,l=LSe(r,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),u=cA(n,a,this.createFilterCompParams(e,c,"init",!0)),h=Nt(this.gos,{column:e,filterParams:u,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(c){const p=h,g=e.getColId(),v=this.filterChangedCallbackFactory(e);p.onUiChange=y=>this.floatingFilterUiChanged(e,y),p.model=_i(this.model,g),p.onModelChange=(y,C)=>{this.updateStoredModel(g,y),this.refreshHandlerAndUi(e,y,"floating",!0).then(()=>{v({...C,source:"columnFilter"})})},p.getHandler=()=>this.getHandler(e,!0),p.source="init"}return dxe(n,o,h,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){if(e.isHandler){const i=t.getColId();delete this.initialModel[i],this.state.delete(i);const s=e.filterUi,o=this.createFilterUiForHandler(n,r);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:i,filterUi:s}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(s){if(s.created)return s.promise.then(l=>(n=i?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return bn.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,i=n.column,s=i.getColDef(),o=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=r.selectableFilter,c=l?.isSelectable(s)?l.getFilterDef(i,s):s,u=o?this.createHandlerFunc(c,this.getDefaultFilter(i)):void 0,h=!!u,p=n.isHandler;if(p!=h){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:g,createFilterUi:v}=(o?this.createFilterComp(i,c,a,C=>C,h,"colDef"):null)??{compDetails:null,createFilterUi:null},y=g?.params??cA(r.userCompFactory,c,this.createFilterCompParams(i,h,"colDef"));if(p){const C=u?.handlerNameOrCallback??u?.filterHandler,b=_i(this.model,e);if(n.handlerGenerator!=C){const E=n.handler,{handler:x,handlerParams:k}=this.createHandlerFromFunc(i,u.filterHandler,y);n.handler=x,n.handlerParams=k,n.handlerGenerator=C,delete this.model[e],x.init?.({...k,source:"init",model:null}),this.destroyBean(E),b!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const E=this.createHandlerParams(i,g?.params);n.handlerParams=E,n.handler.refresh?.({...E,source:"colDef",model:b})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,g)||!n.filterUi||!g){this.destroyFilterUi(n,i,g,v);return}n.filterUi.filterParams=y,Du(n,p)?.then(C=>{(C?.refresh?C.refresh(y):!0)===!1?this.destroyFilterUi(n,i,g,v):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:y})})}refreshHandlerAndUi(e,t,n,r){const i=this.cachedFilter(e);if(!i)return r&&this.getOrCreateFilterWrapper(e,!0),bn.resolve();if(!i.isHandler)return bn.resolve();const{filterUi:s,handler:o,handlerParams:a}=i;return ySe(()=>{if(s){const{created:l,filterParams:c}=s;if(l)return s.promise.then(u=>u?{filter:u,filterParams:c}:void 0);s.refreshed=!0}return bn.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(i=>{r(Ry(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:i}=this,s=e.getColId(),o=r.get(s);return o?o.model??null:_i(i,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const r=new Promise(i=>{n=i});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(r=>n(r))})}getStateForColumn(e){return this.state.get(e)??{model:_i(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):bn.resolve()}setColDefPropsForDataType(e,t,n){const r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:c}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,c,t,n)??{}:{filterParams:s,filterValueGetter:o}=ASe(i,l,c,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new bn(r=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){r();return}this.refreshHandlerAndUi(s,t,"api").then(()=>r());return}const i=Du(e);if(i){i.then(s=>{if(typeof s?.setModel!="function"){at(65),r();return}(s.setModel(t)||bn.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){gt(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n?.state};this.state.set(e,r)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const r=e.getColId(),i=()=>this.cachedFilter(e)?.filterUi;h6(t,i,()=>_i(this.model,r),()=>this.state.get(r),s=>this.updateState(e,s),s=>i()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,i)=>{const s=this.beans.colModel.getColDefCol(i);s&&h6(e,()=>r.filterUi,()=>_i(this.model,i),()=>this.state.get(i),o=>this.updateState(s,o),o=>{this.updateStoredModel(i,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&bn.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();PK(()=>this.cachedFilter(e)?.filterUi,()=>_i(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let r=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==_i(t,i)&&(r=!0)}return r}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==_i(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function wDe(e){return!!e.filterManager?.isAnyFilterPresent()}function CDe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var bDe=class extends $e{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){VD(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):bn.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:r};n&&Ns(i,n),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!VD(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){at(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},xDe=class extends $e{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,To(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,s="left";const o=To(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const a=o?void 0:4*i,l=o?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,r)}showPopup(e,t,n,r,i,s){const o=e?this.createBean(new ESe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){jn(57);return}const a=Yr({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:y=>this.trapFocusWithin(y,a)}),a.appendChild(o?.getGui());let l;const c=()=>o?.afterGuiDetached(),u=YCe(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,h=y=>{C6(e,!1,"contextMenu");const C=y instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),C&&r&&ql(r)&&xK(r)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},p=this.getLocaleTextFunc(),g=i&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),v=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:h,positionCallback:()=>t(a),anchorToElement:u,ariaLabel:g});v&&(this.hidePopup=l=v.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),C6(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Ve.TAB||e.defaultPrevented||Bf(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),ff(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},SDe=class extends $e{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:i,valueSvc:s}=this.beans,o=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,r):s.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:o}=this.beans,a=Nt(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},EDe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},TDe=class extends ir{constructor(){super(EDe,[qE]),this.eFloatingFilterText=Pt}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const i=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},ZI=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(at(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;at(73)}else at(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Iv(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function m1(e){return e==null||typeof e=="string"&&e.trim().length===0}function RDe(e){return e==="AND"||e==="OR"?e:"AND"}function _De(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function ADe(e,t){let n=e.length;return n>t&&(e.splice(t),at(78),n=t),n}function Fy(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var JI=class extends OSe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new ZI;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=RDe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&Lf(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),bn.resolve();if(e.operator){const r=e;let i=r.conditions;i==null&&(i=[],at(77));const s=ADe(i,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=r.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),bn.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(at(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(at(80),n=1),n>t&&(at(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new qI);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,i=>this.resetInput(i)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=Yr({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new tEe);e.push(r);const i="ag-filter-condition-operator";return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(xy(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{Er(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOrs.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,s,o)=>{this.setElementDisplayed(r,i<o),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){Iv(e,t,n).forEach(i=>qc(i))}removeComponents(e,t,n){Iv(e,t,n).forEach(i=>{qc(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof _h&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),r=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof _h))return;const s=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof _h&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ir&&Er(e.getGui(),t)}setElementDisabled(e,t){e instanceof ir&&xy(e.getGui(),t)}attachElementOnChange(e,t){e instanceof _h&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=Fy(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&n(o,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Fy(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},kY=class{constructor(e,t,n,r,i,s){this.alive=!0,this.context=e,this.eParent=i;const o=axe(t,n,r);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Er(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},eM=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function DY(e,t){const{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&no(n)||null,r&&no(r)||null].slice(0,Fy(i,t))}var Q6=1e3,Z6=1/0,kDe=class extends JI{constructor(){super("dateFilter",DY,eM),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Q6,this.maxValidYear=Z6,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,c)=>{const u=e[l];if(u!=null)if(isNaN(u))at(82,{param:l});else return u==null?c:Number(u);return c},n=t("minValidYear",Q6),r=t("maxValidYear",Z6);this.minValidYear=n,this.maxValidYear=r,n>r&&at(83);const{minValidDate:i,maxValidDate:s}=e,o=i instanceof Date?i:no(i);this.minValidDate=o;const a=s instanceof Date?s:no(s);this.maxValidDate=a,o&&a&&o>a&&at(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:r},params:i}=this,s=new kY(n,t,i.colDef,Nt(r,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Yr({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const i=Yr({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Iv(this.eConditionPanelsFrom,e,t),Iv(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){Iv(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,s)=>{i!==e||!t||r>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=Do(r[0])),r.length>1&&(n.dateTo=Do(r[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},PY=class extends $e{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new ZI;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);const i=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return r[i](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let s=NSe(t)?t.conditions:[t];const o=n?.map(u=>typeof u=="string"?u:u.displayKey)??this.defaultOptions;if(!(!s||s.every(u=>o.find(h=>h===u.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const c=this.filterType;if((s&&!s.every(u=>u.filterType===c)||t.filterType!==c)&&(s=s.map(u=>({...u,filterType:c})),l=!0),typeof r=="number"&&s&&s.length>r&&(s=s.slice(0,r),l=!0),l){const u=s.length>1?{...t,filterType:c,conditions:s}:{...s[0],filterType:c};this.params={...e,model:u},e.onModelChange(u);return}}individualConditionPasses(e,t,n){const r=this.optionsFactory,i=this.mapValuesFromModel(t,r),s=r.getCustomOption(t.type),o=_De(s,i,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},FY=class extends PY{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return m1(t);case"notBlank":return!m1(t);default:return at(76,{filterModelType:r}),!0}}},IY={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},DDe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},tM=class extends $e{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?Wu(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(c=>this.getModelAsString(c,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Wu(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?Wu(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:c}=o||{};return a&&l&&c===0?n(a,l):this.conditionToString(s,r,s.type==="inRange"||c===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,s){let o;const a=this.getTypeKey(e);return a&&(o=Wu(this,a)),i&&s&&(o=this.getLocaleTextFunc()(i,s)),o!=null?t?`${o} ${Wu(this,"filterSummaryInRangeValues",[n(),r()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},MY=class extends tM{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:i}=this.beans,s=t.column,a=r?.getDateFormatterFunction(s)?.(n??void 0);return i.formatValue(s,null,a)}),this.filterTypeKeys=IY}conditionToString(e,t,n,r,i){const{type:s}=e,o=no(e.dateFrom),a=no(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):p=>qD(p,l),u=()=>o!==null?c(o):"null",h=()=>a!==null?c(a):"null";if(t){const p=this.conditionForToolPanel(s,n,u,h,r,i);if(p!=null)return p}return n?`${u()}-${h()}`:o!=null?c(o):`${s}`}};function PDe(e,t){const n=t;return n<e?-1:n>e?1:0}var FDe=class extends FY{constructor(){super(DY,eM),this.filterType="date",this.FilterModelFormatterClass=MY}comparator(){return this.params.filterParams.comparator??PDe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},OY=class extends ir{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new ZI;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:i}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},IDe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},MDe=class extends OY{constructor(){super(IDe,[qE]),this.eReadOnlyText=Pt,this.eDateWrapper=Pt,this.FilterModelFormatterClass=MY,this.filterType="date",this.defaultOptions=eM}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?no(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Er(this.eDateWrapper,e),Er(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=Do(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=MI(e,this.defaultDebounceMs);return Nt(this.gos,{onDateChanged:Zi(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new kY(e,t,r.column.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},ODe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},NDe=class extends ir{constructor(){super(ODe,[qE]),this.eDateInput=Pt,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&If();const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},u=this.beans.dataTypeSvc,h=l??u?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(n?h?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&r&&at(85),o&&i&&at(86),s&&o){const[p,g]=[s,o].map(v=>v instanceof Date?v:no(v));p&&g&&p.getTime()>g.getTime()&&at(87)}s?s instanceof Date?t.min=qD(s):t.min=s:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=qD(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return no(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Do(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},nM=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function oP(e){const{allowedCharPattern:t}=e??{};return t??null}function aP(e){return e==null||isNaN(e)?null:e}function NY(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[aP(n),aP(r)].slice(0,Fy(i,t))}var LDe=class extends JI{constructor(){super("numberFilter",NY,nM),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createEValue(){const e=oP(this.params),t=Yr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new Vf({allowedCharPattern:r}):new $I);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(aP(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Ic(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},LY=class extends tM{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=IY}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),r,i);if(c!=null)return c}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},BDe=class extends FY{constructor(){super(NY,nM),this.filterType="number",this.FilterModelFormatterClass=LY}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},BY=class extends $e{constructor(e){super(),this.params=e,this.eInput=Pt,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Vf(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function VY(e){const t=e?.trim();return t===""?e:t}function HY(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,Fy(i,t))}var VDe={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},GY=class extends OY{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Pt,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(VDe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=WE(e.filterParams),!i){const s=MI(e.filterParams,r),o=Zi(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Io(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===Ve.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:i,lastType:s}=this;let o=r.getValue();if(i.filterParams.trimInput&&(o=VY(o),r.setValue(o,!0)),n){const a=i,l=a.model,c=this.convertValue(o),u=c==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:c};a.onModelChange(u,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},HDe=class extends $e{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new $I),this.eTextInput=this.createManagedBean(new Vf),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},GDe=class extends GY{constructor(){super(...arguments),this.FilterModelFormatterClass=LY,this.filterType="number",this.defaultOptions=nM}updateParams(e){oP(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=oP(e.filterParams),this.allowedCharPattern?this.createManagedBean(new BY({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new HDe)}convertValue(e){return e?Number(e):null}},rM=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],UDe=class extends JI{constructor(){super("textFilter",HY,rM),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,s,o)=>{if(i<o){let a=Ic(r.getValue());t&&this.params.trimInput&&(a=VY(a)??null,r.setValue(a,!0)),n.push(a)}}),n}createEValue(){const e=Yr({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new Vf);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},UY=class extends tM{constructor(){super(...arguments),this.filterTypeKeys=DDe}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e;if(t){const l=u=>()=>Wu(this,"filterSummaryTextQuote",[u]),c=this.conditionForToolPanel(a,n,l(s),l(o),r,i);if(c!=null)return c}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},zDe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},jDe=e=>e,WDe=e=>e==null?null:e.toString().toLowerCase(),$De=class extends PY{constructor(){super(HY,rM),this.filterType="text",this.FilterModelFormatterClass=UY}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??zDe,this.formatter=t.textFormatter??(t.caseSensitive?jDe:WDe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(p=>this.formatter(p))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,filterParams:{textFormatter:u}}=this.params;if(n.type==="blank")return m1(t);if(n.type==="notBlank")return!m1(t);const h={api:o,colDef:a,column:l,context:c,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:u};return i.some(p=>this.matcher({...h,filterText:p}))}},qDe=class extends GY{constructor(){super(...arguments),this.FilterModelFormatterClass=UY,this.filterType="text",this.defaultOptions=rM}createFloatingFilterInputService(){return this.createManagedBean(new BY)}};function KDe(e){return!!e.quickFilter?.isFilterPresent()}function YDe(e){return e.quickFilter?.getText()}function XDe(e){e.quickFilter?.resetCache()}var QDe=class extends $e{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?r?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return gt(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){at(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return gt(r)&&r.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=Nt(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return gt(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const r=this.getTextForColumn(n,e);gt(r)&&t.push(r)}),t.join(`
`)}},ZDe={moduleName:"ClientSideRowModelFilter",version:Ct,rowModels:["clientSide"],beans:[Zke]},iM={moduleName:"FilterCore",version:Ct,beans:[bDe],apiFunctions:{isAnyFilterPresent:wDe,onFilterChanged:CDe},css:[sDe],dependsOn:[ZDe]},zY={moduleName:"FilterValue",version:Ct,beans:[SDe]},QE={moduleName:"ColumnFilter",version:Ct,beans:[yDe,xDe],dynamicBeans:{headerFilterCellCtrl:Jke},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:oDe,getColumnFilterInstance:aDe,destroyFilter:lDe,setFilterModel:cDe,getFilterModel:uDe,getColumnFilterModel:dDe,setColumnFilterModel:hDe,showColumnFilter:fDe,hideColumnFilter:pDe,getColumnFilterHandler:gDe,doFilterAction:mDe},dependsOn:[iM,XE,zY,nDe]},JDe={moduleName:"CustomFilter",version:Ct,userComponents:{agReadOnlyFloatingFilter:TDe},dependsOn:[QE]},ePe={moduleName:"TextFilter",version:Ct,dependsOn:[QE],userComponents:{agTextColumnFilter:{classImp:UDe,params:{useForm:!0}},agTextColumnFloatingFilter:qDe},dynamicBeans:{agTextColumnFilterHandler:$De}},tPe={moduleName:"NumberFilter",version:Ct,dependsOn:[QE],userComponents:{agNumberColumnFilter:{classImp:LDe,params:{useForm:!0}},agNumberColumnFloatingFilter:GDe},dynamicBeans:{agNumberColumnFilterHandler:BDe}},nPe={moduleName:"DateFilter",version:Ct,dependsOn:[QE],userComponents:{agDateColumnFilter:{classImp:kDe,params:{useForm:!0}},agDateInput:NDe,agDateColumnFloatingFilter:MDe},dynamicBeans:{agDateColumnFilterHandler:FDe}},rPe={moduleName:"QuickFilterCore",version:Ct,rowModels:["clientSide"],beans:[QDe],dependsOn:[iM,zY]},iPe={moduleName:"QuickFilter",version:Ct,apiFunctions:{isQuickFilterPresent:KDe,getQuickFilter:YDe,resetQuickFilter:XDe},dependsOn:[rPe]},sPe={moduleName:"ExternalFilter",version:Ct,dependsOn:[iM]},oPe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",AA=(e,t,n)=>{const{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},aPe=class extends $e{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=_A(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!r&&i&&!a.headerComponent&&(r=Xx(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:r};let c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=_A(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!r&&i&&!a?.headerGroupComponent&&(r=Xx(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:r};a&&(l.getColDef=()=>a);const c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:i,editSvc:s}=r,{column:o,rowNode:a}=e;let l="cell";const c=()=>{const g=!!!s?.isEditing(e)&&AA(r,e,this.getLocaleTextFunc());if(g)return l="cellEditor",g;l="cell";const v=o.getColDef(),y=a.data;if(v.tooltipField&&gt(y))return _v(y,v.tooltipField,o.isTooltipFieldContainsDots());const C=v.tooltipValueGetter;return C?C(Nt(i,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},u=_A(i);n||(u&&!e.isCellRenderer()?n=()=>{const p=!!s?.isEditing(e);if(!p&&AA(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const y=Xx(()=>{const C=e.eGui;return C.children.length===0?C:C.querySelector(".ag-cell-value")});return!p&&y()}:n=()=>!s?.isEditing(e));const h={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(h,r)}setupFullWidthRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(i,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>AA(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),u=!!l&&l.size>0,h=!!c&&c.size>0;return u||h}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=gt(t.tooltipField)||gt(t.tooltipValueGetter)||gt(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},jY={moduleName:"Tooltip",version:Ct,beans:[aPe],dynamicBeans:{tooltipFeature:Oke},userComponents:{agTooltipComponent:Pke},dependsOn:[XE],css:[oPe]},qp=class{constructor(e){this.cellValueChanges=e}},kA=class extends qp{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},lPe=10,J6=class{constructor(e){this.actionStack=[],this.maxStackSize=e||lPe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},cPe=class extends $e{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&pK(this.activeCellEdit,t),r=this.activeRowEdit!==null&&Axe(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new J6(n),this.redoStack=new J6(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],i),s instanceof kA?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:s,columnId:o}=r,a={rowIndex:i,rowPinned:s},l=Kc(this.beans,a);l.displayed&&l.setDataValue(o,t(r),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=Kc(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,a=i.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:r};s.setFocusedCell({...c,forceBrowserFocus:!0}),o?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new qp(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new qp(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new qp(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new kA(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&md(n)?e=new kA(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new qp(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new qp(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},uPe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",dPe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},hPe=class extends $E{constructor(){super(dPe,[WI]),this.eEditor=Pt}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=UE(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},ZE=class extends $E{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Pt}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;r?(this.focusAfterAttached=!0,i===Ve.BACKSPACE||i===Ve.DELETE?o="":i&&i.length===1?s?a=!1:o=i:(o=t.getStartValue(),i!==Ve.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:c}=l;(c===Ve.PAGE_UP||c===Ve.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;If()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},fPe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},pPe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return fPe}getAgComponents(){return[$K]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:i,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const l=r instanceof Date?r:new Date(r);if(t<l){const c=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const c=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!gt(n)&&!gt(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Do(e,this.includeTime??!1)}},gPe=class extends ZE{constructor(){super(new pPe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},mPe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},vPe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return mPe}getAgComponents(){return[$K]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:s,getValidationErrors:o}=t;let a=[];if(r){const l=new Date(r),c=this.getLocaleTextFunc();if(i){const u=new Date(i);if(l<u){const h=u.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${h}`,[h]))}}if(s){const u=new Date(s);if(l>u){const h=u.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${h}`,[h]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!gt(n)&&!gt(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Do(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):no(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Do(e??null,this.includeTime??!1)??void 0}},yPe=class extends ZE{constructor(){super(new vPe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},wPe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},CPe=class extends $E{constructor(){super(wPe,[rEe]),this.eEditor=Pt}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,value:i,maxLength:s,cols:o,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(a||10);let l;n?(this.focusAfterAttached=!0,r===Ve.BACKSPACE||r===Ve.DELETE?l="":r&&r.length===1?l=r:(l=i.toString(),r!==Ve.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=i.toString()),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Ve.LEFT||t===Ve.UP||t===Ve.RIGHT||t===Ve.DOWN||e.shiftKey&&t===Ve.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!gt(r)&&!gt(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},bPe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},xPe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return bPe}getAgComponents(){return[iEe]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),r?r({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===Ve.UP||e.key===Ve.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!gt(n)&&!gt(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){If()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},SPe=class extends ZE{constructor(){super(new xPe(()=>this.getLocaleTextFunc()))}},EPe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},TPe=class extends $E{constructor(){super(EPe,[dEe]),this.eEditor=Pt,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:o}=e;if(pr(i)){at(58);return}this.startedByEnter=o!=null?o===Ve.ENTER:!1;let a=!1;i.forEach(h=>{const p={value:h},g=n.formatValue(e.column,null,h),v=g!=null;p.text=v?g:h,t.addOption(p),a=a||s===h}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let i=[];if(t&&!t.includes(r)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},RPe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},_Pe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return RPe}getAgComponents(){return[qE]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof r=="string"&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!gt(n)&&!gt(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=gt(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},eH=class extends ZE{constructor(){super(new _Pe(()=>this.getLocaleTextFunc()))}};function APe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function kPe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function WY(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function $Y(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function DPe(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function PPe(e){e.undoRedo?.undo("api")}function FPe(e){e.undoRedo?.redo("api")}function IPe(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((r,i)=>{const{rowIndex:s,rowPinned:o}=i;r.forEach((a,l)=>{const{editorValue:c,pendingValue:u,sourceValue:h,state:p}=a,g=rd(a);let v=c??u;v===xa&&(v=void 0);const y={newValue:v,oldValue:h,state:p,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(p==="editing"||p==="changed"&&g)&&n.push(y)})}),n}function MPe(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(r=>{r.state==="editing"&&n.revertSingleCellEdit(r)}):Rh(e,!0),mg(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function OPe(e,t){const n=ur(e,t);return e.editSvc?.isEditing(n)??!1}function NPe(e,t){const{key:n,colKey:r,rowIndex:i,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(r);if(!l){at(12,{colKey:r});return}const u=Kc(e,{rowIndex:i,rowPinned:s||null});if(!u){at(290,{rowIndex:i,rowPinned:s});return}if(!l.isCellEditable(u))return;s==null&&$Y(e,i),WY(e,r),o?.startEditing({rowNode:u,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function LPe(e){return e.editSvc?.validateEdit()||null}function BPe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function VPe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var HPe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},GPe=class extends zI{constructor(e){super(HPe),this.params=e}postConstruct(){uf(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{XD(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},v1=(e,t=!1)=>{if(e!==void 0)return rd(e)||t&&e.state==="editing"};function qY(e,t,n=!1){return v1(e.editModelSvc?.getEdit(t),n)}function KY(e,t){const{editModelSvc:n}=e,{column:r,rowNode:i}=t;if(e.gos.get("groupTotalRow")&&!i?.footer)return!1;for(const s of i?.allLeafChildren??[])if(v1(n?.getEdit({rowNode:s,column:r}))||v1(n?.getEdit({rowNode:s.pinnedSibling,column:r})))return!0}function YY(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return v1(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var UPe=class extends $e{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=qY(n,e)||KY(n,e)||YY(n,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},zPe=class extends $e{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,i=t?.getEditRow(r);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){const o=Array.from(i.keys()).some(a=>{const l={rowNode:r,column:a};return qY(n,l,!0)||KY(n,l)||YY(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",r&&t),i.toggleCss("ag-row-batch-edit",r&&t&&n),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},jPe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const i=new Set;return e.forEachNode(s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("top",s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("bottom",s=>r.has(s)&&i.add(s)),r.forEach(s=>{i.has(s)||n.removeEdits({rowNode:s})}),i},WPe=({editModelSvc:e},t,n)=>{t.forEach(r=>e?.getEditRow(r)?.forEach((i,s)=>!n.has(s)&&e.removeEdits({rowNode:r,column:s})))},$Pe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());WPe(e,jPe(e,r),t)},qPe=new Set(["undo","redo"]),XY={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},KPe=new Set(Object.keys(XY)),YPe=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),sx={cancel:!0,source:"api"},XPe={cancel:!1,source:"api"},Mp={checkSiblings:!0},j0={force:!0,suppressFlash:!0},QPe=class extends $e{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,sx),this.createStrategy(r)});const t=$Pe(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||i?this.stopEditing(void 0,sx):this.isEditing()&&(this.isBatchEditing()?mg(e,this.model.getEditPositions()):this.stopEditing(void 0,XPe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,sx)):(this.stopEditing(void 0,sx),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,i=e??n.get("editType")??"singleCell";if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,r)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return Vxe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Mp)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:i="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=ur(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const a=this.shouldStartEditing?.(e,r,n,i);if(a===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&this.stopEditing(void 0,{source:i}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,r,i,s)}stopEditing(e,t){const{event:n,cancel:r,source:i="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(KPe.has(i))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:XY[i]});if(!(this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,Mp))||!this.strategy)return!1;const c=ur(o,e);c&&(c.onEditorAttachedFuncs=[]);let u=a.getEditMap(!0),h=!1;const p=!r&&!!this.shouldStopEditing(e,n,i),g=r&&!!this.shouldCancelEditing(e,n,i);if(p||g){Rh(o,!0);const v=a.getEditMap();this.processEdits(v,r),this.strategy?.stop(r,n),this.bulkRefresh(void 0,u),u=v,h||(h=p)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const v=n.key,y=v===Ve.ENTER,C=v===Ve.ESCAPE,b=v===Ve.TAB;(y||b||C)&&(y||b?Rh(o,!0):C&&this.revertSingleCellEdit(c),this.isBatchEditing()?this.strategy?.cleanupEditors():mg(o,a.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,u,{suppressFlash:!0}),u=a.getEditMap())}else Rh(o,!0),u=a.getEditMap();return h&&e&&this.model.removeEdits(e),!s&&c&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,c.cellPosition),jD(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),g&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(u.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),h&&p&&this.dispatchBatchEvent("batchEditingStopped",u)),h}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?Ve.UP:Ve.DOWN;this.beans.navigation?.navigateToNextCell(null,r,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:r}=this,i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const a=e.get(o);for(const l of a.keys()){const c=a.get(l),u={rowNode:o,column:l},h=ur(r,u),p=rd(c),g=h?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!g&&p&&!i&&(this.setNodeDataValue(o,l,c.pendingValue)||s.push(u)),h?.refreshCell(j0)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,r){const{beans:i}=this,s=ur(i,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),r&&s?.refreshCell(j0),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(j0)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:i}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:r,gos:i}=this,{editModelSvc:s,rowModel:o}=r;li(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),n)}))}refCell({rowNode:e,column:t},n,r={}){const{beans:i,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const c=e.sibling;c&&a.add(c);let u=e.parent;for(;u;)u.sibling?.footer&&s.get("groupTotalRow")||!u.parent&&u.sibling&&s.get("grandTotalRow")?a.add(u.sibling):a.add(u),u=u.parent;o.forEach(h=>this.dispatchEditValuesChanged({rowNode:h,column:t},n)),o.forEach(h=>ur(i,{rowNode:h,column:t})?.refreshCell(r)),a.forEach(h=>ur(i,{rowNode:h,column:t})?.refreshCell(r))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const r=ur(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(r&&this.revertSingleCellEdit(r),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=ur(this.beans,e);n?.comp?.getCellEditor()&&(mg(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Kg(this.beans,e,{silent:!0}),hf(this.beans),n?.refreshCell(j0),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){hf(this.beans);const t=ur(this.beans,e);t&&(t.refreshCell(j0),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){let i;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof yg&&s&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const o=this.model.getEdit({rowNode:i,column:t});o&&(r=o)}const s=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return s===xa||!r?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){Ixe(this,this.beans,e)}createPopupEditorWrapper(e){return new GPe(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!YPe.has(n))return;const{beans:r}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":"api";if(!n||qPe.has(n))return nS(r,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return nS(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return nS(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){Nxe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Mp))return;const{rowNode:r,column:i}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(r,Mp),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,Mp);if(o!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,r)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Nt(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:r,rangeSvc:i,valueSvc:s}=this;Rh(r,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(c=>{if(i?.forEachRowInRange(c,u=>{const h=Kc(r,u);if(h===void 0)return;const p=o.get(h)??new Map;for(const g of c.columns)if(g&&this.isCellEditable({rowNode:h,column:g},"api")){const v=s.getValue(g,h,!0,"api");let y=s.parseValue(g,h??null,a,v);Number.isNaN(y)&&(y=null),p.set(g,{editorValue:void 0,pendingValue:y,sourceValue:v,state:"changed"})}p.size>0&&o.set(h,p)}),this.setEditMap(o),this.batch){this.cleanupEditors(),jD(r),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=ur(r,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new UPe(e,t)}createRowStyleFeature(e,t){return new zPe(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:i}=n,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:c,rowPinned:u,newValue:h,state:p})=>{const g=o?r.getCol(o):l?r.getCol(l):a;if(!g)return;const v=Kc(n,{rowIndex:c,rowPinned:u});if(!v)return;const y=i.getValue(g,v,!0,"api");if(!rd({pendingValue:h,sourceValue:y})&&p!=="editing")return;let C=s.get(v);C||(C=new Map,s.set(v,C)),h===void 0&&(h=xa),C.set(g,{editorValue:void 0,pendingValue:h,sourceValue:y,state:p??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=ur(this.beans,e);if(!t||!this.isEditing(t,Mp))return;const n=this.model.getEdit(t);if(!n||!rd(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return ur(this.beans,e)}},QY=class extends $e{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=ur(i,n));const{gos:o,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:u,rowPinned:h}=e,p={column:c,rowNode:Kc(i,{rowIndex:u,rowPinned:h})},g=o.get("invalidEditValueMode")==="block";if(g)return;const v=!g,y=!!a?.getCellValidationModel().hasCellValidation(p),C=v&&y;(n||l?r.stopEditing(void 0,{cancel:C,source:l&&v?"api":void 0,event:s}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(r.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){r.fail.push(s);return}r.pass.push(s)}),e)return n.forEach(s=>{c1(this.beans,s),this.model.stop(s)}),!0;const i=this.processValidationResults(r);return i.destroy.length>0&&i.destroy.forEach(s=>{c1(this.beans,s,{event:t}),this.model.stop(s)}),i.keep.length>0&&i.keep.forEach(s=>{const o=ur(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Rh(this.beans,!1);const n=this.model.getEditPositions(),r=[];e?n.forEach(i=>{!e||i.rowNode===e||r.push(i)}):n.forEach(i=>{r.push(i)}),mg(this.beans,r),jD(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,r,i=!1){const s=r instanceof KeyboardEvent&&!i&&r.key||void 0;Oxe(this.beans,e,t,s,r,n)}dispatchCellEvent(e,t,n,r){const i=ur(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t){const n=PI(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,r="ui"){if(t instanceof KeyboardEvent&&(t.key===Ve.TAB||t.key===Ve.ENTER||t.key===Ve.F2||t.key===Ve.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:r==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===Ve.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===Ve.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((r,i)=>{r.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:i,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const r=n.at(-1),i=r.pendingValue===xa?void 0:r.pendingValue;this.start(r,new KeyboardEvent("keydown",{key:i}),"api");const s=ur(this.beans,r);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},ZPe=class extends QY{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(i=>super.isCellEditable({rowNode:e.rowNode,column:i},t))}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!PI(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",r){const{rowNode:i}=e;this.rowNode!==i&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:i},"rowEditingStarted"),this.startedRows.push(i);const s=this.beans.visibleCols.allCols,o=[];s.forEach(a=>{if(!a.isCellEditable(i))return;const l={rowNode:i,column:a};o.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=i,this.setupEditors(o,e,!0,t,r)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];return e||this.model.getEditMap().forEach((i,s)=>{if(!(!i||i.size===0)){for(const o of i.values())if(rd(o)){r.push(s);break}}}),hf(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),r.forEach(i=>this.dispatchRowEvent({rowNode:i},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const r=ur(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),c=o.isCellEditable(),u=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const h=this.gos.get("suppressStartEditOnTab");return c&&!i?h?o.focusCell(!0,n):(o.comp?.getCellEditor()||Kg(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(c&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!u&&!i&&(this.cleanupEditors(o,!0),h?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{if(n!=="editing")return;const i=ur(this.beans,{rowNode:t,column:r});i&&!i.comp?.getCellEditor()&&Kg(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},JPe=class extends QY{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",r){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,r)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:s}=e,o=Kc(this.beans,{rowIndex:r,rowPinned:s}),a=zD(i),l=t.getCol(a),c=e.previousParams;if(c){const u=zD(c.column);if(c?.rowIndex===r&&u===a&&c?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,c=e.isCellEditable(),u=o.isCellEditable(),h=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;c&&!i&&this.setFocusOutOnEditor(e);const p=this.gos.get("suppressStartEditOnTab");return!h&&!i&&(super.cleanupEditors(o,!0),p?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),u&&!i?(o.focusCell(!1,n),p?o.focusCell(!0,n):o.comp?.getCellEditor()||(Kg(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(u&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},Md={moduleName:"EditCore",version:Ct,beans:[Txe,QPe],apiFunctions:{getEditingCells:IPe,getCellEditorInstances:Mxe,startEditingCell:NPe,stopEditing:MPe,isEditing:OPe,validateEdit:LPe},dynamicBeans:{singleCell:JPe,fullRow:ZPe},dependsOn:[XE,jY],css:[uPe]},eFe={moduleName:"UndoRedoEdit",version:Ct,beans:[cPe],apiFunctions:{undoCellEditing:PPe,redoCellEditing:FPe,getCurrentUndoSize:BPe,getCurrentRedoSize:VPe},dependsOn:[Md]},tFe={moduleName:"TextEditor",version:Ct,userComponents:{agCellEditor:eH,agTextCellEditor:eH},dependsOn:[Md]},nFe={moduleName:"NumberEditor",version:Ct,userComponents:{agNumberCellEditor:{classImp:SPe}},dependsOn:[Md]},rFe={moduleName:"DateEditor",version:Ct,userComponents:{agDateCellEditor:gPe,agDateStringCellEditor:yPe},dependsOn:[Md]},iFe={moduleName:"CheckboxEditor",version:Ct,userComponents:{agCheckboxCellEditor:hPe},dependsOn:[Md]},sFe={moduleName:"SelectEditor",version:Ct,userComponents:{agSelectCellEditor:TPe},dependsOn:[Md]},oFe={moduleName:"LargeTextEditor",version:Ct,userComponents:{agLargeTextCellEditor:CPe},dependsOn:[Md]},aFe={moduleName:"CustomEditor",version:Ct,dependsOn:[Md]},lFe=class extends $e{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,gg(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),pbe(e))}createColumns(e,t){const n=()=>{i1(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,s=(this.columns?.treeDepth??-1)==r,o=this.generateSelectionCols();if(fbe(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,u=l?.balanceTreeForAutoCols(o,c)??[];this.columns={list:o,tree:u,treeDepth:c,map:{}},t(p=>{if(!p)return null;const g=p.filter(v=>!Id(v));return[...o,...g]})}updateColumns(e){const t=gg(e.source);this.columns?.list.forEach(n=>{const r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),Ga(this.beans,{state:[{...r,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>Yq(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Vh(e))return!1;const r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!pg(n),s=Qx(n);return i||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(a,l,c,u){const h=c.isSelected(),p=u.isSelected();return h===p?0:h?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:$q,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new Nf(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?pg(t):void 0,i=e&&typeof e!="string"?pg(e):void 0,s=r!==i,o=t&&typeof t!="string"?Qx(t):void 0,a=e&&typeof e!="string"?Qx(e):void 0,l=o!==a,c=JS(e),u=JS(t);(s||l||c!==u)&&this.beans.colModel.refreshAll(n)}destroy(){i1(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const r=e.length+t.length+n.length;if(r===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&ba(l,i)};(this.beans.rowNumbersSvc?.getColumn(qq)?2:1)===r&&s()}};function cFe(e,t){if(!t.nodes.every(o=>o.rowPinned&&!Qw(o)?(at(59),!1):o.id===void 0?(at(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function uFe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function dFe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function hFe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function fFe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function pFe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function gFe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function mFe(e){return e.selectionSvc?.getSelectedNodes()??[]}function vFe(e){return e.selectionSvc?.getSelectedRows()??[]}var yFe=class extends eEe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=e1(e),this.groupSelectsDescendants=Ty(e),this.groupSelectsFiltered=n1(e)==="filteredDescendants",this.masterSelectsDetail=n6(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Ty(e),n=e1(e),r=n1(e)==="filteredDescendants";this.masterSelectsDetail=n6(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return r==null?0:(this.selectionCtx.selectAll=!1,"select"in r?(r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n)):this.setNodesSelected({nodes:[r.node],newValue:r.newValue,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s,keepDescendants:o=!1}){if(!Vh(this.gos)&&e)return at(132),0;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return at(130),0;let a=0;for(let l=0;l<r.length;l++){const c=r[l],u=Op(c),h=this.groupSelectsFiltered&&u.group;if(u.rowPinned&&!Qw(u)){at(59);continue}if(u.id===void 0){at(60);continue}h||this.selectRowNode(u,e,i,s)&&(this.detailSelection.delete(u.id),a++),this.groupSelectsDescendants&&u.childrenAfterGroup?.length&&(a+=this.selectChildren(u,e,s))}return n||(r.length===1&&s==="api"&&this.selectionCtx.setRoot(Op(r[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(Op(r[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let r=0;return e.forEach(i=>{const s=Op(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!li(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new Dy(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!CFe(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new pf(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!li(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=li(this.gos);let r=!1;const i=s=>{const o=this.selectRowNode(Op(s),!1,void 0,e);r||(r=o)};if(t==="currentPage"||t==="filtered"){if(!n){jn(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return ZY(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(i);return}this.groupSelectsDescendants||n(i)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Vh(t)){at(132);return}if(jCe(t)&&!t1(t)){at(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const a=this.selectRowNode(Op(o),!0,void 0,r);s||(s=a)}),n.selectAll=!0,li(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(r);s||(s=o)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){jn(103);return}const r=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!li(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!Vh(t))return;const r="selectableChanged",i=e!==void 0,s=li(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(i&&!l.group)return;if(s&&l.group){const u=l.childrenAfterGroup?.some(h=>h.selectable)??!1;this.setRowSelectable(l,u,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new Dy(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&s&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const r=wFe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!t1(t)){at(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const o=n.getRowNode(s);o&&i.push(o)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Op(e){return Qw(e)?e.pinnedSibling:e.footer?e.sibling:e}function wFe(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),ZY(t,n)}function ZY(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function CFe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var bFe={moduleName:"SharedRowSelection",version:Ct,beans:[lFe],apiFunctions:{setNodesSelected:cFe,selectAll:uFe,deselectAll:dFe,selectAllFiltered:hFe,deselectAllFiltered:fFe,selectAllOnCurrentPage:pFe,deselectAllOnCurrentPage:gFe,getSelectedNodes:mFe,getSelectedRows:vFe}},xFe={moduleName:"RowSelection",version:Ct,rowModels:["clientSide","infinite","viewport"],beans:[yFe],dependsOn:[bFe]};function SFe(e){e.expansionSvc?.expandAll(!0)}function EFe(e){e.expansionSvc?.expandAll(!1)}function TFe(e){const t=Zl(e),n=_Y(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function RFe(e,t,n){const r=_Y(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){jn(238);return}r.setRowCount(t,n);return}jn(28);return}const i=YE(e);if(i){i.setRowCount(t,n);return}}function _Fe(e){return Of(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function AFe(e){return e.rowModel.isLastRowIndexKnown()}var kFe={moduleName:"CsrmSsrmSharedApi",version:Ct,apiFunctions:{expandAll:SFe,collapseAll:EFe,onRowHeightChanged:TFe}},DFe={moduleName:"SsrmInfiniteSharedApi",version:Ct,apiFunctions:{setRowCount:RFe,getCacheBlockState:_Fe,isLastRowIndexKnown:AFe}},PFe=class extends $e{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{if(!r){jn(18),t||jn(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?i.current?.api:(i.api||jn(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":at(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const h=e.api.getColumnState().map(p=>({colId:p.colId}));Ga(r,{state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const h=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));Ga(r,{state:h},"alignedGridChanged")}break;case"columnPinned":{const h=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));Ga(r,{state:h},"alignedGridChanged")}break;case"columnResized":{const u=e,h={};a.forEach(p=>{h[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),u.flexColumns?.forEach(p=>{h[p.getId()]&&delete h[p.getId()]}),i?.setColumnWidths(Object.values(h),!1,u.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",c)})}},FFe={moduleName:"AlignedGrids",version:Ct,beans:[PFe],dependsOn:[iY]},IFe=class extends Y1e{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},DA=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function MFe(e){if(pr(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,s=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.lastChild!==s&&(r.lastChild=s,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==n&&(r.childIndex=n,r.dispatchRowEvent("childIndexChanged"))}}function JY(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),MFe(e)}var OFe=class extends $e{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),r=gt(n)&&n.length>0,i=r&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>Cl(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,r,i,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,r,i,s,o){const{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:u,rowRenderer:h,showRowGroupCols:p}=e,g=a.get("groupMaintainOrder"),v=l.getCols().some(x=>x.isRowGroupActive()),y=l.isPivotMode(),C=a.getCallback("postSortRows");let b=!1;const E=x=>{const k=y&&x.leafGroup,D=g&&v&&!x.leafGroup&&!o;let R;if(D){const I=c?.columns?.[x.level+1]?.getSort()===null,F=x.childrenAfterAggFilter.slice(0);if(x.childrenAfterSort&&!I){const N={};x.childrenAfterSort.forEach((B,M)=>{N[B.id]=M}),F.sort((B,M)=>(N[B.id]??0)-(N[M.id]??0))}R=F}else!n||k?R=x.childrenAfterAggFilter.slice(0):r&&i?R=NFe(u,x,i,s,t):R=u.doFullSort(x.childrenAfterAggFilter,t);if(b||(b=x.childrenAfterSort?.[0]!==R[0]),x.childrenAfterSort=R,JY(x),C){const _={nodes:x.childrenAfterSort};C(_)}};if(s?.forEachChangedNodeDepthFirst(E),b&&this.gos.get("groupHideOpenParents")){const x=p?.getShowRowGroupCols();x?.length&&h.refreshCells({columns:x,force:!0})}}};function NFe(e,t,n,r,i){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const a=new Set,l=[],{updates:c,adds:u}=n;for(let p=0,g=s.length;p<g;++p){const v=s[p];c.has(v)||u.has(v)||r&&!r.canSkip(v)?l.push({currentPos:l.length,rowNode:v}):a.add(v.id)}const h=o.filter(p=>a.has(p.id)).map((p,g)=>({currentPos:g,rowNode:p}));return l.sort((p,g)=>e.compareRowNodes(i,p,g)),LFe(e,i,l,h)}function LFe(e,t,n,r){const i=[];let s=0,o=0;const a=n.length,l=r.length;for(;s<a&&o<l;){const c=n[s],u=r[o],h=e.compareRowNodes(t,c,u);let p;h<0?(p=c,++s):(p=u,++o),i.push(p.rowNode)}for(;s<a;)i.push(n[s++].rowNode);for(;o<l;)i.push(r[o++].rowNode);return i}var BFe=class extends $e{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Zi(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new pf(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return Hq(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,r);for(let u=l;u<=c;u++){const h=this.getRow(u);if(h.rowHeightEstimated){const p=gd(this.beans,h);h.setRowHeight(p.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),r={step:"nothing",changedProps:n},i=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||i&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||i)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,at(1))),a&&(i||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))r.keepRenderedRows=!0,r.animate=!this.gos.get("suppressAnimationFrame"),r.changedRowNodes=new DA,o.setImmutableRowData(r,l);else{r.rowDataUpdated=!0,r.newData=!0;const{selectionSvc:u,pinnedRowModel:h}=this.beans;u?.reset("rowDataChanged"),h?.isManual()&&h.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(r.rowDataUpdated)r.step="group";else if(r.step==="nothing"){for(const{refreshProps:c,step:u}of this.orderedStages)if(e.some(h=>c.has(h))){r.step=u;break}}r.step!=="nothing"&&this.refreshModel(r)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let r=0;const i=new Set,s=es(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&i.add(l.id),l.rowHeight==null){const c=gd(e,l,s,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(r),l.setRowIndex(o),r+=l.rowHeight}return i}clearRowTopAndRowIndex(e,t){const n=e.active,r=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(s!==null&&(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,r=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+r}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,s=a=>{let l=i[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,i,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);for(i.footer&&(i=i.sibling);i.parent&&i.parent!==t;)i=i.parent;const s=t.childrenAfterSort?.findIndex(o=>o===i);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=fg(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=fg(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=fg(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Dy(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const r=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(e.changedRowNodes,r);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=Ty(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(n&&(o===t||o===e)&&(r=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){i.push(o);return}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,r=t.length-1;if(e<=0)return 0;if(zn(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+r)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(r=a-1),s===n&&o===r))return a;s=n,o=r}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const o=r===this.rootNode;o||e(r,s++);const{footerSvc:a}=this.beans;if(r.hasChildren()&&!r.footer){const l=n(r);if(l){s=a?.addTotalRows(s,r,e,t,o,"top")??s;for(const c of l)s=this.depthFirstSearchRowNodes(e,t,n,c,s);return a?.addTotalRows(s,r,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),JY(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const r=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,r&&(r.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,AY(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf($D)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new DA;let r=!1;this.rowDataTransactionBatch?.forEach(i=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(i.rowDataTransaction,n);o&&(r=!0),t.push(s),i.callback&&e.push(i.callback.bind(null,s))}),this.commitTransactions(r,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new DA,{rowNodeTransaction:n,rowsInserted:r}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(r,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const r of n)r.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=r1,this.rowsToDisplay=r1}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function VFe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function HFe(e,t){const n=Zl(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function GFe(e){return Zl(e)?.isEmpty()??!0}function UFe(e,t){Zl(e)?.forEachLeafNode(t)}function zFe(e,t){Zl(e)?.forEachNodeAfterFilter(t)}function jFe(e,t){Zl(e)?.forEachNodeAfterFilterAndSort(t)}function WFe(e){if(e.rowAutoHeight?.active){at(3);return}Zl(e)?.resetRowHeights()}function $Fe(e,t){return e.frameworkOverrides.wrapIncoming(()=>Zl(e)?.updateRowData(t))}function qFe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Zl(e)?.batchUpdateRowData(t,n))}function KFe(e){e.frameworkOverrides.wrapIncoming(()=>Zl(e)?.flushAsyncTransactions())}function YFe(e){return e.selectionSvc?.getBestCostNodeSelection()}var XFe={moduleName:"ClientSideRowModel",version:Ct,rowModels:["clientSide"],beans:[IFe,BFe,OFe],dependsOn:[SY]},QFe={moduleName:"ClientSideRowModelApi",version:Ct,apiFunctions:{onGroupExpandedOrCollapsed:VFe,refreshClientSideRowModel:HFe,isRowDataEmpty:GFe,forEachLeafNode:UFe,forEachNodeAfterFilter:zFe,forEachNodeAfterFilterAndSort:jFe,resetRowHeights:WFe,applyTransaction:$Fe,applyTransactionAsync:qFe,flushAsyncTransactions:KFe,getBestCostNodeSelection:YFe},dependsOn:[kFe]},ZFe=class extends $e{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,r){const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,u=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&UCe(this.gos,r);if(!l&&!c&&(t.skipRowGroups||u||a)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!l&&!c||i(Nt(this.gos,{node:r})))return;const g=e.onNewBodyRow(r);if(n.forEach((v,y)=>{g.onColumn(v,y,r)}),t.getCustomContentBelowRow){const v=t.getCustomContentBelowRow(Nt(this.gos,{node:r}));v&&e.addCustomContent(v)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new iK,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,i=li(this.gos),s=Of(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return i?r.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a),n;if(e.onlySelectedAllPages||o){const c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?r.forEachNode(a):i||s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(r,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),c=p=>Id(p)?!1:!nd(p)||r;if(i&&i.length)return s.getColsForKeys(i).filter(c);const u=o.get("treeData");let h=[];return t&&!l?h=s.getCols():h=a.allCols,h=h.filter(p=>c(p)&&(n&&!u?!AI(p):!0)),h}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),e.length>0&&Kr(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;n?a=n(Nt(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,u,h,p)=>{let g=zn(c);return u.getColumnGroupShow()==="open"?(!g||g[1]!=null)&&(g=[h],c.push(g)):g&&g[1]==null&&(g[1]=h-1),h===p.length-1&&g&&g[1]==null&&(g[1]=h),c},[]);r.onColumn(o,a||"",i++,o.getLeafColumns().length-1,l)})}},JFe={moduleName:"SharedExport",version:Ct,beans:[ZFe]},tH=`\r
`,e2e=class extends Bke{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,tH),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(at(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=tH),this.isFirstLine=!1}},t2e=class extends Lke{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){at(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(Nt(this.gos,{})):t.fileName;Vke(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:h}=e;return new e2e({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:h||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function n2e(e,t){return e.csvCreator?.getDataAsCsv(t)}function r2e(e,t){e.csvCreator?.exportDataAsCsv(t)}var i2e={moduleName:"CsvExport",version:Ct,beans:[t2e],apiFunctions:{getDataAsCsv:n2e,exportDataAsCsv:r2e},dependsOn:[JFe]},s2e=class extends $e{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const o=n+s,a=new pf(r);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){gt(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(pr(this.params.datasource.getRows)){at(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:Nt(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new pf(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},o2e=2,a2e=class extends $e{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new s2e(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(cf(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=o2e-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,c=r?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,gt(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(i&&r+1!==l.id){o=!0;return}r=l.id,l.forEachNode(c=>{const u=c===e||c===t;(i||u)&&n.push(c),u&&(i=!i)},s,this.rowCount)}}),o||i?[]:n}},l2e=class extends $e{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Hh(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Hh(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Cy(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;$g(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Hh(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new a2e(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function c2e(e){YE(e)?.refreshCache()}function u2e(e){YE(e)?.purgeCache()}function d2e(e){return YE(e)?.getRowCount()}var h2e=class extends $e{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=zCe(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Zi(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ba(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){cf(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){cf(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},f2e={moduleName:"InfiniteRowModelCore",version:Ct,rowModels:["infinite"],beans:[l2e,h2e]},p2e={moduleName:"InfiniteRowModel",version:Ct,apiFunctions:{refreshInfiniteCache:c2e,purgeInfiniteCache:u2e,getInfiniteRowCount:d2e},dependsOn:[f2e,DFe]},g2e="",m2e="",v2e={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},y2e=class extends ir{constructor(){super(v2e),this.eValue=Pt,this.eDelta=Pt,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=gt(r)?r:n,s=t>=0,o=this.eDelta;s?o.textContent=g2e+i:o.textContent=m2e+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Io(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:o}=this;if(n===s||(gt(r)?i.textContent=r:gt(n)?i.textContent=n:Io(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const c=a-l;this.showDelta(e,c)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},w2e=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",C2e={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},b2e=class extends ir{constructor(){super(C2e),this.eCurrent=Pt,this.refreshCount=0,this.registerCSS(w2e)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,r=Yr({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(pr(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return gt(e.valueFormatted)?r.textContent=e.valueFormatted:gt(e.value)?r.textContent=n:Io(r),!0}},x2e=class extends $e{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),o=s+n,a=s+n+r,l={phase:"flash",flashEndTime:o,fadeEndTime:a};i.set(e,l);const c=`ag-cell-${t}`,u=`${c}-animation`,{comp:h,eGui:{style:p}}=e;h.toggleCss(c,!0),h.toggleCss(u,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],i=`ag-cell-${n}`,s=`${i}-animation`;for(const[o,a]of r){if(!o.isAlive()||!o.comp){r.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:u}=a,h=l==="flash"?c:u;if(!(e+15>=h)){t=Math.min(h,t??1/0);continue}const{comp:g,eGui:{style:v}}=o;switch(l){case"flash":g.toggleCss(i,!1),g.toggleCss(s,!0),v.transition=`background-color ${u-c}ms`,v.transitionDelay=`${c-e}ms`,t=Math.min(u,t??1/0),a.phase="fade";break;case"fade":g.toggleCss(i,!1),g.toggleCss(s,!1),v.removeProperty("transition"),v.removeProperty("transition-delay"),r.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Rxe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function S2e(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>n.flashCell(r,t))})}var E2e={moduleName:"HighlightChanges",version:Ct,beans:[x2e],userComponents:{agAnimateShowChangeCellRenderer:y2e,agAnimateSlideCellRenderer:b2e},apiFunctions:{flashCells:S2e}};function T2e(e){return e.stateSvc?.getState()??{}}function R2e(e,t,n){return e.stateSvc?.setState(t,n)}function nH(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=_2e(e)}return e.version=Ct,e}function _2e(e){return e.cellSelection=A2e(e,"rangeSelection"),e}function A2e(e,t){if(e&&typeof e=="object")return e[t]}var k2e=class extends $e{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Zi(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Zi(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Zi(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=li(this.gos);const e=nH(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[r,i,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(r(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{i?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=nH(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",i=t?new Set(t):void 0;this.setGridReadyState(n,r,i),this.setColumnsInitialisedState(n,r,!1,i),this.setRowCountState(n,r,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,i),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:i,rowSelection:s,pagination:o}=e,a=(c,u)=>!n?.has(c)&&(u||t==="api");a("filter",r)&&this.setFilterState(r),a("rowGroupExpansion",i)&&this.setRowGroupExpansionState(i,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},r=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:r,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:i,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(h,p)=>!n?.has(h)&&(p||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",r)&&this.setScrollState(r),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());const u=this.getRangeSelectionState();c("rangeSelection",u),c("cellSelection",u),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const r=this.getRangeSelectionState();t("rangeSelection",r),t("cellSelection",r)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return _ke(o1(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:i,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:u,columnOrder:h}=e,p=(N,B)=>!r?.has(N)&&(B||t==="api"),g={},v=N=>{let B=g[N];return B||(B={colId:N},g[N]=B,B)},y={},C=p("sort",i);C&&i?.sortModel.forEach(({colId:N,sort:B},M)=>{const L=v(N);L.sort=B,L.sortIndex=M}),(C||!n)&&(y.sort=null,y.sortIndex=null);const b=p("rowGroup",s);b&&s?.groupColIds.forEach((N,B)=>{const M=v(N);M.rowGroup=!0,M.rowGroupIndex=B}),(b||!n)&&(y.rowGroup=null,y.rowGroupIndex=null);const E=p("aggregation",o);E&&o?.aggregationModel.forEach(({colId:N,aggFunc:B})=>{v(N).aggFunc=B}),(E||!n)&&(y.aggFunc=null);const x=p("pivot",a);x&&(a?.pivotColIds.forEach((N,B)=>{const M=v(N);M.pivot=!0,M.pivotIndex=B}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(x||!n)&&(y.pivot=null,y.pivotIndex=null);const k=p("columnPinning",l);k&&(l?.leftColIds.forEach(N=>{v(N).pinned="left"}),l?.rightColIds.forEach(N=>{v(N).pinned="right"})),(k||!n)&&(y.pinned=null);const D=p("columnVisibility",c);D&&c?.hiddenColIds.forEach(N=>{v(N).hide=!0}),(D||!n)&&(y.hide=null);const R=p("columnSizing",u);R&&u?.columnSizingModel.forEach(({colId:N,flex:B,width:M})=>{const L=v(N);L.flex=B??null,L.width=M}),(R||!n)&&(y.flex=null);const _=h?.orderedColIds,I=!!_?.length&&!r?.has("columnOrder"),F=I?_.map(N=>v(N)):Object.values(g);F.length&&(this.columnStates=F,Ga(this.beans,{state:F,applyOrder:I,defaultState:y},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:o}=i;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);Ga(i,{state:a,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return Ake(t)}setColumnGroupState(e,t,n){const r=this.beans.colGroupSvc;if(!r||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),o=r.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});i.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),r.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:r,startRow:i,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:r,startRow:i,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!md(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const u=r.getCol(c);u&&a.push(u)}),!a.length)return;let l=r.getCol(o.startColId);if(!l){const c=i.allCols,u=new Set(a);l=c.find(h=>u.has(h))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:i,page:s}=e??{page:0,pageSize:r.get("paginationPageSize")},o=t==="gridInitializing";i&&!r.get("paginationAutoPageSize")&&n.setPageSize(i,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:r,id:i})=>{r&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const r=e?.expandedRowGroupIds??[];let i;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of r)o.delete(a);i=Array.from(o)}}n.expandRows(r,i)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];Cy(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Cy(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},D2e={moduleName:"GridState",version:Ct,beans:[k2e],apiFunctions:{getState:T2e,setState:R2e}};function P2e(e){return e.rowModel.isLastRowIndexKnown()}function F2e(e){return e.pagination?.getPageSize()??100}function I2e(e){return e.pagination?.getCurrentPage()??0}function M2e(e){return e.pagination?.getTotalPages()??1}function O2e(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function N2e(e){e.pagination?.goToNextPage()}function L2e(e){e.pagination?.goToPreviousPage()}function B2e(e){e.pagination?.goToFirstPage()}function V2e(e){e.pagination?.goToLastPage()}function H2e(e,t){e.pagination?.goToPage(t)}var G2e=class extends $e{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(Hh(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?Zi(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},W0="paginationPageSizeSelector",U2e={tag:"span",cls:"ag-paging-page-size"},z2e=class extends ir{constructor(){super(U2e),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(W0,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Io(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(W0)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(W0)!==!0;at(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||at(95,{paginationPageSizeOption:t,paginationPageSizeSelector:W0}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Lf(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new qI).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(W0);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},j2e={selector:"AG-PAGE-SIZE-SELECTOR",component:z2e},W2e=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",$2e=class extends fEe{constructor(){super(),this.btFirst=Pt,this.btPrevious=Pt,this.btNext=Pt,this.btLast=Pt,this.lbRecordCount=Pt,this.lbFirstRowOnPage=Pt,this.lbLastRowOnPage=Pt,this.lbCurrent=Pt,this.lbTotal=Pt,this.pageSizeComp=Pt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(W2e)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[j2e]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",da(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",da(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",da(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",da(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):Yxe(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===Ve.ENTER||r.key===Ve.SPACE)&&(r.preventDefault(),n())}})}),Kxe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Nke(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){hCe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>r&&(a=r));const l=o+s-1,c=!e&&n<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let h;const p=this.getLocaleTextFunc();c?h=p("pageLastRowUnknown","?"):h=this.formatNumber(a),this.lbLastRowOnPage.textContent=h;const v=t>0?i+1:0,y=this.formatNumber(v);this.lbCurrent.textContent=y;let C,b;if(e)C=this.formatNumber(t),b=this.formatNumber(r);else{const E=p("more","more");C=E,b=E}this.lbTotal.textContent=C,this.lbRecordCount.textContent=b,this.announceAriaStatus(u,h,b,y,C)}announceAriaStatus(e,t,n,r,i){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,u=`${o} ${r} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnounce?.announceValue(u,"paginationPage"))}},q2e={selector:"AG-PAGINATION",component:$2e},K2e=class extends $e{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return q2e}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return gt(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:gt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:gt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:gt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let o=n*(i+1)-1;if(o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},Y2e={moduleName:"Pagination",version:Ct,beans:[K2e,G2e],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:P2e,paginationGetPageSize:F2e,paginationGetCurrentPage:I2e,paginationGetTotalPages:M2e,paginationGetRowCount:O2e,paginationGoToNextPage:N2e,paginationGoToPreviousPage:L2e,paginationGoToFirstPage:B2e,paginationGoToLastPage:V2e,paginationGoToPage:H2e},dependsOn:[XE]};function X2e(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function eX(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&eX(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function Q2e(e,t){return e.rowModel.getRowNode(t)}function Z2e(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function J2e(e){return e.rowRenderer.getRenderedNodes()}function eIe(e,t,n){e.rowModel.forEachNode(t,n)}function tIe(e){return e.rowRenderer.firstRenderedRow}function nIe(e){return e.rowRenderer.lastRenderedRow}function rIe(e,t){return e.rowModel.getRow(t)}function iIe(e){return e.rowModel.getRowCount()}var sIe={moduleName:"RowApi",version:Ct,apiFunctions:{redrawRows:X2e,setRowNodeExpanded:eX,getRowNode:Q2e,addRenderedRowListener:Z2e,getRenderedNodes:J2e,forEachNode:eIe,getFirstDisplayedRowIndex:tIe,getLastDisplayedRowIndex:nIe,getDisplayedRowAtIndex:rIe,getDisplayedRowCount:iIe}},oIe={moduleName:"ScrollApi",version:Ct,apiFunctions:{getVerticalPixelRange:APe,getHorizontalPixelRange:kPe,ensureColumnVisible:WY,ensureIndexVisible:$Y,ensureNodeVisible:DPe}};function aIe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function lIe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function cIe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function uIe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function dIe(e){e.animationFrameSvc?.flushAllFrames()}function hIe(e){return{rowHeight:Hh(e),headerHeight:Jw(e)}}function fIe(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(Ry(o))}),t.columns?.length)return n;const r=[],i=rP(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(i&&!iP(s.rowNode,i)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(Ry(l))}}),[...r,...n]}var pIe={moduleName:"RenderApi",version:Ct,apiFunctions:{setGridAriaProperty:aIe,refreshCells:lIe,refreshHeader:cIe,isAnimationFrameQueueEmpty:uIe,flushAllAnimationFrames:dIe,getSizesForCurrentTheme:hIe,getCellRendererInstances:fIe}};function gIe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function tX({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function mIe(e,t){t&&typeof t=="object"?tX(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var vIe=class extends $e{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:c,renderStatus:u,colModel:h,autoWidthCalc:p,visibleCols:g}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&u&&!u.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const v=[];let y=-1;const C=Object.fromEntries(a.map(({colId:x,maxWidth:k,minWidth:D})=>[x,{maxWidth:k,minWidth:D}])),b=n??this.gos.get("skipHeaderOnAutoSize"),E=r??b;for(;y!==0;){y=0;const x=[];t.forEach(k=>{if(!k||hbe(k))return;const D=h.getCol(k);if(!D||v.indexOf(D)>=0)return;const R=p.getPreferredWidthForColumn(D,b);if(R>0){const _=C[D.colId]??{};_.minWidth??(_.minWidth=o),_.maxWidth??(_.maxWidth=s);const I=yIe(D,R,_);D.setActualWidth(I,l),v.push(D),y++}x.push(D)}),x.length&&g.refresh(l)}E||this.autoSizeColumnGroupsByColumns(t,l,i),qg(this.eventSvc,v,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set;r.getColsForKeys(e).forEach(c=>{let u=c.getParent();for(;u&&u!=n;)u.isPadding()||s.add(u),u=u.getParent()});let a;const l=[];for(const c of s){for(const u of i.getHeaderRowContainerCtrls())if(a=u.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new vh(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.removeEventListener("doubleTap",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:r}=this.beans,i=n.getGridBodyCtrl(),o=i.isVerticalScrollShowing()?r.getScrollbarWidth():0,l=Sy(i.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):at(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&r?.columnLimits?.forEach(({key:g,...v})=>{i[typeof g=="string"?g:g.getColId()]=v});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===bc(s)&&s.every(v=>{if(v.colDef.suppressSizeToFit)return!0;const y=i?.[v.getId()],C=y?.minWidth??r?.defaultMinWidth,b=y?.maxWidth??r?.defaultMaxWidth,E=v.getActualWidth();return(C==null||E>=C)&&(b==null||E<=b)}))return;const a=[],l=[];s.forEach(g=>{g.getColDef().suppressSizeToFit===!0?l.push(g):a.push(g)});const c=a.slice(0);let u=!1;const h=g=>{ba(a,g),l.push(g)};for(a.forEach(g=>{g.resetActualWidth(t);const v=i?.[g.getId()],y=v?.minWidth??r?.defaultMinWidth,C=v?.maxWidth??r?.defaultMaxWidth,b=g.getActualWidth();typeof y=="number"&&b<y?g.setActualWidth(y,t,!0):typeof C=="number"&&b>C&&g.setActualWidth(C,t,!0)});!u;){u=!0;const g=e-bc(l);if(g<=0)a.forEach(v=>{const y=i?.[v.getId()]?.minWidth??r?.defaultMinWidth;if(typeof y=="number"){v.setActualWidth(y,t,!0);return}v.setActualWidth(v.minWidth,t)});else{const v=g/bc(a);let y=g;for(let C=a.length-1;C>=0;C--){const b=a[C],E=i?.[b.getId()],x=E?.minWidth??r?.defaultMinWidth,k=E?.maxWidth??r?.defaultMaxWidth,D=b.getMinWidth(),R=b.getMaxWidth(),_=typeof x=="number"&&x>D?x:D,I=typeof k=="number"&&k<R?k:R;let F=Math.round(b.getActualWidth()*v);F<_?(F=_,h(b),u=!1):F>I?(F=I,h(b),u=!1):C===0&&(F=y),b.setActualWidth(F,t,!0),y-=F}}}c.forEach(g=>{g.fireColumnWidthChangedEvent(t)});const p=this.beans.visibleCols;p.setLeftValues(t),p.updateBodyWidths(),!n&&qg(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function yIe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}var wIe={moduleName:"ColumnAutoSize",version:Ct,beans:[vIe],apiFunctions:{sizeColumnsToFit:gIe,autoSizeColumns:tX,autoSizeAllColumns:mIe},dependsOn:[rY]},CIe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function bIe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function xIe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function SIe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function EIe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function TIe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var RIe={moduleName:"PinnedRow",version:Ct,beans:[q1e],css:[CIe],apiFunctions:{getPinnedTopRowCount:bIe,getPinnedBottomRowCount:xIe,getPinnedTopRow:SIe,getPinnedBottomRow:EIe,forEachPinnedRow:TIe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},_Ie=class extends yg{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,o){this.eWrapper=n,super.setComp(e,t,n,r,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&dq(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){mCe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(jE(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},AIe=class extends p1{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new _Ie(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},kIe=class extends $e{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,r=this[n],i=r.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const c of s)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(u,h)=>{if(o.has(h.firstNode))return;const p=r.get(h.firstNode);if(p){o.set(h.firstNode,p),r.delete(h.firstNode);return}a=!0;const g=new AIe(h.firstNode,this.beans,!1,!1,!1);o.set(h.firstNode,g)});this[n]=o;const l=o.size===i;if(!(!a&&l)){for(const c of r.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const r=`${nX(e.rowPinned)}Ctrls`,i=this[r].get(n.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},nX=e=>e??"center",DIe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},PIe=class extends $e{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,u=n.getCallback("isFullWidthRow"),h=a.equals,p=a.spanRows,g=typeof p=="function";let v=null,y=null,C;const b=(x,k)=>{v=x,y=null,C=k},E=x=>{const k=!x.isExpandable()&&!x.group&&!x.detail&&(u?!u({rowNode:x}):!0);if(x.rowIndex==null||!k){b(null,null);return}if(v==null||x.level!==v.level||x.footer||y&&x.rowIndex-1!==y?.getLastNode().rowIndex){b(x,s.getValue(t,x));return}const D=s.getValue(t,x);if(g){const R=Nt(n,{valueA:C,nodeA:v,valueB:D,nodeB:x,column:t,colDef:a});if(!p(R)){b(x,D);return}}else if(h?!h(C,D):C!==D){b(x,D);return}if(!y){const R=l?.get(v);R?.firstNode===v?(R.reset(),y=R):y=new DIe(t,v),c.set(v,y)}y.addSpannedNode(x),c.set(x,y)};switch(e){case"center":i.forEachDisplayedNode?.(x=>{(!o||o.isRowInPage(x.rowIndex))&&E(x)});break;case"top":r?.forEachPinnedRow("top",E);break;case"bottom":r?.forEachPinnedRow("bottom",E);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${nX(e.rowPinned)}ValueNodeMap`].get(e)}},FIe=class extends $e{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Zi(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Zi(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new PIe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(i);break;case"bottom":o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},IIe={moduleName:"CellSpan",version:Ct,beans:[FIe,kIe]},MIe=class extends $e{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);BI(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i,i.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return Nt(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},OIe=class extends $e{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){BI(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new MIe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},NIe={moduleName:"CellStyle",version:Ct,beans:[OIe]},LIe={moduleName:"RowStyle",version:Ct,beans:[HSe]};function BIe(e,t){return!!e.colHover?.isHovered(t)}var VIe=class extends $e{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:i,element:s,columns:o}=this,a=r.colHover;n??!!i.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},HIe="ag-column-hover",GIe=class extends $e{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(HIe,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new VIe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},UIe={moduleName:"ColumnHover",version:Ct,beans:[GIe],apiFunctions:{isColumnHovered:BIe}},zIe=class extends $e{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,r=!oS.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addEventListener(e,n,r)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(n);i||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{oS.has(s)&&t(s,o)},r=(s,o)=>{oS.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){const{syncListener:o,asyncListener:a}=r.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function jIe(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function WIe(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function $Ie(e,t){e.apiEventSvc?.addGlobalListener(t)}function qIe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var KIe={moduleName:"EventApi",version:Ct,apiFunctions:{addEventListener:jIe,addGlobalListener:$Ie,removeEventListener:WIe,removeGlobalListener:qIe},beans:[zIe]},YIe={moduleName:"Locale",version:Ct,beans:[Rke]},XIe=class extends $e{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Zi(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let c=gd(this.beans,a).height;for(const u of i){let h=l?.[u.getColId()];const p=n?.getCellSpan(u,a);if(p){if(p.getLastNode()!==a)continue;if(h=n?.getCellSpan(u,a)?.getLastNodeAutoHeight(),!h)return}if(h==null){if(this.colSpanSkipCell(u,a))continue;return}c=Math.max(h,c)}c!==a.rowHeight&&(a.setRowHeight(c),s=!0)};r?.forEachPinnedRow?.("top",o),r?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,a=u=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:h,paddingBottom:p,borderBottomWidth:g,borderTopWidth:v}=Mf(r),y=h+p+g+v,b=t.offsetHeight+y;if(u<5){const E=Pi(o),x=!E||!E.contains(t),k=b==0;if(x||k){window.setTimeout(()=>a(u+1),0);return}}this.setRowAutoHeight(i,b,s)},l=()=>a(0);l();const c=eu(o,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const i=n.__autoHeights[r.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},QIe={moduleName:"RowAutoHeight",version:Ct,beans:[XIe]},ZIe={moduleName:"AllCommunity",version:Ct,dependsOn:[XFe,i2e,p2e,Qke,tFe,nFe,rFe,iFe,sFe,oFe,aFe,eFe,ePe,tPe,nPe,JDe,iPe,sPe,D2e,FFe,Y2e,iY,sIe,oIe,pIe,wIe,qEe,RIe,xFe,lke,NIe,UIe,LIe,KIe,dke,E2e,jY,YIe,QIe,$Ee,QFe,IIe]},ys=me.createContext({}),rX=me.createContext("default"),eC=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),rH(r,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),r&&rH(r,void 0))}},rH=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},la=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),ha=class iX{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new iX;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},bm=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},lP=me.version?.split(".")[0],sX=lP==="16"||lP==="17";function JIe(){return lP==="19"}var aS=!1;function eMe(e){return aS||setTimeout(()=>aS=!1,0),aS=!0,e()}var Iy=(e,t)=>{!sX&&e&&!aS?qu.flushSync(t):t()},tMe=e=>{sX?e():me.startTransition(e)};function nMe(e,t,n){return me.useSyncExternalStore?me.useSyncExternalStore(e,t):n}function y1(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;s.has(c)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var oX=A.forwardRef((e,t)=>{const{registry:n,context:r}=A.useContext(ys),i=A.useRef(null),s=A.useRef(null),o=A.useRef(null),a=A.useRef(null),l=A.useRef(null),c=A.useRef(),[u,h]=A.useState(),[p,g]=A.useState(),[v,y]=A.useState(),[C,b]=A.useState(()=>new ha),[E,x]=A.useState(()=>new ha("ag-hidden")),[k,D]=A.useState(()=>new ha("ag-hidden")),[R,_]=A.useState(()=>new ha("ag-invisible"));A.useImperativeHandle(t,()=>({refresh(){return!1}})),A.useLayoutEffect(()=>eC(u,r,s.current),[u]);const I=A.useCallback(te=>{if(i.current=te,!te){c.current=r.destroyBean(c.current);return}const he={setInnerRenderer:(V,X)=>{h(V),y(X)},setChildCount:V=>g(V),toggleCss:(V,X)=>b(z=>z.setClass(V,X)),setContractedDisplayed:V=>D(X=>X.setClass("ag-hidden",!V)),setExpandedDisplayed:V=>x(X=>X.setClass("ag-hidden",!V)),setCheckboxVisible:V=>_(X=>X.setClass("ag-invisible",!V)),setCheckboxSpacing:V=>_(X=>X.setClass("ag-group-checkbox-spacing",V))},Z=n.createDynamicBean("groupCellRendererCtrl",!0);Z&&(c.current=r.createBean(Z),c.current.init(he,te,o.current,a.current,l.current,oX,e))},[]),F=A.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),N=A.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),B=A.useMemo(()=>`ag-group-contracted ${k.toString()}`,[k]),M=A.useMemo(()=>`ag-group-checkbox ${R.toString()}`,[R]),L=u?.componentFromFramework,H=L?u.componentClass:void 0,ee=u==null&&v!=null,re=ym(v);return me.createElement("span",{className:F,ref:I,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},me.createElement("span",{className:N,ref:a}),me.createElement("span",{className:B,ref:l}),me.createElement("span",{className:M,ref:o}),me.createElement("span",{className:"ag-group-value",ref:s},ee?re:L?me.createElement(H,{...u.params}):null),me.createElement("span",{className:"ag-group-child-count"},p))}),iH=oX,sM=A.createContext({setMethods:()=>{}}),rMe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...o},a]=A.useState(t);return A.useEffect(()=>{n(l=>a(l))},[]),me.createElement(sM.Provider,{value:{setMethods:i}},me.createElement(r,{key:s,...o}))},iMe=A.memo(rMe),sMe=0;function sH(){return`agPortalKey_${++sMe}`}var aX=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=sH(),this.portalKey=sH(),this.instanceCreated=this.isStatelessComponent()?bn.resolve(!1):new bn(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new bn(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=am.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return A.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function JE(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var Oo=class extends aX{constructor(){super(...arguments),this.awaitUpdateCallback=new bn(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=iMe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new bn(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,JE(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new bn(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},oMe=class extends Oo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},aMe=class extends Oo{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},lMe=class extends Oo{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},cMe=class extends Oo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new bn(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new bn(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},uMe=class extends Oo{constructor(){super(...arguments),this.awaitSetMethodsCallback=new bn(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function lX(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||bn.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var dMe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){JE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),lX(this.floatingFilterParams,e)}},hMe=class extends Oo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),lX(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},fMe=class extends Oo{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},pMe=class extends Oo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},gMe=class extends Oo{refresh(e){this.sourceParams=e,this.refreshProps()}},mMe=class extends Oo{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},vMe=class extends Oo{refresh(e){this.sourceParams=e,this.refreshProps()}},yMe=class extends Oo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},wMe=class extends Oo{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function oM(){at(231)}var CMe=1e3,bMe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||CMe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Iy(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},xMe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=A.useContext(ys),r=t?e.column.getColId():void 0,[i,s]=A.useState(),[o,a]=A.useState(),l=A.useRef(),c=A.useRef(null),u=A.useRef(null),h=A.useRef(null),p=A.useRef(),g=A.useRef();t&&!g.current&&(g.current=new Xw(()=>c.current));const v=A.useCallback(E=>{if(c.current=E,l.current=E?n.createBean(new wm):n.destroyBean(l.current),!E||!e.isAlive())return;const x=()=>{const D=e.getSelectAllGui();D&&(u.current?.insertAdjacentElement("afterend",D),l.current.addDestroyFunc(()=>D.remove()))},k={setWidth:D=>{c.current&&(c.current.style.width=D)},toggleCss:(D,R)=>g.current.toggleCss(D,R),setUserStyles:D=>a(D),setAriaSort:D=>{c.current&&(D?wCe(c.current,D):CCe(c.current))},setUserCompDetails:D=>s(D),getUserCompInstance:()=>p.current||void 0,refreshSelectAllGui:x,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(k,E,u.current,h.current,l.current),x()},[]);A.useLayoutEffect(()=>eC(i,n,h.current,p),[i]),A.useEffect(()=>{e.setDragSource(c.current)},[i]);const y=A.useMemo(()=>!!(i?.componentFromFramework&&bm(i.componentClass)),[i]),C=i?.componentFromFramework,b=i?.componentClass;return me.createElement("div",{ref:v,style:o,className:"ag-header-cell","col-id":r,role:"columnheader"},me.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),me.createElement("div",{ref:h,className:"ag-header-cell-comp-wrapper",role:"presentation"},C?y?me.createElement(b,{...i.params}):me.createElement(b,{...i.params,ref:p}):null))},SMe=A.memo(xMe),EMe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){JE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},TMe=({ctrl:e})=>{const{context:t,gos:n}=A.useContext(ys),[r,i]=A.useState(),[s,o]=A.useState(()=>new ha("ag-header-cell","ag-floating-filter")),[a,l]=A.useState(()=>new ha),[c,u]=A.useState(()=>new ha("ag-floating-filter-button","ag-hidden")),[h,p]=A.useState("false"),[g,v]=A.useState(),[,y]=A.useState(1),C=A.useRef(),b=A.useRef(null),E=A.useRef(null),x=A.useRef(null),k=A.useRef(null),D=A.useRef(),R=A.useRef(),_=V=>{V!=null&&D.current&&D.current(V)},I=A.useCallback(V=>{if(b.current=V,C.current=V?t.createBean(new wm):t.destroyBean(C.current),!V||!e.isAlive())return;R.current=new bn(z=>{D.current=z});const X={toggleCss:(z,G)=>o(Y=>Y.setClass(z,G)),setUserStyles:z=>i(z),addOrRemoveBodyCssClass:(z,G)=>l(Y=>Y.setClass(z,G)),setButtonWrapperDisplayed:z=>{u(G=>G.setClass("ag-hidden",!z)),p(z?"false":"true")},setWidth:z=>{b.current&&(b.current.style.width=z)},setCompDetails:z=>v(z),getFloatingFilterComp:()=>R.current?R.current:null,setMenuIcon:z=>k.current?.appendChild(z)};e.setComp(X,V,k.current,E.current,C.current)},[]);A.useLayoutEffect(()=>eC(g,t,E.current,_),[g]);const F=A.useMemo(()=>s.toString(),[s]),N=A.useMemo(()=>a.toString(),[a]),B=A.useMemo(()=>c.toString(),[c]),M=A.useMemo(()=>!!(g&&g.componentFromFramework&&bm(g.componentClass)),[g]),L=A.useMemo(()=>n.get("reactiveCustomComponents"),[]),H=A.useMemo(()=>n.get("enableFilterHandlers"),[]),[ee,re]=A.useState();A.useEffect(()=>{if(g?.componentFromFramework)if(L){const V=H?EMe:dMe,X=new V(g.params,()=>y(z=>z+1));_(X),re(X)}else oM()},[g]);const te=ee?.getProps(),he=g?.componentFromFramework,Z=g?.componentClass;return me.createElement("div",{ref:I,style:r,className:F,role:"gridcell"},me.createElement("div",{ref:E,className:N,role:"presentation"},he?L?te&&me.createElement(sM.Provider,{value:{setMethods:V=>ee.setMethods(V)}},me.createElement(Z,{...te})):me.createElement(Z,{...g.params,ref:M?()=>{}:_}):null),me.createElement("div",{ref:x,"aria-hidden":h,className:B,role:"presentation"},me.createElement("button",{ref:k,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},RMe=A.memo(TMe),_Me=({ctrl:e})=>{const{context:t}=A.useContext(ys),[n,r]=A.useState(),[i,s]=A.useState(()=>new ha),[o,a]=A.useState(()=>new ha),[l,c]=A.useState("false"),[u,h]=A.useState(),[p,g]=A.useState(),v=A.useMemo(()=>e.column.getUniqueId(),[]),y=A.useRef(),C=A.useRef(null),b=A.useRef(null),E=A.useRef(null),x=A.useRef(),k=A.useCallback(N=>{if(C.current=N,y.current=N?t.createBean(new wm):t.destroyBean(y.current),!N||!e.isAlive())return;const B={setWidth:M=>{C.current&&(C.current.style.width=M)},toggleCss:(M,L)=>s(H=>H.setClass(M,L)),setUserStyles:M=>r(M),setHeaderWrapperHidden:M=>{const L=E.current;L&&(M?L.style.setProperty("display","none"):L.style.removeProperty("display"))},setHeaderWrapperMaxHeight:M=>{const L=E.current;L&&(M!=null?L.style.setProperty("max-height",`${M}px`):L.style.removeProperty("max-height"),L.classList.toggle("ag-header-cell-comp-wrapper-limited-height",M!=null))},setUserCompDetails:M=>g(M),setResizableDisplayed:M=>{a(L=>L.setClass("ag-hidden",!M)),c(M?"false":"true")},setAriaExpanded:M=>h(M),getUserCompInstance:()=>x.current||void 0};e.setComp(B,N,b.current,E.current,y.current)},[]);A.useLayoutEffect(()=>eC(p,t,E.current),[p]),A.useEffect(()=>{C.current&&e.setDragSource(C.current)},[p]);const D=A.useMemo(()=>!!(p?.componentFromFramework&&bm(p.componentClass)),[p]),R=A.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),_=A.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),I=p?.componentFromFramework,F=p?.componentClass;return me.createElement("div",{ref:k,style:n,className:R,"col-id":v,role:"columnheader","aria-expanded":u},me.createElement("div",{ref:E,className:"ag-header-cell-comp-wrapper",role:"presentation"},I?D?me.createElement(F,{...p.params}):me.createElement(F,{...p.params,ref:x}):null),me.createElement("div",{ref:b,"aria-hidden":l,className:_}))},AMe=A.memo(_Me),kMe=({ctrl:e})=>{const{context:t}=A.useContext(ys),{topOffset:n,rowHeight:r}=A.useMemo(()=>e.getTopAndHeight(),[]),[i,s]=A.useState(e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=A.useState(()=>r+"px"),[c,u]=A.useState(()=>n+"px"),h=A.useRef([]),[p,g]=A.useState(()=>e.getUpdatedHeaderCtrls()),v=A.useRef(),y=A.useRef(null),C=A.useCallback(x=>{if(y.current=x,v.current=x?t.createBean(new wm):t.destroyBean(v.current),!x)return;const k={setHeight:D=>l(D),setTop:D=>u(D),setHeaderCtrls:(D,R,_)=>{const I=h.current,F=y1(I,D,R);F!==I&&(h.current=F,Iy(_,()=>g(F)))},setWidth:D=>{y.current&&(y.current.style.width=D)},setRowIndex:D=>{s(D)}};e.setComp(k,v.current,!1)},[]),b=A.useMemo(()=>({height:a,top:c}),[a,c]),E=A.useCallback(x=>{switch(e.type){case"group":return me.createElement(AMe,{ctrl:x,key:x.instanceId});case"filter":return me.createElement(RMe,{ctrl:x,key:x.instanceId});default:return me.createElement(SMe,{ctrl:x,key:x.instanceId})}},[]);return me.createElement("div",{ref:C,className:o,role:"row",style:b,"aria-rowindex":i},p.map(E))},DMe=A.memo(kMe),PMe=({pinned:e})=>{const[t,n]=A.useState(!0),[r,i]=A.useState([]),{context:s}=A.useContext(ys),o=A.useRef(null),a=A.useRef(null),l=A.useRef(),c=e==="left",u=e==="right",h=!c&&!u,p=A.useCallback(y=>{if(o.current=y,l.current=y?s.createBean(new E1e(e)):s.destroyBean(l.current),!y)return;const C={setDisplayed:n,setCtrls:b=>i(b),setCenterWidth:b=>{a.current&&(a.current.style.width=b)},setViewportScrollLeft:b=>{o.current&&(o.current.scrollLeft=b)},setPinnedContainerWidth:b=>{o.current&&(o.current.style.width=b,o.current.style.minWidth=b,o.current.style.maxWidth=b)}};l.current.setComp(C,o.current)},[]),g=t?"":"ag-hidden",v=()=>r.map(y=>me.createElement(DMe,{ctrl:y,key:y.instanceId}));return c?me.createElement("div",{ref:p,className:"ag-pinned-left-header "+g,"aria-hidden":!t,role:"rowgroup"},v()):u?me.createElement("div",{ref:p,className:"ag-pinned-right-header "+g,"aria-hidden":!t,role:"rowgroup"},v()):h?me.createElement("div",{ref:p,className:"ag-header-viewport "+g,role:"presentation",tabIndex:-1},me.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},v())):null},PA=A.memo(PMe),FMe=()=>{const[e,t]=A.useState(()=>new ha),[n,r]=A.useState(),{context:i}=A.useContext(ys),s=A.useRef(null),o=A.useRef(),a=A.useCallback(u=>{if(s.current=u,o.current=u?i.createBean(new C1e):i.destroyBean(o.current),!u)return;const h={toggleCss:(p,g)=>t(v=>v.setClass(p,g)),setHeightAndMinHeight:p=>r(p)};o.current.setComp(h,u,u)},[]),l=A.useMemo(()=>"ag-header "+e.toString(),[e]),c=A.useMemo(()=>({height:n,minHeight:n}),[n]);return me.createElement("div",{ref:a,className:l,style:c,role:"presentation"},me.createElement(PA,{pinned:"left"}),me.createElement(PA,{pinned:null}),me.createElement(PA,{pinned:"right"}))},IMe=A.memo(FMe),MMe=(e,t)=>{A.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},bh=MMe,OMe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new bn(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){JE(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},NMe=e=>{const t=A.useRef(e),n=A.useRef(),r=A.useRef(!1),i=A.useRef(!1),[,s]=A.useState(0);r.current&&(i.current=!0),A.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(o=>o+1),()=>{i.current&&n.current?.()}),[])},LMe=e=>{const[t,n]=A.useState(),r=A.useContext(ys),{context:i,popupSvc:s,gos:o,editSvc:a}=r,{editDetails:l,cellCtrl:c,eParentCell:u}=e;return NMe(()=>{const{compDetails:h}=l,p=o.get("stopEditingWhenCellsLoseFocus"),g=i.createBean(a.createPopupEditorWrapper(h.params)),v=g.getGui();if(e.jsChildComp){const D=e.jsChildComp.getGui();D&&v.appendChild(D)}const{column:y,rowNode:C}=c,b={column:y,rowNode:C,type:"popupCellEditor",eventSource:u,ePopup:v,position:l.popupPosition,keepWithinBounds:!0},E=s?.positionPopupByComponent.bind(s,b),x=s?.addPopup({modal:p,eChild:v,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:u,positionCallback:E,ariaOwns:u}),k=x?x.hideFunc:void 0;return n(g),e.jsChildComp?.afterGuiAttached?.(),()=>{k?.(),i.destroyBean(g)}}),A.useLayoutEffect(()=>()=>{c.isCellFocused()&&t?.getGui().contains(Dr(r))&&u.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?am.createPortal(e.wrappedContent,t.getGui()):null},oH=A.memo(LMe),BMe=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=bm(t);return me.createElement(sM.Provider,{value:{setMethods:o=>r.setMethods(o)}},s?me.createElement(t,{...i}):me.createElement(t,{...i,ref:o=>r.setRef(o)}))},aH=(e,t,n)=>e.compProxy?BMe(e,t,n):me.createElement(t,{...e.compDetails.params,ref:n}),VMe=(e,t,n,r,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return a?aH(e,o,t):l?me.createElement(oH,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:aH(e,o,t)}):c&&i?me.createElement(oH,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},HMe=(e,t,n,r,i,s)=>{const{context:o}=A.useContext(ys),a=A.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),i.current=void 0},[]);A.useEffect(()=>{const l=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,u=t&&n==null;if(!(l&&c&&!u)){a();return}const p=e.compDetails;if(i.current){const v=i.current,C=v.refresh!=null&&e.force==!1?v.refresh(p.params):!1;if(C===!0||C===void 0)return;a()}p.newAgStackInstance().then(v=>{if(!v)return;const y=v.getGui();if(!y)return;(t?n:s.current).appendChild(y),i.current=v})},[e,t,r]),A.useEffect(()=>a,[])},cX=HMe,GMe=({cellCtrl:e,parent:t})=>{const n=A.useRef(),r=A.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(cX(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){const i=r.compDetails.componentClass;return me.createElement(i,{...r.compDetails.params})}return me.createElement(me.Fragment,null)},UMe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=A.useContext(ys),{context:i}=r,{column:{colIdSanitised:s},instanceId:o}=e,a=A.useRef(),[l,c]=A.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,h]=A.useState(),[p,g]=A.useState(1),[v,y]=A.useState(),[C,b]=A.useState(!1),[E,x]=A.useState(!1),[k,D]=A.useState(!1),[R,_]=A.useState(),I=A.useMemo(()=>e.isForceWrapper(),[e]),F=A.useMemo(()=>e.getCellAriaRole(),[e]),N=A.useRef(null),B=A.useRef(null),M=A.useRef(null),L=A.useRef(),H=A.useRef(),ee=A.useRef(),re=A.useRef([]),te=A.useRef(),[he,Z]=A.useState(0),V=A.useCallback(j=>{te.current=j,Z(Ce=>Ce+1)},[]),X=l!=null&&(C||k||E)&&(u==null||!!u.popup),z=I||X,G=A.useCallback(j=>{if(H.current=j,j){const Ce=j.isCancelBeforeStart&&j.isCancelBeforeStart();setTimeout(()=>{Ce?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(j))})}},[e]),Y=A.useRef();Y.current||(Y.current=new Xw(()=>N.current)),cX(l,z,te.current,he,L,N);const J=A.useRef();A.useLayoutEffect(()=>{const j=J.current,Ce=l;if(J.current=l,j==null||j.compDetails==null||Ce==null||Ce.compDetails==null)return;const ye=j.compDetails,Q=Ce.compDetails;if(ye.componentClass!=Q.componentClass||M.current?.refresh==null)return;M.current.refresh(Q.params)!=!0&&g(ve=>ve+1)},[l]),A.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const Ce=u.compDetails,ye=u.popup===!0,Q=Ce.newAgStackInstance();return Q.then(oe=>{if(!oe)return;const ve=oe.getGui();G(oe),ye||((I?ee:N).current?.appendChild(ve),oe.afterGuiAttached&&oe.afterGuiAttached()),_(oe)}),()=>{Q.then(oe=>{const ve=oe.getGui();e.disableEditorTooltipFeature(),i.destroyBean(oe),G(void 0),_(void 0),ve?.parentElement?.removeChild(ve)})}},[u]);const pe=A.useCallback(j=>{if(ee.current=j,!j){re.current.forEach(ye=>ye()),re.current=[];return}const Ce=ye=>{if(ye){const Q=ye.getGui();j.insertAdjacentElement("afterbegin",Q),re.current.push(()=>{i.destroyBean(ye),qc(Q)})}return ye};if(C){const ye=e.createSelectionCheckbox();Ce(ye)}k&&Ce(e.createDndSource()),E&&Ce(e.createRowDragComp())},[e,i,k,E,C]),He=A.useCallback(()=>{const j=!e.isCellSpanning()||B.current,Ce=N.current;if(a.current=Ce?i.createBean(new wm):i.destroyBean(a.current),!Ce||!j||!e)return;const ye={toggleCss:(oe,ve)=>Y.current.toggleCss(oe,ve),setUserStyles:oe=>y(oe),getFocusableElement:()=>N.current,setIncludeSelection:oe=>b(oe),setIncludeRowDrag:oe=>x(oe),setIncludeDndSource:oe=>D(oe),getCellEditor:()=>H.current||null,getCellRenderer:()=>M.current??L.current,getParentOfValue:()=>te.current??ee.current??N.current,setRenderDetails:(oe,ve,Fe)=>{const Ue=()=>{c(xe=>xe?.compDetails!==oe||xe?.value!==ve||xe?.force!==Fe?{value:ve,compDetails:oe,force:Fe}:xe)};if(oe?.params?.deferRender&&!e.rowNode.group){const{loadingComp:xe,onReady:Ke}=e.getDeferLoadingCellRenderer();if(xe){c({value:void 0,compDetails:xe,force:!1}),Ke.then(()=>tMe(Ue));return}}Ue()},setEditDetails:(oe,ve,Fe,Ue)=>{if(oe){let xe;oe.componentFromFramework&&(Ue?xe=new OMe(oe.params,()=>g(Ke=>Ke+1)):oM()),h({compDetails:oe,popup:ve,popupPosition:Fe,compProxy:xe}),ve||c(void 0)}else e.hasBrowserFocus()&&ye.getFocusableElement().focus({preventScroll:!0}),h(Ke=>{Ke?.compProxy&&(H.current=void 0)})},refreshEditStyles:(oe,ve)=>{if(!N.current)return;const{current:Fe}=Y;Fe.toggleCss("ag-cell-value",!z),Fe.toggleCss("ag-cell-inline-editing",!!oe&&!ve),Fe.toggleCss("ag-cell-popup-editing",!!oe&&!!ve),Fe.toggleCss("ag-cell-not-inline-editing",!oe||!!ve)}},Q=ee.current||void 0;e.setComp(ye,Ce,B.current??void 0,Q,t,n,a.current)},[]),Re=A.useCallback(j=>{N.current=j,He()},[]),Te=A.useCallback(j=>{B.current=j,He()},[]),De=A.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&bm(l.compDetails.componentClass)),[l]);A.useLayoutEffect(()=>{if(!N.current)return;const{current:j}=Y;j.toggleCss("ag-cell-value",!z),j.toggleCss("ag-cell-inline-editing",!!u&&!u.popup),j.toggleCss("ag-cell-popup-editing",!!u&&!!u.popup),j.toggleCss("ag-cell-not-inline-editing",!u||!!u.popup)});const et=()=>{const{compDetails:j,value:Ce}=l;if(!j)return Ce?.toString?.()??Ce;if(j.componentFromFramework){const ye=j.componentClass;return me.createElement(A.Suspense,{fallback:me.createElement(GMe,{cellCtrl:e,parent:N})},De?me.createElement(ye,{...j.params,key:p}):me.createElement(ye,{...j.params,key:p,ref:M}))}},ue=()=>{const j=()=>l==null?null:z?me.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:V},et()):et(),Ce=ye=>VMe(ye,G,N.current,e,R);return u!=null?u.popup?me.createElement(me.Fragment,null,j(),Ce(u)):Ce(u):j()},St=()=>me.createElement("div",{ref:Re,style:v,role:F,"col-id":s},z?me.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:pe},ue()):ue());return e.isCellSpanning()?me.createElement("div",{ref:Te,className:"ag-spanned-cell-wrapper",role:"presentation"},St()):St()},zMe=A.memo(UMe),jMe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:i}=A.useContext(ys),s=A.useContext(rX)==="default",o=A.useRef(),a=A.useRef(e.getDomOrder()),l=e.isFullWidth(),c=e.rowNode.displayed,[u,h]=A.useState(()=>c?e.rowNode.getRowIndexString():null),[p,g]=A.useState(()=>e.rowId),[v,y]=A.useState(()=>e.businessKey),[C,b]=A.useState(()=>e.rowStyles),E=A.useRef(null),[x,k]=A.useState(()=>null),[D,R]=A.useState(),[_,I]=A.useState(()=>c?e.getInitialRowTop(t):void 0),[F,N]=A.useState(()=>c?e.getInitialTransform(t):void 0),B=A.useRef(null),M=A.useRef(),L=A.useRef(!1),[H,ee]=A.useState(0);A.useEffect(()=>{if(L.current||!D||H>10)return;const Te=B.current?.firstChild;Te?(e.setupDetailRowAutoHeight(Te),L.current=!0):ee(De=>De+1)},[D,H]);const re=A.useRef();re.current||(re.current=new Xw(()=>B.current));const te=A.useRef(()=>{}),he=A.useCallback(Te=>(te.current=Te,()=>{te.current=()=>{}}),[]),Z=nMe(he,()=>E.current,[]),V=s?Z:x,X=A.useCallback(Te=>{if(B.current=Te,o.current=Te?n.createBean(new wm):n.destroyBean(o.current),!Te){e.unsetComp(t);return}if(!e.isAlive())return;const De={setTop:I,setTransform:N,toggleCss:(et,ue)=>re.current.toggleCss(et,ue),setDomOrder:et=>a.current=et,setRowIndex:h,setRowId:g,setRowBusinessKey:y,setUserStyles:b,setCellCtrls:(et,ue)=>{const St=E.current,j=y1(St,et,a.current);j!==St&&(E.current=j,s?te.current():Iy(ue,()=>k(j)))},showFullWidth:et=>R(et),getFullWidthCellRenderer:()=>M.current,refreshFullWidth:et=>pe.current?(R(ue=>({...ue,params:et()})),!0):!M.current||!M.current.refresh?!1:M.current.refresh(et())};e.setComp(De,Te,t,o.current)},[]);A.useLayoutEffect(()=>eC(D,n,B.current,M),[D]);const z=A.useMemo(()=>{const Te={top:_,transform:F};return Object.assign(Te,C),Te},[_,F,C]),G=l&&D?.componentFromFramework,Y=!l&&V!=null,J=A.useMemo(()=>!!(D?.componentFromFramework&&bm(D.componentClass)),[D]),pe=A.useRef(!1);A.useEffect(()=>{pe.current=J&&!!D&&!!r.get("reactiveCustomComponents")},[J,D]);const He=()=>V?.map(Te=>me.createElement(zMe,{cellCtrl:Te,editingCell:i?.isEditing(Te,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Te.instanceId})),Re=()=>{const Te=D.componentClass;return J?me.createElement(Te,{...D.params}):me.createElement(Te,{...D.params,ref:M})};return me.createElement("div",{ref:X,role:"row",style:z,"row-index":u,"row-id":p,"row-business-key":v},Y?He():G?Re():null)},lH=A.memo(jMe),WMe=({name:e})=>{const{context:t,gos:n}=A.useContext(ys),r=A.useMemo(()=>Zw(e),[e]),i=A.useRef(null),s=A.useRef(null),o=A.useRef(null),a=A.useRef([]),l=A.useRef([]),[c,u]=A.useState(()=>[]),h=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,p=A.useRef([]),g=A.useRef([]),[v,y]=A.useState(()=>[]),C=A.useRef(!1),b=A.useRef(),E=A.useMemo(()=>la("ag-viewport",OK(e)),[e]),x=A.useMemo(()=>la(sS(e)),[e]),k=A.useMemo(()=>la("ag-spanning-container",ZSe(e)),[e]),D=r.type==="center"||h,R=D?i:s;bh(" AG Row Container "+e+" ",R);const _=A.useCallback(()=>{const ee=!D||i.current!=null,re=s.current!=null,te=!h||o.current!=null;return ee&&re&&te},[]),I=A.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),F=A.useCallback(()=>{if(I()&&(b.current=t.destroyBean(b.current)),_()){const ee=he=>{const Z=y1(l.current,a.current,C.current);Z!==l.current&&(l.current=Z,Iy(he,()=>u(Z)))},re=he=>{const Z=y1(g.current,p.current,C.current);Z!==g.current&&(g.current=Z,Iy(he,()=>y(Z)))},te={setHorizontalScroll:he=>{i.current&&(i.current.scrollLeft=he)},setViewportHeight:he=>{i.current&&(i.current.style.height=he)},setRowCtrls:({rowCtrls:he,useFlushSync:Z})=>{const V=!!Z&&a.current.length>0&&he.length>0;a.current=he,ee(V)},setSpannedRowCtrls:(he,Z)=>{const V=!!Z&&p.current.length>0&&he.length>0;p.current=he,re(V)},setDomOrder:he=>{C.current!=he&&(C.current=he,ee(!1))},setContainerWidth:he=>{s.current&&(s.current.style.width=he)},setOffsetTop:he=>{s.current&&(s.current.style.transform=`translateY(${he})`)}};b.current=t.createBean(new l1e(e)),b.current.setComp(te,s.current,o.current??void 0,i.current)}},[_,I]),N=A.useCallback(ee=>{s.current=ee,F()},[F]),B=A.useCallback(ee=>{o.current=ee,F()},[F]),M=A.useCallback(ee=>{i.current=ee,F()},[F]),L=()=>me.createElement("div",{className:x,ref:N,role:"rowgroup"},c.map(ee=>me.createElement(lH,{rowCtrl:ee,containerType:r.type,key:ee.instanceId})));if(!D)return L();const H=()=>me.createElement("div",{className:k,ref:B,role:"rowgroup"},v.map(ee=>me.createElement(lH,{rowCtrl:ee,containerType:r.type,key:ee.instanceId})));return me.createElement("div",{className:E,ref:M,role:"presentation"},L(),h?H():null)},$Me=A.memo(WMe),qMe=()=>{const e=A.useContext(ys),{context:t,overlays:n}=e,[r,i]=A.useState(""),[s,o]=A.useState(0),[a,l]=A.useState(0),[c,u]=A.useState("0px"),[h,p]=A.useState("0px"),[g,v]=A.useState("100%"),[y,C]=A.useState("0px"),[b,E]=A.useState("0px"),[x,k]=A.useState("100%"),[D,R]=A.useState(!0),[_,I]=A.useState(!0),[F,N]=A.useState(null),[B,M]=A.useState(""),[L,H]=A.useState(null),[ee,re]=A.useState("ag-layout-normal"),te=A.useRef();te.current||(te.current=new Xw(()=>he.current));const he=A.useRef(null),Z=A.useRef(null),V=A.useRef(null),X=A.useRef(null),z=A.useRef(null),G=A.useRef(null),Y=A.useRef(null),J=A.useRef([]),pe=A.useRef([]);bh(" AG Grid Body ",he),bh(" AG Pinned Top ",Z),bh(" AG Sticky Top ",V),bh(" AG Middle ",G),bh(" AG Pinned Bottom ",Y);const He=A.useCallback(Ue=>{if(he.current=Ue,!Ue){J.current=t.destroyBeans(J.current),pe.current.forEach(We=>We()),pe.current=[];return}if(!t)return;const xe=(We,dt)=>{We.appendChild(dt),pe.current.push(()=>We.removeChild(dt))},Ke=We=>{const dt=t.createBean(new We);return J.current.push(dt),dt},st=(We,dt,bt)=>{xe(We,document.createComment(bt)),xe(We,Ke(dt).getGui())};st(Ue,p1e," AG Fake Horizontal Scroll ");const Je=n?.getOverlayWrapperCompClass();Je&&st(Ue,Je," AG Overlay Wrapper "),z.current&&st(z.current,m1e," AG Fake Vertical Scroll ");const fe={setRowAnimationCssOnBodyViewport:i,setColumnCount:We=>{he.current&&vCe(he.current,We)},setRowCount:We=>{he.current&&gCe(he.current,We)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:p,setStickyTopWidth:v,setTopInvisible:R,setBottomInvisible:I,setColumnMovingCss:(We,dt)=>te.current.toggleCss(We,dt),updateLayoutClasses:re,setAlwaysVerticalScrollClass:N,setPinnedTopBottomOverflowY:M,setCellSelectableCss:(We,dt)=>H(dt?We:null),setBodyViewportWidth:We=>{G.current&&(G.current.style.width=We)},registerBodyViewportResizeListener:We=>{if(G.current){const dt=eu(e,G.current,We);pe.current.push(()=>dt())}},setStickyBottomHeight:C,setStickyBottomBottom:E,setStickyBottomWidth:k,setGridRootRole:We=>Ue.setAttribute("role",We)},Me=t.createBean(new h1e);J.current.push(Me),Me.setComp(fe,Ue,G.current,Z.current,Y.current,V.current,X.current)},[]),Re=A.useMemo(()=>la("ag-root","ag-unselectable",ee),[ee]),Te=A.useMemo(()=>la("ag-body-viewport",r,ee,F,L),[r,ee,F,L]),De=A.useMemo(()=>la("ag-body",ee),[ee]),et=A.useMemo(()=>la("ag-floating-top",D?"ag-invisible":null,L),[L,D]),ue=A.useMemo(()=>la("ag-sticky-top",L),[L]),St=A.useMemo(()=>la("ag-sticky-bottom",y==="0px"?"ag-invisible":null,L),[L,y]),j=A.useMemo(()=>la("ag-floating-bottom",_?"ag-invisible":null,L),[L,_]),Ce=A.useMemo(()=>({height:s,minHeight:s,overflowY:B}),[s,B]),ye=A.useMemo(()=>({height:c,top:h,width:g}),[c,h,g]),Q=A.useMemo(()=>({height:y,bottom:b,width:x}),[y,b,x]),oe=A.useMemo(()=>({height:a,minHeight:a,overflowY:B}),[a,B]),ve=Ue=>me.createElement($Me,{name:Ue,key:`${Ue}-container`}),Fe=({section:Ue,children:xe,className:Ke,style:st})=>me.createElement("div",{ref:Ue,className:Ke,role:"presentation",style:st},xe.map(ve));return me.createElement("div",{ref:He,className:Re},me.createElement(IMe,null),Fe({section:Z,className:et,style:Ce,children:["topLeft","topCenter","topRight","topFullWidth"]}),me.createElement("div",{className:De,ref:z,role:"presentation"},Fe({section:G,className:Te,children:["left","center","right","fullWidth"]})),Fe({section:V,className:ue,style:ye,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Fe({section:X,className:St,style:Q,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Fe({section:Y,className:j,style:oe,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},KMe=A.memo(qMe),YMe=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=A.useContext(ys),c=A.useRef(null),u=A.useRef(null),h=A.useRef(),p=b=>{const E=b==null?void 0:parseInt(b,10).toString();[c,u].forEach(x=>{E===void 0?x.current?.removeAttribute("tabindex"):x.current?.setAttribute("tabindex",E)})};A.useImperativeHandle(t,()=>({forceFocusOutOfContainer(b){h.current?.forceFocusOutOfContainer(b)}}));const g=A.useCallback(()=>{const b=c.current,E=u.current;if(!b&&!E){h.current=l.destroyBean(h.current);return}if(b&&E){const x={setTabIndex:p};h.current=l.createBean(new qK({comp:x,eTopGuard:b,eBottomGuard:E,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:k=>s.focusInnerElement(k),isEmpty:a}))}},[]),v=A.useCallback(b=>{c.current=b,g()},[g]),y=A.useCallback(b=>{u.current=b,g()},[g]),C=b=>{const E=b==="top"?wg.TAB_GUARD_TOP:wg.TAB_GUARD_BOTTOM;return me.createElement("div",{className:`${wg.TAB_GUARD} ${E}`,role:"presentation",ref:b==="top"?v:y})};return me.createElement(me.Fragment,null,C("top"),n,C("bottom"))},XMe=A.forwardRef(YMe),QMe=A.memo(XMe),ZMe=({context:e})=>{const[t,n]=A.useState(""),[r,i]=A.useState(""),[s,o]=A.useState(null),[a,l]=A.useState(null),[c,u]=A.useState(!1),[h,p]=A.useState(),g=A.useRef(),v=A.useRef(null),y=A.useRef(),[C,b]=A.useState(null),E=A.useRef(()=>{}),x=A.useRef(),k=A.useRef([]),D=A.useCallback(()=>{},[]),R=A.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);bh(" AG Grid ",v);const _=A.useCallback(L=>{if(v.current=L,g.current=L?e.createBean(new wEe):e.destroyBean(g.current),!L||e.isDestroyed())return;const H=g.current;E.current=H.focusInnerElement.bind(H);const ee={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:re=>{if(!re&&x.current?.isDisplayed()){x.current.forceFocusOutOfContainer(re);return}y.current?.forceFocusOutOfContainer(re)},updateLayoutClasses:i,getFocusableContainers:()=>{const re=[],te=v.current?.querySelector(".ag-root");return te&&re.push({getGui:()=>te}),k.current.forEach(he=>{he.isDisplayed()&&re.push(he)}),re},setCursor:o,setUserSelect:l};H.setComp(ee,L,L),u(!0)},[]);A.useEffect(()=>{const L=g.current,H=v.current;if(!h||!R||!L||!C||!H||e.isDestroyed())return;const ee=[],{watermarkSelector:re,paginationSelector:te,sideBarSelector:he,statusBarSelector:Z,gridHeaderDropZonesSelector:V}=L.getOptionalSelectors(),X=[];if(V){const G=e.createBean(new V.component),Y=G.getGui();H.insertAdjacentElement("afterbegin",Y),X.push(Y),ee.push(G)}if(he){const G=e.createBean(new he.component),Y=G.getGui(),J=C.querySelector(".ag-tab-guard-bottom");J&&(J.insertAdjacentElement("beforebegin",Y),X.push(Y)),ee.push(G),k.current.push(G)}const z=G=>{const Y=e.createBean(new G),J=Y.getGui();return H.insertAdjacentElement("beforeend",J),X.push(J),ee.push(Y),Y};if(Z&&z(Z.component),te){const G=z(te.component);x.current=G,k.current.push(G)}return re&&z(re.component),()=>{e.destroyBeans(ee),X.forEach(G=>{G.parentElement?.removeChild(G)})}},[h,C,R]);const I=A.useMemo(()=>la("ag-root-wrapper",t,r),[t,r]),F=A.useMemo(()=>la("ag-root-wrapper-body","ag-focus-managed",r),[r]),N=A.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),B=A.useCallback(L=>{y.current=L,p(L!==null)},[]),M=A.useCallback(()=>!g.current?.isFocusable(),[]);return me.createElement("div",{ref:_,className:I,style:N,role:"presentation"},me.createElement("div",{className:F,ref:b,role:"presentation"},c&&C&&R&&me.createElement(ys.Provider,{value:R},me.createElement(QMe,{ref:B,eFocusableElement:C,onTabKeyDown:D,gridCtrl:g.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:M},me.createElement(KMe,null)))))},JMe=A.memo(ZMe),eOe=class extends $e{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},uX={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},tOe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...uX},dX=new Set(Object.keys(tOe)),nOe=new Set(Object.keys(uX)),hX=e=>{const t=A.useRef(),n=A.useRef(null),r=A.useRef(null),i=A.useRef([]),s=A.useRef([]),o=A.useRef(e),a=A.useRef(),l=A.useRef(),c=A.useRef(!1),[u,h]=A.useState(void 0),[,p]=A.useState(0),g=A.useCallback(b=>{if(n.current=b,!b){i.current.forEach(B=>B()),i.current.length=0;return}const E=e.modules||[];r.current||(r.current=new bMe(()=>p(B=>B+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));const x=QCe(e.gridOptions,e,Object.keys(e).filter(B=>!dX.has(B))),k=()=>{if(c.current){const B=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let M=B();for(;M;)M(),M=B()}},D=new oOe(k);a.current=D;const R=new eOe,_={providedBeanInstances:{frameworkCompWrapper:new iOe(r.current,x),renderStatus:R},modules:E,frameworkOverrides:D,setThemeOnGridDiv:!0},I=B=>{h(B),B.createBean(R),i.current.push(()=>{B.destroy()}),B.getBean("ctrlsSvc").whenReady({addDestroyFunc:M=>{i.current.push(M)}},()=>{if(B.isDestroyed())return;const M=t.current;M&&e.passGridApi?.(M)})},F=B=>{B.getBean("ctrlsSvc").whenReady({addDestroyFunc:M=>{i.current.push(M)}},()=>{s.current.forEach(M=>M()),s.current.length=0,c.current=!0})},N=new Tke;x.gridId??(x.gridId=l.current),t.current=N.create(b,x,I,F,_),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),v=A.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),y=A.useCallback(b=>{c.current&&!a.current?.shouldQueueUpdates()?b():s.current.push(b)},[]);A.useEffect(()=>{const b=rOe(o.current,e);o.current=e,y(()=>{t.current&&ZCe(b,t.current)})},[e]);const C=!me.useSyncExternalStore||Zx(e,"renderingMode")==="legacy"?"legacy":"default";return me.createElement("div",{style:v,className:e.className,ref:g},me.createElement(rX.Provider,{value:C},u&&!u.isDestroyed()?me.createElement(JMe,{context:u}):null,r.current?.getPortals()??null))};function rOe(e,t){const n={};return Object.keys(t).forEach(r=>{if(dX.has(r)){nOe.has(r)&&at(274,{prop:r});return}const i=t[r];e[r]!==i&&(n[r]=i)}),n}var iOe=class extends kke{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(Zx(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return Zx(n,"enableFilterHandlers")?uMe:cMe;case"floatingFilterComponent":return Zx(n,"enableFilterHandlers")?fMe:hMe;case"dateComponent":return aMe;case"dragAndDropImageComponent":return lMe;case"loadingOverlayComponent":return gMe;case"noRowsOverlayComponent":return vMe;case"statusPanel":return yMe;case"toolPanel":return wMe;case"menuItem":return mMe;case"cellRenderer":return oMe;case"innerHeaderComponent":return pMe}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":oM();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new aX(e,this.parent,t,i)}},sOe=A.forwardRef((e,t)=>{const n=A.useContext(ys),{registry:r,context:i,gos:s,rowModel:o}=n,[a,l]=A.useState(()=>new ha),[c,u]=A.useState(()=>new ha),[h,p]=A.useState(),[g,v]=A.useState(),y=A.useRef(),C=A.useRef(null),b=A.useRef(),E=A.useMemo(()=>yxe(e.api.getGridId(),h?.rowModelType??"clientSide"),[e]),x=A.useMemo(()=>a.toString()+" ag-details-row",[a]),k=A.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&A.useImperativeHandle(t,()=>({refresh(){return y.current?.refresh()??!1}})),e.template&&at(230);const D=A.useCallback(_=>{if(C.current=_,!_){y.current=i.destroyBean(y.current),b.current?.();return}const I={toggleCss:(N,B)=>l(M=>M.setClass(N,B)),toggleDetailGridCss:(N,B)=>u(M=>M.setClass(N,B)),setDetailGrid:N=>p(N),setRowData:N=>v(N),getGui:()=>C.current},F=r.createDynamicBean("detailCellRendererCtrl",!0);if(F&&(i.createBean(F),F.init(I,e),y.current=F,s.get("detailRowAutoHeight"))){const N=()=>{if(C.current==null)return;const B=C.current.clientHeight;B!=null&&B>0&&setTimeout(()=>{e.node.setRowHeight(B),(li(s)||Of(s))&&o.onRowHeightChanged()},0)};b.current=eu(n,_,N),N()}},[]),R=A.useCallback(_=>{y.current?.registerDetailWithMaster(_)},[]);return me.createElement("div",{className:x,ref:D},h&&me.createElement(hX,{className:k,...h,modules:E,rowData:g,passGridApi:R}))}),oOe=class extends KK{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:iH,agGroupRowRenderer:iH,agDetailCellRenderer:sOe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?eMe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return JIe()}},aOe=class extends A.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return me.createElement(hX,{...this.props,passGridApi:this.setGridApi})}};const aM=$w(e=>({users:[],setUsers:t=>e({users:t}),addUser:t=>e(n=>({users:[...n.users,t]})),showForm:!1,setShowForm:t=>e({showForm:t})})),lOe=()=>O.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:O.jsx(to,{animation:"border",size:"sm"})}),fX=({showRole:e=!0,title:t="Gestin de Usuarios",placeholder:n="Buscar usuarios...",useStore:r=!0,userLabel:i="usuario",actionsColumn:s}={})=>{const o=A.useRef(null),a=aM(),[l,c]=A.useState([]),[u,h]=A.useState(""),[p,g]=A.useState(!0),v=r?a.users:l,y=r?a.setUsers:c,C=A.useCallback(k=>{k.api.sizeColumnsToFit()},[]),b=A.useMemo(()=>{const k=[{field:"name",headerName:"Nombre",flex:2,minWidth:150,sortable:!0,filter:!0,cellStyle:{fontWeight:"500"}},{field:"email",headerName:"Correo Electrnico",flex:3,minWidth:200,sortable:!0,filter:!0}];return e&&k.push({field:"role",headerName:"Rol",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:D=>{const R=D.value,_=R==="TEACHER"?"badge bg-primary":"badge bg-success",I=R==="TEACHER"?"Profesor":"Estudiante";return O.jsx("span",{className:_,children:I})}}),s&&k.push({headerName:s.headerName||"Acciones",flex:1,minWidth:120,sortable:!1,filter:!1,cellRenderer:D=>s.cellRenderer({data:D.data})}),k},[e,s]),E={sortable:!0,filter:!0,resizable:!0,cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}},x=A.useCallback(k=>{const D=k.target.value;h(D)},[]);return A.useEffect(()=>{if(g(!0),r&&v.length>0){g(!1);return}vI().then(k=>{if(k.length===0){g(!1);return}y(k),g(!1)}).catch(()=>{g(!1)})},[r,v.length,y]),O.jsx(cy,{fluid:!0,className:"p-0",children:O.jsxs(Mn,{className:"shadow-sm border-0",children:[O.jsx(Mn.Header,{className:"bg-white border-bottom",children:O.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[O.jsxs("div",{className:"d-flex align-items-center",children:[O.jsx(Pc,{size:24,className:"text-primary me-2"}),O.jsxs("div",{children:[O.jsx("h5",{className:"mb-0 fw-bold",children:t}),O.jsxs("small",{className:"text-muted",children:[v.length," ",i,v.length!==1?"s":""," ","registrado",v.length!==1?"s":""]})]})]}),O.jsx("div",{style:{width:"300px"},children:O.jsxs(Eh,{className:"search-input-group",children:[O.jsx(Eh.Text,{className:"bg-light border-end-0",children:O.jsx(r2,{size:16,className:"text-muted"})}),O.jsx(In.Control,{type:"text",placeholder:n,value:u,onChange:x,className:"border-start-0 ps-2",style:{boxShadow:"none",borderColor:"#dee2e6"}})]})})]})}),O.jsx(Mn.Body,{className:"p-0",children:O.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:O.jsx(aOe,{ref:o,rowData:v,columnDefs:b,defaultColDef:E,onGridReady:C,quickFilterText:u,animateRows:!0,rowSelection:"multiple",rowHeight:50,headerHeight:45,suppressCellFocus:!0,suppressRowHoverHighlight:!1,domLayout:"normal",suppressMovableColumns:!0,loading:p,loadingOverlayComponent:lOe,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:100}})})})]})})},cOe=({onSubmit:e})=>{const{addUser:t,setShowForm:n}=aM(),[r,i]=A.useState(!1),[s,o]=A.useState({id:"",name:"",email:"",role:en.STUDENT}),[a,l]=A.useState(!1),c=async h=>{if(h.preventDefault(),h.currentTarget.checkValidity()===!1)h.stopPropagation();else{i(!0);const g={...s};g.email.includes("@")||(g.email=`${g.email}@mail.com`),e(g).then(v=>{t(v),l(!0),n(!1),cn.success("Usuario creado correctamente",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",transition:tq})}).catch(v=>{cn.error(nq(v),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{i(!1)})}},u=h=>{const{name:p,value:g}=h.target;o({...s,[p]:g})};return O.jsxs(In,{noValidate:!0,validated:a,onSubmit:c,className:"p-2",children:[O.jsxs(Ng,{className:"g-3",children:[O.jsx(Dl,{xs:12,children:O.jsx(In.Group,{controlId:"formUserName",children:O.jsxs(Eh,{hasValidation:!0,children:[O.jsx(Eh.Text,{children:O.jsx(s2,{size:18,className:"text-muted"})}),O.jsxs(RS,{label:"Nombre completo",children:[O.jsx(In.Control,{type:"text",name:"name",placeholder:"Nombre completo",value:s.name,onChange:u,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),O.jsx(In.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre."})]})]})})}),O.jsx(Dl,{xs:12,children:O.jsx(In.Group,{controlId:"formUserEmail",children:O.jsxs(Eh,{hasValidation:!0,children:[O.jsx(Eh.Text,{children:O.jsx(tde,{size:18,className:"text-muted"})}),O.jsxs(RS,{label:"Usuario o correo electrnico",children:[O.jsx(In.Control,{type:"text",name:"email",placeholder:"Usuario o correo electrnico",value:s.email,onChange:u,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),O.jsx(In.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre de usuario o correo."})]})]})})})]}),O.jsxs(xS,{variant:"info",className:"mt-4 d-flex align-items-center",children:[O.jsx(Yue,{size:24,className:"me-3"}),O.jsxs("div",{children:[O.jsx(xS.Heading,{as:"h6",className:"mb-1 fw-bold",children:"Generacin de Contrasea"}),O.jsx("p",{className:"mb-0 small",children:"La contrasea se crear automticamente con los 3 primeros caracteres del nombre y del correo o usuario."})]})]}),O.jsx("div",{className:"d-grid mt-4",children:O.jsx(fr,{variant:"primary",type:"submit",size:"lg",disabled:r,children:r?O.jsx(to,{animation:"border",size:"sm",className:"me-2"}):O.jsxs(O.Fragment,{children:[O.jsx(dde,{size:16,className:"me-2"}),"Crear Usuario"]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var w1={};w1.version="0.18.5";var pX=1252,uOe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],lM={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},cM=function(e){uOe.indexOf(e)!=-1&&(pX=lM[0]=e)};function dOe(){cM(1252)}var Ba=function(e){cM(e)};function uM(){Ba(1200),dOe()}function cH(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function hOe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function gX(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var fv=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?hOe(e.slice(2)):t==254&&n==255?gX(e.slice(2)):t==65279?e.slice(1):e},ox=function(t){return String.fromCharCode(t)},uH=function(t){return String.fromCharCode(t)},My,Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Oy(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),s=n>>2,r=e.charCodeAt(c++),o=(n&3)<<4|r>>4,i=e.charCodeAt(c++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),t+=Yu.charAt(s)+Yu.charAt(o)+Yu.charAt(a)+Yu.charAt(l);return t}function Mo(e){var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=Yu.indexOf(e.charAt(c++)),o=Yu.indexOf(e.charAt(c++)),n=s<<2|o>>4,t+=String.fromCharCode(n),a=Yu.indexOf(e.charAt(c++)),r=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(r)),l=Yu.indexOf(e.charAt(c++)),i=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var ln=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),nu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function yd(e){return ln?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function dH(e){return ln?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Co=function(t){return ln?nu(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function eT(e){if(typeof ArrayBuffer>"u")return Co(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function Od(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function fOe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function dM(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return dM(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Fi=ln?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:nu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function pOe(e){for(var t=[],n=0,r=e.length+250,i=yd(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(o&3)<<4,i[n++]=128|a&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=yd(65535),r=65530)}return t.push(i.slice(0,n)),Fi(t)}var Ls=/\u0000/g,pv=/[\u0001-\u0006]/g;function xg(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Va(e,t){var n=""+e;return n.length>=t?n:Mr("0",t-n.length)+n}function hM(e,t){var n=""+e;return n.length>=t?n:Mr(" ",t-n.length)+n}function C1(e,t){var n=""+e;return n.length>=t?n:n+Mr(" ",t-n.length)}function gOe(e,t){var n=""+Math.round(e);return n.length>=t?n:Mr("0",t-n.length)+n}function mOe(e,t){var n=""+e;return n.length>=t?n:Mr("0",t-n.length)+n}var hH=Math.pow(2,32);function Np(e,t){if(e>hH||e<-hH)return gOe(e,t);var n=Math.round(e);return mOe(n,t)}function b1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var fH=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],FA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function vOe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},pH={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yOe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function x1(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,a=0,l=1,c=0,u=0,h=Math.floor(i);c<t&&(h=Math.floor(i),a=h*o+s,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),s=o,o=a,l=c,c=u;if(u>t&&(c>t?(u=l,a=s):(u=c,a=o)),!n)return[0,r*a,u];var p=Math.floor(r*a/u);return[p,r*a-p*u,u]}function Ah(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,o=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=EOe(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var mX=new Date(1899,11,31,0,0,0),wOe=mX.getTime(),COe=new Date(1900,2,1,0,0,0);function vX(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=COe&&(n+=1440*60*1e3),(n-(wOe+(e.getTimezoneOffset()-mX.getTimezoneOffset())*6e4))/(1440*60*1e3)}function fM(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bOe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xOe(e){var t=e<0?12:11,n=fM(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function SOe(e){var t=fM(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Ny(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=xOe(e):t===10?n=e.toFixed(10).substr(0,12):n=SOe(e),fM(bOe(n.toUpperCase()))}function gf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Ny(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Sa(14,vX(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function EOe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function TOe(e,t,n,r){var i="",s=0,o=0,a=n.y,l,c=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return FA[n.m-1][1];case 5:return FA[n.m-1][0];default:return FA[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return fH[n.q][0];default:return fH[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Va(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(i=Va(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=a,c=1;break}var u=c>0?Va(l,c):"";return u}function Xu(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var yX=/%/g;function ROe(e,t,n){var r=t.replace(yX,""),i=t.length-r.length;return Nc(e,r,n*Math.pow(10,2*i))+Mr("%",i)}function _Oe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Nc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function wX(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+wX(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var CX=/# (\?+)( ?)\/( ?)(\d+)/;function AOe(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(s===0?"":""+s)+" "+(o===0?Mr(" ",e[1].length+1+e[4].length):hM(o,e[1].length)+e[2]+"/"+e[3]+Va(a,e[4].length))}function kOe(e,t,n){return n+(t===0?"":""+t)+Mr(" ",e[1].length+2+e[4].length)}var bX=/^#*0*\.([0#]+)/,xX=/\).*[0#]/,SX=/\(###\) ###\\?-####/;function Ds(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function gH(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function mH(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function DOe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function POe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Jo(e,t,n){if(e.charCodeAt(0)===40&&!t.match(xX)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Jo("n",r,n):"("+Jo("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return _Oe(e,t,n);if(t.indexOf("%")!==-1)return ROe(e,t,n);if(t.indexOf("E")!==-1)return wX(t,n);if(t.charCodeAt(0)===36)return"$"+Jo(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Np(l,t.length);if(t.match(/^[#?]+$/))return i=Np(n,0),i==="0"&&(i=""),i.length>t.length?i:Ds(t.substr(0,t.length-i.length))+i;if(s=t.match(CX))return AOe(s,l,c);if(t.match(/^#+0+$/))return c+Np(l,t.length-t.indexOf("0"));if(s=t.match(bX))return i=gH(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Ds(s[1])).replace(/\.$/,"."+Ds(s[1])).replace(/\.(\d*)$/,function(v,y){return"."+y+Mr("0",Ds(s[1]).length-y.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+gH(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Xu(Np(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Jo(e,t,-n):Xu(""+(Math.floor(n)+DOe(n,s[1].length)))+"."+Va(mH(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Jo(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xg(Jo(e,t.replace(/[\\-]/g,""),n)),o=0,xg(xg(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(t.match(SX))return i=Jo(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=x1(l,Math.pow(10,o)-1,!1),i=""+c,u=Nc("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=C1(a[2],o),u.length<s[4].length&&(u=Ds(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=x1(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?hM(a[1],o)+s[2]+"/"+s[3]+C1(a[2],o):Mr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Np(n,0),t.length<=i.length?i:Ds(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,p=t.length-i.length-h;return Ds(t.substr(0,h)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=mH(n,s[1].length),n<0?"-"+Jo(e,t,-n):Xu(POe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Va(0,3-v.length):"")+v})+"."+Va(o,s[1].length);switch(t){case"###,##0.00":return Jo(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Xu(Np(l,0));return g!=="0"?c+g:"";case"###,###.00":return Jo(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Jo(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function FOe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Nc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function IOe(e,t,n){var r=t.replace(yX,""),i=t.length-r.length;return Nc(e,r,n*Math.pow(10,2*i))+Mr("%",i)}function EX(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+EX(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function fl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(xX)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?fl("n",r,n):"("+fl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return FOe(e,t,n);if(t.indexOf("%")!==-1)return IOe(e,t,n);if(t.indexOf("E")!==-1)return EX(t,n);if(t.charCodeAt(0)===36)return"$"+fl(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Va(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:Ds(t.substr(0,t.length-i.length))+i;if(s=t.match(CX))return kOe(s,l,c);if(t.match(/^#+0+$/))return c+Va(l,t.length-t.indexOf("0"));if(s=t.match(bX))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Ds(s[1])).replace(/\.$/,"."+Ds(s[1])),i=i.replace(/\.(\d*)$/,function(v,y){return"."+y+Mr("0",Ds(s[1]).length-y.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Xu(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+fl(e,t,-n):Xu(""+n)+"."+Mr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return fl(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xg(fl(e,t.replace(/[\\-]/g,""),n)),o=0,xg(xg(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(t.match(SX))return i=fl(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=x1(l,Math.pow(10,o)-1,!1),i=""+c,u=Nc("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=C1(a[2],o),u.length<s[4].length&&(u=Ds(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=x1(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?hM(a[1],o)+s[2]+"/"+s[3]+C1(a[2],o):Mr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:Ds(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,p=t.length-i.length-h;return Ds(t.substr(0,h)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+fl(e,t,-n):Xu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Va(0,3-v.length):"")+v})+"."+Va(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Xu(""+l);return g!=="0"?c+g:"";default:if(t.match(/\.[0#?]*$/))return fl(e,t.slice(0,t.lastIndexOf(".")),n)+Ds(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Nc(e,t,n){return(n|0)===n?fl(e,t,n):Jo(e,t,n)}function MOe(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var TX=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function xm(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":b1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(TX))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function OOe(e,t,n,r){for(var i=[],s="",o=0,a="",l="t",c,u,h,p="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!b1(e,o))throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(h=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++o;break;case"\\":var g=e.charAt(++o),v=g==="("||g===")"?g:"t";i[i.length]={t:v,v:g},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=Ah(t,n,e.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Ah(t,n),c==null))return"";for(s=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var y={t:a,v:a};if(c==null&&(c=Ah(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(y.v=c.H>=12?"P":"A"),y.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(y.v=c.H>=12?"PM":"AM"),y.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="/"?(c!=null&&(y.v=c.H>=12?"":""),y.t="T",o+=5,p="h"):(y.t="t",++o),c==null&&y.t==="T")return"";i[i.length]=y,l=a;break;case"[":for(s=a;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(TX)){if(c==null&&(c=Ah(t,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",xm(e)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<e.length&&(a=e.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;e.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"t",v:a},++o;break}var C=0,b=0,E;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,l="h",C<1&&(C=1);break;case"s":(E=i[o].v.match(/\.0+$/))&&(b=Math.max(b,E[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",k;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=TOe(i[o].t.charCodeAt(0),i[o].v,c,b),i[o].t="t";break;case"n":case"?":for(k=o+1;i[k]!=null&&((a=i[k].t)==="?"||a==="D"||(a===" "||a==="t")&&i[k+1]!=null&&(i[k+1].t==="?"||i[k+1].t==="t"&&i[k+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[k].v==="/"||i[k].v===" "&&i[k+1]!=null&&i[k+1].t=="?"));)i[o].v+=i[k].v,i[k]={v:"",t:";"},++k;x+=i[o].v,o=k-1;break;case"G":i[o].t="t",i[o].v=gf(t,n);break}var D="",R,_;if(x.length>0){x.charCodeAt(0)==40?(R=t<0&&x.charCodeAt(0)===45?-t:t,_=Nc("n",x,R)):(R=t<0&&r>1?-t:t,_=Nc("n",x,R),R<0&&i[0]&&i[0].t=="t"&&(_=_.substr(1),i[0].v="-"+i[0].v)),k=_.length-1;var I=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){I=o;break}var F=i.length;if(I===i.length&&_.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(k>=i[o].v.length-1?(k-=i[o].v.length,i[o].v=_.substr(k+1,i[o].v.length)):k<0?i[o].v="":(i[o].v=_.substr(0,k+1),k=-1),i[o].t="t",F=o);k>=0&&F<i.length&&(i[F].v=_.substr(0,k+1)+i[F].v)}else if(I!==i.length&&_.indexOf("E")===-1){for(k=_.indexOf(".")-1,o=I;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(".")>-1&&o===I?i[o].v.indexOf(".")-1:i[o].v.length-1,D=i[o].v.substr(u+1);u>=0;--u)k>=0&&(i[o].v.charAt(u)==="0"||i[o].v.charAt(u)==="#")&&(D=_.charAt(k--)+D);i[o].v=D,i[o].t="t",F=o}for(k>=0&&F<i.length&&(i[F].v=_.substr(0,k+1)+i[F].v),k=_.indexOf(".")+1,o=I;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==I)){for(u=i[o].v.indexOf(".")>-1&&o===I?i[o].v.indexOf(".")+1:0,D=i[o].v.substr(0,u);u<i[o].v.length;++u)k<_.length&&(D+=_.charAt(k++));i[o].v=D,i[o].t="t",F=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(R=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Nc(i[o].t,i[o].v,R),i[o].t="t");var N="";for(o=0;o!==i.length;++o)i[o]!=null&&(N+=i[o].v);return N}var vH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function yH(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function NOe(e,t){var n=MOe(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(vH),a=n[1].match(vH);return yH(t,o)?[r,n[0]]:yH(t,a)?[r,n[1]]:[r,n[o!=null&&a!=null?2:1]]}return[r,s]}function Sa(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:jt)[e],r==null&&(r=n.table&&n.table[pH[e]]||jt[pH[e]]),r==null&&(r=yOe[e]||"General");break}if(b1(r,0))return gf(t,n);t instanceof Date&&(t=vX(t,n.date1904));var i=NOe(r,t);if(b1(i[1]))return gf(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return OOe(i[1],t,n,i[0])}function Lc(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(jt[n]==null){t<0&&(t=n);continue}if(jt[n]==e){t=n;break}}t<0&&(t=391)}return jt[t]=e,t}function tT(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Lc(e[t],t)}function Sm(){jt=vOe()}var LOe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},RX=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function BOe(e){var t=typeof e=="number"?jt[e]:e;return t=t.replace(RX,"(\\d+)"),new RegExp("^"+t+"$")}function VOe(e,t,n){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(t.match(RX)||[]).forEach(function(h,p){var g=parseInt(n[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=g;break;case"d":s=g;break;case"h":o=g;break;case"s":l=g;break;case"m":o>=0?a=g:i=g;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var HOe=function(){var e={};e.version="1.2.0";function t(){for(var _=0,I=new Array(256),F=0;F!=256;++F)_=F,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,I[F]=_;return typeof Int32Array<"u"?new Int32Array(I):I}var n=t();function r(_){var I=0,F=0,N=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)B[N]=_[N];for(N=0;N!=256;++N)for(F=_[N],I=256+N;I<4096;I+=256)F=B[I]=F>>>8^_[F&255];var M=[];for(N=1;N!=16;++N)M[N-1]=typeof Int32Array<"u"?B.subarray(N*256,N*256+256):B.slice(N*256,N*256+256);return M}var i=r(n),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],p=i[7],g=i[8],v=i[9],y=i[10],C=i[11],b=i[12],E=i[13],x=i[14];function k(_,I){for(var F=I^-1,N=0,B=_.length;N<B;)F=F>>>8^n[(F^_.charCodeAt(N++))&255];return~F}function D(_,I){for(var F=I^-1,N=_.length-15,B=0;B<N;)F=x[_[B++]^F&255]^E[_[B++]^F>>8&255]^b[_[B++]^F>>16&255]^C[_[B++]^F>>>24]^y[_[B++]]^v[_[B++]]^g[_[B++]]^p[_[B++]]^h[_[B++]]^u[_[B++]]^c[_[B++]]^l[_[B++]]^a[_[B++]]^o[_[B++]]^s[_[B++]]^n[_[B++]];for(N+=15;B<N;)F=F>>>8^n[(F^_[B++])&255];return~F}function R(_,I){for(var F=I^-1,N=0,B=_.length,M=0,L=0;N<B;)M=_.charCodeAt(N++),M<128?F=F>>>8^n[(F^M)&255]:M<2048?(F=F>>>8^n[(F^(192|M>>6&31))&255],F=F>>>8^n[(F^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,L=_.charCodeAt(N++)&1023,F=F>>>8^n[(F^(240|M>>8&7))&255],F=F>>>8^n[(F^(128|M>>2&63))&255],F=F>>>8^n[(F^(128|L>>6&15|(M&3)<<4))&255],F=F>>>8^n[(F^(128|L&63))&255]):(F=F>>>8^n[(F^(224|M>>12&15))&255],F=F>>>8^n[(F^(128|M>>6&63))&255],F=F>>>8^n[(F^(128|M&63))&255]);return~F}return e.table=n,e.bstr=k,e.buf=D,e.str=R,e}(),Vt=function(){var t={};t.version="1.2.1";function n(K,ae){for(var ne=K.split("/"),ie=ae.split("/"),ce=0,de=0,Ae=Math.min(ne.length,ie.length);ce<Ae;++ce){if(de=ne[ce].length-ie[ce].length)return de;if(ne[ce]!=ie[ce])return ne[ce]<ie[ce]?-1:1}return ne.length-ie.length}function r(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:r(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(0,ae+1)}function i(K){if(K.charAt(K.length-1)=="/")return i(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(ae+1)}function s(K,ae){typeof ae=="string"&&(ae=new Date(ae));var ne=ae.getHours();ne=ne<<6|ae.getMinutes(),ne=ne<<5|ae.getSeconds()>>>1,K.write_shift(2,ne);var ie=ae.getFullYear()-1980;ie=ie<<4|ae.getMonth()+1,ie=ie<<5|ae.getDate(),K.write_shift(2,ie)}function o(K){var ae=K.read_shift(2)&65535,ne=K.read_shift(2)&65535,ie=new Date,ce=ne&31;ne>>>=5;var de=ne&15;ne>>>=4,ie.setMilliseconds(0),ie.setFullYear(ne+1980),ie.setMonth(de-1),ie.setDate(ce);var Ae=ae&31;ae>>>=5;var Ge=ae&63;return ae>>>=6,ie.setHours(ae),ie.setMinutes(Ge),ie.setSeconds(Ae<<1),ie}function a(K){Ki(K,0);for(var ae={},ne=0;K.l<=K.length-4;){var ie=K.read_shift(2),ce=K.read_shift(2),de=K.l+ce,Ae={};switch(ie){case 21589:ne=K.read_shift(1),ne&1&&(Ae.mtime=K.read_shift(4)),ce>5&&(ne&2&&(Ae.atime=K.read_shift(4)),ne&4&&(Ae.ctime=K.read_shift(4))),Ae.mtime&&(Ae.mt=new Date(Ae.mtime*1e3));break}K.l=de,ae[ie]=Ae}return ae}var l;function c(){return l||(l={})}function u(K,ae){if(K[0]==80&&K[1]==75)return No(K,ae);if((K[0]|32)==109&&(K[1]|32)==105)return Pe(K,ae);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var ne=3,ie=512,ce=0,de=0,Ae=0,Ge=0,Ee=0,_e=[],Le=K.slice(0,512);Ki(Le,0);var rt=h(Le);switch(ne=rt[0],ne){case 3:ie=512;break;case 4:ie=4096;break;case 0:if(rt[1]==0)return No(K,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}ie!==512&&(Le=K.slice(0,ie),Ki(Le,28));var ct=K.slice(0,ie);p(Le,ne);var wt=Le.read_shift(4,"i");if(ne===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);Le.l+=4,Ae=Le.read_shift(4,"i"),Le.l+=4,Le.chk("00100000","Mini Stream Cutoff Size: "),Ge=Le.read_shift(4,"i"),ce=Le.read_shift(4,"i"),Ee=Le.read_shift(4,"i"),de=Le.read_shift(4,"i");for(var ut=-1,ft=0;ft<109&&(ut=Le.read_shift(4,"i"),!(ut<0));++ft)_e[ft]=ut;var Lt=g(K,ie);C(Ee,de,Lt,ie,_e);var pn=E(Lt,Ae,_e,ie);pn[Ae].name="!Directory",ce>0&&Ge!==L&&(pn[Ge].name="!MiniFAT"),pn[_e[0]].name="!FAT",pn.fat_addrs=_e,pn.ssz=ie;var on={},kt=[],Hn=[],bs=[];x(Ae,pn,Lt,kt,ce,on,Hn,Ge),v(Hn,bs,kt),kt.shift();var Hr={FileIndex:Hn,FullPaths:bs};return ae&&ae.raw&&(Hr.raw={header:ct,sectors:Lt}),Hr}function h(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(H,"Header Signature: "),K.l+=16;var ae=K.read_shift(2,"u");return[K.read_shift(2,"u"),ae]}function p(K,ae){var ne=9;switch(K.l+=2,ne=K.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function g(K,ae){for(var ne=Math.ceil(K.length/ae)-1,ie=[],ce=1;ce<ne;++ce)ie[ce-1]=K.slice(ce*ae,(ce+1)*ae);return ie[ne-1]=K.slice(ne*ae),ie}function v(K,ae,ne){for(var ie=0,ce=0,de=0,Ae=0,Ge=0,Ee=ne.length,_e=[],Le=[];ie<Ee;++ie)_e[ie]=Le[ie]=ie,ae[ie]=ne[ie];for(;Ge<Le.length;++Ge)ie=Le[Ge],ce=K[ie].L,de=K[ie].R,Ae=K[ie].C,_e[ie]===ie&&(ce!==-1&&_e[ce]!==ce&&(_e[ie]=_e[ce]),de!==-1&&_e[de]!==de&&(_e[ie]=_e[de])),Ae!==-1&&(_e[Ae]=ie),ce!==-1&&ie!=_e[ie]&&(_e[ce]=_e[ie],Le.lastIndexOf(ce)<Ge&&Le.push(ce)),de!==-1&&ie!=_e[ie]&&(_e[de]=_e[ie],Le.lastIndexOf(de)<Ge&&Le.push(de));for(ie=1;ie<Ee;++ie)_e[ie]===ie&&(de!==-1&&_e[de]!==de?_e[ie]=_e[de]:ce!==-1&&_e[ce]!==ce&&(_e[ie]=_e[ce]));for(ie=1;ie<Ee;++ie)if(K[ie].type!==0){if(Ge=ie,Ge!=_e[Ge])do Ge=_e[Ge],ae[ie]=ae[Ge]+"/"+ae[ie];while(Ge!==0&&_e[Ge]!==-1&&Ge!=_e[Ge]);_e[ie]=-1}for(ae[0]+="/",ie=1;ie<Ee;++ie)K[ie].type!==2&&(ae[ie]+="/")}function y(K,ae,ne){for(var ie=K.start,ce=K.size,de=[],Ae=ie;ne&&ce>0&&Ae>=0;)de.push(ae.slice(Ae*M,Ae*M+M)),ce-=M,Ae=xh(ne,Ae*4);return de.length===0?Ye(0):Fi(de).slice(0,K.size)}function C(K,ae,ne,ie,ce){var de=L;if(K===L){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var Ae=ne[K],Ge=(ie>>>2)-1;if(!Ae)return;for(var Ee=0;Ee<Ge&&(de=xh(Ae,Ee*4))!==L;++Ee)ce.push(de);C(xh(Ae,ie-4),ae-1,ne,ie,ce)}}function b(K,ae,ne,ie,ce){var de=[],Ae=[];ce||(ce=[]);var Ge=ie-1,Ee=0,_e=0;for(Ee=ae;Ee>=0;){ce[Ee]=!0,de[de.length]=Ee,Ae.push(K[Ee]);var Le=ne[Math.floor(Ee*4/ie)];if(_e=Ee*4&Ge,ie<4+_e)throw new Error("FAT boundary crossed: "+Ee+" 4 "+ie);if(!K[Le])break;Ee=xh(K[Le],_e)}return{nodes:de,data:DH([Ae])}}function E(K,ae,ne,ie){var ce=K.length,de=[],Ae=[],Ge=[],Ee=[],_e=ie-1,Le=0,rt=0,ct=0,wt=0;for(Le=0;Le<ce;++Le)if(Ge=[],ct=Le+ae,ct>=ce&&(ct-=ce),!Ae[ct]){Ee=[];var ut=[];for(rt=ct;rt>=0;){ut[rt]=!0,Ae[rt]=!0,Ge[Ge.length]=rt,Ee.push(K[rt]);var ft=ne[Math.floor(rt*4/ie)];if(wt=rt*4&_e,ie<4+wt)throw new Error("FAT boundary crossed: "+rt+" 4 "+ie);if(!K[ft]||(rt=xh(K[ft],wt),ut[rt]))break}de[ct]={nodes:Ge,data:DH([Ee])}}return de}function x(K,ae,ne,ie,ce,de,Ae,Ge){for(var Ee=0,_e=ie.length?2:0,Le=ae[K].data,rt=0,ct=0,wt;rt<Le.length;rt+=128){var ut=Le.slice(rt,rt+128);Ki(ut,64),ct=ut.read_shift(2),wt=CM(ut,0,ct-_e),ie.push(wt);var ft={name:wt,type:ut.read_shift(1),color:ut.read_shift(1),L:ut.read_shift(4,"i"),R:ut.read_shift(4,"i"),C:ut.read_shift(4,"i"),clsid:ut.read_shift(16),state:ut.read_shift(4,"i"),start:0,size:0},Lt=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);Lt!==0&&(ft.ct=k(ut,ut.l-8));var pn=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);pn!==0&&(ft.mt=k(ut,ut.l-8)),ft.start=ut.read_shift(4,"i"),ft.size=ut.read_shift(4,"i"),ft.size<0&&ft.start<0&&(ft.size=ft.type=0,ft.start=L,ft.name=""),ft.type===5?(Ee=ft.start,ce>0&&Ee!==L&&(ae[Ee].name="!StreamData")):ft.size>=4096?(ft.storage="fat",ae[ft.start]===void 0&&(ae[ft.start]=b(ne,ft.start,ae.fat_addrs,ae.ssz)),ae[ft.start].name=ft.name,ft.content=ae[ft.start].data.slice(0,ft.size)):(ft.storage="minifat",ft.size<0?ft.size=0:Ee!==L&&ft.start!==L&&ae[Ee]&&(ft.content=y(ft,ae[Ee].data,(ae[Ge]||{}).data))),ft.content&&Ki(ft.content,0),de[wt]=ft,Ae.push(ft)}}function k(K,ae){return new Date((vo(K,ae+4)/1e7*Math.pow(2,32)+vo(K,ae)/1e7-11644473600)*1e3)}function D(K,ae){return c(),u(l.readFileSync(K),ae)}function R(K,ae){var ne=ae&&ae.type;switch(ne||ln&&Buffer.isBuffer(K)&&(ne="buffer"),ne||"base64"){case"file":return D(K,ae);case"base64":return u(Co(Mo(K)),ae);case"binary":return u(Co(K),ae)}return u(K,ae)}function _(K,ae){var ne=ae||{},ie=ne.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ie+"/",K.FileIndex[0]={name:ie,type:5}),ne.CLSID&&(K.FileIndex[0].clsid=ne.CLSID),I(K)}function I(K){var ae="Sh33tJ5";if(!Vt.find(K,"/"+ae)){var ne=Ye(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,K.FileIndex.push({name:ae,type:2,content:ne,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+ae),F(K)}}function F(K,ae){_(K);for(var ne=!1,ie=!1,ce=K.FullPaths.length-1;ce>=0;--ce){var de=K.FileIndex[ce];switch(de.type){case 0:ie?ne=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ie=!0,isNaN(de.R*de.L*de.C)&&(ne=!0),de.R>-1&&de.L>-1&&de.R==de.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!ae)){var Ae=new Date(1987,1,19),Ge=0,Ee=Object.create?Object.create(null):{},_e=[];for(ce=0;ce<K.FullPaths.length;++ce)Ee[K.FullPaths[ce]]=!0,K.FileIndex[ce].type!==0&&_e.push([K.FullPaths[ce],K.FileIndex[ce]]);for(ce=0;ce<_e.length;++ce){var Le=r(_e[ce][0]);ie=Ee[Le],ie||(_e.push([Le,{name:i(Le).replace("/",""),type:1,clsid:re,ct:Ae,mt:Ae,content:null}]),Ee[Le]=!0)}for(_e.sort(function(wt,ut){return n(wt[0],ut[0])}),K.FullPaths=[],K.FileIndex=[],ce=0;ce<_e.length;++ce)K.FullPaths[ce]=_e[ce][0],K.FileIndex[ce]=_e[ce][1];for(ce=0;ce<_e.length;++ce){var rt=K.FileIndex[ce],ct=K.FullPaths[ce];if(rt.name=i(ct).replace("/",""),rt.L=rt.R=rt.C=-(rt.color=1),rt.size=rt.content?rt.content.length:0,rt.start=0,rt.clsid=rt.clsid||re,ce===0)rt.C=_e.length>1?1:-1,rt.size=0,rt.type=5;else if(ct.slice(-1)=="/"){for(Ge=ce+1;Ge<_e.length&&r(K.FullPaths[Ge])!=ct;++Ge);for(rt.C=Ge>=_e.length?-1:Ge,Ge=ce+1;Ge<_e.length&&r(K.FullPaths[Ge])!=r(ct);++Ge);rt.R=Ge>=_e.length?-1:Ge,rt.type=1}else r(K.FullPaths[ce+1]||"")==r(ct)&&(rt.R=ce+1),rt.type=2}}}function N(K,ae){var ne=ae||{};if(ne.fileType=="mad")return Ne(K,ne);switch(F(K),ne.fileType){case"zip":return di(K,ne)}var ie=function(wt){for(var ut=0,ft=0,Lt=0;Lt<wt.FileIndex.length;++Lt){var pn=wt.FileIndex[Lt];if(pn.content){var on=pn.content.length;on>0&&(on<4096?ut+=on+63>>6:ft+=on+511>>9)}}for(var kt=wt.FullPaths.length+3>>2,Hn=ut+7>>3,bs=ut+127>>7,Hr=Hn+ft+kt+bs,xn=Hr+127>>7,xs=xn<=109?0:Math.ceil((xn-109)/127);Hr+xn+xs+127>>7>xn;)xs=++xn<=109?0:Math.ceil((xn-109)/127);var bi=[1,xs,xn,bs,kt,ft,ut,0];return wt.FileIndex[0].size=ut<<6,bi[7]=(wt.FileIndex[0].start=bi[0]+bi[1]+bi[2]+bi[3]+bi[4]+bi[5])+(bi[6]+7>>3),bi}(K),ce=Ye(ie[7]<<9),de=0,Ae=0;{for(de=0;de<8;++de)ce.write_shift(1,ee[de]);for(de=0;de<8;++de)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),de=0;de<3;++de)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,ie[2]),ce.write_shift(4,ie[0]+ie[1]+ie[2]+ie[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,ie[3]?ie[0]+ie[1]+ie[2]-1:L),ce.write_shift(4,ie[3]),ce.write_shift(-4,ie[1]?ie[0]-1:L),ce.write_shift(4,ie[1]),de=0;de<109;++de)ce.write_shift(-4,de<ie[2]?ie[1]+de:-1)}if(ie[1])for(Ae=0;Ae<ie[1];++Ae){for(;de<236+Ae*127;++de)ce.write_shift(-4,de<ie[2]?ie[1]+de:-1);ce.write_shift(-4,Ae===ie[1]-1?L:Ae+1)}var Ge=function(wt){for(Ae+=wt;de<Ae-1;++de)ce.write_shift(-4,de+1);wt&&(++de,ce.write_shift(-4,L))};for(Ae=de=0,Ae+=ie[1];de<Ae;++de)ce.write_shift(-4,te.DIFSECT);for(Ae+=ie[2];de<Ae;++de)ce.write_shift(-4,te.FATSECT);Ge(ie[3]),Ge(ie[4]);for(var Ee=0,_e=0,Le=K.FileIndex[0];Ee<K.FileIndex.length;++Ee)Le=K.FileIndex[Ee],Le.content&&(_e=Le.content.length,!(_e<4096)&&(Le.start=Ae,Ge(_e+511>>9)));for(Ge(ie[6]+7>>3);ce.l&511;)ce.write_shift(-4,te.ENDOFCHAIN);for(Ae=de=0,Ee=0;Ee<K.FileIndex.length;++Ee)Le=K.FileIndex[Ee],Le.content&&(_e=Le.content.length,!(!_e||_e>=4096)&&(Le.start=Ae,Ge(_e+63>>6)));for(;ce.l&511;)ce.write_shift(-4,te.ENDOFCHAIN);for(de=0;de<ie[4]<<2;++de){var rt=K.FullPaths[de];if(!rt||rt.length===0){for(Ee=0;Ee<17;++Ee)ce.write_shift(4,0);for(Ee=0;Ee<3;++Ee)ce.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)ce.write_shift(4,0);continue}Le=K.FileIndex[de],de===0&&(Le.start=Le.size?Le.start-1:L);var ct=de===0&&ne.root||Le.name;if(_e=2*(ct.length+1),ce.write_shift(64,ct,"utf16le"),ce.write_shift(2,_e),ce.write_shift(1,Le.type),ce.write_shift(1,Le.color),ce.write_shift(-4,Le.L),ce.write_shift(-4,Le.R),ce.write_shift(-4,Le.C),Le.clsid)ce.write_shift(16,Le.clsid,"hex");else for(Ee=0;Ee<4;++Ee)ce.write_shift(4,0);ce.write_shift(4,Le.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,Le.start),ce.write_shift(4,Le.size),ce.write_shift(4,0)}for(de=1;de<K.FileIndex.length;++de)if(Le=K.FileIndex[de],Le.size>=4096)if(ce.l=Le.start+1<<9,ln&&Buffer.isBuffer(Le.content))Le.content.copy(ce,ce.l,0,Le.size),ce.l+=Le.size+511&-512;else{for(Ee=0;Ee<Le.size;++Ee)ce.write_shift(1,Le.content[Ee]);for(;Ee&511;++Ee)ce.write_shift(1,0)}for(de=1;de<K.FileIndex.length;++de)if(Le=K.FileIndex[de],Le.size>0&&Le.size<4096)if(ln&&Buffer.isBuffer(Le.content))Le.content.copy(ce,ce.l,0,Le.size),ce.l+=Le.size+63&-64;else{for(Ee=0;Ee<Le.size;++Ee)ce.write_shift(1,Le.content[Ee]);for(;Ee&63;++Ee)ce.write_shift(1,0)}if(ln)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function B(K,ae){var ne=K.FullPaths.map(function(Ee){return Ee.toUpperCase()}),ie=ne.map(function(Ee){var _e=Ee.split("/");return _e[_e.length-(Ee.slice(-1)=="/"?2:1)]}),ce=!1;ae.charCodeAt(0)===47?(ce=!0,ae=ne[0].slice(0,-1)+ae):ce=ae.indexOf("/")!==-1;var de=ae.toUpperCase(),Ae=ce===!0?ne.indexOf(de):ie.indexOf(de);if(Ae!==-1)return K.FileIndex[Ae];var Ge=!de.match(pv);for(de=de.replace(Ls,""),Ge&&(de=de.replace(pv,"!")),Ae=0;Ae<ne.length;++Ae)if((Ge?ne[Ae].replace(pv,"!"):ne[Ae]).replace(Ls,"")==de||(Ge?ie[Ae].replace(pv,"!"):ie[Ae]).replace(Ls,"")==de)return K.FileIndex[Ae];return null}var M=64,L=-2,H="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function he(K,ae,ne){c();var ie=N(K,ne);l.writeFileSync(ae,ie)}function Z(K){for(var ae=new Array(K.length),ne=0;ne<K.length;++ne)ae[ne]=String.fromCharCode(K[ne]);return ae.join("")}function V(K,ae){var ne=N(K,ae);switch(ae&&ae.type||"buffer"){case"file":return c(),l.writeFileSync(ae.filename,ne),ne;case"binary":return typeof ne=="string"?ne:Z(ne);case"base64":return Oy(typeof ne=="string"?ne:Z(ne));case"buffer":if(ln)return Buffer.isBuffer(ne)?ne:nu(ne);case"array":return typeof ne=="string"?Co(ne):ne}return ne}var X;function z(K){try{var ae=K.InflateRaw,ne=new ae;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)X=K;else throw new Error("zlib does not expose bytesRead")}catch(ie){console.error("cannot use native zlib: "+(ie.message||ie))}}function G(K,ae){if(!X)return br(K,ae);var ne=X.InflateRaw,ie=new ne,ce=ie._processChunk(K.slice(K.l),ie._finishFlushFlag);return K.l+=ie.bytesRead,ce}function Y(K){return X?X.deflateRawSync(K):bt(K)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],He=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(K){var ae=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var Te=typeof Uint8Array<"u",De=Te?new Uint8Array(256):[],et=0;et<256;++et)De[et]=Re(et);function ue(K,ae){var ne=De[K&255];return ae<=8?ne>>>8-ae:(ne=ne<<8|De[K>>8&255],ae<=16?ne>>>16-ae:(ne=ne<<8|De[K>>16&255],ne>>>24-ae))}function St(K,ae){var ne=ae&7,ie=ae>>>3;return(K[ie]|(ne<=6?0:K[ie+1]<<8))>>>ne&3}function j(K,ae){var ne=ae&7,ie=ae>>>3;return(K[ie]|(ne<=5?0:K[ie+1]<<8))>>>ne&7}function Ce(K,ae){var ne=ae&7,ie=ae>>>3;return(K[ie]|(ne<=4?0:K[ie+1]<<8))>>>ne&15}function ye(K,ae){var ne=ae&7,ie=ae>>>3;return(K[ie]|(ne<=3?0:K[ie+1]<<8))>>>ne&31}function Q(K,ae){var ne=ae&7,ie=ae>>>3;return(K[ie]|(ne<=1?0:K[ie+1]<<8))>>>ne&127}function oe(K,ae,ne){var ie=ae&7,ce=ae>>>3,de=(1<<ne)-1,Ae=K[ce]>>>ie;return ne<8-ie||(Ae|=K[ce+1]<<8-ie,ne<16-ie)||(Ae|=K[ce+2]<<16-ie,ne<24-ie)||(Ae|=K[ce+3]<<24-ie),Ae&de}function ve(K,ae,ne){var ie=ae&7,ce=ae>>>3;return ie<=5?K[ce]|=(ne&7)<<ie:(K[ce]|=ne<<ie&255,K[ce+1]=(ne&7)>>8-ie),ae+3}function Fe(K,ae,ne){var ie=ae&7,ce=ae>>>3;return ne=(ne&1)<<ie,K[ce]|=ne,ae+1}function Ue(K,ae,ne){var ie=ae&7,ce=ae>>>3;return ne<<=ie,K[ce]|=ne&255,ne>>>=8,K[ce+1]=ne,ae+8}function xe(K,ae,ne){var ie=ae&7,ce=ae>>>3;return ne<<=ie,K[ce]|=ne&255,ne>>>=8,K[ce+1]=ne&255,K[ce+2]=ne>>>8,ae+16}function Ke(K,ae){var ne=K.length,ie=2*ne>ae?2*ne:ae+5,ce=0;if(ne>=ae)return K;if(ln){var de=dH(ie);if(K.copy)K.copy(de);else for(;ce<K.length;++ce)de[ce]=K[ce];return de}else if(Te){var Ae=new Uint8Array(ie);if(Ae.set)Ae.set(K);else for(;ce<ne;++ce)Ae[ce]=K[ce];return Ae}return K.length=ie,K}function st(K){for(var ae=new Array(K),ne=0;ne<K;++ne)ae[ne]=0;return ae}function Je(K,ae,ne){var ie=1,ce=0,de=0,Ae=0,Ge=0,Ee=K.length,_e=Te?new Uint16Array(32):st(32);for(de=0;de<32;++de)_e[de]=0;for(de=Ee;de<ne;++de)K[de]=0;Ee=K.length;var Le=Te?new Uint16Array(Ee):st(Ee);for(de=0;de<Ee;++de)_e[ce=K[de]]++,ie<ce&&(ie=ce),Le[de]=0;for(_e[0]=0,de=1;de<=ie;++de)_e[de+16]=Ge=Ge+_e[de-1]<<1;for(de=0;de<Ee;++de)Ge=K[de],Ge!=0&&(Le[de]=_e[Ge+16]++);var rt=0;for(de=0;de<Ee;++de)if(rt=K[de],rt!=0)for(Ge=ue(Le[de],ie)>>ie-rt,Ae=(1<<ie+4-rt)-1;Ae>=0;--Ae)ae[Ge|Ae<<rt]=rt&15|de<<4;return ie}var fe=Te?new Uint16Array(512):st(512),Me=Te?new Uint16Array(32):st(32);if(!Te){for(var We=0;We<512;++We)fe[We]=0;for(We=0;We<32;++We)Me[We]=0}(function(){for(var K=[],ae=0;ae<32;ae++)K.push(5);Je(K,Me,32);var ne=[];for(ae=0;ae<=143;ae++)ne.push(8);for(;ae<=255;ae++)ne.push(9);for(;ae<=279;ae++)ne.push(7);for(;ae<=287;ae++)ne.push(8);Je(ne,fe,288)})();var dt=function(){for(var ae=Te?new Uint8Array(32768):[],ne=0,ie=0;ne<He.length-1;++ne)for(;ie<He[ne+1];++ie)ae[ie]=ne;for(;ie<32768;++ie)ae[ie]=29;var ce=Te?new Uint8Array(259):[];for(ne=0,ie=0;ne<pe.length-1;++ne)for(;ie<pe[ne+1];++ie)ce[ie]=ne;function de(Ge,Ee){for(var _e=0;_e<Ge.length;){var Le=Math.min(65535,Ge.length-_e),rt=_e+Le==Ge.length;for(Ee.write_shift(1,+rt),Ee.write_shift(2,Le),Ee.write_shift(2,~Le&65535);Le-- >0;)Ee[Ee.l++]=Ge[_e++]}return Ee.l}function Ae(Ge,Ee){for(var _e=0,Le=0,rt=Te?new Uint16Array(32768):[];Le<Ge.length;){var ct=Math.min(65535,Ge.length-Le);if(ct<10){for(_e=ve(Ee,_e,+(Le+ct==Ge.length)),_e&7&&(_e+=8-(_e&7)),Ee.l=_e/8|0,Ee.write_shift(2,ct),Ee.write_shift(2,~ct&65535);ct-- >0;)Ee[Ee.l++]=Ge[Le++];_e=Ee.l*8;continue}_e=ve(Ee,_e,+(Le+ct==Ge.length)+2);for(var wt=0;ct-- >0;){var ut=Ge[Le];wt=(wt<<5^ut)&32767;var ft=-1,Lt=0;if((ft=rt[wt])&&(ft|=Le&-32768,ft>Le&&(ft-=32768),ft<Le))for(;Ge[ft+Lt]==Ge[Le+Lt]&&Lt<250;)++Lt;if(Lt>2){ut=ce[Lt],ut<=22?_e=Ue(Ee,_e,De[ut+1]>>1)-1:(Ue(Ee,_e,3),_e+=5,Ue(Ee,_e,De[ut-23]>>5),_e+=3);var pn=ut<8?0:ut-4>>2;pn>0&&(xe(Ee,_e,Lt-pe[ut]),_e+=pn),ut=ae[Le-ft],_e=Ue(Ee,_e,De[ut]>>3),_e-=3;var on=ut<4?0:ut-2>>1;on>0&&(xe(Ee,_e,Le-ft-He[ut]),_e+=on);for(var kt=0;kt<Lt;++kt)rt[wt]=Le&32767,wt=(wt<<5^Ge[Le])&32767,++Le;ct-=Lt-1}else ut<=143?ut=ut+48:_e=Fe(Ee,_e,1),_e=Ue(Ee,_e,De[ut]),rt[wt]=Le&32767,++Le}_e=Ue(Ee,_e,0)-1}return Ee.l=(_e+7)/8|0,Ee.l}return function(Ee,_e){return Ee.length<8?de(Ee,_e):Ae(Ee,_e)}}();function bt(K){var ae=Ye(50+Math.floor(K.length*1.1)),ne=dt(K,ae);return ae.slice(0,ne)}var It=Te?new Uint16Array(32768):st(32768),fn=Te?new Uint16Array(32768):st(32768),Dt=Te?new Uint16Array(128):st(128),$n=1,or=1;function Cn(K,ae){var ne=ye(K,ae)+257;ae+=5;var ie=ye(K,ae)+1;ae+=5;var ce=Ce(K,ae)+4;ae+=4;for(var de=0,Ae=Te?new Uint8Array(19):st(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,_e=Te?new Uint8Array(8):st(8),Le=Te?new Uint8Array(8):st(8),rt=Ae.length,ct=0;ct<ce;++ct)Ae[J[ct]]=de=j(K,ae),Ee<de&&(Ee=de),_e[de]++,ae+=3;var wt=0;for(_e[0]=0,ct=1;ct<=Ee;++ct)Le[ct]=wt=wt+_e[ct-1]<<1;for(ct=0;ct<rt;++ct)(wt=Ae[ct])!=0&&(Ge[ct]=Le[wt]++);var ut=0;for(ct=0;ct<rt;++ct)if(ut=Ae[ct],ut!=0){wt=De[Ge[ct]]>>8-ut;for(var ft=(1<<7-ut)-1;ft>=0;--ft)Dt[wt|ft<<ut]=ut&7|ct<<3}var Lt=[];for(Ee=1;Lt.length<ne+ie;)switch(wt=Dt[Q(K,ae)],ae+=wt&7,wt>>>=3){case 16:for(de=3+St(K,ae),ae+=2,wt=Lt[Lt.length-1];de-- >0;)Lt.push(wt);break;case 17:for(de=3+j(K,ae),ae+=3;de-- >0;)Lt.push(0);break;case 18:for(de=11+Q(K,ae),ae+=7;de-- >0;)Lt.push(0);break;default:Lt.push(wt),Ee<wt&&(Ee=wt);break}var pn=Lt.slice(0,ne),on=Lt.slice(ne);for(ct=ne;ct<286;++ct)pn[ct]=0;for(ct=ie;ct<30;++ct)on[ct]=0;return $n=Je(pn,It,286),or=Je(on,fn,30),ae}function yr(K,ae){if(K[0]==3&&!(K[1]&3))return[yd(ae),2];for(var ne=0,ie=0,ce=dH(ae||1<<18),de=0,Ae=ce.length>>>0,Ge=0,Ee=0;(ie&1)==0;){if(ie=j(K,ne),ne+=3,ie>>>1)ie>>1==1?(Ge=9,Ee=5):(ne=Cn(K,ne),Ge=$n,Ee=or);else{ne&7&&(ne+=8-(ne&7));var _e=K[ne>>>3]|K[(ne>>>3)+1]<<8;if(ne+=32,_e>0)for(!ae&&Ae<de+_e&&(ce=Ke(ce,de+_e),Ae=ce.length);_e-- >0;)ce[de++]=K[ne>>>3],ne+=8;continue}for(;;){!ae&&Ae<de+32767&&(ce=Ke(ce,de+32767),Ae=ce.length);var Le=oe(K,ne,Ge),rt=ie>>>1==1?fe[Le]:It[Le];if(ne+=rt&15,rt>>>=4,(rt>>>8&255)===0)ce[de++]=rt;else{if(rt==256)break;rt-=257;var ct=rt<8?0:rt-4>>2;ct>5&&(ct=0);var wt=de+pe[rt];ct>0&&(wt+=oe(K,ne,ct),ne+=ct),Le=oe(K,ne,Ee),rt=ie>>>1==1?Me[Le]:fn[Le],ne+=rt&15,rt>>>=4;var ut=rt<4?0:rt-2>>1,ft=He[rt];for(ut>0&&(ft+=oe(K,ne,ut),ne+=ut),!ae&&Ae<wt&&(ce=Ke(ce,wt+100),Ae=ce.length);de<wt;)ce[de]=ce[de-ft],++de}}}return ae?[ce,ne+7>>>3]:[ce.slice(0,de),ne+7>>>3]}function br(K,ae){var ne=K.slice(K.l||0),ie=yr(ne,ae);return K.l+=ie[1],ie[0]}function Vs(K,ae){if(K)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function No(K,ae){var ne=K;Ki(ne,0);var ie=[],ce=[],de={FileIndex:ie,FullPaths:ce};_(de,{root:ae.root});for(var Ae=ne.length-4;(ne[Ae]!=80||ne[Ae+1]!=75||ne[Ae+2]!=5||ne[Ae+3]!=6)&&Ae>=0;)--Ae;ne.l=Ae+4,ne.l+=4;var Ge=ne.read_shift(2);ne.l+=6;var Ee=ne.read_shift(4);for(ne.l=Ee,Ae=0;Ae<Ge;++Ae){ne.l+=20;var _e=ne.read_shift(4),Le=ne.read_shift(4),rt=ne.read_shift(2),ct=ne.read_shift(2),wt=ne.read_shift(2);ne.l+=8;var ut=ne.read_shift(4),ft=a(ne.slice(ne.l+rt,ne.l+rt+ct));ne.l+=rt+ct+wt;var Lt=ne.l;ne.l=ut+4,Li(ne,_e,Le,de,ft),ne.l=Lt}return de}function Li(K,ae,ne,ie,ce){K.l+=2;var de=K.read_shift(2),Ae=K.read_shift(2),Ge=o(K);if(de&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=K.read_shift(4),_e=K.read_shift(4),Le=K.read_shift(4),rt=K.read_shift(2),ct=K.read_shift(2),wt="",ut=0;ut<rt;++ut)wt+=String.fromCharCode(K[K.l++]);if(ct){var ft=a(K.slice(K.l,K.l+ct));(ft[21589]||{}).mt&&(Ge=ft[21589].mt),((ce||{})[21589]||{}).mt&&(Ge=ce[21589].mt)}K.l+=ct;var Lt=K.slice(K.l,K.l+_e);switch(Ae){case 8:Lt=G(K,Le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ae)}var pn=!1;de&8&&(Ee=K.read_shift(4),Ee==134695760&&(Ee=K.read_shift(4),pn=!0),_e=K.read_shift(4),Le=K.read_shift(4)),_e!=ae&&Vs(pn,"Bad compressed size: "+ae+" != "+_e),Le!=ne&&Vs(pn,"Bad uncompressed size: "+ne+" != "+Le),lt(ie,wt,Lt,{unsafe:!0,mt:Ge})}function di(K,ae){var ne=ae||{},ie=[],ce=[],de=Ye(1),Ae=ne.compression?8:0,Ge=0,Ee=0,_e=0,Le=0,rt=0,ct=K.FullPaths[0],wt=ct,ut=K.FileIndex[0],ft=[],Lt=0;for(Ee=1;Ee<K.FullPaths.length;++Ee)if(wt=K.FullPaths[Ee].slice(ct.length),ut=K.FileIndex[Ee],!(!ut.size||!ut.content||wt=="Sh33tJ5")){var pn=Le,on=Ye(wt.length);for(_e=0;_e<wt.length;++_e)on.write_shift(1,wt.charCodeAt(_e)&127);on=on.slice(0,on.l),ft[rt]=HOe.buf(ut.content,0);var kt=ut.content;Ae==8&&(kt=Y(kt)),de=Ye(30),de.write_shift(4,67324752),de.write_shift(2,20),de.write_shift(2,Ge),de.write_shift(2,Ae),ut.mt?s(de,ut.mt):de.write_shift(4,0),de.write_shift(-4,ft[rt]),de.write_shift(4,kt.length),de.write_shift(4,ut.content.length),de.write_shift(2,on.length),de.write_shift(2,0),Le+=de.length,ie.push(de),Le+=on.length,ie.push(on),Le+=kt.length,ie.push(kt),de=Ye(46),de.write_shift(4,33639248),de.write_shift(2,0),de.write_shift(2,20),de.write_shift(2,Ge),de.write_shift(2,Ae),de.write_shift(4,0),de.write_shift(-4,ft[rt]),de.write_shift(4,kt.length),de.write_shift(4,ut.content.length),de.write_shift(2,on.length),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(4,0),de.write_shift(4,pn),Lt+=de.l,ce.push(de),Lt+=on.length,ce.push(on),++rt}return de=Ye(22),de.write_shift(4,101010256),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,rt),de.write_shift(2,rt),de.write_shift(4,Lt),de.write_shift(4,Le),de.write_shift(2,0),Fi([Fi(ie),Fi(ce),de])}var Ci={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bi(K,ae){if(K.ctype)return K.ctype;var ne=K.name||"",ie=ne.match(/\.([^\.]+)$/);return ie&&Ci[ie[1]]||ae&&(ie=(ne=ae).match(/[\.\\]([^\.\\])+$/),ie&&Ci[ie[1]])?Ci[ie[1]]:"application/octet-stream"}function Lo(K){for(var ae=Oy(K),ne=[],ie=0;ie<ae.length;ie+=76)ne.push(ae.slice(ie,ie+76));return ne.join(`\r
`)+`\r
`}function Bo(K){var ae=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(_e){var Le=_e.charCodeAt(0).toString(16).toUpperCase();return"="+(Le.length==1?"0"+Le:Le)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],ie=ae.split(`\r
`),ce=0;ce<ie.length;++ce){var de=ie[ce];if(de.length==0){ne.push("");continue}for(var Ae=0;Ae<de.length;){var Ge=76,Ee=de.slice(Ae,Ae+Ge);Ee.charAt(Ge-1)=="="?Ge--:Ee.charAt(Ge-2)=="="?Ge-=2:Ee.charAt(Ge-3)=="="&&(Ge-=3),Ee=de.slice(Ae,Ae+Ge),Ae+=Ge,Ae<de.length&&(Ee+="="),ne.push(Ee)}}return ne.join(`\r
`)}function Za(K){for(var ae=[],ne=0;ne<K.length;++ne){for(var ie=K[ne];ne<=K.length&&ie.charAt(ie.length-1)=="=";)ie=ie.slice(0,ie.length-1)+K[++ne];ae.push(ie)}for(var ce=0;ce<ae.length;++ce)ae[ce]=ae[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(de){return String.fromCharCode(parseInt(de.slice(1),16))});return Co(ae.join(`\r
`))}function we(K,ae,ne){for(var ie="",ce="",de="",Ae,Ge=0;Ge<10;++Ge){var Ee=ae[Ge];if(!Ee||Ee.match(/^\s*$/))break;var _e=Ee.match(/^(.*?):\s*([^\s].*)$/);if(_e)switch(_e[1].toLowerCase()){case"content-location":ie=_e[2].trim();break;case"content-type":de=_e[2].trim();break;case"content-transfer-encoding":ce=_e[2].trim();break}}switch(++Ge,ce.toLowerCase()){case"base64":Ae=Co(Mo(ae.slice(Ge).join("")));break;case"quoted-printable":Ae=Za(ae.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var Le=lt(K,ie.slice(ne.length),Ae,{unsafe:!0});de&&(Le.ctype=de)}function Pe(K,ae){if(Z(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=ae&&ae.root||"",ie=(ln&&Buffer.isBuffer(K)?K.toString("binary"):Z(K)).split(`\r
`),ce=0,de="";for(ce=0;ce<ie.length;++ce)if(de=ie[ce],!!/^Content-Location:/i.test(de)&&(de=de.slice(de.indexOf("file")),ne||(ne=de.slice(0,de.lastIndexOf("/")+1)),de.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),de.slice(0,ne.length)!=ne););var Ae=(ie[1]||"").match(/boundary="(.*?)"/);if(!Ae)throw new Error("MAD cannot find boundary");var Ge="--"+(Ae[1]||""),Ee=[],_e=[],Le={FileIndex:Ee,FullPaths:_e};_(Le);var rt,ct=0;for(ce=0;ce<ie.length;++ce){var wt=ie[ce];wt!==Ge&&wt!==Ge+"--"||(ct++&&we(Le,ie.slice(rt,ce),ne),rt=ce)}return Le}function Ne(K,ae){var ne=ae||{},ie=ne.boundary||"SheetJS";ie="------="+ie;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ie.slice(2)+'"',"","",""],de=K.FullPaths[0],Ae=de,Ge=K.FileIndex[0],Ee=1;Ee<K.FullPaths.length;++Ee)if(Ae=K.FullPaths[Ee].slice(de.length),Ge=K.FileIndex[Ee],!(!Ge.size||!Ge.content||Ae=="Sh33tJ5")){Ae=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Lt){return"_x"+Lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Lt){return"_u"+Lt.charCodeAt(0).toString(16)+"_"});for(var _e=Ge.content,Le=ln&&Buffer.isBuffer(_e)?_e.toString("binary"):Z(_e),rt=0,ct=Math.min(1024,Le.length),wt=0,ut=0;ut<=ct;++ut)(wt=Le.charCodeAt(ut))>=32&&wt<128&&++rt;var ft=rt>=ct*4/5;ce.push(ie),ce.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+Ae),ce.push("Content-Transfer-Encoding: "+(ft?"quoted-printable":"base64")),ce.push("Content-Type: "+Bi(Ge,Ae)),ce.push(""),ce.push(ft?Bo(Le):Lo(Le))}return ce.push(ie+`--\r
`),ce.join(`\r
`)}function tt(K){var ae={};return _(ae,K),ae}function lt(K,ae,ne,ie){var ce=ie&&ie.unsafe;ce||_(K);var de=!ce&&Vt.find(K,ae);if(!de){var Ae=K.FullPaths[0];ae.slice(0,Ae.length)==Ae?Ae=ae:(Ae.slice(-1)!="/"&&(Ae+="/"),Ae=(Ae+ae).replace("//","/")),de={name:i(ae),type:2},K.FileIndex.push(de),K.FullPaths.push(Ae),ce||Vt.utils.cfb_gc(K)}return de.content=ne,de.size=ne?ne.length:0,ie&&(ie.CLSID&&(de.clsid=ie.CLSID),ie.mt&&(de.mt=ie.mt),ie.ct&&(de.ct=ie.ct)),de}function Et(K,ae){_(K);var ne=Vt.find(K,ae);if(ne){for(var ie=0;ie<K.FileIndex.length;++ie)if(K.FileIndex[ie]==ne)return K.FileIndex.splice(ie,1),K.FullPaths.splice(ie,1),!0}return!1}function At(K,ae,ne){_(K);var ie=Vt.find(K,ae);if(ie){for(var ce=0;ce<K.FileIndex.length;++ce)if(K.FileIndex[ce]==ie)return K.FileIndex[ce].name=i(ne),K.FullPaths[ce]=ne,!0}return!1}function Rt(K){F(K,!0)}return t.find=B,t.read=R,t.parse=u,t.write=V,t.writeFile=he,t.utils={cfb_new:tt,cfb_add:lt,cfb_del:Et,cfb_mov:At,cfb_gc:Rt,ReadShift:Mv,CheckField:KX,prep_blob:Ki,bconcat:Fi,use_zlib:z,_deflateRaw:bt,_inflateRaw:br,consts:te},t}();function GOe(e){return typeof e=="string"?eT(e):Array.isArray(e)?fOe(e):e}function tC(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=eT(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Rl(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var i=new Blob([GOe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Od(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function UOe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Br(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function wH(e,t){for(var n=[],r=Br(e),i=0;i!==r.length;++i)n[e[r[i]][t]]==null&&(n[e[r[i]][t]]=r[i]);return n}function nT(e){for(var t=[],n=Br(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function rT(e){for(var t=[],n=Br(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function zOe(e){for(var t=[],n=Br(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var S1=new Date(1899,11,30,0,0,0);function wi(e,t){var n=e.getTime(),r=S1.getTime()+(e.getTimezoneOffset()-S1.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var _X=new Date,jOe=S1.getTime()+(_X.getTimezoneOffset()-S1.getTimezoneOffset())*6e4,CH=_X.getTimezoneOffset();function iT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+jOe),t.getTimezoneOffset()!==CH&&t.setTime(t.getTime()+(t.getTimezoneOffset()-CH)*6e4),t}function WOe(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var bH=new Date("2017-02-19T19:06:09.000Z"),AX=isNaN(bH.getFullYear())?new Date("2/19/17"):bH,$Oe=AX.getFullYear()==2017;function gr(e,t){var n=new Date(e);if($Oe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(AX.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function mf(e,t){if(ln&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Rl(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Rl(gX(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Rl(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Rl(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function mr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=mr(e[n]));return t}function Mr(e,t){for(var n="";n.length<t;)n+=e;return n}function Ua(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var qOe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Qg(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&qOe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var KOe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],a=1;a<s.length;++a)o.push(i),o.push(s[a]);return o}}();function kX(e){return e?e.content&&e.type?mf(e.content,!0):e.data?fv(e.data):e.asNodeBuffer&&ln?fv(e.asNodeBuffer().toString("binary")):e.asBinary?fv(e.asBinary()):e._data&&e._data.getContent?fv(mf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function DX(e){if(!e)return null;if(e.data)return cH(e.data);if(e.asNodeBuffer&&ln)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?cH(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function YOe(e){return e&&e.name.slice(-4)===".bin"?DX(e):kX(e)}function sa(e,t){for(var n=e.FullPaths||Br(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function pM(e,t){var n=sa(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function ri(e,t,n){if(!n)return YOe(pM(e,t));if(!t)return null;try{return ri(e,t)}catch{return null}}function bo(e,t,n){if(!n)return kX(pM(e,t));if(!t)return null;try{return bo(e,t)}catch{return null}}function XOe(e,t,n){return DX(pM(e,t))}function xH(e){for(var t=e.FullPaths||Br(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function sn(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return ln?r=nu(n):r=pOe(n),Vt.utils.cfb_add(e,t,r)}Vt.utils.cfb_add(e,t,n)}else e.file(t,n)}function gM(){return Vt.utils.cfb_new()}function PX(e,t){switch(t.type){case"base64":return Vt.read(e,{type:"base64"});case"binary":return Vt.read(e,{type:"binary"});case"buffer":case"array":return Vt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function gv(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Qr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,QOe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,SH=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,ZOe=/<[^>]*>/g,ws=Qr.match(SH)?SH:ZOe,JOe=/<\w*:/,eNe=/<(\/?)\w+:/;function Qt(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(QOe),a=0,l="",c=0,u="",h="",p=1;if(o)for(c=0;c!=o.length;++c){for(h=o[c],s=0;s!=h.length&&h.charCodeAt(s)!==61;++s);for(u=h.slice(0,s).trim();h.charCodeAt(s+1)==32;)++s;for(p=(i=h.charCodeAt(s+1))==34||i==39?1:0,l=h.slice(s+1+p,h.length-p),a=0;a!=u.length&&u.charCodeAt(a)!==58;++a);if(a===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var g=(a===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(a+1);if(r[g]&&u.slice(a-3,a)=="ext")continue;r[g]=l,r[g.toLowerCase()]=l}}return r}function Jl(e){return e.replace(eNe,"<$1")}var FX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},mM=nT(FX),kn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(a,l){return FX[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),vM=/[&<>'"]/g,tNe=/[\u0000-\u0008\u000b-\u001f]/g;function Qn(e){var t=e+"";return t.replace(vM,function(n){return mM[n]}).replace(tNe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function EH(e){return Qn(e).replace(/ /g,"_x0020_")}var IX=/[\u0000-\u001f]/g;function yM(e){var t=e+"";return t.replace(vM,function(n){return mM[n]}).replace(/\n/g,"<br/>").replace(IX,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function nNe(e){var t=e+"";return t.replace(vM,function(n){return mM[n]}).replace(IX,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var TH=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function rNe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function dr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function IA(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=e.charCodeAt(n++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function RH(e){var t=yd(2*e.length),n,r,i=1,s=0,o=0,a;for(r=0;r<e.length;r+=i)i=1,(a=e.charCodeAt(r))<128?n=a:a<224?(n=(a&31)*64+(e.charCodeAt(r+1)&63),i=2):a<240?(n=(a&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(a&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function _H(e){return nu(e,"binary").toString("utf8")}var ax="foo bar baz",rr=ln&&(_H(ax)==IA(ax)&&_H||RH(ax)==IA(ax)&&RH)||IA,Rl=ln?function(e){return nu(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Ly=function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),MX=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),iNe=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),sNe=/<\/?(?:vt:)?variant>/g,oNe=/<(?:vt:)([^>]*)>([\s\S]*)</;function AH(e,t){var n=Qt(e),r=e.match(iNe(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(sNe,"").match(oNe);o&&i.push({v:rr(o[2]),t:o[1]})}),i}var OX=/(^\s|\s$|\n)/;function Qi(e,t){return"<"+e+(t.match(OX)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function By(e){return Br(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function pt(e,t,n){return"<"+e+(n!=null?By(n):"")+(t!=null?(t.match(OX)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function cP(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function aNe(e,t){switch(typeof e){case"string":var n=pt("vt:lpwstr",Qn(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return pt((e|0)==e?"vt:i4":"vt:r8",Qn(String(e)));case"boolean":return pt("vt:bool",e?"true":"false")}if(e instanceof Date)return pt("vt:filetime",cP(e));throw new Error("Unable to serialize "+e)}function wM(e){if(ln&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return rr(Od(dM(e)));throw new Error("Bad input format: expected Buffer or string")}var Vy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,vi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Hf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function lNe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function cNe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var kH=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},DH=ln?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:nu(t)})):kH(e)}:kH,PH=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Ac(e,i)));return r.join("").replace(Ls,"")},CM=ln?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ls,""):PH(e,t,n)}:PH,FH=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},NX=ln?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):FH(e,t,n)}:FH,IH=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Kp(e,i)));return r.join("")},nC=ln?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):IH(t,n,r)}:IH,LX=function(e,t){var n=vo(e,t);return n>0?nC(e,t+4,t+4+n-1):""},BX=LX,VX=function(e,t){var n=vo(e,t);return n>0?nC(e,t+4,t+4+n-1):""},HX=VX,GX=function(e,t){var n=2*vo(e,t);return n>0?nC(e,t+4,t+4+n-1):""},UX=GX,zX=function(t,n){var r=vo(t,n);return r>0?CM(t,n+4,n+4+r):""},jX=zX,WX=function(e,t){var n=vo(e,t);return n>0?nC(e,t+4,t+4+n):""},$X=WX,qX=function(e,t){return lNe(e,t)},E1=qX,bM=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ln&&(BX=function(t,n){if(!Buffer.isBuffer(t))return LX(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},HX=function(t,n){if(!Buffer.isBuffer(t))return VX(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},UX=function(t,n){if(!Buffer.isBuffer(t))return GX(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},jX=function(t,n){if(!Buffer.isBuffer(t))return zX(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},$X=function(t,n){if(!Buffer.isBuffer(t))return WX(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},E1=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):qX(t,n)},bM=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Kp=function(e,t){return e[t]},Ac=function(e,t){return e[t+1]*256+e[t]},uNe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},vo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},xh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},dNe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Mv(e,t){var n="",r,i,s=[],o,a,l,c;switch(t){case"dbcs":if(c=this.l,ln&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Ac(this,c)),c+=2;e*=2;break;case"utf8":n=nC(this,this.l,this.l+e);break;case"utf16le":e*=2,n=CM(this,this.l,this.l+e);break;case"wstr":return Mv.call(this,e,"dbcs");case"lpstr-ansi":n=BX(this,this.l),e=4+vo(this,this.l);break;case"lpstr-cp":n=HX(this,this.l),e=4+vo(this,this.l);break;case"lpwstr":n=UX(this,this.l),e=4+2*vo(this,this.l);break;case"lpp4":e=4+vo(this,this.l),n=jX(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+vo(this,this.l),n=$X(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Kp(this,this.l+e++))!==0;)s.push(ox(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=Ac(this,this.l+e))!==0;)s.push(ox(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Kp(this,c),this.l=c+1,a=Mv.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(ox(Ac(this,c))),c+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Kp(this,c),this.l=c+1,a=Mv.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(ox(Kp(this,c))),c+=1}n=s.join("");break;default:switch(e){case 1:return r=Kp(this,this.l),this.l++,r;case 2:return r=(t==="i"?uNe:Ac)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?xh:dNe)(this,this.l),this.l+=4,r):(i=vo(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=E1(this,this.l):i=E1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=NX(this,this.l,e);break}}return this.l+=e,n}var hNe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},fNe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},pNe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function gNe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)pNe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,hNe(this,t,this.l);break;case 8:if(r=8,n==="f"){cNe(this,t,this.l);break}case 16:break;case-4:r=4,fNe(this,t,this.l);break}return this.l+=r,this}function KX(e,t){var n=NX(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ki(e,t){e.l=t,e.read_shift=Mv,e.chk=KX,e.write_shift=gNe}function ms(e,t){e.l+=t}function Ye(e){var t=yd(e);return Ki(t,0),t}function ru(e,t,n){if(e){var r,i,s;Ki(e,e.l||0);for(var o=e.length,a=0,l=0;e.l<o;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var c=Wy[a]||Wy[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;l=e.l+s;var u=c.f&&c.f(e,s,n);if(e.l=l,t(u,c,a))return}}}function Zs(){var e=[],t=ln?256:2048,n=function(c){var u=Ye(c);return Ki(u,0),u},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,t)))},o=function(){return i(),Fi(e)},a=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:a,end:o,_bufs:e}}function ot(e,t,n,r){var i=+t,s;if(!isNaN(i)){r||(r=Wy[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=e.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&bM(n)&&e.push(n)}}function Ov(e,t,n){var r=mr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function MH(e,t,n){var r=mr(e);return r.s=Ov(r.s,t.s,n),r.e=Ov(r.e,t.s,n),r}function Nv(e,t){if(e.cRel&&e.c<0)for(e=mr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=mr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=qt(e);return!e.cRel&&e.cRel!=null&&(n=yNe(n)),!e.rRel&&e.rRel!=null&&(n=mNe(n)),n}function MA(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_r(e.s.c)+":"+(e.e.cRel?"":"$")+_r(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xr(e.s.r)+":"+(e.e.rRel?"":"$")+Xr(e.e.r):Nv(e.s,t.biff)+":"+Nv(e.e,t.biff)}function xM(e){return parseInt(vNe(e),10)-1}function Xr(e){return""+(e+1)}function mNe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vNe(e){return e.replace(/\$(\d+)$/,"$1")}function SM(e){for(var t=wNe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function _r(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function yNe(e){return e.replace(/^([A-Z])/,"$$$1")}function wNe(e){return e.replace(/^\$([A-Z])/,"$1")}function CNe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ar(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function qt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function ro(e){var t=e.indexOf(":");return t==-1?{s:Ar(e),e:Ar(e)}:{s:Ar(e.slice(0,t)),e:Ar(e.slice(t+1))}}function tn(e,t){return typeof t>"u"||typeof t=="number"?tn(e.s,e.e):(typeof e!="string"&&(e=qt(e)),typeof t!="string"&&(t=qt(t)),e==t?e:e+":"+t)}function Dn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function OH(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Sa(e.z,n?wi(t):t)}catch{}try{return e.w=Sa((e.XF||{}).numFmtId||(n?14:0),n?wi(t):t)}catch{return""+t}}function Yc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?iu[e.v]||e.v:t==null?OH(e,e.v):OH(e,t))}function Nd(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function YX(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Ar(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Dn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[h].length;++p)if(!(typeof t[h][p]>"u")){var g={v:t[h][p]},v=o+h,y=a+p;if(c.s.r>v&&(c.s.r=v),c.s.c>y&&(c.s.c=y),c.e.r<v&&(c.e.r=v),c.e.c<y&&(c.e.c=y),t[h][p]&&typeof t[h][p]=="object"&&!Array.isArray(t[h][p])&&!(t[h][p]instanceof Date))g=t[h][p];else if(Array.isArray(g.v)&&(g.f=t[h][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||jt[14],r.cellDates?(g.t="d",g.w=Sa(g.z,wi(g.v))):(g.t="n",g.v=wi(g.v),g.w=Sa(g.z,g.v))):g.t="s";if(i)s[v]||(s[v]=[]),s[v][y]&&s[v][y].z&&(g.z=s[v][y].z),s[v][y]=g;else{var C=qt({c:y,r:v});s[C]&&s[C].z&&(g.z=s[C].z),s[C]=g}}}return c.s.c<1e7&&(s["!ref"]=tn(c)),s}function Em(e,t){return YX(null,e,t)}function bNe(e){return e.read_shift(4,"i")}function za(e,t){return t||(t=Ye(4)),t.write_shift(4,e),t}function ps(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ii(e,t){var n=!1;return t==null&&(n=!0,t=Ye(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function xNe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function SNe(e,t){return t||(t=Ye(4)),t.write_shift(2,0),t.write_shift(2,0),t}function EM(e,t){var n=e.l,r=e.read_shift(1),i=ps(e),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)s.push(xNe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function ENe(e,t){var n=!1;return t==null&&(n=!0,t=Ye(15+4*e.t.length)),t.write_shift(1,0),Ii(e.t,t),n?t.slice(0,t.l):t}var TNe=EM;function RNe(e,t){var n=!1;return t==null&&(n=!0,t=Ye(23+4*e.t.length)),t.write_shift(1,1),Ii(e.t,t),t.write_shift(4,1),SNe({},t),n?t.slice(0,t.l):t}function Ra(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Gf(e,t){return t==null&&(t=Ye(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Uf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function zf(e,t){return t==null&&(t=Ye(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var _Ne=ps,XX=Ii;function TM(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function T1(e,t){var n=!1;return t==null&&(n=!0,t=Ye(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var ANe=ps,uP=TM,RM=T1;function _M(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?E1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):xh(t,0)>>2;return n?i/100:i}function QX(e,t){t==null&&(t=Ye(4));var n=0,r=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?i:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function ZX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function kNe(e,t){return t||(t=Ye(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var jf=ZX,Tm=kNe;function hs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function vf(e,t){return(t||Ye(8)).write_shift(8,e,"f")}function DNe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=jh[i];c&&(t.rgb=Gy(c));break;case 2:t.rgb=Gy([o,a,l]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function R1(e,t){if(t||(t=Ye(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function PNe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function FNe(e,t){t||(t=Ye(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function JX(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function INe(e){return JX(e,1)}function MNe(e){return JX(e,2)}var AM=2,Ws=3,lx=11,NH=12,_1=19,cx=64,ONe=65,NNe=71,LNe=4108,BNe=4126,ki=80,eQ=81,VNe=[ki,eQ],dP={1:{n:"CodePage",t:AM},2:{n:"Category",t:ki},3:{n:"PresentationFormat",t:ki},4:{n:"ByteCount",t:Ws},5:{n:"LineCount",t:Ws},6:{n:"ParagraphCount",t:Ws},7:{n:"SlideCount",t:Ws},8:{n:"NoteCount",t:Ws},9:{n:"HiddenCount",t:Ws},10:{n:"MultimediaClipCount",t:Ws},11:{n:"ScaleCrop",t:lx},12:{n:"HeadingPairs",t:LNe},13:{n:"TitlesOfParts",t:BNe},14:{n:"Manager",t:ki},15:{n:"Company",t:ki},16:{n:"LinksUpToDate",t:lx},17:{n:"CharacterCount",t:Ws},19:{n:"SharedDoc",t:lx},22:{n:"HyperlinksChanged",t:lx},23:{n:"AppVersion",t:Ws,p:"version"},24:{n:"DigSig",t:ONe},26:{n:"ContentType",t:ki},27:{n:"ContentStatus",t:ki},28:{n:"Language",t:ki},29:{n:"Version",t:ki},255:{},2147483648:{n:"Locale",t:_1},2147483651:{n:"Behavior",t:_1},1919054434:{}},hP={1:{n:"CodePage",t:AM},2:{n:"Title",t:ki},3:{n:"Subject",t:ki},4:{n:"Author",t:ki},5:{n:"Keywords",t:ki},6:{n:"Comments",t:ki},7:{n:"Template",t:ki},8:{n:"LastAuthor",t:ki},9:{n:"RevNumber",t:ki},10:{n:"EditTime",t:cx},11:{n:"LastPrinted",t:cx},12:{n:"CreatedDate",t:cx},13:{n:"ModifiedDate",t:cx},14:{n:"PageCount",t:Ws},15:{n:"WordCount",t:Ws},16:{n:"CharCount",t:Ws},17:{n:"Thumbnail",t:NNe},18:{n:"Application",t:ki},19:{n:"DocSecurity",t:Ws},255:{},2147483648:{n:"Locale",t:_1},2147483651:{n:"Behavior",t:_1},1919054434:{}},LH={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},HNe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function GNe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var UNe=GNe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jh=mr(UNe),iu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tQ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},fP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ux={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function kM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zNe(e){var t=kM();if(!e||!e.match)return t;var n={};if((e.match(ws)||[]).forEach(function(r){var i=Qt(r);switch(i[0].replace(JOe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[fP[i.ContentType]]!==void 0&&t[fP[i.ContentType]].push(i.PartName);break}}),t.xmlns!==vi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}function nQ(e,t){var n=zOe(fP),r=[],i;r[r.length]=Qr,r[r.length]=pt("Types",null,{xmlns:vi.CT,"xmlns:xsd":vi.xsd,"xmlns:xsi":vi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return pt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(i=e[l][0],r[r.length]=pt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:ux[l][t.bookType]||ux[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(c){r[r.length]=pt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:ux[l][t.bookType]||ux[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(c){r[r.length]=pt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var dn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Hy(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Lv(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(ws)||[]).forEach(function(i){var s=Qt(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var a=s.TargetMode==="External"?s.Target:gv(s.Target,t);n[a]=o,r[s.Id]=o}}),n["!id"]=r,n}function Sg(e){var t=[Qr,pt("Relationships",null,{xmlns:vi.RELS})];return Br(e["!id"]).forEach(function(n){t[t.length]=pt("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Xn(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[dn.HLINK,dn.XPATH,dn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var jNe="application/vnd.oasis.opendocument.spreadsheet";function WNe(e,t){for(var n=wM(e),r,i;r=Vy.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Qt(r[0],!1),i.path=="/"&&i.type!==jNe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function $Ne(e){var t=[Qr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function BH(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function qNe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function KNe(e){var t=[Qr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(BH(e[n][0],e[n][1])),t.push(qNe("",e[n][0]));return t.push(BH("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function rQ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+w1.version+"</meta:generator></office:meta></office:document-meta>"}var ga=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],YNe=function(){for(var e=new Array(ga.length),t=0;t<ga.length;++t){var n=ga[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function iQ(e){var t={};e=rr(e);for(var n=0;n<ga.length;++n){var r=ga[n],i=e.match(YNe[n]);i!=null&&i.length>0&&(t[r[1]]=kn(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=gr(t[r[1]]))}return t}function OA(e,t,n,r,i){i[e]!=null||t==null||t===""||(i[e]=t,t=Qn(t),r[r.length]=n?pt(e,t,n):Qi(e,t))}function sQ(e,t){var n=t||{},r=[Qr,pt("cp:coreProperties",null,{"xmlns:cp":vi.CORE_PROPS,"xmlns:dc":vi.dc,"xmlns:dcterms":vi.dcterms,"xmlns:dcmitype":vi.dcmitype,"xmlns:xsi":vi.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&OA("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:cP(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),e.ModifiedDate!=null&&OA("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:cP(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=ga.length;++s){var o=ga[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&OA(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Wh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],oQ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function aQ(e,t,n,r){var i=[];if(typeof e=="string")i=AH(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(u){return{v:u}}));var o=typeof t=="string"?AH(t,r).map(function(u){return u.v}):t,a=0,l=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(a,a+l);break}a+=l}}function XNe(e,t,n){var r={};return t||(t={}),e=rr(e),Wh.forEach(function(i){var s=(e.match(Ly(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=kn(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&aQ(r.HeadingPairs,r.TitlesOfParts,t,n),t}function lQ(e){var t=[],n=pt;return e||(e={}),e.Application="SheetJS",t[t.length]=Qr,t[t.length]=pt("Properties",null,{xmlns:vi.EXT_PROPS,"xmlns:vt":vi.vt}),Wh.forEach(function(r){if(e[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Qn(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}i!==void 0&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+Qn(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var QNe=/<[^>]+>[^<]*/g;function ZNe(e,t){var n={},r="",i=e.match(QNe);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=Qt(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":r=kn(a.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=kn(u);break;case"bool":n[r]=dr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=gr(u);break;case"cy":case"error":n[r]=kn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}function cQ(e){var t=[Qr,pt("Properties",null,{xmlns:vi.CUST_PROPS,"xmlns:vt":vi.vt})];if(!e)return t.join("");var n=1;return Br(e).forEach(function(i){++n,t[t.length]=pt("property",aNe(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Qn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},NA;function JNe(e,t,n){NA||(NA=nT(pP)),t=NA[t]||t,e[t]=n}function eLe(e,t){var n=[];return Br(pP).map(function(r){for(var i=0;i<ga.length;++i)if(ga[i][1]==r)return ga[i];for(i=0;i<Wh.length;++i)if(Wh[i][1]==r)return Wh[i];throw r}).forEach(function(r){if(e[r[1]]!=null){var i=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Qi(pP[r[1]]||r[1],i))}}),pt("DocumentProperties",n.join(""),{xmlns:mo.o})}function tLe(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&Br(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<ga.length;++o)if(s==ga[o][1])return;for(o=0;o<Wh.length;++o)if(s==Wh[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=e[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(pt(EH(s),a,{"dt:dt":l}))}}),t&&Br(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(pt(EH(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+mo.o+'">'+i.join("")+"</"+r+">"}function DM(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function nLe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=Ye(8);return o.write_shift(4,r),o.write_shift(4,i),o}function uQ(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function dQ(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function hQ(e,t,n){return t===31?dQ(e):uQ(e,t,n)}function gP(e,t,n){return hQ(e,t,n===!1?0:4)}function rLe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return hQ(e,t,0)}function iLe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Ls,""),e.l-i&2&&(e.l+=2)}return n}function sLe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Ls,"");return n}function oLe(e){var t=e.l,n=A1(e,eQ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=A1(e,Ws);return[n,r]}function aLe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(oLe(e));return n}function VH(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ls,"").replace(pv,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function fQ(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function lLe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function A1(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==NH&&r!==t&&VNe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===NH?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return uQ(e,r,4).replace(Ls,"");case 31:return dQ(e);case 64:return DM(e);case 65:return fQ(e);case 71:return lLe(e);case 80:return gP(e,r,!s.raw).replace(Ls,"");case 81:return rLe(e,r).replace(Ls,"");case 4108:return aLe(e);case 4126:case 4127:return r==4127?iLe(e):sLe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function HH(e,t){var n=Ye(4),r=Ye(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Ye(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=nLe(t);break;case 31:case 80:for(r=Ye(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Fi([n,r])}function GH(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,a=0,l=-1,c={};for(o=0;o!=i;++o){var u=e.read_shift(4),h=e.read_shift(4);s[o]=[u,h+n]}s.sort(function(E,x){return E[1]-x[1]});var p={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var g=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,g=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],g=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],g=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(g=!1,e.l=s[o][1]),g)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var v=t[s[o][0]];if(p[v.n]=A1(e,v.t,{raw:!0}),v.p==="version"&&(p[v.n]=String(p[v.n]>>16)+"."+("0000"+String(p[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(p[v.n]){case 0:p[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ba(a=p[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[v.n])}}else if(s[o][0]===1){if(a=p.CodePage=A1(e,AM),Ba(a),l!==-1){var y=e.l;e.l=s[l][1],c=VH(e,a),e.l=y}}else if(s[o][0]===0){if(a===0){l=o,e.l=s[o+1][1];continue}c=VH(e,a)}else{var C=c[s[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=fQ(e);break;case 30:e.l+=4,b=gP(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=gP(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=zr(e,4);break;case 64:e.l+=4,b=gr(DM(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[C]=b}}return e.l=n+r,p}var pQ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function cLe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function UH(e,t,n){var r=Ye(8),i=[],s=[],o=8,a=0,l=Ye(8),c=Ye(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),o+=8+l.length,!t){c=Ye(8),c.write_shift(4,0),i.unshift(c);var u=[Ye(4)];for(u[0].write_shift(4,e.length),a=0;a<e.length;++a){var h=e[a][0];for(l=Ye(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Fi(u),s.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(pQ.indexOf(e[a][0])>-1||oQ.indexOf(e[a][0])>-1)&&e[a][1]!=null){var p=e[a][1],g=0;if(t){g=+t[e[a][0]];var v=n[g];if(v.p=="version"&&typeof p=="string"){var y=p.split(".");p=(+y[0]<<16)+(+y[1]||0)}l=HH(v.t,p)}else{var C=cLe(p);C==-1&&(C=31,p=String(p)),l=HH(C,p)}s.push(l),c=Ye(8),c.write_shift(4,t?g:2+a),i.push(c),o+=8+l.length}var b=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,b),b+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),Fi([r].concat(i).concat(s))}function zH(e,t,n){var r=e.content;if(!r)return{};Ki(r,0);var i,s,o,a,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Vt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),i===1&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);i===2&&(o=r.read_shift(16),l=r.read_shift(4));var h=GH(r,t),p={SystemIdentifier:c};for(var g in h)p[g]=h[g];if(p.FMTID=s,i===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=GH(r,null)}catch{}for(g in v)p[g]=v[g];return p.FMTID=[s,o],p}function jH(e,t,n,r,i,s){var o=Ye(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Vt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var l=UH(e,n,r);if(a.push(l),i){var c=UH(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return Fi(a)}function Iu(e,t){return e.read_shift(t),null}function uLe(e,t){t||(t=Ye(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function dLe(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function zr(e,t){return e.read_shift(t)===1}function Ps(e,t){return t||(t=Ye(2)),t.write_shift(2,+!!e),t}function ii(e){return e.read_shift(2,"u")}function aa(e,t){return t||(t=Ye(2)),t.write_shift(2,e),t}function gQ(e,t){return dLe(e,t,ii)}function hLe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function mQ(e,t,n){return n||(n=Ye(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function rC(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return o}function fLe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,a,l={};i&&(o=e.read_shift(2)),r&&(a=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return i&&(e.l+=4*o),r&&(e.l+=a),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function pLe(e){var t=e.t||"",n=Ye(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Ye(2*t.length);r.write_shift(2*t.length,t,"utf16le");var i=[n,r];return Fi(i)}function yf(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function iC(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):yf(e,r,n)}function Wf(e,t,n){if(n.biff>5)return iC(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function vQ(e,t,n){return n||(n=Ye(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function gLe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function mLe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Ls,"");return r&&(e.l+=24),i}function vLe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(Ls,"");return n+o}function yLe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return mLe(e);case"0303000000000000c000000000000046":return vLe(e);default:throw new Error("Unsupported Moniker "+n)}}function dx(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ls,""):"";return n}function WH(e,t){t||(t=Ye(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function wLe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,a,l,c="",u,h;i&16&&(s=dx(e,n-e.l)),i&128&&(o=dx(e,n-e.l)),(i&257)===257&&(a=dx(e,n-e.l)),(i&257)===1&&(l=yLe(e,n-e.l)),i&8&&(c=dx(e,n-e.l)),i&32&&(u=e.read_shift(16)),i&64&&(h=DM(e)),e.l=n;var p=o||a||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var g={Target:p};return u&&(g.guid=u),h&&(g.time=h),s&&(g.Tooltip=s),g}function CLe(e){var t=Ye(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(s==28)r=r.slice(1),WH(r,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var a=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),s&8&&WH(i>-1?r.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,r.charCodeAt(n+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function yQ(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function wQ(e,t){var n=yQ(e);return n[3]=0,n}function ec(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function wf(e,t,n,r){return r||(r=Ye(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function bLe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function xLe(e,t,n){return t===0?"":Wf(e,t,n)}function SLe(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,s,o]}function CQ(e){var t=e.read_shift(2),n=_M(e);return[t,n]}function ELe(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=rC(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function sT(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function bQ(e,t){return t||(t=Ye(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function xQ(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var TLe=xQ;function SQ(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function RLe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function _Le(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ss(e){e.l+=2,e.l+=e.read_shift(2)}var ALe={0:ss,4:ss,5:ss,6:ss,7:_Le,8:ss,9:ss,10:ss,11:ss,12:ss,13:RLe,14:ss,15:ss,16:ss,17:ss,18:ss,19:ss,20:ss,21:SQ};function kLe(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(ALe[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function hx(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function PM(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ye(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function DLe(e,t){return t===0||e.read_shift(2),1200}function PLe(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=Wf(e,0,n);return e.read_shift(t+r-e.l),i}function FLe(e,t){var n=!t||t.biff==8,r=Ye(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function ILe(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function MLe(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=rC(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function OLe(e,t){var n=!t||t.biff>=8?2:1,r=Ye(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function NLe(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(fLe(e));return s.Count=r,s.Unique=i,s}function LLe(e,t){var n=Ye(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=pLe(e[i]);var s=Fi([n].concat(r));return s.parts=[n.length].concat(r.map(function(o){return o.length})),s}function BLe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function VLe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function HLe(e){var t=bLe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function GLe(e){return e.read_shift(2),e.read_shift(4)}function $H(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function ULe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:a,Selected:l,TabRatio:c}}function zLe(){var e=Ye(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function jLe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function WLe(e){var t=Ye(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function $Le(){}function qLe(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=rC(e,0,n),r}function KLe(e,t){var n=e.name||"Arial",r=t&&t.biff==5,i=r?15+n.length:16+2*n.length,s=Ye(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function YLe(e){var t=ec(e);return t.isst=e.read_shift(4),t}function XLe(e,t,n,r){var i=Ye(10);return wf(e,t,r,i),i.write_shift(4,n),i}function QLe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=ec(e);n.biff==2&&e.l++;var s=iC(e,r-e.l,n);return i.val=s,i}function ZLe(e,t,n,r,i){var s=!i||i.biff==8,o=Ye(8+ +s+(1+s)*n.length);return wf(e,t,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function JLe(e,t,n){var r=e.read_shift(2),i=Wf(e,0,n);return[r,i]}function e4e(e,t,n,r){var i=n&&n.biff==5;r||(r=Ye(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var t4e=Wf;function qH(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),o=e.read_shift(i),a=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:a},e:{r:o,c:l}}}function n4e(e,t){var n=t.biff==8||!t.biff?4:2,r=Ye(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function r4e(e){var t=e.read_shift(2),n=e.read_shift(2),r=CQ(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function i4e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(CQ(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function s4e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function o4e(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return i.patternType=HNe[a>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=a&127,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function a4e(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=o4e(e,t,r.fStyle,n),r}function KH(e,t,n,r){var i=n&&n.biff==5;r||(r=Ye(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function l4e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function c4e(e){var t=Ye(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function YH(e,t,n){var r=ec(e);(n.biff==2||t==9)&&++e.l;var i=hLe(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function u4e(e,t,n,r,i,s){var o=Ye(8);return wf(e,t,r,o),mQ(n,s,o),o}function d4e(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=ec(e),i=hs(e);return r.val=i,r}function h4e(e,t,n,r){var i=Ye(14);return wf(e,t,r,i),vf(n,i),i}var XH=xLe;function f4e(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=yf(e,s),a=[];r>e.l;)a.push(iC(e));return[s,i,o,a]}function QH(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=ELe(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var p4e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function ZH(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=yf(e,o,n);i&32&&(c=p4e[c.charCodeAt(0)]);var u=r-e.l;n&&n.biff==2&&--u;var h=r==e.l||a===0||!(u>0)?[]:k5e(e,u,n,a);return{chKey:s,Name:c,itab:l,rgce:h}}function EQ(e,t,n){if(n.biff<8)return g4e(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(SLe(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function g4e(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=rC(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function m4e(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=yf(e,r,n),o=yf(e,i,n);return[s,o]}function v4e(e,t,n){var r=xQ(e);e.l++;var i=e.read_shift(1);return t-=8,[D5e(e,t,n),i,r]}function JH(e,t,n){var r=TLe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,_5e(e,t,n)]}function y4e(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function w4e(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=Wf(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},a,o,s]}}function C4e(e,t,n){return w4e(e,t,n)}function b4e(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(sT(e));return n}function x4e(e){var t=Ye(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)bQ(e[n],t);return t}function S4e(e,t,n){if(n&&n.biff<8)return T4e(e,t,n);var r=SQ(e),i=kLe(e,t-22,r[1]);return{cmo:r,ft:i}}var E4e={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function T4e(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((E4e[r]||ms)(e,t,n)),{cmo:[i,r,s],ft:o}}function R4e(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=gLe(e,6,n);var a=e.read_shift(2);e.read_shift(2),ii(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],h=yf(e,e.lens[c+1]-e.lens[c]-1);if(i+=h,i.length>=(u?a:2*a))break}if(i.length!==a&&i.length!==a*2)throw new Error("cchText: "+a+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function _4e(e,t){var n=sT(e);e.l+=16;var r=wLe(e,t-24);return[n,r]}function A4e(e){var t=Ye(24),n=Ar(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return Fi([t,CLe(e[1])])}function k4e(e,t){e.read_shift(2);var n=sT(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Ls,""),[n,r]}function D4e(e){var t=e[1].Tooltip,n=Ye(10+2*(t.length+1));n.write_shift(2,2048);var r=Ar(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function P4e(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=LH[n]||n,n=e.read_shift(2),t[1]=LH[n]||n,t}function F4e(e){return e||(e=Ye(4)),e.write_shift(2,1),e.write_shift(2,1),e}function I4e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(wQ(e));return n}function M4e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(wQ(e));return n}function O4e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function TQ(e,t,n){if(!n.cellStyles)return ms(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:i,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function N4e(e,t){var n=Ye(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function L4e(e,t){var n={};return t<32||(e.l+=16,n.header=hs(e),n.footer=hs(e),e.l+=2),n}function B4e(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}function V4e(e){for(var t=Ye(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var H4e=ec,G4e=gQ,U4e=iC;function z4e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function j4e(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=ec(e);++e.l;var i=Wf(e,t-7,n);return r.t="str",r.val=i,r}function W4e(e){var t=ec(e);++e.l;var n=hs(e);return t.t="n",t.val=n,t}function $4e(e,t,n){var r=Ye(15);return lC(r,e,t),r.write_shift(8,n,"f"),r}function q4e(e){var t=ec(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function K4e(e,t,n){var r=Ye(9);return lC(r,e,t),r.write_shift(2,n),r}function Y4e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function X4e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Q4e(e,t,n){var r=e.l+t,i=ec(e),s=e.read_shift(2),o=yf(e,s,n);return e.l=r,i.t="str",i.val=o,i}var Z4e=[2,3,48,49,131,139,140,245],mP=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=nT({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],u=yd(1);switch(l.type){case"base64":u=Co(Mo(a));break;case"binary":u=Co(a);break;case"buffer":case"array":u=a;break}Ki(u,0);var h=u.read_shift(1),p=!!(h&136),g=!1,v=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var y=0,C=521;h==2&&(y=u.read_shift(2)),u.l+=3,h!=2&&(y=u.read_shift(4)),y>1048576&&(y=1e6),h!=2&&(C=u.read_shift(2));var b=u.read_shift(2),E=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(E=e[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var x=[],k={},D=Math.min(u.length,h==2?521:C-10-(g?264:0)),R=v?32:11;u.l<D&&u[u.l]!=13;)switch(k={},k.name=My.utils.decode(E,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,k.type=String.fromCharCode(u.read_shift(1)),h!=2&&!v&&(k.offset=u.read_shift(4)),k.len=u.read_shift(1),h==2&&(k.offset=u.read_shift(2)),k.dec=u.read_shift(1),k.name.length&&x.push(k),h!=2&&(u.l+=v?13:14),k.type){case"B":(!g||k.len!=8)&&l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(u[u.l]!==13&&(u.l=C-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=C;var _=0,I=0;for(c[0]=[],I=0;I!=x.length;++I)c[0][I]=x[I].name;for(;y-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,c[++_]=[],I=0,I=0;I!=x.length;++I){var F=u.slice(u.l,u.l+x[I].len);u.l+=x[I].len,Ki(F,0);var N=My.utils.decode(E,F);switch(x[I].type){case"C":N.trim().length&&(c[_][I]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[_][I]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[_][I]=N;break;case"F":c[_][I]=parseFloat(N.trim());break;case"+":case"I":c[_][I]=v?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[_][I]=!0;break;case"N":case"F":c[_][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[_][I]="##MEMO##"+(v?parseInt(N.trim(),10):F.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[_][I]=+N||0);break;case"@":c[_][I]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":c[_][I]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":c[_][I]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[_][I]=-F.read_shift(-8,"f");break;case"B":if(g&&x[I].len==8){c[_][I]=F.read_shift(8,"f");break}case"G":case"P":F.l+=x[I].len;break;case"0":if(x[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[I].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function r(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Em(n(a,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function i(a,l){try{return Nd(r(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&Ba(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Zs(),h=P1(a,{header:1,raw:!0,cellDates:!0}),p=h[0],g=h.slice(1),v=a["!cols"]||[],y=0,C=0,b=0,E=1;for(y=0;y<p.length;++y){if(((v[y]||{}).DBF||{}).name){p[y]=v[y].DBF.name,++b;continue}if(p[y]!=null){if(++b,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(C=0;C<1024;++C)if(p.indexOf(p[y]+"_"+C)==-1){p[y]+="_"+C;break}}}}var x=Dn(a["!ref"]),k=[],D=[],R=[];for(y=0;y<=x.e.c-x.s.c;++y){var _="",I="",F=0,N=[];for(C=0;C<g.length;++C)g[C][y]!=null&&N.push(g[C][y]);if(N.length==0||p[y]==null){k[y]="?";continue}for(C=0;C<N.length;++C){switch(typeof N[C]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=N[C]instanceof Date?"D":"C";break;default:I="C"}F=Math.max(F,String(N[C]).length),_=_&&_!=I?"C":I}F>250&&(F=250),I=((v[y]||{}).DBF||{}).type,I=="C"&&v[y].DBF.len>F&&(F=v[y].DBF.len),_=="B"&&I=="N"&&(_="N",R[y]=v[y].DBF.dec,F=v[y].DBF.len),D[y]=_=="C"||I=="N"?F:s[_]||0,E+=D[y],k[y]=_}var B=u.next(32);for(B.write_shift(4,318902576),B.write_shift(4,g.length),B.write_shift(2,296+32*b),B.write_shift(2,E),y=0;y<4;++y)B.write_shift(4,0);for(B.write_shift(4,0|(+t[pX]||3)<<8),y=0,C=0;y<p.length;++y)if(p[y]!=null){var M=u.next(32),L=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,L,"sbcs"),M.write_shift(1,k[y]=="?"?"C":k[y],"sbcs"),M.write_shift(4,C),M.write_shift(1,D[y]||s[k[y]]||0),M.write_shift(1,R[y]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),C+=D[y]||s[k[y]]||0}var H=u.next(264);for(H.write_shift(4,13),y=0;y<65;++y)H.write_shift(4,0);for(y=0;y<g.length;++y){var ee=u.next(E);for(ee.write_shift(1,0),C=0;C<p.length;++C)if(p[C]!=null)switch(k[C]){case"L":ee.write_shift(1,g[y][C]==null?63:g[y][C]?84:70);break;case"B":ee.write_shift(8,g[y][C]||0,"f");break;case"N":var re="0";for(typeof g[y][C]=="number"&&(re=g[y][C].toFixed(R[C]||0)),b=0;b<D[C]-re.length;++b)ee.write_shift(1,32);ee.write_shift(1,re,"sbcs");break;case"D":g[y][C]?(ee.write_shift(4,("0000"+g[y][C].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(g[y][C].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+g[y][C].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var te=String(g[y][C]!=null?g[y][C]:"").slice(0,D[C]);for(ee.write_shift(1,te,"sbcs"),b=0;b<D[C]-te.length;++b)ee.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),RQ=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Br(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,g){var v=e[g];return typeof v=="number"?uH(v):v},r=function(p,g,v){var y=g.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return y==59?p:uH(y)};e["|"]=254;function i(p,g){switch(g.type){case"base64":return s(Mo(p),g);case"binary":return s(p,g);case"buffer":return s(ln&&Buffer.isBuffer(p)?p.toString("binary"):Od(p),g);case"array":return s(mf(p),g)}throw new Error("Unrecognized type "+g.type)}function s(p,g){var v=p.split(/[\n\r]+/),y=-1,C=-1,b=0,E=0,x=[],k=[],D=null,R={},_=[],I=[],F=[],N=0,B;for(+g.codepage>=0&&Ba(+g.codepage);b!==v.length;++b){N=0;var M=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),L=M.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),H=L[0],ee;if(M.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&k.push(M.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,te=!1,he=!1,Z=!1,V=-1,X=-1;for(E=1;E<L.length;++E)switch(L[E].charAt(0)){case"A":break;case"X":C=parseInt(L[E].slice(1))-1,te=!0;break;case"Y":for(y=parseInt(L[E].slice(1))-1,te||(C=0),B=x.length;B<=y;++B)x[B]=[];break;case"K":ee=L[E].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(Ua(ee))?isNaN(Qg(ee).getDate())||(ee=gr(ee)):(ee=Ua(ee),D!==null&&xm(D)&&(ee=iT(ee))),re=!0;break;case"E":Z=!0;var z=Eg(L[E].slice(1),{r:y,c:C});x[y][C]=[x[y][C],z];break;case"S":he=!0,x[y][C]=[x[y][C],"S5S"];break;case"G":break;case"R":V=parseInt(L[E].slice(1))-1;break;case"C":X=parseInt(L[E].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}if(re&&(x[y][C]&&x[y][C].length==2?x[y][C][0]=ee:x[y][C]=ee,D=null),he){if(Z)throw new Error("SYLK shared formula cannot have own formula");var G=V>-1&&x[V][X];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");x[y][C][1]=jQ(G[1],{r:y-V,c:C-X})}break;case"F":var Y=0;for(E=1;E<L.length;++E)switch(L[E].charAt(0)){case"X":C=parseInt(L[E].slice(1))-1,++Y;break;case"Y":for(y=parseInt(L[E].slice(1))-1,B=x.length;B<=y;++B)x[B]=[];break;case"M":N=parseInt(L[E].slice(1))/20;break;case"F":break;case"G":break;case"P":D=k[parseInt(L[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=L[E].slice(1).split(" "),B=parseInt(F[0],10);B<=parseInt(F[1],10);++B)N=parseInt(F[2],10),I[B-1]=N===0?{hidden:!0}:{wch:N},wd(I[B-1]);break;case"C":C=parseInt(L[E].slice(1))-1,I[C]||(I[C]={});break;case"R":y=parseInt(L[E].slice(1))-1,_[y]||(_[y]={}),N>0?(_[y].hpt=N,_[y].hpx=Jg(N)):N===0&&(_[y].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}Y<1&&(D=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}}return _.length>0&&(R["!rows"]=_),I.length>0&&(R["!cols"]=I),g&&g.sheetRows&&(x=x.slice(0,g.sheetRows)),[x,R]}function o(p,g){var v=i(p,g),y=v[0],C=v[1],b=Em(y,g);return Br(C).forEach(function(E){b[E]=C[E]}),b}function a(p,g){return Nd(o(p,g),g)}function l(p,g,v,y){var C="C;Y"+(v+1)+";X"+(y+1)+";K";switch(p.t){case"n":C+=p.v||0,p.f&&!p.F&&(C+=";E"+LM(p.f,{r:v,c:y}));break;case"b":C+=p.v?"TRUE":"FALSE";break;case"e":C+=p.w||p.v;break;case"d":C+='"'+(p.w||p.v)+'"';break;case"s":C+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(p,g){g.forEach(function(v,y){var C="F;W"+(y+1)+" "+(y+1)+" ";v.hidden?C+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Uy(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=zy(v.wpx)),typeof v.wch=="number"&&(C+=Math.round(v.wch))),C.charAt(C.length-1)!=" "&&p.push(C)})}function u(p,g){g.forEach(function(v,y){var C="F;";v.hidden?C+="M0;":v.hpt?C+="M"+20*v.hpt+";":v.hpx&&(C+="M"+20*jy(v.hpx)+";"),C.length>2&&p.push(C+"R"+(y+1))})}function h(p,g){var v=["ID;PWXL;N;E"],y=[],C=Dn(p["!ref"]),b,E=Array.isArray(p),x=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&c(v,p["!cols"]),p["!rows"]&&u(v,p["!rows"]),v.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var k=C.s.r;k<=C.e.r;++k)for(var D=C.s.c;D<=C.e.c;++D){var R=qt({r:k,c:D});b=E?(p[k]||[])[D]:p[R],!(!b||b.v==null&&(!b.f||b.F))&&y.push(l(b,p,k,D))}return v.join(x)+x+y.join(x)+x+"E"+x}return{to_workbook:a,to_sheet:o,from_sheet:h}}(),_Q=function(){function e(s,o){switch(o.type){case"base64":return t(Mo(s),o);case"binary":return t(s,o);case"buffer":return t(ln&&Buffer.isBuffer(s)?s.toString("binary"):Od(s),o);case"array":return t(mf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var a=s.split(`
`),l=-1,c=-1,u=0,h=[];u!==a.length;++u){if(a[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var p=a[u].trim().split(","),g=p[0],v=p[1];++u;for(var y=a[u]||"";(y.match(/["]/g)||[]).length&1&&u<a.length-1;)y+=`
`+a[++u];switch(y=y.trim(),+g){case-1:if(y==="BOT"){h[++l]=[],c=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?h[l][c]=!0:y==="FALSE"?h[l][c]=!1:isNaN(Ua(v))?isNaN(Qg(v).getDate())?h[l][c]=v:h[l][c]=gr(v):h[l][c]=Ua(v),++c;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),h[l][c++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function n(s,o){return Em(e(s,o),o)}function r(s,o){return Nd(n(s,o),o)}var i=function(){var s=function(l,c,u,h,p){l.push(c),l.push(u+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=Dn(l["!ref"]),h,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var g=u.s.r;g<=u.e.r;++g){o(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var y=qt({r:g,c:v});if(h=p?(l[g]||[])[v]:l[y],!h){o(c,1,0,"");continue}switch(h.t){case"n":var C=h.w;!C&&h.v!=null&&(C=h.v),C==null?h.f&&!h.F?o(c,1,0,"="+h.f):o(c,1,0,""):o(c,0,C,"V");break;case"b":o(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Sa(h.z||jt[14],wi(gr(h.v)))),o(c,0,h.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var b=`\r
`,E=c.join(b);return E}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),AQ=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,p){for(var g=h.split(`
`),v=-1,y=-1,C=0,b=[];C!==g.length;++C){var E=g[C].trim().split(":");if(E[0]==="cell"){var x=Ar(E[1]);if(b.length<=x.r)for(v=b.length;v<=x.r;++v)b[v]||(b[v]=[]);switch(v=x.r,y=x.c,E[2]){case"t":b[v][y]=e(E[3]);break;case"v":b[v][y]=+E[3];break;case"vtf":var k=E[E.length-1];case"vtc":switch(E[3]){case"nl":b[v][y]=!!+E[4];break;default:b[v][y]=+E[4];break}E[2]=="vtf"&&(b[v][y]=[b[v][y],k])}}}return p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),b}function r(h,p){return Em(n(h,p),p)}function i(h,p){return Nd(r(h,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var p=[],g=[],v,y="",C=ro(h["!ref"]),b=Array.isArray(h),E=C.s.r;E<=C.e.r;++E)for(var x=C.s.c;x<=C.e.c;++x)if(y=qt({r:E,c:x}),v=b?(h[E]||[])[x]:h[y],!(!v||v.v==null||v.t==="z")){switch(g=["cell",y,"t"],v.t){case"s":case"str":g.push(t(v.v));break;case"n":v.f?(g[2]="vtf",g[3]="n",g[4]=v.v,g[5]=t(v.f)):(g[2]="v",g[3]=v.v);break;case"b":g[2]="vt"+(v.f?"f":"c"),g[3]="nl",g[4]=v.v?"1":"0",g[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var k=wi(gr(v.v));g[2]="vtc",g[3]="nd",g[4]=""+k,g[5]=v.w||Sa(v.z||jt[14],k);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(h){return[s,o,a,o,c(h),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),Zg=function(){function e(u,h,p,g,v){v.raw?h[p][g]=u:u===""||(u==="TRUE"?h[p][g]=!0:u==="FALSE"?h[p][g]=!1:isNaN(Ua(u))?isNaN(Qg(u).getDate())?h[p][g]=u:h[p][g]=gr(u):h[p][g]=Ua(u))}function t(u,h){var p=h||{},g=[];if(!u||u.length===0)return g;for(var v=u.split(/[\r\n]/),y=v.length-1;y>=0&&v[y].length===0;)--y;for(var C=10,b=0,E=0;E<=y;++E)b=v[E].indexOf(" "),b==-1?b=v[E].length:b++,C=Math.max(C,b);for(E=0;E<=y;++E){g[E]=[];var x=0;for(e(v[E].slice(0,C).trim(),g,E,x,p),x=1;x<=(v[E].length-C)/10+1;++x)e(v[E].slice(C+(x-1)*10,C+x*10).trim(),g,E,x,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var h={},p=!1,g=0,v=0;g<u.length;++g)(v=u.charCodeAt(g))==34?p=!p:!p&&v in n&&(h[v]=(h[v]||0)+1);v=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push([h[g],g]);if(!v.length){h=r;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push([h[g],g])}return v.sort(function(y,C){return y[0]-C[0]||r[y[1]]-r[C[1]]}),n[v.pop()[1]]||44}function s(u,h){var p=h||{},g="",v=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(g=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(g=u.charAt(4),u=u.slice(6)):g=i(u.slice(0,1024)):p&&p.FS?g=p.FS:g=i(u.slice(0,1024));var C=0,b=0,E=0,x=0,k=0,D=g.charCodeAt(0),R=!1,_=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var F=p.dateNF!=null?BOe(p.dateNF):null;function N(){var B=u.slice(x,k),M={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)M.t="z";else if(p.raw)M.t="s",M.v=B;else if(B.trim().length===0)M.t="s",M.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(M.t="s",M.v=B.slice(2,-1).replace(/""/g,'"')):fVe(B)?(M.t="n",M.f=B.slice(1)):(M.t="s",M.v=B);else if(B=="TRUE")M.t="b",M.v=!0;else if(B=="FALSE")M.t="b",M.v=!1;else if(!isNaN(E=Ua(B)))M.t="n",p.cellText!==!1&&(M.w=B),M.v=E;else if(!isNaN(Qg(B).getDate())||F&&B.match(F)){M.z=p.dateNF||jt[14];var L=0;F&&B.match(F)&&(B=VOe(B,p.dateNF,B.match(F)||[]),L=1),p.cellDates?(M.t="d",M.v=gr(B,L)):(M.t="n",M.v=wi(gr(B,L))),p.cellText!==!1&&(M.w=Sa(M.z,M.v instanceof Date?wi(M.v):M.v)),p.cellNF||delete M.z}else M.t="s",M.v=B;if(M.t=="z"||(p.dense?(v[C]||(v[C]=[]),v[C][b]=M):v[qt({c:b,r:C})]=M),x=k+1,I=u.charCodeAt(x),y.e.c<b&&(y.e.c=b),y.e.r<C&&(y.e.r=C),_==D)++b;else if(b=0,++C,p.sheetRows&&p.sheetRows<=C)return!0}e:for(;k<u.length;++k)switch(_=u.charCodeAt(k)){case 34:I===34&&(R=!R);break;case D:case 10:case 13:if(!R&&N())break e;break}return k-x>0&&N(),v["!ref"]=tn(y),v}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,h):Em(t(u,h),h)}function a(u,h){var p="",g=h.type=="string"?[0,0,0,0]:WM(u,h);switch(h.type){case"base64":p=Mo(u);break;case"binary":p=u;break;case"buffer":h.codepage==65001?p=u.toString("utf8"):h.codepage&&typeof My<"u"||(p=ln&&Buffer.isBuffer(u)?u.toString("binary"):Od(u));break;case"array":p=mf(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=rr(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=rr(p):h.type=="binary"&&typeof My<"u",p.slice(0,19)=="socialcalc:version:"?AQ.to_sheet(h.type=="string"?p:rr(p),h):o(p,h)}function l(u,h){return Nd(a(u,h),h)}function c(u){for(var h=[],p=Dn(u["!ref"]),g,v=Array.isArray(u),y=p.s.r;y<=p.e.r;++y){for(var C=[],b=p.s.c;b<=p.e.c;++b){var E=qt({r:y,c:b});if(g=v?(u[y]||[])[b]:u[E],!g||g.v==null){C.push("          ");continue}for(var x=(g.w||(Yc(g),g.w)||"").slice(0,10);x.length<10;)x+=" ";C.push(x+(b===0?" ":""))}h.push(C.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();function J4e(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=RQ.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Zg.to_workbook(e,t)}}var $h=function(){function e(z,G,Y){if(z){Ki(z,z.l||0);for(var J=Y.Enum||V;z.l<z.length;){var pe=z.read_shift(2),He=J[pe]||J[65535],Re=z.read_shift(2),Te=z.l+Re,De=He.f&&He.f(z,Re,Y);if(z.l=Te,G(De,He,pe))return}}}function t(z,G){switch(G.type){case"base64":return n(Co(Mo(z)),G);case"binary":return n(Co(z),G);case"buffer":case"array":return n(z,G)}throw"Unsupported type "+G.type}function n(z,G){if(!z)return z;var Y=G||{},J=Y.dense?[]:{},pe="Sheet1",He="",Re=0,Te={},De=[],et=[],ue={s:{r:0,c:0},e:{r:0,c:0}},St=Y.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)Y.Enum=V,e(z,function(Q,oe,ve){switch(ve){case 0:Y.vers=Q,Q>=4096&&(Y.qpro=!0);break;case 6:ue=Q;break;case 204:Q&&(He=Q);break;case 222:He=Q;break;case 15:case 51:Y.qpro||(Q[1].v=Q[1].v.slice(1));case 13:case 14:case 16:ve==14&&(Q[2]&112)==112&&(Q[2]&15)>1&&(Q[2]&15)<15&&(Q[1].z=Y.dateNF||jt[14],Y.cellDates&&(Q[1].t="d",Q[1].v=iT(Q[1].v))),Y.qpro&&Q[3]>Re&&(J["!ref"]=tn(ue),Te[pe]=J,De.push(pe),J=Y.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},Re=Q[3],pe=He||"Sheet"+(Re+1),He="");var Fe=Y.dense?(J[Q[0].r]||[])[Q[0].c]:J[qt(Q[0])];if(Fe){Fe.t=Q[1].t,Fe.v=Q[1].v,Q[1].z!=null&&(Fe.z=Q[1].z),Q[1].f!=null&&(Fe.f=Q[1].f);break}Y.dense?(J[Q[0].r]||(J[Q[0].r]=[]),J[Q[0].r][Q[0].c]=Q[1]):J[qt(Q[0])]=Q[1];break}},Y);else if(z[2]==26||z[2]==14)Y.Enum=X,z[2]==14&&(Y.qpro=!0,z.l=0),e(z,function(Q,oe,ve){switch(ve){case 204:pe=Q;break;case 22:Q[1].v=Q[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Q[3]>Re&&(J["!ref"]=tn(ue),Te[pe]=J,De.push(pe),J=Y.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},Re=Q[3],pe="Sheet"+(Re+1)),St>0&&Q[0].r>=St)break;Y.dense?(J[Q[0].r]||(J[Q[0].r]=[]),J[Q[0].r][Q[0].c]=Q[1]):J[qt(Q[0])]=Q[1],ue.e.c<Q[0].c&&(ue.e.c=Q[0].c),ue.e.r<Q[0].r&&(ue.e.r=Q[0].r);break;case 27:Q[14e3]&&(et[Q[14e3][0]]=Q[14e3][1]);break;case 1537:et[Q[0]]=Q[1],Q[0]==Re&&(pe=Q[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(J["!ref"]=tn(ue),Te[He||pe]=J,De.push(He||pe),!et.length)return{SheetNames:De,Sheets:Te};for(var j={},Ce=[],ye=0;ye<et.length;++ye)Te[De[ye]]?(Ce.push(et[ye]||De[ye]),j[et[ye]]=Te[et[ye]]||Te[De[ye]]):(Ce.push(et[ye]),j[et[ye]]={"!ref":"A1"});return{SheetNames:Ce,Sheets:j}}function r(z,G){var Y=G||{};if(+Y.codepage>=0&&Ba(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Zs(),pe=Dn(z["!ref"]),He=Array.isArray(z),Re=[];vt(J,0,s(1030)),vt(J,6,l(pe));for(var Te=Math.min(pe.e.r,8191),De=pe.s.r;De<=Te;++De)for(var et=Xr(De),ue=pe.s.c;ue<=pe.e.c;++ue){De===pe.s.r&&(Re[ue]=_r(ue));var St=Re[ue]+et,j=He?(z[De]||[])[ue]:z[St];if(!(!j||j.t=="z"))if(j.t=="n")(j.v|0)==j.v&&j.v>=-32768&&j.v<=32767?vt(J,13,g(De,ue,j.v)):vt(J,14,y(De,ue,j.v));else{var Ce=Yc(j);vt(J,15,h(De,ue,Ce.slice(0,239)))}}return vt(J,1),J.end()}function i(z,G){var Y=G||{};if(+Y.codepage>=0&&Ba(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Zs();vt(J,0,o(z));for(var pe=0,He=0;pe<z.SheetNames.length;++pe)(z.Sheets[z.SheetNames[pe]]||{})["!ref"]&&vt(J,27,Z(z.SheetNames[pe],He++));var Re=0;for(pe=0;pe<z.SheetNames.length;++pe){var Te=z.Sheets[z.SheetNames[pe]];if(!(!Te||!Te["!ref"])){for(var De=Dn(Te["!ref"]),et=Array.isArray(Te),ue=[],St=Math.min(De.e.r,8191),j=De.s.r;j<=St;++j)for(var Ce=Xr(j),ye=De.s.c;ye<=De.e.c;++ye){j===De.s.r&&(ue[ye]=_r(ye));var Q=ue[ye]+Ce,oe=et?(Te[j]||[])[ye]:Te[Q];if(!(!oe||oe.t=="z"))if(oe.t=="n")vt(J,23,N(j,ye,Re,oe.v));else{var ve=Yc(oe);vt(J,22,_(j,ye,Re,ve.slice(0,239)))}}++Re}}return vt(J,1),J.end()}function s(z){var G=Ye(2);return G.write_shift(2,z),G}function o(z){var G=Ye(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var Y=0,J=0,pe=0,He=0;He<z.SheetNames.length;++He){var Re=z.SheetNames[He],Te=z.Sheets[Re];if(!(!Te||!Te["!ref"])){++pe;var De=ro(Te["!ref"]);Y<De.e.r&&(Y=De.e.r),J<De.e.c&&(J=De.e.c)}}return Y>8191&&(Y=8191),G.write_shift(2,Y),G.write_shift(1,pe),G.write_shift(1,J),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function a(z,G,Y){var J={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&Y.qpro?(J.s.c=z.read_shift(1),z.l++,J.s.r=z.read_shift(2),J.e.c=z.read_shift(1),z.l++,J.e.r=z.read_shift(2),J):(J.s.c=z.read_shift(2),J.s.r=z.read_shift(2),G==12&&Y.qpro&&(z.l+=2),J.e.c=z.read_shift(2),J.e.r=z.read_shift(2),G==12&&Y.qpro&&(z.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(z){var G=Ye(8);return G.write_shift(2,z.s.c),G.write_shift(2,z.s.r),G.write_shift(2,z.e.c),G.write_shift(2,z.e.r),G}function c(z,G,Y){var J=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(J[0].c=z.read_shift(1),J[3]=z.read_shift(1),J[0].r=z.read_shift(2),z.l+=2):(J[2]=z.read_shift(1),J[0].c=z.read_shift(2),J[0].r=z.read_shift(2)),J}function u(z,G,Y){var J=z.l+G,pe=c(z,G,Y);if(pe[1].t="s",Y.vers==20768){z.l++;var He=z.read_shift(1);return pe[1].v=z.read_shift(He,"utf8"),pe}return Y.qpro&&z.l++,pe[1].v=z.read_shift(J-z.l,"cstr"),pe}function h(z,G,Y){var J=Ye(7+Y.length);J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,z),J.write_shift(1,39);for(var pe=0;pe<J.length;++pe){var He=Y.charCodeAt(pe);J.write_shift(1,He>=128?95:He)}return J.write_shift(1,0),J}function p(z,G,Y){var J=c(z,G,Y);return J[1].v=z.read_shift(2,"i"),J}function g(z,G,Y){var J=Ye(7);return J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,z),J.write_shift(2,Y,"i"),J}function v(z,G,Y){var J=c(z,G,Y);return J[1].v=z.read_shift(8,"f"),J}function y(z,G,Y){var J=Ye(13);return J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,z),J.write_shift(8,Y,"f"),J}function C(z,G,Y){var J=z.l+G,pe=c(z,G,Y);if(pe[1].v=z.read_shift(8,"f"),Y.qpro)z.l=J;else{var He=z.read_shift(2);k(z.slice(z.l,z.l+He),pe),z.l+=He}return pe}function b(z,G,Y){var J=G&32768;return G&=-32769,G=(J?z:0)+(G>=8192?G-16384:G),(J?"":"$")+(Y?_r(G):Xr(G))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(z,G){Ki(z,0);for(var Y=[],J=0,pe="",He="",Re="",Te="";z.l<z.length;){var De=z[z.l++];switch(De){case 0:Y.push(z.read_shift(8,"f"));break;case 1:He=b(G[0].c,z.read_shift(2),!0),pe=b(G[0].r,z.read_shift(2),!1),Y.push(He+pe);break;case 2:{var et=b(G[0].c,z.read_shift(2),!0),ue=b(G[0].r,z.read_shift(2),!1);He=b(G[0].c,z.read_shift(2),!0),pe=b(G[0].r,z.read_shift(2),!1),Y.push(et+ue+":"+He+pe)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(z.read_shift(2));break;case 6:{for(var St="";De=z[z.l++];)St+=String.fromCharCode(De);Y.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Te=Y.pop(),Re=Y.pop(),Y.push(["AND","OR"][De-20]+"("+Re+","+Te+")");break;default:if(De<32&&x[De])Te=Y.pop(),Re=Y.pop(),Y.push(Re+x[De]+Te);else if(E[De]){if(J=E[De][1],J==69&&(J=z[z.l++]),J>Y.length){console.error("WK1 bad formula parse 0x"+De.toString(16)+":|"+Y.join("|")+"|");return}var j=Y.slice(-J);Y.length-=J,Y.push(E[De][0]+"("+j.join(",")+")")}else return De<=7?console.error("WK1 invalid opcode "+De.toString(16)):De<=24?console.error("WK1 unsupported op "+De.toString(16)):De<=30?console.error("WK1 invalid opcode "+De.toString(16)):De<=115?console.error("WK1 unsupported function opcode "+De.toString(16)):console.error("WK1 unrecognized opcode "+De.toString(16))}}Y.length==1?G[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function D(z){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=z.read_shift(2),G[3]=z[z.l++],G[0].c=z[z.l++],G}function R(z,G){var Y=D(z);return Y[1].t="s",Y[1].v=z.read_shift(G-4,"cstr"),Y}function _(z,G,Y,J){var pe=Ye(6+J.length);pe.write_shift(2,z),pe.write_shift(1,Y),pe.write_shift(1,G),pe.write_shift(1,39);for(var He=0;He<J.length;++He){var Re=J.charCodeAt(He);pe.write_shift(1,Re>=128?95:Re)}return pe.write_shift(1,0),pe}function I(z,G){var Y=D(z);Y[1].v=z.read_shift(2);var J=Y[1].v>>1;if(Y[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return Y[1].v=J,Y}function F(z,G){var Y=D(z),J=z.read_shift(4),pe=z.read_shift(4),He=z.read_shift(2);if(He==65535)return J===0&&pe===3221225472?(Y[1].t="e",Y[1].v=15):J===0&&pe===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var Re=He&32768;return He=(He&32767)-16446,Y[1].v=(1-Re*2)*(pe*Math.pow(2,He+32)+J*Math.pow(2,He)),Y}function N(z,G,Y,J){var pe=Ye(14);if(pe.write_shift(2,z),pe.write_shift(1,Y),pe.write_shift(1,G),J==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var He=0,Re=0,Te=0,De=0;return J<0&&(He=1,J=-J),Re=Math.log2(J)|0,J/=Math.pow(2,Re-31),De=J>>>0,(De&2147483648)==0&&(J/=2,++Re,De=J>>>0),J-=De,De|=2147483648,De>>>=0,J*=Math.pow(2,32),Te=J>>>0,pe.write_shift(4,Te),pe.write_shift(4,De),Re+=16383+(He?32768:0),pe.write_shift(2,Re),pe}function B(z,G){var Y=F(z);return z.l+=G-14,Y}function M(z,G){var Y=D(z),J=z.read_shift(4);return Y[1].v=J>>6,Y}function L(z,G){var Y=D(z),J=z.read_shift(8,"f");return Y[1].v=J,Y}function H(z,G){var Y=L(z);return z.l+=G-10,Y}function ee(z,G){return z[z.l+G-1]==0?z.read_shift(G,"cstr"):""}function re(z,G){var Y=z[z.l++];Y>G-1&&(Y=G-1);for(var J="";J.length<Y;)J+=String.fromCharCode(z[z.l++]);return J}function te(z,G,Y){if(!(!Y.qpro||G<21)){var J=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var pe=z.read_shift(G-21,"cstr");return[J,pe]}}function he(z,G){for(var Y={},J=z.l+G;z.l<J;){var pe=z.read_shift(2);if(pe==14e3){for(Y[pe]=[0,""],Y[pe][0]=z.read_shift(2);z[z.l];)Y[pe][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return Y}function Z(z,G){var Y=Ye(5+z.length);Y.write_shift(2,14e3),Y.write_shift(2,G);for(var J=0;J<z.length;++J){var pe=z.charCodeAt(J);Y[Y.l++]=pe>127?95:pe}return Y[Y.l++]=0,Y}var V={0:{n:"BOF",f:ii},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:he},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}();function eBe(e){var t={},n=e.match(ws),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Qt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=lM[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var tBe=function(){var e=Ly("t"),t=Ly("rPr");function n(s){var o=s.match(e);if(!o)return{t:"s",v:""};var a={t:"s",v:kn(o[1])},l=s.match(t);return l&&(a.s=eBe(l[1])),a}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(a){return a.v})}}(),nBe=function(){var t=/(\r\n|\n)/g;function n(i,s,o){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),s.push('<span style="'+a.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),rBe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,iBe=/<(?:\w+:)?r>/,sBe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function FM(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=kn(rr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=rr(e),n&&(r.h=yM(r.t))):e.match(iBe)&&(r.r=rr(e),r.t=kn(rr((e.replace(sBe,"").match(rBe)||[]).join("").replace(ws,""))),n&&(r.h=nBe(tBe(r.r)))),r):{t:""}}var oBe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,aBe=/<(?:\w+:)?(?:si|sstItem)>/g,lBe=/<\/(?:\w+:)?(?:si|sstItem)>/;function cBe(e,t){var n=[],r="";if(!e)return n;var i=e.match(oBe);if(i){r=i[2].replace(aBe,"").split(lBe);for(var s=0;s!=r.length;++s){var o=FM(r[s].trim(),t);o!=null&&(n[n.length]=o)}i=Qt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var uBe=/^\s|\s$|[\t\n\r]/;function kQ(e,t){if(!t.bookSST)return"";var n=[Qr];n[n.length]=pt("sst",null,{xmlns:Hf[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(uBe)&&(s+=' xml:space="preserve"'),s+=">"+Qn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function dBe(e){return[e.read_shift(4),e.read_shift(4)]}function hBe(e,t){var n=[],r=!1;return ru(e,function(s,o,a){switch(a){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}function fBe(e,t){return t||(t=Ye(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var pBe=ENe;function gBe(e){var t=Zs();ot(t,159,fBe(e));for(var n=0;n<e.length;++n)ot(t,19,pBe(e[n]));return ot(t,160),t.end()}function DQ(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Bc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function mBe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Bc(e,4),t.U=Bc(e,4),t.W=Bc(e,4),t}function vBe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function yBe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(vBe(e));return t}function wBe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function CBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Bc(e,4),t.U=Bc(e,4),t.W=Bc(e,4),t}function bBe(e){var t=CBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function PQ(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function FQ(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function xBe(e){var t=Bc(e);switch(t.Minor){case 2:return[t.Minor,SBe(e)];case 3:return[t.Minor,EBe()];case 4:return[t.Minor,TBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function SBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=PQ(e,n),i=FQ(e,e.length-e.l);return{t:"Std",h:r,v:i}}function EBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function TBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(ws,function(s){var o=Qt(s);switch(Jl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){r[a]=o[a]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function RBe(e,t){var n={},r=n.EncryptionVersionInfo=Bc(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=PQ(e,i),t-=i,n.EncryptionVerifier=FQ(e,t),n}function _Be(e){var t={},n=t.EncryptionVersionInfo=Bc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function IM(e){var t=0,n,r=DQ(e),i=r.length+1,s,o,a,l,c;for(n=yd(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],a=(t&16384)===0?0:1,l=t<<1&32767,c=a|l,t=c^o;return t^52811}var IQ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,a){return r(o^a)},s=function(o){for(var a=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var u=o[c],h=0;h!=7;++h)u&64&&(a^=n[l]),u*=2,--l;return a};return function(o){for(var a=DQ(o),l=s(a),c=a.length,u=yd(16),h=0;h!=16;++h)u[h]=0;var p,g,v;for((c&1)===1&&(p=l>>8,u[c]=i(e[0],p),--c,p=l&255,g=a[a.length-1],u[c]=i(g,p));c>0;)--c,p=l>>8,u[c]=i(a[c],p),--c,p=l&255,u[c]=i(a[c],p);for(c=15,v=15-a.length;v>0;)p=l>>8,u[c]=i(e[v],p),--c,--v,p=l&255,u[c]=i(a[c],p),--c,--v;return u}}(),ABe=function(e,t,n,r,i){i||(i=t),r||(r=IQ(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},kBe=function(e){var t=0,n=IQ(e);return function(r){var i=ABe("",r,t,n);return t=i[1],i[0]}};function DBe(e,t,n,r){var i={key:ii(e),verificationBytes:ii(e)};return n.password&&(i.verifier=IM(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=kBe(n.password)),i}function PBe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=_Be(e):r.Data=RBe(e,t),r}function FBe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?PBe(e,t-2,r):DBe(e,n.biff>=8?t:t-2,n,r),r}var MQ=function(){function e(i,s){switch(s.type){case"base64":return t(Mo(i),s);case"binary":return t(i,s);case"buffer":return t(ln&&Buffer.isBuffer(i)?i.toString("binary"):Od(i),s);case"array":return t(mf(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(a)&&(a[h]=[]);for(var p=/\\\w+\b/g,g=0,v,y=-1;v=p.exec(u);){switch(v[0]){case"\\cell":var C=u.slice(g,p.lastIndex-v[0].length);if(C[0]==" "&&(C=C.slice(1)),++y,C.length){var b={v:C,t:"s"};Array.isArray(a)?a[h][y]=b:a[qt({r:h,c:y})]=b}break}g=p.lastIndex}y>c.e.c&&(c.e.c=y)}),a["!ref"]=tn(c),a}function n(i,s){return Nd(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Dn(i["!ref"]),a,l=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=qt({r:c,c:u});a=l?(i[c]||[])[u]:i[h],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Yc(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function IBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Gy(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function MBe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(o===0)return[0,0,t];var a=0,l=0,c=i+s;switch(l=o/(c>1?2-c:c),i){case t:a=((n-r)/o+6)%6;break;case n:a=(r-t)/o+2;break;case r:a=(t-n)/o+4;break}return[a/6,l,c/2]}function OBe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],a=6*t,l;if(n!==0)switch(a|0){case 0:case 6:l=i*a,o[0]+=i,o[1]+=l;break;case 1:l=i*(2-a),o[0]+=l,o[1]+=i;break;case 2:l=i*(a-2),o[1]+=i,o[2]+=l;break;case 3:l=i*(4-a),o[1]+=l,o[2]+=i;break;case 4:l=i*(a-4),o[2]+=i,o[0]+=l;break;case 5:l=i*(6-a),o[2]+=l,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function k1(e,t){if(t===0)return e;var n=MBe(IBe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Gy(OBe(n))}var OQ=6,NBe=15,LBe=1,ds=OQ;function Uy(e){return Math.floor((e+Math.round(128/ds)/256)*ds)}function zy(e){return Math.floor((e-5)/ds*100+.5)/100}function D1(e){return Math.round((e*ds+5)/ds*256)/256}function LA(e){return D1(zy(Uy(e)))}function MM(e){var t=Math.abs(e-LA(e)),n=ds;if(t>.005)for(ds=LBe;ds<NBe;++ds)Math.abs(e-LA(e))<=t&&(t=Math.abs(e-LA(e)),n=ds);ds=n}function wd(e){e.width?(e.wpx=Uy(e.width),e.wch=zy(e.wpx),e.MDW=ds):e.wpx?(e.wch=zy(e.wpx),e.width=D1(e.wch),e.MDW=ds):typeof e.wch=="number"&&(e.width=D1(e.wch),e.wpx=Uy(e.width),e.MDW=ds),e.customWidth&&delete e.customWidth}var BBe=96,NQ=BBe;function jy(e){return e*96/NQ}function Jg(e){return e*NQ/96}var VBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function HBe(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(ws)||[]).forEach(function(o){var a=Qt(o);switch(Jl(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=dr(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=dr(a.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in borders")}})}function GBe(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(ws)||[]).forEach(function(o){var a=Qt(o);switch(Jl(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fills")}})}function UBe(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(ws)||[]).forEach(function(o){var a=Qt(o);switch(Jl(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=rr(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?dr(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?dr(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?dr(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?dr(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?dr(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?dr(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?dr(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=lM[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=dr(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var l=jh[i.color.index];i.color.index==81&&(l=jh[1]),l||(l=jh[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=k1(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fonts")}})}function zBe(e,t,n){t.NumberFmt=[];for(var r=Br(jt),i=0;i<r.length;++i)t.NumberFmt[r[i]]=jt[r[i]];var s=e[0].match(ws);if(s)for(i=0;i<s.length;++i){var o=Qt(s[i]);switch(Jl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=kn(rr(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}Lc(a,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function jBe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=pt("numFmt",null,{numFmtId:r,formatCode:Qn(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=pt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var fx=["numFmtId","fillId","fontId","borderId","xfId"],px=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function WBe(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(ws)||[]).forEach(function(s){var o=Qt(s),a=0;switch(Jl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],a=0;a<fx.length;++a)r[fx[a]]&&(r[fx[a]]=parseInt(r[fx[a]],10));for(a=0;a<px.length;++a)r[px[a]]&&(r[px[a]]=dr(r[px[a]]));if(t.NumberFmt&&r.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[a]){r.numFmtId=a;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=dr(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function $Be(e){var t=[];return t[t.length]=pt("cellXfs",null),e.forEach(function(n){t[t.length]=pt("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=pt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var qBe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var u={};if(!a)return u;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=a.match(t))&&zBe(h,u,c),(h=a.match(i))&&UBe(h,u,l,c),(h=a.match(r))&&GBe(h,u,l,c),(h=a.match(s))&&HBe(h,u,l,c),(h=a.match(n))&&WBe(h,u,c),u}}();function LQ(e,t){var n=[Qr,pt("styleSheet",null,{xmlns:Hf[0],"xmlns:vt":vi.vt})],r;return e.SSF&&(r=jBe(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=$Be(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function KBe(e,t){var n=e.read_shift(2),r=ps(e);return[n,r]}function YBe(e,t,n){n||(n=Ye(6+4*t.length)),n.write_shift(2,e),Ii(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function XBe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=PNe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=DNe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ps(e),r}function QBe(e,t){t||(t=Ye(153)),t.write_shift(2,e.sz*20),FNe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),R1(e.color,t);var r=0;return r=2,t.write_shift(1,r),Ii(e.name,t),t.length>t.l?t.slice(0,t.l):t}var ZBe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],BA,JBe=ms;function eG(e,t){t||(t=Ye(84)),BA||(BA=nT(ZBe));var n=BA[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(R1({auto:1},t),R1({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function e3e(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function BQ(e,t,n){n||(n=Ye(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function $0(e,t){return t||(t=Ye(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var t3e=ms;function n3e(e,t){return t||(t=Ye(51)),t.write_shift(1,0),$0(null,t),$0(null,t),$0(null,t),$0(null,t),$0(null,t),t.length>t.l?t.slice(0,t.l):t}function r3e(e,t){return t||(t=Ye(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),T1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function i3e(e,t,n){var r=Ye(2052);return r.write_shift(4,e),T1(t,r),T1(n,r),r.length>r.l?r.slice(0,r.l):r}function s3e(e,t,n){var r={};r.NumberFmt=[];for(var i in jt)r.NumberFmt[i]=jt[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return ru(e,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],Lc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=k1(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(u),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function o3e(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&++n}),n!=0&&(ot(e,615,za(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&ot(e,44,YBe(i,t[i]))}),ot(e,616))}}function a3e(e){var t=1;ot(e,611,za(t)),ot(e,43,QBe({sz:12,color:{theme:1},name:"Calibri",family:2})),ot(e,612)}function l3e(e){var t=2;ot(e,603,za(t)),ot(e,45,eG({patternType:"none"})),ot(e,45,eG({patternType:"gray125"})),ot(e,604)}function c3e(e){var t=1;ot(e,613,za(t)),ot(e,46,n3e()),ot(e,614)}function u3e(e){var t=1;ot(e,626,za(t)),ot(e,47,BQ({numFmtId:0},65535)),ot(e,627)}function d3e(e,t){ot(e,617,za(t.length)),t.forEach(function(n){ot(e,47,BQ(n,0))}),ot(e,618)}function h3e(e){var t=1;ot(e,619,za(t)),ot(e,48,r3e({xfId:0,name:"Normal"})),ot(e,620)}function f3e(e){var t=0;ot(e,505,za(t)),ot(e,506)}function p3e(e){var t=0;ot(e,508,i3e(t,"TableStyleMedium9","PivotStyleMedium4")),ot(e,509)}function g3e(e,t){var n=Zs();return ot(n,278),o3e(n,e.SSF),a3e(n),l3e(n),c3e(n),u3e(n),d3e(n,t.cellXfs),h3e(n),f3e(n),p3e(n),ot(n,279),n.end()}var m3e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function v3e(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(ws)||[]).forEach(function(i){var s=Qt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[m3e.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function y3e(){}function w3e(){}var C3e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,b3e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,x3e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function S3e(e,t,n){t.themeElements={};var r;[["clrScheme",C3e,v3e],["fontScheme",b3e,y3e],["fmtScheme",x3e,w3e]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var E3e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function VQ(e,t){(!e||e.length===0)&&(e=OM());var n,r={};if(!(n=e.match(E3e)))throw new Error("themeElements not found in theme");return S3e(n[0],r,t),r.raw=e,r}function OM(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Qr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function T3e(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var o;try{o=PX(s,{type:"array"})}catch{return}var a=bo(o,"theme/theme/theme1.xml",!0);if(a)return VQ(a,n)}}function R3e(e){return e.read_shift(4)}function _3e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=A3e(e,4);break;case 2:t.xclrValue=yQ(e);break;case 3:t.xclrValue=R3e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function A3e(e,t){return ms(e,t)}function k3e(e,t){return ms(e,t)}function D3e(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=_3e(e);break;case 6:r[1]=k3e(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function P3e(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(D3e(e,n-e.l));return{ixfe:r,ext:s}}function F3e(e,t){t.forEach(function(n){n[0]})}function I3e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ps(e)}}function M3e(e){var t=Ye(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ii(e.name,t),t.slice(0,t.l)}function O3e(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function N3e(e){var t=Ye(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function L3e(e,t){var n=Ye(8+2*t.length);return n.write_shift(4,e),Ii(t,n),n.slice(0,n.l)}function B3e(e){return e.l+=4,e.read_shift(4)!=0}function V3e(e,t){var n=Ye(8);return n.write_shift(4,e),n.write_shift(4,1),n}function H3e(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,a=2;return ru(e,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(h){a==1?r.Cell.push({type:r.Types[h[0]-1].name,index:h[1]}):a==0&&r.Value.push({type:r.Types[h[0]-1].name,index:h[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:s.push(u),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function G3e(){var e=Zs();return ot(e,332),ot(e,334,za(1)),ot(e,335,M3e({name:"XLDAPR",version:12e4,flags:3496657072})),ot(e,336),ot(e,339,L3e(1,"XLDAPR")),ot(e,52),ot(e,35,za(514)),ot(e,4096,za(0)),ot(e,4097,aa(1)),ot(e,36),ot(e,53),ot(e,340),ot(e,337,V3e(1)),ot(e,51,N3e([[1,0]])),ot(e,338),ot(e,333),e.end()}function U3e(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,o;return e.replace(ws,function(a){var l=Qt(a);switch(Jl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),r}function HQ(){var e=[Qr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function z3e(e){var t=[];if(!e)return t;var n=1;return(e.match(ws)||[]).forEach(function(r){var i=Qt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function j3e(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=qt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function W3e(e,t,n){var r=[];return ru(e,function(s,o,a){switch(a){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+a.toString(16))}}),r}function $3e(e,t,n,r){if(!e)return e;var i=r||{},s=!1;ru(e,function(a,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function q3e(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}var Zp=1024;function GQ(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[pt("xml",null,{"xmlns:v":mo.v,"xmlns:o":mo.o,"xmlns:x":mo.x,"xmlns:mv":mo.mv}).replace(/\/>/,">"),pt("o:shapelayout",pt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),pt("v:shapetype",[pt("v:stroke",null,{joinstyle:"miter"}),pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Zp<e*1e3;)Zp+=1e3;return t.forEach(function(s){var o=Ar(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=pt("v:fill",l,a),u={on:"t",obscured:"t"};++Zp,i=i.concat(["<v:shape"+By({id:"_x0000_s"+Zp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,pt("v:shadow",null,u),pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Qi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Qi("x:AutoFill","False"),Qi("x:Row",String(o.r)),Qi("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function tG(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(o){var a=Ar(o.ref);if(i?(e[a.r]||(e[a.r]=[]),s=e[a.r][a.c]):s=e[o.ref],!s){s={t:"z"},i?e[a.r][a.c]=s:e[o.ref]=s;var l=Dn(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=tn(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var u={a:o.author,t:o.t,r:o.r,T:n};o.h&&(u.h=o.h);for(var h=s.c.length-1;h>=0;--h){if(!n&&s.c[h].T)return;n&&!s.c[h].T&&s.c.splice(h,1)}if(n&&r){for(h=0;h<r.length;++h)if(u.a==r[h].id){u.a=r[h].name||u.a;break}}s.c.push(u)})}function K3e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=Qt(a[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Ar(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!h&&!!h[1]&&FM(h[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function UQ(e){var t=[Qr,pt("comments",null,{xmlns:Hf[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(i){var s=Qn(i.a);n.indexOf(s)==-1&&(n.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Qn(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(Qi("t",Qn(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;t.push(Qi("t",Qn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Y3e(e,t){var n=[],r=!1,i={},s=0;return e.replace(ws,function(a,l){var c=Qt(a);switch(Jl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+a.length;break;case"</text>":i.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),n}function X3e(e,t,n){var r=[Qr,pt("ThreadedComments",null,{xmlns:vi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(pt("threadedComment",Qi("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function Q3e(e,t){var n=[],r=!1;return e.replace(ws,function(s){var o=Qt(s);switch(Jl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function Z3e(e){var t=[Qr,pt("personList",null,{xmlns:vi.TCMNT,"xmlns:x":Hf[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(pt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function J3e(e){var t={};t.iauthor=e.read_shift(4);var n=jf(e);return t.rfx=n.s,t.ref=qt(n.s),e.l+=16,t}function eVe(e,t){return t==null&&(t=Ye(36)),t.write_shift(4,e[1].iauthor),Tm(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var tVe=ps;function nVe(e){return Ii(e.slice(0,54))}function rVe(e,t){var n=[],r=[],i={},s=!1;return ru(e,function(a,l,c){switch(c){case 632:r.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function iVe(e){var t=Zs(),n=[];return ot(t,628),ot(t,630),e.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),ot(t,632,nVe(i.a)))})}),ot(t,631),ot(t,633),e.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Ar(r[0]),e:Ar(r[0])};ot(t,635,eVe([s,i])),i.t&&i.t.length>0&&ot(t,637,RNe(i)),ot(t,636),delete i.iauthor})}),ot(t,634),ot(t,629),t.end()}var sVe="application/vnd.ms-office.vbaProject";function oVe(e){var t=Vt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Vt.utils.cfb_add(t,i,e.FileIndex[r].content)}}),Vt.write(t)}function aVe(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Vt.utils.cfb_add(e,i,t.FileIndex[r].content)}})}var zQ=["xlsb","xlsm","xlam","biff8","xla"];function lVe(){return{"!type":"dialog"}}function cVe(){return{"!type":"dialog"}}function uVe(){return{"!type":"macro"}}function dVe(){return{"!type":"macro"}}var Eg=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=t.c:--u,l?c+=t.r:--c,i+(a?"":"$")+_r(u)+(l?"":"$")+Xr(c)}return function(i,s){return t=s,i.replace(e,n)}}(),NM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,LM=function(){return function(t,n){return t.replace(NM,function(r,i,s,o,a,l){var c=SM(o)-(s?0:n.c),u=xM(l)-(a?0:n.r),h=u==0?"":a?u+1:"["+u+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+h+"C"+p})}}();function jQ(e,t){return e.replace(NM,function(n,r,i,s,o,a){return r+(i=="$"?i+s:_r(SM(s)+t.c))+(o=="$"?o+a:Xr(xM(a)+t.r))})}function hVe(e,t,n){var r=ro(t),i=r.s,s=Ar(n),o={r:s.r-i.r,c:s.c-i.c};return jQ(e,o)}function fVe(e){return e.length!=1}function nG(e){return e.replace(/_xlfn\./g,"")}function ti(e){e.l+=1}function Cd(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function WQ(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return $Q(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=Cd(e),a=Cd(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function $Q(e){var t=Cd(e),n=Cd(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function pVe(e,t,n){if(n.biff<8)return $Q(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=Cd(e),o=Cd(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function qQ(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return gVe(e);var r=e.read_shift(n&&n.biff==12?4:2),i=Cd(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function gVe(e){var t=Cd(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function mVe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function vVe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return yVe(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function yVe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function wVe(e,t,n){var r=(e[e.l++]&96)>>5,i=WQ(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function CVe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=WQ(e,s,n);return[r,i,o]}function bVe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function xVe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function SVe(e,t,n){var r=(e[e.l++]&96)>>5,i=pVe(e,t-1,n);return[r,i]}function EVe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function rG(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function TVe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function RVe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function _Ve(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function AVe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function kVe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function KQ(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function DVe(e){return e.read_shift(2),KQ(e)}function PVe(e){return e.read_shift(2),KQ(e)}function FVe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=qQ(e,0,n);return[r,i]}function IVe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=vVe(e,0,n);return[r,i]}function MVe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=qQ(e,0,n);return[r,i,s]}function OVe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[B5e[i],QQ[i],r]}function NVe(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:LVe(e);return[i,(s[0]===0?QQ:L5e)[s[1]]]}function LVe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function BVe(e,t,n){e.l+=n&&n.biff==2?3:4}function VVe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function HVe(e){return e.l++,iu[e.read_shift(1)]}function GVe(e){return e.l++,e.read_shift(2)}function UVe(e){return e.l++,e.read_shift(1)!==0}function zVe(e){return e.l++,hs(e)}function jVe(e,t,n){return e.l++,rC(e,t-1,n)}function WVe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=zr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=iu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=hs(e);break;case 2:n[1]=Wf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function $Ve(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?jf:sT)(e));return i}function qVe(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=WVe(e,n.biff);return o}function KVe(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function YVe(e,t,n){if(n.biff==5)return XVe(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function XVe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function QVe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function ZVe(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function JVe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function e5e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var t5e=ms,n5e=ms,r5e=ms;function sC(e,t,n){return e.l+=2,[mVe(e)]}function BM(e){return e.l+=6,[]}var i5e=sC,s5e=BM,o5e=BM,a5e=sC;function YQ(e){return e.l+=2,[ii(e),e.read_shift(2)&1]}var l5e=sC,c5e=YQ,u5e=BM,d5e=sC,h5e=sC,f5e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function p5e(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),o=f5e[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:s}}function g5e(e){return e.l+=2,[e.read_shift(4)]}function m5e(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function v5e(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function y5e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function w5e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function C5e(e){return e.l+=4,[0,0]}var iG={1:{n:"PtgExp",f:VVe},2:{n:"PtgTbl",f:r5e},3:{n:"PtgAdd",f:ti},4:{n:"PtgSub",f:ti},5:{n:"PtgMul",f:ti},6:{n:"PtgDiv",f:ti},7:{n:"PtgPower",f:ti},8:{n:"PtgConcat",f:ti},9:{n:"PtgLt",f:ti},10:{n:"PtgLe",f:ti},11:{n:"PtgEq",f:ti},12:{n:"PtgGe",f:ti},13:{n:"PtgGt",f:ti},14:{n:"PtgNe",f:ti},15:{n:"PtgIsect",f:ti},16:{n:"PtgUnion",f:ti},17:{n:"PtgRange",f:ti},18:{n:"PtgUplus",f:ti},19:{n:"PtgUminus",f:ti},20:{n:"PtgPercent",f:ti},21:{n:"PtgParen",f:ti},22:{n:"PtgMissArg",f:ti},23:{n:"PtgStr",f:jVe},26:{n:"PtgSheet",f:m5e},27:{n:"PtgEndSheet",f:v5e},28:{n:"PtgErr",f:HVe},29:{n:"PtgBool",f:UVe},30:{n:"PtgInt",f:GVe},31:{n:"PtgNum",f:zVe},32:{n:"PtgArray",f:EVe},33:{n:"PtgFunc",f:OVe},34:{n:"PtgFuncVar",f:NVe},35:{n:"PtgName",f:KVe},36:{n:"PtgRef",f:FVe},37:{n:"PtgArea",f:wVe},38:{n:"PtgMemArea",f:QVe},39:{n:"PtgMemErr",f:t5e},40:{n:"PtgMemNoMem",f:n5e},41:{n:"PtgMemFunc",f:ZVe},42:{n:"PtgRefErr",f:JVe},43:{n:"PtgAreaErr",f:bVe},44:{n:"PtgRefN",f:IVe},45:{n:"PtgAreaN",f:SVe},46:{n:"PtgMemAreaN",f:y5e},47:{n:"PtgMemNoMemN",f:w5e},57:{n:"PtgNameX",f:YVe},58:{n:"PtgRef3d",f:MVe},59:{n:"PtgArea3d",f:CVe},60:{n:"PtgRefErr3d",f:e5e},61:{n:"PtgAreaErr3d",f:xVe},255:{}},b5e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},x5e={1:{n:"PtgElfLel",f:YQ},2:{n:"PtgElfRw",f:d5e},3:{n:"PtgElfCol",f:i5e},6:{n:"PtgElfRwV",f:h5e},7:{n:"PtgElfColV",f:a5e},10:{n:"PtgElfRadical",f:l5e},11:{n:"PtgElfRadicalS",f:u5e},13:{n:"PtgElfColS",f:s5e},15:{n:"PtgElfColSV",f:o5e},16:{n:"PtgElfRadicalLel",f:c5e},25:{n:"PtgList",f:p5e},29:{n:"PtgSxName",f:g5e},255:{}},S5e={0:{n:"PtgAttrNoop",f:C5e},1:{n:"PtgAttrSemi",f:kVe},2:{n:"PtgAttrIf",f:_Ve},4:{n:"PtgAttrChoose",f:TVe},8:{n:"PtgAttrGoto",f:RVe},16:{n:"PtgAttrSum",f:BVe},32:{n:"PtgAttrBaxcel",f:rG},33:{n:"PtgAttrBaxcel",f:rG},64:{n:"PtgAttrSpace",f:DVe},65:{n:"PtgAttrSpaceSemi",f:PVe},128:{n:"PtgAttrIfError",f:AVe},255:{}};function oC(e,t,n,r){if(r.biff<8)return ms(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=qVe(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=$Ve(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=i-e.l,t!==0&&s.push(ms(e,t)),s}function aC(e,t,n){for(var r=e.l+t,i,s,o=[];r!=e.l;)t=r-e.l,s=e[e.l],i=iG[s]||iG[b5e[s]],(s===24||s===25)&&(i=(s===24?x5e:S5e)[e[e.l+1]]),!i||!i.f?ms(e,t):o.push([i.n,i.f(e,t,n)]);return o}function E5e(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var T5e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function R5e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function XQ(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function sG(e,t,n){var r=XQ(e,t,n);return r=="#REF"?r:R5e(r,n)}function us(e,t,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,c,u,h=0,p=0,g,v="";if(!e[0]||!e[0][0])return"";for(var y=-1,C="",b=0,E=e[0].length;b<E;++b){var x=e[0][b];switch(x[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),y>=0){switch(e[0][y][1][0]){case 0:C=Mr(" ",e[0][y][1][1]);break;case 1:C=Mr("\r",e[0][y][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}c=c+C,y=-1}a.push(c+T5e[x[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Ov(x[1][1],o,i),a.push(Nv(u,s));break;case"PtgRefN":u=n?Ov(x[1][1],n,i):x[1][1],a.push(Nv(u,s));break;case"PtgRef3d":h=x[1][1],u=Ov(x[1][2],o,i),v=sG(r,h,i),a.push(v+"!"+Nv(u,s));break;case"PtgFunc":case"PtgFuncVar":var k=x[1][0],D=x[1][1];k||(k=0),k&=127;var R=k==0?[]:a.slice(-k);a.length-=k,D==="User"&&(D=R.shift()),a.push(D+"("+R.join(",")+")");break;case"PtgBool":a.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(x[1]);break;case"PtgNum":a.push(String(x[1]));break;case"PtgStr":a.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(x[1]);break;case"PtgAreaN":g=MH(x[1][1],n?{s:n}:o,i),a.push(MA(g,i));break;case"PtgArea":g=MH(x[1][1],o,i),a.push(MA(g,i));break;case"PtgArea3d":h=x[1][1],g=x[1][2],v=sG(r,h,i),a.push(v+"!"+MA(g,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=x[1][2];var _=(r.names||[])[p-1]||(r[0]||[])[p],I=_?_.Name:"SH33TJSNAME"+String(p);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),a.push(I);break;case"PtgNameX":var F=x[1][1];p=x[1][2];var N;if(i.biff<=5)F<0&&(F=-F),r[F]&&(N=r[F][p]);else{var B="";if(((r[F]||[])[0]||[])[0]==14849||(((r[F]||[])[0]||[])[0]==1025?r[F][p]&&r[F][p].itab>0&&(B=r.SheetNames[r[F][p].itab-1]+"!"):B=r.SheetNames[p-1]+"!"),r[F]&&r[F][p])B+=r[F][p].Name;else if(r[0]&&r[0][p])B+=r[0][p].Name;else{var M=(XQ(r,F,i)||"").split(";;");M[p-1]?B=M[p-1]:B+="SH33TJSERRX"}a.push(B);break}N||(N={Name:"SH33TJSERRY"}),a.push(N.Name);break;case"PtgParen":var L="(",H=")";if(y>=0){switch(C="",e[0][y][1][0]){case 2:L=Mr(" ",e[0][y][1][1])+L;break;case 3:L=Mr("\r",e[0][y][1][1])+L;break;case 4:H=Mr(" ",e[0][y][1][1])+H;break;case 5:H=Mr("\r",e[0][y][1][1])+H;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}a.push(L+a.pop()+H);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var ee={c:n.c,r:n.r};if(r.sharedf[qt(u)]){var re=r.sharedf[qt(u)];a.push(us(re,o,ee,r,i))}else{var te=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){a.push(us(c[1],o,ee,r,i)),te=!0;break}te||a.push(x[1])}break;case"PtgArray":a.push("{"+E5e(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var he=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&he.indexOf(e[0][b][0])==-1){x=e[0][y];var Z=!0;switch(x[1][0]){case 4:Z=!1;case 0:C=Mr(" ",x[1][1]);break;case 5:Z=!1;case 1:C=Mr("\r",x[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}a.push((Z?C:"")+a.pop()+(Z?"":C)),y=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function _5e(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],ms(e,t-2)];var a=aC(e,o,n);return t!==o+i&&(s=oC(e,t-o-i,a,n)),e.l=r,[a,s]}function A5e(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],ms(e,t-2)];var a=aC(e,o,n);return t!==o+i&&(s=oC(e,t-o-i,a,n)),e.l=r,[a,s]}function k5e(e,t,n,r){var i=e.l+t,s=aC(e,r,n),o;return i!==e.l&&(o=oC(e,i-e.l,s,n)),[s,o]}function D5e(e,t,n){var r=e.l+t,i,s=e.read_shift(2),o=aC(e,s,n);return s==65535?[[],ms(e,t-2)]:(t!==s+2&&(i=oC(e,r-s-2,o,n)),[o,i])}function P5e(e){var t;if(Ac(e,e.l+6)!==65535)return[hs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function F5e(e){if(e==null){var t=Ye(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return vf(e);return vf(0)}function VA(e,t,n){var r=e.l+t,i=ec(e);n.biff==2&&++e.l;var s=P5e(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=A5e(e,r-e.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function I5e(e,t,n,r,i){var s=wf(t,n,i),o=F5e(e.v),a=Ye(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=Ye(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var h=Fi([s,o,a,c]);return h}function oT(e,t,n){var r=e.read_shift(4),i=aC(e,r,n),s=e.read_shift(4),o=s>0?oC(e,s,i,n):null;return[i,o]}var M5e=oT,aT=oT,O5e=oT,N5e=oT,L5e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},QQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},B5e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function oG(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function V5e(e){var t="of:="+e.replace(NM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function HA(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function H5e(e){return e.replace(/\./,"!")}var Bv={},Tg={},Vv=typeof Map<"u";function VM(e,t,n){var r=0,i=e.length;if(n){if(Vv?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var s=Vv?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(Vv?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function lT(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(ds=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=zy(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=D1(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function qh(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Ld(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Lc(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function ZQ(e,t,n,r,i,s){try{r.cellNF&&(e.z=jt[t])}catch(a){if(r.WTF)throw a}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=gr(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(jt[t]==null&&Lc(LOe[t]||"General",t),e.t==="e")e.w=e.w||iu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ny(e.v);else if(e.t==="d"){var o=wi(e.v);(o|0)===o?e.w=o.toString(10):e.w=Ny(o)}else{if(e.v===void 0)return"";e.w=gf(e.v,Tg)}else e.t==="d"?e.w=Sa(t,wi(e.v),Tg):e.w=Sa(t,e.v,Tg)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=k1(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=k1(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}function G5e(e,t,n){if(e&&e["!ref"]){var r=Dn(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function U5e(e,t){var n=Dn(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=tn(n))}var z5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,j5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,W5e=/<(?:\w:)?hyperlink [^>]*>/mg,$5e=/"(\w*:\w*)"/,q5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,K5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Y5e=/<(?:\w:)?pageMargins[^>]*\/>/g,JQ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,X5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Q5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Z5e(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}});var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=e.match(j5e);h?(c=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):c=u=e;var p=c.match(JQ);p?HM(p[0],a,i,n):(p=c.match(X5e))&&e6e(p[0],p[1]||"",a,i,n);var g=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var v=c.slice(g,g+50).match($5e);v&&U5e(a,v[1])}var y=c.match(Q5e);y&&y[1]&&f6e(y[1],i);var C=[];if(t.cellStyles){var b=c.match(q5e);b&&l6e(C,b)}h&&m6e(h[1],a,t,l,s,o);var E=u.match(K5e);E&&(a["!autofilter"]=u6e(E[0]));var x=[],k=u.match(z5e);if(k)for(g=0;g!=k.length;++g)x[g]=Dn(k[g].slice(k[g].indexOf('"')+1));var D=u.match(W5e);D&&s6e(a,D,r);var R=u.match(Y5e);if(R&&(a["!margins"]=o6e(Qt(R[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=tn(l)),t.sheetRows>0&&a["!ref"]){var _=Dn(a["!ref"]);t.sheetRows<=+_.e.r&&(_.e.r=t.sheetRows-1,_.e.r>l.e.r&&(_.e.r=l.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>l.e.c&&(_.e.c=l.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),a["!fullref"]=a["!ref"],a["!ref"]=tn(_))}return C.length>0&&(a["!cols"]=C),x.length>0&&(a["!merges"]=x),a}function J5e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+tn(e[n])+'"/>';return t+"</mergeCells>"}function HM(e,t,n,r){var i=Qt(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=kn(rr(i.codeName)))}function e6e(e,t,n,r,i){HM(e.slice(0,e.indexOf(">")),n,r,i)}function t6e(e,t,n,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,o.codeName=Rl(Qn(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+pt("outlinePr",null,c)}!s&&!a||(i[i.length]=pt("sheetPr",a,o))}var n6e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],r6e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function i6e(e){var t={sheet:1};return n6e.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),r6e.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=IM(e.password).toString(16).toUpperCase()),pt("sheetProtection",null,t)}function s6e(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=Qt(rr(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+kn(s.location))):(s.Target="#"+kn(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=Dn(s.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var u=qt({c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}function o6e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function a6e(e){return qh(e),pt("pageMargins",null,e)}function l6e(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=Qt(t[r],!0);i.hidden&&(i.hidden=dr(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,MM(i.width)),wd(i);s<=o;)e[s++]=mr(i)}}function c6e(e,t){for(var n=["<cols>"],r,i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=pt("col",null,lT(i,r)));return n[n.length]="</cols>",n.join("")}function u6e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function d6e(e,t,n,r){var i=typeof e.ref=="string"?e.ref:tn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=ro(i);o.s.r==o.e.r&&(o.e.r=ro(t["!ref"]).e.r,i=tn(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),pt("autoFilter",null,{ref:i})}var h6e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function f6e(e,t){t.Views||(t.Views=[{}]),(e.match(h6e)||[]).forEach(function(n,r){var i=Qt(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),dr(i.rightToLeft)&&(t.Views[r].RTL=!0)})}function p6e(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),pt("sheetViews",pt("sheetView",null,i),{})}function g6e(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=iu[e.v];break;case"d":r&&r.cellDates?i=gr(e.v,-1).toISOString():(e=mr(e),e.t="n",i=""+(e.v=wi(gr(e.v)))),typeof e.z>"u"&&(e.z=jt[14]);break;default:i=e.v;break}var a=Qi("v",Qn(i)),l={r:t},c=Ld(r.cellXfs,e,r);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=Qi("v",""+VM(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=pt("f",Qn(e.f),u)+(e.v!=null?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),pt("c",a,l)}var m6e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Ly("v"),o=Ly("f");return function(l,c,u,h,p,g){for(var v=0,y="",C=[],b=[],E=0,x=0,k=0,D="",R,_,I=0,F=0,N,B,M=0,L=0,H=Array.isArray(g.CellXf),ee,re=[],te=[],he=Array.isArray(c),Z=[],V={},X=!1,z=!!u.sheetStubs,G=l.split(t),Y=0,J=G.length;Y!=J;++Y){y=G[Y].trim();var pe=y.length;if(pe!==0){var He=0;e:for(v=0;v<pe;++v)switch(y[v]){case">":if(y[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(_=Qt(y.slice(He,v),!0),I=_.r!=null?parseInt(_.r,10):I+1,F=-1,u.sheetRows&&u.sheetRows<I)continue;V={},X=!1,_.ht&&(X=!0,V.hpt=parseFloat(_.ht),V.hpx=Jg(V.hpt)),_.hidden=="1"&&(X=!0,V.hidden=!0),_.outlineLevel!=null&&(X=!0,V.level=+_.outlineLevel),X&&(Z[I-1]=V)}break;case"<":He=v;break}if(He>=v)break;if(_=Qt(y.slice(He,v),!0),I=_.r!=null?parseInt(_.r,10):I+1,F=-1,!(u.sheetRows&&u.sheetRows<I)){h.s.r>I-1&&(h.s.r=I-1),h.e.r<I-1&&(h.e.r=I-1),u&&u.cellStyles&&(V={},X=!1,_.ht&&(X=!0,V.hpt=parseFloat(_.ht),V.hpx=Jg(V.hpt)),_.hidden=="1"&&(X=!0,V.hidden=!0),_.outlineLevel!=null&&(X=!0,V.level=+_.outlineLevel),X&&(Z[I-1]=V)),C=y.slice(v).split(e);for(var Re=0;Re!=C.length&&C[Re].trim().charAt(0)=="<";++Re);for(C=C.slice(Re),v=0;v!=C.length;++v)if(y=C[v].trim(),y.length!==0){if(b=y.match(n),E=v,x=0,k=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,b!=null&&b.length===2){for(E=0,D=b[1],x=0;x!=D.length&&!((k=D.charCodeAt(x)-64)<1||k>26);++x)E=26*E+k;--E,F=E}else++F;for(x=0;x!=y.length&&y.charCodeAt(x)!==62;++x);if(++x,_=Qt(y.slice(0,x),!0),_.r||(_.r=qt({r:I-1,c:F})),D=y.slice(x),R={t:""},(b=D.match(s))!=null&&b[1]!==""&&(R.v=kn(b[1])),u.cellFormula){if((b=D.match(o))!=null&&b[1]!==""){if(R.f=kn(rr(b[1])).replace(/\r\n/g,`
`),u.xlfn||(R.f=nG(R.f)),b[0].indexOf('t="array"')>-1)R.F=(D.match(i)||[])[1],R.F.indexOf(":")>-1&&re.push([Dn(R.F),R.F]);else if(b[0].indexOf('t="shared"')>-1){B=Qt(b[0]);var Te=kn(rr(b[1]));u.xlfn||(Te=nG(Te)),te[parseInt(B.si,10)]=[B,Te,_.r]}}else(b=D.match(/<f[^>]*\/>/))&&(B=Qt(b[0]),te[B.si]&&(R.f=hVe(te[B.si][1],te[B.si][2],_.r)));var De=Ar(_.r);for(x=0;x<re.length;++x)De.r>=re[x][0].s.r&&De.r<=re[x][0].e.r&&De.c>=re[x][0].s.c&&De.c<=re[x][0].e.c&&(R.F=re[x][1])}if(_.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(z)R.t="z";else continue;else R.t=_.t||"n";switch(h.s.c>F&&(h.s.c=F),h.e.c<F&&(h.e.c=F),R.t){case"n":if(R.v==""||R.v==null){if(!z)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!z)continue;R.t="z"}else N=Bv[parseInt(R.v,10)],R.v=N.t,R.r=N.r,u.cellHTML&&(R.h=N.h);break;case"str":R.t="s",R.v=R.v!=null?rr(R.v):"",u.cellHTML&&(R.h=yM(R.v));break;case"inlineStr":b=D.match(r),R.t="s",b!=null&&(N=FM(b[1]))?(R.v=N.t,u.cellHTML&&(R.h=N.h)):R.v="";break;case"b":R.v=dr(R.v);break;case"d":u.cellDates?R.v=gr(R.v,1):(R.v=wi(gr(R.v,1)),R.t="n");break;case"e":(!u||u.cellText!==!1)&&(R.w=R.v),R.v=tQ[R.v];break}if(M=L=0,ee=null,H&&_.s!==void 0&&(ee=g.CellXf[_.s],ee!=null&&(ee.numFmtId!=null&&(M=ee.numFmtId),u.cellStyles&&ee.fillId!=null&&(L=ee.fillId))),ZQ(R,M,L,u,p,g),u.cellDates&&H&&R.t=="n"&&xm(jt[M])&&(R.t="d",R.v=iT(R.v)),_.cm&&u.xlmeta){var et=(u.xlmeta.Cell||[])[+_.cm-1];et&&et.type=="XLDAPR"&&(R.D=!0)}if(he){var ue=Ar(_.r);c[ue.r]||(c[ue.r]=[]),c[ue.r][ue.c]=R}else c[_.r]=R}}}}Z.length>0&&(c["!rows"]=Z)}}();function v6e(e,t,n,r){var i=[],s=[],o=Dn(e["!ref"]),a="",l,c="",u=[],h=0,p=0,g=e["!rows"],v=Array.isArray(e),y={r:c},C,b=-1;for(p=o.s.c;p<=o.e.c;++p)u[p]=_r(p);for(h=o.s.r;h<=o.e.r;++h){for(s=[],c=Xr(h),p=o.s.c;p<=o.e.c;++p){l=u[p]+c;var E=v?(e[h]||[])[p]:e[l];E!==void 0&&(a=g6e(E,l,e,t))!=null&&s.push(a)}(s.length>0||g&&g[h])&&(y={r:c},g&&g[h]&&(C=g[h],C.hidden&&(y.hidden=1),b=-1,C.hpx?b=jy(C.hpx):C.hpt&&(b=C.hpt),b>-1&&(y.ht=b,y.customHeight=1),C.level&&(y.outlineLevel=C.level)),i[i.length]=pt("row",s.join(""),y))}if(g)for(;h<g.length;++h)g&&g[h]&&(y={r:h+1},C=g[h],C.hidden&&(y.hidden=1),b=-1,C.hpx?b=jy(C.hpx):C.hpt&&(b=C.hpt),b>-1&&(y.ht=b,y.customHeight=1),C.level&&(y.outlineLevel=C.level),i[i.length]=pt("row","",y));return i.join("")}function eZ(e,t,n,r){var i=[Qr,pt("worksheet",null,{xmlns:Hf[0],"xmlns:r":vi.r})],s=n.SheetNames[e],o=0,a="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Dn(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=tn(u)}r||(r={}),l["!comments"]=[];var h=[];t6e(l,n,e,t,i),i[i.length]=pt("dimension",null,{ref:c}),i[i.length]=p6e(l,t,e,n),t.sheetFormat&&(i[i.length]=pt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=c6e(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=v6e(l,t),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=i6e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=d6e(l["!autofilter"],l,n,e)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=J5e(l["!merges"]));var p=-1,g,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(y){y[1].Target&&(g={ref:y[0]},y[1].Target.charAt(0)!="#"&&(v=Xn(r,-1,Qn(y[1].Target).replace(/#.*$/,""),dn.HLINK),g["r:id"]="rId"+v),(p=y[1].Target.indexOf("#"))>-1&&(g.location=Qn(y[1].Target.slice(p+1))),y[1].Tooltip&&(g.tooltip=Qn(y[1].Tooltip)),i[i.length]=pt("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=a6e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Qi("ignoredErrors",pt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(v=Xn(r,-1,"../drawings/drawing"+(e+1)+".xml",dn.DRAW),i[i.length]=pt("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=h),l["!comments"].length>0&&(v=Xn(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",dn.VML),i[i.length]=pt("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function y6e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function w6e(e,t,n){var r=Ye(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=jy(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,p=-1,g=u<<10;g<u+1<<10;++g){c.c=g;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[qt(c)];v&&(h<0&&(h=g),p=g)}h<0||(++a,r.write_shift(4,h),r.write_shift(4,p))}var y=r.l;return r.l=l,r.write_shift(4,a),r.l=y,r.length>r.l?r.slice(0,r.l):r}function C6e(e,t,n,r){var i=w6e(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&ot(e,0,i)}var b6e=jf,x6e=Tm;function S6e(){}function E6e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=_Ne(e),n}function T6e(e,t,n){n==null&&(n=Ye(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return R1({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),XX(e,n),n.slice(0,n.l)}function R6e(e){var t=Ra(e);return[t]}function _6e(e,t,n){return n==null&&(n=Ye(8)),Gf(t,n)}function A6e(e){var t=Uf(e);return[t]}function k6e(e,t,n){return n==null&&(n=Ye(4)),zf(t,n)}function D6e(e){var t=Ra(e),n=e.read_shift(1);return[t,n,"b"]}function P6e(e,t,n){return n==null&&(n=Ye(9)),Gf(t,n),n.write_shift(1,e.v?1:0),n}function F6e(e){var t=Uf(e),n=e.read_shift(1);return[t,n,"b"]}function I6e(e,t,n){return n==null&&(n=Ye(5)),zf(t,n),n.write_shift(1,e.v?1:0),n}function M6e(e){var t=Ra(e),n=e.read_shift(1);return[t,n,"e"]}function O6e(e,t,n){return n==null&&(n=Ye(9)),Gf(t,n),n.write_shift(1,e.v),n}function N6e(e){var t=Uf(e),n=e.read_shift(1);return[t,n,"e"]}function L6e(e,t,n){return n==null&&(n=Ye(8)),zf(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function B6e(e){var t=Ra(e),n=e.read_shift(4);return[t,n,"s"]}function V6e(e,t,n){return n==null&&(n=Ye(12)),Gf(t,n),n.write_shift(4,t.v),n}function H6e(e){var t=Uf(e),n=e.read_shift(4);return[t,n,"s"]}function G6e(e,t,n){return n==null&&(n=Ye(8)),zf(t,n),n.write_shift(4,t.v),n}function U6e(e){var t=Ra(e),n=hs(e);return[t,n,"n"]}function z6e(e,t,n){return n==null&&(n=Ye(16)),Gf(t,n),vf(e.v,n),n}function tZ(e){var t=Uf(e),n=hs(e);return[t,n,"n"]}function j6e(e,t,n){return n==null&&(n=Ye(12)),zf(t,n),vf(e.v,n),n}function W6e(e){var t=Ra(e),n=_M(e);return[t,n,"n"]}function $6e(e,t,n){return n==null&&(n=Ye(12)),Gf(t,n),QX(e.v,n),n}function q6e(e){var t=Uf(e),n=_M(e);return[t,n,"n"]}function K6e(e,t,n){return n==null&&(n=Ye(8)),zf(t,n),QX(e.v,n),n}function Y6e(e){var t=Ra(e),n=EM(e);return[t,n,"is"]}function X6e(e){var t=Ra(e),n=ps(e);return[t,n,"str"]}function Q6e(e,t,n){return n==null&&(n=Ye(12+4*e.v.length)),Gf(t,n),Ii(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Z6e(e){var t=Uf(e),n=ps(e);return[t,n,"str"]}function J6e(e,t,n){return n==null&&(n=Ye(8+4*e.v.length)),zf(t,n),Ii(e.v,n),n.length>n.l?n.slice(0,n.l):n}function eHe(e,t,n){var r=e.l+t,i=Ra(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"b"];if(n.cellFormula){e.l+=2;var a=aT(e,r-e.l,n);o[3]=us(a,null,i,n.supbooks,n)}else e.l=r;return o}function tHe(e,t,n){var r=e.l+t,i=Ra(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"e"];if(n.cellFormula){e.l+=2;var a=aT(e,r-e.l,n);o[3]=us(a,null,i,n.supbooks,n)}else e.l=r;return o}function nHe(e,t,n){var r=e.l+t,i=Ra(e);i.r=n["!row"];var s=hs(e),o=[i,s,"n"];if(n.cellFormula){e.l+=2;var a=aT(e,r-e.l,n);o[3]=us(a,null,i,n.supbooks,n)}else e.l=r;return o}function rHe(e,t,n){var r=e.l+t,i=Ra(e);i.r=n["!row"];var s=ps(e),o=[i,s,"str"];if(n.cellFormula){e.l+=2;var a=aT(e,r-e.l,n);o[3]=us(a,null,i,n.supbooks,n)}else e.l=r;return o}var iHe=jf,sHe=Tm;function oHe(e,t){return t==null&&(t=Ye(4)),t.write_shift(4,e),t}function aHe(e,t){var n=e.l+t,r=jf(e),i=TM(e),s=ps(e),o=ps(e),a=ps(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function lHe(e,t){var n=Ye(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Tm({s:Ar(e[0]),e:Ar(e[0])},n),RM("rId"+t,n);var r=e[1].Target.indexOf("#"),i=r==-1?"":e[1].Target.slice(r+1);return Ii(i||"",n),Ii(e[1].Tooltip||"",n),Ii("",n),n.slice(0,n.l)}function cHe(){}function uHe(e,t,n){var r=e.l+t,i=ZX(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=M5e(e,r-e.l,n);o[1]=a}else e.l=r;return o}function dHe(e,t,n){var r=e.l+t,i=jf(e),s=[i];if(n.cellFormula){var o=N5e(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}function hHe(e,t,n){n==null&&(n=Ye(18));var r=lT(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var nZ=["left","right","top","bottom","header","footer"];function fHe(e){var t={};return nZ.forEach(function(n){t[n]=hs(e)}),t}function pHe(e,t){return t==null&&(t=Ye(48)),qh(e),nZ.forEach(function(n){vf(e[n],t)}),t}function gHe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function mHe(e,t,n){n==null&&(n=Ye(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function vHe(e){var t=Ye(24);return t.write_shift(4,4),t.write_shift(4,1),Tm(e,t),t}function yHe(e,t){return t==null&&(t=Ye(66)),t.write_shift(2,e.password?IM(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function wHe(){}function CHe(){}function bHe(e,t,n,r,i,s,o){if(!e)return e;var a=t||{};r||(r={"!id":{}});var l=a.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,p=!1,g,v,y,C,b,E,x,k,D,R=[];a.biff=12,a["!row"]=0;var _=0,I=!1,F=[],N={},B=a.supbooks||i.supbooks||[[]];if(B.sharedf=N,B.arrayf=F,B.SheetNames=i.SheetNames||i.Sheets.map(function(he){return he.name}),!a.supbooks&&(a.supbooks=B,i.Names))for(var M=0;M<i.Names.length;++M)B[0][M+1]=i.Names[M];var L=[],H=[],ee=!1;Wy[16]={n:"BrtShortReal",f:tZ};var re;if(ru(e,function(Z,V,X){if(!p)switch(X){case 148:c=Z;break;case 0:g=Z,a.sheetRows&&a.sheetRows<=g.r&&(p=!0),k=Xr(C=g.r),a["!row"]=g.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=Jg(Z.hpt)),H[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:Z[2]},Z[2]){case"n":v.v=Z[1];break;case"s":x=Bv[Z[1]],v.v=x.t,v.r=x.r;break;case"b":v.v=!!Z[1];break;case"e":v.v=Z[1],a.cellText!==!1&&(v.w=iu[v.v]);break;case"str":v.t="s",v.v=Z[1];break;case"is":v.t="s",v.v=Z[1].t;break}if((y=o.CellXf[Z[0].iStyleRef])&&ZQ(v,y.numFmtId,null,a,s,o),b=Z[0].c==-1?b+1:Z[0].c,a.dense?(l[C]||(l[C]=[]),l[C][b]=v):l[_r(b)+k]=v,a.cellFormula){for(I=!1,_=0;_<F.length;++_){var z=F[_];g.r>=z[0].s.r&&g.r<=z[0].e.r&&b>=z[0].s.c&&b<=z[0].e.c&&(v.F=tn(z[0]),I=!0)}!I&&Z.length>3&&(v.f=Z[3])}if(u.s.r>g.r&&(u.s.r=g.r),u.s.c>b&&(u.s.c=b),u.e.r<g.r&&(u.e.r=g.r),u.e.c<b&&(u.e.c=b),a.cellDates&&y&&v.t=="n"&&xm(jt[y.numFmtId])){var G=Ah(v.v);G&&(v.t="d",v.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}re&&(re.type=="XLDAPR"&&(v.D=!0),re=void 0);break;case 1:case 12:if(!a.sheetStubs||h)break;v={t:"z",v:void 0},b=Z[0].c==-1?b+1:Z[0].c,a.dense?(l[C]||(l[C]=[]),l[C][b]=v):l[_r(b)+k]=v,u.s.r>g.r&&(u.s.r=g.r),u.s.c>b&&(u.s.c=b),u.e.r<g.r&&(u.e.r=g.r),u.e.c<b&&(u.e.c=b),re&&(re.type=="XLDAPR"&&(v.D=!0),re=void 0);break;case 176:R.push(Z);break;case 49:re=((a.xlmeta||{}).Cell||[])[Z-1];break;case 494:var Y=r["!id"][Z.relId];for(Y?(Z.Target=Y.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=Y):Z.relId==""&&(Z.Target="#"+Z.loc),C=Z.rfx.s.r;C<=Z.rfx.e.r;++C)for(b=Z.rfx.s.c;b<=Z.rfx.e.c;++b)a.dense?(l[C]||(l[C]=[]),l[C][b]||(l[C][b]={t:"z",v:void 0}),l[C][b].l=Z):(E=qt({c:b,r:C}),l[E]||(l[E]={t:"z",v:void 0}),l[E].l=Z);break;case 426:if(!a.cellFormula)break;F.push(Z),D=a.dense?l[C][b]:l[_r(b)+k],D.f=us(Z[1],u,{r:g.r,c:b},B,a),D.F=tn(Z[0]);break;case 427:if(!a.cellFormula)break;N[qt(Z[0].s)]=Z[1],D=a.dense?l[C][b]:l[_r(b)+k],D.f=us(Z[1],u,{r:g.r,c:b},B,a);break;case 60:if(!a.cellStyles)break;for(;Z.e>=Z.s;)L[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},ee||(ee=!0,MM(Z.w/256)),wd(L[Z.e+1]);break;case 161:l["!autofilter"]={ref:tn(Z)};break;case 476:l["!margins"]=Z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),Z.name&&(i.Sheets[n].CodeName=Z.name),(Z.above||Z.left)&&(l["!outline"]={above:Z.above,left:Z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!V.T){if(!h||a.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=tn(c||u)),a.sheetRows&&l["!ref"]){var te=Dn(l["!ref"]);a.sheetRows<=+te.e.r&&(te.e.r=a.sheetRows-1,te.e.r>u.e.r&&(te.e.r=u.e.r),te.e.r<te.s.r&&(te.s.r=te.e.r),te.e.c>u.e.c&&(te.e.c=u.e.c),te.e.c<te.s.c&&(te.s.c=te.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tn(te))}return R.length>0&&(l["!merges"]=R),L.length>0&&(l["!cols"]=L),H.length>0&&(l["!rows"]=H),l}function xHe(e,t,n,r,i,s,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=mr(t),t.z=t.z||jt[14],t.v=wi(gr(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r:n,c:r};switch(l.s=Ld(i.cellXfs,t,i),t.l&&s["!links"].push([qt(l),t.l]),t.c&&s["!comments"].push([qt(l),t.c]),t.t){case"s":case"str":return i.bookSST?(a=VM(i.Strings,t.v,i.revStrings),l.t="s",l.v=a,o?ot(e,18,G6e(t,l)):ot(e,7,V6e(t,l))):(l.t="str",o?ot(e,17,J6e(t,l)):ot(e,6,Q6e(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?ot(e,13,K6e(t,l)):ot(e,2,$6e(t,l)):o?ot(e,16,j6e(t,l)):ot(e,5,z6e(t,l)),!0;case"b":return l.t="b",o?ot(e,15,I6e(t,l)):ot(e,4,P6e(t,l)),!0;case"e":return l.t="e",o?ot(e,14,L6e(t,l)):ot(e,3,O6e(t,l)),!0}return o?ot(e,12,k6e(t,l)):ot(e,1,_6e(t,l)),!0}function SHe(e,t,n,r){var i=Dn(t["!ref"]||"A1"),s,o="",a=[];ot(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){o=Xr(u),C6e(e,t,i,u);var h=!1;if(u<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){u===i.s.r&&(a[p]=_r(p)),s=a[p]+o;var g=l?(t[u]||[])[p]:t[s];if(!g){h=!1;continue}h=xHe(e,g,u,p,r,t,h)}}ot(e,146)}function EHe(e,t){!t||!t["!merges"]||(ot(e,177,oHe(t["!merges"].length)),t["!merges"].forEach(function(n){ot(e,176,sHe(n))}),ot(e,178))}function THe(e,t){!t||!t["!cols"]||(ot(e,390),t["!cols"].forEach(function(n,r){n&&ot(e,60,hHe(r,n))}),ot(e,391))}function RHe(e,t){!t||!t["!ref"]||(ot(e,648),ot(e,649,vHe(Dn(t["!ref"]))),ot(e,650))}function _He(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var i=Xn(n,-1,r[1].Target.replace(/#.*$/,""),dn.HLINK);ot(e,494,lHe(r,i))}}),delete t["!links"]}function AHe(e,t,n,r){if(t["!comments"].length>0){var i=Xn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",dn.VML);ot(e,551,RM("rId"+i)),t["!legacy"]=i}}function kHe(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:tn(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=ro(s);a.s.r==a.e.r&&(a.e.r=ro(t["!ref"]).e.r,s=tn(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),ot(e,161,Tm(Dn(s))),ot(e,162)}}function DHe(e,t,n){ot(e,133),ot(e,137,mHe(t,n)),ot(e,138),ot(e,134)}function PHe(e,t){t["!protect"]&&ot(e,535,yHe(t["!protect"]))}function FHe(e,t,n,r){var i=Zs(),s=n.SheetNames[e],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch{}var l=Dn(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ot(i,129),(n.vbaraw||o["!outline"])&&ot(i,147,T6e(a,o["!outline"])),ot(i,148,x6e(l)),DHe(i,o,n.Workbook),THe(i,o),SHe(i,o,e,t),PHe(i,o),kHe(i,o,n,e),EHe(i,o),_He(i,o,r),o["!margins"]&&ot(i,476,pHe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&RHe(i,o),AHe(i,o,e,r),ot(i,130),i.end()}function IHe(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var i=kn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function MHe(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var a=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var p=IHe(h);u.s.r=u.s.c=0,u.e.c=a,c=_r(a),p[0].forEach(function(g,v){o[c+Xr(v)]={t:"n",v:g,z:p[1]},l=v}),u.e.r<l&&(u.e.r=l),++a}),a>0&&(o["!ref"]=tn(u)),o}function OHe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,a=e.match(JQ);return a&&HM(a[0],s,i,n),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function NHe(e,t){e.l+=10;var n=ps(e);return{name:n}}function LHe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return ru(e,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var GM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],BHe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],VHe=[],HHe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function aG(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=dr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function lG(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=dr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function rZ(e){lG(e.WBProps,GM),lG(e.CalcPr,HHe),aG(e.WBView,BHe),aG(e.Sheets,VHe),Tg.date1904=dr(e.WBProps.date1904)}function GHe(e){return!e.Workbook||!e.Workbook.WBProps?"false":dr(e.Workbook.WBProps.date1904)?"true":"false"}var UHe="][*?/\\".split("");function iZ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return UHe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function zHe(e,t,n){e.forEach(function(r,i){iZ(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function jHe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];zHe(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)G5e(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var WHe=/<\w+:workbook/;function $He(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(ws,function(l,c){var u=Qt(l);switch(Jl(u[0])){case"<?xml":break;case"<workbook":l.match(WHe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":GM.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=dr(u[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:n.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(n.WBProps.CodeName=rr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=kn(rr(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=rr(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),dr(u.hidden||"0")&&(s.Hidden=!0),o=c+l.length;break;case"</definedName>":s.Ref=kn(rr(e.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Hf.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return rZ(n),n}function sZ(e){var t=[Qr];t[t.length]=pt("workbook",null,{xmlns:Hf[0],"xmlns:r":vi.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(GM.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=pt("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Qn(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=pt("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=pt("definedName",Qn(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function qHe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=uP(e),n.name=ps(e),n}function KHe(e,t){return t||(t=Ye(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),RM(e.strRelID,t),Ii(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function YHe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?ps(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function XHe(e,t){t||(t=Ye(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),XX(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function QHe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function ZHe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=ANe(e),o=O5e(e,0,n),a=TM(e);e.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function JHe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Wy[16]={n:"BrtFRTArchID$",f:QHe},ru(e,function(l,c,u){switch(u){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=us(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,l]):o[0]=[u,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),rZ(n),n.Names=s,n.supbooks=o,n}function eGe(e,t){ot(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};ot(e,156,KHe(i))}ot(e,144)}function tGe(e,t){t||(t=Ye(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return Ii("SheetJS",t),Ii(w1.version,t),Ii(w1.version,t),Ii("7262",t),t.length>t.l?t.slice(0,t.l):t}function nGe(e,t){t||(t=Ye(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function rGe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(ot(e,135),ot(e,158,nGe(i)),ot(e,136))}}function iGe(e,t){var n=Zs();return ot(n,131),ot(n,128,tGe()),ot(n,153,XHe(e.Workbook&&e.Workbook.WBProps||null)),rGe(n,e),eGe(n,e),ot(n,132),n.end()}function sGe(e,t,n){return t.slice(-4)===".bin"?JHe(e,n):$He(e,n)}function oGe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?bHe(e,r,n,i,s,o,a):Z5e(e,r,n,i,s,o,a)}function aGe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?LHe(e,r,n,i,s):OHe(e,r,n,i,s)}function lGe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?uVe():dVe()}function cGe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?lVe():cVe()}function uGe(e,t,n,r){return t.slice(-4)===".bin"?s3e(e,n,r):qBe(e,n,r)}function dGe(e,t,n){return VQ(e,n)}function hGe(e,t,n){return t.slice(-4)===".bin"?hBe(e,n):cBe(e,n)}function fGe(e,t,n){return t.slice(-4)===".bin"?rVe(e,n):K3e(e,n)}function pGe(e,t,n){return t.slice(-4)===".bin"?W3e(e):z3e(e)}function gGe(e,t,n,r){return n.slice(-4)===".bin"?$3e(e,t,n,r):void 0}function mGe(e,t,n){return t.slice(-4)===".bin"?H3e(e,t,n):U3e(e,t,n)}function vGe(e,t,n){return(t.slice(-4)===".bin"?iGe:sZ)(e)}function yGe(e,t,n,r,i){return(t.slice(-4)===".bin"?FHe:eZ)(e,n,r,i)}function wGe(e,t,n){return(t.slice(-4)===".bin"?g3e:LQ)(e,n)}function CGe(e,t,n){return(t.slice(-4)===".bin"?gBe:kQ)(e,n)}function bGe(e,t,n){return(t.slice(-4)===".bin"?iVe:UQ)(e)}function xGe(e){return(e.slice(-4)===".bin"?G3e:HQ)()}var oZ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,aZ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Fa(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(oZ),s,o,a,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(aZ),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(o+1),r[a]=s[2].slice(1,s[2].length-1));return r}function SGe(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(oZ),i,s,o,a;if(r)for(a=0;a!=r.length;++a)i=r[a].match(aZ),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Hv;function EGe(e,t){var n=Hv[e]||kn(e);return n==="General"?gf(t):Sa(n,t)}function TGe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=dr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=gr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[kn(t)]=i}function RGe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||iu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ny(e.v):e.w=gf(e.v):e.w=EGe(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=Hv[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&xm(r)){var i=Ah(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function _Ge(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=VBe[r.Pattern]||r.Pattern)}e[t.ID]=t}function AGe(e,t,n,r,i,s,o,a,l,c){var u="General",h=r.StyleID,p={};c=c||{};var g=[],v=0;for(h===void 0&&a&&(h=a.StyleID),h===void 0&&o&&(h=o.StyleID);s[h]!==void 0&&(s[h].nf&&(u=s[h].nf),s[h].Interior&&g.push(s[h].Interior),!!s[h].Parent);)h=s[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=dr(e);break;case"String":r.t="s",r.r=TH(kn(e)),r.v=e.indexOf("<")>-1?kn(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(gr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=kn(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=tQ[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=TH(t||e));break}if(RGe(r,u,c),c.cellFormula!==!1)if(r.Formula){var y=kn(r.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),r.f=Eg(y,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Eg("RC:RC",i):r.ArrayRange&&(r.F=Eg(r.ArrayRange,i),l.push([Dn(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(g.forEach(function(C){!p.patternType&&C.patternType&&(p.patternType=C.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function kGe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function GA(e,t){var n=t||{};Sm();var r=fv(wM(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=rr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=mr(n);return o.type="string",Zg.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(oe){i.indexOf("<"+oe)>=0&&(s=!0)}),s)return p8e(r,n);Hv={"General Number":"General","General Date":jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jt[15],"Short Date":jt[14],"Long Time":jt[19],"Medium Time":jt[18],"Short Time":jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jt[2],Standard:jt[4],Percent:jt[10],Scientific:jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c,u={},h=[],p=n.dense?[]:{},g="",v={},y={},C=Fa('<Data ss:Type="String">'),b=0,E=0,x=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},R={},_="",I=0,F=[],N={},B={},M=0,L=[],H=[],ee={},re=[],te,he=!1,Z=[],V=[],X={},z=0,G=0,Y={Sheets:[],WBProps:{date1904:!1}},J={};Vy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var pe="";a=Vy.exec(r);)switch(a[3]=(pe=a[3]).toLowerCase()){case"data":if(pe=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?AGe(r.slice(b,a.index),_,C,l[l.length-1][0]=="comment"?ee:v,{c:E,r:x},D,re[E],y,Z,n):(_="",C=Fa(a[0]),b=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(H.length>0&&(v.c=H),(!n.sheetRows||n.sheetRows>x)&&v.v!==void 0&&(n.dense?(p[x]||(p[x]=[]),p[x][E]=v):p[_r(E)+Xr(x)]=v),v.HRef&&(v.l={Target:kn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(z=E+(parseInt(v.MergeAcross,10)|0),G=x+(parseInt(v.MergeDown,10)|0),F.push({s:{c:E,r:x},e:{c:z,r:G}})),!n.sheetStubs)v.MergeAcross?E=z+1:++E;else if(v.MergeAcross||v.MergeDown){for(var He=E;He<=z;++He)for(var Re=x;Re<=G;++Re)(He>E||Re>x)&&(n.dense?(p[Re]||(p[Re]=[]),p[Re][He]={t:"z"}):p[_r(He)+Xr(Re)]={t:"z"});E=z+1}else++E;else v=SGe(a[0]),v.Index&&(E=+v.Index-1),E<k.s.c&&(k.s.c=E),E>k.e.c&&(k.e.c=E),a[0].slice(-2)==="/>"&&++E,H=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(x<k.s.r&&(k.s.r=x),x>k.e.r&&(k.e.r=x),a[0].slice(-2)==="/>"&&(y=Fa(a[0]),y.Index&&(x=+y.Index-1)),E=0,++x):(y=Fa(a[0]),y.Index&&(x=+y.Index-1),X={},(y.AutoFitHeight=="0"||y.Height)&&(X.hpx=parseInt(y.Height,10),X.hpt=jy(X.hpx),V[x]=X),y.Hidden=="1"&&(X.hidden=!0,V[x]=X));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));h.push(g),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(p["!ref"]=tn(k),n.sheetRows&&n.sheetRows<=k.e.r&&(p["!fullref"]=p["!ref"],k.e.r=n.sheetRows-1,p["!ref"]=tn(k))),F.length&&(p["!merges"]=F),re.length>0&&(p["!cols"]=re),V.length>0&&(p["!rows"]=V),u[g]=p}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=E=0,l.push([a[3],!1]),c=Fa(a[0]),g=kn(c.Name),p=n.dense?[]:{},F=[],Z=[],V=[],J={name:g,Hidden:0},Y.Sheets.push(J);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),re=[],he=!1}break;case"style":a[1]==="/"?_Ge(D,R,n):R=Fa(a[0]);break;case"numberformat":R.nf=kn(Fa(a[0]).Format||"General"),Hv[R.nf]&&(R.nf=Hv[R.nf]);for(var Te=0;Te!=392&&jt[Te]!=R.nf;++Te);if(Te==392){for(Te=57;Te!=392;++Te)if(jt[Te]==null){Lc(R.nf,Te);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(te=Fa(a[0]),te.Hidden&&(te.hidden=!0,delete te.Hidden),te.Width&&(te.wpx=parseInt(te.Width,10)),!he&&te.wpx>10){he=!0,ds=OQ;for(var De=0;De<re.length;++De)re[De]&&wd(re[De])}he&&wd(te),re[te.Index-1||re.length]=te;for(var et=0;et<+te.Span;++et)re[re.length]=mr(te);break;case"namedrange":if(a[1]==="/")break;Y.Names||(Y.Names=[]);var ue=Qt(a[0]),St={Name:ue.Name,Ref:Eg(ue.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(St.Sheet=Y.Sheets.length-1),Y.Names.push(St);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?_+=r.slice(I,a.index):I=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=Fa(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?JNe(N,pe,r.slice(M,a.index)):M=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));kGe(ee),H.push(ee)}else l.push([a[3],!1]),c=Fa(a[0]),ee={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var j=Fa(a[0]);p["!autofilter"]={ref:Eg(j.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return fG(r,n);var Ce=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ce=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ce=!1}break;case"excelworkbook":switch(a[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ce=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Ce=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(r.slice(M,a.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else M=a.index+a[0].length;break;case"header":p["!margins"]||qh(p["!margins"]={},"xlml"),isNaN(+Qt(a[0]).Margin)||(p["!margins"].header=+Qt(a[0]).Margin);break;case"footer":p["!margins"]||qh(p["!margins"]={},"xlml"),isNaN(+Qt(a[0]).Margin)||(p["!margins"].footer=+Qt(a[0]).Margin);break;case"pagemargins":var ye=Qt(a[0]);p["!margins"]||qh(p["!margins"]={},"xlml"),isNaN(+ye.Top)||(p["!margins"].top=+ye.Top),isNaN(+ye.Left)||(p["!margins"].left=+ye.Left),isNaN(+ye.Right)||(p["!margins"].right=+ye.Right),isNaN(+ye.Bottom)||(p["!margins"].bottom=+ye.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ce=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ce=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ce=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ce=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ce=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ce=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ce=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ce=!1}break;case"smarttags":break;default:Ce=!1;break}if(Ce||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?TGe(B,pe,L,r.slice(M,a.index)):(L=a,M=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var Q={};return!n.bookSheets&&!n.bookProps&&(Q.Sheets=u),Q.SheetNames=h,Q.Workbook=Y,Q.SSF=mr(jt),Q.Props=N,Q.Custprops=B,Q}function vP(e,t){switch(zM(t=t||{}),t.type||"base64"){case"base64":return GA(Mo(e),t);case"binary":case"buffer":case"file":return GA(e,t);case"array":return GA(Od(e),t)}}function DGe(e,t){var n=[];return e.Props&&n.push(eLe(e.Props,t)),e.Custprops&&n.push(tLe(e.Props,e.Custprops)),n.join("")}function PGe(){return""}function FGe(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var s=[];s.push(pt("NumberFormat",null,{"ss:Format":Qn(jt[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(pt("Style",s.join(""),o))}),pt("Styles",n.join(""))}function lZ(e){return pt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+LM(e.Ref,{r:0,c:0})})}function IGe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(lZ(i)))}return pt("Names",n.join(""))}function MGe(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(lZ(a)))}return s.join("")}function OGe(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(pt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(pt("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(pt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(pt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Qi("ProtectContents","True")),e["!protect"].objects&&i.push(Qi("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Qi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Qi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Qi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":pt("WorksheetOptions",i.join(""),{xmlns:mo.x})}function NGe(e){return e.map(function(t){var n=rNe(t.t||""),r=pt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return pt("Comment",r,{"ss:Author":t.a})}).join("")}function LGe(e,t,n,r,i,s,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+Qn(LM(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=Ar(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=Qn(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=Qn(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=o.c||c[u].s.r!=o.r||(c[u].e.c>c[u].s.c&&(a["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(a["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",p="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",p=String(e.v);break;case"b":h="Boolean",p=e.v?"1":"0";break;case"e":h="Error",p=iu[e.v];break;case"d":h="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||jt[14]);break;case"s":h="String",p=nNe(e.v||"");break}var g=Ld(r.cellXfs,e,r);a["ss:StyleID"]="s"+(21+g),a["ss:Index"]=o.c+1;var v=e.v!=null?p:"",y=e.t=="z"?"":'<Data ss:Type="'+h+'">'+v+"</Data>";return(e.c||[]).length>0&&(y+=NGe(e.c)),pt("Cell",y,a)}function BGe(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Jg(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function VGe(e,t,n,r){if(!e["!ref"])return"";var i=Dn(e["!ref"]),s=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(C,b){wd(C);var E=!!C.width,x=lT(b,C),k={"ss:Index":b+1};E&&(k["ss:Width"]=Uy(x.width)),C.hidden&&(k["ss:Hidden"]="1"),a.push(pt("Column",null,k))});for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var u=[BGe(c,(e["!rows"]||[])[c])],h=i.s.c;h<=i.e.c;++h){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>h)&&!(s[o].s.r>c)&&!(s[o].e.c<h)&&!(s[o].e.r<c)){(s[o].s.c!=h||s[o].s.r!=c)&&(p=!0);break}if(!p){var g={r:c,c:h},v=qt(g),y=l?(e[c]||[])[h]:e[v];u.push(LGe(y,v,e,t,n,r,g))}}u.push("</Row>"),u.length>2&&a.push(u.join(""))}return a.join("")}function HGe(e,t,n){var r=[],i=n.SheetNames[e],s=n.Sheets[i],o=s?MGe(s,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?VGe(s,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(OGe(s,t,e,n)),r.join("")}function GGe(e,t){t||(t={}),e.SSF||(e.SSF=mr(jt)),e.SSF&&(Sm(),tT(e.SSF),t.revssf=rT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ld(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(DGe(e,t)),n.push(PGe()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(pt("Worksheet",HGe(r,t,e),{"ss:Name":Qn(e.SheetNames[r])}));return n[2]=FGe(e,t),n[3]=IGe(e),Qr+pt("Workbook",n.join(""),{xmlns:mo.ss,"xmlns:o":mo.o,"xmlns:x":mo.x,"xmlns:ss":mo.ss,"xmlns:dt":mo.dt,"xmlns:html":mo.html})}function UGe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=INe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=MNe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var zGe=[60,1084,2066,2165,2175];function jGe(e,t,n,r,i){var s=r,o=[],a=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(a)}o.push(a),n.l+=s;for(var l=Ac(n,n.l),c=yP[l],u=0;c!=null&&zGe.indexOf(l)>-1;)s=Ac(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),a=n.slice(u,n.l+4+s),o.push(a),n.l+=4+s,c=yP[l=Ac(n,n.l)];var h=Fi(o);Ki(h,0);var p=0;h.lens=[];for(var g=0;g<o.length;++g)h.lens.push(p),p+=o[g].length;if(h.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+r;return t.f(h,h.length,i)}function hl(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=jt[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||iu[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ny(e.v):e.w=gf(e.v):e.w=Sa(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&xm(jt[r]||String(r))){var i=Ah(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function gx(e,t,n){return{v:e,ixfe:t,t:n}}function WGe(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},o={},a=null,l=[],c="",u={},h,p="",g,v,y,C,b={},E=[],x,k,D=[],R=[],_={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},F=function(bt){return bt<8?jh[bt]:bt<64&&R[bt-8]||jh[bt]},N=function(bt,It,fn){var Dt=It.XF.data;if(!(!Dt||!Dt.patternType||!fn||!fn.cellStyles)){It.s={},It.s.patternType=Dt.patternType;var $n;($n=Gy(F(Dt.icvFore)))&&(It.s.fgColor={rgb:$n}),($n=Gy(F(Dt.icvBack)))&&(It.s.bgColor={rgb:$n})}},B=function(bt,It,fn){if(!(X>1)&&!(fn.sheetRows&&bt.r>=fn.sheetRows)){if(fn.cellStyles&&It.XF&&It.XF.data&&N(bt,It,fn),delete It.ixfe,delete It.XF,h=bt,p=qt(bt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),bt.r<o.s.r&&(o.s.r=bt.r),bt.c<o.s.c&&(o.s.c=bt.c),bt.r+1>o.e.r&&(o.e.r=bt.r+1),bt.c+1>o.e.c&&(o.e.c=bt.c+1),fn.cellFormula&&It.f){for(var Dt=0;Dt<E.length;++Dt)if(!(E[Dt][0].s.c>bt.c||E[Dt][0].s.r>bt.r)&&!(E[Dt][0].e.c<bt.c||E[Dt][0].e.r<bt.r)){It.F=tn(E[Dt][0]),(E[Dt][0].s.c!=bt.c||E[Dt][0].s.r!=bt.r)&&delete It.f,It.f&&(It.f=""+us(E[Dt][1],o,bt,Z,M));break}}fn.dense?(i[bt.r]||(i[bt.r]=[]),i[bt.r][bt.c]=It):i[p]=It}},M={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(M.password=t.password);var L,H=[],ee=[],re=[],te=[],he=!1,Z=[];Z.SheetNames=M.snames,Z.sharedf=M.sharedf,Z.arrayf=M.arrayf,Z.names=[],Z.XTI=[];var V=0,X=0,z=0,G=[],Y=[],J;M.codepage=1200,Ba(1200);for(var pe=!1;e.l<e.length-1;){var He=e.l,Re=e.read_shift(2);if(Re===0&&V===10)break;var Te=e.l===e.length?0:e.read_shift(2),De=yP[Re];if(De&&De.f){if(t.bookSheets&&V===133&&Re!==133)break;if(V=Re,De.r===2||De.r==12){var et=e.read_shift(2);if(Te-=2,!M.enc&&et!==Re&&((et&255)<<8|et>>8)!==Re)throw new Error("rt mismatch: "+et+"!="+Re);De.r==12&&(e.l+=10,Te-=10)}var ue={};if(Re===10?ue=De.f(e,Te,M):ue=jGe(Re,De,e,Te,M),X==0&&[9,521,1033,2057].indexOf(V)===-1)continue;switch(Re){case 34:n.opts.Date1904=_.WBProps.date1904=ue;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(M.enc||(e.l=0),M.enc=ue,!t.password)throw new Error("File is password-protected");if(ue.valid==null)throw new Error("Encryption scheme unsupported");if(!ue.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=ue;break;case 66:var St=Number(ue);switch(St){case 21010:St=1200;break;case 32768:St=1e4;break;case 32769:St=1252;break}Ba(M.codepage=St),pe=!0;break;case 317:M.rrtabid=ue;break;case 25:M.winlocked=ue;break;case 439:n.opts.RefreshAll=ue;break;case 12:n.opts.CalcCount=ue;break;case 16:n.opts.CalcDelta=ue;break;case 17:n.opts.CalcIter=ue;break;case 13:n.opts.CalcMode=ue;break;case 14:n.opts.CalcPrecision=ue;break;case 95:n.opts.CalcSaveRecalc=ue;break;case 15:M.CalcRefMode=ue;break;case 2211:n.opts.FullCalc=ue;break;case 129:ue.fDialog&&(i["!type"]="dialog"),ue.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ue.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(ue);break;case 430:Z.push([ue]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(ue);break;case 24:case 536:J={Name:ue.Name,Ref:us(ue.rgce,o,null,Z,M)},ue.itab>0&&(J.Sheet=ue.itab-1),Z.names.push(J),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(ue),ue.Name=="_xlnm._FilterDatabase"&&ue.itab>0&&ue.rgce&&ue.rgce[0]&&ue.rgce[0][0]&&ue.rgce[0][0][0]=="PtgArea3d"&&(Y[ue.itab-1]={ref:tn(ue.rgce[0][0][1][2])});break;case 22:M.ExternCount=ue;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(ue),Z.XTI=Z.XTI.concat(ue);break;case 2196:if(M.biff<8)break;J!=null&&(J.Comment=ue[1]);break;case 18:i["!protect"]=ue;break;case 19:ue!==0&&M.WTF&&console.error("Password verifier: "+ue);break;case 133:s[ue.pos]=ue,M.snames.push(ue.name);break;case 10:{if(--X)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=tn(o),t.sheetRows&&t.sheetRows<=o.e.r){var j=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=tn(o),o.e.r=j}o.e.r++,o.e.c++}H.length>0&&(i["!merges"]=H),ee.length>0&&(i["!objects"]=ee),re.length>0&&(i["!cols"]=re),te.length>0&&(i["!rows"]=te),_.Sheets.push(I)}c===""?u=i:r[c]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[Re]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ue.BIFFVer]||8),M.biffguess=ue.BIFFVer==0,ue.BIFFVer==0&&ue.dt==4096&&(M.biff=5,pe=!0,Ba(M.codepage=28591)),M.biff==8&&ue.BIFFVer==0&&ue.dt==16&&(M.biff=2),X++)break;if(i=t.dense?[]:{},M.biff<8&&!pe&&(pe=!0,Ba(M.codepage=t.codepage||1252)),M.biff<5||ue.BIFFVer==0&&ue.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ce={pos:e.l-Te,name:c};s[Ce.pos]=Ce,M.snames.push(c)}else c=(s[He]||{name:""}).name;ue.dt==32&&(i["!type"]="chart"),ue.dt==64&&(i["!type"]="macro"),H=[],ee=[],M.arrayf=E=[],re=[],te=[],he=!1,I={Hidden:(s[He]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[ue.r]||[])[ue.c]:i[qt({c:ue.c,r:ue.r})])&&++ue.c,x={ixfe:ue.ixfe,XF:D[ue.ixfe]||{},v:ue.val,t:"n"},z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:ue.c,r:ue.r},x,t);break;case 5:case 517:x={ixfe:ue.ixfe,XF:D[ue.ixfe],v:ue.val,t:ue.t},z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:ue.c,r:ue.r},x,t);break;case 638:x={ixfe:ue.ixfe,XF:D[ue.ixfe],v:ue.rknum,t:"n"},z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:ue.c,r:ue.r},x,t);break;case 189:for(var ye=ue.c;ye<=ue.C;++ye){var Q=ue.rkrec[ye-ue.c][0];x={ixfe:Q,XF:D[Q],v:ue.rkrec[ye-ue.c][1],t:"n"},z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:ye,r:ue.r},x,t)}break;case 6:case 518:case 1030:{if(ue.val=="String"){a=ue;break}if(x=gx(ue.val,ue.cell.ixfe,ue.tt),x.XF=D[x.ixfe],t.cellFormula){var oe=ue.formula;if(oe&&oe[0]&&oe[0][0]&&oe[0][0][0]=="PtgExp"){var ve=oe[0][0][1][0],Fe=oe[0][0][1][1],Ue=qt({r:ve,c:Fe});b[Ue]?x.f=""+us(ue.formula,o,ue.cell,Z,M):x.F=((t.dense?(i[ve]||[])[Fe]:i[Ue])||{}).F}else x.f=""+us(ue.formula,o,ue.cell,Z,M)}z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B(ue.cell,x,t),a=ue}break;case 7:case 519:if(a)a.val=ue,x=gx(ue,a.cell.ixfe,"s"),x.XF=D[x.ixfe],t.cellFormula&&(x.f=""+us(a.formula,o,a.cell,Z,M)),z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B(a.cell,x,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(ue);var xe=qt(ue[0].s);if(g=t.dense?(i[ue[0].s.r]||[])[ue[0].s.c]:i[xe],t.cellFormula&&g){if(!a||!xe||!g)break;g.f=""+us(ue[1],o,ue[0],Z,M),g.F=tn(ue[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!a)break;b[qt(a.cell)]=ue[0],g=t.dense?(i[a.cell.r]||[])[a.cell.c]:i[qt(a.cell)],(g||{}).f=""+us(ue[0],o,h,Z,M)}}break;case 253:x=gx(l[ue.isst].t,ue.ixfe,"s"),l[ue.isst].h&&(x.h=l[ue.isst].h),x.XF=D[x.ixfe],z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:ue.c,r:ue.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:ue.ixfe,XF:D[ue.ixfe],t:"z"},z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:ue.c,r:ue.r},x,t));break;case 190:if(t.sheetStubs)for(var Ke=ue.c;Ke<=ue.C;++Ke){var st=ue.ixfe[Ke-ue.c];x={ixfe:st,XF:D[st],t:"z"},z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:Ke,r:ue.r},x,t)}break;case 214:case 516:case 4:x=gx(ue.val,ue.ixfe,"s"),x.XF=D[x.ixfe],z>0&&(x.z=G[x.ixfe>>8&63]),hl(x,t,n.opts.Date1904),B({c:ue.c,r:ue.r},x,t);break;case 0:case 512:X===1&&(o=ue);break;case 252:l=ue;break;case 1054:if(M.biff==4){G[z++]=ue[1];for(var Je=0;Je<z+163&&jt[Je]!=ue[1];++Je);Je>=163&&Lc(ue[1],z+163)}else Lc(ue[1],ue[0]);break;case 30:{G[z++]=ue;for(var fe=0;fe<z+163&&jt[fe]!=ue;++fe);fe>=163&&Lc(ue,z+163)}break;case 229:H=H.concat(ue);break;case 93:ee[ue.cmo[0]]=M.lastobj=ue;break;case 438:M.lastobj.TxO=ue;break;case 127:M.lastobj.ImData=ue;break;case 440:for(C=ue[0].s.r;C<=ue[0].e.r;++C)for(y=ue[0].s.c;y<=ue[0].e.c;++y)g=t.dense?(i[C]||[])[y]:i[qt({c:y,r:C})],g&&(g.l=ue[1]);break;case 2048:for(C=ue[0].s.r;C<=ue[0].e.r;++C)for(y=ue[0].s.c;y<=ue[0].e.c;++y)g=t.dense?(i[C]||[])[y]:i[qt({c:y,r:C})],g&&g.l&&(g.l.Tooltip=ue[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;g=t.dense?(i[ue[0].r]||[])[ue[0].c]:i[qt(ue[0])];var Me=ee[ue[2]];g||(t.dense?(i[ue[0].r]||(i[ue[0].r]=[]),g=i[ue[0].r][ue[0].c]={t:"z"}):g=i[qt(ue[0])]={t:"z"},o.e.r=Math.max(o.e.r,ue[0].r),o.s.r=Math.min(o.s.r,ue[0].r),o.e.c=Math.max(o.e.c,ue[0].c),o.s.c=Math.min(o.s.c,ue[0].c)),g.c||(g.c=[]),v={a:ue[1],t:Me.TxO.t},g.c.push(v)}break;case 2173:F3e(D[ue.ixfe],ue.ext);break;case 125:{if(!M.cellStyles)break;for(;ue.e>=ue.s;)re[ue.e--]={width:ue.w/256,level:ue.level||0,hidden:!!(ue.flags&1)},he||(he=!0,MM(ue.w/256)),wd(re[ue.e+1])}break;case 520:{var We={};ue.level!=null&&(te[ue.r]=We,We.level=ue.level),ue.hidden&&(te[ue.r]=We,We.hidden=!0),ue.hpt&&(te[ue.r]=We,We.hpt=ue.hpt,We.hpx=Jg(ue.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||qh(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Re]]=ue;break;case 161:i["!margins"]||qh(i["!margins"]={}),i["!margins"].header=ue.header,i["!margins"].footer=ue.footer;break;case 574:ue.RTL&&(_.Views[0].RTL=!0);break;case 146:R=ue;break;case 2198:L=ue;break;case 140:k=ue;break;case 442:c?I.CodeName=ue||I.name:_.WBProps.CodeName=ue||"ThisWorkbook";break}}else De||console.error("Missing Info for XLS Record 0x"+Re.toString(16)),e.l+=Te}return n.SheetNames=Br(s).sort(function(dt,bt){return Number(dt)-Number(bt)}).map(function(dt){return s[dt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&Y.forEach(function(dt,bt){n.Sheets[n.SheetNames[bt]]["!autofilter"]=dt}),n.Strings=l,n.SSF=mr(jt),M.enc&&(n.Encryption=M.enc),L&&(n.Themes=L),n.Metadata={},k!==void 0&&(n.Metadata.Country=k),Z.names.length>0&&(_.Names=Z.names),n.Workbook=_,n}var Gv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function $Ge(e,t,n){var r=Vt.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=zH(r,dP,Gv.DSI);for(var s in i)t[s]=i[s]}catch(c){if(n.WTF)throw c}var o=Vt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var a=zH(o,hP,Gv.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(aQ(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function qGe(e,t){var n=[],r=[],i=[],s=0,o,a=wH(dP,"n"),l=wH(hP,"n");if(e.Props)for(o=Br(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Br(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],e.Custprops[o[s]]]);var c=[];for(s=0;s<i.length;++s)pQ.indexOf(i[s][0])>-1||oQ.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Vt.utils.cfb_add(t,"/SummaryInformation",jH(r,Gv.SI,l,hP)),(n.length||c.length)&&Vt.utils.cfb_add(t,"/DocumentSummaryInformation",jH(n,Gv.DSI,a,dP,c.length?c:null,Gv.UDI))}function cZ(e,t){t||(t={}),zM(t),uM(),t.codepage&&cM(t.codepage);var n,r;if(e.FullPaths){if(Vt.find(e,"/encryption"))throw new Error("File is password-protected");n=Vt.find(e,"!CompObj"),r=Vt.find(e,"/Workbook")||Vt.find(e,"/Book")}else{switch(t.type){case"base64":e=Co(Mo(e));break;case"binary":e=Co(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ki(e,0),r={content:e}}var i,s;if(n&&UGe(n),t.bookProps&&!t.bookSheets)i={};else{var o=ln?"buffer":"array";if(r&&r.content)i=WGe(r.content,t);else if((s=Vt.find(e,"PerfectOffice_MAIN"))&&s.content)i=$h.to_workbook(s.content,(t.type=o,t));else if((s=Vt.find(e,"NativeContent_MAIN"))&&s.content)i=$h.to_workbook(s.content,(t.type=o,t));else throw(s=Vt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Vt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=oVe(e))}var a={};return e.FullPaths&&$Ge(e,a,t),i.Props=i.Custprops=a,t.bookFiles&&(i.cfb=e),i}function KGe(e,t){var n=t||{},r=Vt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Vt.utils.cfb_add(r,i,uZ(e,n)),n.biff==8&&(e.Props||e.Custprops)&&qGe(e,r),n.biff==8&&e.vbaraw&&aVe(r,Vt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var Wy={0:{f:y6e},1:{f:R6e},2:{f:W6e},3:{f:M6e},4:{f:D6e},5:{f:U6e},6:{f:X6e},7:{f:B6e},8:{f:rHe},9:{f:nHe},10:{f:eHe},11:{f:tHe},12:{f:A6e},13:{f:q6e},14:{f:N6e},15:{f:F6e},16:{f:tZ},17:{f:Z6e},18:{f:H6e},19:{f:EM},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ZHe},40:{},42:{},43:{f:XBe},44:{f:KBe},45:{f:JBe},46:{f:t3e},47:{f:e3e},48:{},49:{f:bNe},50:{},51:{f:O3e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:TQ},62:{f:Y6e},63:{f:j3e},64:{f:wHe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ms,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:gHe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:E6e},148:{f:b6e,p:16},151:{f:cHe},152:{},153:{f:YHe},154:{},155:{},156:{f:qHe},157:{},158:{},159:{T:1,f:dBe},160:{T:-1},161:{T:1,f:jf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:iHe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:I3e},336:{T:-1},337:{f:B3e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:uP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:EQ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:uHe},427:{f:dHe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fHe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:S6e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:aHe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:uP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tVe},633:{T:1},634:{T:-1},635:{T:1,f:J3e},636:{T:-1},637:{f:TNe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:NHe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:CHe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},yP={6:{f:VA},10:{f:Iu},12:{f:ii},13:{f:ii},14:{f:zr},15:{f:zr},16:{f:hs},17:{f:zr},18:{f:zr},19:{f:ii},20:{f:XH},21:{f:XH},23:{f:EQ},24:{f:ZH},25:{f:zr},26:{},27:{},28:{f:C4e},29:{},34:{f:zr},35:{f:QH},38:{f:hs},39:{f:hs},40:{f:hs},41:{f:hs},42:{f:zr},43:{f:zr},47:{f:FBe},49:{f:qLe},51:{f:ii},60:{},61:{f:ULe},64:{f:zr},65:{f:$Le},66:{f:ii},77:{},80:{},81:{},82:{},85:{f:ii},89:{},90:{},91:{},92:{f:PLe},93:{f:S4e},94:{},95:{f:zr},96:{},97:{},99:{f:zr},125:{f:TQ},128:{f:l4e},129:{f:ILe},130:{f:ii},131:{f:zr},132:{f:zr},133:{f:MLe},134:{},140:{f:P4e},141:{f:ii},144:{},146:{f:M4e},151:{},152:{},153:{},154:{},155:{},156:{f:ii},157:{},158:{},160:{f:G4e},161:{f:L4e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:i4e},190:{f:s4e},193:{f:Iu},197:{},198:{},199:{},200:{},201:{},202:{f:zr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ii},220:{},221:{f:zr},222:{},224:{f:a4e},225:{f:DLe},226:{f:Iu},227:{},229:{f:b4e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:NLe},253:{f:YLe},255:{f:BLe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:gQ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zr},353:{f:Iu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:f4e},431:{f:zr},432:{},433:{},434:{},437:{},438:{f:R4e},439:{f:zr},440:{f:_4e},441:{},442:{f:iC},443:{},444:{f:ii},445:{},446:{},448:{f:Iu},449:{f:GLe,r:2},450:{f:Iu},512:{f:qH},513:{f:H4e},515:{f:d4e},516:{f:QLe},517:{f:YH},519:{f:U4e},520:{f:VLe},523:{},545:{f:JH},549:{f:$H},566:{},574:{f:jLe},638:{f:r4e},659:{},1048:{},1054:{f:JLe},1084:{},1212:{f:v4e},2048:{f:k4e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Iu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:O4e,r:12},2173:{f:P3e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:m4e,r:12},2197:{},2198:{f:T3e,r:12},2199:{},2200:{},2201:{},2202:{f:y4e,r:12},2203:{f:Iu},2204:{},2205:{},2206:{},2207:{},2211:{f:HLe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ii},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:B4e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:I4e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:qH},1:{},2:{f:q4e},3:{f:W4e},4:{f:j4e},5:{f:YH},7:{f:Y4e},8:{},9:{f:hx},11:{},22:{f:ii},30:{f:t4e},31:{},32:{},33:{f:JH},36:{},37:{f:$H},50:{f:X4e},62:{},52:{},67:{},68:{f:ii},69:{},86:{},126:{},127:{f:z4e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Q4e},223:{},234:{},354:{},421:{},518:{f:VA},521:{f:hx},536:{f:ZH},547:{f:QH},561:{},579:{},1030:{f:VA},1033:{f:hx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function vt(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&bM(n)&&e.push(n)}}function YGe(e,t,n,r){var i=(n||[]).length||0;if(i<=8224)return vt(e,t,n,i);var s=t;if(!isNaN(s)){for(var o=n.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var u=e.next(4);for(u.write_shift(2,s),u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<i;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}function lC(e,t,n){return e||(e=Ye(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function XGe(e,t,n,r){var i=Ye(9);return lC(i,e,t),mQ(n,r||"b",i),i}function QGe(e,t,n){var r=Ye(8+2*n.length);return lC(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function ZGe(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?wi(gr(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?vt(e,2,K4e(n,r,i)):vt(e,3,$4e(n,r,i));return;case"b":case"e":vt(e,5,XGe(n,r,t.v,t.t));return;case"s":case"str":vt(e,4,QGe(n,r,(t.v||"").slice(0,255)));return}vt(e,1,lC(null,n,r))}function JGe(e,t,n,r){var i=Array.isArray(t),s=Dn(t["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=tn(s)}for(var c=s.s.r;c<=s.e.r;++c){a=Xr(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=_r(u)),o=l[u]+a;var h=i?(t[c]||[])[u]:t[o];h&&ZGe(e,h,c,u)}}}function e8e(e,t){for(var n=t||{},r=Zs(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return vt(r,n.biff==4?1033:n.biff==3?521:9,PM(e,16,n)),JGe(r,e.Sheets[e.SheetNames[i]],i,n),vt(r,10),r.end()}function t8e(e,t,n){vt(e,49,KLe({sz:12,name:"Arial"},n))}function n8e(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&vt(e,1054,e4e(i,t[i],n))})}function r8e(e,t){var n=Ye(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),vt(e,2151,n),n=Ye(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),bQ(Dn(t["!ref"]||"A1"),n),n.write_shift(4,4),vt(e,2152,n)}function i8e(e,t){for(var n=0;n<16;++n)vt(e,224,KH({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){vt(e,224,KH(r,0,t))})}function s8e(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];vt(e,440,A4e(r)),r[1].Tooltip&&vt(e,2048,D4e(r))}delete t["!links"]}function o8e(e,t){if(t){var n=0;t.forEach(function(r,i){++n<=256&&r&&vt(e,125,N4e(lT(i,r),i))})}}function a8e(e,t,n,r,i){var s=16+Ld(i.cellXfs,t,i);if(t.v==null&&!t.bf){vt(e,513,wf(n,r,s));return}if(t.bf)vt(e,6,I5e(t,n,r,i,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?wi(gr(t.v)):t.v;vt(e,515,h4e(n,r,o,s));break;case"b":case"e":vt(e,517,u4e(n,r,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var a=VM(i.Strings,t.v,i.revStrings);vt(e,253,XLe(n,r,a,s))}else vt(e,516,ZLe(n,r,(t.v||"").slice(0,255),s,i));break;default:vt(e,513,wf(n,r,s))}}function l8e(e,t,n){var r=Zs(),i=n.SheetNames[e],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(s),c=t.biff==8,u,h="",p=[],g=Dn(s["!ref"]||"A1"),v=c?65536:16384;if(g.e.c>255||g.e.r>=v){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,v-1)}vt(r,2057,PM(n,16,t)),vt(r,13,aa(1)),vt(r,12,aa(100)),vt(r,15,Ps(!0)),vt(r,17,Ps(!1)),vt(r,16,vf(.001)),vt(r,95,Ps(!0)),vt(r,42,Ps(!1)),vt(r,43,Ps(!1)),vt(r,130,aa(1)),vt(r,128,c4e()),vt(r,131,Ps(!1)),vt(r,132,Ps(!1)),c&&o8e(r,s["!cols"]),vt(r,512,n4e(g,t)),c&&(s["!links"]=[]);for(var y=g.s.r;y<=g.e.r;++y){h=Xr(y);for(var C=g.s.c;C<=g.e.c;++C){y===g.s.r&&(p[C]=_r(C)),u=p[C]+h;var b=l?(s[y]||[])[C]:s[u];b&&(a8e(r,b,y,C,t),c&&b.l&&s["!links"].push([u,b.l]))}}var E=a.CodeName||a.name||i;return c&&vt(r,574,WLe((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&vt(r,229,x4e(s["!merges"])),c&&s8e(r,s),vt(r,442,vQ(E)),c&&r8e(r,s),vt(r,10),r.end()}function c8e(e,t,n){var r=Zs(),i=(e||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=n.biff==8,l=n.biff==5;if(vt(r,2057,PM(e,5,n)),n.bookType=="xla"&&vt(r,135),vt(r,225,a?aa(1200):null),vt(r,193,uLe(2)),l&&vt(r,191),l&&vt(r,192),vt(r,226),vt(r,92,FLe("SheetJS",n)),vt(r,66,aa(a?1200:1252)),a&&vt(r,353,aa(0)),a&&vt(r,448),vt(r,317,V4e(e.SheetNames.length)),a&&e.vbaraw&&vt(r,211),a&&e.vbaraw){var c=o.CodeName||"ThisWorkbook";vt(r,442,vQ(c))}vt(r,156,aa(17)),vt(r,25,Ps(!1)),vt(r,18,Ps(!1)),vt(r,19,aa(0)),a&&vt(r,431,Ps(!1)),a&&vt(r,444,aa(0)),vt(r,61,zLe()),vt(r,64,Ps(!1)),vt(r,141,aa(0)),vt(r,34,Ps(GHe(e)=="true")),vt(r,14,Ps(!0)),a&&vt(r,439,Ps(!1)),vt(r,218,aa(0)),t8e(r,e,n),n8e(r,e.SSF,n),i8e(r,n),a&&vt(r,352,Ps(!1));var u=r.end(),h=Zs();a&&vt(h,140,F4e()),a&&n.Strings&&YGe(h,252,LLe(n.Strings)),vt(h,10);var p=h.end(),g=Zs(),v=0,y=0;for(y=0;y<e.SheetNames.length;++y)v+=(a?12:11)+(a?2:1)*e.SheetNames[y].length;var C=u.length+v+p.length;for(y=0;y<e.SheetNames.length;++y){var b=s[y]||{};vt(g,133,OLe({pos:C,hs:b.Hidden||0,dt:0,name:e.SheetNames[y]},n)),C+=t[y].length}var E=g.end();if(v!=E.length)throw new Error("BS8 "+v+" != "+E.length);var x=[];return u.length&&x.push(u),E.length&&x.push(E),p.length&&x.push(p),Fi(x)}function u8e(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=mr(jt)),e&&e.SSF&&(Sm(),tT(e.SSF),n.revssf=rT(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,jM(n),n.cellXfs=[],Ld(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=l8e(i,n,e);return r.unshift(c8e(e,r,n)),Fi(r)}function uZ(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var i=ro(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return u8e(e,t);case 4:case 3:case 2:return e8e(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function cG(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,a=s&&s.index||e.length,l=KOe(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,p=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<l.length;++o){var y=l[o].trim(),C=y.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(C!="<td"&&C!="<th")){var b=y.split(/<\/t[dh]>/i);for(a=0;a<b.length;++a){var E=b[a].trim();if(E.match(/<t[dh]/i)){for(var x=E,k=0;x.charAt(0)=="<"&&(k=x.indexOf(">"))>-1;)x=x.slice(k+1);for(var D=0;D<v.length;++D){var R=v[D];R.s.c==u&&R.s.r<c&&c<=R.e.r&&(u=R.e.c+1,D=-1)}var _=Qt(E.slice(0,E.indexOf(">")));p=_.colspan?+_.colspan:1,((h=+_.rowspan)>1||p>1)&&v.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+p-1}});var I=_.t||_["data-t"]||"";if(!x.length){u+=p;continue}if(x=MX(x),g.s.r>c&&(g.s.r=c),g.e.r<c&&(g.e.r=c),g.s.c>u&&(g.s.c=u),g.e.c<u&&(g.e.c=u),!x.length){u+=p;continue}var F={t:"s",v:x};n.raw||!x.trim().length||I=="s"||(x==="TRUE"?F={t:"b",v:!0}:x==="FALSE"?F={t:"b",v:!1}:isNaN(Ua(x))?isNaN(Qg(x).getDate())||(F={t:"d",v:gr(x)},n.cellDates||(F={t:"n",v:wi(F.v)}),F.z=n.dateNF||jt[14]):F={t:"n",v:Ua(x)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=F):r[qt({r:c,c:u})]=F,u+=p}}}}return r["!ref"]=tn(g),v.length&&(r["!merges"]=v),r}function d8e(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var u=qt({r:n,c:o}),h=r.dense?(e[n]||[])[o]:e[u],p=h&&h.v!=null&&(h.h||yM(h.w||(Yc(h),h.w)||""))||"",g={};a>1&&(g.rowspan=a),l>1&&(g.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),g.id=(r.id||"sjs")+"-"+u,s.push(pt("td",p,g))}}var v="<tr>";return v+s.join("")+"</tr>"}var h8e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',f8e="</body></html>";function p8e(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Nd(cG(n[0],t),t);var r=qM();return n.forEach(function(i,s){KM(r,cG(i,t),"Sheet"+(s+1))}),r}function g8e(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function dZ(e,t){var n=t||{},r=n.header!=null?n.header:h8e,i=n.footer!=null?n.footer:f8e,s=[r],o=ro(e["!ref"]);n.dense=Array.isArray(e),s.push(g8e(e,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(d8e(e,o,a,n));return s.push("</table>"+i),s.join("")}function hZ(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Ar(r.origin):r.origin;i=o.r,s=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var u=ro(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var h=[],p=0,g=e["!rows"]||(e["!rows"]=[]),v=0,y=0,C=0,b=0,E=0,x=0;for(e["!cols"]||(e["!cols"]=[]);v<a.length&&y<l;++v){var k=a[v];if(uG(k)){if(r.display)continue;g[y]={hidden:!0}}var D=k.children;for(C=b=0;C<D.length;++C){var R=D[C];if(!(r.display&&uG(R))){var _=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):MX(R.innerHTML),I=R.getAttribute("data-z")||R.getAttribute("z");for(p=0;p<h.length;++p){var F=h[p];F.s.c==b+s&&F.s.r<y+i&&y+i<=F.e.r&&(b=F.e.c+1-s,p=-1)}x=+R.getAttribute("colspan")||1,((E=+R.getAttribute("rowspan")||1)>1||x>1)&&h.push({s:{r:y+i,c:b+s},e:{r:y+i+(E||1)-1,c:b+s+(x||1)-1}});var N={t:"s",v:_},B=R.getAttribute("data-t")||R.getAttribute("t")||"";_!=null&&(_.length==0?N.t=B||"z":r.raw||_.trim().length==0||B=="s"||(_==="TRUE"?N={t:"b",v:!0}:_==="FALSE"?N={t:"b",v:!1}:isNaN(Ua(_))?isNaN(Qg(_).getDate())||(N={t:"d",v:gr(_)},r.cellDates||(N={t:"n",v:wi(N.v)}),N.z=r.dateNF||jt[14]):N={t:"n",v:Ua(_)})),N.z===void 0&&I!=null&&(N.z=I);var M="",L=R.getElementsByTagName("A");if(L&&L.length)for(var H=0;H<L.length&&!(L[H].hasAttribute("href")&&(M=L[H].getAttribute("href"),M.charAt(0)!="#"));++H);M&&M.charAt(0)!="#"&&(N.l={Target:M}),r.dense?(e[y+i]||(e[y+i]=[]),e[y+i][b+s]=N):e[qt({c:b+s,r:y+i})]=N,c.e.c<b+s&&(c.e.c=b+s),b+=x}}++y}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,y-1+i),e["!ref"]=tn(c),y>=l&&(e["!fullref"]=tn((c.e.r=a.length-v+y-1+i,c))),e}function fZ(e,t){var n=t||{},r=n.dense?[]:{};return hZ(r,e,t)}function m8e(e,t){return Nd(fZ(e,t),t)}function uG(e){var t="",n=v8e(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function v8e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function y8e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=kn(t.replace(/<[^>]*>/g,""));return[n]}var dG={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function pZ(e,t){var n=t||{},r=wM(e),i=[],s,o,a={name:""},l="",c=0,u,h,p={},g=[],v=n.dense?[]:{},y,C,b={value:""},E="",x=0,k=[],D=-1,R=-1,_={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,F={},N=[],B={},M=0,L=0,H=[],ee=1,re=1,te=[],he={Names:[]},Z={},V=["",""],X=[],z={},G="",Y=0,J=!1,pe=!1,He=0;for(Vy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=Vy.exec(r);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(_.e.c>=_.s.c&&_.e.r>=_.s.r?v["!ref"]=tn(_):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=_.e.r&&(v["!fullref"]=v["!ref"],_.e.r=n.sheetRows-1,v["!ref"]=tn(_)),N.length&&(v["!merges"]=N),H.length&&(v["!rows"]=H),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),g.push(u.name),p[u.name]=v,pe=!1):y[0].charAt(y[0].length-2)!=="/"&&(u=Qt(y[0],!1),D=R=-1,_.s.r=_.s.c=1e7,_.e.r=_.e.c=0,v=n.dense?[]:{},N=[],H=[],pe=!0);break;case"table-row-group":y[1]==="/"?--I:++I;break;case"table-row":case"":if(y[1]==="/"){D+=ee,ee=1;break}if(h=Qt(y[0],!1),h.?D=h.-1:D==-1&&(D=0),ee=+h["number-rows-repeated"]||1,ee<10)for(He=0;He<ee;++He)I>0&&(H[D+He]={level:I});R=-1;break;case"covered-table-cell":y[1]!=="/"&&++R,n.sheetStubs&&(n.dense?(v[D]||(v[D]=[]),v[D][R]={t:"z"}):v[qt({r:D,c:R})]={t:"z"}),E="",k=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++R,b=Qt(y[0],!1),re=parseInt(b["number-columns-repeated"]||"1",10),C={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(C.f=oG(kn(b.formula))),(b.||b["value-type"])=="string"&&(C.t="s",C.v=kn(b["string-value"]||""),n.dense?(v[D]||(v[D]=[]),v[D][R]=C):v[qt({r:D,c:R})]=C),R+=re-1;else if(y[1]!=="/"){++R,E="",x=0,k=[],re=1;var Re=ee?D+ee-1:D;if(R>_.e.c&&(_.e.c=R),R<_.s.c&&(_.s.c=R),D<_.s.r&&(_.s.r=D),Re>_.e.r&&(_.e.r=Re),b=Qt(y[0],!1),X=[],z={},C={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=kn(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(M=parseInt(b["number-matrix-rows-spanned"],10)||0,L=parseInt(b["number-matrix-columns-spanned"],10)||0,B={s:{r:D,c:R},e:{r:D+M-1,c:R+L-1}},C.F=tn(B),te.push([B,C.F])),b.formula)C.f=oG(b.formula);else for(He=0;He<te.length;++He)D>=te[He][0].s.r&&D<=te[He][0].e.r&&R>=te[He][0].s.c&&R<=te[He][0].e.c&&(C.F=te[He][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(M=parseInt(b["number-rows-spanned"],10)||0,L=parseInt(b["number-columns-spanned"],10)||0,B={s:{r:D,c:R},e:{r:D+M-1,c:R+L-1}},N.push(B)),b["number-columns-repeated"]&&(re=parseInt(b["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=dr(b["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(b.value);break;case"percentage":C.t="n",C.v=parseFloat(b.value);break;case"currency":C.t="n",C.v=parseFloat(b.value);break;case"date":C.t="d",C.v=gr(b["date-value"]),n.cellDates||(C.t="n",C.v=wi(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=WOe(b["time-value"])/86400,n.cellDates&&(C.t="d",C.v=iT(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(b.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",b["string-value"]!=null&&(E=kn(b["string-value"]),k=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(J=!1,C.t==="s"&&(C.v=E||"",k.length&&(C.R=k),J=x==0),Z.Target&&(C.l=Z),X.length>0&&(C.c=X,X=[]),E&&n.cellText!==!1&&(C.w=E),J&&(C.t="z",delete C.v),(!J||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=D))for(var Te=0;Te<ee;++Te){if(re=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(v[D+Te]||(v[D+Te]=[]),v[D+Te][R]=Te==0?C:mr(C);--re>0;)v[D+Te][R+re]=mr(C);else for(v[qt({r:D+Te,c:R})]=C;--re>0;)v[qt({r:D+Te,c:R+re})]=mr(C);_.e.c<=R&&(_.e.c=R)}re=parseInt(b["number-columns-repeated"]||"1",10),R+=re-1,re=0,C={},E="",k=[]}Z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s;z.t=E,k.length&&(z.R=k),z.a=G,X.push(z)}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!1]);G="",Y=0,E="",x=0,k=[];break;case"creator":y[1]==="/"?G=r.slice(Y,y.index):Y=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!1]);E="",x=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(F[a.name]=l,(s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&(l="",a=Qt(y[0],!1),i.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Qt(y[0],!1),l+=dG[y[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Qt(y[0],!1),l+=dG[y[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,y.index);break}else c=y.index+y[0].length;break;case"named-range":o=Qt(y[0],!1),V=HA(o["cell-range-address"]);var De={Name:o.name,Ref:V[0]+"!"+V[1]};pe&&(De.Sheet=g.length),he.Names.push(De);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(y[1]==="/"&&(!b||!b["string-value"])){var et=y8e(r.slice(x,y.index));E=(E.length>0?E+`
`:"")+et[0]}else Qt(y[0],!1),x=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{V=HA(Qt(y[0])["target-range-address"]),p[V[0]]["!autofilter"]={ref:V[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(Z=Qt(y[0],!1),!Z.href)break;Z.Target=kn(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(V=HA(Z.Target.slice(1)),Z.Target="#"+V[0]+"!"+V[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(y)}}var ue={Sheets:p,SheetNames:g,Workbook:he};return n.bookSheets&&delete ue.Sheets,ue}function hG(e,t){t=t||{},sa(e,"META-INF/manifest.xml")&&WNe(ri(e,"META-INF/manifest.xml"),t);var n=bo(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=pZ(rr(n),t);return sa(e,"meta.xml")&&(r.Props=iQ(ri(e,"meta.xml"))),r}function fG(e,t){return pZ(e,t)}var w8e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+By({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Qr+t}}(),pG=function(){var e=function(s){return Qn(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+Qn(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,u=0,h=ro(s["!ref"]||"A1"),p=s["!merges"]||[],g=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var y="",C=s["!rows"]||[];for(c=0;c<h.s.r;++c)y=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+y+`></table:table-row>
`);for(;c<=h.e.r;++c){for(y=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+y+`>
`),u=0;u<h.s.c;++u)l.push(t);for(;u<=h.e.c;++u){var b=!1,E={},x="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>u)&&!(p[g].s.r>c)&&!(p[g].e.c<u)&&!(p[g].e.r<c)){(p[g].s.c!=u||p[g].s.r!=c)&&(b=!0),E["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,E["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(b){l.push(n);continue}var k=qt({r:c,c:u}),D=v?(s[c]||[])[u]:s[k];if(D&&D.f&&(E["table:formula"]=Qn(V5e(D.f)),D.F&&D.F.slice(0,k.length)==k)){var R=ro(D.F);E["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,E["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!D){l.push(t);continue}switch(D.t){case"b":x=D.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=D.v?"true":"false";break;case"n":x=D.w||String(D.v||0),E["office:value-type"]="float",E["office:value"]=D.v||0;break;case"s":case"str":x=D.v==null?"":D.v,E["office:value-type"]="string";break;case"d":x=D.w||gr(D.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=gr(D.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(t);continue}var _=e(x);if(D.l&&D.l.Target){var I=D.l.Target;I=I.charAt(0)=="#"?"#"+H5e(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),_=pt("text:a",_,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+pt("table:table-cell",pt("text:p",_,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;wd(h),h.ods=a;var p=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Qr],c=By({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=By({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(rQ().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)l.push(r(o.Sheets[o.SheetNames[h]],o,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function gZ(e,t){if(t.bookType=="fods")return pG(e,t);var n=gM(),r="",i=[],s=[];return r="mimetype",sn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",sn(n,r,pG(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",sn(n,r,w8e(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",sn(n,r,Qr+rQ()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",sn(n,r,KNe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",sn(n,r,$Ne(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Cf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wP(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):rr(Od(e))}function C8e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Co(Rl(e))}function b8e(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function bd(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function gG(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function x8e(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function S8e(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=n>=0?0:128}function $y(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Yn(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Nr(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Fn(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=$y(e,n),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=n[0];e[n[0]++]>=128;);a=e.slice(l,n[0])}break;case 5:o=4,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=$y(e,n),a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function ji(e){var t=[];return e.forEach(function(n,r){n.forEach(function(i){i.data&&(t.push(Yn(r*8+i.type)),i.type==2&&t.push(Yn(i.data.length)),t.push(i.data))})}),bd(t)}function UM(e,t){return e?.map(function(n){return t(n.data)})||[]}function ea(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=$y(e,r),s=Fn(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:Nr(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=Fn(a.data),c=Nr(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=s[3])!=null&&t[0]&&(o.merge=Nr(s[3][0].data)>>>0>0),n.push(o)}return n}function Lp(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Yn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Yn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Yn(o.data.length)}],r[2].push({data:ji(o.meta),type:2})});var s=ji(r);t.push(Yn(s.length)),t.push(s),i.forEach(function(o){return t.push(o)})}),bd(t)}function E8e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=$y(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[n[0]],a>1&&(o|=t[n[0]+1]<<8),a>2&&(o|=t[n[0]+2]<<16),a>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,s==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[bd(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=bd(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function ta(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(E8e(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return bd(t)}function Bp(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var s=Yn(r),o=s.length;t.push(s),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return bd(t)}function T8e(e,t,n,r){var i=Cf(e),s=i.getUint32(4,!0),o=(r>1?12:8)+gG(s&(r>1?3470:398))*4,a=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(a=i.getUint32(o,!0),o+=4),o+=gG(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(a>-1)h={t:"s",v:n[a]};else if(l>-1)h={t:"s",v:t[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function R8e(e,t,n){var r=Cf(e),i=r.getUint32(8,!0),s=12,o=-1,a=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=x8e(e,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(a=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:t[a]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return h}function UA(e,t){var n=new Uint8Array(32),r=Cf(n),i=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,S8e(n,i,e.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,i)}function zA(e,t){var n=new Uint8Array(32),r=Cf(n),i=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,i)}function _8e(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return T8e(e,t,n,e[0]);case 5:return R8e(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function cs(e){var t=Fn(e);return $y(t[1][0].data)}function mG(e,t){var n=Fn(t.data),r=Nr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var a=Fn(o.data),l=Nr(a[1][0].data)>>>0;switch(r){case 1:s[l]=wP(a[3][0].data);break;case 8:{var c=e[cs(a[9][0].data)][0],u=Fn(c.data),h=e[cs(u[1][0].data)][0],p=Nr(h.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=Fn(h.data);s[l]=g[3].map(function(v){return wP(v.data)}).join("")}break}}),s}function A8e(e,t){var n,r,i,s,o,a,l,c,u,h,p,g,v,y,C=Fn(e),b=Nr(C[1][0].data)>>>0,E=Nr(C[2][0].data)>>>0,x=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&Nr(C[8][0].data)>0||!1,k,D;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&t!=0)k=(a=(o=C[7])==null?void 0:o[0])==null?void 0:a.data,D=(c=(l=C[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(u=C[4])==null?void 0:u[0])!=null&&h.data&&t!=1)k=(g=(p=C[4])==null?void 0:p[0])==null?void 0:g.data,D=(y=(v=C[3])==null?void 0:v[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var R=x?4:1,_=Cf(k),I=[],F=0;F<k.length/2;++F){var N=_.getUint16(F*2,!0);N<65535&&I.push([F,N])}if(I.length!=E)throw"Expected ".concat(E," cells, found ").concat(I.length);var B=[];for(F=0;F<I.length-1;++F)B[I[F][0]]=D.subarray(I[F][1]*R,I[F+1][1]*R);return I.length>=1&&(B[I[I.length-1][0]]=D.subarray(I[I.length-1][1]*R)),{R:b,cells:B}}function k8e(e,t){var n,r=Fn(t.data),i=(n=r?.[7])!=null&&n[0]?Nr(r[7][0].data)>>>0>0?1:0:-1,s=UM(r[5],function(o){return A8e(o,i)});return{nrows:Nr(r[4][0].data)>>>0,data:s.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(l,c){if(o[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));o[a.R][c]=l}),o},[])}}function D8e(e,t,n){var r,i=Fn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Nr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Nr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=tn(s);var o=Fn(i[4][0].data),a=mG(e,e[cs(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?mG(e,e[cs(o[17][0].data)][0]):[],c=Fn(o[3][0].data),u=0;c[1].forEach(function(h){var p=Fn(h.data),g=e[cs(p[2][0].data)][0],v=Nr(g.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var y=k8e(e,g);y.data.forEach(function(C,b){C.forEach(function(E,x){var k=qt({r:u+b,c:x}),D=_8e(E,a,l);D&&(n[k]=D)})}),u+=y.nrows})}function P8e(e,t){var n=Fn(t.data),r={"!ref":"A1"},i=e[cs(n[2][0].data)],s=Nr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return D8e(e,i[0],r),r}function F8e(e,t){var n,r=Fn(t.data),i={name:(n=r[1])!=null&&n[0]?wP(r[1][0].data):"",sheets:[]},s=UM(r[2],cs);return s.forEach(function(o){e[o].forEach(function(a){var l=Nr(a.meta[1][0].data);l==6e3&&i.sheets.push(P8e(e,a))})}),i}function I8e(e,t){var n=qM(),r=Fn(t.data),i=UM(r[1],cs);if(i.forEach(function(s){e[s].forEach(function(o){var a=Nr(o.meta[1][0].data);if(a==2){var l=F8e(e,o);l.sheets.forEach(function(c,u){KM(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function jA(e){var t,n,r,i,s={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=ta(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var u;try{u=ea(c)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){s[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var a=((i=(r=(n=(t=s?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Nr(s[1][0].meta[1][0].data)==1&&s[1][0];if(a||o.forEach(function(l){s[l].forEach(function(c){var u=Nr(c.meta[1][0].data)>>>0;if(u==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return I8e(s,a)}function M8e(e,t,n){var r,i,s,o;if(!((r=e[6])!=null&&r[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&Nr(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=Cf(e[7][0].data),u=0,h=[],p=Cf(e[4][0].data),g=0,v=[],y=0;y<t.length;++y){if(t[y]==null){c.setUint16(y*2,65535,!0),p.setUint16(y*2,65535);continue}c.setUint16(y*2,u,!0),p.setUint16(y*2,g,!0);var C,b;switch(typeof t[y]){case"string":C=UA({t:"s",v:t[y]},n),b=zA({t:"s",v:t[y]},n);break;case"number":C=UA({t:"n",v:t[y]},n),b=zA({t:"n",v:t[y]},n);break;case"boolean":C=UA({t:"b",v:t[y]},n),b=zA({t:"b",v:t[y]},n);break;default:throw new Error("Unsupported value "+t[y])}h.push(C),u+=C.length,v.push(b),g+=b.length,++l}for(e[2][0].data=Yn(l);y<e[7][0].data.length/2;++y)c.setUint16(y*2,65535,!0),p.setUint16(y*2,65535,!0);return e[6][0].data=bd(h),e[3][0].data=bd(v),l}function O8e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ro(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(tn(r)));var s=P1(n,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(G){return G.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var a={},l=[],c=Vt.read(t.numbers,{type:"base64"});c.FileIndex.map(function(G,Y){return[G,c.FullPaths[Y]]}).forEach(function(G){var Y=G[0],J=G[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var pe=Y.content,He=ta(pe),Re=ea(He);Re.forEach(function(Te){l.push(Te.id),a[Te.id]={deps:[],location:J,type:Nr(Te.messages[0].meta[1][0].data)}})}}),l.sort(function(G,Y){return G-Y});var u=l.filter(function(G){return G>1}).map(function(G){return[G,Yn(G)]});c.FileIndex.map(function(G,Y){return[G,c.FullPaths[Y]]}).forEach(function(G){var Y=G[0];if(G[1],!!Y.name.match(/\.iwa/)){var J=ea(ta(Y.content));J.forEach(function(pe){pe.messages.forEach(function(He){u.forEach(function(Re){pe.messages.some(function(Te){return Nr(Te.meta[1][0].data)!=11006&&b8e(Te.data,Re[1])})&&a[Re[0]].deps.push(pe.id)})})})}});for(var h=Vt.find(c,a[1].location),p=ea(ta(h.content)),g,v=0;v<p.length;++v){var y=p[v];y.id==1&&(g=y)}var C=cs(Fn(g.messages[0].data)[1][0].data);for(h=Vt.find(c,a[C].location),p=ea(ta(h.content)),v=0;v<p.length;++v)y=p[v],y.id==C&&(g=y);for(C=cs(Fn(g.messages[0].data)[2][0].data),h=Vt.find(c,a[C].location),p=ea(ta(h.content)),v=0;v<p.length;++v)y=p[v],y.id==C&&(g=y);for(C=cs(Fn(g.messages[0].data)[2][0].data),h=Vt.find(c,a[C].location),p=ea(ta(h.content)),v=0;v<p.length;++v)y=p[v],y.id==C&&(g=y);var b=Fn(g.messages[0].data);{b[6][0].data=Yn(r.e.r+1),b[7][0].data=Yn(r.e.c+1);var E=cs(b[46][0].data),x=Vt.find(c,a[E].location),k=ea(ta(x.content));{for(var D=0;D<k.length&&k[D].id!=E;++D);if(k[D].id!=E)throw"Bad ColumnRowUIDMapArchive";var R=Fn(k[D].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var _=0;_<=r.e.c;++_){var I=[];I[1]=I[2]=[{type:0,data:Yn(_+420690)}],R[1].push({type:2,data:ji(I)}),R[2].push({type:0,data:Yn(_)}),R[3].push({type:0,data:Yn(_)})}R[4]=[],R[5]=[],R[6]=[];for(var F=0;F<=r.e.r;++F)I=[],I[1]=I[2]=[{type:0,data:Yn(F+726270)}],R[4].push({type:2,data:ji(I)}),R[5].push({type:0,data:Yn(F)}),R[6].push({type:0,data:Yn(F)});k[D].messages[0].data=ji(R)}x.content=Bp(Lp(k)),x.size=x.content.length,delete b[46];var N=Fn(b[4][0].data);{N[7][0].data=Yn(r.e.r+1);var B=Fn(N[1][0].data),M=cs(B[2][0].data);x=Vt.find(c,a[M].location),k=ea(ta(x.content));{if(k[0].id!=M)throw"Bad HeaderStorageBucket";var L=Fn(k[0].messages[0].data);for(F=0;F<s.length;++F){var H=Fn(L[2][0].data);H[1][0].data=Yn(F),H[4][0].data=Yn(s[F].length),L[2][F]={type:L[2][0].type,data:ji(H)}}k[0].messages[0].data=ji(L)}x.content=Bp(Lp(k)),x.size=x.content.length;var ee=cs(N[2][0].data);x=Vt.find(c,a[ee].location),k=ea(ta(x.content));{if(k[0].id!=ee)throw"Bad HeaderStorageBucket";for(L=Fn(k[0].messages[0].data),_=0;_<=r.e.c;++_)H=Fn(L[2][0].data),H[1][0].data=Yn(_),H[4][0].data=Yn(r.e.r+1),L[2][_]={type:L[2][0].type,data:ji(H)};k[0].messages[0].data=ji(L)}x.content=Bp(Lp(k)),x.size=x.content.length;var re=cs(N[4][0].data);(function(){for(var G=Vt.find(c,a[re].location),Y=ea(ta(G.content)),J,pe=0;pe<Y.length;++pe){var He=Y[pe];He.id==re&&(J=He)}var Re=Fn(J.messages[0].data);{Re[3]=[];var Te=[];o.forEach(function(ue,St){Te[1]=[{type:0,data:Yn(St)}],Te[2]=[{type:0,data:Yn(1)}],Te[3]=[{type:2,data:C8e(ue)}],Re[3].push({type:2,data:ji(Te)})})}J.messages[0].data=ji(Re);var De=Lp(Y),et=Bp(De);G.content=et,G.size=G.content.length})();var te=Fn(N[3][0].data);{var he=te[1][0];delete te[2];var Z=Fn(he.data);{var V=cs(Z[2][0].data);(function(){for(var G=Vt.find(c,a[V].location),Y=ea(ta(G.content)),J,pe=0;pe<Y.length;++pe){var He=Y[pe];He.id==V&&(J=He)}var Re=Fn(J.messages[0].data);{delete Re[6],delete te[7];var Te=new Uint8Array(Re[5][0].data);Re[5]=[];for(var De=0,et=0;et<=r.e.r;++et){var ue=Fn(Te);De+=M8e(ue,s[et],o),ue[1][0].data=Yn(et),Re[5].push({data:ji(ue),type:2})}Re[1]=[{type:0,data:Yn(r.e.c+1)}],Re[2]=[{type:0,data:Yn(r.e.r+1)}],Re[3]=[{type:0,data:Yn(De)}],Re[4]=[{type:0,data:Yn(r.e.r+1)}]}J.messages[0].data=ji(Re);var St=Lp(Y),j=Bp(St);G.content=j,G.size=G.content.length})()}he.data=ji(Z)}N[3][0].data=ji(te)}b[4][0].data=ji(N)}g.messages[0].data=ji(b);var X=Lp(p),z=Bp(X);return h.content=z,h.size=h.content.length,c}function mZ(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function zM(e){mZ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function jM(e){mZ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function N8e(e){return dn.WS.indexOf(e)>-1?"sheet":e==dn.CS?"chart":e==dn.DS?"dialog":e==dn.MS?"macro":e&&e.length?e:"sheet"}function L8e(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,N8e(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function B8e(e,t,n,r,i,s,o,a,l,c,u,h){try{s[r]=Lv(bo(e,n,!0),t);var p=ri(e,t),g;switch(a){case"sheet":g=oGe(p,t,i,l,s[r],c,u,h);break;case"chart":if(g=aGe(p,t,i,l,s[r],c,u,h),!g||!g["!drawel"])break;var v=gv(g["!drawel"].Target,t),y=Hy(v),C=q3e(bo(e,v,!0),Lv(bo(e,y,!0),v)),b=gv(C,v),E=Hy(b);g=MHe(bo(e,b,!0),b,l,Lv(bo(e,E,!0),b),c,g);break;case"macro":g=lGe(p,t,i,l,s[r],c,u,h);break;case"dialog":g=cGe(p,t,i,l,s[r],c,u,h);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=g;var x=[];s&&s[r]&&Br(s[r]).forEach(function(k){var D="";if(s[r][k].Type==dn.CMNT){D=gv(s[r][k].Target,t);var R=fGe(ri(e,D,!0),D,l);if(!R||!R.length)return;tG(g,R,!1)}s[r][k].Type==dn.TCMNT&&(D=gv(s[r][k].Target,t),x=x.concat(Y3e(ri(e,D,!0),l)))}),x&&x.length&&tG(g,x,!0,l.people||[])}catch(k){if(l.WTF)throw k}}function Xo(e){return e.charAt(0)=="/"?e.slice(1):e}function V8e(e,t){if(Sm(),t=t||{},zM(t),sa(e,"META-INF/manifest.xml")||sa(e,"objectdata.xml"))return hG(e,t);if(sa(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof jA<"u"){if(e.FileIndex)return jA(e);var n=Vt.utils.cfb_new();return xH(e).forEach(function(H){sn(n,H,XOe(e,H))}),jA(n)}throw new Error("Unsupported NUMBERS file")}if(!sa(e,"[Content_Types].xml"))throw sa(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):sa(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=xH(e),i=zNe(bo(e,"[Content_Types].xml")),s=!1,o,a;if(i.workbooks.length===0&&(a="xl/workbook.xml",ri(e,a,!0)&&i.workbooks.push(a)),i.workbooks.length===0){if(a="xl/workbook.bin",!ri(e,a,!0))throw new Error("Could not find workbook");i.workbooks.push(a),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Bv=[],i.sst)try{Bv=hGe(ri(e,Xo(i.sst)),i.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&i.themes.length&&(l=dGe(bo(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=uGe(ri(e,Xo(i.style)),i.style,l,t))}i.links.map(function(H){try{var ee=Lv(bo(e,Hy(Xo(H))),H);return gGe(ri(e,Xo(H)),ee,H,t)}catch{}});var u=sGe(ri(e,Xo(i.workbooks[0])),i.workbooks[0],t),h={},p="";i.coreprops.length&&(p=ri(e,Xo(i.coreprops[0]),!0),p&&(h=iQ(p)),i.extprops.length!==0&&(p=ri(e,Xo(i.extprops[0]),!0),p&&XNe(p,h,t)));var g={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(p=bo(e,Xo(i.custprops[0]),!0),p&&(g=ZNe(p,t)));var v={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(ee){return ee.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(v.Props=h,v.Custprops=g),t.bookSheets&&typeof o<"u"&&(v.SheetNames=o),t.bookSheets?v.SheetNames:t.bookProps))return v;o={};var y={};t.bookDeps&&i.calcchain&&(y=pGe(ri(e,Xo(i.calcchain)),i.calcchain));var C=0,b={},E,x;{var k=u.Sheets;h.Worksheets=k.length,h.SheetNames=[];for(var D=0;D!=k.length;++D)h.SheetNames[D]=k[D].name}var R=s?"bin":"xml",_=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,_+1)+"_rels/"+i.workbooks[0].slice(_+1)+".rels").replace(/^\//,"");sa(e,I)||(I="xl/_rels/workbook."+R+".rels");var F=Lv(bo(e,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=mGe(ri(e,Xo(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=Q3e(ri(e,Xo(i.people[0])),t)),F&&(F=L8e(F,u.Sheets));var N=ri(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=h.Worksheets;++C){var B="sheet";if(F&&F[C]?(E="xl/"+F[C][1].replace(/[\/]?xl\//,""),sa(e,E)||(E=F[C][1]),sa(e,E)||(E=I.replace(/_rels\/.*$/,"")+F[C][1]),B=F[C][2]):(E="xl/worksheets/sheet"+(C+1-N)+"."+R,E=E.replace(/sheet0\./,"sheet.")),x=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(C!=t.sheets)continue e;break;case"string":if(h.SheetNames[C].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var M=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==C&&(M=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==h.SheetNames[C].toLowerCase()&&(M=1);if(!M)continue e}}B8e(e,E,x,h.SheetNames[C],C,b,o,B,t,u,l,c)}return v={Directory:i,Workbook:u,Props:h,Custprops:g,Deps:y,Sheets:o,SheetNames:h.SheetNames,Strings:Bv,Styles:c,Themes:l,SSF:mr(jt)},t&&t.bookFiles&&(e.files?(v.keys=r,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(H,ee){H=H.replace(/^Root Entry[\/]/,""),v.keys.push(H),v.files[H]=e.FileIndex[ee]}))),t&&t.bookVBA&&(i.vba.length>0?v.vbaraw=ri(e,Xo(i.vba[0]),!0):i.defaults&&i.defaults.bin===sVe&&(v.vbaraw=ri(e,"xl/vbaProject.bin",!0))),v}function H8e(e,t){var n=t||{},r="Workbook",i=Vt.find(e,r);try{if(r="/!DataSpaces/Version",i=Vt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(mBe(i.content),r="/!DataSpaces/DataSpaceMap",i=Vt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=yBe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Vt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=wBe(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Vt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);bBe(i.content)}catch{}if(r="/EncryptionInfo",i=Vt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=xBe(i.content);if(r="/EncryptedPackage",i=Vt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,n.password||"",n);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function G8e(e,t){return t.bookType=="ods"?gZ(e,t):t.bookType=="numbers"?O8e(e,t):t.bookType=="xlsb"?U8e(e,t):z8e(e,t)}function U8e(e,t){Zp=1024,e&&!e.SSF&&(e.SSF=mr(jt)),e&&e.SSF&&(Sm(),tT(e.SSF),t.revssf=rT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Vv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=zQ.indexOf(t.bookType)>-1,i=kM();jM(t=t||{});var s=gM(),o="",a=0;if(t.cellXfs=[],Ld(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",sn(s,o,sQ(e.Props,t)),i.coreprops.push(o),Xn(t.rels,2,o,dn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,sn(s,o,lQ(e.Props)),i.extprops.push(o),Xn(t.rels,3,o,dn.EXT_PROPS),e.Custprops!==e.Props&&Br(e.Custprops||{}).length>0&&(o="docProps/custom.xml",sn(s,o,cQ(e.Custprops)),i.custprops.push(o),Xn(t.rels,4,o,dn.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var u={"!id":{}},h=e.Sheets[e.SheetNames[a-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,sn(s,o,yGe(a-1,o,t,e,u)),i.sheets.push(o),Xn(t.wbrels,-1,"worksheets/sheet"+a+"."+n,dn.WS[0])}if(h){var g=h["!comments"],v=!1,y="";g&&g.length>0&&(y="xl/comments"+a+"."+n,sn(s,y,bGe(g,y)),i.comments.push(y),Xn(u,-1,"../comments"+a+"."+n,dn.CMNT),v=!0),h["!legacy"]&&v&&sn(s,"xl/drawings/vmlDrawing"+a+".vml",GQ(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&sn(s,Hy(o),Sg(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,sn(s,o,CGe(t.Strings,o,t)),i.strs.push(o),Xn(t.wbrels,-1,"sharedStrings."+n,dn.SST)),o="xl/workbook."+n,sn(s,o,vGe(e,o)),i.workbooks.push(o),Xn(t.rels,1,o,dn.WB),o="xl/theme/theme1.xml",sn(s,o,OM(e.Themes,t)),i.themes.push(o),Xn(t.wbrels,-1,"theme/theme1.xml",dn.THEME),o="xl/styles."+n,sn(s,o,wGe(e,o,t)),i.styles.push(o),Xn(t.wbrels,-1,"styles."+n,dn.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",sn(s,o,e.vbaraw),i.vba.push(o),Xn(t.wbrels,-1,"vbaProject.bin",dn.VBA)),o="xl/metadata."+n,sn(s,o,xGe(o)),i.metadata.push(o),Xn(t.wbrels,-1,"metadata."+n,dn.XLMETA),sn(s,"[Content_Types].xml",nQ(i,t)),sn(s,"_rels/.rels",Sg(t.rels)),sn(s,"xl/_rels/workbook."+n+".rels",Sg(t.wbrels)),delete t.revssf,delete t.ssf,s}function z8e(e,t){Zp=1024,e&&!e.SSF&&(e.SSF=mr(jt)),e&&e.SSF&&(Sm(),tT(e.SSF),t.revssf=rT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Vv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=zQ.indexOf(t.bookType)>-1,i=kM();jM(t=t||{});var s=gM(),o="",a=0;if(t.cellXfs=[],Ld(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",sn(s,o,sQ(e.Props,t)),i.coreprops.push(o),Xn(t.rels,2,o,dn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,sn(s,o,lQ(e.Props)),i.extprops.push(o),Xn(t.rels,3,o,dn.EXT_PROPS),e.Custprops!==e.Props&&Br(e.Custprops||{}).length>0&&(o="docProps/custom.xml",sn(s,o,cQ(e.Custprops)),i.custprops.push(o),Xn(t.rels,4,o,dn.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},p=e.Sheets[e.SheetNames[a-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,sn(s,o,eZ(a-1,t,e,h)),i.sheets.push(o),Xn(t.wbrels,-1,"worksheets/sheet"+a+"."+n,dn.WS[0])}if(p){var v=p["!comments"],y=!1,C="";if(v&&v.length>0){var b=!1;v.forEach(function(E){E[1].forEach(function(x){x.T==!0&&(b=!0)})}),b&&(C="xl/threadedComments/threadedComment"+a+"."+n,sn(s,C,X3e(v,u,t)),i.threadedcomments.push(C),Xn(h,-1,"../threadedComments/threadedComment"+a+"."+n,dn.TCMNT)),C="xl/comments"+a+"."+n,sn(s,C,UQ(v)),i.comments.push(C),Xn(h,-1,"../comments"+a+"."+n,dn.CMNT),y=!0}p["!legacy"]&&y&&sn(s,"xl/drawings/vmlDrawing"+a+".vml",GQ(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&sn(s,Hy(o),Sg(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,sn(s,o,kQ(t.Strings,t)),i.strs.push(o),Xn(t.wbrels,-1,"sharedStrings."+n,dn.SST)),o="xl/workbook."+n,sn(s,o,sZ(e)),i.workbooks.push(o),Xn(t.rels,1,o,dn.WB),o="xl/theme/theme1.xml",sn(s,o,OM(e.Themes,t)),i.themes.push(o),Xn(t.wbrels,-1,"theme/theme1.xml",dn.THEME),o="xl/styles."+n,sn(s,o,LQ(e,t)),i.styles.push(o),Xn(t.wbrels,-1,"styles."+n,dn.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",sn(s,o,e.vbaraw),i.vba.push(o),Xn(t.wbrels,-1,"vbaProject.bin",dn.VBA)),o="xl/metadata."+n,sn(s,o,HQ()),i.metadata.push(o),Xn(t.wbrels,-1,"metadata."+n,dn.XLMETA),u.length>1&&(o="xl/persons/person.xml",sn(s,o,Z3e(u)),i.people.push(o),Xn(t.wbrels,-1,"persons/person.xml",dn.PEOPLE)),sn(s,"[Content_Types].xml",nQ(i,t)),sn(s,"_rels/.rels",Sg(t.rels)),sn(s,"xl/_rels/workbook."+n+".rels",Sg(t.wbrels)),delete t.revssf,delete t.ssf,s}function WM(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Mo(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function j8e(e,t){return Vt.find(e,"EncryptedPackage")?H8e(e,t):cZ(e,t)}function W8e(e,t){var n,r=e,i=t||{};return i.type||(i.type=ln&&Buffer.isBuffer(e)?"buffer":"base64"),n=PX(r,i),V8e(n,i)}function vZ(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return vP(e.slice(n),t);default:break e}return Zg.to_workbook(e,t)}function $8e(e,t){var n="",r=WM(e,t);switch(t.type){case"base64":n=Mo(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=mf(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=rr(n)),t.type="binary",vZ(n,t)}function q8e(e,t){var n=e;return t.type=="base64"&&(n=Mo(n)),n=My.utils.decode(1200,n.slice(2),"str"),t.type="binary",vZ(n,t)}function K8e(e){return e.match(/[^\x00-\x7F]/)?Rl(e):e}function WA(e,t,n,r){return r?(n.type="string",Zg.to_workbook(e,n)):Zg.to_workbook(t,n)}function CP(e,t){uM();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return CP(new Uint8Array(e),(n=mr(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Tg={},n.dateNF&&(Tg.dateNF=n.dateNF),n.type||(n.type=ln&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=ln?"buffer":"binary",r=UOe(e),typeof Uint8Array<"u"&&!ln&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=K8e(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return n=mr(n),n.type="array",CP(dM(r),n)}switch((i=WM(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return j8e(Vt.read(r,n),n);break;case 9:if(i[1]<=8)return cZ(r,n);break;case 60:return vP(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return J4e(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return _Q.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?W8e(r,n):WA(e,r,n,s);case 239:return i[3]===60?vP(r,n):WA(e,r,n,s);case 255:if(i[1]===254)return q8e(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return $h.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return $h.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return mP.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return MQ.to_workbook(r,n);break;case 10:case 13:case 32:return $8e(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Z4e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?mP.to_workbook(r,n):WA(e,r,n,s)}function yZ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return tC(t.file,Vt.write(e,{type:ln?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Vt.write(e,t)}function Y8e(e,t){var n=mr(t||{}),r=G8e(e,n);return X8e(r,n)}function X8e(e,t){var n={},r=ln?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Vt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(eT(i))}return t.password&&typeof encrypt_agile<"u"?yZ(encrypt_agile(i,t.password),t):t.type==="file"?tC(t.file,i):t.type=="string"?rr(i):i}function Q8e(e,t){var n=t||{},r=KGe(e,n);return yZ(r,n)}function pl(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Oy(Rl(r));case"binary":return Rl(r);case"string":return e;case"file":return tC(t.file,r,"utf8");case"buffer":return ln?nu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):pl(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Z8e(e,t){switch(t.type){case"base64":return Oy(e);case"binary":return e;case"string":return e;case"file":return tC(t.file,e,"binary");case"buffer":return ln?nu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function mx(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?Oy(n):t.type=="string"?rr(n):n;case"file":return tC(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function wZ(e,t){uM(),jHe(e);var n=mr(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=wZ(e,n);return n.type="array",eT(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return pl(GGe(e,n),n);case"slk":case"sylk":return pl(RQ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return pl(dZ(e.Sheets[e.SheetNames[i]],n),n);case"txt":return Z8e(CZ(e.Sheets[e.SheetNames[i]],n),n);case"csv":return pl($M(e.Sheets[e.SheetNames[i]],n),n,"\uFEFF");case"dif":return pl(_Q.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return mx(mP.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return pl(Zg.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return pl(MQ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return pl(AQ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return pl(gZ(e,n),n);case"wk1":return mx($h.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return mx($h.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),mx(uZ(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Q8e(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Y8e(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function J8e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function eUe(e,t,n){var r={};return r.type="file",r.file=t,J8e(r),wZ(e,r)}function tUe(e,t,n,r,i,s,o,a){var l=Xr(n),c=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||e[n])for(var g=t.s.c;g<=t.e.c;++g){var v=o?e[n][g]:e[r[g]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[g]!=null&&(p[s[g]]=c);continue}var y=v.v;switch(v.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[g]!=null){if(y==null)if(v.t=="e"&&y===null)p[s[g]]=null;else if(c!==void 0)p[s[g]]=c;else if(u&&y===null)p[s[g]]=null;else continue;else p[s[g]]=u&&(v.t!=="n"||v.t==="n"&&a.rawNumbers!==!1)?y:Yc(v,y,a);y!=null&&(h=!1)}}return{row:p,isempty:h}}function P1(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Dn(u);break;case"number":l=Dn(e["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var h=Xr(l.s.r),p=[],g=[],v=0,y=0,C=Array.isArray(e),b=l.s.r,E=0,x={};C&&!e[b]&&(e[b]=[]);var k=c.skipHidden&&e["!cols"]||[],D=c.skipHidden&&e["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(k[E]||{}).hidden)switch(p[E]=_r(E),n=C?e[b][E]:e[p[E]+h],r){case 1:s[E]=E-l.s.c;break;case 2:s[E]=p[E];break;case 3:s[E]=c.header[E-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=Yc(n,null,c),y=x[o]||0,!y)x[o]=1;else{do a=o+"_"+y++;while(x[a]);x[o]=y,x[a]=1}s[E]=a}for(b=l.s.r+i;b<=l.e.r;++b)if(!(D[b]||{}).hidden){var R=tUe(e,l,b,p,r,s,C,c);(R.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(g[v++]=R.row)}return g.length=v,g}var vG=/"/g;function nUe(e,t,n,r,i,s,o,a){for(var l=!0,c=[],u="",h=Xr(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var g=a.dense?(e[n]||[])[p]:e[r[p]+h];if(g==null)u="";else if(g.v!=null){l=!1,u=""+(a.rawNumbers&&g.t=="n"?g.v:Yc(g,null,a));for(var v=0,y=0;v!==u.length;++v)if((y=u.charCodeAt(v))===i||y===s||y===34||a.forceQuotes){u='"'+u.replace(vG,'""')+'"';break}u=="ID"&&(u='"ID"')}else g.f!=null&&!g.F?(l=!1,u="="+g.f,u.indexOf(",")>=0&&(u='"'+u.replace(vG,'""')+'"')):u="";c.push(u)}return a.blankrows===!1&&l?null:c.join(o)}function $M(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=Dn(e["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],g=r.skipHidden&&e["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(p[v]||{}).hidden||(h[v]=_r(v));for(var y=0,C=i.s.r;C<=i.e.r;++C)(g[C]||{}).hidden||(u=nUe(e,i,C,h,o,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((y++?a:"")+u)));return delete r.dense,n.join("")}function CZ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=$M(e,t);return n}function rUe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=Dn(e["!ref"]),s="",o=[],a,l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=_r(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=Xr(u),a=i.s.c;a<=i.e.c;++a)if(t=o[a]+s,n=c?(e[u]||[])[a]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function bZ(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Ar(r.origin):r.origin;o=l.r,a=l.c}var c,u={s:{c:0,r:0},e:{c:a,r:o+t.length-1+i}};if(s["!ref"]){var h=Dn(s["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+t.length-1+i)}else o==-1&&(o=0,u.e.r=t.length-1+i);var p=r.header||[],g=0;t.forEach(function(y,C){Br(y).forEach(function(b){(g=p.indexOf(b))==-1&&(p[g=p.length]=b);var E=y[b],x="z",k="",D=qt({c:a+g,r:o+C+i});c=qy(s,D),E&&typeof E=="object"&&!(E instanceof Date)?s[D]=E:(typeof E=="number"?x="n":typeof E=="boolean"?x="b":typeof E=="string"?x="s":E instanceof Date?(x="d",r.cellDates||(x="n",E=wi(E)),k=r.dateNF||jt[14]):E===null&&r.nullError&&(x="e",E=0),c?(c.t=x,c.v=E,delete c.w,delete c.R,k&&(c.z=k)):s[D]=c={t:x,v:E},k&&(c.z=k))})}),u.e.c=Math.max(u.e.c,a+p.length-1);var v=Xr(o);if(i)for(g=0;g<p.length;++g)s[_r(g+a)+v]={t:"s",v:p[g]};return s["!ref"]=tn(u),s}function iUe(e,t){return bZ(null,e,t)}function qy(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Ar(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?qy(e,qt(t)):qy(e,qt({r:t,c:n||0}))}function sUe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function qM(){return{SheetNames:[],Sheets:{}}}function KM(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(iZ(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function oUe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=sUe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function aUe(e,t){return e.z=t,e}function xZ(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function lUe(e,t,n){return xZ(e,"#"+t,n)}function cUe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function uUe(e,t,n,r){for(var i=typeof t!="string"?t:Dn(t),s=typeof t=="string"?t:tn(t),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=qy(e,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=n,r&&(l.D=!0))}return e}var yG={encode_col:_r,encode_row:Xr,encode_cell:qt,encode_range:tn,decode_col:SM,decode_row:xM,split_cell:CNe,decode_cell:Ar,decode_range:ro,format_cell:Yc,sheet_add_aoa:YX,sheet_add_json:bZ,sheet_add_dom:hZ,aoa_to_sheet:Em,json_to_sheet:iUe,table_to_sheet:fZ,table_to_book:m8e,sheet_to_csv:$M,sheet_to_txt:CZ,sheet_to_json:P1,sheet_to_html:dZ,sheet_to_formulae:rUe,sheet_to_row_object_array:P1,sheet_get_cell:qy,book_new:qM,book_append_sheet:KM,book_set_sheet_visibility:oUe,cell_set_number_format:aUe,cell_set_hyperlink:xZ,cell_set_internal_link:lUe,cell_add_comment:cUe,sheet_set_array_formula:uUe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const dUe=()=>{const[e,t]=A.useState(!1),n=async r=>{const i=r.target.files?.[0];if(i){t(!0);try{const s=await i.arrayBuffer(),o=CP(s);for(const a of o.SheetNames){const l=o.Sheets[a],c=yG.sheet_to_json(l),u=[];for(const p of c){const g=p.nombre||p.Nombre||p.estudiante||p.Estudiante,v=p.usuario||p.Usuario;if(!g||!v){cn.error(`Faltan datos en la hoja "${a}" (nombre o usuario)`);continue}const y=v.includes("@")?v:`${v}@mail.com`,C={name:g,email:y,role:en.STUDENT,id:""},{password:b}=await q$(C);u.push({...p,password:b})}u.length===0?u.push({password:""}):Object.prototype.hasOwnProperty.call(u[0],"password")||(u[0]={...u[0],password:""});const h=yG.json_to_sheet(u);o.Sheets[a]=h}eUe(o,"generated_users.xlsx"),cn.success("Usuarios importados y archivo generado correctamente")}catch(s){console.error(s),cn.error("Error al importar usuarios")}finally{t(!1)}}};return O.jsx("div",{children:O.jsxs(fr,{variant:"outline-primary",as:"label",htmlFor:"fileUpload",disabled:e,className:"d-flex align-items-center gap-2",children:[e?O.jsxs(O.Fragment,{children:[O.jsx(to,{animation:"border",size:"sm"})," Importando..."]}):O.jsxs(O.Fragment,{children:[O.jsx(vde,{size:16}),"Importar Usuarios"]}),O.jsx("input",{type:"file",id:"fileUpload",accept:".xlsx, .xls",onChange:n,hidden:!0})]})})},hUe=()=>{const{showForm:e,setShowForm:t}=aM(),n=async r=>{const{user:i}=await q$(r);return i};return O.jsxs("div",{children:[O.jsxs("div",{className:"d-flex gap-2 mb-3",children:[O.jsxs(fr,{variant:"outline-success",onClick:()=>t(!0),children:[O.jsx(kw,{size:16,className:"me-2"}),"Agregar Usuario"]}),O.jsx(dUe,{})]}),O.jsx(fX,{}),e&&O.jsxs(Sr,{show:e,onHide:()=>t(!1),children:[O.jsx(Sr.Header,{closeButton:!0,children:O.jsx(Sr.Title,{children:"Agregar Usuario"})}),O.jsx(Sr.Body,{children:O.jsx(cOe,{onSubmit:n})})]}),O.jsx(yI,{})]})};function ks(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fUe=typeof Symbol=="function"&&Symbol.observable||"@@observable",wG=fUe,CG=()=>Math.random().toString(36).substring(7).split("").join("."),pUe={INIT:`@@redux/INIT${CG()}`,REPLACE:`@@redux/REPLACE${CG()}`},bG=pUe;function gUe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function SZ(e,t,n){if(typeof e!="function")throw new Error(ks(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ks(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ks(1));return n(SZ)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((C,b)=>{o.set(b,C)}))}function u(){if(l)throw new Error(ks(3));return i}function h(C){if(typeof C!="function")throw new Error(ks(4));if(l)throw new Error(ks(5));let b=!0;c();const E=a++;return o.set(E,C),function(){if(b){if(l)throw new Error(ks(6));b=!1,c(),o.delete(E),s=null}}}function p(C){if(!gUe(C))throw new Error(ks(7));if(typeof C.type>"u")throw new Error(ks(8));if(typeof C.type!="string")throw new Error(ks(17));if(l)throw new Error(ks(9));try{l=!0,i=r(i,C)}finally{l=!1}return(s=o).forEach(E=>{E()}),C}function g(C){if(typeof C!="function")throw new Error(ks(10));r=C,p({type:bG.REPLACE})}function v(){const C=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(ks(11));function E(){const k=b;k.next&&k.next(u())}return E(),{unsubscribe:C(E)}},[wG](){return this}}}return p({type:bG.INIT}),{dispatch:p,subscribe:h,getState:u,replaceReducer:g,[wG]:v}}function xG(e,t){return function(...n){return t(e.apply(this,n))}}function SG(e,t){if(typeof e=="function")return xG(e,t);if(typeof e!="object"||e===null)throw new Error(ks(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=xG(i,t))}return n}function EZ(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function mUe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(ks(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(o));return s=EZ(...a)(i.dispatch),{...i,dispatch:s}}}var $A={exports:{}},qA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EG;function vUe(){if(EG)return qA;EG=1;var e=K1();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return qA.useSyncExternalStoreWithSelector=function(l,c,u,h,p){var g=i(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=o(function(){function C(D){if(!b){if(b=!0,E=D,D=h(D),p!==void 0&&v.hasValue){var R=v.value;if(p(R,D))return x=R}return x=D}if(R=x,n(E,D))return R;var _=h(D);return p!==void 0&&p(R,_)?(E=D,R):(E=D,x=_)}var b=!1,E,x,k=u===void 0?null:u;return[function(){return C(c())},k===null?void 0:function(){return C(k())}]},[c,u,h,p]);var y=r(l,g[0],g[1]);return s(function(){v.hasValue=!0,v.value=y},[y]),a(y),y},qA}var TG;function yUe(){return TG||(TG=1,$A.exports=vUe()),$A.exports}yUe();var wUe=A.version.startsWith("19"),CUe=Symbol.for(wUe?"react.transitional.element":"react.element"),bUe=Symbol.for("react.portal"),xUe=Symbol.for("react.fragment"),SUe=Symbol.for("react.strict_mode"),EUe=Symbol.for("react.profiler"),TUe=Symbol.for("react.consumer"),RUe=Symbol.for("react.context"),TZ=Symbol.for("react.forward_ref"),_Ue=Symbol.for("react.suspense"),AUe=Symbol.for("react.suspense_list"),YM=Symbol.for("react.memo"),kUe=Symbol.for("react.lazy"),DUe=TZ,PUe=YM;function FUe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case CUe:switch(e=e.type,e){case xUe:case EUe:case SUe:case _Ue:case AUe:return e;default:switch(e=e&&e.$$typeof,e){case RUe:case TZ:case kUe:case YM:return e;case TUe:return e;default:return t}}case bUe:return t}}}function IUe(e){return FUe(e)===YM}function MUe(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,c,u,h,p;function g(E,x){return l=E,c=x,u=e(l,c),h=t(r,c),p=n(u,h,c),a=!0,p}function v(){return u=e(l,c),t.dependsOnOwnProps&&(h=t(r,c)),p=n(u,h,c),p}function y(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(h=t(r,c)),p=n(u,h,c),p}function C(){const E=e(l,c),x=!o(E,u);return u=E,x&&(p=n(u,h,c)),p}function b(E,x){const k=!s(x,c),D=!i(E,l,x,c);return l=E,c=x,k&&D?v():k?y():D?C():p}return function(x,k){return a?b(x,k):g(x,k)}}function OUe(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),o=n(e,i),a=r(e,i);return MUe(s,o,a,e,i)}function NUe(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function bP(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function RG(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function RZ(e,t){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=RG(e);let c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=RG(c),c=s(a,l)),c},s}}function XM(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function LUe(e){return e&&typeof e=="object"?bP(t=>NUe(e,t)):e?typeof e=="function"?RZ(e):XM(e,"mapDispatchToProps"):bP(t=>({dispatch:t}))}function BUe(e){return e?typeof e=="function"?RZ(e):XM(e,"mapStateToProps"):bP(()=>({}))}function VUe(e,t,n){return{...n,...e,...t}}function HUe(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,c,u){const h=e(l,c,u);return s?i(h,o)||(o=h):(s=!0,o=h),o}}}function GUe(e){return e?typeof e=="function"?HUe(e):XM(e,"mergeProps"):()=>VUe}function UUe(e){e()}function zUe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UUe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var _G={notify(){},get:()=>[]};function _Z(e,t){let n,r=_G,i=0,s=!1;function o(y){u();const C=r.subscribe(y);let b=!1;return()=>{b||(b=!0,C(),h())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return s}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=zUe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_G)}function p(){s||(s=!0,u())}function g(){s&&(s=!1,h())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return v}var jUe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WUe=jUe(),$Ue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qUe=$Ue(),KUe=()=>WUe||qUe?A.useLayoutEffect:A.useEffect,F1=KUe();function AG(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function KA(e,t){if(AG(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!AG(e[n[i]],t[n[i]]))return!1;return!0}var YUe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XUe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},QUe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZUe={[DUe]:QUe,[PUe]:AZ};function kG(e){return IUe(e)?AZ:ZUe[e.$$typeof]||YUe}var JUe=Object.defineProperty,eze=Object.getOwnPropertyNames,DG=Object.getOwnPropertySymbols,tze=Object.getOwnPropertyDescriptor,nze=Object.getPrototypeOf,PG=Object.prototype;function xP(e,t){if(typeof t!="string"){if(PG){const s=nze(t);s&&s!==PG&&xP(e,s)}let n=eze(t);DG&&(n=n.concat(DG(t)));const r=kG(e),i=kG(t);for(let s=0;s<n.length;++s){const o=n[s];if(!XUe[o]&&!(i&&i[o])&&!(r&&r[o])){const a=tze(t,o);try{JUe(e,o,a)}catch{}}}}return e}var rze=Symbol.for("react-redux-context"),ize=typeof globalThis<"u"?globalThis:{};function sze(){if(!A.createContext)return{};const e=ize[rze]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var kZ=sze(),oze=[null,null];function aze(e,t,n){F1(()=>e(...t),n)}function lze(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function cze(e,t,n,r,i,s,o,a,l,c,u){if(!e)return()=>{};let h=!1,p=null;const g=()=>{if(h||!a.current)return;const y=t.getState();let C,b;try{C=r(y,i.current)}catch(E){b=E,p=E}b||(p=null),C===s.current?o.current||c():(s.current=C,l.current=C,o.current=!0,u())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function uze(e,t){return e===t}function dze(e,t,n,{pure:r,areStatesEqual:i=uze,areOwnPropsEqual:s=KA,areStatePropsEqual:o=KA,areMergedPropsEqual:a=KA,forwardRef:l=!1,context:c=kZ}={}){const u=c,h=BUe(e),p=LUe(t),g=GUe(n),v=!!e;return C=>{const b=C.displayName||C.name||"Component",E=`Connect(${b})`,x={shouldHandleStateChanges:v,displayName:E,wrappedComponentName:b,WrappedComponent:C,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function k(_){const[I,F,N]=A.useMemo(()=>{const{reactReduxForwardedRef:ue,...St}=_;return[_.context,ue,St]},[_]),B=A.useMemo(()=>{let ue=u;return I?.Consumer,ue},[I,u]),M=A.useContext(B),L=!!_.store&&!!_.store.getState&&!!_.store.dispatch,H=!!M&&!!M.store,ee=L?_.store:M.store,re=H?M.getServerState:ee.getState,te=A.useMemo(()=>OUe(ee.dispatch,x),[ee]),[he,Z]=A.useMemo(()=>{if(!v)return oze;const ue=_Z(ee,L?void 0:M.subscription),St=ue.notifyNestedSubs.bind(ue);return[ue,St]},[ee,L,M]),V=A.useMemo(()=>L?M:{...M,subscription:he},[L,M,he]),X=A.useRef(void 0),z=A.useRef(N),G=A.useRef(void 0),Y=A.useRef(!1),J=A.useRef(!1),pe=A.useRef(void 0);F1(()=>(J.current=!0,()=>{J.current=!1}),[]);const He=A.useMemo(()=>()=>G.current&&N===z.current?G.current:te(ee.getState(),N),[ee,N]),Re=A.useMemo(()=>St=>he?cze(v,ee,he,te,z,X,Y,J,G,Z,St):()=>{},[he]);aze(lze,[z,X,Y,N,G,Z]);let Te;try{Te=A.useSyncExternalStore(Re,He,re?()=>te(re(),N):He)}catch(ue){throw pe.current&&(ue.message+=`
The error may be correlated with this previous error:
${pe.current.stack}

`),ue}F1(()=>{pe.current=void 0,G.current=void 0,X.current=Te});const De=A.useMemo(()=>A.createElement(C,{...Te,ref:F}),[F,C,Te]);return A.useMemo(()=>v?A.createElement(B.Provider,{value:V},De):De,[B,De,V])}const R=A.memo(k);if(R.WrappedComponent=C,R.displayName=k.displayName=E,l){const I=A.forwardRef(function(N,B){return A.createElement(R,{...N,reactReduxForwardedRef:B})});return I.displayName=E,I.WrappedComponent=C,xP(I,C)}return xP(R,C)}}var DZ=dze;function hze(e){const{children:t,context:n,serverState:r,store:i}=e,s=A.useMemo(()=>{const l=_Z(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=A.useMemo(()=>i.getState(),[i]);F1(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||kZ;return A.createElement(a.Provider,{value:s},t)}var fze=hze,pze="Invariant failed";function gze(e,t){throw new Error(pze)}var Ha=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},QM=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},FG=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},mze=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},YA={top:0,right:0,bottom:0,left:0},ZM=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?YA:r,s=t.border,o=s===void 0?YA:s,a=t.padding,l=a===void 0?YA:a,c=Ha(QM(n,i)),u=Ha(FG(n,o)),h=Ha(FG(u,l));return{marginBox:c,borderBox:Ha(n),paddingBox:u,contentBox:h,margin:i,border:o,padding:l}},Qo=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&gze(),i},vze=function(){return{x:window.pageXOffset,y:window.pageYOffset}},I1=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,a=mze(r,n);return ZM({borderBox:a,border:i,margin:s,padding:o})},M1=function(t,n){return n===void 0&&(n=vze()),I1(t,n)},PZ=function(t,n){var r={top:Qo(n.marginTop),right:Qo(n.marginRight),bottom:Qo(n.marginBottom),left:Qo(n.marginLeft)},i={top:Qo(n.paddingTop),right:Qo(n.paddingRight),bottom:Qo(n.paddingBottom),left:Qo(n.paddingLeft)},s={top:Qo(n.borderTopWidth),right:Qo(n.borderRightWidth),bottom:Qo(n.borderBottomWidth),left:Qo(n.borderLeftWidth)};return ZM({borderBox:t,margin:r,padding:i,border:s})},FZ=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return PZ(n,r)},Ky=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function IZ(e,t){}IZ.bind(null,"warn");IZ.bind(null,"error");function id(){}function yze(e,t){return{...e,...t}}function fa(e,t,n){const r=t.map(i=>{const s=yze(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const wze="Invariant failed";class O1 extends Error{}O1.prototype.toString=function(){return this.message};function yt(e,t){throw new O1(wze)}class Cze extends me.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=id,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof O1&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=fa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof O1){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const bze=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,N1=e=>e+1,xze=e=>`
  You have lifted an item in position ${N1(e.source.index)}
`,MZ=(e,t)=>{const n=e.droppableId===t.droppableId,r=N1(e.index),i=N1(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},OZ=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Sze=e=>{const t=e.destination;if(t)return MZ(e.source,t);const n=e.combine;return n?OZ(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},IG=e=>`
  The item has returned to its starting position
  of ${N1(e.index)}
`,Eze=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${IG(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${MZ(e.source,t)}
    `:n?`
      You have dropped the item.
      ${OZ(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${IG(e.source)}
  `},lS={dragHandleUsageInstructions:bze,onDragStart:xze,onDragUpdate:Sze,onDragEnd:Eze};function Tze(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function NZ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Tze(e[n],t[n]))return!1;return!0}function _n(e,t){const n=A.useState(()=>({inputs:t,result:e()}))[0],r=A.useRef(!0),i=A.useRef(n),o=r.current||!!(t&&i.current.inputs&&NZ(t,i.current.inputs))?i.current:{inputs:t,result:e()};return A.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ot(e,t){return _n(()=>e,t)}const Ni={x:0,y:0},Ji=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ro=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),sd=(e,t)=>e.x===t.x&&e.y===t.y,Rm=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),bf=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Yy=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),MG=(e,t)=>Math.min(...t.map(n=>Yy(e,n))),LZ=e=>t=>({x:e(t.x),y:e(t.y)});var Rze=(e,t)=>{const n=Ha({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const cC=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),OG=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],_ze={top:0,right:0,bottom:0,left:0},Aze=(e,t)=>t?cC(e,t.scroll.diff.displacement):e,kze=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Dze=(e,t)=>t&&t.shouldClipSubject?Rze(t.pageMarginBox,e):Ha(e);var em=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=Aze(e.marginBox,r),s=kze(i,n,t),o=Dze(s,r);return{page:e,withPlaceholder:t,active:o}},JM=(e,t)=>{e.frame||yt();const n=e.frame,r=Ro(t,n.scroll.initial),i=Rm(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=em({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function Mi(e,t=NZ){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const BZ=Mi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),VZ=Mi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),cT=Mi(e=>Object.values(e)),Pze=Mi(e=>Object.values(e));var _m=Mi((e,t)=>Pze(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function eO(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function uT(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var dT=Mi((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Fze=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!eO(i))return null;function o(g){const v={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...i,at:v}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const c=dT(t,r);if(!l){if(!c.length)return null;const g=c[c.length-1];return o(g.descriptor.id)}const u=c.findIndex(g=>g.descriptor.id===l);u===-1&&yt();const h=u-1;if(h<0)return null;const p=c[h];return o(p.descriptor.id)},Am=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const HZ={point:Ni,value:0},Xy={invisible:{},visible:{},all:[]},Ize={displaced:Xy,displacedBy:HZ,at:null};var ma=(e,t)=>n=>e<=n&&n<=t,GZ=e=>{const t=ma(e.top,e.bottom),n=ma(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return l&&c?!0:l&&o||c&&s}},Mze=e=>{const t=ma(e.top,e.bottom),n=ma(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const tO={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},UZ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Oze=e=>t=>{const n=ma(t.top,t.bottom),r=ma(t.left,t.right);return i=>e===tO?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const Nze=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Ni;return cC(e,n)},Lze=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Bze=(e,t,n)=>n(t)(e),nO=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?Nze(e,t):e;return Lze(s,t,i)&&Bze(s,n,i)},Vze=e=>nO({...e,isVisibleThroughFrameFn:GZ}),zZ=e=>nO({...e,isVisibleThroughFrameFn:Mze}),Hze=e=>nO({...e,isVisibleThroughFrameFn:Oze(e.destination.axis)}),Gze=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const s=i[e];return s?s.shouldAnimate:!0};function Uze(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ha(QM(n,r))}function Qy({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return e.reduce(function(a,l){const c=Uze(l,n),u=l.descriptor.id;if(a.all.push(u),!Vze({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const p=Gze(u,s,i),g={draggableId:u,shouldAnimate:p};return a.visible[u]=g,a},{all:[],visible:{},invisible:{}})}function zze(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function NG({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=zze(e,{inHomeList:t});return{displaced:Xy,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function L1({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=Am(e,n);if(o==null)return NG({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const c=t.find(v=>v.descriptor.index===o);if(!c)return NG({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const u=dT(e,t),h=t.indexOf(c),p=u.slice(h);return{displaced:Qy({afterDragging:p,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function xd(e,t){return!!t.effected[e]}var jze=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return xd(s,i)?e?a:a-1:e?a+1:a},Wze=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=e?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return s<o||s>l?null:s},$ze=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||yt(),c.type==="REORDER"){const h=Wze({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:s});return h==null?null:L1({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})}const u=jze({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:L1({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})},qze=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return xd(n,t)?i?Ni:Rm(r.point):i?r.point:Ni},Kze=({afterCritical:e,impact:t,draggables:n})=>{const r=uT(t);r||yt();const i=r.draggableId,s=n[i].page.borderBox.center,o=qze({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Ji(s,o)};const jZ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Yze=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,rO=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,LG=({axis:e,moveRelativeTo:t,isMoving:n})=>bf(e.line,t.marginBox[e.end]+jZ(e,n),rO(e,t.marginBox,n)),BG=({axis:e,moveRelativeTo:t,isMoving:n})=>bf(e.line,t.marginBox[e.start]-Yze(e,n),rO(e,t.marginBox,n)),Xze=({axis:e,moveInto:t,isMoving:n})=>bf(e.line,t.contentBox[e.start]+jZ(e,n),rO(e,t.contentBox,n));var Qze=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const s=_m(r.descriptor.id,n),o=t.page,a=r.axis;if(!s.length)return Xze({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const p=n[u];if(xd(u,i))return BG({axis:a,moveRelativeTo:p.page,isMoving:o});const g=I1(p.page,c.point);return BG({axis:a,moveRelativeTo:g,isMoving:o})}const h=s[s.length-1];if(h.descriptor.id===t.descriptor.id)return o.borderBox.center;if(xd(h.descriptor.id,i)){const p=I1(h.page,Rm(i.displacedBy.point));return LG({axis:a,moveRelativeTo:p,isMoving:o})}return LG({axis:a,moveRelativeTo:h.page,isMoving:o})},SP=(e,t)=>{const n=e.frame;return n?Ji(t,n.scroll.diff.displacement):t};const Zze=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?Qze({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):Kze({impact:e,draggables:r,afterCritical:i})};var hT=e=>{const t=Zze(e),n=e.droppable;return n?SP(n,t):t},WZ=(e,t)=>{const n=Ro(t,e.scroll.initial),r=Rm(n);return{frame:Ha({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function VG(e,t){return e.map(n=>t[n])}function Jze(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var e9e=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const s=WZ(t,Ji(t.scroll.current,i)),o=n.frame?JM(n,Ji(n.frame.scroll.current,i)):n,a=e.displaced,l=Qy({afterDragging:VG(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=Qy({afterDragging:VG(a.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},h={},p=[a,l,c];return a.all.forEach(v=>{const y=Jze(v,p);if(y){h[v]=y;return}u[v]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:h}}},t9e=(e,t)=>Ji(e.scroll.diff.displacement,t),iO=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=t9e(n,e),i=Ro(r,t.page.borderBox.center);return Ji(t.client.borderBox.center,i)},$Z=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=Ro(n,e.page.borderBox.center),l={target:cC(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return s?Hze(l):zZ(l)},n9e=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=_m(n.descriptor.id,r),u=Am(t,n),h=Fze({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:i})||$ze({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:s,afterCritical:l});if(!h)return null;const p=hT({impact:h,draggable:t,droppable:n,draggables:r,afterCritical:l});if($Z({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:iO({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:h,scrollJumpRequest:null};const v=Ro(p,o),y=e9e({impact:h,viewport:s,destination:n,draggables:r,maxScrollChange:v});return{clientSelection:a,impact:y,scrollJumpRequest:v}};const As=e=>{const t=e.subject.active;return t||yt(),t};var r9e=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=ma(s[o.start],s[o.end]),l=cT(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>GZ(i.frame)(As(u))).filter(u=>{const h=As(u);return e?s[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<s[o.crossAxisStart]}).filter(u=>{const h=As(u),p=ma(h[o.start],h[o.end]);return a(h[o.start])||a(h[o.end])||p(s[o.start])||p(s[o.end])}).sort((u,h)=>{const p=As(u)[o.crossAxisStart],g=As(h)[o.crossAxisStart];return e?p-g:g-p}).filter((u,h,p)=>As(u)[o.crossAxisStart]===As(p[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>ma(As(u)[o.start],As(u)[o.end])(t[o.line]));return c.length===1?c[0]:c.length>1?c.sort((u,h)=>As(u)[o.start]-As(h)[o.start])[0]:l.sort((u,h)=>{const p=MG(t,OG(As(u))),g=MG(t,OG(As(h)));return p!==g?p-g:As(u)[o.start]-As(h)[o.start]})[0]};const HG=(e,t)=>{const n=e.page.borderBox.center;return xd(e.descriptor.id,t)?Ro(n,t.displacedBy.point):n},i9e=(e,t)=>{const n=e.page.borderBox;return xd(e.descriptor.id,t)?cC(n,Rm(t.displacedBy.point)):n};var s9e=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>zZ({target:i9e(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=Yy(e,SP(n,HG(o,i))),c=Yy(e,SP(n,HG(a,i)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,uC=Mi(function(t,n){const r=n[t.line];return{value:r,point:bf(t.line,r)}});const o9e=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return bf(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=_m(e.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:bf(r.line,l)},qZ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),KZ=(e,t,n)=>{const r=e.frame;Am(t,e)&&yt(),e.subject.withPlaceholder&&yt();const i=uC(e.axis,t.displaceBy).point,s=o9e(e,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const u=em({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=s?Ji(r.scroll.max,s):r.scroll.max,l=qZ(r,a),c=em({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},a9e=e=>{const t=e.subject.withPlaceholder;t||yt();const n=e.frame;if(!n){const o=em({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||yt();const i=qZ(n,r),s=em({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:s,frame:i}};var l9e=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!t){if(n.length)return null;const h={displaced:Xy,displacedBy:HZ,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=hT({impact:h,draggable:r,droppable:s,draggables:i,afterCritical:a}),g=Am(r,s)?s:KZ(s,r,i);return $Z({draggable:r,destination:g,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],c=(()=>{const h=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?h:h+1})(),u=uC(s.axis,r.displaceBy);return L1({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:u,last:Xy,index:c})},c9e=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=r9e({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:o});if(!l)return null;const c=_m(l.descriptor.id,i),u=s9e({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:c,afterCritical:a}),h=l9e({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:a});if(!h)return null;const p=hT({impact:h,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:iO({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}},Po=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const u9e=(e,t)=>{const n=Po(e);return n?t[n]:null};var d9e=({state:e,type:t})=>{const n=u9e(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:h,droppables:p}=e.dimensions;return a?n9e({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:s,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):c9e({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:s,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function yh(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function YZ(e){const t=ma(e.top,e.bottom),n=ma(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function h9e(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function f9e({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=bf(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Yy(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function p9e({pageBorderBox:e,draggable:t,droppables:n}){const r=cT(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!h9e(e,s))return!1;if(YZ(s)(e.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=e[o.crossAxisStart],c=e[o.crossAxisEnd],u=ma(s[o.crossAxisStart],s[o.crossAxisEnd]),h=u(l),p=u(c);return!h&&!p?!0:h?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:f9e({pageBorderBox:e,draggable:t,candidates:r}):null}const XZ=(e,t)=>Ha(cC(e,t));var g9e=(e,t)=>{const n=e.frame;return n?XZ(t,n.scroll.diff.value):t};function QZ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function m9e({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var v9e=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=uC(n.axis,t.displaceBy),c=l.value,u=e[a.start],h=e[a.end],g=dT(t,r).find(y=>{const C=y.descriptor.id,b=y.page.borderBox.center[a.line],E=xd(C,o),x=QZ({displaced:i,id:C});return E?x?h<=b:u<b-c:x?h<=b+c:u<b})||null,v=m9e({draggable:t,closest:g,inHomeList:Am(t,n)});return L1({draggable:t,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:v})};const y9e=4;var w9e=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=uC(r.axis,e.displaceBy),l=a.value,c=t[o.start],u=t[o.end],p=dT(e,i).find(v=>{const y=v.descriptor.id,C=v.page.borderBox,E=C[o.size]/y9e,x=xd(y,s),k=QZ({displaced:n.displaced,id:y});return x?k?u>C[o.start]+E&&u<C[o.end]-E:c>C[o.start]-l+E&&c<C[o.end]-l-E:k?u>C[o.start]+l+E&&u<C[o.end]+l-E:c>C[o.start]+E&&c<C[o.end]-E});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},ZZ=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=XZ(t.page.borderBox,e),l=p9e({pageBorderBox:a,draggable:t,droppables:r});if(!l)return Ize;const c=r[l],u=_m(c.descriptor.id,n),h=g9e(c,a);return w9e({pageBorderBoxWithDroppableScroll:h,draggable:t,previousImpact:i,destination:c,insideDestination:u,afterCritical:o})||v9e({pageBorderBoxWithDroppableScroll:h,draggable:t,destination:c,insideDestination:u,last:i.displaced,viewport:s,afterCritical:o})},sO=(e,t)=>({...e,[t.descriptor.id]:t});const C9e=({previousImpact:e,impact:t,droppables:n})=>{const r=Po(e),i=Po(t);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=a9e(s);return sO(n,o)};var b9e=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const s=C9e({previousImpact:r,impact:i,droppables:n}),o=Po(i);if(!o)return s;const a=n[o];if(Am(e,a)||a.subject.withPlaceholder)return s;const l=KZ(a,e,t);return sO(s,l)},Uv=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=Ro(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:Ji(e.initial.client.borderBoxCenter,c)},h={selection:Ji(u.selection,o.scroll.current),borderBoxCenter:Ji(u.borderBoxCenter,o.scroll.current),offset:Ji(u.offset,o.scroll.diff.value)},p={client:u,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:p};const g=a.draggables[e.critical.draggable.id],v=i||ZZ({pageOffset:h.offset,draggable:g,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),y=b9e({draggable:g,impact:v,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:y},impact:v,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function x9e(e,t){return e.map(n=>t[n])}var JZ=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=e.displaced,o=x9e(s.all,n),a=Qy({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:s});return{...e,displaced:a}},eJ=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=hT({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return iO({pageBorderBoxCenter:o,draggable:t,viewport:i})},tJ=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&yt();const r=e.impact,i=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:a}=s,l=o[e.critical.draggable.id],c=Po(r);c||yt();const u=a[c],h=JZ({impact:r,viewport:i,destination:u,draggables:o}),p=eJ({impact:h,draggable:l,droppable:u,draggables:o,viewport:i,afterCritical:e.afterCritical});return Uv({impact:h,clientSelection:p,state:e,dimensions:s,viewport:i})},S9e=e=>({index:e.index,droppableId:e.droppableId}),nJ=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=uC(t.axis,e.displaceBy),s=_m(t.descriptor.id,n),o=s.indexOf(e);o===-1&&yt();const a=s.slice(o+1),l=a.reduce((p,g)=>(p[g.descriptor.id]=!0,p),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Qy({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:S9e(e.descriptor)}},afterCritical:c}},E9e=(e,t)=>({draggables:e.draggables,droppables:sO(e.droppables,t)}),T9e=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=I1(e.client,t),i=M1(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},R9e=e=>{const t=e.frame;return t||yt(),t},_9e=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const s=i.descriptor.droppableId,o=t[s],l=R9e(o).scroll.diff.value,c=Ji(r,l);return T9e({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},A9e=({state:e,published:t})=>{const n=t.modified.map(b=>{const E=e.dimensions.droppables[b.droppableId];return JM(E,b.scroll)}),r={...e.dimensions.droppables,...BZ(n)},i=VZ(_9e({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...i};t.removals.forEach(b=>{delete s[b]});const o={droppables:r,draggables:s},a=Po(e.impact),l=a?o.droppables[a]:null,c=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:h,afterCritical:p}=nJ({draggable:c,home:u,draggables:s,viewport:e.viewport}),g=l&&l.isCombineEnabled?e.impact:h,v=ZZ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:g,viewport:e.viewport,afterCritical:p}),y={...e,phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const EP=e=>e.movementMode==="SNAP",XA=(e,t,n)=>{const r=E9e(e.dimensions,t);return!EP(e)||n?Uv({state:e,dimensions:r}):tJ({state:e,dimensions:r})};function QA(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const GG={phase:"IDLE",completed:null,shouldFlush:!1};var k9e=(e=GG,t)=>{if(t.type==="FLUSH")return{...GG,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&yt();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Ni},u={client:c,page:{selection:Ji(c.selection,i.scroll.initial),borderBoxCenter:Ji(c.selection,i.scroll.initial),offset:Ji(c.selection,i.scroll.diff.value)}},h=cT(s.droppables).every(y=>!y.isFixedOnPage),{impact:p,afterCritical:g}=nJ({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:u,current:u,isWindowScrollAllowed:h,impact:p,afterCritical:g,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&yt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||yt(),A9e({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;yh(e)||yt();const{client:n}=t.payload;return sd(n,e.current.client.selection)?e:Uv({state:e,clientSelection:n,impact:EP(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return QA(e);yh(e)||yt();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const s=JM(i,r);return XA(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;yh(e)||yt();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||yt(),i.isEnabled===r&&yt();const s={...i,isEnabled:r};return XA(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;yh(e)||yt();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||yt(),i.isCombineEnabled===r&&yt();const s={...i,isCombineEnabled:r};return XA(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;yh(e)||yt(),e.isWindowScrollAllowed||yt();const n=t.payload.newScroll;if(sd(e.viewport.scroll.current,n))return QA(e);const r=WZ(e.viewport,n);return EP(e)?tJ({state:e,viewport:r}):Uv({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!yh(e))return e;const n=t.payload.maxScroll;if(sd(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&yt();const n=d9e({state:e,type:t.type});return n?Uv({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&yt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||yt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Wn(e,t){return e instanceof Object&&"type"in e&&e.type===t}const D9e=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),P9e=e=>({type:"LIFT",payload:e}),F9e=e=>({type:"INITIAL_PUBLISH",payload:e}),I9e=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),M9e=()=>({type:"COLLECTION_STARTING",payload:null}),O9e=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),N9e=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),L9e=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),rJ=e=>({type:"MOVE",payload:e}),B9e=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),V9e=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),H9e=()=>({type:"MOVE_UP",payload:null}),G9e=()=>({type:"MOVE_DOWN",payload:null}),U9e=()=>({type:"MOVE_RIGHT",payload:null}),z9e=()=>({type:"MOVE_LEFT",payload:null}),oO=()=>({type:"FLUSH",payload:null}),j9e=e=>({type:"DROP_ANIMATE",payload:e}),aO=e=>({type:"DROP_COMPLETE",payload:e}),iJ=e=>({type:"DROP",payload:e}),W9e=e=>({type:"DROP_PENDING",payload:e}),sJ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var $9e=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Wn(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(aO({completed:l.completed})),t().phase!=="IDLE"&&yt(),n(oO()),n(D9e({draggableId:s,movementMode:a}));const u={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:p,viewport:g}=e.startPublishing(u);n(F9e({critical:h,dimensions:p,clientSelection:o,movementMode:a,viewport:g}))},q9e=e=>()=>t=>n=>{Wn(n,"INITIAL_PUBLISH")&&e.dragging(),Wn(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Wn(n,"FLUSH")||Wn(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const lO={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Zy={opacity:{drop:0,combining:.7},scale:{drop:.75}},oJ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},hh=`${oJ.outOfTheWay}s ${lO.outOfTheWay}`,zv={fluid:`opacity ${hh}`,snap:`transform ${hh}, opacity ${hh}`,drop:e=>{const t=`${e}s ${lO.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${hh}`,placeholder:`height ${hh}, width ${hh}, margin ${hh}`},UG=e=>sd(e,Ni)?void 0:`translate(${e.x}px, ${e.y}px)`,TP={moveTo:UG,drop:(e,t)=>{const n=UG(e);if(n)return t?`${n} scale(${Zy.scale.drop})`:n}},{minDropTime:RP,maxDropTime:aJ}=oJ,K9e=aJ-RP,zG=1500,Y9e=.6;var X9e=({current:e,destination:t,reason:n})=>{const r=Yy(e,t);if(r<=0)return RP;if(r>=zG)return aJ;const i=r/zG,s=RP+K9e*i,o=n==="CANCEL"?s*Y9e:s;return Number(o.toFixed(2))},Q9e=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=Po(e),l=a?o[a]:null,c=o[t.descriptor.droppableId],u=eJ({impact:e,draggable:t,draggables:s,afterCritical:i,droppable:l||c,viewport:r});return Ro(u,t.client.borderBox.center)},Z9e=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:JZ({draggables:e,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Xy},didDropInsideDroppable:!0};const J9e=({getState:e,dispatch:t})=>n=>r=>{if(!Wn(r,"DROP")){n(r);return}const i=e(),s=r.payload.reason;if(i.phase==="COLLECTING"){t(W9e({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&yt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||yt();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:h}=Z9e({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=h?eO(u):null,g=h?uT(u):null,v={index:a.draggable.index,droppableId:a.droppable.id},y={draggableId:c.descriptor.id,type:c.descriptor.type,source:v,reason:s,mode:i.movementMode,destination:p,combine:g},C=Q9e({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:u};if(!(!sd(i.current.client.offset,C)||!!y.combine)){t(aO({completed:b}));return}const x=X9e({current:i.current.client.offset,destination:C,reason:s});t(j9e({newHomeClientOffset:C,dropDuration:x,completed:b}))};var lJ=()=>({x:window.pageXOffset,y:window.pageYOffset});function eje(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function tje({onWindowScroll:e}){function t(){e(lJ())}const n=Ky(t),r=eje(n);let i=id;function s(){return i!==id}function o(){s()&&yt(),i=fa(window,[r])}function a(){s()||yt(),n.cancel(),i(),i=id}return{start:o,stop:a,isActive:s}}const nje=e=>Wn(e,"DROP_COMPLETE")||Wn(e,"DROP_ANIMATE")||Wn(e,"FLUSH"),rje=e=>{const t=tje({onWindowScroll:n=>{e.dispatch(B9e({newScroll:n}))}});return n=>r=>{!t.isActive()&&Wn(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&nje(r)&&t.stop(),n(r)}};var ije=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=()=>t,i},sje=()=>{const e=[],t=i=>{const s=e.findIndex(a=>a.timerId===i);s===-1&&yt();const[o]=e.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const oje=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,aje=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,lje=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},q0=(e,t)=>{t()},vx=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ZA(e,t,n,r){if(!e){n(r(t));return}const i=ije(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var cje=(e,t)=>{const n=sje();let r=null;const i=(h,p)=>{r&&yt(),q0("onBeforeCapture",()=>{const g=e().onBeforeCapture;g&&g({draggableId:h,mode:p})})},s=(h,p)=>{r&&yt(),q0("onBeforeDragStart",()=>{const g=e().onBeforeDragStart;g&&g(vx(h,p))})},o=(h,p)=>{r&&yt();const g=vx(h,p);r={mode:p,lastCritical:h,lastLocation:g.source,lastCombine:null},n.add(()=>{q0("onDragStart",()=>ZA(e().onDragStart,g,t,lS.onDragStart))})},a=(h,p)=>{const g=eO(p),v=uT(p);r||yt();const y=!lje(h,r.lastCritical);y&&(r.lastCritical=h);const C=!oje(r.lastLocation,g);C&&(r.lastLocation=g);const b=!aje(r.lastCombine,v);if(b&&(r.lastCombine=v),!y&&!C&&!b)return;const E={...vx(h,r.mode),combine:v,destination:g};n.add(()=>{q0("onDragUpdate",()=>ZA(e().onDragUpdate,E,t,lS.onDragUpdate))})},l=()=>{r||yt(),n.flush()},c=h=>{r||yt(),r=null,q0("onDragEnd",()=>ZA(e().onDragEnd,h,t,lS.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const h={...vx(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(h)}}},uje=(e,t)=>{const n=cje(e,t);return r=>i=>s=>{if(Wn(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Wn(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Wn(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Wn(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const dje=e=>t=>n=>{if(!Wn(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&yt(),e.dispatch(aO({completed:r.completed}))},hje=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>s=>{if((Wn(s,"FLUSH")||Wn(s,"DROP_COMPLETE")||Wn(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Wn(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(sJ())}};n=requestAnimationFrame(()=>{n=null,t=fa(window,[o])})}};var fje=e=>()=>t=>n=>{(Wn(n,"DROP_COMPLETE")||Wn(n,"FLUSH")||Wn(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},pje=e=>{let t=!1;return()=>n=>r=>{if(Wn(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Wn(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Wn(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const gje=e=>Wn(e,"DROP_COMPLETE")||Wn(e,"DROP_ANIMATE")||Wn(e,"FLUSH");var mje=e=>t=>n=>r=>{if(gje(r)){e.stop(),n(r);return}if(Wn(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&yt(),e.start(i);return}n(r),e.scroll(t.getState())};const vje=e=>t=>n=>{if(t(n),!Wn(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(iJ({reason:r.reason})))},yje=EZ;var wje=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>SZ(k9e,yje(mUe(q9e(n),fje(e),$9e(e),J9e,dje,hje,vje,mje(s),rje,pje(t),uje(r,i))));const JA=()=>({additions:{},removals:{},modified:{}});function Cje({registry:e,callbacks:t}){let n=JA(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,h=Object.keys(l).map(v=>e.draggable.getById(v).getDimension(Ni)).sort((v,y)=>v.descriptor.index-y.descriptor.index),p=Object.keys(u).map(v=>{const C=e.droppable.getById(v).callbacks.getScrollWhileDragging();return{droppableId:v,scroll:C}}),g={additions:h,removals:Object.keys(c),modified:p};n=JA(),t.publish(g)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=JA())}}}var cJ=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ro({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},uJ=()=>{const e=document.documentElement;return e||yt(),e},dJ=()=>{const e=uJ();return cJ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},bje=()=>{const e=lJ(),t=dJ(),n=e.y,r=e.x,i=uJ(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:Ha({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Ni,displacement:Ni}}}},xje=({critical:e,scrollOptions:t,registry:n})=>{const r=bje(),i=r.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:VZ(a),droppables:BZ(o)},critical:e,viewport:r}};function jG(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Sje=(e,t)=>{let n=null;const r=Cje({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(p,g)=>{e.droppable.exists(p)||yt(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:g})},s=(p,g)=>{n&&(e.droppable.exists(p)||yt(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:g}))},o=(p,g)=>{n&&(e.droppable.exists(p)||yt(),t.updateDroppableScroll({id:p,newScroll:g}))},a=(p,g)=>{n&&e.droppable.getById(p).callbacks.scroll(g)},l=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},c=p=>{n||yt();const g=n.critical.draggable;p.type==="ADDITION"&&jG(e,g,p.value)&&r.add(p.value),p.type==="REMOVAL"&&jG(e,g,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:p=>{n&&yt();const g=e.draggable.getById(p.draggableId),v=e.droppable.getById(g.descriptor.droppableId),y={draggable:g.descriptor,droppable:v.descriptor},C=e.subscribe(c);return n={critical:y,unsubscribe:C},xje({critical:y,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:l}},hJ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Eje=e=>{window.scrollBy(e.x,e.y)};const Tje=Mi(e=>cT(e).filter(t=>!(!t.isEnabled||!t.frame))),Rje=(e,t)=>Tje(t).find(r=>(r.frame||yt(),YZ(r.frame.pageMarginBox)(e)))||null;var _je=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Rje(e,n)};const Jy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Aje=(e,t,n=()=>Jy)=>{const r=n(),i=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},fJ=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},cO=1,kje=(e,t,n=()=>Jy)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return cO;const s=1-fJ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},Dje=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=t,a=s,c=Date.now()-o;if(c>=s)return e;if(c<i)return cO;const u=fJ({startOfRange:i,endOfRange:a,current:c}),h=e*r.ease(u);return Math.ceil(h)},WG=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=kje(e,t,i);return s===0?0:r?Math.max(Dje(s,n,i),cO):s},$G=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=Aje(e,r,s);return t[r.end]<t[r.start]?WG({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*WG({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},Pje=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Fje=LZ(e=>e===0?0:e);var pJ=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=$G({container:t,distanceToEdges:o,dragStartTime:e,axis:tO,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=$G({container:t,distanceToEdges:o,dragStartTime:e,axis:UZ,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=Fje({x:l,y:a});if(sd(c,Ni))return null;const u=Pje({container:t,subject:n,proposedScroll:c});return u?sd(u,Ni)?null:u:null};const Ije=LZ(e=>e===0?0:e>0?1:-1),uO=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Ji(t,r),s={x:e(i.x,n.x),y:e(i.y,n.y)};return sd(s,Ni)?null:s}})(),gJ=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Ije(n),s=uO({max:r,current:t,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},dO=(e,t)=>gJ({current:e.scroll.current,max:e.scroll.max,change:t}),Mje=(e,t)=>{if(!dO(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return uO({current:r,max:n,change:t})},hO=(e,t)=>{const n=e.frame;return n?gJ({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Oje=(e,t)=>{const n=e.frame;return!n||!hO(e,t)?null:uO({current:n.scroll.current,max:n.scroll.max,change:t})};var Nje=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=pJ({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&dO(e,o)?o:null},Lje=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const a=pJ({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&hO(e,a)?a:null},qG=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,p=Nje({dragStartTime:t,viewport:h,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(p){r(p);return}}const c=_je({center:o,destination:Po(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=Lje({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});u&&i(c.descriptor.id,u)},Bje=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Jy})=>{const r=Ky(e),i=Ky(t);let s=null;const o=c=>{s||yt();const{shouldUseTimeDampening:u,dragStartTime:h}=s;qG({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{s&&yt();const u=Date.now();let h=!1;const p=()=>{h=!0};qG({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),s={dragStartTime:u,shouldUseTimeDampening:h},h&&o(c)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},Vje=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const c=Ji(a.current.client.selection,l);e({client:c})},i=(a,l)=>{if(!hO(a,l))return l;const c=Oje(a,l);if(!c)return t(a.descriptor.id,l),null;const u=Ro(l,c);return t(a.descriptor.id,u),Ro(l,u)},s=(a,l,c)=>{if(!a||!dO(l,c))return c;const u=Mje(l,c);if(!u)return n(c),null;const h=Ro(c,u);return n(h),Ro(c,h)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=Po(a.impact);c||yt();const u=i(a.dimensions.droppables[c],l);if(!u)return;const h=a.viewport,p=s(a.isWindowScrollAllowed,h,u);p&&r(a,p)}},Hje=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Bje({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=Vje({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const tm="data-rfd",nm=(()=>{const e=`${tm}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),_P=(()=>{const e=`${tm}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Gje=(()=>{const e=`${tm}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),KG={contextId:`${tm}-scroll-container-context-id`},Uje=e=>t=>`[${t}="${e}"]`,K0=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),zje="pointer-events: none;";var jje=e=>{const t=Uje(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(nm.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:zje,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${zv.outOfTheWay};
    `;return{selector:t(_P.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(Gje.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:K0(o,"always"),resting:K0(o,"resting"),dragging:K0(o,"dragging"),dropAnimating:K0(o,"dropAnimating"),userCancel:K0(o,"userCancel")}};const Fo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,ek=()=>{const e=document.querySelector("head");return e||yt(),e},YG=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Wje(e,t){const n=_n(()=>jje(e),[e]),r=A.useRef(null),i=A.useRef(null),s=Ot(Mi(h=>{const p=i.current;p||yt(),p.textContent=h}),[]),o=Ot(h=>{const p=r.current;p||yt(),p.textContent=h},[]);Fo(()=>{!r.current&&!i.current||yt();const h=YG(t),p=YG(t);return r.current=h,i.current=p,h.setAttribute(`${tm}-always`,e),p.setAttribute(`${tm}-dynamic`,e),ek().appendChild(h),ek().appendChild(p),o(n.always),s(n.resting),()=>{const g=v=>{const y=v.current;y||yt(),ek().removeChild(y),v.current=null};g(r),g(i)}},[t,o,s,n.always,n.resting,e]);const a=Ot(()=>s(n.dragging),[s,n.dragging]),l=Ot(h=>{if(h==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=Ot(()=>{i.current&&s(n.resting)},[s,n.resting]);return _n(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function mJ(e,t){return Array.from(e.querySelectorAll(t))}var vJ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function fT(e){return e instanceof vJ(e).HTMLElement}function $je(e,t){const n=`[${nm.contextId}="${e}"]`,r=mJ(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(nm.draggableId)===t);return!i||!fT(i)?null:i}function qje(e){const t=A.useRef({}),n=A.useRef(null),r=A.useRef(null),i=A.useRef(!1),s=Ot(function(p,g){const v={id:p,focus:g};return t.current[p]=v,function(){const C=t.current;C[p]!==v&&delete C[p]}},[]),o=Ot(function(p){const g=$je(e,p);g&&g!==document.activeElement&&g.focus()},[e]),a=Ot(function(p,g){n.current===p&&(n.current=g)},[]),l=Ot(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&o(p)}))},[o]),c=Ot(function(p){n.current=null;const g=document.activeElement;g&&g.getAttribute(nm.draggableId)===p&&(n.current=p)},[]);return Fo(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),_n(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function Kje(){const e={draggables:{},droppables:{}},t=[];function n(h){return t.push(h),function(){const g=t.indexOf(h);g!==-1&&t.splice(g,1)}}function r(h){t.length&&t.forEach(p=>p(h))}function i(h){return e.draggables[h]||null}function s(h){const p=i(h);return p||yt(),p}const o={register:h=>{e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,p)=>{const g=e.draggables[p.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const p=h.descriptor.id,g=i(p);g&&h.uniqueId===g.uniqueId&&(delete e.draggables[p],e.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(e.draggables).filter(p=>p.descriptor.type===h)};function a(h){return e.droppables[h]||null}function l(h){const p=a(h);return p||yt(),p}const c={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const p=a(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:l,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(e.droppables).filter(p=>p.descriptor.type===h)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:n,clean:u}}function Yje(){const e=_n(Kje,[]);return A.useEffect(()=>function(){e.clean()},[e]),e}var fO=me.createContext(null),B1=()=>{const e=document.body;return e||yt(),e};const Xje={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Qje=e=>`rfd-announcement-${e}`;function Zje(e){const t=_n(()=>Qje(e),[e]),n=A.useRef(null);return A.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ay(s.style,Xje),B1().appendChild(s),function(){setTimeout(function(){const l=B1();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]),Ot(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const Jje={separator:"::"};function pO(e,t=Jje){const n=me.useId();return _n(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function eWe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function tWe({contextId:e,text:t}){const n=pO("hidden-text",{separator:"-"}),r=_n(()=>eWe({contextId:e,uniqueId:n}),[n,e]);return A.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",B1().appendChild(s),function(){const a=B1();a.contains(s)&&a.removeChild(s)}},[r,t]),r}var pT=me.createContext(null);function yJ(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),t}function nWe(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&yt();const a={abandon:o};return e=a,a}function i(){e||yt(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}function ew(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const rWe=9,iWe=13,gO=27,wJ=32,sWe=33,oWe=34,aWe=35,lWe=36,cWe=37,uWe=38,dWe=39,hWe=40,fWe={[iWe]:!0,[rWe]:!0};var CJ=e=>{fWe[e.keyCode]&&e.preventDefault()};const gT=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),bJ=0,XG=5;function pWe(e,t){return Math.abs(t.x-e.x)>=XG||Math.abs(t.y-e.y)>=XG}const QG={type:"IDLE"};function gWe({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==bJ)return;const l={x:o,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&yt();const u=c.point;if(!pWe(u,l))return;i.preventDefault();const h=c.actions.fluidLift(l);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===gO){i.preventDefault(),e();return}CJ(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&yt(),s.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:gT,fn:e}]}function mWe(e){const t=A.useRef(QG),n=A.useRef(id),r=_n(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==bJ||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const p=e.findClosestDraggableId(h);if(!p)return;const g=e.tryGetLock(p,o,{sourceEvent:h});if(!g)return;h.preventDefault();const v={x:h.clientX,y:h.clientY};n.current(),c(g,v)}}),[e]),i=_n(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const h=e.findClosestDraggableId(u);if(!h)return;const p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&u.preventDefault())}}),[e]),s=Ot(function(){const h={passive:!1,capture:!0};n.current=fa(window,[i,r],h)},[i,r]),o=Ot(()=>{t.current.type!=="IDLE"&&(t.current=QG,n.current(),s())},[s]),a=Ot(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=Ot(function(){const h={capture:!0,passive:!1},p=gWe({cancel:a,completed:o,getPhase:()=>t.current,setPhase:g=>{t.current=g}});n.current=fa(window,p,h)},[a,o]),c=Ot(function(h,p){t.current.type!=="IDLE"&&yt(),t.current={type:"PENDING",point:p,actions:h},l()},[l]);Fo(function(){return s(),function(){n.current()}},[s])}function vWe(){}const yWe={[oWe]:!0,[sWe]:!0,[lWe]:!0,[aWe]:!0};function wWe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===gO){i.preventDefault(),n();return}if(i.keyCode===wJ){i.preventDefault(),r();return}if(i.keyCode===hWe){i.preventDefault(),e.moveDown();return}if(i.keyCode===uWe){i.preventDefault(),e.moveUp();return}if(i.keyCode===dWe){i.preventDefault(),e.moveRight();return}if(i.keyCode===cWe){i.preventDefault(),e.moveLeft();return}if(yWe[i.keyCode]){i.preventDefault();return}CJ(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gT,fn:n}]}function CWe(e){const t=A.useRef(vWe),n=_n(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==wJ)return;const o=e.findClosestDraggableId(s);if(!o)return;const a=e.tryGetLock(o,u,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||yt(),l=!1,t.current(),r()}t.current=fa(window,wWe(c,u),{capture:!0,passive:!1})}}),[e]),r=Ot(function(){const s={passive:!1,capture:!0};t.current=fa(window,[n],s)},[n]);Fo(function(){return r(),function(){t.current()}},[r])}const tk={type:"IDLE"},bWe=120,xWe=.15;function SWe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===gO&&n.preventDefault(),e()}},{eventName:gT,fn:e}]}function EWe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&yt();const s=r.touches[0];if(!s||!(s.force>=xWe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:gT,fn:e}]}function TWe(e){const t=A.useRef(tk),n=A.useRef(id),r=Ot(function(){return t.current},[]),i=Ot(function(g){t.current=g},[]),s=_n(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const v=e.findClosestDraggableId(g);if(!v)return;const y=e.tryGetLock(v,a,{sourceEvent:g});if(!y)return;const C=g.touches[0],{clientX:b,clientY:E}=C,x={x:b,y:E};n.current(),h(y,x)}}),[e]),o=Ot(function(){const g={capture:!0,passive:!1};n.current=fa(window,[s],g)},[s]),a=Ot(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(tk),n.current(),o())},[o,i]),l=Ot(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=Ot(function(){const g={capture:!0,passive:!1},v={cancel:l,completed:a,getPhase:r},y=fa(window,EWe(v),g),C=fa(window,SWe(v),g);n.current=function(){y(),C()}},[l,r,a]),u=Ot(function(){const g=r();g.type!=="PENDING"&&yt();const v=g.actions.fluidLift(g.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[r,i]),h=Ot(function(g,v){r().type!=="IDLE"&&yt();const y=setTimeout(u,bWe);i({type:"PENDING",point:v,actions:g,longPressTimerId:y}),c()},[c,r,i,u]);Fo(function(){return o(),function(){n.current();const v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(tk))}},[r,o,i]),Fo(function(){return fa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const RWe=["input","button","textarea","select","option","optgroup","video","audio"];function xJ(e,t){if(t==null)return!1;if(RWe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:xJ(e,t.parentElement)}function _We(e,t){const n=t.target;return fT(n)?xJ(e,n):!1}var AWe=e=>Ha(e.getBoundingClientRect()).center;function kWe(e){return e instanceof vJ(e).Element}const DWe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function SJ(e,t){return e==null?null:e[DWe](t)?e:SJ(e.parentElement,t)}function PWe(e,t){return e.closest?e.closest(t):SJ(e,t)}function FWe(e){return`[${nm.contextId}="${e}"]`}function IWe(e,t){const n=t.target;if(!kWe(n))return null;const r=FWe(e),i=PWe(n,r);return!i||!fT(i)?null:i}function MWe(e,t){const n=IWe(e,t);return n?n.getAttribute(nm.draggableId):null}function OWe(e,t){const n=`[${_P.contextId}="${e}"]`,i=mJ(document,n).find(s=>s.getAttribute(_P.id)===t);return!i||!fT(i)?null:i}function NWe(e){e.preventDefault()}function yx({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function EJ({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!hJ(t.getState(),r))}function LWe({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!EJ({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=OWe(t,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&_We(c,o))return null;const u=e.claim(s||id);let h="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function g(){return e.isActive(u)}function v(D,R){yx({expected:D,phase:h,isLockActive:g,shouldWarn:!0})&&n.dispatch(R())}const y=v.bind(null,"DRAGGING");function C(D){function R(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(R(),yt()),n.dispatch(P9e(D.liftActionArgs)),h="DRAGGING";function _(I,F={shouldBlockNextClick:!1}){if(D.cleanup(),F.shouldBlockNextClick){const N=fa(window,[{eventName:"click",fn:NWe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(N)}R(),n.dispatch(iJ({reason:I}))}return{isActive:()=>yx({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:p,drop:I=>_("DROP",I),cancel:I=>_("CANCEL",I),...D.actions}}function b(D){const R=Ky(I=>{y(()=>rJ({client:I}))});return{...C({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function E(){const D={moveUp:()=>y(H9e),moveRight:()=>y(U9e),moveDown:()=>y(G9e),moveLeft:()=>y(z9e)};return C({liftActionArgs:{id:i,clientSelection:AWe(c),movementMode:"SNAP"},cleanup:id,actions:D})}function x(){yx({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0})&&e.release()}return{isActive:()=>yx({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:b,snapLift:E,abort:x}}const BWe=[mWe,CWe,TWe];function VWe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?BWe:[],...r||[]],o=A.useState(()=>nWe())[0],a=Ot(function(C,b){ew(C)&&!ew(b)&&o.tryAbandon()},[o]);Fo(function(){let C=t.getState();return t.subscribe(()=>{const E=t.getState();a(C,E),C=E})},[o,t,a]),Fo(()=>o.tryAbandon,[o.tryAbandon]);const l=Ot(y=>EJ({lockAPI:o,registry:n,store:t,draggableId:y}),[o,n,t]),c=Ot((y,C,b)=>LWe({lockAPI:o,registry:n,contextId:e,store:t,draggableId:y,forceSensorStop:C||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[e,o,n,t]),u=Ot(y=>MWe(e,y),[e]),h=Ot(y=>{const C=n.draggable.findById(y);return C?C.options:null},[n.draggable]),p=Ot(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(oO()))},[o,t]),g=Ot(()=>o.isClaimed(),[o]),v=_n(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:g}),[l,c,u,h,p,g]);for(let y=0;y<s.length;y++)s[y](v)}const HWe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};am.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),GWe=e=>({...Jy,...e.autoScrollerOptions,durationDampening:{...Jy.durationDampening,...e.autoScrollerOptions}});function Y0(e){return e.current||yt(),e.current}function UWe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=e,o=A.useRef(null),a=yJ(e),l=Ot(()=>HWe(a.current),[a]),c=Ot(()=>GWe(a.current),[a]),u=Zje(t),h=tWe({contextId:t,text:s}),p=Wje(t,i),g=Ot(N=>{Y0(o).dispatch(N)},[]),v=_n(()=>SG({publishWhileDragging:I9e,updateDroppableScroll:O9e,updateDroppableIsEnabled:N9e,updateDroppableIsCombineEnabled:L9e,collectionStarting:M9e},g),[g]),y=Yje(),C=_n(()=>Sje(y,v),[y,v]),b=_n(()=>Hje({scrollWindow:Eje,scrollDroppable:C.scrollDroppable,getAutoScrollerOptions:c,...SG({move:rJ},g)}),[C.scrollDroppable,g,c]),E=qje(t),x=_n(()=>wje({announce:u,autoScroller:b,dimensionMarshal:C,focusMarshal:E,getResponders:l,styleMarshal:p}),[u,b,C,E,l,p]);o.current=x;const k=Ot(()=>{const N=Y0(o);N.getState().phase!=="IDLE"&&N.dispatch(oO())},[]),D=Ot(()=>{const N=Y0(o).getState();return N.phase==="DROP_ANIMATING"?!0:N.phase==="IDLE"?!1:N.isDragging},[]),R=_n(()=>({isDragging:D,tryAbort:k}),[D,k]);n(R);const _=Ot(N=>hJ(Y0(o).getState(),N),[]),I=Ot(()=>yh(Y0(o).getState()),[]),F=_n(()=>({marshal:C,focus:E,contextId:t,canLift:_,isMovementAllowed:I,dragHandleUsageInstructionsId:h,registry:y}),[t,C,h,E,_,I,y]);return VWe({contextId:t,store:x,registry:y,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),A.useEffect(()=>k,[k]),me.createElement(pT.Provider,{value:F},me.createElement(fze,{context:fO,store:x},e.children))}function zWe(){return me.useId()}function jWe(e){const t=zWe(),n=e.dragHandleUsageInstructions||lS.dragHandleUsageInstructions;return me.createElement(Cze,null,r=>me.createElement(UWe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const ZG={dragging:5e3,dropAnimating:4500},WWe=(e,t)=>t?zv.drop(t.duration):e?zv.snap:zv.fluid,$We=(e,t)=>{if(e)return t?Zy.opacity.drop:Zy.opacity.combining},qWe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function KWe(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:s}=e,o=!!i,a=qWe(e),l=!!s,c=l?TP.drop(r,o):TP.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:WWe(a,s),transform:c,opacity:$We(o,l),zIndex:l?ZG.dropAnimating:ZG.dragging,pointerEvents:"none"}}function YWe(e){return{transform:TP.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function XWe(e){return e.type==="DRAGGING"?KWe(e):YWe(e)}function QWe(e,t,n=Ni){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=PZ(i,r),o=M1(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:o}}function ZWe(e){const t=pO("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=e,l=_n(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),c=Ot(g=>{const v=i();return v||yt(),QWe(n,v,g)},[n,i]),u=_n(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),h=A.useRef(u),p=A.useRef(!0);Fo(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),Fo(()=>{if(p.current){p.current=!1;return}const g=h.current;h.current=u,r.draggable.update(u,g)},[u,r.draggable])}var mO=me.createContext(null);function V1(e){const t=A.useContext(e);return t||yt(),t}function JWe(e){e.preventDefault()}const e7e=e=>{const t=A.useRef(null),n=Ot((R=null)=>{t.current=R},[]),r=Ot(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=V1(pT),{type:a,droppableId:l}=V1(mO),c=_n(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:h,isEnabled:p,shouldRespectForcePress:g,canDragInteractiveElements:v,isClone:y,mapped:C,dropAnimationFinished:b}=e;if(!y){const R=_n(()=>({descriptor:c,registry:o,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:p}),[c,o,r,v,g,p]);ZWe(R)}const E=_n(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:JWe}:null,[i,s,h,p]),x=Ot(R=>{C.type==="DRAGGING"&&C.dropping&&R.propertyName==="transform"&&am.flushSync(b)},[b,C]),k=_n(()=>{const R=XWe(C),_=C.type==="DRAGGING"&&C.dropping?x:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:R,onTransitionEnd:_},dragHandleProps:E}},[i,E,h,C,x,n]),D=_n(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return me.createElement(me.Fragment,null,u(k,C.snapshot,D))};var TJ=(e,t)=>e===t,RJ=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const t7e=e=>e.combine?e.combine.draggableId:null,n7e=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function r7e(){const e=Mi((i,s)=>({x:i,y:s})),t=Mi((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=Mi((i,s,o,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:o,forceShouldAnimate:u,snapshot:t(s,a,l,c,null)}}));return(i,s)=>{if(ew(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=Po(i.impact),c=n7e(i.impact),u=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,a,s.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],c=o.result,u=c.mode,h=RJ(c),p=t7e(c),v={duration:i.dropDuration,curve:lO.drop,moveTo:i.newHomeClientOffset,opacity:p?Zy.opacity.drop:null,scale:p?Zy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:v,draggingOver:h,combineWith:p,mode:u,forceShouldAnimate:null,snapshot:t(u,a,h,p,v)}}}return null}}function _J(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const i7e={mapped:{type:"SECONDARY",offset:Ni,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:_J(null)}};function s7e(){const e=Mi((o,a)=>({x:o,y:a})),t=Mi(_J),n=Mi((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=o=>o?n(Ni,o,!0):null,i=(o,a,l,c)=>{const u=l.displaced.visible[o],h=!!(c.inVirtualList&&c.effected[o]),p=uT(l),g=p&&p.draggableId===o?a:null;if(!u){if(!h)return r(g);if(l.displaced.invisible[o])return null;const C=Rm(c.displacedBy.point),b=e(C.x,C.y);return n(b,g,!0)}if(h)return r(g);const v=l.displacedBy.point,y=e(v.x,v.y);return n(y,g,u.shouldAnimate)};return(o,a)=>{if(ew(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const o7e=()=>{const e=r7e(),t=s7e();return(r,i)=>e(r,i)||t(r,i)||i7e},a7e={dropAnimationFinished:sJ},l7e=DZ(o7e,a7e,null,{context:fO,areStatePropsEqual:TJ})(e7e);function AJ(e){return V1(mO).isUsingCloneFor===e.draggableId&&!e.isClone?null:me.createElement(l7e,e)}function JG(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return me.createElement(AJ,ay({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const kJ=e=>t=>e===t,c7e=kJ("scroll"),u7e=kJ("auto"),e8=(e,t)=>t(e.overflowX)||t(e.overflowY),d7e=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return e8(n,c7e)||e8(n,u7e)},h7e=()=>!1,DJ=e=>e==null?null:e===document.body?h7e()?e:null:e===document.documentElement?null:d7e(e)?e:DJ(e.parentElement);var AP=e=>({x:e.scrollLeft,y:e.scrollTop});const PJ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:PJ(e.parentElement):!1;var f7e=e=>{const t=DJ(e),n=PJ(e);return{closestScrollable:t,isFixedOnPage:n}},p7e=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:p,client:g}=a,v=cJ({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:g,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:v,diff:{value:Ni,displacement:Ni}}}})(),c=i==="vertical"?tO:UZ,u=em({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:s,page:o,frame:l,subject:u}};const g7e=(e,t)=>{const n=FZ(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,o=i+t.scrollWidth,l=QM({top:r,right:o,bottom:s,left:i},n.border);return ZM({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var m7e=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,c=g7e(e,l),u=M1(c,r),h=(()=>{if(!l)return null;const g=FZ(l),v={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:g,page:M1(g,r),scroll:AP(l),scrollSize:v,shouldClipSubject:a}})();return p7e({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:u,closest:h})};const v7e={passive:!1},y7e={passive:!0};var t8=e=>e.shouldPublishImmediately?v7e:y7e;const wx=e=>e&&e.env.closestScrollable||null;function w7e(e){const t=A.useRef(null),n=V1(pT),r=pO("droppable"),{registry:i,marshal:s}=n,o=yJ(e),a=_n(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=A.useRef(a),c=_n(()=>Mi((k,D)=>{t.current||yt();const R={x:k,y:D};s.updateDroppableScroll(a.id,R)}),[a.id,s]),u=Ot(()=>{const k=t.current;return!k||!k.env.closestScrollable?Ni:AP(k.env.closestScrollable)},[]),h=Ot(()=>{const k=u();c(k.x,k.y)},[u,c]),p=_n(()=>Ky(h),[h]),g=Ot(()=>{const k=t.current,D=wx(k);if(k&&D||yt(),k.scrollOptions.shouldPublishImmediately){h();return}p()},[p,h]),v=Ot((k,D)=>{t.current&&yt();const R=o.current,_=R.getDroppableRef();_||yt();const I=f7e(_),F={ref:_,descriptor:a,env:I,scrollOptions:D};t.current=F;const N=m7e({ref:_,descriptor:a,env:I,windowScroll:k,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),B=I.closestScrollable;return B&&(B.setAttribute(KG.contextId,n.contextId),B.addEventListener("scroll",g,t8(F.scrollOptions))),N},[n.contextId,a,g,o]),y=Ot(()=>{const k=t.current,D=wx(k);return k&&D||yt(),AP(D)},[]),C=Ot(()=>{const k=t.current;k||yt();const D=wx(k);t.current=null,D&&(p.cancel(),D.removeAttribute(KG.contextId),D.removeEventListener("scroll",g,t8(k.scrollOptions)))},[g,p]),b=Ot(k=>{const D=t.current;D||yt();const R=wx(D);R||yt(),R.scrollTop+=k.y,R.scrollLeft+=k.x},[]),E=_n(()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:y,dragStopped:C,scroll:b}),[C,v,y,b]),x=_n(()=>({uniqueId:r,descriptor:a,callbacks:E}),[E,a,r]);Fo(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{t.current&&C(),i.droppable.unregister(x)}),[E,a,C,x,s,i.droppable]),Fo(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Fo(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function nk(){}const n8={width:0,height:0,margin:_ze},C7e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?n8:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},b7e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=C7e({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?zv.placeholder:null}},x7e=e=>{const t=A.useRef(null),n=Ot(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=e,[a,l]=A.useState(e.animate==="open");A.useEffect(()=>a?r!=="open"?(n(),l(!1),nk):t.current?nk:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):nk,[r,a,n]);const c=Ot(h=>{h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),u=b7e({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return me.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})};var S7e=me.memo(x7e);class E7e extends me.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const T7e=e=>{const t=A.useContext(pT);t||yt();const{contextId:n,isMovementAllowed:r}=t,i=A.useRef(null),s=A.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:g,snapshot:v,useClone:y,updateViewportMaxScroll:C,getContainerForClone:b}=e,E=Ot(()=>i.current,[]),x=Ot((B=null)=>{i.current=B},[]);Ot(()=>s.current,[]);const k=Ot((B=null)=>{s.current=B},[]),D=Ot(()=>{r()&&C({maxScroll:dJ()})},[r,C]);w7e({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:h,getDroppableRef:E});const R=_n(()=>me.createElement(E7e,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:B,data:M,animate:L})=>me.createElement(S7e,{placeholder:M,onClose:B,innerRef:k,animate:L,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,k]),_=_n(()=>({innerRef:x,placeholder:R,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,R,x]),I=y?y.dragging.draggableId:null,F=_n(()=>({droppableId:a,type:l,isUsingCloneFor:I}),[a,I,l]);function N(){if(!y)return null;const{dragging:B,render:M}=y,L=me.createElement(AJ,{draggableId:B.draggableId,index:B.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(H,ee)=>M(H,ee,B));return qu.createPortal(L,b())}return me.createElement(mO.Provider,{value:F},o(_,v),N())};function R7e(){return document.body||yt(),document.body}const r8={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:R7e},FJ=e=>{let t={...e},n;for(n in r8)e[n]===void 0&&(t={...t,[n]:r8[n]});return t},rk=(e,t)=>e===t.droppable.type,i8=(e,t)=>t.draggables[e.draggable.id],_7e=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Mi(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=Mi((s,o,a,l,c,u)=>{const h=c.descriptor.id;if(c.descriptor.droppableId===s){const v=u?{render:u,dragging:n(c.descriptor)}:null,y={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:v}}if(!o)return t;if(!l)return e;const g={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(s,o)=>{const a=FJ(o),l=a.droppableId,c=a.type,u=!a.isDropDisabled,h=a.renderClone;if(ew(s)){const p=s.critical;if(!rk(c,p))return t;const g=i8(p,s.dimensions),v=Po(s.impact)===l;return r(l,u,v,v,g,h)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!rk(c,p.critical))return t;const g=i8(p.critical,s.dimensions);return r(l,u,RJ(p.result)===l,Po(p.impact)===l,g,h)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!rk(c,p.critical))return t;const g=Po(p.impact)===l,v=!!(p.impact.at&&p.impact.at.type==="COMBINE"),y=p.critical.droppable.id===l;return g?v?e:t:y?e:t}return t}},A7e={updateViewportMaxScroll:V9e},s8=DZ(_7e,A7e,(e,t,n)=>({...FJ(n),...e,...t}),{context:fO,areStatePropsEqual:TJ})(T7e),k7e=$w((e,t)=>({groups:[],availableStudents:[],allStudents:[],setGroups:n=>e({groups:n}),setAvailableStudents:n=>e({availableStudents:n}),setAllStudents:n=>e({allStudents:n}),addGroup:n=>e(r=>({groups:[...r.groups,n]})),updateGroup:(n,r)=>e(i=>({groups:i.groups.map(s=>s.id===n?{...s,...r}:s)})),removeGroup:n=>e(r=>{const i=r.groups.find(s=>s.id===n);if(i){const s=r.availableStudents.filter(o=>i.studentIds.includes(o.id));return{groups:r.groups.filter(o=>o.id!==n),availableStudents:[...r.availableStudents,...s]}}return r}),moveStudentToGroup:(n,r,i)=>e(s=>{let o=[...s.groups],a=[...s.availableStudents];if(r?o=o.map(l=>l.id===r?{...l,studentIds:l.studentIds.filter(c=>c!==n)}:l):a=a.filter(l=>l.id!==n),i)o=o.map(l=>l.id===i?{...l,studentIds:[...l.studentIds,n]}:l);else{const l=t().allStudents.find(c=>c.id===n);l&&(a=[...a,l])}return{groups:o,availableStudents:a}}),getStudentById:n=>t().allStudents.find(i=>i.id===n)})),zi=[];for(let e=0;e<256;++e)zi.push((e+256).toString(16).slice(1));function D7e(e,t=0){return(zi[e[t+0]]+zi[e[t+1]]+zi[e[t+2]]+zi[e[t+3]]+"-"+zi[e[t+4]]+zi[e[t+5]]+"-"+zi[e[t+6]]+zi[e[t+7]]+"-"+zi[e[t+8]]+zi[e[t+9]]+"-"+zi[e[t+10]]+zi[e[t+11]]+zi[e[t+12]]+zi[e[t+13]]+zi[e[t+14]]+zi[e[t+15]]).toLowerCase()}let ik;const P7e=new Uint8Array(16);function F7e(){if(!ik){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ik=crypto.getRandomValues.bind(crypto)}return ik(P7e)}const I7e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),o8={randomUUID:I7e};function $u(e,t,n){if(o8.randomUUID&&!e)return o8.randomUUID();e=e||{};const r=e.random??e.rng?.()??F7e();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,D7e(r)}const mT="groups",M7e=async e=>{const t=$u(),n={id:t,name:e.name,studentIds:[],createdAt:new Date,teacherId:e.teacherId};return await T$(Wl(Bs,mT,t),n),n},O7e=async e=>{const t=Ww(Pf(Bs,mT),rI("teacherId","==",e));return(await aI(t)).docs.map(i=>i.data()).sort((i,s)=>new Date(s.createdAt).getTime()-new Date(i.createdAt).getTime())},Cx=async(e,t)=>{await ED(Wl(Bs,mT,e),t)},N7e=async e=>{await R$(Wl(Bs,mT,e))},IJ=(e=768)=>{const[t,n]=A.useState(!1);return A.useEffect(()=>{const r=window.matchMedia(`(max-width: ${e}px)`),i=s=>{n(s.matches)};return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t},L7e=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onDragEnd:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>O.jsx(jWe,{onDragEnd:i,children:O.jsxs(Ng,{children:[O.jsx(Dl,{lg:3,className:"mb-4",children:O.jsxs(Mn,{className:"h-100",children:[O.jsxs(Mn.Header,{className:"bg-light",children:[O.jsxs("div",{className:"d-flex align-items-center mb-2",children:[O.jsx(i2,{size:18,className:"me-2 text-muted"}),O.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),O.jsx(In.Group,{className:"mb-2",children:O.jsxs("div",{className:"position-relative",children:[O.jsx(In.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),O.jsx(r2,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})}),O.jsx("small",{className:"text-muted",children:o.trim()?`${t.length} de ${t.length+e.flatMap(l=>l.studentIds).length} estudiantes`:`${t.length} estudiantes`})]}),O.jsx(Mn.Body,{style:{minHeight:"500px"},children:O.jsx(s8,{droppableId:"available",children:(l,c)=>O.jsxs("div",{ref:l.innerRef,...l.droppableProps,className:`p-2 rounded ${c.isDraggingOver?"bg-light":""}`,style:{minHeight:"100px"},children:[t.length===0?O.jsxs("div",{className:"text-center text-muted py-4",children:[O.jsx(Pc,{size:32,className:"mb-2 opacity-50"}),O.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):t.map((u,h)=>O.jsx(JG,{draggableId:u.id,index:h,children:(p,g)=>O.jsxs("div",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${g.isDragging?"shadow":""}`,style:{...p.draggableProps.style,cursor:"grab"},children:[O.jsx("div",{className:"fw-medium",children:u.name}),O.jsx("small",{className:"text-muted",children:u.email})]})},u.id)),l.placeholder]})})})]})}),O.jsx(Dl,{lg:9,children:e.length===0?O.jsxs(xS,{variant:"info",className:"text-center py-5",children:[O.jsx(Pc,{size:48,className:"mb-3 opacity-50"}),O.jsx("h5",{children:"No hay grupos creados"}),O.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),O.jsxs(fr,{variant:"primary",onClick:r,children:[O.jsx(kw,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):O.jsx(Ng,{children:e.map(l=>O.jsx(Dl,{md:6,lg:4,className:"mb-4",children:O.jsxs(Mn,{className:"h-100",children:[O.jsxs(Mn.Header,{className:"d-flex justify-content-between align-items-center",children:[O.jsxs("div",{children:[O.jsx("h6",{className:"mb-0",children:l.name}),O.jsxs("small",{className:"text-muted",children:[l.studentIds.length," estudiante",l.studentIds.length!==1?"s":""]})]}),O.jsx(fr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:O.jsx(hE,{size:14})})]}),O.jsx(Mn.Body,{style:{minHeight:"300px"},children:O.jsx(s8,{droppableId:l.id,children:(c,u)=>O.jsxs("div",{ref:c.innerRef,...c.droppableProps,className:`p-2 rounded ${u.isDraggingOver?"bg-light":""}`,style:{minHeight:"200px"},children:[l.studentIds.length===0?O.jsxs("div",{className:"text-center text-muted py-4",children:[O.jsx(Pc,{size:24,className:"mb-2 opacity-50"}),O.jsx("p",{className:"mb-0 small",children:"Arrastra estudiantes aqu"})]}):l.studentIds.map((h,p)=>{const g=s(h);return g?O.jsx(JG,{draggableId:h,index:p,children:(v,y)=>O.jsxs("div",{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${y.isDragging?"shadow":""}`,style:{...v.draggableProps.style,cursor:"grab"},children:[O.jsx("div",{className:"fw-medium",children:g.name}),O.jsx("small",{className:"text-muted",children:g.email})]})},h):null}),c.placeholder]})})})]})},l.id))})})]})}),B7e=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onSelectStudent:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>O.jsxs("div",{children:[O.jsxs(Mn,{className:"mb-4",children:[O.jsxs(Mn.Header,{className:"bg-light",children:[O.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[O.jsxs("div",{className:"d-flex align-items-center",children:[O.jsx(i2,{size:18,className:"me-2 text-muted"}),O.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),O.jsx(Xk,{bg:"secondary",className:"badge-count",children:t.length})]}),O.jsx(In.Group,{children:O.jsxs("div",{className:"position-relative",children:[O.jsx(In.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),O.jsx(r2,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})})]}),O.jsx(Mn.Body,{className:"p-2",children:t.length===0?O.jsxs("div",{className:"text-center text-muted py-4",children:[O.jsx(Pc,{size:32,className:"mb-2 opacity-50"}),O.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):O.jsx(Na,{variant:"flush",children:t.map(l=>O.jsxs(Na.Item,{action:!0,onClick:()=>i(l),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[O.jsxs("div",{children:[O.jsx("div",{className:"fw-medium",children:l.name}),O.jsx("small",{className:"text-muted",children:l.email})]}),O.jsx(aV,{size:16,className:"text-muted"})]},l.id))})})]}),e.length===0?O.jsxs(xS,{variant:"info",className:"text-center py-5",children:[O.jsx(Pc,{size:48,className:"mb-3 opacity-50"}),O.jsx("h5",{children:"No hay grupos creados"}),O.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),O.jsxs(fr,{variant:"primary",onClick:r,children:[O.jsx(kw,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):e.map(l=>O.jsxs(Mn,{className:"mb-3",children:[O.jsxs(Mn.Header,{className:"d-flex justify-content-between align-items-center",children:[O.jsxs("div",{className:"d-flex align-items-center",children:[O.jsx("h6",{className:"mb-0 me-2",children:l.name}),O.jsx(Xk,{bg:"primary",className:"badge-count",children:l.studentIds.length})]}),O.jsx(fr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:O.jsx(hE,{size:14})})]}),O.jsx(Mn.Body,{className:"p-2",children:l.studentIds.length===0?O.jsxs("div",{className:"text-center text-muted py-3",children:[O.jsx(Pc,{size:24,className:"mb-2 opacity-50"}),O.jsx("p",{className:"mb-0 small",children:"No hay estudiantes asignados"})]}):O.jsx(Na,{variant:"flush",children:l.studentIds.map(c=>{const u=s(c);return u?O.jsxs(Na.Item,{action:!0,onClick:()=>i(u,l.id),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[O.jsxs("div",{children:[O.jsx("div",{className:"fw-medium",children:u.name}),O.jsx("small",{className:"text-muted",children:u.email})]}),O.jsx(aV,{size:16,className:"text-muted"})]},c):null})})})]},l.id))]}),V7e=()=>{const{user:e}=Ya(),{groups:t,availableStudents:n,setGroups:r,setAvailableStudents:i,setAllStudents:s,addGroup:o,removeGroup:a,moveStudentToGroup:l,getStudentById:c}=k7e(),u=IJ(),[h,p]=A.useState(!0),[g,v]=A.useState(!1),[y,C]=A.useState(""),[b,E]=A.useState(!1),[x,k]=A.useState(!1),[D,R]=A.useState(null),[_,I]=A.useState(),[F,N]=A.useState(""),M=(Z=>{let V=Z;if(F.trim()){const X=F.toLowerCase().trim();V=Z.filter(z=>z.name.toLowerCase().includes(X)||z.email.toLowerCase().includes(X))}return V.sort((X,z)=>X.name.localeCompare(z.name))})(n);A.useEffect(()=>{(async()=>{if(e?.id)try{p(!0);const[V,X]=await Promise.all([O7e(e.id),vI()]),z=V.flatMap(Y=>Y.studentIds),G=X.filter(Y=>!z.includes(Y.id));r(V),s(X),i(G)}catch(V){console.error("Error loading data:",V)}finally{p(!1)}})()},[e?.id,r,i,s]);const L=async()=>{if(!(!y.trim()||!e?.id))try{E(!0);const Z=await M7e({name:y.trim(),teacherId:e.id});o(Z),C(""),v(!1)}catch(Z){console.error("Error creating group:",Z)}finally{E(!1)}},H=async Z=>{try{await N7e(Z),a(Z)}catch(V){console.error("Error deleting group:",V)}},ee=async Z=>{const{destination:V,source:X,draggableId:z}=Z;if(!V||V.droppableId===X.droppableId&&V.index===X.index)return;const G=X.droppableId==="available"?null:X.droppableId,Y=V.droppableId==="available"?null:V.droppableId;await he(z,G,Y)},re=(Z,V)=>{R(Z),I(V),k(!0)},te=async Z=>{D&&(await he(D.id,_||null,Z),k(!1),R(null),I(void 0))},he=async(Z,V,X)=>{l(Z,V,X);try{if(V&&X){const z=t.find(Y=>Y.id===V),G=t.find(Y=>Y.id===X);z&&G&&(await Cx(V,{studentIds:z.studentIds.filter(Y=>Y!==Z)}),await Cx(X,{studentIds:[...G.studentIds,Z]}))}else if(V&&!X){const z=t.find(G=>G.id===V);z&&await Cx(V,{studentIds:z.studentIds.filter(G=>G!==Z)})}else if(!V&&X){const z=t.find(G=>G.id===X);z&&await Cx(X,{studentIds:[...z.studentIds,Z]})}}catch(z){console.error("Error updating groups:",z)}};return h?O.jsx(cy,{fluid:!0,className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:O.jsx(to,{animation:"border",variant:"primary"})}):O.jsxs(cy,{fluid:!0,children:[O.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"mb-1",children:"Gestin de Grupos"}),O.jsx("p",{className:"text-muted mb-0",children:u?"Toca un estudiante para moverlo":"Arrastra estudiantes para asignarlos a grupos"})]}),O.jsxs(fr,{variant:"primary",onClick:()=>v(!0),className:"d-flex align-items-center",children:[O.jsx(kw,{size:16,className:"me-2"}),"Crear Grupo"]})]}),u?O.jsx(B7e,{groups:t,availableStudents:M,onDeleteGroup:H,onShowCreateModal:()=>v(!0),onSelectStudent:re,getStudentById:c,searchTerm:F,onSearchChange:N}):O.jsx(L7e,{groups:t,availableStudents:M,onDeleteGroup:H,onShowCreateModal:()=>v(!0),onDragEnd:ee,getStudentById:c,searchTerm:F,onSearchChange:N}),O.jsxs(Sr,{show:g,onHide:()=>v(!1),children:[O.jsx(Sr.Header,{closeButton:!0,children:O.jsx(Sr.Title,{children:"Crear Nuevo Grupo"})}),O.jsx(Sr.Body,{children:O.jsxs(In.Group,{children:[O.jsx(In.Label,{children:"Nombre del Grupo"}),O.jsx(In.Control,{type:"text",placeholder:"Ej: Grupo A, Equipo 1, etc.",value:y,onChange:Z=>C(Z.target.value),autoFocus:!0})]})}),O.jsxs(Sr.Footer,{children:[O.jsx(fr,{variant:"secondary",onClick:()=>v(!1),children:"Cancelar"}),O.jsx(fr,{variant:"primary",onClick:L,disabled:!y.trim()||b,children:b?O.jsxs(O.Fragment,{children:[O.jsx(to,{size:"sm",className:"me-2"}),"Creando..."]}):"Crear Grupo"})]})]}),O.jsxs(Sr,{show:x,onHide:()=>k(!1),children:[O.jsx(Sr.Header,{closeButton:!0,children:O.jsxs(Sr.Title,{children:["Mover a ",D?.name]})}),O.jsxs(Sr.Body,{children:[O.jsxs("p",{className:"text-muted mb-3",children:["Selecciona el destino para ",D?.name,":"]}),O.jsxs(Na,{children:[_&&O.jsxs(Na.Item,{action:!0,onClick:()=>te(null),className:"d-flex align-items-center",children:[O.jsx(i2,{size:18,className:"me-3 text-muted"}),O.jsxs("div",{children:[O.jsx("div",{className:"fw-medium",children:"Estudiantes Disponibles"}),O.jsx("small",{className:"text-muted",children:"Quitar del grupo actual"})]})]}),t.filter(Z=>Z.id!==_).map(Z=>O.jsxs(Na.Item,{action:!0,onClick:()=>te(Z.id),className:"d-flex align-items-center",children:[O.jsx(Pc,{size:18,className:"me-3 text-primary"}),O.jsxs("div",{children:[O.jsx("div",{className:"fw-medium",children:Z.name}),O.jsxs("small",{className:"text-muted",children:[Z.studentIds.length," estudiante",Z.studentIds.length!==1?"s":""]})]})]},Z.id))]})]})]})]})},Ia=({children:e,allowedRoles:t})=>{const{user:n}=Ya(),r=Ql();return n?t.includes(n.role)?O.jsx(O.Fragment,{children:e}):O.jsx(og,{to:"/dashboard/mapa",replace:!0}):O.jsx(og,{to:"/login",state:{from:r},replace:!0})},H7e=({children:e})=>{const{user:t}=Ya(),r=Ql().state?.from?.pathname||"/";return t?O.jsx(og,{to:r,replace:!0}):O.jsx(O.Fragment,{children:e})},G7e={BASE_URL:"/TutorIngles/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLOUD_FUNCTIONS_BASE_URL:"https://us-central1-tutordecolonial.cloudfunctions.net"},U7e=e=>G7e[e],km=U7e("VITE_CLOUD_FUNCTIONS_BASE_URL"),jv=e=>e?e instanceof Date?e:e._seconds!==void 0?new Date(e._seconds*1e3):typeof e=="string"?new Date(e):typeof e=="number"?new Date(e):new Date:new Date,a8=async e=>(await fetch(`${km}/classifyTask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})})).text(),z7e=async(e,t,n)=>{const r=await fetch(`${km}/createChat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,title:t||"Nueva conversacin",mode:n||"DEFAULT"})});if(!r.ok)throw new Error("Error al crear chat");return r.json()},kP=async e=>{const t=await fetch(`${km}/listChats`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok)throw new Error("Error al listar chats");return(await t.json()).chats.map(r=>({...r,createdAt:jv(r.createdAt),updatedAt:jv(r.updatedAt)}))},l8=async(e,t,n,r)=>{const i=await fetch(`${km}/generateText`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,mode:t,chatId:n,userId:r})});if(!i.ok)throw new Error("Network response was not ok");return i.json()},DP=async(e,t)=>{const n=await fetch(`${km}/getChatHistory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})});if(!n.ok)throw new Error("Error al obtener historial");const r=await n.json();return{chat:{...r.chat,createdAt:jv(r.chat.createdAt),updatedAt:jv(r.chat.updatedAt)},messages:r.messages.map(i=>({...i,timestamp:jv(i.timestamp)}))}},j7e=async(e,t)=>{const n=await fetch(`${km}/deleteChat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})});if(!n.ok)throw new Error("Error al eliminar chat");return n.json()};function W7e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $7e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,q7e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,K7e={};function c8(e,t){return(K7e.jsx?q7e:$7e).test(e)}const Y7e=/[ \t\n\f\r]/g;function X7e(e){return typeof e=="object"?e.type==="text"?u8(e.value):!1:u8(e)}function u8(e){return e.replace(Y7e,"")===""}class dC{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}dC.prototype.normal={};dC.prototype.property={};dC.prototype.space=void 0;function MJ(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new dC(n,r,t)}function PP(e){return e.toLowerCase()}class io{constructor(t,n){this.attribute=n,this.property=t}}io.prototype.attribute="";io.prototype.booleanish=!1;io.prototype.boolean=!1;io.prototype.commaOrSpaceSeparated=!1;io.prototype.commaSeparated=!1;io.prototype.defined=!1;io.prototype.mustUseProperty=!1;io.prototype.number=!1;io.prototype.overloadedBoolean=!1;io.prototype.property="";io.prototype.spaceSeparated=!1;io.prototype.space=void 0;let Q7e=0;const rn=$f(),si=$f(),FP=$f(),ht=$f(),lr=$f(),Rg=$f(),po=$f();function $f(){return 2**++Q7e}const IP=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:si,commaOrSpaceSeparated:po,commaSeparated:Rg,number:ht,overloadedBoolean:FP,spaceSeparated:lr},Symbol.toStringTag,{value:"Module"})),sk=Object.keys(IP);class vO extends io{constructor(t,n,r,i){let s=-1;if(super(t,n),d8(this,"space",i),typeof r=="number")for(;++s<sk.length;){const o=sk[s];d8(this,sk[s],(r&IP[o])===IP[o])}}}vO.prototype.defined=!0;function d8(e,t,n){n&&(e[t]=n)}function Dm(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new vO(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[PP(r)]=r,n[PP(s.attribute)]=r}return new dC(t,n,e.space)}const OJ=Dm({properties:{ariaActiveDescendant:null,ariaAtomic:si,ariaAutoComplete:null,ariaBusy:si,ariaChecked:si,ariaColCount:ht,ariaColIndex:ht,ariaColSpan:ht,ariaControls:lr,ariaCurrent:null,ariaDescribedBy:lr,ariaDetails:null,ariaDisabled:si,ariaDropEffect:lr,ariaErrorMessage:null,ariaExpanded:si,ariaFlowTo:lr,ariaGrabbed:si,ariaHasPopup:null,ariaHidden:si,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:lr,ariaLevel:ht,ariaLive:null,ariaModal:si,ariaMultiLine:si,ariaMultiSelectable:si,ariaOrientation:null,ariaOwns:lr,ariaPlaceholder:null,ariaPosInSet:ht,ariaPressed:si,ariaReadOnly:si,ariaRelevant:null,ariaRequired:si,ariaRoleDescription:lr,ariaRowCount:ht,ariaRowIndex:ht,ariaRowSpan:ht,ariaSelected:si,ariaSetSize:ht,ariaSort:null,ariaValueMax:ht,ariaValueMin:ht,ariaValueNow:ht,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function NJ(e,t){return t in e?e[t]:t}function LJ(e,t){return NJ(e,t.toLowerCase())}const Z7e=Dm({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Rg,acceptCharset:lr,accessKey:lr,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:lr,autoFocus:rn,autoPlay:rn,blocking:lr,capture:null,charSet:null,checked:rn,cite:null,className:lr,cols:ht,colSpan:null,content:null,contentEditable:si,controls:rn,controlsList:lr,coords:ht|Rg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:FP,draggable:si,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:lr,height:ht,hidden:FP,high:ht,href:null,hrefLang:null,htmlFor:lr,httpEquiv:lr,id:null,imageSizes:null,imageSrcSet:null,inert:rn,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:lr,itemRef:lr,itemScope:rn,itemType:lr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:ht,manifest:null,max:null,maxLength:ht,media:null,method:null,min:null,minLength:ht,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:ht,pattern:null,ping:lr,placeholder:null,playsInline:rn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:lr,required:rn,reversed:rn,rows:ht,rowSpan:ht,sandbox:lr,scope:null,scoped:rn,seamless:rn,selected:rn,shadowRootClonable:rn,shadowRootDelegatesFocus:rn,shadowRootMode:null,shape:null,size:ht,sizes:null,slot:null,span:ht,spellCheck:si,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ht,step:null,style:null,tabIndex:ht,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:si,width:ht,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:lr,axis:null,background:null,bgColor:null,border:ht,borderColor:null,bottomMargin:ht,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:ht,leftMargin:ht,link:null,longDesc:null,lowSrc:null,marginHeight:ht,marginWidth:ht,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:ht,rules:null,scheme:null,scrolling:si,standby:null,summary:null,text:null,topMargin:ht,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ht,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:ht,security:null,unselectable:null},space:"html",transform:LJ}),J7e=Dm({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:po,accentHeight:ht,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ht,amplitude:ht,arabicForm:null,ascent:ht,attributeName:null,attributeType:null,azimuth:ht,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ht,by:null,calcMode:null,capHeight:ht,className:lr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ht,diffuseConstant:ht,direction:null,display:null,dur:null,divisor:ht,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ht,enableBackground:null,end:null,event:null,exponent:ht,externalResourcesRequired:null,fill:null,fillOpacity:ht,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Rg,g2:Rg,glyphName:Rg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ht,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ht,horizOriginX:ht,horizOriginY:ht,id:null,ideographic:ht,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ht,k:ht,k1:ht,k2:ht,k3:ht,k4:ht,kernelMatrix:po,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ht,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ht,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ht,overlineThickness:ht,paintOrder:null,panose1:null,path:null,pathLength:ht,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:lr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ht,pointsAtY:ht,pointsAtZ:ht,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:po,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:po,rev:po,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:po,requiredFeatures:po,requiredFonts:po,requiredFormats:po,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ht,specularExponent:ht,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ht,strikethroughThickness:ht,string:null,stroke:null,strokeDashArray:po,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ht,strokeOpacity:ht,strokeWidth:null,style:null,surfaceScale:ht,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:po,tabIndex:ht,tableValues:null,target:null,targetX:ht,targetY:ht,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:po,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ht,underlineThickness:ht,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ht,values:null,vAlphabetic:ht,vMathematical:ht,vectorEffect:null,vHanging:ht,vIdeographic:ht,version:null,vertAdvY:ht,vertOriginX:ht,vertOriginY:ht,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ht,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:NJ}),BJ=Dm({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),VJ=Dm({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:LJ}),HJ=Dm({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),e$e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},t$e=/[A-Z]/g,h8=/-[a-z]/g,n$e=/^data[-\w.:]+$/i;function r$e(e,t){const n=PP(t);let r=t,i=io;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&n$e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(h8,s$e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!h8.test(s)){let o=s.replace(t$e,i$e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=vO}return new i(r,t)}function i$e(e){return"-"+e.toLowerCase()}function s$e(e){return e.charAt(1).toUpperCase()}const o$e=MJ([OJ,Z7e,BJ,VJ,HJ],"html"),yO=MJ([OJ,J7e,BJ,VJ,HJ],"svg");function a$e(e){return e.join(" ").trim()}var Vp={},ok,f8;function l$e(){if(f8)return ok;f8=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",u="*",h="",p="comment",g="declaration";ok=function(y,C){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];C=C||{};var b=1,E=1;function x(L){var H=L.match(t);H&&(b+=H.length);var ee=L.lastIndexOf(l);E=~ee?L.length-ee:E+L.length}function k(){var L={line:b,column:E};return function(H){return H.position=new D(L),I(),H}}function D(L){this.start=L,this.end={line:b,column:E},this.source=C.source}D.prototype.content=y;function R(L){var H=new Error(C.source+":"+b+":"+E+": "+L);if(H.reason=L,H.filename=C.source,H.line=b,H.column=E,H.source=y,!C.silent)throw H}function _(L){var H=L.exec(y);if(H){var ee=H[0];return x(ee),y=y.slice(ee.length),H}}function I(){_(n)}function F(L){var H;for(L=L||[];H=N();)H!==!1&&L.push(H);return L}function N(){var L=k();if(!(c!=y.charAt(0)||u!=y.charAt(1))){for(var H=2;h!=y.charAt(H)&&(u!=y.charAt(H)||c!=y.charAt(H+1));)++H;if(H+=2,h===y.charAt(H-1))return R("End of comment missing");var ee=y.slice(2,H-2);return E+=2,x(ee),y=y.slice(H),E+=2,L({type:p,comment:ee})}}function B(){var L=k(),H=_(r);if(H){if(N(),!_(i))return R("property missing ':'");var ee=_(s),re=L({type:g,property:v(H[0].replace(e,h)),value:ee?v(ee[0].replace(e,h)):h});return _(o),re}}function M(){var L=[];F(L);for(var H;H=B();)H!==!1&&(L.push(H),F(L));return L}return I(),M()};function v(y){return y?y.replace(a,h):h}return ok}var p8;function c$e(){if(p8)return Vp;p8=1;var e=Vp&&Vp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.default=n;var t=e(l$e());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,u=l.value;a?i(c,u,l):u&&(s=s||{},s[c]=u)}}),s}return Vp}var X0={},g8;function u$e(){if(g8)return X0;g8=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,u){return u.toUpperCase()},a=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),s(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return X0.camelCase=l,X0}var Q0,m8;function d$e(){if(m8)return Q0;m8=1;var e=Q0&&Q0.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(c$e()),n=u$e();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,Q0=r,Q0}var h$e=d$e();const f$e=Tf(h$e),GJ=UJ("end"),wO=UJ("start");function UJ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function p$e(e){const t=wO(e),n=GJ(e);if(t&&n)return{start:t,end:n}}function Wv(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?v8(e.position):"start"in e||"end"in e?v8(e):"line"in e||"column"in e?MP(e):""}function MP(e){return y8(e&&e.line)+":"+y8(e&&e.column)}function v8(e){return MP(e&&e.start)+"-"+MP(e&&e.end)}function y8(e){return e&&typeof e=="number"?e:1}class Cs extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Wv(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Cs.prototype.file="";Cs.prototype.name="";Cs.prototype.reason="";Cs.prototype.message="";Cs.prototype.stack="";Cs.prototype.column=void 0;Cs.prototype.line=void 0;Cs.prototype.ancestors=void 0;Cs.prototype.cause=void 0;Cs.prototype.fatal=void 0;Cs.prototype.place=void 0;Cs.prototype.ruleId=void 0;Cs.prototype.source=void 0;const CO={}.hasOwnProperty,g$e=new Map,m$e=/[A-Z]/g,v$e=new Set(["table","tbody","thead","tfoot","tr"]),y$e=new Set(["td","th"]),zJ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function w$e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=_$e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=R$e(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?yO:o$e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=jJ(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function jJ(e,t,n){if(t.type==="element")return C$e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return b$e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return S$e(e,t,n);if(t.type==="mdxjsEsm")return x$e(e,t);if(t.type==="root")return E$e(e,t,n);if(t.type==="text")return T$e(e,t)}function C$e(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=yO,e.schema=i),e.ancestors.push(t);const s=$J(e,t.tagName,!1),o=A$e(e,t);let a=xO(e,t);return v$e.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!X7e(l):!0})),WJ(e,o,s,t),bO(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function b$e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}tw(e,t.position)}function x$e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);tw(e,t.position)}function S$e(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=yO,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:$J(e,t.name,!0),o=k$e(e,t),a=xO(e,t);return WJ(e,o,s,t),bO(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function E$e(e,t,n){const r={};return bO(r,xO(e,t)),e.create(t,e.Fragment,r,n)}function T$e(e,t){return t.value}function WJ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function bO(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function R$e(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function _$e(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=wO(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function A$e(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&CO.call(t.properties,i)){const s=D$e(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&y$e.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function k$e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else tw(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else tw(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function xO(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:g$e;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=jJ(e,s,o);a!==void 0&&n.push(a)}return n}function D$e(e,t,n){const r=r$e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?W7e(n):a$e(n)),r.property==="style"){let i=typeof n=="object"?n:P$e(e,String(n));return e.stylePropertyNameCase==="css"&&(i=F$e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?e$e[r.property]||r.property:r.attribute,n]}}function P$e(e,t){try{return f$e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Cs("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=zJ+"#cannot-parse-style-attribute",i}}function $J(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=c8(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=c8(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return CO.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);tw(e)}function tw(e,t){const n=new Cs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=zJ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function F$e(e){const t={};let n;for(n in e)CO.call(e,n)&&(t[I$e(n)]=e[n]);return t}function I$e(e){let t=e.replace(m$e,M$e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function M$e(e){return"-"+e.toLowerCase()}const ak={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},O$e={};function N$e(e,t){const n=O$e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return qJ(e,r,i)}function qJ(e,t,n){if(L$e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return w8(e.children,t,n)}return Array.isArray(e)?w8(e,t,n):""}function w8(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=qJ(e[i],t,n);return r.join("")}function L$e(e){return!!(e&&typeof e=="object")}const C8=document.createElement("i");function SO(e){const t="&"+e+";";C8.innerHTML=t;const n=C8.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Xl(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ca(e,t){return e.length>0?(Xl(e,e.length,0,t),e):t}const b8={}.hasOwnProperty;function B$e(e){const t={};let n=-1;for(;++n<e.length;)V$e(t,e[n]);return t}function V$e(e,t){let n;for(n in t){const i=(b8.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){b8.call(i,o)||(i[o]=[]);const a=s[o];H$e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function H$e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xl(e,0,0,r)}function KJ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _g(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xl=Bd(/[A-Za-z]/),_o=Bd(/[\dA-Za-z]/),G$e=Bd(/[#-'*+\--9=?A-Z^-~]/);function OP(e){return e!==null&&(e<32||e===127)}const NP=Bd(/\d/),U$e=Bd(/[\dA-Fa-f]/),z$e=Bd(/[!-/:-@[-`{-~]/);function Zt(e){return e!==null&&e<-2}function Js(e){return e!==null&&(e<0||e===32)}function Vn(e){return e===-2||e===-1||e===32}const j$e=Bd(new RegExp("\\p{P}|\\p{S}","u")),W$e=Bd(/\s/);function Bd(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Pm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&_o(e.charCodeAt(n+1))&&_o(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function cr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Vn(l)?(e.enter(n),a(l)):t(l)}function a(l){return Vn(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const $$e={tokenize:q$e};function q$e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),cr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Zt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const K$e={tokenize:Y$e},x8={tokenize:X$e};function Y$e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(x){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(x)}return c(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const k=t.events.length;let D=k,R;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){R=t.events[D][1].end;break}b(r);let _=k;for(;_<t.events.length;)t.events[_][1].end={...R},_++;return Xl(t.events,D+1,0,t.events.slice(k)),t.events.length=_,c(x)}return a(x)}function c(x){if(r===n.length){if(!i)return p(x);if(i.currentConstruct&&i.currentConstruct.concrete)return v(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(x8,u,h)(x)}function u(x){return i&&E(),b(r),p(x)}function h(x){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(x)}function p(x){return t.containerState={},e.attempt(x8,g,v)(x)}function g(x){return r++,n.push([t.currentConstruct,t.containerState]),p(x)}function v(x){if(x===null){i&&E(),b(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(x)}function y(x){if(x===null){C(e.exit("chunkFlow"),!0),b(0),e.consume(x);return}return Zt(x)?(e.consume(x),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(x),y)}function C(x,k){const D=t.sliceStream(x);if(k&&D.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(D),t.parser.lazy[x.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<o&&(!i.events[R][1].end||i.events[R][1].end.offset>o))return;const _=t.events.length;let I=_,F,N;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(F){N=t.events[I][1].end;break}F=!0}for(b(r),R=_;R<t.events.length;)t.events[R][1].end={...N},R++;Xl(t.events,I+1,0,t.events.slice(_)),t.events.length=R}}function b(x){let k=n.length;for(;k-- >x;){const D=n[k];t.containerState=D[1],D[0].exit.call(t,e)}n.length=x}function E(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function X$e(e,t,n){return cr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function S8(e){if(e===null||Js(e)||W$e(e))return 1;if(j$e(e))return 2}function EO(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const LP={name:"attention",resolveAll:Q$e,tokenize:Z$e};function Q$e(e,t){let n=-1,r,i,s,o,a,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},p={...e[n][1].start};E8(h,-l),E8(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ca(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ca(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=ca(c,EO(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ca(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=ca(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,Xl(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Z$e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=S8(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),u=S8(l),h=!u||u===2&&i||n.includes(l),p=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?h:h&&(i||!p)),c._close=!!(s===42?p:p&&(u||!h)),t(l)}}function E8(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const J$e={name:"autolink",tokenize:eqe};function eqe(e,t,n){let r=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return xl(g)?(e.consume(g),o):g===64?n(g):c(g)}function o(g){return g===43||g===45||g===46||_o(g)?(r=1,a(g)):c(g)}function a(g){return g===58?(e.consume(g),r=0,l):(g===43||g===45||g===46||_o(g))&&r++<32?(e.consume(g),a):(r=0,c(g))}function l(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||OP(g)?n(g):(e.consume(g),l)}function c(g){return g===64?(e.consume(g),u):G$e(g)?(e.consume(g),c):n(g)}function u(g){return _o(g)?h(g):n(g)}function h(g){return g===46?(e.consume(g),r=0,u):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):p(g)}function p(g){if((g===45||_o(g))&&r++<63){const v=g===45?p:h;return e.consume(g),v}return n(g)}}const vT={partial:!0,tokenize:tqe};function tqe(e,t,n){return r;function r(s){return Vn(s)?cr(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Zt(s)?t(s):n(s)}}const YJ={continuation:{tokenize:rqe},exit:iqe,name:"blockQuote",tokenize:nqe};function nqe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Vn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function rqe(e,t,n){const r=this;return i;function i(o){return Vn(o)?cr(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(YJ,t,n)(o)}}function iqe(e){e.exit("blockQuote")}const XJ={name:"characterEscape",tokenize:sqe};function sqe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return z$e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const QJ={name:"characterReference",tokenize:oqe};function oqe(e,t,n){const r=this;let i=0,s,o;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=_o,u(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=U$e,u):(e.enter("characterReferenceValue"),s=7,o=NP,u(h))}function u(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return o===_o&&!SO(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),u):n(h)}}const T8={partial:!0,tokenize:lqe},R8={concrete:!0,name:"codeFenced",tokenize:aqe};function aqe(e,t,n){const r=this,i={partial:!0,tokenize:D};let s=0,o=0,a;return l;function l(R){return c(R)}function c(R){const _=r.events[r.events.length-1];return s=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(R)}function u(R){return R===a?(o++,e.consume(R),u):o<3?n(R):(e.exit("codeFencedFenceSequence"),Vn(R)?cr(e,h,"whitespace")(R):h(R))}function h(R){return R===null||Zt(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(T8,y,k)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(R))}function p(R){return R===null||Zt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(R)):Vn(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),cr(e,g,"whitespace")(R)):R===96&&R===a?n(R):(e.consume(R),p)}function g(R){return R===null||Zt(R)?h(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===null||Zt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(R)):R===96&&R===a?n(R):(e.consume(R),v)}function y(R){return e.attempt(i,k,C)(R)}function C(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),b}function b(R){return s>0&&Vn(R)?cr(e,E,"linePrefix",s+1)(R):E(R)}function E(R){return R===null||Zt(R)?e.check(T8,y,k)(R):(e.enter("codeFlowValue"),x(R))}function x(R){return R===null||Zt(R)?(e.exit("codeFlowValue"),E(R)):(e.consume(R),x)}function k(R){return e.exit("codeFenced"),t(R)}function D(R,_,I){let F=0;return N;function N(ee){return R.enter("lineEnding"),R.consume(ee),R.exit("lineEnding"),B}function B(ee){return R.enter("codeFencedFence"),Vn(ee)?cr(R,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):M(ee)}function M(ee){return ee===a?(R.enter("codeFencedFenceSequence"),L(ee)):I(ee)}function L(ee){return ee===a?(F++,R.consume(ee),L):F>=o?(R.exit("codeFencedFenceSequence"),Vn(ee)?cr(R,H,"whitespace")(ee):H(ee)):I(ee)}function H(ee){return ee===null||Zt(ee)?(R.exit("codeFencedFence"),_(ee)):I(ee)}}}function lqe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const lk={name:"codeIndented",tokenize:uqe},cqe={partial:!0,tokenize:dqe};function uqe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),cr(e,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Zt(c)?e.attempt(cqe,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||Zt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function dqe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Zt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):cr(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Zt(o)?i(o):n(o)}}const hqe={name:"codeText",previous:pqe,resolve:fqe,tokenize:gqe};function fqe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function pqe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gqe(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(s=e.enter("codeTextSequence"),i=0,u(h)):Zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||Zt(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function u(h){return h===96?(e.consume(h),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",c(h))}}class mqe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Z0(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Z0(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Z0(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Z0(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Z0(this.left,n.reverse())}}}function Z0(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ZJ(e){const t={};let n=-1,r,i,s,o,a,l,c;const u=new mqe(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,vqe(u,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Xl(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function vqe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,h,p=-1,g=n,v=0,y=0;const C=[y];for(;g;){for(;e.get(++i)[1]!==g;);s.push(i),g._tokenizer||(u=r.sliceStream(g),g.next||u.push(null),h&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,C.push(y),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):C.pop(),p=C.length;p--;){const b=a.slice(C[p],C[p+1]),E=s.pop();l.push([E,E+b.length-1]),e.splice(E,2,b)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const yqe={resolve:Cqe,tokenize:bqe},wqe={partial:!0,tokenize:xqe};function Cqe(e){return ZJ(e),e}function bqe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Zt(a)?e.check(wqe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function xqe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),cr(e,s,"linePrefix")}function s(o){if(o===null||Zt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function JJ(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(b){return b===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(b),e.exit(s),p):b===null||b===32||b===41||OP(b)?n(b):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(b))}function p(b){return b===62?(e.enter(s),e.consume(b),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===62?(e.exit("chunkString"),e.exit(a),p(b)):b===null||b===60||Zt(b)?n(b):(e.consume(b),b===92?v:g)}function v(b){return b===60||b===62||b===92?(e.consume(b),g):g(b)}function y(b){return!u&&(b===null||b===41||Js(b))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(b)):u<c&&b===40?(e.consume(b),u++,y):b===41?(e.consume(b),u--,y):b===null||b===32||b===40||OP(b)?n(b):(e.consume(b),b===92?C:y)}function C(b){return b===40||b===41||b===92?(e.consume(b),y):y(b)}}function eee(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(g){return e.enter(r),e.enter(i),e.consume(g),e.exit(i),e.enter(s),u}function u(g){return a>999||g===null||g===91||g===93&&!l||g===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(e.exit(s),e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):Zt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||Zt(g)||a++>999?(e.exit("chunkString"),u(g)):(e.consume(g),l||(l=!Vn(g)),g===92?p:h)}function p(g){return g===91||g===92||g===93?(e.consume(g),a++,h):h(g)}}function tee(e,t,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),l(o)):p===null?n(p):Zt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),cr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===o||p===null||Zt(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?h:u)}function h(p){return p===o||p===92?(e.consume(p),u):u(p)}}function $v(e,t){let n;return r;function r(i){return Zt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Vn(i)?cr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Sqe={name:"definition",tokenize:Tqe},Eqe={partial:!0,tokenize:Rqe};function Tqe(e,t,n){const r=this;let i;return s;function s(g){return e.enter("definition"),o(g)}function o(g){return eee.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return i=_g(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),l):n(g)}function l(g){return Js(g)?$v(e,c)(g):c(g)}function c(g){return JJ(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function u(g){return e.attempt(Eqe,h,h)(g)}function h(g){return Vn(g)?cr(e,p,"whitespace")(g):p(g)}function p(g){return g===null||Zt(g)?(e.exit("definition"),r.parser.defined.push(i),t(g)):n(g)}}function Rqe(e,t,n){return r;function r(a){return Js(a)?$v(e,i)(a):n(a)}function i(a){return tee(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Vn(a)?cr(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Zt(a)?t(a):n(a)}}const _qe={name:"hardBreakEscape",tokenize:Aqe};function Aqe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Zt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const kqe={name:"headingAtx",resolve:Dqe,tokenize:Pqe};function Dqe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xl(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Pqe(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),s(u)}function s(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Js(u)?(e.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Zt(u)?(e.exit("atxHeading"),t(u)):Vn(u)?cr(e,a,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Js(u)?(e.exit("atxHeadingText"),a(u)):(e.consume(u),c)}}const Fqe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_8=["pre","script","style","textarea"],Iqe={concrete:!0,name:"htmlFlow",resolveTo:Nqe,tokenize:Lqe},Mqe={partial:!0,tokenize:Vqe},Oqe={partial:!0,tokenize:Bqe};function Nqe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Lqe(e,t,n){const r=this;let i,s,o,a,l;return c;function c(G){return u(G)}function u(G){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(G),h}function h(G){return G===33?(e.consume(G),p):G===47?(e.consume(G),s=!0,y):G===63?(e.consume(G),i=3,r.interrupt?t:V):xl(G)?(e.consume(G),o=String.fromCharCode(G),C):n(G)}function p(G){return G===45?(e.consume(G),i=2,g):G===91?(e.consume(G),i=5,a=0,v):xl(G)?(e.consume(G),i=4,r.interrupt?t:V):n(G)}function g(G){return G===45?(e.consume(G),r.interrupt?t:V):n(G)}function v(G){const Y="CDATA[";return G===Y.charCodeAt(a++)?(e.consume(G),a===Y.length?r.interrupt?t:M:v):n(G)}function y(G){return xl(G)?(e.consume(G),o=String.fromCharCode(G),C):n(G)}function C(G){if(G===null||G===47||G===62||Js(G)){const Y=G===47,J=o.toLowerCase();return!Y&&!s&&_8.includes(J)?(i=1,r.interrupt?t(G):M(G)):Fqe.includes(o.toLowerCase())?(i=6,Y?(e.consume(G),b):r.interrupt?t(G):M(G)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):s?E(G):x(G))}return G===45||_o(G)?(e.consume(G),o+=String.fromCharCode(G),C):n(G)}function b(G){return G===62?(e.consume(G),r.interrupt?t:M):n(G)}function E(G){return Vn(G)?(e.consume(G),E):N(G)}function x(G){return G===47?(e.consume(G),N):G===58||G===95||xl(G)?(e.consume(G),k):Vn(G)?(e.consume(G),x):N(G)}function k(G){return G===45||G===46||G===58||G===95||_o(G)?(e.consume(G),k):D(G)}function D(G){return G===61?(e.consume(G),R):Vn(G)?(e.consume(G),D):x(G)}function R(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(e.consume(G),l=G,_):Vn(G)?(e.consume(G),R):I(G)}function _(G){return G===l?(e.consume(G),l=null,F):G===null||Zt(G)?n(G):(e.consume(G),_)}function I(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||Js(G)?D(G):(e.consume(G),I)}function F(G){return G===47||G===62||Vn(G)?x(G):n(G)}function N(G){return G===62?(e.consume(G),B):n(G)}function B(G){return G===null||Zt(G)?M(G):Vn(G)?(e.consume(G),B):n(G)}function M(G){return G===45&&i===2?(e.consume(G),re):G===60&&i===1?(e.consume(G),te):G===62&&i===4?(e.consume(G),X):G===63&&i===3?(e.consume(G),V):G===93&&i===5?(e.consume(G),Z):Zt(G)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Mqe,z,L)(G)):G===null||Zt(G)?(e.exit("htmlFlowData"),L(G)):(e.consume(G),M)}function L(G){return e.check(Oqe,H,z)(G)}function H(G){return e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),ee}function ee(G){return G===null||Zt(G)?L(G):(e.enter("htmlFlowData"),M(G))}function re(G){return G===45?(e.consume(G),V):M(G)}function te(G){return G===47?(e.consume(G),o="",he):M(G)}function he(G){if(G===62){const Y=o.toLowerCase();return _8.includes(Y)?(e.consume(G),X):M(G)}return xl(G)&&o.length<8?(e.consume(G),o+=String.fromCharCode(G),he):M(G)}function Z(G){return G===93?(e.consume(G),V):M(G)}function V(G){return G===62?(e.consume(G),X):G===45&&i===2?(e.consume(G),V):M(G)}function X(G){return G===null||Zt(G)?(e.exit("htmlFlowData"),z(G)):(e.consume(G),X)}function z(G){return e.exit("htmlFlow"),t(G)}}function Bqe(e,t,n){const r=this;return i;function i(o){return Zt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Vqe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(vT,t,n)}}const Hqe={name:"htmlText",tokenize:Gqe};function Gqe(e,t,n){const r=this;let i,s,o;return a;function a(V){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(V),l}function l(V){return V===33?(e.consume(V),c):V===47?(e.consume(V),D):V===63?(e.consume(V),x):xl(V)?(e.consume(V),I):n(V)}function c(V){return V===45?(e.consume(V),u):V===91?(e.consume(V),s=0,v):xl(V)?(e.consume(V),E):n(V)}function u(V){return V===45?(e.consume(V),g):n(V)}function h(V){return V===null?n(V):V===45?(e.consume(V),p):Zt(V)?(o=h,te(V)):(e.consume(V),h)}function p(V){return V===45?(e.consume(V),g):h(V)}function g(V){return V===62?re(V):V===45?p(V):h(V)}function v(V){const X="CDATA[";return V===X.charCodeAt(s++)?(e.consume(V),s===X.length?y:v):n(V)}function y(V){return V===null?n(V):V===93?(e.consume(V),C):Zt(V)?(o=y,te(V)):(e.consume(V),y)}function C(V){return V===93?(e.consume(V),b):y(V)}function b(V){return V===62?re(V):V===93?(e.consume(V),b):y(V)}function E(V){return V===null||V===62?re(V):Zt(V)?(o=E,te(V)):(e.consume(V),E)}function x(V){return V===null?n(V):V===63?(e.consume(V),k):Zt(V)?(o=x,te(V)):(e.consume(V),x)}function k(V){return V===62?re(V):x(V)}function D(V){return xl(V)?(e.consume(V),R):n(V)}function R(V){return V===45||_o(V)?(e.consume(V),R):_(V)}function _(V){return Zt(V)?(o=_,te(V)):Vn(V)?(e.consume(V),_):re(V)}function I(V){return V===45||_o(V)?(e.consume(V),I):V===47||V===62||Js(V)?F(V):n(V)}function F(V){return V===47?(e.consume(V),re):V===58||V===95||xl(V)?(e.consume(V),N):Zt(V)?(o=F,te(V)):Vn(V)?(e.consume(V),F):re(V)}function N(V){return V===45||V===46||V===58||V===95||_o(V)?(e.consume(V),N):B(V)}function B(V){return V===61?(e.consume(V),M):Zt(V)?(o=B,te(V)):Vn(V)?(e.consume(V),B):F(V)}function M(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),i=V,L):Zt(V)?(o=M,te(V)):Vn(V)?(e.consume(V),M):(e.consume(V),H)}function L(V){return V===i?(e.consume(V),i=void 0,ee):V===null?n(V):Zt(V)?(o=L,te(V)):(e.consume(V),L)}function H(V){return V===null||V===34||V===39||V===60||V===61||V===96?n(V):V===47||V===62||Js(V)?F(V):(e.consume(V),H)}function ee(V){return V===47||V===62||Js(V)?F(V):n(V)}function re(V){return V===62?(e.consume(V),e.exit("htmlTextData"),e.exit("htmlText"),t):n(V)}function te(V){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),he}function he(V){return Vn(V)?cr(e,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):Z(V)}function Z(V){return e.enter("htmlTextData"),o(V)}}const TO={name:"labelEnd",resolveAll:Wqe,resolveTo:$qe,tokenize:qqe},Uqe={tokenize:Kqe},zqe={tokenize:Yqe},jqe={tokenize:Xqe};function Wqe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Xl(e,0,e.length,n),e}function $qe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=ca(a,e.slice(s+1,s+r+3)),a=ca(a,[["enter",u,t]]),a=ca(a,EO(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=ca(a,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),a=ca(a,e.slice(o+1)),a=ca(a,[["exit",l,t]]),Xl(e,s,e.length,a),e}function qqe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(_g(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(Uqe,u,o?u:h)(p):p===91?e.attempt(zqe,u,o?c:h)(p):o?u(p):h(p)}function c(p){return e.attempt(jqe,u,h)(p)}function u(p){return t(p)}function h(p){return s._balanced=!0,n(p)}}function Kqe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Js(h)?$v(e,s)(h):s(h)}function s(h){return h===41?u(h):JJ(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Js(h)?$v(e,l)(h):u(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?tee(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return Js(h)?$v(e,u)(h):u(h)}function u(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function Yqe(e,t,n){const r=this;return i;function i(a){return eee.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(_g(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Xqe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Qqe={name:"labelStartImage",resolveAll:TO.resolveAll,tokenize:Zqe};function Zqe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Jqe={name:"labelStartLink",resolveAll:TO.resolveAll,tokenize:eKe};function eKe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ck={name:"lineEnding",tokenize:tKe};function tKe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),cr(e,t,"linePrefix")}}const cS={name:"thematicBreak",tokenize:nKe};function nKe(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Zt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Vn(c)?cr(e,a,"whitespace")(c):a(c))}}const js={continuation:{tokenize:oKe},exit:lKe,name:"list",tokenize:sKe},rKe={partial:!0,tokenize:cKe},iKe={partial:!0,tokenize:aKe};function sKe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(g){const v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:NP(g)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(cS,n,c)(g):c(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(g)}return n(g)}function l(g){return NP(g)&&++o<10?(e.consume(g),l):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),c(g)):n(g)}function c(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(vT,r.interrupt?n:u,e.attempt(rKe,p,h))}function u(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function h(g){return Vn(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),p):n(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function oKe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(vT,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,cr(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Vn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(iKe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,cr(e,e.attempt(js,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function aKe(e,t,n){const r=this;return cr(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function lKe(e){e.exit(this.containerState.type)}function cKe(e,t,n){const r=this;return cr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Vn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const A8={name:"setextUnderline",resolveTo:uKe,tokenize:dKe};function uKe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function dKe(e,t,n){const r=this;let i;return s;function s(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Vn(c)?cr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Zt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const hKe={tokenize:fKe};function fKe(e){const t=this,n=e.attempt(vT,r,e.attempt(this.parser.constructs.flowInitial,i,cr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(yqe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const pKe={resolveAll:ree()},gKe=nee("string"),mKe=nee("text");function nee(e){return{resolveAll:ree(e==="text"?vKe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let p=-1;if(h)for(;++p<h.length;){const g=h[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function ree(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function vKe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const yKe={42:js,43:js,45:js,48:js,49:js,50:js,51:js,52:js,53:js,54:js,55:js,56:js,57:js,62:YJ},wKe={91:Sqe},CKe={[-2]:lk,[-1]:lk,32:lk},bKe={35:kqe,42:cS,45:[A8,cS],60:Iqe,61:A8,95:cS,96:R8,126:R8},xKe={38:QJ,92:XJ},SKe={[-5]:ck,[-4]:ck,[-3]:ck,33:Qqe,38:QJ,42:LP,60:[J$e,Hqe],91:Jqe,92:[_qe,XJ],93:TO,95:LP,96:hqe},EKe={null:[LP,pKe]},TKe={null:[42,95]},RKe={null:[]},_Ke=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:TKe,contentInitial:wKe,disable:RKe,document:yKe,flow:bKe,flowInitial:CKe,insideSpan:EKe,string:xKe,text:SKe},Symbol.toStringTag,{value:"Module"}));function AKe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:_(D),check:_(R),consume:E,enter:x,exit:k,interrupt:_(R,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:g,write:h};let u=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function h(B){return o=ca(o,B),C(),o[o.length-1]!==null?[]:(I(t,0),c.events=EO(s,c.events,c),c.events)}function p(B,M){return DKe(g(B),M)}function g(B){return kKe(o,B)}function v(){const{_bufferIndex:B,_index:M,line:L,column:H,offset:ee}=r;return{_bufferIndex:B,_index:M,line:L,column:H,offset:ee}}function y(B){i[B.line]=B.column,N()}function C(){let B;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<M.length;)b(M.charCodeAt(r._bufferIndex));else b(M)}}function b(B){u=u(B)}function E(B){Zt(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,N()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=B}function x(B,M){const L=M||{};return L.type=B,L.start=v(),c.events.push(["enter",L,c]),a.push(L),L}function k(B){const M=a.pop();return M.end=v(),c.events.push(["exit",M,c]),M}function D(B,M){I(B,M.from)}function R(B,M){M.restore()}function _(B,M){return L;function L(H,ee,re){let te,he,Z,V;return Array.isArray(H)?z(H):"tokenize"in H?z([H]):X(H);function X(pe){return He;function He(Re){const Te=Re!==null&&pe[Re],De=Re!==null&&pe.null,et=[...Array.isArray(Te)?Te:Te?[Te]:[],...Array.isArray(De)?De:De?[De]:[]];return z(et)(Re)}}function z(pe){return te=pe,he=0,pe.length===0?re:G(pe[he])}function G(pe){return He;function He(Re){return V=F(),Z=pe,pe.partial||(c.currentConstruct=pe),pe.name&&c.parser.constructs.disable.null.includes(pe.name)?J():pe.tokenize.call(M?Object.assign(Object.create(c),M):c,l,Y,J)(Re)}}function Y(pe){return B(Z,V),ee}function J(pe){return V.restore(),++he<te.length?G(te[he]):re}}}function I(B,M){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&Xl(c.events,M,c.events.length-M,B.resolve(c.events.slice(M),c)),B.resolveTo&&(c.events=B.resolveTo(c.events,c))}function F(){const B=v(),M=c.previous,L=c.currentConstruct,H=c.events.length,ee=Array.from(a);return{from:H,restore:re};function re(){r=B,c.previous=M,c.currentConstruct=L,c.events.length=H,a=ee,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function kKe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function DKe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function PKe(e){const r={constructs:B$e([_Ke,...(e||{}).extensions||[]]),content:i($$e),defined:[],document:i(K$e),flow:i(hKe),lazy:{},string:i(gKe),text:i(mKe)};return r;function i(s){return o;function o(a){return AKe(r,s,a)}}}function FKe(e){for(;!ZJ(e););return e}const k8=/[\0\t\n\r]/g;function IKe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,h,p,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(k8.lastIndex=h,c=k8.exec(s),p=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(p),!c){t=s.slice(h);break}if(g===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(s.slice(h,p)),e+=p-h),g){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const MKe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OKe(e){return e.replace(MKe,NKe)}function NKe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return KJ(n.slice(s?2:1),s?16:10)}return SO(n)||e}const iee={}.hasOwnProperty;function LKe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),BKe(n)(FKe(PKe(n).document().write(IKe()(e,t,!0))))}function BKe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ve),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(Ce),blockQuote:s(De),characterEscape:F,characterReference:F,codeFenced:s(et),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(et,o),codeText:s(ue,o),codeTextData:F,data:F,codeFlowValue:F,definition:s(St),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(j),hardBreakEscape:s(ye),hardBreakTrailing:s(ye),htmlFlow:s(Q,o),htmlFlowData:F,htmlText:s(Q,o),htmlTextData:F,image:s(oe),label:o,link:s(ve),listItem:s(Ue),listItemValue:p,listOrdered:s(Fe,h),listUnordered:s(Fe),paragraph:s(xe),reference:G,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ce),strong:s(Ke),thematicBreak:s(Je)},exit:{atxHeading:l(),atxHeadingSequence:D,autolink:l(),autolinkEmail:Te,autolinkProtocol:Re,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:pe,characterReference:He,codeFenced:l(C),codeFencedFence:y,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:N,codeIndented:l(b),codeText:l(ee),codeTextData:N,data:N,definition:l(),definitionDestinationString:k,definitionLabelString:E,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(L),htmlFlowData:N,htmlText:l(H),htmlTextData:N,image:l(te),label:Z,labelText:he,lineEnding:B,link:l(re),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:V,resourceTitleString:X,resource:z,setextHeading:l(I),setextHeadingLineSequence:_,setextHeadingText:R,strong:l(),thematicBreak:l()}};see(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(fe){let Me={type:"root",children:[]};const We={stack:[Me],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:u,data:n},dt=[];let bt=-1;for(;++bt<fe.length;)if(fe[bt][1].type==="listOrdered"||fe[bt][1].type==="listUnordered")if(fe[bt][0]==="enter")dt.push(bt);else{const It=dt.pop();bt=i(fe,It,bt)}for(bt=-1;++bt<fe.length;){const It=t[fe[bt][0]];iee.call(It,fe[bt][1].type)&&It[fe[bt][1].type].call(Object.assign({sliceSerialize:fe[bt][2].sliceSerialize},We),fe[bt][1])}if(We.tokenStack.length>0){const It=We.tokenStack[We.tokenStack.length-1];(It[1]||D8).call(We,void 0,It[0])}for(Me.position={start:Mu(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:Mu(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},bt=-1;++bt<t.transforms.length;)Me=t.transforms[bt](Me)||Me;return Me}function i(fe,Me,We){let dt=Me-1,bt=-1,It=!1,fn,Dt,$n,or;for(;++dt<=We;){const Cn=fe[dt];switch(Cn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Cn[0]==="enter"?bt++:bt--,or=void 0;break}case"lineEndingBlank":{Cn[0]==="enter"&&(fn&&!or&&!bt&&!$n&&($n=dt),or=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:or=void 0}if(!bt&&Cn[0]==="enter"&&Cn[1].type==="listItemPrefix"||bt===-1&&Cn[0]==="exit"&&(Cn[1].type==="listUnordered"||Cn[1].type==="listOrdered")){if(fn){let yr=dt;for(Dt=void 0;yr--;){const br=fe[yr];if(br[1].type==="lineEnding"||br[1].type==="lineEndingBlank"){if(br[0]==="exit")continue;Dt&&(fe[Dt][1].type="lineEndingBlank",It=!0),br[1].type="lineEnding",Dt=yr}else if(!(br[1].type==="linePrefix"||br[1].type==="blockQuotePrefix"||br[1].type==="blockQuotePrefixWhitespace"||br[1].type==="blockQuoteMarker"||br[1].type==="listItemIndent"))break}$n&&(!Dt||$n<Dt)&&(fn._spread=!0),fn.end=Object.assign({},Dt?fe[Dt][1].start:Cn[1].end),fe.splice(Dt||dt,0,["exit",fn,Cn[2]]),dt++,We++}if(Cn[1].type==="listItemPrefix"){const yr={type:"listItem",_spread:!1,start:Object.assign({},Cn[1].start),end:void 0};fn=yr,fe.splice(dt,0,["enter",yr,Cn[2]]),dt++,We++,$n=void 0,or=!0}}}return fe[Me][1]._spread=It,We}function s(fe,Me){return We;function We(dt){a.call(this,fe(dt),dt),Me&&Me.call(this,dt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(fe,Me,We){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([Me,We||void 0]),fe.position={start:Mu(Me.start),end:void 0}}function l(fe){return Me;function Me(We){fe&&fe.call(this,We),c.call(this,We)}}function c(fe,Me){const We=this.stack.pop(),dt=this.tokenStack.pop();if(dt)dt[0].type!==fe.type&&(Me?Me.call(this,fe,dt[0]):(dt[1]||D8).call(this,fe,dt[0]));else throw new Error("Cannot close `"+fe.type+"` ("+Wv({start:fe.start,end:fe.end})+"): its not open");We.position.end=Mu(fe.end)}function u(){return N$e(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(fe){if(this.data.expectingFirstListItemValue){const Me=this.stack[this.stack.length-2];Me.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function g(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.lang=fe}function v(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.meta=fe}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=fe.replace(/(\r?\n|\r)$/g,"")}function E(fe){const Me=this.resume(),We=this.stack[this.stack.length-1];We.label=Me,We.identifier=_g(this.sliceSerialize(fe)).toLowerCase()}function x(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.title=fe}function k(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.url=fe}function D(fe){const Me=this.stack[this.stack.length-1];if(!Me.depth){const We=this.sliceSerialize(fe).length;Me.depth=We}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function _(fe){const Me=this.stack[this.stack.length-1];Me.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function F(fe){const We=this.stack[this.stack.length-1].children;let dt=We[We.length-1];(!dt||dt.type!=="text")&&(dt=st(),dt.position={start:Mu(fe.start),end:void 0},We.push(dt)),this.stack.push(dt)}function N(fe){const Me=this.stack.pop();Me.value+=this.sliceSerialize(fe),Me.position.end=Mu(fe.end)}function B(fe){const Me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const We=Me.children[Me.children.length-1];We.position.end=Mu(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Me.type)&&(F.call(this,fe),N.call(this,fe))}function M(){this.data.atHardBreak=!0}function L(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=fe}function H(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=fe}function ee(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=fe}function re(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Me,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function te(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Me,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function he(fe){const Me=this.sliceSerialize(fe),We=this.stack[this.stack.length-2];We.label=OKe(Me),We.identifier=_g(Me).toLowerCase()}function Z(){const fe=this.stack[this.stack.length-1],Me=this.resume(),We=this.stack[this.stack.length-1];if(this.data.inReference=!0,We.type==="link"){const dt=fe.children;We.children=dt}else We.alt=Me}function V(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.url=fe}function X(){const fe=this.resume(),Me=this.stack[this.stack.length-1];Me.title=fe}function z(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function Y(fe){const Me=this.resume(),We=this.stack[this.stack.length-1];We.label=Me,We.identifier=_g(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function J(fe){this.data.characterReferenceType=fe.type}function pe(fe){const Me=this.sliceSerialize(fe),We=this.data.characterReferenceType;let dt;We?(dt=KJ(Me,We==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):dt=SO(Me);const bt=this.stack[this.stack.length-1];bt.value+=dt}function He(fe){const Me=this.stack.pop();Me.position.end=Mu(fe.end)}function Re(fe){N.call(this,fe);const Me=this.stack[this.stack.length-1];Me.url=this.sliceSerialize(fe)}function Te(fe){N.call(this,fe);const Me=this.stack[this.stack.length-1];Me.url="mailto:"+this.sliceSerialize(fe)}function De(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function ue(){return{type:"inlineCode",value:""}}function St(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function j(){return{type:"emphasis",children:[]}}function Ce(){return{type:"heading",depth:0,children:[]}}function ye(){return{type:"break"}}function Q(){return{type:"html",value:""}}function oe(){return{type:"image",title:null,url:"",alt:null}}function ve(){return{type:"link",title:null,url:"",children:[]}}function Fe(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function Ue(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function xe(){return{type:"paragraph",children:[]}}function Ke(){return{type:"strong",children:[]}}function st(){return{type:"text",value:""}}function Je(){return{type:"thematicBreak"}}}function Mu(e){return{line:e.line,column:e.column,offset:e.offset}}function see(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?see(e,r):VKe(e,r)}}function VKe(e,t){let n;for(n in t)if(iee.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function D8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wv({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wv({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wv({start:t.start,end:t.end})+") is still open")}function HKe(e){const t=this;t.parser=n;function n(r){return LKe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function GKe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function UKe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function zKe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function jKe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WKe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $Ke(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Pm(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function qKe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KKe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function oee(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function YKe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return oee(e,t);const i={src:Pm(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function XKe(e,t){const n={src:Pm(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function QKe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function ZKe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return oee(e,t);const i={href:Pm(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function JKe(e,t){const n={href:Pm(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eYe(e,t,n){const r=e.all(t),i=n?tYe(n):aee(t),s={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function tYe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=aee(n[r])}return t}function aee(e){const t=e.spread;return t??e.children.length>1}function nYe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function rYe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iYe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function sYe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oYe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=wO(t.children[1]),l=GJ(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function aYe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const h=t.children[l],p={},g=o?o[l]:void 0;g&&(p.align=g);let v={type:"element",tagName:s,properties:p,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),c.push(v)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function lYe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const P8=9,F8=32;function cYe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(I8(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(I8(t.slice(i),i>0,!1)),s.join("")}function I8(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===P8||s===F8;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===P8||s===F8;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function uYe(e,t){const n={type:"text",value:cYe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function dYe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const hYe={blockquote:GKe,break:UKe,code:zKe,delete:jKe,emphasis:WKe,footnoteReference:$Ke,heading:qKe,html:KKe,imageReference:YKe,image:XKe,inlineCode:QKe,linkReference:ZKe,link:JKe,listItem:eYe,list:nYe,paragraph:rYe,root:iYe,strong:sYe,table:oYe,tableCell:lYe,tableRow:aYe,text:uYe,thematicBreak:dYe,toml:bx,yaml:bx,definition:bx,footnoteDefinition:bx};function bx(){}const lee=-1,yT=0,qv=1,H1=2,RO=3,_O=4,AO=5,kO=6,cee=7,uee=8,M8=typeof self=="object"?self:globalThis,fYe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case yT:case lee:return n(o,i);case qv:{const a=n([],i);for(const l of o)a.push(r(l));return a}case H1:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case RO:return n(new Date(o),i);case _O:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case AO:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case kO:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case cee:{const{name:a,message:l}=o;return n(new M8[a](l),i)}case uee:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new M8[s](o),i)};return r},O8=e=>fYe(new Map,e)(0),Hp="",{toString:pYe}={},{keys:gYe}=Object,J0=e=>{const t=typeof e;if(t!=="object"||!e)return[yT,t];const n=pYe.call(e).slice(8,-1);switch(n){case"Array":return[qv,Hp];case"Object":return[H1,Hp];case"Date":return[RO,Hp];case"RegExp":return[_O,Hp];case"Map":return[AO,Hp];case"Set":return[kO,Hp];case"DataView":return[qv,n]}return n.includes("Array")?[qv,n]:n.includes("Error")?[cee,n]:[H1,n]},xx=([e,t])=>e===yT&&(t==="function"||t==="symbol"),mYe=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=J0(o);switch(a){case yT:{let u=o;switch(l){case"bigint":a=uee,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([lee],o)}return i([a,u],o)}case qv:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const u=[],h=i([a,u],o);for(const p of o)u.push(s(p));return h}case H1:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const u=[],h=i([a,u],o);for(const p of gYe(o))(e||!xx(J0(o[p])))&&u.push([s(p),s(o[p])]);return h}case RO:return i([a,o.toISOString()],o);case _O:{const{source:u,flags:h}=o;return i([a,{source:u,flags:h}],o)}case AO:{const u=[],h=i([a,u],o);for(const[p,g]of o)(e||!(xx(J0(p))||xx(J0(g))))&&u.push([s(p),s(g)]);return h}case kO:{const u=[],h=i([a,u],o);for(const p of o)(e||!xx(J0(p)))&&u.push(s(p));return h}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},N8=(e,{json:t,lossy:n}={})=>{const r=[];return mYe(!(t||n),!!t,new Map,r)(e),r},G1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?O8(N8(e,t)):structuredClone(e):(e,t)=>O8(N8(e,t));function vYe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function yYe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function wYe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||vYe,r=e.options.footnoteBackLabel||yYe,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),h=String(c.identifier).toUpperCase(),p=Pm(h.toLowerCase());let g=0;const v=[],y=e.footnoteCounts.get(h);for(;y!==void 0&&++g<=y;){v.length>0&&v.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,g);typeof E=="string"&&(E={type:"text",value:E}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const C=u[u.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const E=C.children[C.children.length-1];E&&E.type==="text"?E.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...v)}else u.push(...v);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,b),a.push(b)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...G1(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const dee=function(e){if(e==null)return SYe;if(typeof e=="function")return wT(e);if(typeof e=="object")return Array.isArray(e)?CYe(e):bYe(e);if(typeof e=="string")return xYe(e);throw new Error("Expected function, string, or object as test")};function CYe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=dee(e[n]);return wT(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function bYe(e){const t=e;return wT(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function xYe(e){return wT(t);function t(n){return n&&n.type===e}}function wT(e){return t;function t(n,r,i){return!!(EYe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function SYe(){return!0}function EYe(e){return e!==null&&typeof e=="object"&&"type"in e}const hee=[],TYe=!0,L8=!1,RYe="skip";function _Ye(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=dee(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=hee,v,y,C;if((!t||s(l,c,u[u.length-1]||void 0))&&(g=AYe(n(l,u)),g[0]===L8))return g;if("children"in l&&l.children){const b=l;if(b.children&&g[0]!==RYe)for(y=(r?b.children.length:-1)+o,C=u.concat(b);y>-1&&y<b.children.length;){const E=b.children[y];if(v=a(E,y,C)(),v[0]===L8)return v;y=typeof v[1]=="number"?v[1]:y+o}}return g}}}function AYe(e){return Array.isArray(e)?e:typeof e=="number"?[TYe,e]:e==null?hee:[e]}function fee(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),_Ye(e,s,a,i);function a(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return o(l,h,u)}}const BP={}.hasOwnProperty,kYe={};function DYe(e,t){const n=t||kYe,r=new Map,i=new Map,s=new Map,o={...hYe,...n.handlers},a={all:c,applyData:FYe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:PYe,wrap:MYe};return fee(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,p=String(u.identifier).toUpperCase();h.has(p)||h.set(p,u)}}),a;function l(u,h){const p=u.type,g=a.handlers[p];if(BP.call(a.handlers,p)&&g)return g(a,u,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in u){const{children:y,...C}=u,b=G1(C);return b.children=a.all(u),b}return G1(u)}return(a.options.unknownHandler||IYe)(a,u,h)}function c(u){const h=[];if("children"in u){const p=u.children;let g=-1;for(;++g<p.length;){const v=a.one(p[g],u);if(v){if(g&&p[g-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=B8(v.value)),!Array.isArray(v)&&v.type==="element")){const y=v.children[0];y&&y.type==="text"&&(y.value=B8(y.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function PYe(e,t){e.position&&(t.position=p$e(e))}function FYe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,G1(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function IYe(e,t){const n=t.data||{},r="value"in t&&!(BP.call(n,"hProperties")||BP.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MYe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function B8(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function V8(e,t){const n=DYe(e,t),r=n.one(e,void 0),i=wYe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function OYe(e,t){return e&&"run"in e?async function(n,r){const i=V8(n,{file:r,...t});await e.run(i,r)}:function(n,r){return V8(n,{file:r,...e||t})}}function H8(e){if(e)throw e}var uk,G8;function NYe(){if(G8)return uk;G8=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!h)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return uk=function l(){var c,u,h,p,g,v,y=arguments[0],C=1,b=arguments.length,E=!1;for(typeof y=="boolean"&&(E=y,y=arguments[1]||{},C=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});C<b;++C)if(c=arguments[C],c!=null)for(u in c)h=a(y,u),p=a(c,u),y!==p&&(E&&p&&(s(p)||(g=i(p)))?(g?(g=!1,v=h&&i(h)?h:[]):v=h&&s(h)?h:{},o(y,{name:u,newValue:l(E,v,p)})):typeof p<"u"&&o(y,{name:u,newValue:p}));return y},uk}var LYe=NYe();const dk=Tf(LYe);function VP(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function BYe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=e[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?VYe(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function VYe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const ml={basename:HYe,dirname:GYe,extname:UYe,join:zYe,sep:"/"};function HYe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');hC(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function GYe(e){if(hC(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function UYe(e){hC(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function zYe(...e){let t=-1,n;for(;++t<e.length;)hC(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":jYe(n)}function jYe(e){hC(e);const t=e.codePointAt(0)===47;let n=WYe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function WYe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function hC(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $Ye={cwd:qYe};function qYe(){return"/"}function HP(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function KYe(e){if(typeof e=="string")e=new URL(e);else if(!HP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return YYe(e)}function YYe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const hk=["history","path","basename","stem","extname","dirname"];class pee{constructor(t){let n;t?HP(t)?n={path:t}:typeof t=="string"||XYe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":$Ye.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<hk.length;){const s=hk[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)hk.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ml.basename(this.path):void 0}set basename(t){pk(t,"basename"),fk(t,"basename"),this.path=ml.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ml.dirname(this.path):void 0}set dirname(t){U8(this.basename,"dirname"),this.path=ml.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ml.extname(this.path):void 0}set extname(t){if(fk(t,"extname"),U8(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ml.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){HP(t)&&(t=KYe(t)),pk(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ml.basename(this.path,this.extname):void 0}set stem(t){pk(t,"stem"),fk(t,"stem"),this.path=ml.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Cs(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function fk(e,t){if(e&&e.includes(ml.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ml.sep+"`")}function pk(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function U8(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function XYe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QYe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},ZYe={}.hasOwnProperty;class DO extends QYe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=BYe()}copy(){const t=new DO;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(dk(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(vk("data",this.frozen),this.namespace[t]=n,this):ZYe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(vk("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Sx(t),r=this.parser||this.Parser;return gk("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),gk("process",this.parser||this.Parser),mk("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Sx(t),l=r.parse(a);r.run(l,a,function(u,h,p){if(u||!h||!p)return c(u);const g=h,v=r.stringify(g,p);tXe(v)?p.value=v:p.result=v,c(u,p)});function c(u,h){u||!h?o(u):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),gk("processSync",this.parser||this.Parser),mk("processSync",this.compiler||this.Compiler),this.process(t,i),j8("processSync","process",n),r;function i(s,o){n=!0,H8(s),r=o}}run(t,n,r){z8(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Sx(n);i.run(t,l,c);function c(u,h,p){const g=h||t;u?a(u):o?o(g):r(void 0,g,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),j8("runSync","run",r),i;function s(o,a){H8(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Sx(n),i=this.compiler||this.Compiler;return mk("stringify",i),z8(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(vk("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=dk(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...u]);else if(u.length>0){let[g,...v]=u;const y=r[p][1];VP(y)&&VP(g)&&(g=dk(!0,y,g)),r[p]=[c,g,...v]}}}}const JYe=new DO().freeze();function gk(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function mk(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function vk(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function z8(e){if(!VP(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function j8(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Sx(e){return eXe(e)?e:new pee(e)}function eXe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function tXe(e){return typeof e=="string"||nXe(e)}function nXe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const rXe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",W8=[],$8={allowDangerousHtml:!0},iXe=/^(https?|ircs?|mailto|xmpp)$/i,sXe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ex(e){const t=oXe(e),n=aXe(e);return lXe(t.runSync(t.parse(n),n),e)}function oXe(e){const t=e.rehypePlugins||W8,n=e.remarkPlugins||W8,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$8}:$8;return JYe().use(HKe).use(n).use(OYe,r).use(t)}function aXe(e){const t=e.children||"",n=new pee;return typeof t=="string"&&(n.value=t),n}function lXe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||cXe;for(const u of sXe)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+rXe+u.id,void 0);return fee(e,c),w$e(e,{Fragment:O.Fragment,components:i,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function c(u,h,p){if(u.type==="raw"&&p&&typeof h=="number")return o?p.children.splice(h,1):p.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let g;for(g in ak)if(Object.hasOwn(ak,g)&&Object.hasOwn(u.properties,g)){const v=u.properties[g],y=ak[g];(y===null||y.includes(u.tagName))&&(u.properties[g]=l(String(v||""),g,u))}}if(u.type==="element"){let g=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!g&&r&&typeof h=="number"&&(g=!r(u,h,p)),g&&p&&typeof h=="number")return a&&u.children?p.children.splice(h,1,...u.children):p.children.splice(h,1),h}}}function cXe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||iXe.test(e.slice(0,t))?e:""}const PO=A.createContext({});function FO(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const IO=typeof window<"u",gee=IO?A.useLayoutEffect:A.useEffect,CT=A.createContext(null);function MO(e,t){e.indexOf(t)===-1&&e.push(t)}function OO(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xc=(e,t,n)=>n>t?t:n<e?e:n;let NO=()=>{};const Qc={},mee=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function vee(e){return typeof e=="object"&&e!==null}const yee=e=>/^0[^.\s]+$/u.test(e);function LO(e){let t;return()=>(t===void 0&&(t=e()),t)}const va=e=>e,uXe=(e,t)=>n=>t(e(n)),fC=(...e)=>e.reduce(uXe),nw=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class BO{constructor(){this.subscriptions=[]}add(t){return MO(this.subscriptions,t),()=>OO(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hl=e=>e*1e3,Gl=e=>e/1e3;function wee(e,t){return t?e*(1e3/t):0}const Cee=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,dXe=1e-7,hXe=12;function fXe(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Cee(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>dXe&&++a<hXe);return o}function pC(e,t,n,r){if(e===t&&n===r)return va;const i=s=>fXe(s,0,1,e,n);return s=>s===0||s===1?s:Cee(i(s),t,r)}const bee=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xee=e=>t=>1-e(1-t),See=pC(.33,1.53,.69,.99),VO=xee(See),Eee=bee(VO),Tee=e=>(e*=2)<1?.5*VO(e):.5*(2-Math.pow(2,-10*(e-1))),HO=e=>1-Math.sin(Math.acos(e)),Ree=xee(HO),_ee=bee(HO),pXe=pC(.42,0,1,1),gXe=pC(0,0,.58,1),Aee=pC(.42,0,.58,1),mXe=e=>Array.isArray(e)&&typeof e[0]!="number",kee=e=>Array.isArray(e)&&typeof e[0]=="number",vXe={linear:va,easeIn:pXe,easeInOut:Aee,easeOut:gXe,circIn:HO,circInOut:_ee,circOut:Ree,backIn:VO,backInOut:Eee,backOut:See,anticipate:Tee},yXe=e=>typeof e=="string",q8=e=>{if(kee(e)){NO(e.length===4);const[t,n,r,i]=e;return pC(t,n,r,i)}else if(yXe(e))return vXe[e];return e},Tx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wXe(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,h=!1,p=!1)=>{const v=p&&i?n:r;return h&&o.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const CXe=40;function Dee(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Tx.reduce((x,k)=>(x[k]=wXe(s),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:p,render:g,postRender:v}=o,y=()=>{const x=Qc.useManualTiming?i.timestamp:performance.now();n=!1,Qc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,CXe),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},C=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:Tx.reduce((x,k)=>{const D=o[k];return x[k]=(R,_=!1,I=!1)=>(n||C(),D.schedule(R,_,I)),x},{}),cancel:x=>{for(let k=0;k<Tx.length;k++)o[Tx[k]].cancel(x)},state:i,steps:o}}const{schedule:Cr,cancel:Sd,state:Wi,steps:yk}=Dee(typeof requestAnimationFrame<"u"?requestAnimationFrame:va,!0);let uS;function bXe(){uS=void 0}const Ys={now:()=>(uS===void 0&&Ys.set(Wi.isProcessing||Qc.useManualTiming?Wi.timestamp:performance.now()),uS),set:e=>{uS=e,queueMicrotask(bXe)}},Pee=e=>t=>typeof t=="string"&&t.startsWith(e),GO=Pee("--"),xXe=Pee("var(--"),UO=e=>xXe(e)?SXe.test(e.split("/*")[0].trim()):!1,SXe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rw={...Fm,transform:e=>Xc(0,1,e)},Rx={...Fm,default:1},Kv=e=>Math.round(e*1e5)/1e5,zO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EXe(e){return e==null}const TXe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jO=(e,t)=>n=>!!(typeof n=="string"&&TXe.test(n)&&n.startsWith(e)||t&&!EXe(n)&&Object.prototype.hasOwnProperty.call(n,t)),Fee=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(zO);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},RXe=e=>Xc(0,255,e),wk={...Fm,transform:e=>Math.round(RXe(e))},kh={test:jO("rgb","red"),parse:Fee("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wk.transform(e)+", "+wk.transform(t)+", "+wk.transform(n)+", "+Kv(rw.transform(r))+")"};function _Xe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const GP={test:jO("#"),parse:_Xe,transform:kh.transform},gC=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nu=gC("deg"),Ul=gC("%"),Xt=gC("px"),AXe=gC("vh"),kXe=gC("vw"),K8={...Ul,parse:e=>Ul.parse(e)/100,transform:e=>Ul.transform(e*100)},Jp={test:jO("hsl","hue"),parse:Fee("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ul.transform(Kv(t))+", "+Ul.transform(Kv(n))+", "+Kv(rw.transform(r))+")"},oi={test:e=>kh.test(e)||GP.test(e)||Jp.test(e),parse:e=>kh.test(e)?kh.parse(e):Jp.test(e)?Jp.parse(e):GP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kh.transform(e):Jp.transform(e),getAnimatableNone:e=>{const t=oi.parse(e);return t.alpha=0,oi.transform(t)}},DXe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PXe(e){return isNaN(e)&&typeof e=="string"&&(e.match(zO)?.length||0)+(e.match(DXe)?.length||0)>0}const Iee="number",Mee="color",FXe="var",IXe="var(",Y8="${}",MXe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iw(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(MXe,l=>(oi.test(l)?(r.color.push(s),i.push(Mee),n.push(oi.parse(l))):l.startsWith(IXe)?(r.var.push(s),i.push(FXe),n.push(l)):(r.number.push(s),i.push(Iee),n.push(parseFloat(l))),++s,Y8)).split(Y8);return{values:n,split:a,indexes:r,types:i}}function Oee(e){return iw(e).values}function Nee(e){const{split:t,types:n}=iw(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===Iee?s+=Kv(i[o]):a===Mee?s+=oi.transform(i[o]):s+=i[o]}return s}}const OXe=e=>typeof e=="number"?0:oi.test(e)?oi.getAnimatableNone(e):e;function NXe(e){const t=Oee(e);return Nee(e)(t.map(OXe))}const Ed={test:PXe,parse:Oee,createTransformer:Nee,getAnimatableNone:NXe};function Ck(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LXe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Ck(l,a,e+1/3),s=Ck(l,a,e),o=Ck(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function U1(e,t){return n=>n>0?t:e}const Tr=(e,t,n)=>e+(t-e)*n,bk=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},BXe=[GP,kh,Jp],VXe=e=>BXe.find(t=>t.test(e));function X8(e){const t=VXe(e);if(!t)return!1;let n=t.parse(e);return t===Jp&&(n=LXe(n)),n}const Q8=(e,t)=>{const n=X8(e),r=X8(t);if(!n||!r)return U1(e,t);const i={...n};return s=>(i.red=bk(n.red,r.red,s),i.green=bk(n.green,r.green,s),i.blue=bk(n.blue,r.blue,s),i.alpha=Tr(n.alpha,r.alpha,s),kh.transform(i))},UP=new Set(["none","hidden"]);function HXe(e,t){return UP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function GXe(e,t){return n=>Tr(e,t,n)}function WO(e){return typeof e=="number"?GXe:typeof e=="string"?UO(e)?U1:oi.test(e)?Q8:jXe:Array.isArray(e)?Lee:typeof e=="object"?oi.test(e)?Q8:UXe:U1}function Lee(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>WO(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function UXe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=WO(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function zXe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const jXe=(e,t)=>{const n=Ed.createTransformer(t),r=iw(e),i=iw(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?UP.has(e)&&!i.values.length||UP.has(t)&&!r.values.length?HXe(e,t):fC(Lee(zXe(r,i),i.values),n):U1(e,t)};function Bee(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Tr(e,t,n):WO(e)(e,t)}const WXe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Cr.update(t,n),stop:()=>Sd(t),now:()=>Wi.isProcessing?Wi.timestamp:Ys.now()}},Vee=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},z1=2e4;function $O(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<z1;)t+=n,r=e.next(t);return t>=z1?1/0:t}function $Xe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min($O(r),z1);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Gl(i)}}const qXe=5;function Hee(e,t,n){const r=Math.max(t-qXe,0);return wee(n-e(r),t-r)}const Ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xk=.001;function KXe({duration:e=Ir.duration,bounce:t=Ir.bounce,velocity:n=Ir.velocity,mass:r=Ir.mass}){let i,s,o=1-t;o=Xc(Ir.minDamping,Ir.maxDamping,o),e=Xc(Ir.minDuration,Ir.maxDuration,Gl(e)),o<1?(i=c=>{const u=c*o,h=u*e,p=u-n,g=zP(c,o),v=Math.exp(-h);return xk-p/g*v},s=c=>{const h=c*o*e,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-h),y=zP(Math.pow(c,2),o);return(-i(c)+xk>0?-1:1)*((p-g)*v)/y}):(i=c=>{const u=Math.exp(-c*e),h=(c-n)*e+1;return-xk+u*h},s=c=>{const u=Math.exp(-c*e),h=(n-c)*(e*e);return u*h});const a=5/e,l=XXe(i,s,a);if(e=Hl(e),isNaN(l))return{stiffness:Ir.stiffness,damping:Ir.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const YXe=12;function XXe(e,t,n){let r=n;for(let i=1;i<YXe;i++)r=r-e(r)/t(r);return r}function zP(e,t){return e*Math.sqrt(1-t*t)}const QXe=["duration","bounce"],ZXe=["stiffness","damping","mass"];function Z8(e,t){return t.some(n=>e[n]!==void 0)}function JXe(e){let t={velocity:Ir.velocity,stiffness:Ir.stiffness,damping:Ir.damping,mass:Ir.mass,isResolvedFromDuration:!1,...e};if(!Z8(e,ZXe)&&Z8(e,QXe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Xc(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ir.mass,stiffness:i,damping:s}}else{const n=KXe(e);t={...t,...n,mass:Ir.mass},t.isResolvedFromDuration=!0}return t}function j1(e=Ir.visualDuration,t=Ir.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:p,isResolvedFromDuration:g}=JXe({...n,velocity:-Gl(n.velocity||0)}),v=p||0,y=c/(2*Math.sqrt(l*u)),C=o-s,b=Gl(Math.sqrt(l/u)),E=Math.abs(C)<5;r||(r=E?Ir.restSpeed.granular:Ir.restSpeed.default),i||(i=E?Ir.restDelta.granular:Ir.restDelta.default);let x;if(y<1){const D=zP(b,y);x=R=>{const _=Math.exp(-y*b*R);return o-_*((v+y*b*C)/D*Math.sin(D*R)+C*Math.cos(D*R))}}else if(y===1)x=D=>o-Math.exp(-b*D)*(C+(v+b*C)*D);else{const D=b*Math.sqrt(y*y-1);x=R=>{const _=Math.exp(-y*b*R),I=Math.min(D*R,300);return o-_*((v+y*b*C)*Math.sinh(I)+D*C*Math.cosh(I))/D}}const k={calculatedDuration:g&&h||null,next:D=>{const R=x(D);if(g)a.done=D>=h;else{let _=D===0?v:0;y<1&&(_=D===0?Hl(v):Hee(x,D,R));const I=Math.abs(_)<=r,F=Math.abs(o-R)<=i;a.done=I&&F}return a.value=a.done?o:R,a},toString:()=>{const D=Math.min($O(k),z1),R=Vee(_=>k.next(D*_).value,D,30);return D+"ms "+R},toTransition:()=>{}};return k}j1.applyToOptions=e=>{const t=$Xe(e,100,j1);return e.ease=t.ease,e.duration=Hl(t.duration),e.type="keyframes",e};function jP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],p={done:!1,value:h},g=I=>a!==void 0&&I<a||l!==void 0&&I>l,v=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=n*t;const C=h+y,b=o===void 0?C:o(C);b!==C&&(y=b-h);const E=I=>-y*Math.exp(-I/r),x=I=>b+E(I),k=I=>{const F=E(I),N=x(I);p.done=Math.abs(F)<=c,p.value=p.done?b:N};let D,R;const _=I=>{g(p.value)&&(D=I,R=j1({keyframes:[p.value,v(p.value)],velocity:Hee(x,I,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:I=>{let F=!1;return!R&&D===void 0&&(F=!0,k(I),_(I)),D!==void 0&&I>=D?R.next(I-D):(!F&&k(I),p)}}}function eQe(e,t,n){const r=[],i=n||Qc.mix||Bee,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||va:t;a=fC(l,a)}r.push(a)}return r}function tQe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(NO(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=eQe(t,r,i),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const p=nw(e[h],e[h+1],u);return a[h](p)};return n?u=>c(Xc(e[0],e[s-1],u)):c}function nQe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=nw(0,t,r);e.push(Tr(n,1,i))}}function rQe(e){const t=[0];return nQe(t,e.length-1),t}function iQe(e,t){return e.map(n=>n*t)}function sQe(e,t){return e.map(()=>t||Aee).splice(0,e.length-1)}function Yv({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=mXe(r)?r.map(q8):q8(r),s={done:!1,value:t[0]},o=iQe(n&&n.length===t.length?n:rQe(t),e),a=tQe(o,t,{ease:Array.isArray(i)?i:sQe(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const oQe=e=>e!==null;function qO(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(oQe),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const aQe={decay:jP,inertia:jP,tween:Yv,keyframes:Yv,spring:j1};function Gee(e){typeof e.type=="string"&&(e.type=aQe[e.type])}class KO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const lQe=e=>e/100;class YO extends KO{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ys.now()&&this.tick(Ys.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Gee(t);const{type:n=Yv,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Yv;l!==Yv&&typeof a[0]!="number"&&(this.mixKeyframes=fC(lQe,Bee(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=$O(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,k=r;if(h){const I=Math.min(this.currentTime,i)/a;let F=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&F--,F=Math.min(F,h+1),!!(F%2)&&(p==="reverse"?(N=1-N,g&&(N-=g/a)):p==="mirror"&&(k=o)),x=Xc(0,1,N)*a}const D=E?{done:!1,value:u[0]}:k.next(x);s&&(D.value=s(D.value));let{done:R}=D;!E&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return _&&v!==jP&&(D.value=qO(u,this.options,C,this.speed)),y&&y(D.value),_&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return Gl(this.calculatedDuration)}get time(){return Gl(this.currentTime)}set time(t){t=Hl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ys.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gl(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=WXe,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ys.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function cQe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Dh=e=>e*180/Math.PI,WP=e=>{const t=Dh(Math.atan2(e[1],e[0]));return $P(t)},uQe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:WP,rotateZ:WP,skewX:e=>Dh(Math.atan(e[1])),skewY:e=>Dh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$P=e=>(e=e%360,e<0&&(e+=360),e),J8=WP,eU=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tU=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),dQe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eU,scaleY:tU,scale:e=>(eU(e)+tU(e))/2,rotateX:e=>$P(Dh(Math.atan2(e[6],e[5]))),rotateY:e=>$P(Dh(Math.atan2(-e[2],e[0]))),rotateZ:J8,rotate:J8,skewX:e=>Dh(Math.atan(e[4])),skewY:e=>Dh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function qP(e){return e.includes("scale")?1:0}function KP(e,t){if(!e||e==="none")return qP(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=dQe,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uQe,i=a}if(!i)return qP(t);const s=r[t],o=i[1].split(",").map(fQe);return typeof s=="function"?s(o):o[s]}const hQe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return KP(n,t)};function fQe(e){return parseFloat(e.trim())}const Im=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mm=new Set(Im),nU=e=>e===Fm||e===Xt,pQe=new Set(["x","y","z"]),gQe=Im.filter(e=>!pQe.has(e));function mQe(e){const t=[];return gQe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Kh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>KP(t,"x"),y:(e,{transform:t})=>KP(t,"y")};Kh.translateX=Kh.x;Kh.translateY=Kh.y;const Yh=new Set;let YP=!1,XP=!1,QP=!1;function Uee(){if(XP){const e=Array.from(Yh).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=mQe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}XP=!1,YP=!1,Yh.forEach(e=>e.complete(QP)),Yh.clear()}function zee(){Yh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(XP=!0)})}function vQe(){QP=!0,zee(),Uee(),QP=!1}class XO{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Yh.add(this),YP||(YP=!0,Cr.read(zee),Cr.resolveKeyframes(Uee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}cQe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Yh.delete(this)}cancel(){this.state==="scheduled"&&(Yh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yQe=e=>e.startsWith("--");function wQe(e,t,n){yQe(t)?e.style.setProperty(t,n):e.style[t]=n}const CQe=LO(()=>window.ScrollTimeline!==void 0),bQe={};function xQe(e,t){const n=LO(e);return()=>bQe[t]??n()}const jee=xQe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mv=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,rU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mv([0,.65,.55,1]),circOut:mv([.55,0,1,.45]),backIn:mv([.31,.01,.66,-.59]),backOut:mv([.33,1.53,.69,.99])};function Wee(e,t){if(e)return typeof e=="function"?jee()?Vee(e,t):"ease-out":kee(e)?mv(e):Array.isArray(e)?e.map(n=>Wee(n,t)||rU.easeOut):rU[e]}function SQe(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const h=Wee(a,i);Array.isArray(h)&&(u.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(u,p)}function $ee(e){return typeof e=="function"&&"applyToOptions"in e}function EQe({type:e,...t}){return $ee(e)&&jee()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class TQe extends KO{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,NO(typeof t.type!="string");const c=EQe(t);this.animation=SQe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=qO(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):wQe(n,r,u),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Gl(Number(t))}get time(){return Gl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&CQe()?(this.animation.timeline=t,va):n(this)}}const qee={anticipate:Tee,backInOut:Eee,circInOut:_ee};function RQe(e){return e in qee}function _Qe(e){typeof e.ease=="string"&&RQe(e.ease)&&(e.ease=qee[e.ease])}const iU=10;class AQe extends TQe{constructor(t){_Qe(t),Gee(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new YO({...o,autoplay:!1}),l=Hl(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-iU).value,a.sample(l).value,iU),a.stop()}}const sU=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ed.test(e)||e==="0")&&!e.startsWith("url("));function kQe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function DQe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=sU(i,t),a=sU(s,t);return!o||!a?!1:kQe(e)||(n==="spring"||$ee(n))&&r}function ZP(e){e.duration=0,e.type}const PQe=new Set(["opacity","clipPath","filter","transform"]),FQe=LO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IQe(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return FQe()&&n&&PQe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const MQe=40;class OQe extends KO{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ys.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...h},g=u?.KeyframeResolver||XO;this.keyframeResolver=new g(a,(v,y,C)=>this.onKeyframesResolved(v,y,p,!C),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Ys.now(),DQe(t,s,o,a)||((Qc.instantAnimations||!l)&&u?.(qO(t,r,n)),t[0]=t[t.length-1],ZP(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>MQe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!c&&IQe(p)?new AQe({...p,element:p.motionValue.owner.current}):new YO(p);g.finished.then(()=>this.notifyFinished()).catch(va),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),vQe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const NQe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LQe(e){const t=NQe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Kee(e,t,n=1){const[r,i]=LQe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return mee(o)?parseFloat(o):o}return UO(i)?Kee(i,t,n+1):i}function QO(e,t){return e?.[t]??e?.default??e}const Yee=new Set(["width","height","top","left","right","bottom",...Im]),BQe={test:e=>e==="auto",parse:e=>e},Xee=e=>t=>t.test(e),Qee=[Fm,Xt,Ul,Nu,kXe,AXe,BQe],oU=e=>Qee.find(Xee(e));function VQe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yee(e):!0}const HQe=new Set(["brightness","contrast","saturate","opacity"]);function GQe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(zO)||[];if(!r)return e;const i=n.replace(r,"");let s=HQe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const UQe=/\b([a-z-]*)\(.*?\)/gu,JP={...Ed,getAnimatableNone:e=>{const t=e.match(UQe);return t?t.map(GQe).join(" "):e}},aU={...Fm,transform:Math.round},zQe={rotate:Nu,rotateX:Nu,rotateY:Nu,rotateZ:Nu,scale:Rx,scaleX:Rx,scaleY:Rx,scaleZ:Rx,skew:Nu,skewX:Nu,skewY:Nu,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:rw,originX:K8,originY:K8,originZ:Xt},ZO={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...zQe,zIndex:aU,fillOpacity:rw,strokeOpacity:rw,numOctaves:aU},jQe={...ZO,color:oi,backgroundColor:oi,outlineColor:oi,fill:oi,stroke:oi,borderColor:oi,borderTopColor:oi,borderRightColor:oi,borderBottomColor:oi,borderLeftColor:oi,filter:JP,WebkitFilter:JP},Zee=e=>jQe[e];function Jee(e,t){let n=Zee(e);return n!==JP&&(n=Ed),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const WQe=new Set(["auto","none","0"]);function $Qe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!WQe.has(s)&&iw(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Jee(n,i)}class qQe extends XO{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),UO(c))){const u=Kee(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Yee.has(r)||t.length!==2)return;const[i,s]=t,o=oU(i),a=oU(s);if(o!==a)if(nU(o)&&nU(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Kh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||VQe(t[i]))&&r.push(i);r.length&&$Qe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Kh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function KQe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const ete=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function tte(e){return vee(e)&&"offsetHeight"in e}const lU=30,YQe=e=>!isNaN(parseFloat(e));class XQe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ys.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YQe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new BO);const r=this.events[t].add(n);return t==="change"?()=>{r(),Cr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lU)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lU);return wee(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rm(e,t){return new XQe(e,t)}const{schedule:JO}=Dee(queueMicrotask,!1),Ma={x:!1,y:!1};function nte(){return Ma.x||Ma.y}function QQe(e){return e==="x"||e==="y"?Ma[e]?null:(Ma[e]=!0,()=>{Ma[e]=!1}):Ma.x||Ma.y?null:(Ma.x=Ma.y=!0,()=>{Ma.x=Ma.y=!1})}function rte(e,t){const n=KQe(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function cU(e){return!(e.pointerType==="touch"||nte())}function ZQe(e,t,n={}){const[r,i,s]=rte(e,n),o=a=>{if(!cU(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=h=>{cU(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const ite=(e,t)=>t?e===t?!0:ite(e,t.parentElement):!1,eN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,JQe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eZe(e){return JQe.has(e.tagName)||e.tabIndex!==-1}const dS=new WeakSet;function uU(e){return t=>{t.key==="Enter"&&e(t)}}function Sk(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tZe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=uU(()=>{if(dS.has(n))return;Sk(n,"down");const i=uU(()=>{Sk(n,"up")}),s=()=>Sk(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function dU(e){return eN(e)&&!nte()}function nZe(e,t,n={}){const[r,i,s]=rte(e,n),o=a=>{const l=a.currentTarget;if(!dU(a))return;dS.add(l);const c=t(l,a),u=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),dS.has(l)&&dS.delete(l),dU(g)&&typeof c=="function"&&c(g,{success:v})},h=g=>{u(g,l===window||l===document||n.useGlobalTarget||ite(l,g.target))},p=g=>{u(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),tte(a)&&(a.addEventListener("focus",c=>tZe(c,i)),!eZe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function ste(e){return vee(e)&&"ownerSVGElement"in e}function rZe(e){return ste(e)&&e.tagName==="svg"}const fs=e=>!!(e&&e.getVelocity),iZe=[...Qee,oi,Ed],sZe=e=>iZe.find(Xee(e)),tN=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class oZe extends A.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=tte(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aZe({children:e,isPresent:t,anchorX:n,root:r}){const i=A.useId(),s=A.useRef(null),o=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(tN);return A.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:h,right:p}=o.current;if(t||!s.current||!l||!c)return;const g=n==="left"?`left: ${h}`:`right: ${p}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const y=r??document.head;return y.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${u}px !important;
          }
        `),()=>{y.contains(v)&&y.removeChild(v)}},[t]),O.jsx(oZe,{isPresent:t,childRef:s,sizeRef:o,children:A.cloneElement(e,{ref:s})})}const lZe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=FO(cZe),u=A.useId();let h=!0,p=A.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const v of c.values())if(!v)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return s&&h&&(p={...p}),A.useMemo(()=>{c.forEach((g,v)=>c.set(v,!1))},[n]),A.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=O.jsx(aZe,{isPresent:n,anchorX:a,root:l,children:e})),O.jsx(CT.Provider,{value:p,children:e})};function cZe(){return new Map}function ote(e=!0){const t=A.useContext(CT);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=A.useId();A.useEffect(()=>{if(e)return i(s)},[e]);const o=A.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const _x=e=>e.key||"";function hU(e){const t=[];return A.Children.forEach(e,n=>{A.isValidElement(n)&&t.push(n)}),t}const Ek=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=ote(o),h=A.useMemo(()=>hU(e),[e]),p=o&&!c?[]:h.map(_x),g=A.useRef(!0),v=A.useRef(h),y=FO(()=>new Map),[C,b]=A.useState(h),[E,x]=A.useState(h);gee(()=>{g.current=!1,v.current=h;for(let R=0;R<E.length;R++){const _=_x(E[R]);p.includes(_)?y.delete(_):y.get(_)!==!0&&y.set(_,!1)}},[E,p.length,p.join("-")]);const k=[];if(h!==C){let R=[...h];for(let _=0;_<E.length;_++){const I=E[_],F=_x(I);p.includes(F)||(R.splice(_,0,I),k.push(I))}return s==="wait"&&k.length&&(R=k),x(hU(R)),b(h),null}const{forceRender:D}=A.useContext(PO);return O.jsx(O.Fragment,{children:E.map(R=>{const _=_x(R),I=o&&!c?!1:h===E||p.includes(_),F=()=>{if(y.has(_))y.set(_,!0);else return;let N=!0;y.forEach(B=>{B||(N=!1)}),N&&(D?.(),x(v.current),o&&u?.(),r&&r())};return O.jsx(lZe,{isPresent:I,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:I?void 0:F,anchorX:a,children:R},_)})})},ate=A.createContext({strict:!1}),fU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},im={};for(const e in fU)im[e]={isEnabled:t=>fU[e].some(n=>!!t[n])};function uZe(e){for(const t in e)im[t]={...im[t],...e[t]}}const dZe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function W1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dZe.has(e)}let lte=e=>!W1(e);function hZe(e){typeof e=="function"&&(lte=t=>t.startsWith("on")?!W1(t):e(t))}try{hZe(require("@emotion/is-prop-valid").default)}catch{}function fZe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(lte(i)||n===!0&&W1(i)||!t&&!W1(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const bT=A.createContext({});function xT(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function sw(e){return typeof e=="string"||Array.isArray(e)}const nN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rN=["initial",...nN];function ST(e){return xT(e.animate)||rN.some(t=>sw(e[t]))}function cte(e){return!!(ST(e)||e.variants)}function pZe(e,t){if(ST(e)){const{initial:n,animate:r}=e;return{initial:n===!1||sw(n)?n:void 0,animate:sw(r)?r:void 0}}return e.inherit!==!1?t:{}}function gZe(e){const{initial:t,animate:n}=pZe(e,A.useContext(bT));return A.useMemo(()=>({initial:t,animate:n}),[pU(t),pU(n)])}function pU(e){return Array.isArray(e)?e.join(" "):e}const ow={};function mZe(e){for(const t in e)ow[t]=e[t],GO(t)&&(ow[t].isCSSVariable=!0)}function ute(e,{layout:t,layoutId:n}){return Mm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ow[e]||e==="opacity")}const vZe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yZe=Im.length;function wZe(e,t,n){let r="",i=!0;for(let s=0;s<yZe;s++){const o=Im[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=ete(a,ZO[o]);if(!l){i=!1;const u=vZe[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function iN(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Mm.has(l)){o=!0;continue}else if(GO(l)){i[l]=c;continue}else{const u=ete(c,ZO[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=wZe(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const sN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dte(e,t,n){for(const r in t)!fs(t[r])&&!ute(r,n)&&(e[r]=t[r])}function CZe({transformTemplate:e},t){return A.useMemo(()=>{const n=sN();return iN(n,t,e),Object.assign({},n.vars,n.style)},[t])}function bZe(e,t){const n=e.style||{},r={};return dte(r,n,e),Object.assign(r,CZe(e,t)),r}function xZe(e,t){const n={},r=bZe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const SZe={offset:"stroke-dashoffset",array:"stroke-dasharray"},EZe={offset:"strokeDashoffset",array:"strokeDasharray"};function TZe(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?SZe:EZe;e[s.offset]=Xt.transform(-r);const o=Xt.transform(t),a=Xt.transform(n);e[s.array]=`${o} ${a}`}function hte(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(iN(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=u?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&TZe(h,i,s,o,!1)}const fte=()=>({...sN(),attrs:{}}),pte=e=>typeof e=="string"&&e.toLowerCase()==="svg";function RZe(e,t,n,r){const i=A.useMemo(()=>{const s=fte();return hte(s,t,pte(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};dte(s,e.style,e),i.style={...s,...i.style}}return i}const _Ze=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oN(e){return typeof e!="string"||e.includes("-")?!1:!!(_Ze.indexOf(e)>-1||/[A-Z]/u.test(e))}function AZe(e,t,n,{latestValues:r},i,s=!1){const a=(oN(e)?RZe:xZe)(t,r,i,e),l=fZe(t,typeof e=="string",s),c=e!==A.Fragment?{...l,...a,ref:n}:{},{children:u}=t,h=A.useMemo(()=>fs(u)?u.get():u,[u]);return A.createElement(e,{...c,children:h})}function gU(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function aN(e,t,n,r){if(typeof t=="function"){const[i,s]=gU(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=gU(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function hS(e){return fs(e)?e.get():e}function kZe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:DZe(n,r,i,e),renderState:t()}}function DZe(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=hS(s[p]);let{initial:o,animate:a}=e;const l=ST(e),c=cte(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!xT(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const v=aN(e,p[g]);if(v){const{transitionEnd:y,transition:C,...b}=v;for(const E in b){let x=b[E];if(Array.isArray(x)){const k=u?x.length-1:0;x=x[k]}x!==null&&(i[E]=x)}for(const E in y)i[E]=y[E]}}}return i}const gte=e=>(t,n)=>{const r=A.useContext(bT),i=A.useContext(CT),s=()=>kZe(e,t,r,i);return n?s():FO(s)};function lN(e,t,n){const{style:r}=e,i={};for(const s in r)(fs(r[s])||t.style&&fs(t.style[s])||ute(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const PZe=gte({scrapeMotionValuesFromProps:lN,createRenderState:sN});function mte(e,t,n){const r=lN(e,t,n);for(const i in e)if(fs(e[i])||fs(t[i])){const s=Im.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const FZe=gte({scrapeMotionValuesFromProps:mte,createRenderState:fte}),IZe=Symbol.for("motionComponentSymbol");function eg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function MZe(e,t,n){return A.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):eg(n)&&(n.current=r))},[t])}const cN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OZe="framerAppearId",vte="data-"+cN(OZe),yte=A.createContext({});function NZe(e,t,n,r,i){const{visualElement:s}=A.useContext(bT),o=A.useContext(ate),a=A.useContext(CT),l=A.useContext(tN).reducedMotion,c=A.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=A.useContext(yte);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&LZe(c.current,n,i,h);const p=A.useRef(!1);A.useInsertionEffect(()=>{u&&p.current&&u.update(n,a)});const g=n[vte],v=A.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return gee(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),v.current=!1),u.enteringChildren=void 0)}),u}function LZe(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wte(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&eg(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function wte(e){if(e)return e.options.allowProjection!==!1?e.projection:wte(e.parent)}function Tk(e,{forwardMotionProps:t=!1}={},n,r){n&&uZe(n);const i=oN(e)?FZe:PZe;function s(a,l){let c;const u={...A.useContext(tN),...a,layoutId:BZe(a)},{isStatic:h}=u,p=gZe(a),g=i(a,h);if(!h&&IO){VZe();const v=HZe(u);c=v.MeasureLayout,p.visualElement=NZe(e,g,u,r,v.ProjectionNode)}return O.jsxs(bT.Provider,{value:p,children:[c&&p.visualElement?O.jsx(c,{visualElement:p.visualElement,...u}):null,AZe(e,a,MZe(g,p.visualElement,l),g,h,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=A.forwardRef(s);return o[IZe]=e,o}function BZe({layoutId:e}){const t=A.useContext(PO).id;return t&&e!==void 0?t+"-"+e:e}function VZe(e,t){A.useContext(ate).strict}function HZe(e){const{drag:t,layout:n}=im;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function GZe(e,t){if(typeof Proxy>"u")return Tk;const n=new Map,r=(s,o)=>Tk(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Tk(o,void 0,e,t)),n.get(o))})}function Cte({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function UZe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zZe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rk(e){return e===void 0||e===1}function eF({scale:e,scaleX:t,scaleY:n}){return!Rk(e)||!Rk(t)||!Rk(n)}function wh(e){return eF(e)||bte(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bte(e){return mU(e.x)||mU(e.y)}function mU(e){return e&&e!=="0%"}function $1(e,t,n){const r=e-n,i=t*r;return n+i}function vU(e,t,n,r,i){return i!==void 0&&(e=$1(e,i,r)),$1(e,n,r)+t}function tF(e,t=0,n=1,r,i){e.min=vU(e.min,t,n,r,i),e.max=vU(e.max,t,n,r,i)}function xte(e,{x:t,y:n}){tF(e.x,t.translate,t.scale,t.originPoint),tF(e.y,n.translate,n.scale,n.originPoint)}const yU=.999999999999,wU=1.0000000000001;function jZe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ng(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xte(e,o)),r&&wh(s.latestValues)&&ng(e,s.latestValues))}t.x<wU&&t.x>yU&&(t.x=1),t.y<wU&&t.y>yU&&(t.y=1)}function tg(e,t){e.min=e.min+t,e.max=e.max+t}function CU(e,t,n,r,i=.5){const s=Tr(e.min,e.max,i);tF(e,t,n,s,r)}function ng(e,t){CU(e.x,t.x,t.scaleX,t.scale,t.originX),CU(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ste(e,t){return Cte(zZe(e.getBoundingClientRect(),t))}function WZe(e,t,n){const r=Ste(e,n),{scroll:i}=t;return i&&(tg(r.x,i.offset.x),tg(r.y,i.offset.y)),r}const bU=()=>({translate:0,scale:1,origin:0,originPoint:0}),rg=()=>({x:bU(),y:bU()}),xU=()=>({min:0,max:0}),jr=()=>({x:xU(),y:xU()}),nF={current:null},Ete={current:!1};function $Ze(){if(Ete.current=!0,!!IO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nF.current=e.matches;e.addEventListener("change",t),t()}else nF.current=!1}const qZe=new WeakMap;function KZe(e,t,n){for(const r in t){const i=t[r],s=n[r];if(fs(i))e.addValue(r,i);else if(fs(s))e.addValue(r,rm(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,rm(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const SU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YZe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ys.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Cr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ST(n),this.isVariantNode=cte(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&fs(g)&&g.set(l[p])}}mount(t){this.current=t,qZe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ete.current||$Ze(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nF.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sd(this.notifyUpdate),Sd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Mm.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Cr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in im){const n=im[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SU.length;r++){const i=SU[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=KZe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=rm(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mee(r)||yee(r))?r=parseFloat(r):!sZe(r)&&Ed.test(n)&&(r=Jee(t,n)),this.setBaseTarget(t,fs(r)?r.get():r)),fs(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=aN(this.props,n,this.presenceContext?.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!fs(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new BO),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){JO.render(this.render)}}class Tte extends YZe{constructor(){super(...arguments),this.KeyframeResolver=qQe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Rte(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function XZe(e){return window.getComputedStyle(e)}class QZe extends Tte{constructor(){super(...arguments),this.type="html",this.renderInstance=Rte}readValueFromInstance(t,n){if(Mm.has(n))return this.projection?.isProjecting?qP(n):hQe(t,n);{const r=XZe(t),i=(GO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ste(t,n)}build(t,n,r){iN(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return lN(t,n,r)}}const _te=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZZe(e,t,n,r){Rte(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(_te.has(i)?i:cN(i),t.attrs[i])}class JZe extends Tte{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Mm.has(n)){const r=Zee(n);return r&&r.default||0}return n=_te.has(n)?n:cN(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return mte(t,n,r)}build(t,n,r){hte(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){ZZe(t,n,r,i)}mount(t){this.isSVGTag=pte(t.tagName),super.mount(t)}}const eJe=(e,t)=>oN(e)?new JZe(t):new QZe(t,{allowProjection:e!==A.Fragment});function Ag(e,t,n){const r=e.getProps();return aN(r,t,n!==void 0?n:r.custom,e)}const rF=e=>Array.isArray(e);function tJe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rm(n))}function nJe(e){return rF(e)?e[e.length-1]||0:e}function rJe(e,t){const n=Ag(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=nJe(s[o]);tJe(e,o,a)}}function iJe(e){return!!(fs(e)&&e.add)}function iF(e,t){const n=e.getValue("willChange");if(iJe(n))return n.add(t);if(!n&&Qc.WillChange){const r=new Qc.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Ate(e){return e.props[vte]}const sJe=e=>e!==null;function oJe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(sJe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const aJe={type:"spring",stiffness:500,damping:25,restSpeed:10},lJe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cJe={type:"keyframes",duration:.8},uJe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dJe=(e,{keyframes:t})=>t.length>2?cJe:Mm.has(e)?e.startsWith("scale")?lJe(t[1]):aJe:uJe;function hJe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const uN=(e,t,n,r={},i,s)=>o=>{const a=QO(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Hl(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};hJe(a)||Object.assign(u,dJe(e,u)),u.duration&&(u.duration=Hl(u.duration)),u.repeatDelay&&(u.repeatDelay=Hl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(ZP(u),u.delay===0&&(h=!0)),(Qc.instantAnimations||Qc.skipAnimations)&&(h=!0,ZP(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!s&&t.get()!==void 0){const p=oJe(u.keyframes,a);if(p!==void 0){Cr.update(()=>{u.onUpdate(p),u.onComplete()});return}}return a.isSync?new YO(u):new OQe(u)};function fJe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kte(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const h=e.getValue(u,e.latestValues[u]??null),p=a[u];if(p===void 0||c&&fJe(c,u))continue;const g={delay:n,...QO(s||{},u)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=Ate(e);if(b){const E=window.MotionHandoffAnimation(b,u,Cr);E!==null&&(g.startTime=E,y=!0)}}iF(e,u),h.start(uN(u,h,p,e.shouldReduceMotion&&Yee.has(u)?{type:!1}:g,e,y));const C=h.animation;C&&l.push(C)}return o&&Promise.all(l).then(()=>{Cr.update(()=>{o&&rJe(e,o)})}),l}function Dte(e,t,n,r=0,i=1){const s=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function sF(e,t,n={}){const r=Ag(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(kte(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=i;return pJe(e,t,l,c,u,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function pJe(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(sF(l,t,{...o,delay:n+(typeof r=="function"?0:r)+Dte(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function gJe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>sF(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=sF(e,t,n);else{const i=typeof t=="function"?Ag(e,t,n.custom):t;r=Promise.all(kte(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Pte(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const mJe=rN.length;function Fte(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Fte(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<mJe;n++){const r=rN[n],i=e.props[r];(sw(i)||i===!1)&&(t[r]=i)}return t}const vJe=[...nN].reverse(),yJe=nN.length;function wJe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>gJe(e,n,r)))}function CJe(e){let t=wJe(e),n=EU(),r=!0;const i=l=>(c,u)=>{const h=Ag(e,u,l==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:p,transitionEnd:g,...v}=h;c={...c,...v,...g}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,u=Fte(e.parent)||{},h=[],p=new Set;let g={},v=1/0;for(let C=0;C<yJe;C++){const b=vJe[C],E=n[b],x=c[b]!==void 0?c[b]:u[b],k=sw(x),D=b===l?E.isActive:null;D===!1&&(v=C);let R=x===u[b]&&x!==c[b]&&k;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),E.protectedKeys={...g},!E.isActive&&D===null||!x&&!E.prevProp||xT(x)||typeof x=="boolean")continue;const _=bJe(E.prevProp,x);let I=_||b===l&&E.isActive&&!R&&k||C>v&&k,F=!1;const N=Array.isArray(x)?x:[x];let B=N.reduce(i(b),{});D===!1&&(B={});const{prevResolvedValues:M={}}=E,L={...M,...B},H=te=>{I=!0,p.has(te)&&(F=!0,p.delete(te)),E.needsAnimating[te]=!0;const he=e.getValue(te);he&&(he.liveStyle=!1)};for(const te in L){const he=B[te],Z=M[te];if(g.hasOwnProperty(te))continue;let V=!1;rF(he)&&rF(Z)?V=!Pte(he,Z):V=he!==Z,V?he!=null?H(te):p.add(te):he!==void 0&&p.has(te)?H(te):E.protectedKeys[te]=!0}E.prevProp=x,E.prevResolvedValues=B,E.isActive&&(g={...g,...B}),r&&e.blockInitialAnimation&&(I=!1);const ee=R&&_;I&&(!ee||F)&&h.push(...N.map(te=>{const he={type:b};if(typeof te=="string"&&r&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:Z}=e,V=Ag(Z,te);if(Z.enteringChildren&&V){const{delayChildren:X}=V.transition||{};he.delay=Dte(Z.enteringChildren,e,X)}}return{animation:te,options:he}}))}if(p.size){const C={};if(typeof c.initial!="boolean"){const b=Ag(e,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(C.transition=b.transition)}p.forEach(b=>{const E=e.getBaseTarget(b),x=e.getValue(b);x&&(x.liveStyle=!0),C[b]=E??null}),h.push({animation:C})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function a(l,c){if(n[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(l,c)),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=EU(),r=!0}}}function bJe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pte(t,e):!1}function fh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EU(){return{animate:fh(!0),whileInView:fh(),whileHover:fh(),whileTap:fh(),whileDrag:fh(),whileFocus:fh(),exit:fh()}}class Vd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xJe extends Vd{constructor(t){super(t),t.animationState||(t.animationState=CJe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xT(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SJe=0;class EJe extends Vd{constructor(){super(...arguments),this.id=SJe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const TJe={animation:{Feature:xJe},exit:{Feature:EJe}};function aw(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function mC(e){return{point:{x:e.pageX,y:e.pageY}}}const RJe=e=>t=>eN(t)&&e(t,mC(t));function Xv(e,t,n,r){return aw(e,t,RJe(n),r)}const Ite=1e-4,_Je=1-Ite,AJe=1+Ite,Mte=.01,kJe=0-Mte,DJe=0+Mte;function Ms(e){return e.max-e.min}function PJe(e,t,n){return Math.abs(e-t)<=n}function TU(e,t,n,r=.5){e.origin=r,e.originPoint=Tr(t.min,t.max,e.origin),e.scale=Ms(n)/Ms(t),e.translate=Tr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_Je&&e.scale<=AJe||isNaN(e.scale))&&(e.scale=1),(e.translate>=kJe&&e.translate<=DJe||isNaN(e.translate))&&(e.translate=0)}function Qv(e,t,n,r){TU(e.x,t.x,n.x,r?r.originX:void 0),TU(e.y,t.y,n.y,r?r.originY:void 0)}function RU(e,t,n){e.min=n.min+t.min,e.max=e.min+Ms(t)}function FJe(e,t,n){RU(e.x,t.x,n.x),RU(e.y,t.y,n.y)}function _U(e,t,n){e.min=t.min-n.min,e.max=e.min+Ms(t)}function Zv(e,t,n){_U(e.x,t.x,n.x),_U(e.y,t.y,n.y)}function ia(e){return[e("x"),e("y")]}const Ote=({current:e})=>e?e.ownerDocument.defaultView:null,AU=(e,t)=>Math.abs(e-t);function IJe(e,t){const n=AU(e.x,t.x),r=AU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Nte{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ak(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=IJe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:y}=p,{timestamp:C}=Wi;this.history.push({...y,timestamp:C});const{onStart:b,onMove:E}=this.handlers;g||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=_k(g,this.transformPagePoint),Cr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ak(p.type==="pointercancel"?this.lastMoveEventInfo:_k(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,b),y&&y(p,b)},!eN(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=mC(t),l=_k(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Wi;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Ak(l,this.history)),this.removeListeners=fC(Xv(this.contextWindow,"pointermove",this.handlePointerMove),Xv(this.contextWindow,"pointerup",this.handlePointerUp),Xv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Sd(this.updatePoint)}}function _k(e,t){return t?{point:t(e.point)}:e}function kU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ak({point:e},t){return{point:e,delta:kU(e,Lte(t)),offset:kU(e,MJe(t)),velocity:OJe(t,.1)}}function MJe(e){return e[0]}function Lte(e){return e[e.length-1]}function OJe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Lte(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Hl(t)));)n--;if(!r)return{x:0,y:0};const s=Gl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function NJe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Tr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Tr(n,e,r.max):Math.min(e,n)),e}function DU(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function LJe(e,{top:t,left:n,bottom:r,right:i}){return{x:DU(e.x,n,i),y:DU(e.y,t,r)}}function PU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function BJe(e,t){return{x:PU(e.x,t.x),y:PU(e.y,t.y)}}function VJe(e,t){let n=.5;const r=Ms(e),i=Ms(t);return i>r?n=nw(t.min,t.max-r,e.min):r>i&&(n=nw(e.min,e.max-i,t.min)),Xc(0,1,n)}function HJe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const oF=.35;function GJe(e=oF){return e===!1?e=0:e===!0&&(e=oF),{x:FU(e,"left","right"),y:FU(e,"top","bottom")}}function FU(e,t,n){return{min:IU(e,t),max:IU(e,n)}}function IU(e,t){return typeof e=="number"?e:e[t]||0}const UJe=new WeakMap;class zJe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mC(h).point)},o=(h,p)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QQe(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ia(b=>{let E=this.getAxisMotionValue(b).get()||0;if(Ul.test(E)){const{projection:x}=this.visualElement;if(x&&x.layout){const k=x.layout.layoutBox[b];k&&(E=Ms(k)*(parseFloat(E)/100))}}this.originPoint[b]=E}),y&&Cr.postRender(()=>y(h,p)),iF(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:C}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=p;if(v&&this.currentDirection===null){this.currentDirection=jJe(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),C&&C(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ia(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Nte(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Ote(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Cr.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ax(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=NJe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&eg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=LJe(r.layoutBox,t):this.constraints=!1,this.elastic=GJe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ia(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=HJe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!eg(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=WZe(r,i.root,this.visualElement.getTransformPagePoint());let o=BJe(i.layout.layoutBox,s);if(n){const a=n(UZe(o));this.hasMutatedConstraints=!!a,a&&(o=Cte(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ia(u=>{if(!Ax(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return iF(this.visualElement,t),r.start(uN(t,r,0,n,this.visualElement,!1))}stopAnimation(){ia(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ia(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ia(n=>{const{drag:r}=this.getProps();if(!Ax(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Tr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!eg(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ia(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=VJe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ia(o=>{if(!Ax(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Tr(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;UJe.set(this.visualElement,this);const t=this.visualElement.current,n=Xv(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();eg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Cr.read(r);const o=aw(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ia(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=oF,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ax(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jJe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class WJe extends Vd{constructor(t){super(t),this.removeGroupControls=va,this.removeListeners=va,this.controls=new zJe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||va}unmount(){this.removeGroupControls(),this.removeListeners()}}const MU=e=>(t,n)=>{e&&Cr.postRender(()=>e(t,n))};class $Je extends Vd{constructor(){super(...arguments),this.removePointerDownListener=va}onPointerDown(t){this.session=new Nte(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ote(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:MU(t),onStart:MU(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Cr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Xv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ev={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Xt.test(e))e=parseFloat(e);else return e;const n=OU(e,t.target.x),r=OU(e,t.target.y);return`${n}% ${r}%`}},qJe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ed.parse(e);if(i.length>5)return r;const s=Ed.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Tr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let kk=!1;class KJe extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;mZe(YJe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),kk&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,kk=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Cr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),JO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;kk=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Bte(e){const[t,n]=ote(),r=A.useContext(PO);return O.jsx(KJe,{...e,layoutGroup:r,switchLayoutGroup:A.useContext(yte),isPresent:t,safeToRemove:n})}const YJe={borderRadius:{...ev,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ev,borderTopRightRadius:ev,borderBottomLeftRadius:ev,borderBottomRightRadius:ev,boxShadow:qJe};function XJe(e,t,n){const r=fs(e)?e:rm(e);return r.start(uN("",r,t,n)),r.animation}const QJe=(e,t)=>e.depth-t.depth;class ZJe{constructor(){this.children=[],this.isDirty=!1}add(t){MO(this.children,t),this.isDirty=!0}remove(t){OO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QJe),this.isDirty=!1,this.children.forEach(t)}}function JJe(e,t){const n=Ys.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Sd(r),e(s-t))};return Cr.setup(r,!0),()=>Sd(r)}const Vte=["TopLeft","TopRight","BottomLeft","BottomRight"],eet=Vte.length,NU=e=>typeof e=="string"?parseFloat(e):e,LU=e=>typeof e=="number"||Xt.test(e);function tet(e,t,n,r,i,s){i?(e.opacity=Tr(0,n.opacity??1,net(r)),e.opacityExit=Tr(t.opacity??1,0,ret(r))):s&&(e.opacity=Tr(t.opacity??1,n.opacity??1,r));for(let o=0;o<eet;o++){const a=`border${Vte[o]}Radius`;let l=BU(t,a),c=BU(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||LU(l)===LU(c)?(e[a]=Math.max(Tr(NU(l),NU(c),r),0),(Ul.test(c)||Ul.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Tr(t.rotate||0,n.rotate||0,r))}function BU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const net=Hte(0,.5,Ree),ret=Hte(.5,.95,va);function Hte(e,t,n){return r=>r<e?0:r>t?1:n(nw(e,t,r))}function VU(e,t){e.min=t.min,e.max=t.max}function Zo(e,t){VU(e.x,t.x),VU(e.y,t.y)}function HU(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function GU(e,t,n,r,i){return e-=t,e=$1(e,1/n,r),i!==void 0&&(e=$1(e,1/i,r)),e}function iet(e,t=0,n=1,r=.5,i,s=e,o=e){if(Ul.test(t)&&(t=parseFloat(t),t=Tr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Tr(s.min,s.max,r);e===s&&(a-=t),e.min=GU(e.min,t,n,a,i),e.max=GU(e.max,t,n,a,i)}function UU(e,t,[n,r,i],s,o){iet(e,t[n],t[r],t[i],t.scale,s,o)}const set=["x","scaleX","originX"],oet=["y","scaleY","originY"];function zU(e,t,n,r){UU(e.x,t,set,n?n.x:void 0,r?r.x:void 0),UU(e.y,t,oet,n?n.y:void 0,r?r.y:void 0)}function jU(e){return e.translate===0&&e.scale===1}function Gte(e){return jU(e.x)&&jU(e.y)}function WU(e,t){return e.min===t.min&&e.max===t.max}function aet(e,t){return WU(e.x,t.x)&&WU(e.y,t.y)}function $U(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ute(e,t){return $U(e.x,t.x)&&$U(e.y,t.y)}function qU(e){return Ms(e.x)/Ms(e.y)}function KU(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cet{constructor(){this.members=[]}add(t){MO(this.members,t),t.scheduleRender()}remove(t){if(OO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uet(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Dk=["","X","Y","Z"],det=1e3;let het=0;function Pk(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function zte(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ate(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Cr,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&zte(r)}function jte({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=het++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(get),this.nodes.forEach(wet),this.nodes.forEach(Cet),this.nodes.forEach(met)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZJe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new BO),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ste(o)&&!rZe(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,h=0;const p=()=>this.root.updateBlockedByResize=!1;Cr.read(()=>{h=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,u&&u(),u=JJe(p,250),fS.hasAnimatedSinceResize&&(fS.hasAnimatedSinceResize=!1,this.nodes.forEach(QU)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||Ret,{onLayoutAnimationStart:y,onLayoutAnimationComplete:C}=c.getProps(),b=!this.targetLayout||!Ute(this.targetLayout,g),E=!h&&p;if(this.options.layoutRoot||this.resumeFrom||E||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...QO(v,"layout"),onPlay:y,onComplete:C};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(u,E)}else h||QU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bet),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zte(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YU);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XU);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yet),this.nodes.forEach(fet),this.nodes.forEach(pet)):this.nodes.forEach(XU),this.clearAllSnapshots();const a=Ys.now();Wi.delta=Xc(0,1e3/60,a-Wi.timestamp),Wi.timestamp=a,Wi.isProcessing=!0,yk.update.process(Wi),yk.preRender.process(Wi),yk.render.process(Wi),Wi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,JO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vet),this.sharedNodes.forEach(xet)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ms(this.snapshot.measuredBox.x)&&!Ms(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Gte(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||wh(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),_et(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return jr();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Aet))){const{scroll:c}=this.root;c&&(tg(a.x,c.offset.x),tg(a.y,c.offset.y))}return a}removeElementScroll(o){const a=jr();if(Zo(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;c!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Zo(a,o),tg(a.x,u.offset.x),tg(a.y,u.offset.y))}return a}applyTransform(o,a=!1){const l=jr();Zo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ng(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wh(u.latestValues)&&ng(l,u.latestValues)}return wh(this.latestValues)&&ng(l,this.latestValues),l}removeTransform(o){const a=jr();Zo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!wh(c.latestValues))continue;eF(c.latestValues)&&c.updateSnapshot();const u=jr(),h=c.measurePageBox();Zo(u,h),zU(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return wh(this.latestValues)&&zU(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Wi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),Zv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jr(),this.targetWithTransforms=jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FJe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zo(this.target,this.layout.layoutBox),xte(this.target,this.targetDelta)):Zo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),Zv(this.relativeTargetOrigin,this.target,p.target),Zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eF(this.parent.latestValues)||bte(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Wi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Zo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;jZe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jr());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HU(this.prevProjectionDelta.x,this.projectionDelta.x),HU(this.prevProjectionDelta.y,this.projectionDelta.y)),Qv(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!KU(this.projectionDelta.x,this.prevProjectionDelta.x)||!KU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rg(),this.projectionDelta=rg(),this.projectionDeltaWithTransform=rg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=rg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=jr(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,C=this.getStack(),b=!C||C.members.length<=1,E=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Tet));this.animationProgress=0;let x;this.mixTargetDelta=k=>{const D=k/1e3;ZU(h.x,o.x,D),ZU(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Eet(this.relativeTarget,this.relativeTargetOrigin,p,D),x&&aet(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=jr()),Zo(x,this.relativeTarget)),y&&(this.animationValues=u,tet(u,c,this.latestValues,D,E,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Sd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cr.update(()=>{fS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rm(0)),this.currentAnimation=XJe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(det),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Wte(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||jr();const h=Ms(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Ms(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Zo(a,l),ng(a,u),Qv(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cet),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Pk("z",o,c,this.animationValues);for(let u=0;u<Dk.length;u++)Pk(`rotate${Dk[u]}`,o,c,this.animationValues),Pk(`skew${Dk[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=hS(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=hS(a?.pointerEvents)||""),this.hasProjected&&!wh(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=uet(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in ow){if(u[v]===void 0)continue;const{correct:y,applyTo:C,isCSSVariable:b}=ow[v],E=h==="none"?u[v]:y(u[v],c);if(C){const x=C.length;for(let k=0;k<x;k++)o[C[k]]=E}else b?this.options.visualElement.renderState.vars[v]=E:o[v]=E}this.options.layoutId&&(o.pointerEvents=c===this?hS(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(YU),this.root.sharedNodes.clear()}}}function fet(e){e.updateLayout()}function pet(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?ia(u=>{const h=s?t.measuredBox[u]:t.layoutBox[u],p=Ms(h);h.min=n[u].min,h.max=h.min+p}):Wte(i,t.layoutBox,n)&&ia(u=>{const h=s?t.measuredBox[u]:t.layoutBox[u],p=Ms(n[u]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+p)});const o=rg();Qv(o,n,t.layoutBox);const a=rg();s?Qv(a,e.applyTransform(r,!0),t.measuredBox):Qv(a,n,t.layoutBox);const l=!Gte(o);let c=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:p}=u;if(h&&p){const g=jr();Zv(g,t.layoutBox,h.layoutBox);const v=jr();Zv(v,n,p.layoutBox),Ute(g,v)||(c=!0),u.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function get(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function met(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vet(e){e.clearSnapshot()}function YU(e){e.clearMeasurements()}function XU(e){e.isLayoutDirty=!1}function yet(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function QU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wet(e){e.resolveTargetDelta()}function Cet(e){e.calcProjection()}function bet(e){e.resetSkewAndRotation()}function xet(e){e.removeLeadSnapshot()}function ZU(e,t,n){e.translate=Tr(t.translate,0,n),e.scale=Tr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function JU(e,t,n,r){e.min=Tr(t.min,n.min,r),e.max=Tr(t.max,n.max,r)}function Eet(e,t,n,r){JU(e.x,t.x,n.x,r),JU(e.y,t.y,n.y,r)}function Tet(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ret={duration:.45,ease:[.4,0,.1,1]},ez=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tz=ez("applewebkit/")&&!ez("chrome/")?Math.round:va;function nz(e){e.min=tz(e.min),e.max=tz(e.max)}function _et(e){nz(e.x),nz(e.y)}function Wte(e,t,n){return e==="position"||e==="preserve-aspect"&&!PJe(qU(t),qU(n),.2)}function Aet(e){return e!==e.root&&e.scroll?.wasRoot}const ket=jte({attachResizeListener:(e,t)=>aw(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fk={current:void 0},$te=jte({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fk.current){const e=new ket({});e.mount(window),e.setOptions({layoutScroll:!0}),Fk.current=e}return Fk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Det={pan:{Feature:$Je},drag:{Feature:WJe,ProjectionNode:$te,MeasureLayout:Bte}};function rz(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Cr.postRender(()=>s(t,mC(t)))}class Pet extends Vd{mount(){const{current:t}=this.node;t&&(this.unmount=ZQe(t,(n,r)=>(rz(this.node,r,"Start"),i=>rz(this.node,i,"End"))))}unmount(){}}class Fet extends Vd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fC(aw(this.node.current,"focus",()=>this.onFocus()),aw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iz(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Cr.postRender(()=>s(t,mC(t)))}class Iet extends Vd{mount(){const{current:t}=this.node;t&&(this.unmount=nZe(t,(n,r)=>(iz(this.node,r,"Start"),(i,{success:s})=>iz(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const aF=new WeakMap,Ik=new WeakMap,Met=e=>{const t=aF.get(e.target);t&&t(e)},Oet=e=>{e.forEach(Met)};function Net({root:e,...t}){const n=e||document;Ik.has(n)||Ik.set(n,{});const r=Ik.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Oet,{root:e,...t})),r[i]}function Let(e,t,n){const r=Net(t);return aF.set(e,n),r.observe(e),()=>{aF.delete(e),r.unobserve(e)}}const Bet={some:0,all:1};class Vet extends Vd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Bet[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return Let(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Het(t,n))&&this.startObserver()}unmount(){}}function Het({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Get={inView:{Feature:Vet},tap:{Feature:Iet},focus:{Feature:Fet},hover:{Feature:Pet}},Uet={layout:{ProjectionNode:$te,MeasureLayout:Bte}},zet={...TJe,...Get,...Det,...Uet},dN=GZe(zet,eJe),jet=({content:e})=>{const t=["I","You","He/She/It","We","They"],n=e.forms,r=(i,s)=>{switch(s){case"Present Simple":return i==="He/She/It"?n.thirdPersonSingular:n.base;case"Present Continuous":return i==="I"?`am ${n.gerund}`:i==="He/She/It"?`is ${n.gerund}`:`are ${n.gerund}`;case"Past Simple":return n.pastSimple;case"Present Perfect":return i==="He/She/It"?`has ${n.pastParticiple}`:`have ${n.pastParticiple}`;case"Simple Future":return`will ${n.simpleFuture.replace("will","")}`;default:return n.base}};return O.jsxs(dN.div,{className:"conjugate-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeInOut"},children:[O.jsx("div",{className:"verb-header text-center p-3 mb-3 bg-light rounded",children:O.jsxs("h2",{children:[e.verbSpanish.charAt(0).toUpperCase()+e.verbSpanish.slice(1)," ","/"," ",e.verbEnglish.charAt(0).toUpperCase()+e.verbEnglish.slice(1)]})}),O.jsxs(Yj,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Pronoun"}),O.jsx("th",{children:"Simple Present"}),O.jsx("th",{children:"Present Continuous"}),O.jsx("th",{children:"Simple Past"}),O.jsx("th",{children:"Perfect Present"}),O.jsx("th",{children:"Simple Future"})]})}),O.jsx("tbody",{children:t.map(i=>O.jsxs("tr",{children:[O.jsx("td",{children:i}),O.jsx("td",{children:r(i,"Present Simple")}),O.jsx("td",{children:r(i,"Present Continuous")}),O.jsx("td",{children:r(i,"Past Simple")}),O.jsx("td",{children:r(i,"Present Perfect")}),O.jsx("td",{children:r(i,"Simple Future")})]},i))})]})]})},Wet=({content:e})=>{const{original_text:t,corrections:n}=e,r=IJ(),[i,s]=A.useState(null),o=A.useMemo(()=>{const u=[...n].sort((g,v)=>g.position.start-v.position.start),h=[];let p=0;for(const g of u){const v=g.original,y=g.position.start,C=[];let b=p,E;for(;(E=t.indexOf(v,b))>-1;)C.push({start:E,end:E+v.length}),b=E+1;if(C.length===0)continue;const x=C.reduce((k,D)=>{const R=Math.abs(k.start-y);return Math.abs(D.start-y)<R?D:k});h.push({...g,position:{start:x.start,end:x.end}}),p=x.end}return h.sort((g,v)=>g.position.start-v.position.start)},[t,n]),a=u=>{s(h=>h===u?null:u)},l=[];let c=0;return o.forEach((u,h)=>{u.position.start>c&&l.push(O.jsx("span",{children:t.slice(c,u.position.start)},`text-${h}`)),l.push(O.jsxs("span",{className:"correction-group",onClick:r?()=>a(h):void 0,onMouseEnter:r?void 0:()=>s(h),onMouseLeave:r?void 0:()=>s(null),children:[O.jsx("span",{className:"correction-original",children:u.original}),O.jsx("span",{className:"correction-corrected",children:u.corrected}),i===h&&O.jsxs("div",{className:"correction-popup",children:[O.jsxs("div",{className:"explanation-correction",children:[O.jsx("span",{className:"original-word",children:u.original})," "," ",O.jsx("span",{className:"corrected-word",children:u.corrected})]}),u.explanation&&O.jsx("p",{className:"explanation-text",children:u.explanation})]})]},`group-${h}`)),c=u.position.end}),c<t.length&&l.push(O.jsx("span",{children:t.slice(c)},"final-text")),O.jsxs("div",{className:"correction-container",children:[O.jsxs("p",{className:"correction-intro",children:[O.jsx("span",{className:"correction-intro-icon",children:""})," Pasa el mouse (o haz clic en mvil) sobre las correcciones para ver una explicacin detallada."]}),O.jsx("div",{className:"corrected-text-inline",children:l})]})},$et=({message:e,isLastMessage:t,onRegenerate:n})=>{const[r,i]=A.useState(""),[s,o]=A.useState(!1),a=typeof e.content=="string"?e.content:e.content?.explanation||"";A.useEffect(()=>{if(!e.isNew){i(a),e.content?.examples&&e.content.examples.length>0&&o(!0);return}if(i(""),o(!1),a){let c=0;const u=setInterval(()=>{i(a.substring(0,c+1)),c++,c>=a.length&&(clearInterval(u),e.content?.examples&&e.content.examples.length>0&&setTimeout(()=>o(!0),500))},20);return()=>clearInterval(u)}},[a,e.content?.examples,e.isNew]),A.useEffect(()=>{console.log(e)},[e]);const l=()=>{switch(e.mode){case"CORRECT":return O.jsx(Wet,{content:e.content});case"CONJUGATE":return O.jsxs(O.Fragment,{children:[O.jsx(jet,{content:e.content}),O.jsx(Ex,{children:r}),s&&e.content?.examples&&O.jsxs("div",{className:"examples-section",children:[O.jsxs("div",{className:"examples-header",children:[O.jsx("span",{className:"examples-icon",children:""}),O.jsx("h4",{children:"Ejemplos de uso:"})]}),O.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,u)=>O.jsxs("div",{className:"example-item",children:[O.jsx("div",{className:"example-number",children:u+1}),O.jsx("div",{className:"example-content",children:O.jsx(Ex,{children:c})})]},u))})]})]});default:return O.jsxs(O.Fragment,{children:[O.jsx(Ex,{children:r}),s&&e.content?.examples&&O.jsxs("div",{className:"examples-section",children:[O.jsxs("div",{className:"examples-header",children:[O.jsx("span",{className:"examples-icon",children:""}),O.jsx("h4",{children:"Ejemplos de uso:"})]}),O.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,u)=>O.jsxs("div",{className:"example-item",children:[O.jsx("div",{className:"example-number",children:u+1}),O.jsx("div",{className:"example-content",children:O.jsx(Ex,{children:c})})]},u))})]})]})}};return O.jsxs("div",{className:"message-container bot-message-container",children:[O.jsx("div",{className:"avatar bot-avatar",children:O.jsx(t2,{size:24})}),O.jsxs("div",{className:"message-content",children:[O.jsx("div",{className:"message-bubble bot-message",children:l()}),t&&O.jsx("button",{className:"regenerate-button",onClick:n,children:O.jsx(cde,{size:16})})]})]})},qet=({message:e})=>O.jsxs("div",{className:"message-container user-message-container",children:[O.jsx("div",{className:"message-bubble user-message",children:e}),O.jsx("div",{className:"avatar user-avatar",children:O.jsx(s2,{size:24})})]}),Ket=()=>O.jsx("div",{className:"message-bubble bot-message",children:O.jsx(to,{animation:"border",size:"sm"})}),Yet=()=>O.jsx("div",{className:"welcome-container",children:O.jsx(Mn,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:O.jsxs(Mn.Body,{children:[O.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:O.jsx(t2,{size:28})}),O.jsx(Mn.Title,{as:"h2",className:"mb-3",children:"Hola! Soy tu Tutor de Ingls Decolonial"}),O.jsx(Mn.Text,{className:"text-muted mb-4",children:"Estoy aqu para ayudarte a explorar el ingls desde una perspectiva decolonial. Puedes hacerme preguntas, pedirme que conjugue verbos o que te explique temas gramaticales."}),O.jsx("h5",{className:"mb-3",children:"Aqu tienes algunas ideas:"}),O.jsxs(Na,{variant:"flush",children:[O.jsx(Na.Item,{children:`"Conjuga el verbo 'walk' en ingls"`}),O.jsx(Na.Item,{children:'"Qu es el presente perfecto?"'}),O.jsx(Na.Item,{children:`"Explcame el uso de 'will' y 'going to'"`})]})]})})}),Xet=()=>O.jsx("div",{className:"welcome-container",children:O.jsx(Mn,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:O.jsxs(Mn.Body,{children:[O.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:O.jsx(n2,{size:28})}),O.jsx(Mn.Title,{as:"h2",className:"mb-3",children:"Vista de Solo Lectura"}),O.jsx(Mn.Text,{className:"text-muted mb-4",children:"Esta es una vista de solo lectura de las conversaciones del estudiante. Puedes explorar los chats del estudiante seleccionndolos en la barra lateral izquierda."}),O.jsx(Mn.Text,{className:"text-muted",children:"No puedes enviar mensajes en esta vista, solo visualizar el historial de conversaciones."})]})})}),Qet=({messages:e,isLoading:t,onRegenerate:n,readOnly:r=!1})=>{const i=A.useRef(null);A.useEffect(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[e,t]);const s=o=>({id:o.id,sender:o.role==="user"?"user":"bot",role:o.role,content:o.content,chatId:o.chatId,timestamp:o.timestamp,isNew:o.isNew,mode:o.mode});return O.jsxs("div",{className:"chat-window",children:[e.length===0&&!t?r?O.jsx(Xet,{}):O.jsx(Yet,{}):e.map((o,a)=>{const l=s(o),c=o.role==="model"&&a===e.length-1;return o.role==="model"?O.jsx($et,{message:l,isLastMessage:c,onRegenerate:n},o.id):O.jsx(qet,{message:typeof o.content=="string"?o.content:JSON.stringify(o.content)},o.id)}),t&&O.jsx(Ket,{}),O.jsx("div",{ref:i})]})},Zet=({onClick:e})=>O.jsxs("button",{className:"new-chat-button",onClick:e,children:[O.jsx(Lue,{size:20}),O.jsx("span",{children:"Nueva conversacin"})]}),lF=$w((e,t)=>({chats:[],messages:[],currentChatId:null,isLoading:!1,isLoadingChats:!1,error:null,loadChats:async n=>{e({isLoadingChats:!0,error:null});try{const r=await kP(n);e({chats:r,isLoadingChats:!1})}catch(r){console.error("Error loading chats:",r),e({error:"Error al cargar conversaciones",isLoadingChats:!1})}},createChat:async(n,r,i)=>{e({isLoading:!0,error:null});try{const s=await z7e(n,r,i);return await t().loadChats(n),e({currentChatId:s.chatId,isLoading:!1,messages:[]}),s.chatId}catch(s){throw console.error("Error creating chat:",s),e({error:"Error al crear conversacin",isLoading:!1}),s}},setCurrentChat:n=>{e({currentChatId:n,messages:[]})},loadChatHistory:async(n,r)=>{e({isLoading:!0,error:null});try{const i=await DP(n,r);e({messages:i.messages,currentChatId:n,isLoading:!1})}catch(i){console.error("Error loading chat history:",i),e({error:"Error al cargar historial",isLoading:!1})}},addMessage:n=>{e(r=>({messages:[...r.messages,n]}))},deleteChat:async(n,r)=>{e({isLoading:!0,error:null});try{await j7e(n,r);const{currentChatId:i}=t();i===n&&e({currentChatId:null,messages:[]}),await t().loadChats(r),e({isLoading:!1})}catch(i){console.error("Error deleting chat:",i),e({error:"Error al eliminar conversacin",isLoading:!1})}},clearMessages:()=>{e({messages:[]})},setError:n=>{e({error:n})}})),Jet=({chat:e,isActive:t,onClick:n,onDelete:r})=>{const i=s=>{const a=new Date().getTime()-s.getTime(),l=Math.floor(a/(1e3*60*60*24));return l===0?"Hoy":l===1?"Ayer":l<7?`Hace ${l} das`:s.toLocaleDateString("es-ES",{day:"numeric",month:"short"})};return O.jsxs("div",{className:`chat-item ${t?"active":""}`,onClick:n,children:[O.jsx("div",{className:"chat-item-icon",children:O.jsx(Zj,{size:18})}),O.jsxs("div",{className:"chat-item-content",children:[O.jsx("div",{className:"chat-item-title",children:e.title}),O.jsx("div",{className:"chat-item-date",children:i(e.updatedAt)})]}),O.jsx("button",{className:"chat-item-delete",onClick:r,title:"Eliminar conversacin",children:O.jsx(hE,{size:16})})]})},ett=({userId:e,onChatSelect:t})=>{const{chats:n,currentChatId:r,deleteChat:i,isLoadingChats:s}=lF(),o=async(a,l)=>{a.stopPropagation(),window.confirm("Ests seguro de eliminar esta conversacin?")&&await i(l,e)};return s?O.jsxs("div",{className:"chat-list-loading",children:[O.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:O.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),O.jsx("span",{children:"Cargando conversaciones..."})]}):n.length===0?O.jsxs("div",{className:"chat-list-empty",children:[O.jsx("p",{children:"No tienes conversaciones an"}),O.jsx("p",{className:"text-muted",children:"Comienza escribiendo un mensaje"})]}):O.jsx("div",{className:"chat-list",children:n.map(a=>O.jsx(Jet,{chat:a,isActive:a.id===r,onClick:()=>t(a.id),onDelete:l=>o(l,a.id)},a.id))})},ttt=({userId:e,onNewChat:t,onChatSelect:n})=>{const[r,i]=A.useState(!1);return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:`chat-sidebar ${r?"collapsed":""}`,children:[O.jsxs("div",{className:"chat-sidebar-header",children:[O.jsx(Zet,{onClick:t}),O.jsx("button",{className:"sidebar-collapse-button",onClick:()=>i(!r),title:r?"Expandir":"Colapsar",children:r?O.jsx(G_,{size:20}):O.jsx(Mue,{size:20})})]}),O.jsx("div",{className:"chat-sidebar-content",children:O.jsx(ett,{userId:e,onChatSelect:n})})]}),r&&O.jsxs(O.Fragment,{children:[O.jsx("button",{className:"sidebar-expand-button-desktop",onClick:()=>i(!1),title:"Expandir sidebar",children:O.jsx(G_,{size:20})}),O.jsx("button",{className:"sidebar-expand-button-mobile",onClick:()=>i(!1),title:"Expandir sidebar",children:O.jsx(G_,{size:24})})]})]})},qte=({readOnly:e=!1,targetUserId:t})=>{const[n,r]=A.useState(""),[i,s]=A.useState(!1),[o,a]=A.useState(""),{messages:l,currentChatId:c,loadChats:u,createChat:h,loadChatHistory:p,addMessage:g,setCurrentChat:v,clearMessages:y}=lF();A.useEffect(()=>{y(),v(null);const k=t||(()=>{const D=localStorage.getItem("user");return D?JSON.parse(D).id:""})();a(k),k&&u(k)},[u,t,y,v]);const C=()=>{v(null),y()},b=async k=>{o&&await p(k,o)},E=async k=>{if(k.preventDefault(),!n.trim()||i||!o||e)return;const D=n;r(""),s(!0);try{let R=c;if(!R){const B=D.split(" ").slice(0,5).join(" "),M=B.length>30?B.substring(0,30)+"...":B;R=await h(o,M)}const _={id:$u(),chatId:R,role:"user",content:D,timestamp:new Date,isNew:!0};g(_);const I=await a8(D),F=await l8(D,I,R,o),N={id:$u(),chatId:R,role:"model",content:F.content,timestamp:new Date,isNew:!0,mode:F.mode||I};g(N)}catch(R){console.error(R);const _={id:$u(),chatId:c||"",role:"model",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",timestamp:new Date,isNew:!0};g(_)}finally{s(!1)}},x=async()=>{if(i||!c||!o||e)return;const k=[...l].reverse().find(D=>D.role==="user");if(k){const D=l.length-1;if(l[D]?.role==="model"){const R=l.slice(0,-1);lF.setState({messages:R})}s(!0);try{const R=await a8(k.content),_=await l8(k.content,R,c,o),I={id:$u(),chatId:c,role:"model",content:_.content,timestamp:new Date,isNew:!0,mode:_.mode||R};g(I)}catch(R){console.error(R);const _={id:$u(),chatId:c,role:"model",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",timestamp:new Date,isNew:!0};g(_)}finally{s(!1)}}};return O.jsxs("div",{className:"chat-page-container",children:[O.jsx(ttt,{userId:o,onNewChat:C,onChatSelect:b}),O.jsx("div",{className:"chat-main-area",children:O.jsxs("div",{className:"chat-container",children:[O.jsx(Qet,{messages:l,isLoading:i,onRegenerate:x,readOnly:e}),!e&&O.jsxs("form",{className:"chat-input-form",onSubmit:E,children:[O.jsx("input",{type:"text",value:n,onChange:k=>r(k.target.value),placeholder:"Escribe un mensaje...",disabled:i}),O.jsx("button",{type:"submit",disabled:i||!n.trim(),children:O.jsx(pde,{size:18})})]})]})})]})},ntt=()=>O.jsx(qte,{});async function rtt(e,t){const n=W$($$,e),r=await Yye(n,t,{contentType:t.type});return{url:await Xye(r.ref),fullPath:r.ref.fullPath}}async function itt(e){const t=W$($$,e);await Qye(t)}const Om="posts",Kte="comments",stt=async e=>{const{imageFile:t,description:n,sessionId:r,teacherId:i}=e,s=`posts/${r}/${$u()}-${t.name}`,{url:o}=await rtt(s,t),a={imageUrl:o,imagePath:s,description:n||"",teacherId:i,sessionId:r,createdAt:new Date,likes:[],commentsCount:0},l=await Ive(Pf(Bs,Om),a);return{...a,id:l.id}},ott=(e,t)=>{const n=Ww(Pf(Bs,Om),rI("sessionId","==",e),x$("createdAt","desc"));return _$(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},att=async(e,t,n)=>{const r=Wl(Bs,Om,e);n?await ED(r,{likes:Vve(t)}):await ED(r,{likes:Bve(t)})},ltt=async(e,t)=>{const n=Wl(Bs,Om,e),r=Pf(n,Kte),i={...t,postId:e,createdAt:new Date};return await Lve(Bs,async s=>{const o=Wl(r);s.set(o,i),s.update(n,{commentsCount:Hve(1)})}),{...i,id:$u()}},ctt=(e,t)=>{const n=Ww(Pf(Bs,Om,e,Kte),x$("createdAt","asc"));return _$(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()}));t(i)})},utt=async e=>{await itt(e.imagePath),await R$(Wl(Bs,Om,e.id))},hN=$w((e,t)=>({posts:[],comments:{},isLoadingPosts:!1,isLoadingComments:!1,error:null,postsUnsubscribe:null,commentsUnsubscribe:{},fetchPosts:n=>{const{postsUnsubscribe:r}=t();r&&r(),e({isLoadingPosts:!0,error:null});const i=ott(n,s=>{e({posts:s,isLoadingPosts:!1})});e({postsUnsubscribe:i})},fetchComments:n=>{const{commentsUnsubscribe:r}=t();r[n]&&r[n](),e({isLoadingComments:!0,error:null});const i=ctt(n,s=>{e(o=>({comments:{...o.comments,[n]:s},isLoadingComments:!1}))});e(s=>({commentsUnsubscribe:{...s.commentsUnsubscribe,[n]:i}}))},addPost:n=>e(r=>({posts:[n,...r.posts]})),updatePostLikes:(n,r)=>{e(i=>({posts:i.posts.map(s=>s.id===n?{...s,likes:r}:s)}))},removePost:n=>{e(r=>({posts:r.posts.filter(i=>i.id!==n)}))},addComment:(n,r)=>{e(i=>({comments:{...i.comments,[n]:[...i.comments[n]||[],r]}}))},cleanup:()=>{const{postsUnsubscribe:n,commentsUnsubscribe:r}=t();n&&n(),Object.values(r).forEach(i=>{i&&i()}),e({postsUnsubscribe:null,commentsUnsubscribe:{}})}})),dtt=({post:e,onClick:t})=>O.jsxs(dN.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"post-item-card",onClick:t,children:[O.jsx("img",{src:e.imageUrl,alt:e.description||"Post image",className:"card-image"}),O.jsxs("div",{className:"card-footer",children:[O.jsxs("div",{className:"stat",children:[O.jsx(Qj,{size:18}),O.jsx("span",{children:e.likes.length})]}),O.jsxs("div",{className:"stat",children:[O.jsx(Zj,{size:18}),O.jsx("span",{children:e.commentsCount||0})]})]})]});var Yte="en",fN={},cF={};function Xte(){return Yte}function htt(e){Yte=e}function ftt(e){return fN[e]}function ptt(e){if(!e)throw new Error("No locale data passed");fN[e.locale]=e,cF[e.locale.toLowerCase()]=e.locale}function sz(e){if(fN[e])return e;if(cF[e.toLowerCase()])return cF[e.toLowerCase()]}function Qte(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return oz(e);case"best fit":return oz(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function oz(e){var t=sz(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=sz(e);if(r)return r}}var be={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2);return i==1&&s!=11?"one":i>=2&&i<=4&&(s<12||s>14)?"few":r&&i==0||i>=5&&i<=9||s>=11&&s<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return i==1&&s!=11&&s!=71&&s!=91?"one":i==2&&s!=12&&s!=72&&s!=92?"two":(i==3||i==4||i==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":s&&o>=2&&o<=4&&(a<12||a>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1&&i?"one":r!=0&&s==0&&i?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=i.slice(-1);return s&&(r==1||r==2||r==3)||s&&o!=4&&o!=6&&o!=9||!s&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return t==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return t==1||!i&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-2),a=i.slice(-2);return s&&o==1||a==1?"one":s&&o==2||a==2?"two":s&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1?"one":r!=0&&s==0&&i?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t>=0&&t<2?"one":r!=0&&s==0&&i?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return r==1&&i||r==0&&!i?"one":r==2&&i?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],i=(n[1]||"").replace(/0+$/,""),s=Number(n[0])==t,o=r.slice(-1),a=r.slice(-2);return s&&o==1&&a!=11||i%10==1&&i%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,s=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",i=r.length,s=Number(n[0])==t,o=s&&n[0].slice(-1),a=s&&n[0].slice(-2),l=r.slice(-2),c=r.slice(-1);return s&&o==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":o==1&&a!=11||i==2&&c==1&&l!=11||i!=2&&c==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||i>=3&&i<=10?"few":i>=11&&i<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return t==1&&i?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&r!=1&&(s==0||s==1)||i&&s>=5&&s<=9||i&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return r==0||r==1?"one":r!=0&&s==0&&i?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,s=i&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&s>=1&&s<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&s==0||i&&s>=5&&s<=9||i&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"";return t==0||t==1||r==0&&i==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-2);return i&&s==1?"one":i&&s==2?"two":i&&(s==3||s==4)||!i?"few":"other"}};be.as=be.am;be.az=be.af;be.bal=be.af;be.bg=be.af;be.bn=be.am;be.brx=be.af;be.ce=be.af;be.chr=be.af;be.de=be.ast;be.doi=be.am;be.ee=be.af;be.el=be.af;be.en=be.ast;be.et=be.ast;be.eu=be.af;be.fa=be.am;be.fi=be.ast;be.fil=be.ceb;be.fo=be.af;be.fur=be.af;be.fy=be.ast;be.gl=be.ast;be.gu=be.am;be.ha=be.af;be.hi=be.am;be.hr=be.bs;be.hsb=be.dsb;be.hu=be.af;be.hy=be.ff;be.ia=be.ast;be.id=be.dz;be.ig=be.dz;be.ii=be.dz;be.it=be.ca;be.ja=be.dz;be.jgo=be.af;be.jv=be.dz;be.ka=be.af;be.kea=be.dz;be.kk=be.af;be.kl=be.af;be.km=be.dz;be.kn=be.am;be.ko=be.dz;be.ks=be.af;be.ksh=be.blo;be.ku=be.af;be.ky=be.af;be.lb=be.af;be.lkt=be.dz;be.lo=be.dz;be.ml=be.af;be.mn=be.af;be.mr=be.af;be.ms=be.dz;be.my=be.dz;be.nb=be.af;be.ne=be.af;be.nl=be.ast;be.nn=be.af;be.no=be.af;be.nqo=be.dz;be.om=be.af;be.or=be.af;be.pa=be.ak;be.pcm=be.am;be.ps=be.af;be.rm=be.af;be.sah=be.dz;be.sc=be.ast;be.sd=be.af;be.sk=be.cs;be.so=be.af;be.sq=be.af;be.sr=be.bs;be.su=be.dz;be.sv=be.ast;be.sw=be.ast;be.syr=be.af;be.ta=be.af;be.te=be.af;be.th=be.dz;be.ti=be.ak;be.tk=be.af;be.tn=be.af;be.to=be.dz;be.tr=be.af;be.ug=be.af;be.uk=be.ru;be.ur=be.ast;be.uz=be.af;be.vec=be.ca;be.vi=be.dz;be.wae=be.af;be.wo=be.dz;be.xh=be.af;be.yi=be.ast;be.yo=be.dz;be.yue=be.dz;be.zh=be.dz;be.zu=be.am;function az(e){return e==="pt-PT"?e:mtt(e)}var gtt=/^([a-z0-9]+)/i;function mtt(e){var t=e.match(gtt);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function lw(e){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lw(e)}function vtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wtt(r.key),r)}}function ytt(e,t,n){return t&&lz(e.prototype,t),n&&lz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wtt(e){var t=Ctt(e,"string");return lw(t)=="symbol"?t:t+""}function Ctt(e,t){if(lw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uF=function(){function e(t,n){vtt(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=be[az(r[0])]}return ytt(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return be[az(r)]})}}]),e}();function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cz(Object(n),!0).forEach(function(r){btt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function btt(e,t,n){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dz(e,t){return Ttt(e)||Ett(e,t)||Stt(e,t)||xtt()}function xtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Stt(e,t){if(e){if(typeof e=="string")return hz(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hz(e,t):void 0}}function hz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ett(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Ttt(e){if(Array.isArray(e))return e}function Rtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zte(r.key),r)}}function Att(e,t,n){return t&&_tt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zte(e){var t=ktt(e,"string");return sm(t)=="symbol"?t:t+""}function ktt(e,t){if(sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dtt=["second","minute","hour","day","week","month","quarter","year"],Ptt=["auto","always"],Ftt=["long","short","narrow"],Itt=["lookup","best fit"],Td=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Rtt(this,e);var r=n.numeric,i=n.style,s=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(Ptt.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(i!==void 0){if(Ftt.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(s!==void 0){if(Itt.indexOf(s)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(s));this.localeMatcher=s}if(typeof t=="string"&&(t=[t]),t.push(Xte()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");uF.supportedLocalesOf(this.locale).length>0?this.pluralRules=new uF(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Qte(this.locale,{localeMatcher:this.localeMatcher})}return Att(e,[{key:"format",value:function(){var n=fz(arguments),r=dz(n,2),i=r[0],s=r[1];return this.getRule(i,s).replace("{0}",this.formatNumber(Math.abs(i)))}},{key:"formatToParts",value:function(){var n=fz(arguments),r=dz(n,2),i=r[0],s=r[1],o=this.getRule(i,s),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var l=[];return a>0&&l.push({type:"literal",value:o.slice(0,a)}),l=l.concat(this.formatNumberToParts(Math.abs(i)).map(function(c){return uz(uz({},c),{},{unit:s})})),a+3<o.length-1&&l.push({type:"literal",value:o.slice(a+3)}),l}},{key:"getRule",value:function(n,r){var i=ftt(this.locale)[this.style][r];if(typeof i=="string")return i;if(this.numeric==="auto"){if(n===-2||n===-1){var s=i["previous".concat(n===-1?"":"-"+Math.abs(n))];if(s)return s}else if(n===1||n===2){var o=i["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&i.current)return i.current}var a=i[Btt(n)?"past":"future"];if(typeof a=="string")return a;var l=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return a[l]||a.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e}();Td.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return Qte(n,t)})};Td.addLocale=ptt;Td.setDefaultLocale=htt;Td.getDefaultLocale=Xte;Td.PluralRules=uF;var Mk='Invalid "unit" argument';function Mtt(e){if(sm(e)==="symbol")throw new TypeError(Mk);if(typeof e!="string")throw new RangeError("".concat(Mk,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),Dtt.indexOf(e)<0)throw new RangeError("".concat(Mk,": ").concat(e));return e}var Ott='Invalid "number" argument';function Ntt(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(Ott,": ").concat(e));return e}function Ltt(e){return 1/e===-1/0}function Btt(e){return e<0||e===0&&Ltt(e)}function fz(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[Ntt(e[0]),Mtt(e[1])]}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function Vtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Htt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Utt(r.key),r)}}function Gtt(e,t,n){return t&&Htt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Utt(e){var t=ztt(e,"string");return xf(t)=="symbol"?t:t+""}function ztt(e,t){if(xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pz=function(){function e(){Vtt(this,e),this.cache={}}return Gtt(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o=0,a=i;o<a.length;o++){var l=a[o];if(xf(n)!=="object")return;n=n[l]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var s=r.pop(),o=r.pop(),a=this.cache,l=0,c=r;l<c.length;l++){var u=c[l];xf(a[u])!=="object"&&(a[u]={}),a=a[u]}return a[o]=s}}]),e}();function dF(e){"@babel/helpers - typeof";return dF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dF(e)}function jtt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Wtt(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wtt(e,t){if(e){if(typeof e=="string")return gz(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gz(e,t):void 0}}function gz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $tt(e,t){for(var n=jtt(e),r;!(r=n()).done;){var i=r.value;if(t(i))return i;for(var s=i.split("-");s.length>1;)if(s.pop(),i=s.join("-"),t(i))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function qtt(){var e=(typeof Intl>"u"?"undefined":dF(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function hF(e){"@babel/helpers - typeof";return hF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hF(e)}function Ktt(e){return Xtt(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var Ytt={}.constructor;function Xtt(e){return hF(e)!==void 0&&e!==null&&e.constructor===Ytt}var Sc=60,q1=60*Sc,Xh=24*q1,fF=7*Xh,pF=30.44*Xh,Jte=146097/400*Xh;function kg(e){switch(e){case"second":return 1;case"minute":return Sc;case"hour":return q1;case"day":return Xh;case"week":return fF;case"month":return pF;case"year":return Jte}}function ene(e){return e.factor!==void 0?e.factor:kg(e.unit||e.formatAs)||1}function cw(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function pN(e){switch(e){case"floor":return 1;default:return .5}}function gF(e){"@babel/helpers - typeof";return gF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gF(e)}function tne(e,t){var n=t.prevStep,r=t.timestamp,i=t.now,s=t.future,o=t.round,a;return n&&(n.id||n.unit)&&(a=e["threshold_for_".concat(n.id||n.unit)]),a===void 0&&e.threshold!==void 0&&(a=e.threshold,typeof a=="function"&&(a=a(i,s))),a===void 0&&(a=e.minTime),gF(a)==="object"&&(n&&n.id&&a[n.id]!==void 0?a=a[n.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:s,getMinTimeForUnit:function(c,u){return mz(c,u||n&&n.formatAs,{round:o})}})),a===void 0&&e.test&&(e.test(r,{now:i,future:s})?a=0:a=9007199254740991),a===void 0&&(n?e.formatAs&&n.formatAs&&(a=mz(e.formatAs,n.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),a}function mz(e,t,n){var r=n.round,i=kg(e),s;if(t==="now"?s=kg(e):s=kg(t),i!==void 0&&s!==void 0)return i-s*(1-pN(r))}function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function vz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qtt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vz(Object(n),!0).forEach(function(r){Ztt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ztt(e,t,n){return(t=Jtt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jtt(e){var t=ent(e,"string");return uw(t)=="symbol"?t:t+""}function ent(e,t){if(uw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tnt(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.units;e=rnt(e,o);var a=nnt(e,t,{now:r,future:i,round:s});{if(a){var l=e[e.indexOf(a)-1],c=e[e.indexOf(a)+1];return[l,a,c]}return[void 0,void 0,e[0]]}}function nnt(e,t,n){var r=n.now,i=n.future,s=n.round;if(e.length!==0){var o=nne(e,t,{now:r,future:i||t<0,round:s});if(o!==-1){var a=e[o];if(a.granularity){var l=cw(s)(Math.abs(t)/ene(a)/a.granularity)*a.granularity;if(l===0&&o>0)return e[o-1]}return a}}}function nne(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=tne(e[r],Qtt({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return i===void 0||Math.abs(t)<i?r-1:r===e.length-1?r:nne(e,t,n,r+1)}function rnt(e,t){return e.filter(function(n){var r=n.unit,i=n.formatAs;return r=r||i,r?t.indexOf(r)>=0:!0})}function int(e,t,n){var r=n.now,i=n.round;if(kg(e)){var s=kg(e)*1e3,o=t>r,a=Math.abs(t-r),l=cw(i)(a/s)*s;return o?l>0?a-l+ont(i,s):a-l+1:-(a-l)+snt(i,s)}}function snt(e,t){return pN(e)*t}function ont(e,t){return(1-pN(e))*t+1}var ant=365*24*60*60*1e3,rne=1e3*ant;function lnt(e,t,n){var r=n.prevStep,i=n.nextStep,s=n.now,o=n.future,a=n.round,l=e.getTime?e.getTime():e,c=function(v){return int(v,l,{now:s,round:a})},u=unt(o?t:i,l,{future:o,now:s,round:a,prevStep:o?r:t});if(u!==void 0){var h;if(t&&(t.getTimeToNextUpdate&&(h=t.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:c,getRoundFunction:cw,now:s,future:o,round:a})),h===void 0)){var p=t.unit||t.formatAs;p&&(h=c(p))}return h===void 0?u:Math.min(h,u)}}function cnt(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep,a=tne(e,{timestamp:t,now:r,future:i,round:s,prevStep:o});if(a!==void 0)return i?t-a*1e3+1:a===0&&t===r?rne:t+a*1e3}function unt(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep;if(e){var a=cnt(e,t,{now:r,future:i,round:s,prevStep:o});return a===void 0?void 0:a-r}else return i?t-r+1:rne}var ine={};function ig(e){return ine[e]}function sne(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");ine[e.locale]=e}const dnt=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],mF={steps:dnt,labels:"long"};function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}function yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yz(Object(n),!0).forEach(function(r){hnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hnt(e,t,n){return(t=fnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fnt(e){var t=pnt(e,"string");return dw(t)=="symbol"?t:t+""}function pnt(e,t){if(dw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const vF=wz(wz({},mF),{},{steps:mF.steps.filter(function(e){return e.formatAs!=="second"})}),one=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Sc,unit:"minute"},{threshold:2.5*Sc,granularity:5,factor:Sc,unit:"minute"},{threshold:22.5*Sc,factor:.5*q1,unit:"half-hour"},{threshold:42.5*Sc,threshold_for_minute:52.5*Sc,factor:q1,unit:"hour"},{threshold:20.5/24*Xh,factor:Xh,unit:"day"},{threshold:5.5*Xh,factor:fF,unit:"week"},{threshold:3.5*fF,factor:pF,unit:"month"},{threshold:10.5*pF,factor:Jte,unit:"year"}],Cz={gradation:one,flavour:"long",units:["now","minute","hour","day","week","month","year"]},gnt={gradation:one,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function ane(e){return e instanceof Date?e:new Date(e)}var yF=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Sl={},mnt={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return Sl[n]||(Sl[n]={}),Sl[n].dayMonth||(Sl[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),Sl[n].dayMonth.format(ane(t))}},vnt={minTime:function(t,n){var r=n.future;if(r){var i=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-i)/1e3}else{var s=new Date(new Date(t).getFullYear()+1,0).getTime();return(s-t)/1e3}},format:function(t,n){return Sl[n]||(Sl[n]={}),Sl[n].dayMonthYear||(Sl[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),Sl[n].dayMonthYear.format(ane(t))}};qtt()?yF.push(mnt,vnt):yF.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const Sf={steps:yF,labels:["mini","short-time","narrow","short"]};function hw(e){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hw(e)}function bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bz(Object(n),!0).forEach(function(r){ynt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ynt(e,t,n){return(t=wnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wnt(e){var t=Cnt(e,"string");return hw(t)=="symbol"?t:t+""}function Cnt(e,t){if(hw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const bnt=xz(xz({},Sf),{},{steps:[{formatAs:"now"}].concat(Sf.steps)});function fw(e){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fw(e)}function Sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ez(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sz(Object(n),!0).forEach(function(r){xnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xnt(e,t,n){return(t=Snt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Snt(e){var t=Ent(e,"string");return fw(t)=="symbol"?t:t+""}function Ent(e,t){if(fw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const wF=Ez(Ez({},Sf),{},{steps:Sf.steps.filter(function(e){return e.formatAs!=="second"})});function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(n),!0).forEach(function(r){Tnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tnt(e,t,n){return(t=Rnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rnt(e){var t=_nt(e,"string");return pw(t)=="symbol"?t:t+""}function _nt(e,t){if(pw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Ant=Rz(Rz({},wF),{},{steps:[{formatAs:"now"}].concat(wF.steps)});function gw(e){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}function _z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_z(Object(n),!0).forEach(function(r){knt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function knt(e,t,n){return(t=Dnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dnt(e){var t=Pnt(e,"string");return gw(t)=="symbol"?t:t+""}function Pnt(e,t){if(gw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Fnt=kx(kx({},Sf),{},{steps:Sf.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?kx(kx({},e),{},{minTime:Sc}):e})}),mw={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}function Az(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Az(Object(n),!0).forEach(function(r){Int(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Int(e,t,n){return(t=Mnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mnt(e){var t=Ont(e,"string");return vw(t)=="symbol"?t:t+""}function Ont(e,t){if(vw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Nnt=kz(kz({},mw),{},{steps:[{formatAs:"now"}].concat(mw.steps)});function yw(e){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yw(e)}function Dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dz(Object(n),!0).forEach(function(r){Lnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lnt(e,t,n){return(t=Bnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bnt(e){var t=Vnt(e,"string");return yw(t)=="symbol"?t:t+""}function Vnt(e,t){if(yw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const CF=Pz(Pz({},mw),{},{steps:mw.steps.filter(function(e){return e.formatAs!=="second"})});function ww(e){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ww(e)}function Fz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fz(Object(n),!0).forEach(function(r){Hnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hnt(e,t,n){return(t=Gnt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gnt(e){var t=Unt(e,"string");return ww(t)=="symbol"?t:t+""}function Unt(e,t){if(ww(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ww(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const znt=Iz(Iz({},CF),{},{steps:[{formatAs:"now"}].concat(CF.steps)});function jnt(e){switch(e){case"default":case"round":return mF;case"round-minute":return vF;case"approximate":return Cz;case"time":case"approximate-time":return gnt;case"mini":return mw;case"mini-now":return Nnt;case"mini-minute":return CF;case"mini-minute-now":return znt;case"twitter":return Sf;case"twitter-now":return bnt;case"twitter-minute":return wF;case"twitter-minute-now":return Ant;case"twitter-first-minute":return Fnt;default:return Cz}}function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function Wnt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=lne(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $nt(e,t){return Ynt(e)||Knt(e,t)||lne(e,t)||qnt()}function qnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lne(e,t){if(e){if(typeof e=="string")return Mz(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mz(e,t):void 0}}function Mz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Knt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Ynt(e){if(Array.isArray(e))return e}function Xnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qnt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jnt(r.key),r)}}function Znt(e,t,n){return t&&Qnt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jnt(e){var t=ert(e,"string");return Ef(t)=="symbol"?t:t+""}function ert(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ja=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;Xnt(this,e),typeof t=="string"&&(t=[t]),this.locale=$tt(t.concat(e.getDefaultLocale()),ig),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Td,this.IntlPluralRules=Td.PluralRules),this.relativeTimeFormatCache=new pz,this.pluralRulesCache=new pz}return Znt(e,[{key:"format",value:function(n,r,i){i||(r&&!srt(r)?(i=r,r=void 0):i={}),r||(r=vF),typeof r=="string"&&(r=jnt(r));var s=trt(n),o=this.getLabels(r.flavour||r.labels),a=o.labels,l=o.labelsType,c;r.now!==void 0&&(c=r.now),c===void 0&&i.now!==void 0&&(c=i.now),c===void 0&&(c=Date.now());var u=(c-s)/1e3,h=i.future||u<0,p=irt(a,ig(this.locale).now,ig(this.locale).long,h);if(r.custom){var g=r.custom({now:c,date:new Date(s),time:s,elapsed:u,locale:this.locale});if(g!==void 0)return g}var v=rrt(r.units,a,p),y=i.round||r.round,C=tnt(r.gradation||r.steps||vF.steps,u,{now:c,units:v,round:y,future:h}),b=$nt(C,3),E=b[0],x=b[1],k=b[2],D=this.formatDateForStep(s,x,u,{labels:a,labelsType:l,nowLabel:p,now:c,future:h,round:y})||"";if(i.getTimeToNextUpdate){var R=lnt(s,x,{nextStep:k,prevStep:E,now:c,future:h,round:y});return[D,R]}return D}},{key:"formatDateForStep",value:function(n,r,i,s){var o=this,a=s.labels,l=s.labelsType,c=s.nowLabel,u=s.now,h=s.future,p=s.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(b,E){return o.formatValue(E,b,{labels:a,future:h})},now:u,future:h});var g=r.unit||r.formatAs;if(!g)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(g==="now")return c;var v=Math.abs(i)/ene(r);r.granularity&&(v=cw(p)(v/r.granularity)*r.granularity);var y=-1*Math.sign(i)*cw(p)(v);switch(y===0&&(h?y=0:y=-0),l){case"long":case"short":case"narrow":return this.getFormatter(l).format(y,g);default:return this.formatValue(y,g,{labels:a,future:h})}}}},{key:"formatValue",value:function(n,r,i){var s=i.labels,o=i.future;return this.getFormattingRule(s,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,i,s){var o=s.future;if(this.locale,n=n[r],typeof n=="string")return n;var a=i===0?o?"future":"past":i<0?"past":"future",l=n[a]||n;if(typeof l=="string")return l;var c=this.getPluralRules().select(Math.abs(i));return l[c]||l.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),n=n.concat("long");for(var r=ig(this.locale),i=Wnt(n),s;!(s=i()).done;){var o=s.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e}(),cne="en";ja.getDefaultLocale=function(){return cne};ja.setDefaultLocale=function(e){return cne=e};ja.addDefaultLocale=function(e){if(Oz)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");Oz=!0,ja.setDefaultLocale(e.locale),ja.addLocale(e)};var Oz;ja.addLocale=function(e){sne(e),Td.addLocale(e)};ja.locale=ja.addLocale;ja.addLabels=function(e,t,n){var r=ig(e);r||(sne({locale:e}),r=ig(e)),r[t]=n};function trt(e){if(e.constructor===Date||nrt(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(Ef(e),", ").concat(e))}function nrt(e){return Ef(e)==="object"&&typeof e.getTime=="function"}function rrt(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(i){return i==="now"||r.indexOf(i)>=0})),r}function irt(e,t,n,r){var i=e.now||t&&t.now;if(i)return typeof i=="string"?i:r?i.future:i.past;if(n&&n.second&&n.second.current)return n.second.current}function srt(e){return typeof e=="string"||Ktt(e)}const ort={locale:"es",long:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:{one:"hace {0} ao",other:"hace {0} aos"},future:{one:"dentro de {0} ao",other:"dentro de {0} aos"}},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:{one:"hace {0} trimestre",other:"hace {0} trimestres"},future:{one:"dentro de {0} trimestre",other:"dentro de {0} trimestres"}},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:{one:"hace {0} mes",other:"hace {0} meses"},future:{one:"dentro de {0} mes",other:"dentro de {0} meses"}},week:{previous:"la semana pasada",current:"esta semana",next:"la prxima semana",past:{one:"hace {0} semana",other:"hace {0} semanas"},future:{one:"dentro de {0} semana",other:"dentro de {0} semanas"}},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:{one:"hace {0} da",other:"hace {0} das"},future:{one:"dentro de {0} da",other:"dentro de {0} das"}},hour:{current:"esta hora",past:{one:"hace {0} hora",other:"hace {0} horas"},future:{one:"dentro de {0} hora",other:"dentro de {0} horas"}},minute:{current:"este minuto",past:{one:"hace {0} minuto",other:"hace {0} minutos"},future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"}},second:{current:"ahora",past:{one:"hace {0} segundo",other:"hace {0} segundos"},future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"}}},short:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},narrow:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},now:{now:{current:"ahora",future:"enseguida",past:"ahora mismo"}},mini:{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:"{0} sem.",day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:"{0} min.",second:"{0} seg.",now:"ahora"},"long-time":{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:{one:"{0} semana",other:"{0} semanas"},day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:{one:"{0} minuto",other:"{0} minutos"},second:{one:"{0} segundo",other:"{0} segundos"}}};ja.addDefaultLocale(ort);const art=new ja("es-CO"),lrt=({comment:e})=>O.jsxs("div",{className:"comment-item",children:[O.jsx("div",{className:"comment-avatar",children:O.jsx(s2,{size:20})}),O.jsxs("div",{className:"comment-body",children:[O.jsxs("div",{className:"comment-header",children:[O.jsx("span",{className:"comment-author",children:e.studentName}),O.jsx("span",{className:"comment-timestamp",children:art.format(e.createdAt)})]}),O.jsx("p",{className:"comment-text text-start",children:e.text})]})]}),crt=({postId:e})=>{const{user:t}=Ya(),{comments:n,fetchComments:r,isLoadingComments:i}=hN(),s=n[e]||[],[o,a]=A.useState(""),[l,c]=A.useState(!1);A.useEffect(()=>{r&&typeof r=="function"&&r(e)},[e,r]);const u=async h=>{if(h.preventDefault(),!(!o.trim()||!t)){c(!0);try{await ltt(e,{text:o,studentId:t.id,studentName:t.name}),a("")}catch(p){console.error("Error adding comment:",p)}finally{c(!1)}}};return O.jsxs("div",{className:"d-flex flex-column h-100",children:[O.jsx("h5",{className:"mb-3",children:"Comentarios"}),O.jsxs("div",{className:"flex-grow-1",style:{overflowY:"auto",overflowX:"hidden"},children:[i&&O.jsx("div",{className:"text-center",children:O.jsx(to,{animation:"border",size:"sm"})}),!i&&s.length===0&&O.jsx("p",{className:"text-muted text-center mt-3",children:"No hay comentarios an. S el primero!"}),O.jsx("div",{children:s.map(h=>O.jsx(lrt,{comment:h},h.id))})]}),t?.role===en.STUDENT&&O.jsxs(In,{onSubmit:u,className:"mt-auto pt-3 border-top",children:[O.jsx(In.Group,{children:O.jsx(In.Control,{as:"textarea",rows:2,value:o,onChange:h=>a(h.target.value),placeholder:"Escribe un comentario...",required:!0,className:"mb-2"})}),O.jsx("div",{className:"d-grid",children:O.jsx(fr,{variant:"primary",type:"submit",disabled:l,children:l?"Enviando...":"Enviar Comentario"})})]})]})},urt=({post:e,onClose:t})=>{const{user:n}=Ya(),i=hN(p=>p.posts.find(g=>g.id===e.id))||e,[s,o]=A.useState(!1),[a,l]=A.useState(!1),c=A.useMemo(()=>n?i.likes.includes(n.id):!1,[i.likes,n]),u=async()=>{if(!(!n||n.role!==en.STUDENT)){o(!0);try{await att(i.id,n.id,c)}catch(p){console.error("Error toggling like:",p)}finally{o(!1)}}},h=async()=>{if(!(!n||n.role!==en.TEACHER)&&window.confirm("Ests seguro de que quieres borrar este post? Esta accin no se puede deshacer.")){l(!0);try{await utt(i),t()}catch(p){console.error("Error deleting post:",p),alert("Hubo un error al borrar el post.")}finally{l(!1)}}};return O.jsx(Sr,{show:!0,onHide:t,size:"xl",centered:!0,contentClassName:"bg-transparent border-0",children:O.jsx(dN.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:O.jsx(Sr.Body,{className:"p-0",children:O.jsxs(Ng,{className:"g-0",children:[O.jsx(Dl,{md:7,className:"d-flex align-items-center justify-content-center bg-dark",children:O.jsx("img",{src:i.imageUrl,alt:i.description,className:"img-fluid",style:{maxHeight:"90vh",objectFit:"contain"}})}),O.jsxs(Dl,{md:5,className:"bg-light p-4 d-flex flex-column",children:[O.jsxs("div",{children:[O.jsx("p",{children:i.description}),O.jsx("hr",{}),O.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[O.jsxs("div",{children:[n?.role===en.STUDENT&&O.jsx(fr,{variant:"link",onClick:u,disabled:s,className:"p-0 me-2",children:O.jsx(Qj,{size:24,color:c?"red":"black",fill:c?"red":"none"})}),O.jsxs("span",{children:["A ",i.likes.length," personas les gusta esto"]})]}),n?.role===en.TEACHER&&O.jsx(fr,{variant:"outline-danger",onClick:h,disabled:a,children:a?O.jsx(to,{size:"sm"}):O.jsx(hE,{size:20})})]})]}),O.jsx("div",{className:"flex-grow-1 mt-3",children:O.jsx(crt,{postId:i.id})}),O.jsx(fr,{variant:"secondary",onClick:t,className:"mt-auto",children:"Cerrar"})]})]})})})})},drt=({sessionId:e,onClose:t})=>{const{user:n}=Ya(),[r,i]=A.useState(""),[s,o]=A.useState(null),[a,l]=A.useState(!1),[c,u]=A.useState(null),h=g=>{g.target.files&&g.target.files[0]&&o(g.target.files[0])},p=async g=>{if(g.preventDefault(),!s||!n){u("Por favor, selecciona una imagen.");return}l(!0),u(null);const v={imageFile:s,description:r,sessionId:e,teacherId:n.id};try{await stt(v),t()}catch(y){u("Hubo un error al subir el post. Intntalo de nuevo."),console.error(y)}finally{l(!1)}};return O.jsxs(Sr,{show:!0,onHide:t,centered:!0,children:[O.jsx(Sr.Header,{closeButton:!0,children:O.jsx(Sr.Title,{children:"Crear Nuevo Post"})}),O.jsx(Sr.Body,{children:O.jsxs(In,{onSubmit:p,children:[O.jsxs(In.Group,{controlId:"formFile",className:"mb-3",children:[O.jsx(In.Label,{children:"Imagen del Post"}),O.jsx(In.Control,{type:"file",accept:"image/*",onChange:h,required:!0})]}),O.jsxs(In.Group,{controlId:"formDescription",className:"mb-3",children:[O.jsx(In.Label,{children:"Descripcin (opcional)"}),O.jsx(In.Control,{as:"textarea",rows:3,value:r,onChange:g=>i(g.target.value),placeholder:"Aade una descripcin..."})]}),c&&O.jsx("p",{className:"text-danger",children:c}),O.jsx("div",{className:"d-grid",children:O.jsx(fr,{variant:"primary",type:"submit",disabled:a,children:a?O.jsxs(O.Fragment,{children:[O.jsx(to,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Subiendo..."]}):"Publicar"})})]})})]})},hrt=()=>{const{sessionId:e}=r9(),{user:t}=Ya(),{posts:n,fetchPosts:r,cleanup:i}=hN(),[s,o]=A.useState(null),[a,l]=A.useState(!1);A.useEffect(()=>(e&&r(e),()=>{i()}),[e,r,i]);const c=g=>{o(g)},u=()=>{o(null)},h=()=>{l(!0)},p=()=>{l(!1)};return O.jsxs("div",{className:"post-gallery-container p-4",children:[(e==="taller2-session"||t?.role===en.TEACHER)&&O.jsxs(fr,{variant:"success",size:"lg",onClick:h,className:"mb-3",children:[O.jsx(kw,{size:24})," Aadir nuevo post"]}),O.jsx("div",{className:"post-gallery-grid",children:O.jsx(Ek,{children:n.map(g=>O.jsx(dtt,{post:g,onClick:()=>c(g)},g.id))})}),O.jsx(Ek,{children:s&&O.jsx(urt,{post:s,onClose:u})}),O.jsx(Ek,{children:a&&O.jsx(drt,{sessionId:e,onClose:p})})]})},frt=()=>O.jsx("div",{children:O.jsx(hrt,{})}),gN=({links:e})=>O.jsxs("div",{className:"practice-container",children:[O.jsx("h2",{className:"mb-4 text-center fw-bold",children:"Practice Language Corner"}),O.jsx("div",{className:"practice-grid",children:e.map((t,n)=>O.jsxs(Mn,{className:"practice-card shadow-sm",children:[O.jsx(Mn.Img,{variant:"top",src:t.image,alt:t.title}),O.jsxs(Mn.Body,{children:[O.jsx(Mn.Title,{children:t.title}),O.jsx(fr,{variant:"primary",href:t.url,target:"_blank",rel:"noopener noreferrer",children:"Ir al enlace"})]})]},n))})]}),prt="/TutorIngles/assets/Presentation_01-Ck1qVsXL.png",grt="/TutorIngles/assets/Game_01-QwzBtf1o.png",une="/TutorIngles/assets/Dictionary-pBSeGeB4.png",dne="/TutorIngles/assets/Pronunciation-DDloxzgK.png",mrt="/TutorIngles/assets/Interactive_video-BelfCrwB.png",vrt=[{title:"Culture and traditions vocabulary",image:prt,url:"https://gamma.app/docs/Youth-Culture--4xh4jd5otf2d7bu"},{title:"Game",image:grt,url:"https://wordwall.net/es/resource/100423355/colombian-traditions"},{title:"Dictionary",image:une,url:"https://www.wordreference.com/"},{title:"Pronunciation",image:dne,url:"https://es.forvo.com/"},{title:"Interactive Video",image:mrt,url:"https://universidadantonionario.h5p.com/content/1292730562493151328"}],yrt=()=>O.jsx(gN,{links:vrt}),wrt="/TutorIngles/assets/Quiz_01-Erqg12wu.png",Crt=[{title:"Dictionary",image:une,url:"https://www.wordreference.com/"},{title:"Pronunciation",image:dne,url:"https://es.forvo.com/"},{title:"Physical appearance quiz",image:wrt,url:"https://wayground.com/admin/quiz/69052dd70234d61642cf8701?source=lesson_share_email?lid=tijx3xumsgg5&&utm_source=braze&utm_medium=email&utm_term=button&utm_campaign=Resource_Share_V3"}],brt=()=>O.jsx(gN,{links:Crt}),xrt="/TutorIngles/assets/Research_01-BXdscUfW.png",Srt=[{title:"Roots and Faces",image:xrt,url:"https://wordwall.net/es/resource/99800242/roots-faces"}],Ert=()=>O.jsx(gN,{links:Srt}),Trt=({links:e})=>O.jsxs("div",{className:"practice-container",children:[O.jsx("h2",{className:"mb-4 text-center fw-bold",children:"Cultural Stories and Expressions"}),O.jsx("div",{className:"practice-grid",children:e.map((t,n)=>O.jsxs(Mn,{className:"practice-card shadow-sm",children:[O.jsx("div",{className:"video-wrapper",children:O.jsxs("video",{controls:!0,children:[O.jsx("source",{src:t.videoUrl,type:"video/mp4"}),"Tu navegador no soporta reproduccin de video."]})}),O.jsx(Mn.Body,{children:O.jsx(Mn.Title,{children:t.title})})]},n))})]}),Rrt="/TutorIngles/assets/story_1-BLzuww2A.mp4",_rt="/TutorIngles/assets/story_2-DNGaPqyz.mp4",Art="/TutorIngles/assets/story_3-CaWRtnlF.mp4",krt="/TutorIngles/assets/story_4-ZMn8KLmu.mp4",Drt=[{title:"Raizal community",videoUrl:Rrt},{title:"Afrocolombian community",videoUrl:_rt},{title:"Kogui child",videoUrl:Art},{title:"Roma woman",videoUrl:krt}],Prt=()=>O.jsx(Trt,{links:Drt});function Dx(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ok={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Nz;function Frt(){return Nz||(Nz=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var h=typeof Dx=="function"&&Dx;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var g=i[c]={exports:{}};r[c][0].call(g.exports,function(v){var y=r[c][1][v];return o(y||v)},g,g.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Dx=="function"&&Dx,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,p,g,v,y,C=[],b=0,E=l.length,x=E,k=s.getTypeOf(l)!=="string";b<l.length;)x=E-b,h=k?(c=l[b++],u=b<E?l[b++]:0,b<E?l[b++]:0):(c=l.charCodeAt(b++),u=b<E?l.charCodeAt(b++):0,b<E?l.charCodeAt(b++):0),p=c>>2,g=(3&c)<<4|u>>4,v=1<x?(15&u)<<2|h>>6:64,y=2<x?63&h:64,C.push(a.charAt(p)+a.charAt(g)+a.charAt(v)+a.charAt(y));return C.join("")},i.decode=function(l){var c,u,h,p,g,v,y=0,C=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var E,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=o.uint8array?new Uint8Array(0|x):new Array(0|x);y<l.length;)c=a.indexOf(l.charAt(y++))<<2|(p=a.indexOf(l.charAt(y++)))>>4,u=(15&p)<<4|(g=a.indexOf(l.charAt(y++)))>>2,h=(3&g)<<6|(v=a.indexOf(l.charAt(y++))),E[C++]=c,g!==64&&(E[C++]=u),v!==64&&(E[C++]=h);return E}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,h,p,g,v){this.compressedSize=u,this.uncompressedSize=h,this.crc32=p,this.compression=g,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,p){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,h,p){var g=o,v=p+h;c^=-1;for(var y=p;y<v;y++)c=c>>>8^g[255&(c^u[y])];return-1^c}(0|l,a,a.length,0):function(c,u,h,p){var g=o,v=p+h;c^=-1;for(var y=p;y<v;y++)c=c>>>8^g[255&(c^u.charCodeAt(y))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(g,v){var y,C="";for(y=0;y<v;y++)C+=String.fromCharCode(255&g),g>>>=8;return C}function o(g,v,y,C,b,E){var x,k,D=g.file,R=g.compression,_=E!==c.utf8encode,I=a.transformTo("string",E(D.name)),F=a.transformTo("string",c.utf8encode(D.name)),N=D.comment,B=a.transformTo("string",E(N)),M=a.transformTo("string",c.utf8encode(N)),L=F.length!==D.name.length,H=M.length!==N.length,ee="",re="",te="",he=D.dir,Z=D.date,V={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(V.crc32=g.crc32,V.compressedSize=g.compressedSize,V.uncompressedSize=g.uncompressedSize);var X=0;v&&(X|=8),_||!L&&!H||(X|=2048);var z=0,G=0;he&&(z|=16),b==="UNIX"?(G=798,z|=function(J,pe){var He=J;return J||(He=pe?16893:33204),(65535&He)<<16}(D.unixPermissions,he)):(G=20,z|=function(J){return 63&(J||0)}(D.dosPermissions)),x=Z.getUTCHours(),x<<=6,x|=Z.getUTCMinutes(),x<<=5,x|=Z.getUTCSeconds()/2,k=Z.getUTCFullYear()-1980,k<<=4,k|=Z.getUTCMonth()+1,k<<=5,k|=Z.getUTCDate(),L&&(re=s(1,1)+s(u(I),4)+F,ee+="up"+s(re.length,2)+re),H&&(te=s(1,1)+s(u(B),4)+M,ee+="uc"+s(te.length,2)+te);var Y="";return Y+=`
\0`,Y+=s(X,2),Y+=R.magic,Y+=s(x,2),Y+=s(k,2),Y+=s(V.crc32,4),Y+=s(V.compressedSize,4),Y+=s(V.uncompressedSize,4),Y+=s(I.length,2),Y+=s(ee.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Y+I+ee,dirRecord:h.CENTRAL_FILE_HEADER+s(G,2)+Y+s(B.length,2)+"\0\0\0\0"+s(z,4)+s(C,4)+I+ee+B}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),h=n("../signature");function p(g,v,y,C){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=C,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(g){var v=g.meta.percent||0,y=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,l.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-C-1))/y:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var v=this.streamFiles&&!g.file.dir;if(v){var y=o(g,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var v=this.streamFiles&&!g.file.dir,y=o(g,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:function(C){return h.DATA_DESCRIPTOR+s(C.crc32,4)+s(C.compressedSize,4)+s(C.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-g,C=function(b,E,x,k,D){var R=a.transformTo("string",D(k));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(E,4)+s(x,4)+s(R.length,2)+R}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var v=this;return g.on("data",function(y){v.processChunk(y)}),g.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),g.on("error",function(y){v.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var v=this._sources;if(!l.prototype.error.call(this,g))return!1;for(var y=0;y<v.length;y++)try{v[y].error(g)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var g=this._sources,v=0;v<g.length;v++)g[v].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(p,g){h++;var v=function(E,x){var k=E||x,D=s[k];if(!D)throw new Error(k+" is not a valid compression method !");return D}(g.options.compression,l.compression),y=g.options.compressionOptions||l.compressionOptions||{},C=g.dir,b=g.date;g._compressWorker(v,y).withStreamInfo("file",{name:p,dir:C,date:b,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function h(p){return new o.Promise(function(g,v){var y=p.decompressed.getContentWorker().pipe(new c);y.on("error",function(C){v(C)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(p,g){var v=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(y){var C=new l(g);return C.load(y),C}).then(function(y){var C=[o.Promise.resolve(y)],b=y.files;if(g.checkCRC32)for(var E=0;E<b.length;E++)C.push(h(b[E]));return o.Promise.all(C)}).then(function(y){for(var C=y.shift(),b=C.files,E=0;E<b.length;E++){var x=b[E],k=x.fileNameStr,D=s.resolve(x.fileNameStr);v.file(D,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:g.createFolders}),x.dir||(v.file(D).unsafeOriginalName=k)}return C.zipComment.length&&(v.comment=C.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(h,p){u.push(h)||u._helper.pause(),c&&c(p)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(D,R,_){var I,F=a.getTypeOf(R),N=a.extend(_||{},u);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(D=b(D)),N.createFolders&&(I=C(D))&&E.call(this,I,!0);var B=F==="string"&&N.binary===!1&&N.base64===!1;_&&_.binary!==void 0||(N.binary=!B),(R instanceof h&&R.uncompressedSize===0||N.dir||!R||R.length===0)&&(N.base64=!1,N.binary=!0,R="",N.compression="STORE",F="string");var M=null;M=R instanceof h||R instanceof l?R:v.isNode&&v.isStream(R)?new y(D,R):a.prepareContent(D,R,N.binary,N.optimizedBinaryString,N.base64);var L=new p(D,M,N);this.files[D]=L}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),g=n("./generate"),v=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),C=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var R=D.lastIndexOf("/");return 0<R?D.substring(0,R):""},b=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},E=function(D,R){return R=R!==void 0?R:u.createFolders,D=b(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:R}),this.files[D]};function x(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var R,_,I;for(R in this.files)I=this.files[R],(_=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&D(_,I)},filter:function(D){var R=[];return this.forEach(function(_,I){D(_,I)&&R.push(I)}),R},file:function(D,R,_){if(arguments.length!==1)return D=this.root+D,s.call(this,D,R,_),this;if(x(D)){var I=D;return this.filter(function(N,B){return!B.dir&&I.test(N)})}var F=this.files[this.root+D];return F&&!F.dir?F:null},folder:function(D){if(!D)return this;if(x(D))return this.filter(function(F,N){return N.dir&&D.test(F)});var R=this.root+D,_=E.call(this,R),I=this.clone();return I.root=_.name,I},remove:function(D){D=this.root+D;var R=this.files[D];if(R||(D.slice(-1)!=="/"&&(D+="/"),R=this.files[D]),R&&!R.dir)delete this.files[D];else for(var _=this.filter(function(F,N){return N.name.slice(0,D.length)===D}),I=0;I<_.length;I++)delete this.files[_[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var R,_={};try{if((_=a.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");a.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var I=_.comment||this.comment||"";R=g.generateWorker(this,_,I)}catch(F){(R=new l("error")).error(F)}return new c(R,_.type||"string",_.mimeType)},generateAsync:function(D,R){return this.generateInternalStream(D).accumulate(R)},generateNodeStream:function(D,R){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(R)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===h)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&h===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(h){var p=s.getTypeOf(h);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(h):o.uint8array?new u(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),h=null;if(c.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,y){return new u.Promise(function(C,b){var E=[],x=v._internalType,k=v._outputType,D=v._mimeType;v.on("data",function(R,_){E.push(R),y&&y(_)}).on("error",function(R){E=[],b(R)}).on("end",function(){try{var R=function(_,I,F){switch(_){case"blob":return s.newBlob(s.transformTo("arraybuffer",I),F);case"base64":return l.encode(I);default:return s.transformTo(_,I)}}(k,function(_,I){var F,N=0,B=null,M=0;for(F=0;F<I.length;F++)M+=I[F].length;switch(_){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(B=new Uint8Array(M),F=0;F<I.length;F++)B.set(I[F],N),N+=I[F].length;return B;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+_+"'")}}(x,E),D);C(R)}catch(_){b(_)}E=[]}).resume()})}function g(v,y,C){var b=y;switch(y){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=y,this._mimeType=C,s.checkSupport(b),this._worker=v.pipe(new o(b)),v.lock()}catch(E){this._worker=new a("error"),this._worker.error(E)}}g.prototype={accumulate:function(v){return p(this,v)},on:function(v,y){var C=this;return v==="data"?this._worker.on(v,function(b){y.call(C,b.data,b.meta)}):this._worker.on(v,function(){s.delay(y,arguments,C)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(g){return o.nodebuffer?a.newBufferFrom(g,"utf-8"):function(v){var y,C,b,E,x,k=v.length,D=0;for(E=0;E<k;E++)(64512&(C=v.charCodeAt(E)))==55296&&E+1<k&&(64512&(b=v.charCodeAt(E+1)))==56320&&(C=65536+(C-55296<<10)+(b-56320),E++),D+=C<128?1:C<2048?2:C<65536?3:4;for(y=o.uint8array?new Uint8Array(D):new Array(D),E=x=0;x<D;E++)(64512&(C=v.charCodeAt(E)))==55296&&E+1<k&&(64512&(b=v.charCodeAt(E+1)))==56320&&(C=65536+(C-55296<<10)+(b-56320),E++),C<128?y[x++]=C:(C<2048?y[x++]=192|C>>>6:(C<65536?y[x++]=224|C>>>12:(y[x++]=240|C>>>18,y[x++]=128|C>>>12&63),y[x++]=128|C>>>6&63),y[x++]=128|63&C);return y}(g)},i.utf8decode=function(g){return o.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):function(v){var y,C,b,E,x=v.length,k=new Array(2*x);for(y=C=0;y<x;)if((b=v[y++])<128)k[C++]=b;else if(4<(E=c[b]))k[C++]=65533,y+=E-1;else{for(b&=E===2?31:E===3?15:7;1<E&&y<x;)b=b<<6|63&v[y++],E--;1<E?k[C++]=65533:b<65536?k[C++]=b:(b-=65536,k[C++]=55296|b>>10&1023,k[C++]=56320|1023&b)}return k.length!==C&&(k.subarray?k=k.subarray(0,C):k.length=C),s.applyFromCharCode(k)}(g=s.transformTo(o.uint8array?"uint8array":"array",g))},s.inherits(h,l),h.prototype.processChunk=function(g){var v=s.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var C=function(E,x){var k;for((x=x||E.length)>E.length&&(x=E.length),k=x-1;0<=k&&(192&E[k])==128;)k--;return k<0||k===0?x:k+c[E[k]]>x?k:x}(v),b=v;C!==v.length&&(o.uint8array?(b=v.subarray(0,C),this.leftOver=v.subarray(C,v.length)):(b=v.slice(0,C),this.leftOver=v.slice(C,v.length))),this.push({data:i.utf8decode(b),meta:g.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(p,l),p.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(y){return y}function u(y,C){for(var b=0;b<y.length;++b)C[b]=255&y.charCodeAt(b);return C}n("setimmediate"),i.newBlob=function(y,C){i.checkSupport("blob");try{return new Blob([y],{type:C})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(y),b.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,C,b){var E=[],x=0,k=y.length;if(k<=b)return String.fromCharCode.apply(null,y);for(;x<k;)C==="array"||C==="nodebuffer"?E.push(String.fromCharCode.apply(null,y.slice(x,Math.min(x+b,k)))):E.push(String.fromCharCode.apply(null,y.subarray(x,Math.min(x+b,k)))),x+=b;return E.join("")},stringifyByChar:function(y){for(var C="",b=0;b<y.length;b++)C+=String.fromCharCode(y[b]);return C},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var C=65536,b=i.getTypeOf(y),E=!0;if(b==="uint8array"?E=h.applyCanBeUsed.uint8array:b==="nodebuffer"&&(E=h.applyCanBeUsed.nodebuffer),E)for(;1<C;)try{return h.stringifyByChunk(y,b,C)}catch{C=Math.floor(C/2)}return h.stringifyByChar(y)}function g(y,C){for(var b=0;b<y.length;b++)C[b]=y[b];return C}i.applyFromCharCode=p;var v={};v.string={string:c,array:function(y){return u(y,new Array(y.length))},arraybuffer:function(y){return v.string.uint8array(y).buffer},uint8array:function(y){return u(y,new Uint8Array(y.length))},nodebuffer:function(y){return u(y,a.allocBuffer(y.length))}},v.array={string:p,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},v.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},v.uint8array={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return a.newBufferFrom(y)}},v.nodebuffer={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return v.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,C){if(C=C||"",!y)return C;i.checkSupport(y);var b=i.getTypeOf(C);return v[b][y](C)},i.resolve=function(y){for(var C=y.split("/"),b=[],E=0;E<C.length;E++){var x=C[E];x==="."||x===""&&E!==0&&E!==C.length-1||(x===".."?b.pop():b.push(x))}return b.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var C,b,E="";for(b=0;b<(y||"").length;b++)E+="\\x"+((C=y.charCodeAt(b))<16?"0":"")+C.toString(16).toUpperCase();return E},i.delay=function(y,C,b){setImmediate(function(){y.apply(b||null,C||[])})},i.inherits=function(y,C){function b(){}b.prototype=C.prototype,y.prototype=new b},i.extend=function(){var y,C,b={};for(y=0;y<arguments.length;y++)for(C in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],C)&&b[C]===void 0&&(b[C]=arguments[y][C]);return b},i.prepareContent=function(y,C,b,E,x){return l.Promise.resolve(C).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(D,R){var _=new FileReader;_.onload=function(I){D(I.target.result)},_.onerror=function(I){R(I.target.error)},_.readAsArrayBuffer(k)}):k}).then(function(k){var D=i.getTypeOf(k);return D?(D==="arraybuffer"?k=i.transformTo("uint8array",k):D==="string"&&(x?k=o.decode(k):b&&E!==!0&&(k=function(R){return u(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(h)+")")}},isSignature:function(h,p){var g=this.reader.index;this.reader.setIndex(h);var v=this.reader.readString(4)===p;return this.reader.setIndex(g),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",g=o.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,g,v=this.zip64EndOfCentralSize-44;0<v;)h=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var v=p-g;if(0<v)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),h=n("./support");function p(g,v){this.options=g,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var v,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(C){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===C)return u[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var v=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(v),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var v,y,C,b=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<b;)v=g.readInt(2),y=g.readInt(2),C=g.readData(y),this.extraFields[v]={id:v,length:y,value:C};g.setIndex(b)},handleUTF8:function(){var g=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var b=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var v=s(g.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var v=s(g.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(g.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,y,C){this.name=v,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=y,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var y=null,C="string";try{if(!v)throw new Error("No output type specified.");var b=(C=v.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),y=this._decompressWorker();var E=!this._dataBinary;E&&!b&&(y=y.pipe(new l.Utf8EncodeWorker)),!E&&b&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(x){(y=new u("error")).error(x)}return new o(y,C,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(C,v,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<h.length;g++)s.prototype[h[g]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var p=new s.MessageChannel;p.port1.onmessage=v,o=function(){p.port2.postMessage(0)}}var g=[];function v(){var y,C;a=!0;for(var b=g.length;b;){for(C=g,g=[],y=-1;++y<b;)C[y]();b=g.length}a=!1}r.exports=function(y){g.push(y)!==1||a||o()}}).call(this,typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&y(this,b)}function p(b,E,x){this.promise=b,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function g(b,E,x){s(function(){var k;try{k=E(x)}catch(D){return a.reject(b,D)}k===b?a.reject(b,new TypeError("Cannot resolve promise with itself")):a.resolve(b,k)})}function v(b){var E=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof E=="function")return function(){E.apply(b,arguments)}}function y(b,E){var x=!1;function k(_){x||(x=!0,a.reject(b,_))}function D(_){x||(x=!0,a.resolve(b,_))}var R=C(function(){E(D,k)});R.status==="error"&&k(R.value)}function C(b,E){var x={};try{x.value=b(E),x.status="success"}catch(k){x.status="error",x.value=k}return x}(r.exports=h).prototype.finally=function(b){if(typeof b!="function")return this;var E=this.constructor;return this.then(function(x){return E.resolve(b()).then(function(){return x})},function(x){return E.resolve(b()).then(function(){throw x})})},h.prototype.catch=function(b){return this.then(null,b)},h.prototype.then=function(b,E){if(typeof b!="function"&&this.state===c||typeof E!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==u?g(x,this.state===c?b:E,this.outcome):this.queue.push(new p(x,b,E)),x},p.prototype.callFulfilled=function(b){a.resolve(this.promise,b)},p.prototype.otherCallFulfilled=function(b){g(this.promise,this.onFulfilled,b)},p.prototype.callRejected=function(b){a.reject(this.promise,b)},p.prototype.otherCallRejected=function(b){g(this.promise,this.onRejected,b)},a.resolve=function(b,E){var x=C(v,E);if(x.status==="error")return a.reject(b,x.value);var k=x.value;if(k)y(b,k);else{b.state=c,b.outcome=E;for(var D=-1,R=b.queue.length;++D<R;)b.queue[D].callFulfilled(E)}return b},a.reject=function(b,E){b.state=l,b.outcome=E;for(var x=-1,k=b.queue.length;++x<k;)b.queue[x].callRejected(E);return b},h.resolve=function(b){return b instanceof this?b:a.resolve(new this(o),b)},h.reject=function(b){var E=new this(o);return a.reject(E,b)},h.all=function(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=b.length,k=!1;if(!x)return this.resolve([]);for(var D=new Array(x),R=0,_=-1,I=new this(o);++_<x;)F(b[_],_);return I;function F(N,B){E.resolve(N).then(function(M){D[B]=M,++R!==x||k||(k=!0,a.resolve(I,D))},function(M){k||(k=!0,a.reject(I,M))})}},h.race=function(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=b.length,k=!1;if(!x)return this.resolve([]);for(var D=-1,R=new this(o);++D<x;)_=b[D],E.resolve(_).then(function(I){k||(k=!0,a.resolve(R,I))},function(I){k||(k=!0,a.reject(R,I))});var _;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,h=0,p=-1,g=0,v=8;function y(b){if(!(this instanceof y))return new y(b);this.options=o.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},b||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(x!==h)throw new Error(l[x]);if(E.header&&s.deflateSetHeader(this.strm,E.header),E.dictionary){var k;if(k=typeof E.dictionary=="string"?a.string2buf(E.dictionary):u.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(x=s.deflateSetDictionary(this.strm,k))!==h)throw new Error(l[x]);this._dict_set=!0}}function C(b,E){var x=new y(E);if(x.push(b,!0),x.err)throw x.msg||l[x.err];return x.result}y.prototype.push=function(b,E){var x,k,D=this.strm,R=this.options.chunkSize;if(this.ended)return!1;k=E===~~E?E:E===!0?4:0,typeof b=="string"?D.input=a.string2buf(b):u.call(b)==="[object ArrayBuffer]"?D.input=new Uint8Array(b):D.input=b,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(R),D.next_out=0,D.avail_out=R),(x=s.deflate(D,k))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(D.output,D.next_out))):this.onData(o.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&x!==1);return k===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):k!==2||(this.onEnd(h),!(D.avail_out=0))},y.prototype.onData=function(b){this.chunks.push(b)},y.prototype.onEnd=function(b){b===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=y,i.deflate=C,i.deflateRaw=function(b,E){return(E=E||{}).raw=!0,C(b,E)},i.gzip=function(b,E){return(E=E||{}).gzip=!0,C(b,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||y&&y.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,C.windowBits);if(b!==l.Z_OK)throw new Error(c[b]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function v(y,C){var b=new g(C);if(b.push(y,!0),b.err)throw b.msg||c[b.err];return b.result}g.prototype.push=function(y,C){var b,E,x,k,D,R,_=this.strm,I=this.options.chunkSize,F=this.options.dictionary,N=!1;if(this.ended)return!1;E=C===~~C?C:C===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?_.input=a.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?_.input=new Uint8Array(y):_.input=y,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(I),_.next_out=0,_.avail_out=I),(b=s.inflate(_,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&F&&(R=typeof F=="string"?a.string2buf(F):p.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,b=s.inflateSetDictionary(this.strm,R)),b===l.Z_BUF_ERROR&&N===!0&&(b=l.Z_OK,N=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&b!==l.Z_STREAM_END&&(_.avail_in!==0||E!==l.Z_FINISH&&E!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(_.output,_.next_out),k=_.next_out-x,D=a.buf2string(_.output,x),_.next_out=k,_.avail_out=I-k,k&&o.arraySet(_.output,_.output,x,k,0),this.onData(D)):this.onData(o.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(N=!0)}while((0<_.avail_in||_.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(E=l.Z_FINISH),E===l.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):E!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(_.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=g,i.inflate=v,i.inflateRaw=function(y,C){return(C=C||{}).raw=!0,v(y,C)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,h,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),p);else for(var g=0;g<h;g++)l[p+g]=c[u+g]},flattenChunks:function(l){var c,u,h,p,g,v;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(v=new Uint8Array(h),c=p=0,u=l.length;c<u;c++)g=l[c],v.set(g,p),p+=g.length;return v}},a={arraySet:function(l,c,u,h,p){for(var g=0;g<h;g++)l[p+g]=c[u+g]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,p){if(p<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,p));for(var g="",v=0;v<p;v++)g+=String.fromCharCode(h[v]);return g}l[254]=l[254]=1,i.string2buf=function(h){var p,g,v,y,C,b=h.length,E=0;for(y=0;y<b;y++)(64512&(g=h.charCodeAt(y)))==55296&&y+1<b&&(64512&(v=h.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),E+=g<128?1:g<2048?2:g<65536?3:4;for(p=new s.Buf8(E),y=C=0;C<E;y++)(64512&(g=h.charCodeAt(y)))==55296&&y+1<b&&(64512&(v=h.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),g<128?p[C++]=g:(g<2048?p[C++]=192|g>>>6:(g<65536?p[C++]=224|g>>>12:(p[C++]=240|g>>>18,p[C++]=128|g>>>12&63),p[C++]=128|g>>>6&63),p[C++]=128|63&g);return p},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var p=new s.Buf8(h.length),g=0,v=p.length;g<v;g++)p[g]=h.charCodeAt(g);return p},i.buf2string=function(h,p){var g,v,y,C,b=p||h.length,E=new Array(2*b);for(g=v=0;g<b;)if((y=h[g++])<128)E[v++]=y;else if(4<(C=l[y]))E[v++]=65533,g+=C-1;else{for(y&=C===2?31:C===3?15:7;1<C&&g<b;)y=y<<6|63&h[g++],C--;1<C?E[v++]=65533:y<65536?E[v++]=y:(y-=65536,E[v++]=55296|y>>10&1023,E[v++]=56320|1023&y)}return u(E,v)},i.utf8border=function(h,p){var g;for((p=p||h.length)>h.length&&(p=h.length),g=p-1;0<=g&&(192&h[g])==128;)g--;return g<0||g===0?p:g+l[h[g]]>p?g:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,c){var u=s,h=c+l;o^=-1;for(var p=c;p<h;p++)o=o>>>8^u[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),h=0,p=4,g=0,v=-2,y=-1,C=4,b=2,E=8,x=9,k=286,D=30,R=19,_=2*k+1,I=15,F=3,N=258,B=N+F+1,M=42,L=113,H=1,ee=2,re=3,te=4;function he(j,Ce){return j.msg=u[Ce],Ce}function Z(j){return(j<<1)-(4<j?9:0)}function V(j){for(var Ce=j.length;0<=--Ce;)j[Ce]=0}function X(j){var Ce=j.state,ye=Ce.pending;ye>j.avail_out&&(ye=j.avail_out),ye!==0&&(o.arraySet(j.output,Ce.pending_buf,Ce.pending_out,ye,j.next_out),j.next_out+=ye,Ce.pending_out+=ye,j.total_out+=ye,j.avail_out-=ye,Ce.pending-=ye,Ce.pending===0&&(Ce.pending_out=0))}function z(j,Ce){a._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,Ce),j.block_start=j.strstart,X(j.strm)}function G(j,Ce){j.pending_buf[j.pending++]=Ce}function Y(j,Ce){j.pending_buf[j.pending++]=Ce>>>8&255,j.pending_buf[j.pending++]=255&Ce}function J(j,Ce){var ye,Q,oe=j.max_chain_length,ve=j.strstart,Fe=j.prev_length,Ue=j.nice_match,xe=j.strstart>j.w_size-B?j.strstart-(j.w_size-B):0,Ke=j.window,st=j.w_mask,Je=j.prev,fe=j.strstart+N,Me=Ke[ve+Fe-1],We=Ke[ve+Fe];j.prev_length>=j.good_match&&(oe>>=2),Ue>j.lookahead&&(Ue=j.lookahead);do if(Ke[(ye=Ce)+Fe]===We&&Ke[ye+Fe-1]===Me&&Ke[ye]===Ke[ve]&&Ke[++ye]===Ke[ve+1]){ve+=2,ye++;do;while(Ke[++ve]===Ke[++ye]&&Ke[++ve]===Ke[++ye]&&Ke[++ve]===Ke[++ye]&&Ke[++ve]===Ke[++ye]&&Ke[++ve]===Ke[++ye]&&Ke[++ve]===Ke[++ye]&&Ke[++ve]===Ke[++ye]&&Ke[++ve]===Ke[++ye]&&ve<fe);if(Q=N-(fe-ve),ve=fe-N,Fe<Q){if(j.match_start=Ce,Ue<=(Fe=Q))break;Me=Ke[ve+Fe-1],We=Ke[ve+Fe]}}while((Ce=Je[Ce&st])>xe&&--oe!=0);return Fe<=j.lookahead?Fe:j.lookahead}function pe(j){var Ce,ye,Q,oe,ve,Fe,Ue,xe,Ke,st,Je=j.w_size;do{if(oe=j.window_size-j.lookahead-j.strstart,j.strstart>=Je+(Je-B)){for(o.arraySet(j.window,j.window,Je,Je,0),j.match_start-=Je,j.strstart-=Je,j.block_start-=Je,Ce=ye=j.hash_size;Q=j.head[--Ce],j.head[Ce]=Je<=Q?Q-Je:0,--ye;);for(Ce=ye=Je;Q=j.prev[--Ce],j.prev[Ce]=Je<=Q?Q-Je:0,--ye;);oe+=Je}if(j.strm.avail_in===0)break;if(Fe=j.strm,Ue=j.window,xe=j.strstart+j.lookahead,Ke=oe,st=void 0,st=Fe.avail_in,Ke<st&&(st=Ke),ye=st===0?0:(Fe.avail_in-=st,o.arraySet(Ue,Fe.input,Fe.next_in,st,xe),Fe.state.wrap===1?Fe.adler=l(Fe.adler,Ue,st,xe):Fe.state.wrap===2&&(Fe.adler=c(Fe.adler,Ue,st,xe)),Fe.next_in+=st,Fe.total_in+=st,st),j.lookahead+=ye,j.lookahead+j.insert>=F)for(ve=j.strstart-j.insert,j.ins_h=j.window[ve],j.ins_h=(j.ins_h<<j.hash_shift^j.window[ve+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[ve+F-1])&j.hash_mask,j.prev[ve&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=ve,ve++,j.insert--,!(j.lookahead+j.insert<F)););}while(j.lookahead<B&&j.strm.avail_in!==0)}function He(j,Ce){for(var ye,Q;;){if(j.lookahead<B){if(pe(j),j.lookahead<B&&Ce===h)return H;if(j.lookahead===0)break}if(ye=0,j.lookahead>=F&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+F-1])&j.hash_mask,ye=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),ye!==0&&j.strstart-ye<=j.w_size-B&&(j.match_length=J(j,ye)),j.match_length>=F)if(Q=a._tr_tally(j,j.strstart-j.match_start,j.match_length-F),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=F){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+F-1])&j.hash_mask,ye=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else Q=a._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(Q&&(z(j,!1),j.strm.avail_out===0))return H}return j.insert=j.strstart<F-1?j.strstart:F-1,Ce===p?(z(j,!0),j.strm.avail_out===0?re:te):j.last_lit&&(z(j,!1),j.strm.avail_out===0)?H:ee}function Re(j,Ce){for(var ye,Q,oe;;){if(j.lookahead<B){if(pe(j),j.lookahead<B&&Ce===h)return H;if(j.lookahead===0)break}if(ye=0,j.lookahead>=F&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+F-1])&j.hash_mask,ye=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=F-1,ye!==0&&j.prev_length<j.max_lazy_match&&j.strstart-ye<=j.w_size-B&&(j.match_length=J(j,ye),j.match_length<=5&&(j.strategy===1||j.match_length===F&&4096<j.strstart-j.match_start)&&(j.match_length=F-1)),j.prev_length>=F&&j.match_length<=j.prev_length){for(oe=j.strstart+j.lookahead-F,Q=a._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-F),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=oe&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+F-1])&j.hash_mask,ye=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=F-1,j.strstart++,Q&&(z(j,!1),j.strm.avail_out===0))return H}else if(j.match_available){if((Q=a._tr_tally(j,0,j.window[j.strstart-1]))&&z(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return H}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(Q=a._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<F-1?j.strstart:F-1,Ce===p?(z(j,!0),j.strm.avail_out===0?re:te):j.last_lit&&(z(j,!1),j.strm.avail_out===0)?H:ee}function Te(j,Ce,ye,Q,oe){this.good_length=j,this.max_lazy=Ce,this.nice_length=ye,this.max_chain=Q,this.func=oe}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*_),this.dyn_dtree=new o.Buf16(2*(2*D+1)),this.bl_tree=new o.Buf16(2*(2*R+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(I+1),this.heap=new o.Buf16(2*k+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*k+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function et(j){var Ce;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=b,(Ce=j.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?M:L,j.adler=Ce.wrap===2?0:1,Ce.last_flush=h,a._tr_init(Ce),g):he(j,v)}function ue(j){var Ce=et(j);return Ce===g&&function(ye){ye.window_size=2*ye.w_size,V(ye.head),ye.max_lazy_match=s[ye.level].max_lazy,ye.good_match=s[ye.level].good_length,ye.nice_match=s[ye.level].nice_length,ye.max_chain_length=s[ye.level].max_chain,ye.strstart=0,ye.block_start=0,ye.lookahead=0,ye.insert=0,ye.match_length=ye.prev_length=F-1,ye.match_available=0,ye.ins_h=0}(j.state),Ce}function St(j,Ce,ye,Q,oe,ve){if(!j)return v;var Fe=1;if(Ce===y&&(Ce=6),Q<0?(Fe=0,Q=-Q):15<Q&&(Fe=2,Q-=16),oe<1||x<oe||ye!==E||Q<8||15<Q||Ce<0||9<Ce||ve<0||C<ve)return he(j,v);Q===8&&(Q=9);var Ue=new De;return(j.state=Ue).strm=j,Ue.wrap=Fe,Ue.gzhead=null,Ue.w_bits=Q,Ue.w_size=1<<Ue.w_bits,Ue.w_mask=Ue.w_size-1,Ue.hash_bits=oe+7,Ue.hash_size=1<<Ue.hash_bits,Ue.hash_mask=Ue.hash_size-1,Ue.hash_shift=~~((Ue.hash_bits+F-1)/F),Ue.window=new o.Buf8(2*Ue.w_size),Ue.head=new o.Buf16(Ue.hash_size),Ue.prev=new o.Buf16(Ue.w_size),Ue.lit_bufsize=1<<oe+6,Ue.pending_buf_size=4*Ue.lit_bufsize,Ue.pending_buf=new o.Buf8(Ue.pending_buf_size),Ue.d_buf=1*Ue.lit_bufsize,Ue.l_buf=3*Ue.lit_bufsize,Ue.level=Ce,Ue.strategy=ve,Ue.method=ye,ue(j)}s=[new Te(0,0,0,0,function(j,Ce){var ye=65535;for(ye>j.pending_buf_size-5&&(ye=j.pending_buf_size-5);;){if(j.lookahead<=1){if(pe(j),j.lookahead===0&&Ce===h)return H;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var Q=j.block_start+ye;if((j.strstart===0||j.strstart>=Q)&&(j.lookahead=j.strstart-Q,j.strstart=Q,z(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-B&&(z(j,!1),j.strm.avail_out===0))return H}return j.insert=0,Ce===p?(z(j,!0),j.strm.avail_out===0?re:te):(j.strstart>j.block_start&&(z(j,!1),j.strm.avail_out),H)}),new Te(4,4,8,4,He),new Te(4,5,16,8,He),new Te(4,6,32,32,He),new Te(4,4,16,16,Re),new Te(8,16,32,32,Re),new Te(8,16,128,128,Re),new Te(8,32,128,256,Re),new Te(32,128,258,1024,Re),new Te(32,258,258,4096,Re)],i.deflateInit=function(j,Ce){return St(j,Ce,E,15,8,0)},i.deflateInit2=St,i.deflateReset=ue,i.deflateResetKeep=et,i.deflateSetHeader=function(j,Ce){return j&&j.state?j.state.wrap!==2?v:(j.state.gzhead=Ce,g):v},i.deflate=function(j,Ce){var ye,Q,oe,ve;if(!j||!j.state||5<Ce||Ce<0)return j?he(j,v):v;if(Q=j.state,!j.output||!j.input&&j.avail_in!==0||Q.status===666&&Ce!==p)return he(j,j.avail_out===0?-5:v);if(Q.strm=j,ye=Q.last_flush,Q.last_flush=Ce,Q.status===M)if(Q.wrap===2)j.adler=0,G(Q,31),G(Q,139),G(Q,8),Q.gzhead?(G(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),G(Q,255&Q.gzhead.time),G(Q,Q.gzhead.time>>8&255),G(Q,Q.gzhead.time>>16&255),G(Q,Q.gzhead.time>>24&255),G(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),G(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(G(Q,255&Q.gzhead.extra.length),G(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&(j.adler=c(j.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(G(Q,0),G(Q,0),G(Q,0),G(Q,0),G(Q,0),G(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),G(Q,3),Q.status=L);else{var Fe=E+(Q.w_bits-8<<4)<<8;Fe|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(Fe|=32),Fe+=31-Fe%31,Q.status=L,Y(Q,Fe),Q.strstart!==0&&(Y(Q,j.adler>>>16),Y(Q,65535&j.adler)),j.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(oe=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>oe&&(j.adler=c(j.adler,Q.pending_buf,Q.pending-oe,oe)),X(j),oe=Q.pending,Q.pending!==Q.pending_buf_size));)G(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>oe&&(j.adler=c(j.adler,Q.pending_buf,Q.pending-oe,oe)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){oe=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>oe&&(j.adler=c(j.adler,Q.pending_buf,Q.pending-oe,oe)),X(j),oe=Q.pending,Q.pending===Q.pending_buf_size)){ve=1;break}ve=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,G(Q,ve)}while(ve!==0);Q.gzhead.hcrc&&Q.pending>oe&&(j.adler=c(j.adler,Q.pending_buf,Q.pending-oe,oe)),ve===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){oe=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>oe&&(j.adler=c(j.adler,Q.pending_buf,Q.pending-oe,oe)),X(j),oe=Q.pending,Q.pending===Q.pending_buf_size)){ve=1;break}ve=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,G(Q,ve)}while(ve!==0);Q.gzhead.hcrc&&Q.pending>oe&&(j.adler=c(j.adler,Q.pending_buf,Q.pending-oe,oe)),ve===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&X(j),Q.pending+2<=Q.pending_buf_size&&(G(Q,255&j.adler),G(Q,j.adler>>8&255),j.adler=0,Q.status=L)):Q.status=L),Q.pending!==0){if(X(j),j.avail_out===0)return Q.last_flush=-1,g}else if(j.avail_in===0&&Z(Ce)<=Z(ye)&&Ce!==p)return he(j,-5);if(Q.status===666&&j.avail_in!==0)return he(j,-5);if(j.avail_in!==0||Q.lookahead!==0||Ce!==h&&Q.status!==666){var Ue=Q.strategy===2?function(xe,Ke){for(var st;;){if(xe.lookahead===0&&(pe(xe),xe.lookahead===0)){if(Ke===h)return H;break}if(xe.match_length=0,st=a._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++,st&&(z(xe,!1),xe.strm.avail_out===0))return H}return xe.insert=0,Ke===p?(z(xe,!0),xe.strm.avail_out===0?re:te):xe.last_lit&&(z(xe,!1),xe.strm.avail_out===0)?H:ee}(Q,Ce):Q.strategy===3?function(xe,Ke){for(var st,Je,fe,Me,We=xe.window;;){if(xe.lookahead<=N){if(pe(xe),xe.lookahead<=N&&Ke===h)return H;if(xe.lookahead===0)break}if(xe.match_length=0,xe.lookahead>=F&&0<xe.strstart&&(Je=We[fe=xe.strstart-1])===We[++fe]&&Je===We[++fe]&&Je===We[++fe]){Me=xe.strstart+N;do;while(Je===We[++fe]&&Je===We[++fe]&&Je===We[++fe]&&Je===We[++fe]&&Je===We[++fe]&&Je===We[++fe]&&Je===We[++fe]&&Je===We[++fe]&&fe<Me);xe.match_length=N-(Me-fe),xe.match_length>xe.lookahead&&(xe.match_length=xe.lookahead)}if(xe.match_length>=F?(st=a._tr_tally(xe,1,xe.match_length-F),xe.lookahead-=xe.match_length,xe.strstart+=xe.match_length,xe.match_length=0):(st=a._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++),st&&(z(xe,!1),xe.strm.avail_out===0))return H}return xe.insert=0,Ke===p?(z(xe,!0),xe.strm.avail_out===0?re:te):xe.last_lit&&(z(xe,!1),xe.strm.avail_out===0)?H:ee}(Q,Ce):s[Q.level].func(Q,Ce);if(Ue!==re&&Ue!==te||(Q.status=666),Ue===H||Ue===re)return j.avail_out===0&&(Q.last_flush=-1),g;if(Ue===ee&&(Ce===1?a._tr_align(Q):Ce!==5&&(a._tr_stored_block(Q,0,0,!1),Ce===3&&(V(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),X(j),j.avail_out===0))return Q.last_flush=-1,g}return Ce!==p?g:Q.wrap<=0?1:(Q.wrap===2?(G(Q,255&j.adler),G(Q,j.adler>>8&255),G(Q,j.adler>>16&255),G(Q,j.adler>>24&255),G(Q,255&j.total_in),G(Q,j.total_in>>8&255),G(Q,j.total_in>>16&255),G(Q,j.total_in>>24&255)):(Y(Q,j.adler>>>16),Y(Q,65535&j.adler)),X(j),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?g:1)},i.deflateEnd=function(j){var Ce;return j&&j.state?(Ce=j.state.status)!==M&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==L&&Ce!==666?he(j,v):(j.state=null,Ce===L?he(j,-3):g):v},i.deflateSetDictionary=function(j,Ce){var ye,Q,oe,ve,Fe,Ue,xe,Ke,st=Ce.length;if(!j||!j.state||(ve=(ye=j.state).wrap)===2||ve===1&&ye.status!==M||ye.lookahead)return v;for(ve===1&&(j.adler=l(j.adler,Ce,st,0)),ye.wrap=0,st>=ye.w_size&&(ve===0&&(V(ye.head),ye.strstart=0,ye.block_start=0,ye.insert=0),Ke=new o.Buf8(ye.w_size),o.arraySet(Ke,Ce,st-ye.w_size,ye.w_size,0),Ce=Ke,st=ye.w_size),Fe=j.avail_in,Ue=j.next_in,xe=j.input,j.avail_in=st,j.next_in=0,j.input=Ce,pe(ye);ye.lookahead>=F;){for(Q=ye.strstart,oe=ye.lookahead-(F-1);ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[Q+F-1])&ye.hash_mask,ye.prev[Q&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=Q,Q++,--oe;);ye.strstart=Q,ye.lookahead=F-1,pe(ye)}return ye.strstart+=ye.lookahead,ye.block_start=ye.strstart,ye.insert=ye.lookahead,ye.lookahead=0,ye.match_length=ye.prev_length=F-1,ye.match_available=0,j.next_in=Ue,j.input=xe,j.avail_in=Fe,ye.wrap=ve,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,c,u,h,p,g,v,y,C,b,E,x,k,D,R,_,I,F,N,B,M,L,H,ee;a=s.state,l=s.next_in,H=s.input,c=l+(s.avail_in-5),u=s.next_out,ee=s.output,h=u-(o-s.avail_out),p=u+(s.avail_out-257),g=a.dmax,v=a.wsize,y=a.whave,C=a.wnext,b=a.window,E=a.hold,x=a.bits,k=a.lencode,D=a.distcode,R=(1<<a.lenbits)-1,_=(1<<a.distbits)-1;e:do{x<15&&(E+=H[l++]<<x,x+=8,E+=H[l++]<<x,x+=8),I=k[E&R];t:for(;;){if(E>>>=F=I>>>24,x-=F,(F=I>>>16&255)===0)ee[u++]=65535&I;else{if(!(16&F)){if((64&F)==0){I=k[(65535&I)+(E&(1<<F)-1)];continue t}if(32&F){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}N=65535&I,(F&=15)&&(x<F&&(E+=H[l++]<<x,x+=8),N+=E&(1<<F)-1,E>>>=F,x-=F),x<15&&(E+=H[l++]<<x,x+=8,E+=H[l++]<<x,x+=8),I=D[E&_];n:for(;;){if(E>>>=F=I>>>24,x-=F,!(16&(F=I>>>16&255))){if((64&F)==0){I=D[(65535&I)+(E&(1<<F)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(B=65535&I,x<(F&=15)&&(E+=H[l++]<<x,(x+=8)<F&&(E+=H[l++]<<x,x+=8)),g<(B+=E&(1<<F)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(E>>>=F,x-=F,(F=u-h)<B){if(y<(F=B-F)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(L=b,(M=0)===C){if(M+=v-F,F<N){for(N-=F;ee[u++]=b[M++],--F;);M=u-B,L=ee}}else if(C<F){if(M+=v+C-F,(F-=C)<N){for(N-=F;ee[u++]=b[M++],--F;);if(M=0,C<N){for(N-=F=C;ee[u++]=b[M++],--F;);M=u-B,L=ee}}}else if(M+=C-F,F<N){for(N-=F;ee[u++]=b[M++],--F;);M=u-B,L=ee}for(;2<N;)ee[u++]=L[M++],ee[u++]=L[M++],ee[u++]=L[M++],N-=3;N&&(ee[u++]=L[M++],1<N&&(ee[u++]=L[M++]))}else{for(M=u-B;ee[u++]=ee[M++],ee[u++]=ee[M++],ee[u++]=ee[M++],2<(N-=3););N&&(ee[u++]=ee[M++],1<N&&(ee[u++]=ee[M++]))}break}}break}}while(l<c&&u<p);l-=N=x>>3,E&=(1<<(x-=N<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<p?p-u+257:257-(u-p),a.hold=E,a.bits=x}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,h=2,p=0,g=-2,v=1,y=852,C=592;function b(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(M){var L;return M&&M.state?(L=M.state,M.total_in=M.total_out=L.total=0,M.msg="",L.wrap&&(M.adler=1&L.wrap),L.mode=v,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new s.Buf32(y),L.distcode=L.distdyn=new s.Buf32(C),L.sane=1,L.back=-1,p):g}function k(M){var L;return M&&M.state?((L=M.state).wsize=0,L.whave=0,L.wnext=0,x(M)):g}function D(M,L){var H,ee;return M&&M.state?(ee=M.state,L<0?(H=0,L=-L):(H=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?g:(ee.window!==null&&ee.wbits!==L&&(ee.window=null),ee.wrap=H,ee.wbits=L,k(M))):g}function R(M,L){var H,ee;return M?(ee=new E,(M.state=ee).window=null,(H=D(M,L))!==p&&(M.state=null),H):g}var _,I,F=!0;function N(M){if(F){var L;for(_=new s.Buf32(512),I=new s.Buf32(32),L=0;L<144;)M.lens[L++]=8;for(;L<256;)M.lens[L++]=9;for(;L<280;)M.lens[L++]=7;for(;L<288;)M.lens[L++]=8;for(c(u,M.lens,0,288,_,0,M.work,{bits:9}),L=0;L<32;)M.lens[L++]=5;c(h,M.lens,0,32,I,0,M.work,{bits:5}),F=!1}M.lencode=_,M.lenbits=9,M.distcode=I,M.distbits=5}function B(M,L,H,ee){var re,te=M.state;return te.window===null&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new s.Buf8(te.wsize)),ee>=te.wsize?(s.arraySet(te.window,L,H-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(ee<(re=te.wsize-te.wnext)&&(re=ee),s.arraySet(te.window,L,H-ee,re,te.wnext),(ee-=re)?(s.arraySet(te.window,L,H-ee,ee,0),te.wnext=ee,te.whave=te.wsize):(te.wnext+=re,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=re))),0}i.inflateReset=k,i.inflateReset2=D,i.inflateResetKeep=x,i.inflateInit=function(M){return R(M,15)},i.inflateInit2=R,i.inflate=function(M,L){var H,ee,re,te,he,Z,V,X,z,G,Y,J,pe,He,Re,Te,De,et,ue,St,j,Ce,ye,Q,oe=0,ve=new s.Buf8(4),Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return g;(H=M.state).mode===12&&(H.mode=13),he=M.next_out,re=M.output,V=M.avail_out,te=M.next_in,ee=M.input,Z=M.avail_in,X=H.hold,z=H.bits,G=Z,Y=V,Ce=p;e:for(;;)switch(H.mode){case v:if(H.wrap===0){H.mode=13;break}for(;z<16;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(2&H.wrap&&X===35615){ve[H.check=0]=255&X,ve[1]=X>>>8&255,H.check=a(H.check,ve,2,0),z=X=0,H.mode=2;break}if(H.flags=0,H.head&&(H.head.done=!1),!(1&H.wrap)||(((255&X)<<8)+(X>>8))%31){M.msg="incorrect header check",H.mode=30;break}if((15&X)!=8){M.msg="unknown compression method",H.mode=30;break}if(z-=4,j=8+(15&(X>>>=4)),H.wbits===0)H.wbits=j;else if(j>H.wbits){M.msg="invalid window size",H.mode=30;break}H.dmax=1<<j,M.adler=H.check=1,H.mode=512&X?10:12,z=X=0;break;case 2:for(;z<16;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(H.flags=X,(255&H.flags)!=8){M.msg="unknown compression method",H.mode=30;break}if(57344&H.flags){M.msg="unknown header flags set",H.mode=30;break}H.head&&(H.head.text=X>>8&1),512&H.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,H.check=a(H.check,ve,2,0)),z=X=0,H.mode=3;case 3:for(;z<32;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}H.head&&(H.head.time=X),512&H.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,ve[2]=X>>>16&255,ve[3]=X>>>24&255,H.check=a(H.check,ve,4,0)),z=X=0,H.mode=4;case 4:for(;z<16;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}H.head&&(H.head.xflags=255&X,H.head.os=X>>8),512&H.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,H.check=a(H.check,ve,2,0)),z=X=0,H.mode=5;case 5:if(1024&H.flags){for(;z<16;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}H.length=X,H.head&&(H.head.extra_len=X),512&H.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,H.check=a(H.check,ve,2,0)),z=X=0}else H.head&&(H.head.extra=null);H.mode=6;case 6:if(1024&H.flags&&(Z<(J=H.length)&&(J=Z),J&&(H.head&&(j=H.head.extra_len-H.length,H.head.extra||(H.head.extra=new Array(H.head.extra_len)),s.arraySet(H.head.extra,ee,te,J,j)),512&H.flags&&(H.check=a(H.check,ee,J,te)),Z-=J,te+=J,H.length-=J),H.length))break e;H.length=0,H.mode=7;case 7:if(2048&H.flags){if(Z===0)break e;for(J=0;j=ee[te+J++],H.head&&j&&H.length<65536&&(H.head.name+=String.fromCharCode(j)),j&&J<Z;);if(512&H.flags&&(H.check=a(H.check,ee,J,te)),Z-=J,te+=J,j)break e}else H.head&&(H.head.name=null);H.length=0,H.mode=8;case 8:if(4096&H.flags){if(Z===0)break e;for(J=0;j=ee[te+J++],H.head&&j&&H.length<65536&&(H.head.comment+=String.fromCharCode(j)),j&&J<Z;);if(512&H.flags&&(H.check=a(H.check,ee,J,te)),Z-=J,te+=J,j)break e}else H.head&&(H.head.comment=null);H.mode=9;case 9:if(512&H.flags){for(;z<16;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(X!==(65535&H.check)){M.msg="header crc mismatch",H.mode=30;break}z=X=0}H.head&&(H.head.hcrc=H.flags>>9&1,H.head.done=!0),M.adler=H.check=0,H.mode=12;break;case 10:for(;z<32;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}M.adler=H.check=b(X),z=X=0,H.mode=11;case 11:if(H.havedict===0)return M.next_out=he,M.avail_out=V,M.next_in=te,M.avail_in=Z,H.hold=X,H.bits=z,2;M.adler=H.check=1,H.mode=12;case 12:if(L===5||L===6)break e;case 13:if(H.last){X>>>=7&z,z-=7&z,H.mode=27;break}for(;z<3;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}switch(H.last=1&X,z-=1,3&(X>>>=1)){case 0:H.mode=14;break;case 1:if(N(H),H.mode=20,L!==6)break;X>>>=2,z-=2;break e;case 2:H.mode=17;break;case 3:M.msg="invalid block type",H.mode=30}X>>>=2,z-=2;break;case 14:for(X>>>=7&z,z-=7&z;z<32;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if((65535&X)!=(X>>>16^65535)){M.msg="invalid stored block lengths",H.mode=30;break}if(H.length=65535&X,z=X=0,H.mode=15,L===6)break e;case 15:H.mode=16;case 16:if(J=H.length){if(Z<J&&(J=Z),V<J&&(J=V),J===0)break e;s.arraySet(re,ee,te,J,he),Z-=J,te+=J,V-=J,he+=J,H.length-=J;break}H.mode=12;break;case 17:for(;z<14;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(H.nlen=257+(31&X),X>>>=5,z-=5,H.ndist=1+(31&X),X>>>=5,z-=5,H.ncode=4+(15&X),X>>>=4,z-=4,286<H.nlen||30<H.ndist){M.msg="too many length or distance symbols",H.mode=30;break}H.have=0,H.mode=18;case 18:for(;H.have<H.ncode;){for(;z<3;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}H.lens[Fe[H.have++]]=7&X,X>>>=3,z-=3}for(;H.have<19;)H.lens[Fe[H.have++]]=0;if(H.lencode=H.lendyn,H.lenbits=7,ye={bits:H.lenbits},Ce=c(0,H.lens,0,19,H.lencode,0,H.work,ye),H.lenbits=ye.bits,Ce){M.msg="invalid code lengths set",H.mode=30;break}H.have=0,H.mode=19;case 19:for(;H.have<H.nlen+H.ndist;){for(;Te=(oe=H.lencode[X&(1<<H.lenbits)-1])>>>16&255,De=65535&oe,!((Re=oe>>>24)<=z);){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(De<16)X>>>=Re,z-=Re,H.lens[H.have++]=De;else{if(De===16){for(Q=Re+2;z<Q;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(X>>>=Re,z-=Re,H.have===0){M.msg="invalid bit length repeat",H.mode=30;break}j=H.lens[H.have-1],J=3+(3&X),X>>>=2,z-=2}else if(De===17){for(Q=Re+3;z<Q;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}z-=Re,j=0,J=3+(7&(X>>>=Re)),X>>>=3,z-=3}else{for(Q=Re+7;z<Q;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}z-=Re,j=0,J=11+(127&(X>>>=Re)),X>>>=7,z-=7}if(H.have+J>H.nlen+H.ndist){M.msg="invalid bit length repeat",H.mode=30;break}for(;J--;)H.lens[H.have++]=j}}if(H.mode===30)break;if(H.lens[256]===0){M.msg="invalid code -- missing end-of-block",H.mode=30;break}if(H.lenbits=9,ye={bits:H.lenbits},Ce=c(u,H.lens,0,H.nlen,H.lencode,0,H.work,ye),H.lenbits=ye.bits,Ce){M.msg="invalid literal/lengths set",H.mode=30;break}if(H.distbits=6,H.distcode=H.distdyn,ye={bits:H.distbits},Ce=c(h,H.lens,H.nlen,H.ndist,H.distcode,0,H.work,ye),H.distbits=ye.bits,Ce){M.msg="invalid distances set",H.mode=30;break}if(H.mode=20,L===6)break e;case 20:H.mode=21;case 21:if(6<=Z&&258<=V){M.next_out=he,M.avail_out=V,M.next_in=te,M.avail_in=Z,H.hold=X,H.bits=z,l(M,Y),he=M.next_out,re=M.output,V=M.avail_out,te=M.next_in,ee=M.input,Z=M.avail_in,X=H.hold,z=H.bits,H.mode===12&&(H.back=-1);break}for(H.back=0;Te=(oe=H.lencode[X&(1<<H.lenbits)-1])>>>16&255,De=65535&oe,!((Re=oe>>>24)<=z);){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(Te&&(240&Te)==0){for(et=Re,ue=Te,St=De;Te=(oe=H.lencode[St+((X&(1<<et+ue)-1)>>et)])>>>16&255,De=65535&oe,!(et+(Re=oe>>>24)<=z);){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}X>>>=et,z-=et,H.back+=et}if(X>>>=Re,z-=Re,H.back+=Re,H.length=De,Te===0){H.mode=26;break}if(32&Te){H.back=-1,H.mode=12;break}if(64&Te){M.msg="invalid literal/length code",H.mode=30;break}H.extra=15&Te,H.mode=22;case 22:if(H.extra){for(Q=H.extra;z<Q;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}H.length+=X&(1<<H.extra)-1,X>>>=H.extra,z-=H.extra,H.back+=H.extra}H.was=H.length,H.mode=23;case 23:for(;Te=(oe=H.distcode[X&(1<<H.distbits)-1])>>>16&255,De=65535&oe,!((Re=oe>>>24)<=z);){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if((240&Te)==0){for(et=Re,ue=Te,St=De;Te=(oe=H.distcode[St+((X&(1<<et+ue)-1)>>et)])>>>16&255,De=65535&oe,!(et+(Re=oe>>>24)<=z);){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}X>>>=et,z-=et,H.back+=et}if(X>>>=Re,z-=Re,H.back+=Re,64&Te){M.msg="invalid distance code",H.mode=30;break}H.offset=De,H.extra=15&Te,H.mode=24;case 24:if(H.extra){for(Q=H.extra;z<Q;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}H.offset+=X&(1<<H.extra)-1,X>>>=H.extra,z-=H.extra,H.back+=H.extra}if(H.offset>H.dmax){M.msg="invalid distance too far back",H.mode=30;break}H.mode=25;case 25:if(V===0)break e;if(J=Y-V,H.offset>J){if((J=H.offset-J)>H.whave&&H.sane){M.msg="invalid distance too far back",H.mode=30;break}pe=J>H.wnext?(J-=H.wnext,H.wsize-J):H.wnext-J,J>H.length&&(J=H.length),He=H.window}else He=re,pe=he-H.offset,J=H.length;for(V<J&&(J=V),V-=J,H.length-=J;re[he++]=He[pe++],--J;);H.length===0&&(H.mode=21);break;case 26:if(V===0)break e;re[he++]=H.length,V--,H.mode=21;break;case 27:if(H.wrap){for(;z<32;){if(Z===0)break e;Z--,X|=ee[te++]<<z,z+=8}if(Y-=V,M.total_out+=Y,H.total+=Y,Y&&(M.adler=H.check=H.flags?a(H.check,re,Y,he-Y):o(H.check,re,Y,he-Y)),Y=V,(H.flags?X:b(X))!==H.check){M.msg="incorrect data check",H.mode=30;break}z=X=0}H.mode=28;case 28:if(H.wrap&&H.flags){for(;z<32;){if(Z===0)break e;Z--,X+=ee[te++]<<z,z+=8}if(X!==(4294967295&H.total)){M.msg="incorrect length check",H.mode=30;break}z=X=0}H.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return g}return M.next_out=he,M.avail_out=V,M.next_in=te,M.avail_in=Z,H.hold=X,H.bits=z,(H.wsize||Y!==M.avail_out&&H.mode<30&&(H.mode<27||L!==4))&&B(M,M.output,M.next_out,Y-M.avail_out)?(H.mode=31,-4):(G-=M.avail_in,Y-=M.avail_out,M.total_in+=G,M.total_out+=Y,H.total+=Y,H.wrap&&Y&&(M.adler=H.check=H.flags?a(H.check,re,Y,M.next_out-Y):o(H.check,re,Y,M.next_out-Y)),M.data_type=H.bits+(H.last?64:0)+(H.mode===12?128:0)+(H.mode===20||H.mode===15?256:0),(G==0&&Y===0||L===4)&&Ce===p&&(Ce=-5),Ce)},i.inflateEnd=function(M){if(!M||!M.state)return g;var L=M.state;return L.window&&(L.window=null),M.state=null,p},i.inflateGetHeader=function(M,L){var H;return M&&M.state?(2&(H=M.state).wrap)==0?g:((H.head=L).done=!1,p):g},i.inflateSetDictionary=function(M,L){var H,ee=L.length;return M&&M.state?(H=M.state).wrap!==0&&H.mode!==11?g:H.mode===11&&o(1,L,ee,0)!==H.check?-3:B(M,L,ee,ee)?(H.mode=31,-4):(H.havedict=1,p):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,h,p,g,v,y,C,b){var E,x,k,D,R,_,I,F,N,B=b.bits,M=0,L=0,H=0,ee=0,re=0,te=0,he=0,Z=0,V=0,X=0,z=null,G=0,Y=new s.Buf16(16),J=new s.Buf16(16),pe=null,He=0;for(M=0;M<=15;M++)Y[M]=0;for(L=0;L<g;L++)Y[h[p+L]]++;for(re=B,ee=15;1<=ee&&Y[ee]===0;ee--);if(ee<re&&(re=ee),ee===0)return v[y++]=20971520,v[y++]=20971520,b.bits=1,0;for(H=1;H<ee&&Y[H]===0;H++);for(re<H&&(re=H),M=Z=1;M<=15;M++)if(Z<<=1,(Z-=Y[M])<0)return-1;if(0<Z&&(u===0||ee!==1))return-1;for(J[1]=0,M=1;M<15;M++)J[M+1]=J[M]+Y[M];for(L=0;L<g;L++)h[p+L]!==0&&(C[J[h[p+L]]++]=L);if(_=u===0?(z=pe=C,19):u===1?(z=o,G-=257,pe=a,He-=257,256):(z=l,pe=c,-1),M=H,R=y,he=L=X=0,k=-1,D=(V=1<<(te=re))-1,u===1&&852<V||u===2&&592<V)return 1;for(;;){for(I=M-he,N=C[L]<_?(F=0,C[L]):C[L]>_?(F=pe[He+C[L]],z[G+C[L]]):(F=96,0),E=1<<M-he,H=x=1<<te;v[R+(X>>he)+(x-=E)]=I<<24|F<<16|N|0,x!==0;);for(E=1<<M-1;X&E;)E>>=1;if(E!==0?(X&=E-1,X+=E):X=0,L++,--Y[M]==0){if(M===ee)break;M=h[p+C[L]]}if(re<M&&(X&D)!==k){for(he===0&&(he=re),R+=H,Z=1<<(te=M-he);te+he<ee&&!((Z-=Y[te+he])<=0);)te++,Z<<=1;if(V+=1<<te,u===1&&852<V||u===2&&592<V)return 1;v[k=X&D]=re<<24|te<<16|R-y|0}}return X!==0&&(v[R+X]=M-he<<24|64<<16|0),b.bits=re,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(oe){for(var ve=oe.length;0<=--ve;)oe[ve]=0}var c=0,u=29,h=256,p=h+1+u,g=30,v=19,y=2*p+1,C=15,b=16,E=7,x=256,k=16,D=17,R=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(p+2));l(B);var M=new Array(2*g);l(M);var L=new Array(512);l(L);var H=new Array(256);l(H);var ee=new Array(u);l(ee);var re,te,he,Z=new Array(g);function V(oe,ve,Fe,Ue,xe){this.static_tree=oe,this.extra_bits=ve,this.extra_base=Fe,this.elems=Ue,this.max_length=xe,this.has_stree=oe&&oe.length}function X(oe,ve){this.dyn_tree=oe,this.max_code=0,this.stat_desc=ve}function z(oe){return oe<256?L[oe]:L[256+(oe>>>7)]}function G(oe,ve){oe.pending_buf[oe.pending++]=255&ve,oe.pending_buf[oe.pending++]=ve>>>8&255}function Y(oe,ve,Fe){oe.bi_valid>b-Fe?(oe.bi_buf|=ve<<oe.bi_valid&65535,G(oe,oe.bi_buf),oe.bi_buf=ve>>b-oe.bi_valid,oe.bi_valid+=Fe-b):(oe.bi_buf|=ve<<oe.bi_valid&65535,oe.bi_valid+=Fe)}function J(oe,ve,Fe){Y(oe,Fe[2*ve],Fe[2*ve+1])}function pe(oe,ve){for(var Fe=0;Fe|=1&oe,oe>>>=1,Fe<<=1,0<--ve;);return Fe>>>1}function He(oe,ve,Fe){var Ue,xe,Ke=new Array(C+1),st=0;for(Ue=1;Ue<=C;Ue++)Ke[Ue]=st=st+Fe[Ue-1]<<1;for(xe=0;xe<=ve;xe++){var Je=oe[2*xe+1];Je!==0&&(oe[2*xe]=pe(Ke[Je]++,Je))}}function Re(oe){var ve;for(ve=0;ve<p;ve++)oe.dyn_ltree[2*ve]=0;for(ve=0;ve<g;ve++)oe.dyn_dtree[2*ve]=0;for(ve=0;ve<v;ve++)oe.bl_tree[2*ve]=0;oe.dyn_ltree[2*x]=1,oe.opt_len=oe.static_len=0,oe.last_lit=oe.matches=0}function Te(oe){8<oe.bi_valid?G(oe,oe.bi_buf):0<oe.bi_valid&&(oe.pending_buf[oe.pending++]=oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0}function De(oe,ve,Fe,Ue){var xe=2*ve,Ke=2*Fe;return oe[xe]<oe[Ke]||oe[xe]===oe[Ke]&&Ue[ve]<=Ue[Fe]}function et(oe,ve,Fe){for(var Ue=oe.heap[Fe],xe=Fe<<1;xe<=oe.heap_len&&(xe<oe.heap_len&&De(ve,oe.heap[xe+1],oe.heap[xe],oe.depth)&&xe++,!De(ve,Ue,oe.heap[xe],oe.depth));)oe.heap[Fe]=oe.heap[xe],Fe=xe,xe<<=1;oe.heap[Fe]=Ue}function ue(oe,ve,Fe){var Ue,xe,Ke,st,Je=0;if(oe.last_lit!==0)for(;Ue=oe.pending_buf[oe.d_buf+2*Je]<<8|oe.pending_buf[oe.d_buf+2*Je+1],xe=oe.pending_buf[oe.l_buf+Je],Je++,Ue===0?J(oe,xe,ve):(J(oe,(Ke=H[xe])+h+1,ve),(st=_[Ke])!==0&&Y(oe,xe-=ee[Ke],st),J(oe,Ke=z(--Ue),Fe),(st=I[Ke])!==0&&Y(oe,Ue-=Z[Ke],st)),Je<oe.last_lit;);J(oe,x,ve)}function St(oe,ve){var Fe,Ue,xe,Ke=ve.dyn_tree,st=ve.stat_desc.static_tree,Je=ve.stat_desc.has_stree,fe=ve.stat_desc.elems,Me=-1;for(oe.heap_len=0,oe.heap_max=y,Fe=0;Fe<fe;Fe++)Ke[2*Fe]!==0?(oe.heap[++oe.heap_len]=Me=Fe,oe.depth[Fe]=0):Ke[2*Fe+1]=0;for(;oe.heap_len<2;)Ke[2*(xe=oe.heap[++oe.heap_len]=Me<2?++Me:0)]=1,oe.depth[xe]=0,oe.opt_len--,Je&&(oe.static_len-=st[2*xe+1]);for(ve.max_code=Me,Fe=oe.heap_len>>1;1<=Fe;Fe--)et(oe,Ke,Fe);for(xe=fe;Fe=oe.heap[1],oe.heap[1]=oe.heap[oe.heap_len--],et(oe,Ke,1),Ue=oe.heap[1],oe.heap[--oe.heap_max]=Fe,oe.heap[--oe.heap_max]=Ue,Ke[2*xe]=Ke[2*Fe]+Ke[2*Ue],oe.depth[xe]=(oe.depth[Fe]>=oe.depth[Ue]?oe.depth[Fe]:oe.depth[Ue])+1,Ke[2*Fe+1]=Ke[2*Ue+1]=xe,oe.heap[1]=xe++,et(oe,Ke,1),2<=oe.heap_len;);oe.heap[--oe.heap_max]=oe.heap[1],function(We,dt){var bt,It,fn,Dt,$n,or,Cn=dt.dyn_tree,yr=dt.max_code,br=dt.stat_desc.static_tree,Vs=dt.stat_desc.has_stree,No=dt.stat_desc.extra_bits,Li=dt.stat_desc.extra_base,di=dt.stat_desc.max_length,Ci=0;for(Dt=0;Dt<=C;Dt++)We.bl_count[Dt]=0;for(Cn[2*We.heap[We.heap_max]+1]=0,bt=We.heap_max+1;bt<y;bt++)di<(Dt=Cn[2*Cn[2*(It=We.heap[bt])+1]+1]+1)&&(Dt=di,Ci++),Cn[2*It+1]=Dt,yr<It||(We.bl_count[Dt]++,$n=0,Li<=It&&($n=No[It-Li]),or=Cn[2*It],We.opt_len+=or*(Dt+$n),Vs&&(We.static_len+=or*(br[2*It+1]+$n)));if(Ci!==0){do{for(Dt=di-1;We.bl_count[Dt]===0;)Dt--;We.bl_count[Dt]--,We.bl_count[Dt+1]+=2,We.bl_count[di]--,Ci-=2}while(0<Ci);for(Dt=di;Dt!==0;Dt--)for(It=We.bl_count[Dt];It!==0;)yr<(fn=We.heap[--bt])||(Cn[2*fn+1]!==Dt&&(We.opt_len+=(Dt-Cn[2*fn+1])*Cn[2*fn],Cn[2*fn+1]=Dt),It--)}}(oe,ve),He(Ke,Me,oe.bl_count)}function j(oe,ve,Fe){var Ue,xe,Ke=-1,st=ve[1],Je=0,fe=7,Me=4;for(st===0&&(fe=138,Me=3),ve[2*(Fe+1)+1]=65535,Ue=0;Ue<=Fe;Ue++)xe=st,st=ve[2*(Ue+1)+1],++Je<fe&&xe===st||(Je<Me?oe.bl_tree[2*xe]+=Je:xe!==0?(xe!==Ke&&oe.bl_tree[2*xe]++,oe.bl_tree[2*k]++):Je<=10?oe.bl_tree[2*D]++:oe.bl_tree[2*R]++,Ke=xe,Me=(Je=0)===st?(fe=138,3):xe===st?(fe=6,3):(fe=7,4))}function Ce(oe,ve,Fe){var Ue,xe,Ke=-1,st=ve[1],Je=0,fe=7,Me=4;for(st===0&&(fe=138,Me=3),Ue=0;Ue<=Fe;Ue++)if(xe=st,st=ve[2*(Ue+1)+1],!(++Je<fe&&xe===st)){if(Je<Me)for(;J(oe,xe,oe.bl_tree),--Je!=0;);else xe!==0?(xe!==Ke&&(J(oe,xe,oe.bl_tree),Je--),J(oe,k,oe.bl_tree),Y(oe,Je-3,2)):Je<=10?(J(oe,D,oe.bl_tree),Y(oe,Je-3,3)):(J(oe,R,oe.bl_tree),Y(oe,Je-11,7));Ke=xe,Me=(Je=0)===st?(fe=138,3):xe===st?(fe=6,3):(fe=7,4)}}l(Z);var ye=!1;function Q(oe,ve,Fe,Ue){Y(oe,(c<<1)+(Ue?1:0),3),function(xe,Ke,st,Je){Te(xe),G(xe,st),G(xe,~st),s.arraySet(xe.pending_buf,xe.window,Ke,st,xe.pending),xe.pending+=st}(oe,ve,Fe)}i._tr_init=function(oe){ye||(function(){var ve,Fe,Ue,xe,Ke,st=new Array(C+1);for(xe=Ue=0;xe<u-1;xe++)for(ee[xe]=Ue,ve=0;ve<1<<_[xe];ve++)H[Ue++]=xe;for(H[Ue-1]=xe,xe=Ke=0;xe<16;xe++)for(Z[xe]=Ke,ve=0;ve<1<<I[xe];ve++)L[Ke++]=xe;for(Ke>>=7;xe<g;xe++)for(Z[xe]=Ke<<7,ve=0;ve<1<<I[xe]-7;ve++)L[256+Ke++]=xe;for(Fe=0;Fe<=C;Fe++)st[Fe]=0;for(ve=0;ve<=143;)B[2*ve+1]=8,ve++,st[8]++;for(;ve<=255;)B[2*ve+1]=9,ve++,st[9]++;for(;ve<=279;)B[2*ve+1]=7,ve++,st[7]++;for(;ve<=287;)B[2*ve+1]=8,ve++,st[8]++;for(He(B,p+1,st),ve=0;ve<g;ve++)M[2*ve+1]=5,M[2*ve]=pe(ve,5);re=new V(B,_,h+1,p,C),te=new V(M,I,0,g,C),he=new V(new Array(0),F,0,v,E)}(),ye=!0),oe.l_desc=new X(oe.dyn_ltree,re),oe.d_desc=new X(oe.dyn_dtree,te),oe.bl_desc=new X(oe.bl_tree,he),oe.bi_buf=0,oe.bi_valid=0,Re(oe)},i._tr_stored_block=Q,i._tr_flush_block=function(oe,ve,Fe,Ue){var xe,Ke,st=0;0<oe.level?(oe.strm.data_type===2&&(oe.strm.data_type=function(Je){var fe,Me=4093624447;for(fe=0;fe<=31;fe++,Me>>>=1)if(1&Me&&Je.dyn_ltree[2*fe]!==0)return o;if(Je.dyn_ltree[18]!==0||Je.dyn_ltree[20]!==0||Je.dyn_ltree[26]!==0)return a;for(fe=32;fe<h;fe++)if(Je.dyn_ltree[2*fe]!==0)return a;return o}(oe)),St(oe,oe.l_desc),St(oe,oe.d_desc),st=function(Je){var fe;for(j(Je,Je.dyn_ltree,Je.l_desc.max_code),j(Je,Je.dyn_dtree,Je.d_desc.max_code),St(Je,Je.bl_desc),fe=v-1;3<=fe&&Je.bl_tree[2*N[fe]+1]===0;fe--);return Je.opt_len+=3*(fe+1)+5+5+4,fe}(oe),xe=oe.opt_len+3+7>>>3,(Ke=oe.static_len+3+7>>>3)<=xe&&(xe=Ke)):xe=Ke=Fe+5,Fe+4<=xe&&ve!==-1?Q(oe,ve,Fe,Ue):oe.strategy===4||Ke===xe?(Y(oe,2+(Ue?1:0),3),ue(oe,B,M)):(Y(oe,4+(Ue?1:0),3),function(Je,fe,Me,We){var dt;for(Y(Je,fe-257,5),Y(Je,Me-1,5),Y(Je,We-4,4),dt=0;dt<We;dt++)Y(Je,Je.bl_tree[2*N[dt]+1],3);Ce(Je,Je.dyn_ltree,fe-1),Ce(Je,Je.dyn_dtree,Me-1)}(oe,oe.l_desc.max_code+1,oe.d_desc.max_code+1,st+1),ue(oe,oe.dyn_ltree,oe.dyn_dtree)),Re(oe),Ue&&Te(oe)},i._tr_tally=function(oe,ve,Fe){return oe.pending_buf[oe.d_buf+2*oe.last_lit]=ve>>>8&255,oe.pending_buf[oe.d_buf+2*oe.last_lit+1]=255&ve,oe.pending_buf[oe.l_buf+oe.last_lit]=255&Fe,oe.last_lit++,ve===0?oe.dyn_ltree[2*Fe]++:(oe.matches++,ve--,oe.dyn_ltree[2*(H[Fe]+h+1)]++,oe.dyn_dtree[2*z(ve)]++),oe.last_lit===oe.lit_bufsize-1},i._tr_align=function(oe){Y(oe,2,3),J(oe,x,B),function(ve){ve.bi_valid===16?(G(ve,ve.bi_buf),ve.bi_buf=0,ve.bi_valid=0):8<=ve.bi_valid&&(ve.pending_buf[ve.pending++]=255&ve.bi_buf,ve.bi_buf>>=8,ve.bi_valid-=8)}(oe)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,h,p=1,g={},v=!1,y=o.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(o);C=C&&C.setTimeout?C:o,l={}.toString.call(o.process)==="[object process]"?function(k){process.nextTick(function(){E(k)})}:function(){if(o.postMessage&&!o.importScripts){var k=!0,D=o.onmessage;return o.onmessage=function(){k=!1},o.postMessage("","*"),o.onmessage=D,k}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(k){o.postMessage(h+k,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(k){E(k.data)},function(k){u.port2.postMessage(k)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(k){var D=y.createElement("script");D.onreadystatechange=function(){E(k),D.onreadystatechange=null,c.removeChild(D),D=null},c.appendChild(D)}):function(k){setTimeout(E,0,k)},C.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var D=new Array(arguments.length-1),R=0;R<D.length;R++)D[R]=arguments[R+1];var _={callback:k,args:D};return g[p]=_,l(p),p++},C.clearImmediate=b}function b(k){delete g[k]}function E(k){if(v)setTimeout(E,0,k);else{var D=g[k];if(D){v=!0;try{(function(R){var _=R.callback,I=R.args;switch(I.length){case 0:_();break;case 1:_(I[0]);break;case 2:_(I[0],I[1]);break;case 3:_(I[0],I[1],I[2]);break;default:_.apply(a,I)}})(D)}finally{b(k),v=!1}}}}function x(k){k.source===o&&typeof k.data=="string"&&k.data.indexOf(h)===0&&E(+k.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Ok)),Ok.exports}var Irt=Frt();const hne=Tf(Irt),Ph=e=>e.replace(/[<>:"/\\|?*]/g,"").replace(/\s+/g,"_").replace(/_{2,}/g,"_").trim().substring(0,200),Mrt=e=>{const t=e.timestamp?new Date(e.timestamp).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Fecha desconocida",n=e.role==="user"?"Usuario":"Bot",r=typeof e.content=="string"?e.content:JSON.stringify(e.content,null,2);return`[${t}] ${n}: ${r}`},fne=(e,t)=>{const n=e.createdAt?new Date(e.createdAt).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Fecha desconocida";let r=`Ttulo: ${e.title}
`;return r+=`Fecha de creacin: ${n}
`,r+=`Modo: ${e.mode||"DEFAULT"}
`,r+=`${"=".repeat(50)}

`,t.length===0?r+=`No hay mensajes en esta conversacin.
`:t.forEach((i,s)=>{r+=Mrt(i),s<t.length-1&&(r+=`

`)}),r},Ort=async(e,t,n)=>{const r=new hne,i=Ph(e.name||e.email);if(t.length===0)r.file(`${i}/sin_conversaciones.txt`,`El estudiante ${e.name} (${e.email}) no tiene conversaciones.`);else for(const s of t)try{const o=await n(s.id,e.id),a=Ph(s.title||"sin_titulo"),l=fne(o.chat,o.messages);r.file(`${i}/${a}.txt`,l)}catch(o){console.error(`Error al obtener historial del chat ${s.id}:`,o);const a=Ph(s.title||"sin_titulo");r.file(`${i}/${a}_error.txt`,`Error al cargar esta conversacin: ${o instanceof Error?o.message:"Error desconocido"}`)}return await r.generateAsync({type:"blob"})},Nrt=async(e,t,n)=>{const r=new hne;for(const i of e)try{const s=await n(i.id),o=Ph(i.name||i.email);if(s.length===0)r.file(`${o}/sin_conversaciones.txt`,`El estudiante ${i.name} (${i.email}) no tiene conversaciones.`);else for(const a of s)try{const l=await t(a.id,i.id),c=Ph(a.title||"sin_titulo"),u=fne(l.chat,l.messages);r.file(`${o}/${c}.txt`,u)}catch(l){console.error(`Error al obtener historial del chat ${a.id}:`,l);const c=Ph(a.title||"sin_titulo");r.file(`${o}/${c}_error.txt`,`Error al cargar esta conversacin: ${l instanceof Error?l.message:"Error desconocido"}`)}}catch(s){console.error(`Error al listar chats del estudiante ${i.id}:`,s);const o=Ph(i.name||i.email);r.file(`${o}/error.txt`,`Error al cargar las conversaciones de este estudiante: ${s instanceof Error?s.message:"Error desconocido"}`)}return await r.generateAsync({type:"blob"})},Lz=(e,t)=>{const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},Lrt=()=>{const{user:e}=Ya(),[t,n]=A.useState(!1),[r,i]=A.useState(new Set),[s,o]=A.useState(new Set),a=e?.role===en.ADMINISTRATOR||e?.role===en.TEACHER;A.useEffect(()=>{(async()=>{try{const h=Ww(Pf(Bs,"chats")),p=await aI(h),g=new Set;p.forEach(v=>{const y=v.data();y.userId&&g.add(y.userId)}),o(g)}catch(h){console.error("Error al cargar usuarios con chats:",h)}})()},[]);const l=async u=>{if(!r.has(u.id)){i(h=>new Set(h).add(u.id)),cn.info(`Exportando conversaciones de ${u.name}...`,{position:"top-right",autoClose:2e3});try{const h=await kP(u.id),p=await Ort(u,h,DP),g=`conversaciones_${u.name||u.email}_${new Date().toISOString().split("T")[0]}.zip`;Lz(p,g),cn.success(`Conversaciones de ${u.name} exportadas correctamente`,{position:"top-right",autoClose:2e3})}catch(h){console.error("Error al exportar:",h),cn.error(`Error al exportar conversaciones de ${u.name}`,{position:"top-right",autoClose:3e3})}finally{i(h=>{const p=new Set(h);return p.delete(u.id),p})}}},c=async()=>{if(!t){n(!0),cn.info("Exportando todas las conversaciones... Esto puede tardar un momento.",{position:"top-right",autoClose:3e3});try{const u=await vI(),h=await Nrt(u,DP,kP),p=`todas_las_conversaciones_${new Date().toISOString().split("T")[0]}.zip`;Lz(h,p),cn.success("Todas las conversaciones exportadas correctamente",{position:"top-right",autoClose:2e3})}catch(u){console.error("Error al exportar todo:",u),cn.error("Error al exportar todas las conversaciones",{position:"top-right",autoClose:3e3})}finally{n(!1)}}};return O.jsxs("div",{children:[O.jsx("h1",{className:"mb-4",children:"Uso del Chatbot"}),a&&O.jsx("div",{className:"mb-3",children:O.jsx(fr,{variant:"outline-success",onClick:c,disabled:t,children:t?O.jsxs(O.Fragment,{children:[O.jsx(to,{size:"sm",className:"me-2"}),"Exportando..."]}):O.jsxs(O.Fragment,{children:[O.jsx(jue,{size:16,className:"me-2"}),"Exportar Todas las Conversaciones"]})})}),O.jsx(fX,{showRole:!1,title:"Estudiantes",placeholder:"Buscar estudiantes...",useStore:!1,userLabel:"estudiante",actionsColumn:{headerName:"Acciones",cellRenderer:({data:u})=>{const h=s.has(u.id);return O.jsxs("div",{className:"d-flex gap-2",children:[O.jsxs(kF,{to:`/dashboard/chatbot_view/${u.id}`,className:`btn btn-sm btn-outline-primary ${h?"":"disabled"}`,style:{pointerEvents:h?"auto":"none",opacity:h?1:.5},onClick:p=>{h||p.preventDefault()},children:[O.jsx(n2,{size:16,className:"me-1"}),"Ver Chats"]}),O.jsx(fr,{variant:"outline-success",size:"sm",onClick:()=>l(u),disabled:r.has(u.id),children:r.has(u.id)?O.jsx(to,{size:"sm"}):O.jsxs(O.Fragment,{children:[O.jsx(Vue,{size:16,className:"me-1"}),"Exportar"]})})]})}}}),O.jsx(yI,{})]})},Brt=()=>{const{userId:e}=r9(),t=Z1();return O.jsxs(O.Fragment,{children:[O.jsxs("button",{className:"btn btn-secondary mb-3",onClick:()=>t(-1),children:[O.jsx(Rue,{size:16,className:"me-1"}),"Regresar"]}),O.jsx(qte,{readOnly:!0,targetUserId:e})]})},Vrt=Use([{path:"/dashboard",element:O.jsx(Sle,{children:O.jsx(cwe,{})}),children:[{index:!0,element:O.jsx(og,{to:"mapa",replace:!0})},{path:"mapa",element:O.jsx(Ia,{allowedRoles:[en.STUDENT,en.TEACHER,en.ADMINISTRATOR],children:O.jsx(tCe,{})})},{path:"estudiantes",element:O.jsx(Ia,{allowedRoles:[en.TEACHER,en.ADMINISTRATOR],children:O.jsx(hUe,{})})},{path:"grupos",element:O.jsx(Ia,{allowedRoles:[en.TEACHER,en.ADMINISTRATOR],children:O.jsx(V7e,{})})},{path:"chatbot",element:O.jsx(Ia,{allowedRoles:[en.STUDENT,en.TEACHER,en.ADMINISTRATOR],children:O.jsx(ntt,{})})},{path:"chatbot_view/:userId",element:O.jsx(Ia,{allowedRoles:[en.TEACHER,en.ADMINISTRATOR],children:O.jsx(Brt,{})})},{path:"chatbot_usage",element:O.jsx(Ia,{allowedRoles:[en.TEACHER,en.ADMINISTRATOR],children:O.jsx(Lrt,{})})},{path:"galeria/:sessionId",element:O.jsx(Ia,{allowedRoles:[en.STUDENT,en.TEACHER,en.ADMINISTRATOR],children:O.jsx(frt,{})})},{path:"practice_1",element:O.jsx(Ia,{allowedRoles:[en.STUDENT,en.TEACHER,en.ADMINISTRATOR],children:O.jsx(yrt,{})})},{path:"practice_2",element:O.jsx(Ia,{allowedRoles:[en.STUDENT,en.TEACHER,en.ADMINISTRATOR],children:O.jsx(brt,{})})},{path:"research_exploration",element:O.jsx(Ia,{allowedRoles:[en.STUDENT,en.TEACHER,en.ADMINISTRATOR],children:O.jsx(Ert,{})})},{path:"cultural_stories_and_expressions",element:O.jsx(Ia,{allowedRoles:[en.STUDENT,en.TEACHER,en.ADMINISTRATOR],children:O.jsx(Prt,{})})}]},{path:"/",element:O.jsx(og,{to:"/dashboard",replace:!0})},{path:"/login",element:O.jsx(H7e,{children:O.jsx(zwe,{})})},{path:"*",element:O.jsx(og,{to:"/",replace:!0})}]);bxe.registerModules([ZIe]);function Hrt(){const[e,t]=A.useState(!0),{setUser:n}=Ya();return A.useEffect(()=>{const r=localStorage.getItem("user");r&&n(JSON.parse(r)),t(!1)},[]),e?O.jsx(to,{animation:"border",className:"d-flex justify-content-center align-items-center"}):O.jsx(eoe,{router:Vrt})}$re.createRoot(document.getElementById("root")).render(O.jsx(A.StrictMode,{children:O.jsx(Hrt,{})}));
